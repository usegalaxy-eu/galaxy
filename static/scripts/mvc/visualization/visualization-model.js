define(["exports","underscore","backbone","onload/loadConfig"],function(t,i,e,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VisualizationCollection=t.Visualization=void 0;var o=a(i),l=a(e);function a(t){return t&&t.__esModule?t:{default:t}}var u=t.Visualization=l.default.Model.extend({defaults:{config:{}},urlRoot:function(){return(0,n.getAppRoot)()+"api/visualizations"},initialize:function(t){o.default.isObject(t.config)&&o.default.isObject(this.defaults.config)&&o.default.defaults(t.config,this.defaults.config),this._setUpListeners()},_setUpListeners:function(){},set:function(t,i){if("config"===t){var e=this.get("config");o.default.isObject(e)&&(i=o.default.extend(o.default.clone(e),i))}return l.default.Model.prototype.set.call(this,t,i),this},toString:function(){var t=this.get("id")||"";return this.get("title")&&(t+=":".concat(this.get("title"))),"Visualization(".concat(t,")")}});t.VisualizationCollection=l.default.Collection.extend({model:u,url:function(){return"".concat((0,n.getAppRoot)(),"api/visualizations")},initialize:function(t,i){i=i||{}},set:function(t,i){var n=this;t=o.default.map(t,function(t){var i=n.get(t.id);if(!i)return t;var e=i.toJSON();return o.default.extend(e,t),e}),l.default.Collection.prototype.set.call(this,t,i)},toString:function(){return["VisualizationCollection(",[this.historyId,this.length].join(),")"].join("")}})});