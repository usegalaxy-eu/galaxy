define(["exports","app","utils/utils","mvc/ui/ui-misc","mvc/ui/ui-select-content","mvc/ui/ui-select-library","mvc/ui/ui-select-ftp","mvc/ui/ui-select-genomespace","mvc/ui/ui-rules-edit","mvc/ui/ui-color-picker"],function(e,n,i,l,t,a,d,o,c,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=m(i),r=m(l),s=m(t),p=m(a),_=m(d),h=m(o),w=m(c),g=m(f);function m(e){return e&&e.__esModule?e:{default:e}}e.default=Backbone.Model.extend({types:{text:"_fieldText",password:"_fieldText",select:"_fieldSelect",data_column:"_fieldSelect",genomebuild:"_fieldSelect",data:"_fieldData",data_collection:"_fieldData",integer:"_fieldSlider",float:"_fieldSlider",boolean:"_fieldBoolean",drill_down:"_fieldDrilldown",color:"_fieldColor",group_tag:"_fieldSelect",hidden:"_fieldHidden",hidden_data:"_fieldHidden",baseurl:"_fieldHidden",library_data:"_fieldLibrary",ftpfile:"_fieldFtp",upload:"_fieldUpload",rules:"_fieldRulesEdit",genomespacefile:"_fieldGenomeSpace"},create:function(e){var i=(0,n.getGalaxyInstance)(),l=this.types[e.type],t="function"==typeof this[l]?this[l].call(this,e):null;return t||(t=e.options?this._fieldSelect(e):this._fieldText(e),i.emit.debug("form-parameters::_addRow()","Auto matched field type (".concat(e.type,")."))),void 0===e.value&&(e.value=null),t.value(e.value),t},_fieldData:function(e){return new s.default.View({id:"field-".concat(e.id),extensions:e.extensions,optional:e.optional,multiple:e.multiple,type:e.type,flavor:e.flavor,data:e.options,onchange:e.onchange})},_fieldSelect:function(e){if(e.is_workflow)return this._fieldText(e);"data_column"==e.type&&(e.error_text="Missing columns in referenced dataset.");var i={checkboxes:r.default.Checkbox,radio:r.default.Radio,radiobutton:r.default.RadioButton}[e.display]||r.default.Select;return new r.default.TextSelect({id:"field-".concat(e.id),data:e.data,options:e.options,display:e.display,error_text:e.error_text||"No options available",readonly:e.readonly,multiple:e.multiple,optional:e.optional,onchange:e.onchange,individual:e.individual,searchable:"workflow"!==e.flavor,textable:e.textable,SelectClass:i})},_fieldDrilldown:function(e){return e.is_workflow?this._fieldText(e):new r.default.Drilldown.View({id:"field-".concat(e.id),data:e.options,display:e.display,optional:e.optional,onchange:e.onchange})},_fieldText:function(e){if(e.data_ref||e.options&&e.data)if(e.area=e.multiple,u.default.isEmpty(e.value))e.value=null;else if($.isArray(e.value)){var i="";for(var l in e.value){if(i+=String(e.value[l]),!e.multiple)break;i+="\n"}e.value=i}return new r.default.Input({id:"field-".concat(e.id),type:e.type,area:e.area,readonly:e.readonly,placeholder:e.placeholder,datalist:e.datalist,onchange:e.onchange})},_fieldSlider:function(e){return new r.default.Slider.View({id:"field-".concat(e.id),precise:"float"==e.type,is_workflow:e.is_workflow,min:e.min,max:e.max,onchange:e.onchange})},_fieldHidden:function(e){return new r.default.Hidden({id:"field-".concat(e.id),info:e.info})},_fieldBoolean:function(e){return new r.default.RadioButton.View({id:"field-".concat(e.id),data:[{label:"Yes",value:"true"},{label:"No",value:"false"}],onchange:e.onchange})},_fieldColor:function(e){return new g.default({id:"field-".concat(e.id),onchange:e.onchange})},_fieldLibrary:function(e){return new p.default.View({id:"field-".concat(e.id),optional:e.optional,multiple:e.multiple,onchange:e.onchange})},_fieldFtp:function(e){return new _.default.View({id:"field-".concat(e.id),optional:e.optional,multiple:e.multiple,onchange:e.onchange})},_fieldGenomeSpace:function(e){return new h.default.View({id:"field-".concat(e.id),onchange:e.onchange})},_fieldRulesEdit:function(e){return new w.default.View({id:"field-".concat(e.id),onchange:e.onchange,target:e.target})},_fieldUpload:function(e){return new r.default.Upload({id:"field-".concat(e.id),onchange:e.onchange})}})});