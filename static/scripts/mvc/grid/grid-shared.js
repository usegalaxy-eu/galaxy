define(["exports","underscore","jquery","backbone","onload/loadConfig","app","mvc/grid/grid-view","ui/loading-indicator"],function(e,t,a,i,l,d,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=p(t),o=p(a),c=p(i),u=p(r),h=p(n);function p(e){return e&&e.__esModule?e:{default:e}}var f=c.default.View.extend({initialize:function(e){var t=this,a=(0,d.getGalaxyInstance)();h.default.markViewAsLoading(this),this.model=new c.default.Model(e),this.item=this.model.get("item"),this.title=this.model.get("plural"),e&&e.active_tab&&(this.active_tab=e.active_tab),o.default.ajax({url:"".concat((0,l.getAppRoot)()+this.item,"/").concat(this.model.get("action_id"),"?").concat(o.default.param(a.params)),success:function(e){t.model.set(e),t.render()}})},render:function(){var e=new u.default(this.model.attributes);this.$el.empty().append(e.$el),this.$el.append(this._templateShared())},_templateShared:function(){var i=this,e=(0,o.default)("<div><br/><h2>".concat(this.model.get("plural")," shared with you by others</h2></div>")),t=this.model.attributes;if(t.shared_by_others&&0<t.shared_by_others.length){var d=(0,o.default)('<table class="colored" border="0" cellspacing="0" cellpadding="0" width="100%"><tr class="header"><th>Title</th><th>Owner</th></tr></table>');s.default.each(t.shared_by_others,function(e,t){var a="".concat((0,l.getAppRoot)()+i.item,"/display_by_username_and_slug?username=").concat(e.username,"&slug=").concat(e.slug);d.append('<tr><td><a href="'.concat(a,'">').concat(s.default.escape(e.title),"</a></td><td>").concat(s.default.escape(e.username),"</td></tr>"))}),e.append(d)}else e.append("No ".concat(this.model.get("plural").toLowerCase()," have been shared with you."));return e}});e.default={View:f}});