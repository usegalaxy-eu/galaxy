define(["exports","backbone"],function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;var i=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}}(e);var n=t.View=i.View.extend({initialize:function(t){this.collection=new i.Collection,this.model=t&&t.model||new i.Model({onchange:null,visible:!0}).set(t),this.setElement($(this._template())),this.$nav=this.$(".tab-navigation"),this.$content=this.$(".tab-content"),this.$el.on("click",function(){$(".tooltip").hide()}),this.render(),this.listenTo(this.model,"change",this.render,this),this.listenTo(this.collection,"add",this._add,this),this.listenTo(this.collection,"remove",this._remove,this),this.listenTo(this.collection,"change",this._change,this),this.listenTo(this.collection,"reset",this._reset,this),this.listenTo(this.collection,"add remove reset",this.render,this)},render:function(){var t=this.model.get("current");(t=0<this.$("#".concat(t)).length?t:this.first())&&(this.$nav.find(".nav-link.active").removeClass("active"),this.$content.children().removeClass("active"),this.$("#tab-".concat(t," .nav-link")).addClass("active"),this.$("#".concat(t)).addClass("active")),this.$el[this.model.get("visible")?"fadeIn":"fadeOut"]("fast"),this.$nav[1<this.size()?"show":"hide"]()},current:function(){return this.model.get("current")},show:function(t){t&&(this.model.set({current:t,visible:!0}),this.model.get("onchange")&&this.model.get("onchange")(t))},hide:function(){this.model.set("visible",!1)},first:function(){var t=this.collection.first();return t&&t.id},size:function(){return this.collection.length},add:function(t){this.collection.add(t)},del:function(t){this.collection.remove(t)},delAll:function(){this.collection.reset()},showTab:function(t){this.collection.get(t).set("hidden",!1)},hideTab:function(t){this.collection.get(t).set("hidden",!0)},_add:function(t){var e=this,i=t.attributes;this.$content.append($("<div/>").attr("id",i.id).addClass("tab-pane").append(i.$el)),this.$nav.append($(this._template_tab(i)).show().tooltip({title:i.tooltip||"",placement:"bottom",container:e.$el}).on("click",function(t){t.preventDefault(),e.show(i.id)})),1==this.size()&&this.show(i.id)},_remove:function(t){this.$("#tab-".concat(t.id)).remove(),this.$("#".concat(t.id)).remove()},_reset:function(){this.$nav.empty(),this.$content.empty()},_change:function(t){this.$("#tab-".concat(t.id))[t.get("hidden")?"hide":"show"]()},_template:function(){return $("<div/>").addClass("tabbable tabs-left").append($("<ul/>").attr("style","display: flex").addClass("tab-navigation nav nav-tabs")).append($("<div/>").addClass("tab-content"))},_template_tab:function(t){var e=$("<li/>").addClass("nav-item").attr("id","tab-".concat(t.id)).append($("<a/>").addClass("nav-link").attr("id","tab-title-link-".concat(t.id))),i=e.find("a");return t.icon&&i.append($("<i/>").addClass("fa").addClass(t.icon)),t.title&&i.append($("<span/>").attr("id","tab-title-text-".concat(t.id)).addClass("tab-title-text ml-1").append(t.title)),e}});t.default={View:n}});