define(["exports","mvc/ui/ui-select-default","mvc/ui/ui-slider","mvc/ui/ui-options","mvc/ui/ui-drilldown","mvc/ui/ui-buttons","mvc/ui/ui-modal"],function(e,t,i,s,l,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Drilldown=e.Slider=e.Select=e.Radio=e.RadioButton=e.Checkbox=e.ButtonLink=e.ButtonMenu=e.ButtonCheck=e.Button=e.Upload=e.TextSelect=e.Hidden=e.Input=e.UnescapedMessage=e.Message=void 0;var o=m(t),d=m(i),h=m(s),u=m(l),c=m(n),r=m(a);function m(e){return e&&e.__esModule?e:{default:e}}var f=e.Message=Backbone.View.extend({initialize:function(e){this.model=e&&e.model||new Backbone.Model({message:null,status:"info",cls:"",persistent:!1,fade:!0}).set(e),this.listenTo(this.model,"change",this.render,this),e&&e.active_tab&&(this.active_tab=e.active_tab),this.render()},update:function(e){this.model.set(e)},render:function(){var e=this.model.get("status");if(this.$el.removeClass().addClass("alert alert-".concat(e," mt-2")).addClass(this.model.get("cls")),this.model.get("message")){if(this.$el.html(this.messageForDisplay()),this.$el[this.model.get("fade")?"fadeIn":"show"](),this.timeout&&window.clearTimeout(this.timeout),!this.model.get("persistent")){var t=this;this.timeout=window.setTimeout(function(){t.model.set("message","")},3e3)}}else this.$el.hide();return this},messageForDisplay:function(){return _.escape(this.model.get("message"))}}),g=e.UnescapedMessage=f.extend({messageForDisplay:function(){return this.model.get("message")}}),v=e.Input=Backbone.View.extend({initialize:function(e){this.model=e&&e.model||new Backbone.Model({type:"text",placeholder:"",disabled:!1,readonly:!1,visible:!0,cls:"",area:!1,color:null,style:null}).set(e),this.tagName=this.model.get("area")?"textarea":"input",this.setElement($("<".concat(this.tagName,"/>"))),this.listenTo(this.model,"change",this.render,this),this.render()},events:{input:"_onchange"},value:function(e){return void 0!==e&&this.model.set("value","string"==typeof e?e:""),this.model.get("value")},render:function(){var i=this;this.$el.removeClass().addClass("ui-".concat(this.tagName)).addClass(this.model.get("cls")).addClass(this.model.get("style")).attr("id",this.model.id).attr("type",this.model.get("type")).attr("placeholder",this.model.get("placeholder")).css("color",this.model.get("color")||"").css("border-color",this.model.get("color")||"");var e=this.model.get("datalist");return $.isArray(e)&&0<e.length&&this.$el.autocomplete({source:function(e,t){t(i.model.get("datalist"))},change:function(){i._onchange()}}),this.model.get("value")!==this.$el.val()&&this.$el.val(this.model.get("value")),_.each(["readonly","disabled"],function(e){i.model.get(e)?i.$el.attr(e,!0):i.$el.removeAttr(e)}),this.$el[this.model.get("visible")?"show":"hide"](),this},_onchange:function(){this.value(this.$el.val()),this.model.get("onchange")&&this.model.get("onchange")(this.model.get("value"))}}),p=e.Hidden=Backbone.View.extend({initialize:function(e){this.model=e&&e.model||new Backbone.Model(e),this.setElement($("<div/>").append(this.$info=$("<div/>")).append(this.$hidden=$("<div/>"))),this.listenTo(this.model,"change",this.render,this),this.render()},value:function(e){return void 0!==e&&this.model.set("value",e),this.model.get("value")},render:function(){return this.$el.attr("id",this.model.id),this.$hidden.val(this.model.get("value")),this.model.get("info")?this.$info.show().text(this.model.get("info")):this.$info.hide(),this}}),w=e.TextSelect=Backbone.View.extend({initialize:function(e){var t=this;this.select=new e.SelectClass.View(e),this.model=this.select.model,this.text=new v({onchange:this.model.get("onchange")}),this.on("change",function(){t.model.get("onchange")&&t.model.get("onchange")(t.value())}),this.setElement($("<div/>").append(this.select.$el).append(this.text.$el)),this.update(e)},wait:function(){this.select.wait()},unwait:function(){this.select.unwait()},value:function(e){return(this.textmode?this.text:this.select).value(e)},update:function(e){var t=e.data;t||(t=[],_.each(e.options,function(e){t.push({label:e[0],value:e[1]})}));var i=this.value();this.textmode=e.textable&&(!$.isArray(t)||0===t.length),this.text.$el[this.textmode?"show":"hide"](),this.select.$el[this.textmode?"hide":"show"](),this.select.update({data:t}),this.value(i)}}),x=e.Upload=Backbone.View.extend({initialize:function(e){var t=this;this.model=e&&e.model||new Backbone.Model(e),this.setElement($("<div/>").append(this.$info=$("<div/>")).append(this.$file=$("<input/>").attr("type","file").addClass("mb-1")).append(this.$text=$("<textarea/>").addClass("ui-textarea").attr("disabled",!0)).append(this.$wait=$("<i/>").addClass("fa fa-spinner fa-spin"))),this.listenTo(this.model,"change",this.render,this),this.$file.on("change",function(e){t._readFile(e)}),this.render()},value:function(e){return void 0!==e&&this.model.set("value",e),this.model.get("value")},render:function(){return this.$el.attr("id",this.model.id),this.model.get("info")?this.$info.show().text(this.model.get("info")):this.$info.hide(),this.model.get("value")?this.$text.text(this.model.get("value")).show():this.$text.hide(),this.model.get("wait")?this.$wait.show():this.$wait.hide(),this},_readFile:function(e){var t=this,i=e.target.files&&e.target.files[0];if(i){var s=new FileReader;s.onload=function(){t.model.set({wait:!1,value:this.result})},this.model.set({wait:!0,value:null}),s.readAsText(i)}}});e.Button=c.default.Button,e.ButtonCheck=c.default.ButtonCheck,e.ButtonMenu=c.default.ButtonMenu,e.ButtonLink=c.default.ButtonLink,e.Checkbox=h.default.Checkbox,e.RadioButton=h.default.RadioButton,e.Radio=h.default.Radio;e.Select=o.default,e.Slider=d.default,e.Drilldown=u.default,e.default={Button:c.default.Button,ButtonCheck:c.default.ButtonCheck,ButtonMenu:c.default.ButtonMenu,ButtonLink:c.default.ButtonLink,Input:v,Message:f,UnescapedMessage:g,Upload:x,Modal:r.default,RadioButton:h.default.RadioButton,Checkbox:h.default.Checkbox,Radio:h.default.Radio,Select:o.default,TextSelect:w,Hidden:p,Slider:d.default,Drilldown:u.default}});