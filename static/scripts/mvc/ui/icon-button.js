define(["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Backbone.Model.extend({defaults:{title:"",icon_class:"",on_click:null,menu_options:null,is_menu_button:!0,id:null,href:null,target:null,enabled:!0,visible:!0,tooltip_config:{}}}),e=Backbone.View.extend({initialize:function(){this.model.attributes.tooltip_config={placement:"bottom"},this.model.bind("change",this.render,this)},render:function(){this.$el.tooltip("hide");var t=this.template(this.model.toJSON());return t.tooltip(this.model.get("tooltip_config")),this.$el.replaceWith(t),this.setElement(t),this},events:{click:"click"},click:function(t){return!_.isFunction(this.model.get("on_click"))||(this.model.get("on_click")(t),!1)},template:function(t){var e='title="'.concat(t.title,'" class="icon-button');return t.is_menu_button&&(e+=" menu-button"),e+=" ".concat(t.icon_class),t.enabled||(e+="_disabled"),e+='"',t.id&&(e+=' id="'.concat(t.id,'"')),e+=' href="'.concat(t.href,'"'),t.target&&(e+=' target="'.concat(t.target,'"')),t.visible||(e+=' style="display: none;"'),e=t.enabled?"<a ".concat(e,"/>"):"<span ".concat(e,"/>"),$(e)}}),o=Backbone.Collection.extend({model:i}),c=Backbone.View.extend({tagName:"div",initialize:function(){this.render()},render:function(){var i=this;return this.collection.each(function(t){var e=$("<a/>").attr("href","javascript:void(0)").attr("title",t.attributes.title).addClass("icon-button menu-button").addClass(t.attributes.icon_class).appendTo(i.$el).click(t.attributes.on_click);t.attributes.tooltip_config&&e.tooltip(t.attributes.tooltip_config);var n=t.get("options");n&&make_popupmenu(e,n)}),this}});t.default={IconButton:i,IconButtonView:e,IconButtonCollection:o,IconButtonMenuView:c,create_icon_buttons_menu:function(t,e){e||(e={});var n=new o(_.map(t,function(t){return new i(_.extend(t,e))}));return new c({collection:n})}}});