define(["exports","utils/utils","mvc/ui/ui-options"],function(e,a,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var v=n(a),i=n(t);function n(e){return e&&e.__esModule?e:{default:e}}var s=i.default.BaseIcons.extend({initialize:function(e){e.type=e.display||"checkbox",e.multiple="checkbox"==e.type,i.default.BaseIcons.prototype.initialize.call(this,e)},update:function(e){this.model.set("data",e.options)},_setValue:function(e){if(i.default.BaseIcons.prototype._setValue.call(this,e),null!=e&&this.header_index){var t=this,a=$.isArray(e)?e:[e];_.each(a,function(e){var a=t.header_index[e];_.each(a,function(e){t._setState(e,!0)})})}},_setState:function(e,a){var t=this.$(".button-".concat(e)),i=this.$(".subgroup-".concat(e));t.data("is_expanded",a),a?(i.show(),t.removeClass("fa-plus-square").addClass("fa-minus-square")):(i.hide(),t.removeClass("fa-minus-square").addClass("fa-plus-square"))},_templateOptions:function(){var c=this;function f(e,a){var t=e.find(".button-".concat(a));t.on("click",function(){c._setState(a,!t.data("is_expanded"))})}this.header_index={};var e=$("<div/>");return function e(a,t,i){for(var n in i=i||[],t){var s=t[n],d=s.options&&0<s.options.length,o=i.slice(0);c.header_index[s.value]=o.slice(0);var u=$("<div/>");if(d){var l=v.default.uid(),p=$("<span/>").addClass("button-".concat(l)).addClass("ui-drilldown-button fa fa-plus-square"),r=$("<div/>").addClass("subgroup-".concat(l)).addClass("ui-drilldown-subgroup");u.append($("<div/>").append(p).append(c._templateOption({label:s.name,value:s.value}))),o.push(l),e(r,s.options,o),u.append(r),f(u,l)}else u.append(c._templateOption({label:s.name,value:s.value}));a.append(u)}}(e,this.model.get("data")),e},_template:function(){return $("<div/>").addClass("ui-options-list drilldown-container").attr("id",this.model.id)}});e.default={View:s}});