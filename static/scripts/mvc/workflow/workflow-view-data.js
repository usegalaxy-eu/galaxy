define(["exports","jquery","backbone"],function(t,e,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(e),o=a(i);function a(t){return t&&t.__esModule?t:{default:t}}window.workflow_globals=window.workflow_globals||{};var s=o.default.View.extend({className:"form-row dataRow input-data-row",initialize:function(t){this.input=t.input,this.nodeView=t.nodeView,this.terminalElement=t.terminalElement,this.$el.attr("name",this.input.name).html(this.input.label||this.input.name),t.skipResize||(this.$el.css({position:"absolute",left:-1e3,top:-1e3,display:"none"}),(0,l.default)("body").append(this.el),this.nodeView.updateMaxWidth(this.$el.outerWidth()),this.$el.css({position:"",left:"",top:"",display:""}),this.$el.remove())}}),n=o.default.View.extend({className:"form-row dataRow",initialize:function(t){this.output=t.output,this.terminalElement=t.terminalElement,this.nodeView=t.nodeView;var e=this.output,i=e.label||e.name,o=this.nodeView.node;if(0<=e.extensions.indexOf("input")||0<=e.extensions.indexOf("input_collection")||(i="".concat(i," (").concat(e.extensions.join(", "),")")),this.$el.html(i),this.calloutView=null,0<=["tool","subworkflow"].indexOf(o.type)){var a=new d({label:i,output:e,node:o});this.calloutView=a,this.$el.append(a.el)}this.$el.css({position:"absolute",left:-1e3,top:-1e3,display:"none"}),(0,l.default)("body").append(this.el),this.nodeView.updateMaxWidth(this.$el.outerWidth()+17),this.$el.css({position:"",left:"",top:"",display:""}).detach()},redrawWorkflowOutput:function(){this.calloutView&&this.calloutView.resetImage()}}),u=o.default.View.extend({className:"form-row dataRow",initialize:function(t){this.output=t.output,this.terminalElement=t.terminalElement,this.nodeView=t.nodeView;var e=this.output,i=e.label||e.name,o=this.nodeView.node;if(this.$el.html(i),this.calloutView=null,0<=["tool","subworkflow"].indexOf(o.type)){var a=new d({label:i,output:e,node:o});this.calloutView=a,this.$el.append(a.el),this.$el.hover(function(){a.hoverImage()},function(){a.resetImage()})}this.$el.css({position:"absolute",left:-1e3,top:-1e3,display:"none"}),(0,l.default)("body").append(this.el),this.nodeView.updateMaxWidth(this.$el.outerWidth()+17),this.$el.css({position:"",left:"",top:"",display:""}).detach()},redrawWorkflowOutput:function(){this.calloutView&&this.calloutView.resetImage()}}),d=o.default.View.extend({tagName:"div",initialize:function(t){this.label=t.label,this.node=t.node,this.output=t.output;var e=this,i=this.node;this.$el.attr("class","callout-terminal ".concat(this.label)).css({display:"none"}).append((0,l.default)("<icon class='mark-terminal fa fa-asterisk'/>").click(function(){var t=e.output.name;i.isWorkflowOutput(t)?(i.removeWorkflowOutput(t),e.$("icon").removeClass("mark-terminal-active")):(i.addWorkflowOutput(t),e.$("icon").addClass("mark-terminal-active")),window.workflow_globals.workflow.has_changes=!0,window.workflow_globals.canvas_manager.draw_overview()})).tooltip({delay:500,title:"Mark dataset as a workflow output. All unmarked datasets will be hidden."}),this.$el.css({top:"50%",margin:"-8px 0px 0px 0px",right:8}),this.$el.show(),this.resetImage()},resetImage:function(){this.node.isWorkflowOutput(this.output.name)?this.$("icon").addClass("mark-terminal-active"):this.$("icon").removeClass("mark-terminal-active")}});t.default={DataInputView:s,DataOutputView:n,ParameterOutputView:u}});