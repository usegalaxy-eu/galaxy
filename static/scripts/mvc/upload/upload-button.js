define(["exports","utils/localization"],function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,s=(o=e)&&o.__esModule?o:{default:o};var a=Backbone.View.extend({initialize:function(t){var e=this;this.model=t&&t.model||new Backbone.Model({icon:"fa-upload",tooltip:(0,s.default)("Download from URL or upload files from disk"),label:"Load Data",percentage:0,status:"",onunload:function(){},onclick:function(){}}).set(t),this.setElement(this._template()),this.$progress=this.$(".progress-bar"),this.listenTo(this.model,"change",this.render,this),this.render(),$(window).on("beforeunload",function(){return e.model.get("onunload")()})},render:function(){var e=this.model.attributes;this.$el.off("click").on("click",function(t){e.onclick(t)}).tooltip({title:this.model.get("tooltip"),placement:"bottom",trigger:"hover"}),this.$progress.removeClass().addClass("progress-bar").addClass("progress-bar-notransition").addClass(""!=e.status&&"progress-bar-".concat(e.status)).css({width:"".concat(e.percentage,"%")})},_template:function(){return'<div class="upload-button"><div class="progress"><div class="progress-bar"/><a class="panel-header-button" href="javascript:void(0)" id="tool-panel-upload-button"><span class="fa fa-upload"/></a></div></div>'}});t.default={View:a}});