define(["exports","jquery","onload/loadConfig"],function(e,o,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=o)&&r.__esModule?r:{default:r};e.default={searchShed:function(e,r){var t=this,o=this.shed_url,s="".concat((0,a.getAppRoot)(),"api/tool_shed/search");n.default.get(s,{term:e.term,tool_shed_url:o},function(e){var o=t.shedParser(e);r(o)})},shedParser:function(e){var s=[],a=e.hits;return n.default.each(a,function(e){var o=a[e],r="".concat(o.repository.name," by ").concat(o.repository.repo_owner_username,": ").concat(o.repository.description),t={value:o.repository.id,label:r};s.push(t)}),s},addToQueue:function(e){"/"==e.tool_shed_url.substr(-1)&&(e.tool_shed_url=e.tool_shed_url.substr(0,e.tool_shed_url.length-1));var o="".concat(e.tool_shed_url,"|").concat(e.repository_id,"|").concat(e.changeset_revision),r={};window.localStorage.repositories&&(r=JSON.parse(window.localStorage.repositories)),r[o]=e,window.localStorage.repositories=JSON.stringify(r)},queueLength:function(){if(window.localStorage.hasOwnProperty("repositories")){var e=JSON.parse(window.localStorage.repositories);return Object.keys(e).length}return 0},toolByGuid:function(o,e,r){var t;return r.forEach(function(e){e.guid==o.value&&(t=e)}),t}}});