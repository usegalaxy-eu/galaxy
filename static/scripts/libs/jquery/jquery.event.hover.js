!function(v){v.fn._hover=v.fn.hover,v.fn.hover=function(e,t,o){return o&&this.bind("hoverstart",e),t&&this.bind("hoverend",o||t),e?this.bind("hover",o?t:e):this.trigger("hover")};var t=v.event.special.hover={delay:100,speed:100,setup:function(e){e=v.extend({speed:t.speed,delay:t.delay,hovered:0},e||{}),v.event.add(this,"mouseenter mouseleave",n,e)},teardown:function(){v.event.remove(this,"mouseenter mouseleave",n)}};function n(e){var t=e.data||e;switch(e.type){case"mouseenter":t.dist2=0,!((t.event=e).type="hoverstart")!==v.event.dispatch.call(this,e)&&(t.elem=this,v.event.add(this,"mousemove",n,t),t.timer=setTimeout(o,t.delay));break;case"mousemove":t.dist2+=Math.pow(e.pageX-t.event.pageX,2)+Math.pow(e.pageY-t.event.pageY,2),t.event=e;break;case"mouseleave":clearTimeout(t.timer),t.hovered?(e.type="hoverend",v.event.dispatch.call(this,e),t.hovered--):v.event.remove(t.elem,"mousemove",n);break;default:t.dist2<=Math.pow(t.speed*(t.delay/1e3),2)?(v.event.remove(t.elem,"mousemove",n),!(t.event.type="hover")!==v.event.dispatch.call(t.elem,t.event)&&t.hovered++):t.timer=setTimeout(o,t.delay),t.dist2=0}function o(){n(t)}}}(jQuery);