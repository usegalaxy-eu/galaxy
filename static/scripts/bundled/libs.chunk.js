(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(e,t,n){(function(t){e.exports=t.jQuery=n(807)}).call(this,n(39))},function(e,t,n){var i,r;i=[n(823)],void 0===(r=function(e){e.hasOwnProperty("__root")&&(locale=sessionStorage.getItem("currentLocale"),locale&&(e=e["__"+locale]||e["__"+locale.split("-")[0]]||e.__root));var t=function(t){return e[t]||t};return t.cacheNonLocalized=!1,t}.apply(t,i))||(e.exports=r)},function(e,t,n){(function(t){e.exports=t._=n(639)}).call(this,n(39))},function(e,t,n){(function(i){var r,o;!function(a){var s="object"==typeof self&&self.self===self&&self||"object"==typeof i&&i.global===i&&i;r=[n(2),n(0),t],void 0===(o=function(e,t,n){s.Backbone=function(e,t,n,i){var r=e.Backbone,o=Array.prototype.slice;t.VERSION="1.3.3",t.$=i,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=function(e,t,i){n.each(t,function(t,r){n[r]&&(e.prototype[r]=function(e,t,i){switch(e){case 1:return function(){return n[t](this[i])};case 2:return function(e){return n[t](this[i],e)};case 3:return function(e,r){return n[t](this[i],s(e,this),r)};case 4:return function(e,r,o){return n[t](this[i],s(e,this),r,o)};default:return function(){var e=o.call(arguments);return e.unshift(this[i]),n[t].apply(n,e)}}}(t,r,i))})},s=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?l(e):n.isString(e)?function(t){return t.get(e)}:e},l=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},c=t.Events={},u=/\s+/,d=function(e,t,i,r,o){var a,s=0;if(i&&"object"==typeof i){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(a=n.keys(i);s<a.length;s++)t=d(e,t,a[s],i[a[s]],o)}else if(i&&u.test(i))for(a=i.split(u);s<a.length;s++)t=e(t,a[s],r,o);else t=e(t,i,r,o);return t};c.on=function(e,t,n){return h(this,e,t,n)};var h=function(e,t,n,i,r){if(e._events=d(f,e._events||{},t,n,{context:i,ctx:e,listening:r}),r){var o=e._listeners||(e._listeners={});o[r.id]=r}return e};c.listenTo=function(e,t,i){if(!e)return this;var r=e._listenId||(e._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[r];if(!a){var s=this._listenId||(this._listenId=n.uniqueId("l"));a=o[r]={obj:e,objId:r,id:s,listeningTo:o,count:0}}return h(e,t,i,this,a),this};var f=function(e,t,n,i){if(n){var r=e[t]||(e[t]=[]),o=i.context,a=i.ctx,s=i.listening;s&&s.count++,r.push({callback:n,context:o,ctx:o||a,listening:s})}return e};c.off=function(e,t,n){return this._events?(this._events=d(p,this._events,e,t,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(e,t,i){var r=this._listeningTo;if(!r)return this;for(var o=e?[e._listenId]:n.keys(r),a=0;a<o.length;a++){var s=r[o[a]];if(!s)break;s.obj.off(t,i,this)}return this};var p=function(e,t,i,r){if(e){var o,a=0,s=r.context,l=r.listeners;if(t||i||s){for(var c=t?[t]:n.keys(e);a<c.length;a++){t=c[a];var u=e[t];if(!u)break;for(var d=[],h=0;h<u.length;h++){var f=u[h];i&&i!==f.callback&&i!==f.callback._callback||s&&s!==f.context?d.push(f):(o=f.listening)&&0==--o.count&&(delete l[o.id],delete o.listeningTo[o.objId])}d.length?e[t]=d:delete e[t]}return e}for(var p=n.keys(l);a<p.length;a++)o=l[p[a]],delete l[o.id],delete o.listeningTo[o.objId]}};c.once=function(e,t,i){var r=d(m,{},e,t,n.bind(this.off,this));return"string"==typeof e&&null==i&&(t=void 0),this.on(r,t,i)},c.listenToOnce=function(e,t,i){var r=d(m,{},t,i,n.bind(this.stopListening,this,e));return this.listenTo(e,r)};var m=function(e,t,i,r){if(i){var o=e[t]=n.once(function(){r(t,o),i.apply(this,arguments)});o._callback=i}return e};c.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),i=0;i<t;i++)n[i]=arguments[i+1];return d(g,this._events,e,void 0,n),this};var g=function(e,t,n,i){if(e){var r=e[t],o=e.all;r&&o&&(o=o.slice()),r&&_(r,i),o&&_(o,[t].concat(i))}return e},_=function(e,t){var n,i=-1,r=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,a);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,a,s);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t);return}};c.bind=c.on,c.unbind=c.off,n.extend(t,c);var v=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{});var r=n.result(this,"defaults");i=n.defaults(n.extend({},r,i),r),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(v.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,i){if(null==e)return this;var r;if("object"==typeof e?(r=e,i=t):(r={})[e]=t,i||(i={}),!this._validate(r,i))return!1;var o=i.unset,a=i.silent,s=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,u=this.changed,d=this._previousAttributes;for(var h in r)t=r[h],n.isEqual(c[h],t)||s.push(h),n.isEqual(d[h],t)?delete u[h]:u[h]=t,o?delete c[h]:c[h]=t;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!a){s.length&&(this._pending=i);for(var f=0;f<s.length;f++)this.trigger("change:"+s[f],this,c[s[f]],i)}if(l)return this;if(!a)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,i={};for(var r in e){var o=e[r];n.isEqual(t[r],o)||(i[r]=o)}return!!n.size(i)&&i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){var t=this,i=(e=n.extend({parse:!0},e)).success;return e.success=function(n){var r=e.parse?t.parse(n,e):n;if(!t.set(r,e))return!1;i&&i.call(e.context,t,n,e),t.trigger("sync",t,n,e)},N(this,e),this.sync("read",this,e)},save:function(e,t,i){var r;null==e||"object"==typeof e?(r=e,i=t):(r={})[e]=t;var o=(i=n.extend({validate:!0,parse:!0},i)).wait;if(r&&!o){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var a=this,s=i.success,l=this.attributes;i.success=function(e){a.attributes=l;var t=i.parse?a.parse(e,i):e;if(o&&(t=n.extend({},r,t)),t&&!a.set(t,i))return!1;s&&s.call(i.context,a,e,i),a.trigger("sync",a,e,i)},N(this,i),r&&o&&(this.attributes=n.extend({},l,r));var c=this.isNew()?"create":i.patch?"patch":"update";"patch"!==c||i.attrs||(i.attrs=r);var u=this.sync(c,this,i);return this.attributes=l,u},destroy:function(e){var t=this,i=(e=e?n.clone(e):{}).success,r=e.wait,o=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){r&&o(),i&&i.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var a=!1;return this.isNew()?n.defer(e.success):(N(this,e),a=this.sync("delete",this,e)),r||o(),a},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||P();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return!i||(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1)}}),a(v,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var y=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},b={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},k=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var i,r=Array(e.length-n),o=t.length;for(i=0;i<r.length;i++)r[i]=e[i+n];for(i=0;i<o;i++)e[i+n]=t[i];for(i=0;i<r.length;i++)e[i+o+n]=r[i]};n.extend(y.prototype,c,{model:v,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,w))},remove:function(e,t){t=n.extend({},t);var i=!n.isArray(e);e=i?[e]:e.slice();var r=this._removeModels(e,t);return!t.silent&&r.length&&(t.changes={added:[],merged:[],removed:r},this.trigger("update",this,t)),i?r[0]:r},set:function(e,t){if(null!=e){(t=n.extend({},b,t)).parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var i=!n.isArray(e);e=i?[e]:e.slice();var r=t.at;null!=r&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var o,a,s=[],l=[],c=[],u=[],d={},h=t.add,f=t.merge,p=t.remove,m=!1,g=this.comparator&&null==r&&!1!==t.sort,_=n.isString(this.comparator)?this.comparator:null;for(a=0;a<e.length;a++){o=e[a];var v=this.get(o);if(v){if(f&&o!==v){var y=this._isModel(o)?o.attributes:o;t.parse&&(y=v.parse(y,t)),v.set(y,t),c.push(v),g&&!m&&(m=v.hasChanged(_))}d[v.cid]||(d[v.cid]=!0,s.push(v)),e[a]=v}else h&&(o=e[a]=this._prepareModel(o,t))&&(l.push(o),this._addReference(o,t),d[o.cid]=!0,s.push(o))}if(p){for(a=0;a<this.length;a++)o=this.models[a],d[o.cid]||u.push(o);u.length&&this._removeModels(u,t)}var w=!1,M=!g&&h&&p;if(s.length&&M?(w=this.length!==s.length||n.some(this.models,function(e,t){return e!==s[t]}),this.models.length=0,k(this.models,s,0),this.length=this.models.length):l.length&&(g&&(m=!0),k(this.models,l,null==r?this.length:r),this.length=this.models.length),m&&this.sort({silent:!0}),!t.silent){for(a=0;a<l.length;a++)null!=r&&(t.index=r+a),(o=l[a]).trigger("add",o,this,t);(m||w)&&this.trigger("sort",this,t),(l.length||u.length||c.length)&&(t.changes={added:l,removed:u,merged:c},this.trigger("update",this,t))}return i?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return o.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[this.modelId(e.attributes||e)]||e.cid&&this._byId[e.cid]},has:function(e){return null!=this.get(e)},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var i=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),1===i||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(e){var t=(e=n.extend({parse:!0},e)).success,i=this;return e.success=function(n){var r=e.reset?"reset":"set";i[r](n,e),t&&t.call(e.context,i,n,e),i.trigger("sync",i,n,e)},N(this,e),this.sync("read",this,e)},create:function(e,t){var i=(t=t?n.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;i||this.add(e,t);var r=this,o=t.success;return t.success=function(e,t,n){i&&r.add(e,n),o&&o.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;(t=t?n.clone(t):{}).collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_removeModels:function(e,t){for(var n=[],i=0;i<e.length;i++){var r=this.get(e[i]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,delete this._byId[r.cid];var a=this.modelId(r.attributes);null!=a&&delete this._byId[a],t.silent||(t.index=o,r.trigger("remove",r,this,t)),n.push(r),this._removeReference(r,t)}}return n},_isModel:function(e){return e instanceof v},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){if(t){if(("add"===e||"remove"===e)&&n!==this)return;if("destroy"===e&&this.remove(t,i),"change"===e){var r=this.modelId(t.previousAttributes()),o=this.modelId(t.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=t))}}this.trigger.apply(this,arguments)}}),a(y,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var M=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,C)),this._ensureElement(),this.initialize.apply(this,arguments)},x=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];n.extend(M.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var i=e[t];if(n.isFunction(i)||(i=this[i]),i){var r=t.match(x);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,i,r){var o=S[e];n.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var a={type:o,dataType:"json"};if(r.url||(a.url=n.result(i,"url")||P()),null!=r.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(a.contentType="application/json",a.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",r.emulateJSON&&(a.data._method=o);var s=r.beforeSend;r.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||r.emulateJSON||(a.processData=!1);var l=r.error;r.error=function(e,t,n){r.textStatus=t,r.errorThrown=n,l&&l.call(r.context,e,t,n)};var c=r.xhr=t.ajax(n.extend(a,r));return i.trigger("request",i,c,r),c};var S={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var T=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},L=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,D=/\*\w+/g,O=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(T.prototype,c,{initialize:function(){},route:function(e,i,r){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return t.history.route(e,function(n){var a=o._extractParameters(e,n);!1!==o.execute(r,a,i)&&(o.trigger.apply(o,["route:"+i].concat(a)),o.trigger("route",i,a),t.history.trigger("route",o,i,a))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(O,"\\$&").replace(L,"(?:$1)?").replace(E,function(e,t){return t?e:"([^/?]+)"}).replace(D,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null})}});var A=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},Y=/^[#\/]|\s+$/g,R=/^\/+|\/+$/g,j=/#.*$/;A.started=!1,n.extend(A.prototype,c,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname),t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(Y,"")},start:function(e){if(A.started)throw new Error("Backbone.history has already been started");if(A.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(R,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),A.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(e,t){if(!A.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+e;if(e=this.decodeFragment(e.replace(j,"")),this.fragment!==e){if(this.fragment=e,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;t.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new A;v.extend=y.extend=T.extend=M.extend=A.extend=function(e,t){var i,r=this;i=e&&n.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)};return n.extend(i,r,t),i.prototype=n.create(r.prototype,e),i.prototype.constructor=i,i.__super__=r.prototype,i};var P=function(){throw new Error('A "url" property or function must be specified')},N=function(e,t){var n=t.error;t.error=function(i){n&&n.call(t.context,e,i,t),e.trigger("error",e,i,t)}};return t}(s,n,e,t)}.apply(t,r))||(e.exports=o)}()}).call(this,n(39))},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(382);function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=e;try{t=window.galaxyConfig.options.root}catch(n){try{t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=r(document.getElementsByTagName("link")).find(function(e){return"index"==e.rel});if(t&&t.href)return Object(i.a)(t.href);return e}(e)}catch(e){console.warn("Unable to find index link in head",e)}}return t}},function(e,t,n){"use strict";n.r(t);var i=n(383),r=n(0),o=n.n(r),a=n(2),s=n.n(a),l=n(3),c=n.n(l),u=n(8),d=n(79),h=n(510),f=n(1),p=n.n(f);function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._init(e,t)}Object(i.a)(m,"GalaxyApp");var g="".concat("galaxy:debug",":namespaces"),_="".concat("galaxy:debug",":flatten"),v=!1;try{v="true"==localStorage.getItem("galaxy:debug")}catch(e){console.log(p()("localStorage not available for debug flag retrieval"))}m.prototype._init=function(e,t){s.a.extend(this,c.a.Events),v&&(this.logger=console,console.debug("debugging galaxy:","options:",e,"bootstrapped:",t)),this._processOptions(e),this._initConfig(e.config||{});var n=w();return n&&this._patchGalaxy(n),this.root=e.root||"/",this.params=e.params||{},this.session_csrf_token=e.session_csrf_token||null,this._initLogger(this.options.loggerOptions||{}),this.debug("GalaxyApp.options: ",this.options),this.debug("GalaxyApp.config: ",this.config),this.debug("GalaxyApp.logger: ",this.logger),this._initLocale(),this.debug("GalaxyApp.localize: ",this.localize),this.config=e.config||{},this.debug("GalaxyApp.config: ",this.config),this._initUser(e.user||{}),this.debug("GalaxyApp.user: ",this.user),this._initUserLocale(),this.debug("currentLocale: ",sessionStorage.getItem("currentLocale")),this._setUpListeners(),this.trigger("ready",this),this},m.prototype.defaultOptions={patchExisting:!0,root:"/",session_csrf_token:null},m.prototype._processOptions=function(e){var t=this.defaultOptions;for(var n in this.options={},t)t.hasOwnProperty(n)&&(this.options[n]=e.hasOwnProperty(n)?e[n]:t[n]);return this},m.prototype._initConfig=function(e){return this.config=e,this.config.debug=v||this.config.debug,this},m.prototype._patchGalaxy=function(e){if(this.options.patchExisting&&e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},m.prototype._initLogger=function(e){var t=this;if(t.config.debug){e.consoleLogger=e.consoleLogger||console,e.consoleLevel=e.consoleLevel||h.a.MetricsLogger.ALL;try{e.consoleNamespaceWhitelist=localStorage.getItem(g).split(",")}catch(e){}try{e.consoleFlattenMessages="true"==localStorage.getItem(_)}catch(e){}console.log(e.consoleFlattenMessages)}return t.logger=new h.a.MetricsLogger(e),t.emit={},["log","debug","info","warn","error","metric"].map(function(e){t.emit[e]=function(n){t.logger.emit(e,arguments[0],Array.prototype.slice.call(arguments,1))}}),t.config.debug&&(u.a.LoggableMixin.logger=t.logger),t},m.prototype._initLocale=function(e){return this.debug("_initLocale:",e),this.localize=p.a,window._l=this.localize,this},m.prototype._initUserLocale=function(e){var t=!!this.config.default_locale&&this.config.default_locale.toLowerCase(),n={};this.user&&this.user.attributes.preferences&&"extra_user_preferences"in this.user.attributes.preferences&&(n=JSON.parse(this.user.attributes.preferences.extra_user_preferences));var i="localization|locale"in n&&n["localization|locale"].toLowerCase();"auto"==i&&(i=!1);var r="undefined"==typeof navigator?"__root":(navigator.language||navigator.userLanguage||"__root").toLowerCase(),o=i||t||r;sessionStorage.setItem("currentLocale",o)},m.prototype._initUser=function(e){return this.debug("_initUser:",e),this.user=new d.a.User(e),this.user.logger=this.logger,this},m.prototype._setUpListeners=function(){var e=this;return e.lastAjax={},o()(document).bind("ajaxSend",function(t,n,i){var r=i.data;try{r=JSON.parse(r)}catch(e){}e.lastAjax={url:location.href.slice(0,-1)+i.url,data:r}}),e},m.prototype.debugging=function(e){try{if(void 0===e)return"true"===localStorage.getItem("galaxy:debug");if(e)return localStorage.setItem("galaxy:debug",!0),!0;localStorage.removeItem("galaxy:debug"),this.debuggingNamespaces(null)}catch(e){console.log(p()("localStorage not available for debug flag retrieval"))}return!1},m.prototype.debuggingNamespaces=function(e){try{if(void 0===e){var t=localStorage.getItem(g);return"string"==typeof t?t.split(","):[]}null===e?localStorage.removeItem(g):localStorage.setItem(g,e);var n=this.debuggingNamespaces();return this.logger&&(this.logger.options.consoleNamespaceWhitelist=n),n}catch(e){console.log(p()("localStorage not available for debug namespace retrieval"))}},m.prototype.toString=function(){var e=this.user?this.user.get("email")||"(anonymous)":"uninitialized";return"GalaxyApp(".concat(e,")")};var y=n(382);function b(e){console.warn("setGalaxyInstance",Object(y.a)());var t=k(),n=e(m);return n instanceof m||(n=new m(n)),void 0===n.debug&&Object(i.a)(n,"GalaxyApp"),t._galaxyInstance=n,t._galaxyInstance}function w(){return k()._galaxyInstance}function k(){return window}var M,x=n(466),C=n(4),S={root:Object(C.a)(),config:{}};if(!M){Object.defineProperty(window._monitorStorage,"Galaxy",{enumerable:!0,configurable:!1,get:w,set:function(e){return b(function(){return e})}});var T=w();M=Object(x.a)("Galaxy",T||S)}var L=M;n.d(t,"setGalaxyInstance",function(){return b}),n.d(t,"getGalaxyInstance",function(){return w}),n.d(t,"monitor",function(){return L})},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(4),l=n(5),c=n(1),u=n.n(c);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(e){var t={contentType:"application/json",type:e.type||"GET",data:e.data||{},url:e.url};"GET"==t.type||"DELETE"==t.type?(a.a.isEmptyObject(t.data)||(t.url+=-1==t.url.indexOf("?")?"?":"&",t.url+=a.a.param(t.data,!0)),t.data=null):(t.dataType="json",t.url=t.url,t.data=JSON.stringify(t.data)),a.a.ajax(t).done(function(t){if("string"==typeof t)try{t=t.replace("Infinity,",'"Infinity",'),t=a.a.parseJSON(t)}catch(e){console.debug(e)}e.success&&e.success(t)}).fail(function(t){var n=null;try{n=a.a.parseJSON(t.responseText)}catch(e){n=t.responseText}e.error&&e.error(n,t.status)}).always(function(){e.complete&&e.complete()})}var f=1024,p=f*f,m=p*f,g=m*f;t.a={cssLoadFile:function(e){a()('link[href^="'.concat(e,'"]')).length||a()('<link href="'.concat(Object(s.a)()).concat(e,'" rel="stylesheet">')).appendTo("head")},cssGetAttribute:function(e,t){var n=a()('<div class="'.concat(e,'"></div>'));n.appendTo(":eq(0)");var i=n.css(t);return n.remove(),i},get:function(e){top.__utils__get__=top.__utils__get__||{};var t=JSON.stringify(e);e.cache&&top.__utils__get__[t]?(e.success&&e.success(top.__utils__get__[t]),window.console.debug("utils.js::get() - Fetching from cache [".concat(e.url,"]."))):h({url:e.url,data:e.data,success:function(n){top.__utils__get__[t]=n,e.success&&e.success(n)},error:function(t,n){e.error&&e.error(t,n)}})},merge:function(e,t){return e?r.a.defaults(e,t):t},iframe:function(e){return'<iframe src="'.concat(e,'" frameborder="0" style="width: 100%; height: 100%;"/>')},bytesToString:function(e,t,n){n=void 0!==n?n:1;var i="";if(e>=g)e/=g,i="TB";else if(e>=m)e/=m,i="GB";else if(e>=p)e/=p,i="MB";else if(e>=f)e/=f,i="KB";else{if(!(e>0))return t?"0 b":"<strong>-</strong>";i="b"}var r="b"==i?e:function(e,t){for(var n=1,i=0;i<t;i++)n*=10;return Math.round(e*n)/n}(e,n);return t?"".concat(r," ").concat(i):"<strong>".concat(r,"</strong> ").concat(i)},uid:function(){return top.__utils__uid__=top.__utils__uid__||0,"uid-".concat(top.__utils__uid__++)},time:function(){var e=new Date,t=(e.getHours()<10?"0":"")+e.getHours(),n=(e.getMinutes()<10?"0":"")+e.getMinutes();return"".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear(),", ").concat(t,":").concat(n)},request:h,sanitize:function(e){return a()("<div/>").text(e).html()},textify:function(e){if(a.a.isArray(e)){var t=(e=e.toString().replace(/,/g,", ")).lastIndexOf(", ");return-1!=t&&(e="".concat(e.substr(0,t)," or ").concat(e.substr(t+2))),e}return""},isEmpty:function(e){if(e instanceof Array||(e=[e]),0===e.length)return!0;for(var t in e)if(["__null__","__undefined__",null,void 0].indexOf(e[t])>-1)return!0;return!1},deepeach:function e(t,n){for(var i in t){var o=t[i];if(r.a.isObject(o)){var a=n(o);a&&(t[i]=a),e(o,n)}}},isJSON:function(e){return/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))},clone:function(e){return JSON.parse(JSON.stringify(e)||null)},linkify:function(e){var t,n,i;return t=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,n=/(^|[^\/])(www\.[\S]+(\b|$))/gim,i=/(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim,e.replace(t,'<a href="$1" target="_blank">$1</a>').replace(n,'$1<a href="http://$2" target="_blank">$2</a>').replace(i,'<a href="mailto:$1">$1</a>')},appendScriptStyle:function(e){e.script&&""!==e.script&&a()("<script/>",{type:"text/javascript"}).text(e.script).appendTo("head"),e.styles&&""!==e.styles&&a()("<style/>",{type:"text/css"}).text(e.styles).appendTo("head")},getQueryString:function(e){return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]".concat(encodeURIComponent(e).replace(/[\.\+\*]/g,"\\$&"),"(?:\\=([^&]*))?)?.*$"),"i"),"$1"))},setWindowTitle:function(e){var t=Object(l.getGalaxyInstance)();window.document.title=e?"Galaxy ".concat(t.config.brand?" | ".concat(t.config.brand):""," | ").concat(u()(e)):"Galaxy ".concat(t.config.brand?" | ".concat(t.config.brand):"")},generateTagStyle:function(e){var t=function(e){var t,n,i=2166136261;for(t=0,n=e.length;t<n;t++)i^=e.charCodeAt(t),i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24);return i>>>0}(e),n=Math.abs((t>>4)%360),i=75+(15&t),r="hsl(".concat(n,", 100%, ").concat(i,"%)"),o="hsl(".concat(n,", 100%, ").concat(i-40,"%)"),a=d(function(e,t,n){var i,r,o;if(0==t)i=r=o=n;else{var a=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;i=a(l,s,e+1/3),r=a(l,s,e),o=a(l,s,e-1/3)}return[i,r,o]}(n,1,i/100),3),s=function(e,t,n){return(255*e*299+255*t*587+255*n*114)/1e3>125?"black":"white"}(a[0],a[1],a[2]);return"background-color: ".concat(r,"; color: ").concat(s,"; border: 1px solid ").concat(o)}}},function(e,t,n){(function(i,r){var o;n(825),void 0===(o=function(){var e=i;return function(){var t,n,i=0,r={error:"error",info:"info",success:"success",warning:"warning"},o={clear:function(n){var i=c();t||l(i),n&&0===e(":focus",n).length?n[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){u(n)}}):t.children().length&&t[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){t.remove()}})},error:function(e,t,n){return s({type:r.error,iconClass:c().iconClasses.error,message:e,optionsOverride:n,title:t})},getContainer:l,info:function(e,t,n){return s({type:r.info,iconClass:c().iconClasses.info,message:e,optionsOverride:n,title:t})},options:{},subscribe:function(e){n=e},success:function(e,t,n){return s({type:r.success,iconClass:c().iconClasses.success,message:e,optionsOverride:n,title:t})},version:"2.0.1",warning:function(e,t,n){return s({type:r.warning,iconClass:c().iconClasses.warning,message:e,optionsOverride:n,title:t})}};return o;function a(e){n&&n(e)}function s(n){var r=c(),o=n.iconClass||r.iconClass;void 0!==n.optionsOverride&&(r=e.extend(r,n.optionsOverride),o=n.optionsOverride.iconClass||o),i++,t=l(r);var s=null,d=e("<div/>"),h=e("<div/>"),f=e("<div/>"),p=e(r.closeHtml),m={toastId:i,state:"visible",startTime:new Date,options:r,map:n};return n.iconClass&&d.addClass(r.toastClass).addClass(o),n.title&&(h.append(n.title).addClass(r.titleClass),d.append(h)),n.message&&(f.append(n.message).addClass(r.messageClass),d.append(f)),r.closeButton&&(p.addClass("toast-close-button"),d.prepend(p)),d.hide(),r.newestOnTop?t.prepend(d):t.append(d),d[r.showMethod]({duration:r.showDuration,easing:r.showEasing,complete:r.onShown}),r.timeOut>0&&(s=setTimeout(g,r.timeOut)),d.hover(function(){clearTimeout(s),d.stop(!0,!0)[r.showMethod]({duration:r.showDuration,easing:r.showEasing})},function(){(r.timeOut>0||r.extendedTimeOut>0)&&(s=setTimeout(g,r.extendedTimeOut))}),!r.onclick&&r.tapToDismiss&&d.click(g),r.closeButton&&p&&p.click(function(e){e.stopPropagation(),g(!0)}),r.onclick&&d.click(function(){r.onclick(),g()}),a(m),r.debug&&console&&console.log(m),d;function g(t){if(!e(":focus",d).length||t)return d[r.hideMethod]({duration:r.hideDuration,easing:r.hideEasing,complete:function(){u(d),r.onHidden&&r.onHidden(),m.state="hidden",m.endTime=new Date,a(m)}})}}function l(n){return n||(n=c()),(t=e("#"+n.containerId)).length?t:((t=e("<div/>").attr("id",n.containerId).addClass(n.positionClass)).appendTo(e(n.target)),t)}function c(){return e.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;</button>",newestOnTop:!0},o.options)}function u(e){t||(t=l()),e.is(":visible")||(e.remove(),e=null,0===t.children().length&&t.remove())}}()}.apply(t,[]))||(e.exports=o)}).call(this,n(0),n(0))},function(e,t,n){"use strict";(function(e){var i=n(2),r=n.n(i),o=n(3),a=n.n(o),s=n(383),l=n(1),c=n.n(l),u={logger:null,_logNamespace:"."};Object(s.a)(u);var d=a.a.Model.extend({initialize:function(e){if(this._checkEnabledSessionStorage(),!e.id)throw new Error("SessionStorageModel requires an id in the initial attributes");this.id=e.id;var t=this.isNew()?{}:this._read(this);this.clear({silent:!0}),this.save(r.a.extend({},this.defaults,t,e),{silent:!0}),this.on("change",function(){this.save()})},_checkEnabledSessionStorage:function(){try{return window.sessionStorage.length>=0}catch(e){return alert("Please enable cookies in your browser for this Galaxy site"),!1}},sync:function(e,t,n){n.silent||t.trigger("request",t,{},n);var i={};switch(e){case"create":i=this._create(t);break;case"read":i=this._read(t);break;case"update":i=this._update(t);break;case"delete":i=this._delete(t)}return void 0!==i||null!==i?n.success&&n.success():n.error&&n.error(),i},_create:function(e){try{var t=e.toJSON(),n=sessionStorage.setItem(e.id,JSON.stringify(t));return null===n?n:t}catch(e){if(!(e instanceof DOMException&&navigator.userAgent.indexOf("Safari")>-1))throw e}return null},_read:function(e){return JSON.parse(sessionStorage.getItem(e.id))},_update:function(e){return e._create(e)},_delete:function(e){return sessionStorage.removeItem(e.id)},isNew:function(){return!sessionStorage.hasOwnProperty(this.id)},_log:function(){return JSON.stringify(this.toJSON(),null,"  ")},toString:function(){return"SessionStorageModel(".concat(this.id,")")}});d.prototype=r.a.omit(d.prototype,"url","urlRoot");var h={searchAttributes:[],searchAliases:{},searchAttribute:function(e,t){var n=this.get(e);return!(!t||void 0===n||null===n)&&(r.a.isArray(n)?this._searchArrayAttribute(n,t):-1!==n.toString().toLowerCase().indexOf(t.toLowerCase()))},_searchArrayAttribute:function(e,t){return t=t.toLowerCase(),r.a.any(e,function(e){return-1!==e.toString().toLowerCase().indexOf(t.toLowerCase())})},search:function(e){var t=this;return r.a.filter(this.searchAttributes,function(n){return t.searchAttribute(n,e)})},matches:function(e){var t=e.split("=");if(t.length>=2){var n=t[0];return n=this.searchAliases[n]||n,this.searchAttribute(n,t[1])}return!!this.search(e).length},matchesAll:function(e){var t=this;return e=e.match(/(".*"|\w*=".*"|\S*)/g).filter(function(e){return!!e}),r.a.all(e,function(e){return e=e.replace(/"/g,""),t.matches(e)})}},f={hiddenUntilActivated:function(t,n){if(n=n||{},this.HUAVOptions={$elementShown:this.$el,showFn:e.prototype.toggle,showSpeed:"fast"},r.a.extend(this.HUAVOptions,n||{}),this.HUAVOptions.hasBeenShown=this.HUAVOptions.$elementShown.is(":visible"),this.hidden=this.isHidden(),t){var i=this;t.on("click",function(e){i.toggle(i.HUAVOptions.showSpeed)})}},isHidden:function(){return this.HUAVOptions.$elementShown.is(":hidden")},toggle:function(){return this.hidden?(this.HUAVOptions.hasBeenShown||r.a.isFunction(this.HUAVOptions.onshowFirstTime)&&(this.HUAVOptions.hasBeenShown=!0,this.HUAVOptions.onshowFirstTime.call(this)),r.a.isFunction(this.HUAVOptions.onshow)&&(this.HUAVOptions.onshow.call(this),this.trigger("hiddenUntilActivated:shown",this)),this.hidden=!1):(r.a.isFunction(this.HUAVOptions.onhide)&&(this.HUAVOptions.onhide.call(this),this.trigger("hiddenUntilActivated:hidden",this)),this.hidden=!0),this.HUAVOptions.showFn.apply(this.HUAVOptions.$elementShown,arguments)}},p={initialize:function(e){this.draggable=e.draggable||!1},$dragHandle:function(){return this.$(".title-bar")},toggleDraggable:function(){this.draggable?this.draggableOff():this.draggableOn()},draggableOn:function(){this.draggable=!0,this.dragStartHandler=r.a.bind(this._dragStartHandler,this),this.dragEndHandler=r.a.bind(this._dragEndHandler,this);var e=this.$dragHandle().attr("draggable",!0).get(0);e.addEventListener("dragstart",this.dragStartHandler,!1),e.addEventListener("dragend",this.dragEndHandler,!1)},draggableOff:function(){this.draggable=!1;var e=this.$dragHandle().attr("draggable",!1).get(0);e.removeEventListener("dragstart",this.dragStartHandler,!1),e.removeEventListener("dragend",this.dragEndHandler,!1)},_dragStartHandler:function(e){return e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text",JSON.stringify(this.model.toJSON())),this.trigger("draggable:dragstart",e,this),!1},_dragEndHandler:function(e){return this.trigger("draggable:dragend",e,this),!1}},m={initialize:function(e){this.selectable=e.selectable||!1,this.selected=e.selected||!1},$selector:function(){return this.$(".selector")},_renderSelected:function(){this.$selector().find("span").toggleClass("fa-check-square-o",this.selected).toggleClass("fa-square-o",!this.selected)},toggleSelector:function(){this.$selector().is(":visible")?this.hideSelector():this.showSelector()},showSelector:function(e){e=void 0!==e?e:this.fxSpeed,this.selectable=!0,this.trigger("selectable",!0,this),this._renderSelected(),e?this.$selector().show(e):this.$selector().show()},hideSelector:function(e){e=void 0!==e?e:this.fxSpeed,this.selectable=!1,this.trigger("selectable",!1,this),e?this.$selector().hide(e):this.$selector().hide()},toggleSelect:function(e){this.selected?this.deselect(e):this.select(e)},select:function(e){return this.selected||(this.trigger("selected",this,e),this.selected=!0,this._renderSelected()),!1},deselect:function(e){return this.selected&&(this.trigger("de-selected",this,e),this.selected=!1,this._renderSelected()),!1}};t.a={LoggableMixin:u,SessionStorageModel:d,mixin:function(e,t){var n=Array.prototype.slice.call(arguments,0),i=n.pop();return n.unshift(i),r.a.defaults.apply(r.a,n)},SearchableModelMixin:h,HiddenUntilActivatedViewMixin:f,DraggableViewMixin:p,SelectableViewMixin:m,wrapTemplate:function(e,t){t=t||"model";var n=r.a.template(e.join(""));return function(e,i){var r={view:i||{},_l:c.a};return r[t]=e||{},n(r)}},buildComparator:function(e,t){var n=(t=t||{}).ascending?1:-1;return function(t,i){return((t=t.get(e))<(i=i.get(e))?-1:t>i?1:0)*n}}}}).call(this,n(0))},function(e,t,n){(function(e){e.exports=function(){"use strict";var t,i;function r(){return t.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e,t){for(var n in t)d(t,n)&&(e[n]=t[n]);return d(t,"toString")&&(e.toString=t.toString),d(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,i){return Dt(e,t,n,i,!0).utc()}function p(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var t=p(e),n=i.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function g(e){var t=f(NaN);return null!=e?h(p(t),e):p(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var _=r.momentProperties=[];function v(e,t){var n,i,r;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=p(t)),s(t._locale)||(e._locale=t._locale),_.length>0)for(n=0;n<_.length;n++)i=_[n],s(r=t[i])||(e[i]=r);return e}var y=!1;function b(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,r.updateOffset(this),y=!1)}function w(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function k(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function M(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=k(t)),n}function x(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&M(e[i])!==M(t[i]))&&a++;return a+o}function C(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,t){var n=!0;return h(function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){for(var s in i+="\n["+a+"] ",arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}C(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}var T,L={};function E(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),L[e]||(C(t),L[e]=!0)}function D(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e,t){var n,i=h({},e);for(n in t)d(t,n)&&(a(e[n])&&a(t[n])?(i[n]={},h(i[n],e[n]),h(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)d(e,n)&&!d(t,n)&&a(e[n])&&(i[n]=h({},i[n]));return i}function A(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,T=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)d(e,t)&&n.push(t);return n};var Y={};function R(e,t){var n=e.toLowerCase();Y[n]=Y[n+"s"]=Y[t]=e}function j(e){return"string"==typeof e?Y[e]||Y[e.toLowerCase()]:void 0}function P(e){var t,n,i={};for(n in e)d(e,n)&&(t=j(n))&&(i[t]=e[n]);return i}var N={};function H(e,t){N[e]=t}function I(e,t,n){var i=""+Math.abs(e),r=t-i.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,$=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,W={},z={};function B(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(z[e]=r),t&&(z[t[0]]=function(){return I(r.apply(this,arguments),t[1],t[2])}),n&&(z[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function V(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function U(e,t){return e.isValid()?(t=q(t,e.localeData()),W[t]=W[t]||function(e){var t,n,i=e.match(F);for(t=0,n=i.length;t<n;t++)z[i[t]]?i[t]=z[i[t]]:i[t]=V(i[t]);return function(t){var r,o="";for(r=0;r<n;r++)o+=D(i[r])?i[r].call(t,e):i[r];return o}}(t),W[t](e)):e.localeData().invalidDate()}function q(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for($.lastIndex=0;n>=0&&$.test(e);)e=e.replace($,i),$.lastIndex=0,n-=1;return e}var G=/\d/,J=/\d\d/,K=/\d{3}/,X=/\d{4}/,Q=/[+-]?\d{6}/,Z=/\d\d?/,ee=/\d\d\d\d?/,te=/\d\d\d\d\d\d?/,ne=/\d{1,3}/,ie=/\d{1,4}/,re=/[+-]?\d{1,6}/,oe=/\d+/,ae=/[+-]?\d+/,se=/Z|[+-]\d\d:?\d\d/gi,le=/Z|[+-]\d\d(?::?\d\d)?/gi,ce=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ue={};function de(e,t,n){ue[e]=D(t)?t:function(e,i){return e&&n?n:t}}function he(e,t){return d(ue,e)?ue[e](t._strict,t._locale):new RegExp(function(e){return fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}))}(e))}function fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var pe={};function me(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),l(t)&&(i=function(e,n){n[t]=M(e)}),n=0;n<e.length;n++)pe[e[n]]=i}function ge(e,t){me(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function _e(e,t,n){null!=t&&d(pe,e)&&pe[e](t,n._a,n,e)}var ve=0,ye=1,be=2,we=3,ke=4,Me=5,xe=6,Ce=7,Se=8;function Te(e){return Le(e)?366:365}function Le(e){return e%4==0&&e%100!=0||e%400==0}B("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),B(0,["YY",2],0,function(){return this.year()%100}),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),R("year","y"),H("year",1),de("Y",ae),de("YY",Z,J),de("YYYY",ie,X),de("YYYYY",re,Q),de("YYYYYY",re,Q),me(["YYYYY","YYYYYY"],ve),me("YYYY",function(e,t){t[ve]=2===e.length?r.parseTwoDigitYear(e):M(e)}),me("YY",function(e,t){t[ve]=r.parseTwoDigitYear(e)}),me("Y",function(e,t){t[ve]=parseInt(e,10)}),r.parseTwoDigitYear=function(e){return M(e)+(M(e)>68?1900:2e3)};var Ee,De=Oe("FullYear",!0);function Oe(e,t){return function(n){return null!=n?(Ye(this,e,n),r.updateOffset(this,t),this):Ae(this,e)}}function Ae(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Ye(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Le(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Re(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Re(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-n)/12,1===n?Le(e)?29:28:31-n%7%2}Ee=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},B("M",["MM",2],"Mo",function(){return this.month()+1}),B("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),B("MMMM",0,0,function(e){return this.localeData().months(this,e)}),R("month","M"),H("month",8),de("M",Z),de("MM",Z,J),de("MMM",function(e,t){return t.monthsShortRegex(e)}),de("MMMM",function(e,t){return t.monthsRegex(e)}),me(["M","MM"],function(e,t){t[ye]=M(e)-1}),me(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[ye]=r:p(n).invalidMonth=e});var je=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Pe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ne="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function He(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=M(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Re(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ie(e){return null!=e?(He(this,e),r.updateOffset(this,!0),this):Ae(this,"Month")}var Fe=ce,$e=ce;function We(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;t<12;t++)n=f([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),o.sort(e),t=0;t<12;t++)i[t]=fe(i[t]),r[t]=fe(r[t]);for(t=0;t<24;t++)o[t]=fe(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function ze(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Be(e,t,n){var i=7+t-n,r=(7+ze(e,0,i).getUTCDay()-t)%7;return-r+i-1}function Ve(e,t,n,i,r){var o,a,s=(7+n-i)%7,l=Be(e,i,r),c=1+7*(t-1)+s+l;return c<=0?a=Te(o=e-1)+c:c>Te(e)?(o=e+1,a=c-Te(e)):(o=e,a=c),{year:o,dayOfYear:a}}function Ue(e,t,n){var i,r,o=Be(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?(r=e.year()-1,i=a+qe(r,t,n)):a>qe(e.year(),t,n)?(i=a-qe(e.year(),t,n),r=e.year()+1):(r=e.year(),i=a),{week:i,year:r}}function qe(e,t,n){var i=Be(e,t,n),r=Be(e+1,t,n);return(Te(e)-i+r)/7}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),R("week","w"),R("isoWeek","W"),H("week",5),H("isoWeek",5),de("w",Z),de("ww",Z,J),de("W",Z),de("WW",Z,J),ge(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=M(e)}),B("d",0,"do","day"),B("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),B("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),B("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),R("day","d"),R("weekday","e"),R("isoWeekday","E"),H("day",11),H("weekday",11),H("isoWeekday",11),de("d",Z),de("e",Z),de("E",Z),de("dd",function(e,t){return t.weekdaysMinRegex(e)}),de("ddd",function(e,t){return t.weekdaysShortRegex(e)}),de("dddd",function(e,t){return t.weekdaysRegex(e)}),ge(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:p(n).invalidWeekday=e}),ge(["d","e","E"],function(e,t,n,i){t[i]=M(e)});var Ge="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Je="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ke="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Xe=ce,Qe=ce,Ze=ce;function et(){function e(e,t){return t.length-e.length}var t,n,i,r,o,a=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=f([2e3,1]).day(t),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),l.push(o),c.push(i),c.push(r),c.push(o);for(a.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)s[t]=fe(s[t]),l[t]=fe(l[t]),c[t]=fe(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function tt(){return this.hours()%12||12}function nt(e,t){B(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function it(e,t){return t._meridiemParse}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,tt),B("k",["kk",2],0,function(){return this.hours()||24}),B("hmm",0,0,function(){return""+tt.apply(this)+I(this.minutes(),2)}),B("hmmss",0,0,function(){return""+tt.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)}),B("Hmm",0,0,function(){return""+this.hours()+I(this.minutes(),2)}),B("Hmmss",0,0,function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)}),nt("a",!0),nt("A",!1),R("hour","h"),H("hour",13),de("a",it),de("A",it),de("H",Z),de("h",Z),de("k",Z),de("HH",Z,J),de("hh",Z,J),de("kk",Z,J),de("hmm",ee),de("hmmss",te),de("Hmm",ee),de("Hmmss",te),me(["H","HH"],we),me(["k","kk"],function(e,t,n){var i=M(e);t[we]=24===i?0:i}),me(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),me(["h","hh"],function(e,t,n){t[we]=M(e),p(n).bigHour=!0}),me("hmm",function(e,t,n){var i=e.length-2;t[we]=M(e.substr(0,i)),t[ke]=M(e.substr(i)),p(n).bigHour=!0}),me("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[we]=M(e.substr(0,i)),t[ke]=M(e.substr(i,2)),t[Me]=M(e.substr(r)),p(n).bigHour=!0}),me("Hmm",function(e,t,n){var i=e.length-2;t[we]=M(e.substr(0,i)),t[ke]=M(e.substr(i))}),me("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[we]=M(e.substr(0,i)),t[ke]=M(e.substr(i,2)),t[Me]=M(e.substr(r))});var rt,ot=Oe("Hours",!0),at={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Pe,monthsShort:Ne,week:{dow:0,doy:6},weekdays:Ge,weekdaysMin:Ke,weekdaysShort:Je,meridiemParse:/[ap]\.?m?\.?/i},st={},lt={};function ct(e){return e?e.toLowerCase().replace("_","-"):e}function ut(t){var i=null;if(!st[t]&&void 0!==e&&e&&e.exports)try{i=rt._abbr,n(426)("./"+t),dt(i)}catch(e){}return st[t]}function dt(e,t){var n;return e&&((n=s(t)?ft(e):ht(e,t))?rt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),rt._abbr}function ht(e,t){if(null!==t){var n,i=at;if(t.abbr=e,null!=st[e])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=st[e]._config;else if(null!=t.parentLocale)if(null!=st[t.parentLocale])i=st[t.parentLocale]._config;else{if(null==(n=ut(t.parentLocale)))return lt[t.parentLocale]||(lt[t.parentLocale]=[]),lt[t.parentLocale].push({name:e,config:t}),null;i=n._config}return st[e]=new A(O(i,t)),lt[e]&&lt[e].forEach(function(e){ht(e.name,e.config)}),dt(e),st[e]}return delete st[e],null}function ft(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return rt;if(!o(e)){if(t=ut(e))return t;e=[e]}return function(e){for(var t,n,i,r,o=0;o<e.length;){for(r=ct(e[o]).split("-"),t=r.length,n=(n=ct(e[o+1]))?n.split("-"):null;t>0;){if(i=ut(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&x(r,n,!0)>=t-1)break;t--}o++}return rt}(e)}function pt(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[ye]<0||n[ye]>11?ye:n[be]<1||n[be]>Re(n[ve],n[ye])?be:n[we]<0||n[we]>24||24===n[we]&&(0!==n[ke]||0!==n[Me]||0!==n[xe])?we:n[ke]<0||n[ke]>59?ke:n[Me]<0||n[Me]>59?Me:n[xe]<0||n[xe]>999?xe:-1,p(e)._overflowDayOfYear&&(t<ve||t>be)&&(t=be),p(e)._overflowWeeks&&-1===t&&(t=Ce),p(e)._overflowWeekday&&-1===t&&(t=Se),p(e).overflow=t),e}function mt(e,t,n){return null!=e?e:null!=t?t:n}function gt(e){var t,n,i,o,a,s=[];if(!e._d){for(i=function(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[be]&&null==e._a[ye]&&function(e){var t,n,i,r,o,a,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=mt(t.GG,e._a[ve],Ue(Ot(),1,4).year),i=mt(t.W,1),((r=mt(t.E,1))<1||r>7)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var c=Ue(Ot(),o,a);n=mt(t.gg,e._a[ve],c.year),i=mt(t.w,c.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(l=!0)):r=o}i<1||i>qe(n,o,a)?p(e)._overflowWeeks=!0:null!=l?p(e)._overflowWeekday=!0:(s=Ve(n,i,r,o,a),e._a[ve]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=mt(e._a[ve],i[ve]),(e._dayOfYear>Te(a)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=ze(a,0,e._dayOfYear),e._a[ye]=n.getUTCMonth(),e._a[be]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[we]&&0===e._a[ke]&&0===e._a[Me]&&0===e._a[xe]&&(e._nextDay=!0,e._a[we]=0),e._d=(e._useUTC?ze:function(e,t,n,i,r,o,a){var s=new Date(e,t,n,i,r,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}).apply(null,s),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[we]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(p(e).weekdayMismatch=!0)}}var _t=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yt=/Z|[+-]\d\d(?::?\d\d)?/,bt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],wt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],kt=/^\/?Date\((\-?\d+)/i;function Mt(e){var t,n,i,r,o,a,s=e._i,l=_t.exec(s)||vt.exec(s);if(l){for(p(e).iso=!0,t=0,n=bt.length;t<n;t++)if(bt[t][1].exec(l[1])){r=bt[t][0],i=!1!==bt[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=wt.length;t<n;t++)if(wt[t][1].exec(l[3])){o=(l[2]||" ")+wt[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!yt.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=r+(o||"")+(a||""),Lt(e)}else e._isValid=!1}var xt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Ct(e,t,n,i,r,o){var a=[function(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}(e),Ne.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&a.push(parseInt(o,10)),a}var St={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Tt(e){var t=xt.exec(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(e._i));if(t){var n=Ct(t[4],t[3],t[2],t[5],t[6],t[7]);if(!function(e,t,n){if(e){var i=Je.indexOf(e),r=new Date(t[0],t[1],t[2]).getDay();if(i!==r)return p(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}(t[1],n,e))return;e._a=n,e._tzm=function(e,t,n){if(e)return St[e];if(t)return 0;var i=parseInt(n,10),r=i%100,o=(i-r)/100;return 60*o+r}(t[8],t[9],t[10]),e._d=ze.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function Lt(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],p(e).empty=!0;var t,n,i,o,a,s=""+e._i,l=s.length,c=0;for(i=q(e._f,e._locale).match(F)||[],t=0;t<i.length;t++)o=i[t],(n=(s.match(he(o,e))||[])[0])&&((a=s.substr(0,s.indexOf(n))).length>0&&p(e).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),c+=n.length),z[o]?(n?p(e).empty=!1:p(e).unusedTokens.push(o),_e(o,n,e)):e._strict&&!n&&p(e).unusedTokens.push(o);p(e).charsLeftOver=l-c,s.length>0&&p(e).unusedInput.push(s),e._a[we]<=12&&!0===p(e).bigHour&&e._a[we]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[we]=function(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}(e._locale,e._a[we],e._meridiem),gt(e),pt(e)}else Tt(e);else Mt(e)}function Et(e){var t=e._i,n=e._f;return e._locale=e._locale||ft(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new b(pt(t)):(c(t)?e._d=t:o(n)?function(e){var t,n,i,r,o;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],Lt(t),m(t)&&(o+=p(t).charsLeftOver,o+=10*p(t).unusedTokens.length,p(t).score=o,(null==i||o<i)&&(i=o,n=t));h(e,n||t)}(e):n?Lt(e):function(e){var t=e._i;s(t)?e._d=new Date(r.now()):c(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=kt.exec(e._i);null===t?(Mt(e),!1===e._isValid&&(delete e._isValid,Tt(e),!1===e._isValid&&(delete e._isValid,r.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=u(t.slice(0),function(e){return parseInt(e,10)}),gt(e)):a(t)?function(e){if(!e._d){var t=P(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),gt(e)}}(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}(e),m(e)||(e._d=null),e))}function Dt(e,t,n,i,r){var s={};return!0!==n&&!1!==n||(i=n,n=void 0),(a(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||o(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=n,s._i=e,s._f=t,s._strict=i,function(e){var t=new b(pt(Et(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(s)}function Ot(e,t,n,i){return Dt(e,t,n,i,!1)}r.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),r.ISO_8601=function(){},r.RFC_2822=function(){};var At=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()}),Yt=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()});function Rt(e,t){var n,i;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Ot();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var jt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Pt(e){var t=P(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Ee.call(jt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<jt.length;++i)if(e[jt[i]]){if(n)return!1;parseFloat(e[jt[i]])!==M(e[jt[i]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=ft(),this._bubble()}function Nt(e){return e instanceof Pt}function Ht(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function It(e,t){B(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+I(~~(e/60),2)+t+I(~~e%60,2)})}It("Z",":"),It("ZZ",""),de("Z",le),de("ZZ",le),me(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=$t(le,e)});var Ft=/([\+\-]|\d\d)/gi;function $t(e,t){var n=(t||"").match(e);if(null===n)return null;var i=n[n.length-1]||[],r=(i+"").match(Ft)||["-",0,0],o=60*r[1]+M(r[2]);return 0===o?0:"+"===r[0]?o:-o}function Wt(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(w(e)||c(e)?e.valueOf():Ot(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Ot(e).local()}function zt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Bt(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Vt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ut=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function qt(e,t){var n,i,r,o=e,a=null;return Nt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:l(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=Vt.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:M(a[be])*n,h:M(a[we])*n,m:M(a[ke])*n,s:M(a[Me])*n,ms:M(Ht(1e3*a[xe]))*n}):(a=Ut.exec(e))?(n="-"===a[1]?-1:(a[1],1),o={y:Gt(a[2],n),M:Gt(a[3],n),w:Gt(a[4],n),d:Gt(a[5],n),h:Gt(a[6],n),m:Gt(a[7],n),s:Gt(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=function(e,t){var n;return e.isValid()&&t.isValid()?(t=Wt(t,e),e.isBefore(t)?n=Jt(e,t):((n=Jt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(Ot(o.from),Ot(o.to)),(o={}).ms=r.milliseconds,o.M=r.months),i=new Pt(o),Nt(e)&&d(e,"_locale")&&(i._locale=e._locale),i}function Gt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Jt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Kt(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Xt(this,qt(n="string"==typeof n?+n:n,i),e),this}}function Xt(e,t,n,i){var o=t._milliseconds,a=Ht(t._days),s=Ht(t._months);e.isValid()&&(i=null==i||i,s&&He(e,Ae(e,"Month")+s*n),a&&Ye(e,"Date",Ae(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,a||s))}qt.fn=Pt.prototype,qt.invalid=function(){return qt(NaN)};var Qt=Kt(1,"add"),Zt=Kt(-1,"subtract");function en(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,"months");return t-o<0?(n=e.clone().add(r-1,"months"),i=(t-o)/(o-n)):(n=e.clone().add(r+1,"months"),i=(t-o)/(n-o)),-(r+i)||0}function tn(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ft(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var nn=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function rn(){return this._locale}function on(e,t){B(0,[e,e.length],0,t)}function an(e,t,n,i,r){var o;return null==e?Ue(this,i,r).year:(o=qe(e,i,r),t>o&&(t=o),function(e,t,n,i,r){var o=Ve(e,t,n,i,r),a=ze(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,i,r))}B(0,["gg",2],0,function(){return this.weekYear()%100}),B(0,["GG",2],0,function(){return this.isoWeekYear()%100}),on("gggg","weekYear"),on("ggggg","weekYear"),on("GGGG","isoWeekYear"),on("GGGGG","isoWeekYear"),R("weekYear","gg"),R("isoWeekYear","GG"),H("weekYear",1),H("isoWeekYear",1),de("G",ae),de("g",ae),de("GG",Z,J),de("gg",Z,J),de("GGGG",ie,X),de("gggg",ie,X),de("GGGGG",re,Q),de("ggggg",re,Q),ge(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=M(e)}),ge(["gg","GG"],function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)}),B("Q",0,"Qo","quarter"),R("quarter","Q"),H("quarter",7),de("Q",G),me("Q",function(e,t){t[ye]=3*(M(e)-1)}),B("D",["DD",2],"Do","date"),R("date","D"),H("date",9),de("D",Z),de("DD",Z,J),de("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),me(["D","DD"],be),me("Do",function(e,t){t[be]=M(e.match(Z)[0])});var sn=Oe("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),R("dayOfYear","DDD"),H("dayOfYear",4),de("DDD",ne),de("DDDD",K),me(["DDD","DDDD"],function(e,t,n){n._dayOfYear=M(e)}),B("m",["mm",2],0,"minute"),R("minute","m"),H("minute",14),de("m",Z),de("mm",Z,J),me(["m","mm"],ke);var ln=Oe("Minutes",!1);B("s",["ss",2],0,"second"),R("second","s"),H("second",15),de("s",Z),de("ss",Z,J),me(["s","ss"],Me);var cn,un=Oe("Seconds",!1);for(B("S",0,0,function(){return~~(this.millisecond()/100)}),B(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,function(){return 10*this.millisecond()}),B(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),B(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),B(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),B(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),B(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),R("millisecond","ms"),H("millisecond",16),de("S",ne,G),de("SS",ne,J),de("SSS",ne,K),cn="SSSS";cn.length<=9;cn+="S")de(cn,oe);function dn(e,t){t[xe]=M(1e3*("0."+e))}for(cn="S";cn.length<=9;cn+="S")me(cn,dn);var hn=Oe("Milliseconds",!1);B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var fn=b.prototype;function pn(e){return e}fn.add=Qt,fn.calendar=function(e,t){var n=e||Ot(),i=Wt(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",a=t&&(D(t[o])?t[o].call(this,n):t[o]);return this.format(a||this.localeData().calendar(o,this,Ot(n)))},fn.clone=function(){return new b(this)},fn.diff=function(e,t,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=Wt(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=j(t)){case"year":o=en(this,i)/12;break;case"month":o=en(this,i);break;case"quarter":o=en(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:k(o)},fn.endOf=function(e){return void 0===(e=j(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},fn.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=U(this,e);return this.localeData().postformat(t)},fn.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Ot(e).isValid())?qt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fn.fromNow=function(e){return this.from(Ot(),e)},fn.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Ot(e).isValid())?qt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fn.toNow=function(e){return this.to(Ot(),e)},fn.get=function(e){return D(this[e=j(e)])?this[e]():this},fn.invalidAt=function(){return p(this).overflow},fn.isAfter=function(e,t){var n=w(e)?e:Ot(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=j(s(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},fn.isBefore=function(e,t){var n=w(e)?e:Ot(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=j(s(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},fn.isBetween=function(e,t,n,i){return("("===(i=i||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))},fn.isSame=function(e,t){var n,i=w(e)?e:Ot(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=j(t||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},fn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},fn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},fn.isValid=function(){return m(this)},fn.lang=nn,fn.locale=tn,fn.localeData=rn,fn.max=Yt,fn.min=At,fn.parsingFlags=function(){return h({},p(this))},fn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:N[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=P(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(D(this[e=j(e)]))return this[e](t);return this},fn.startOf=function(e){switch(e=j(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},fn.subtract=Zt,fn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},fn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},fn.toDate=function(){return new Date(this.valueOf())},fn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?U(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",U(n,"Z")):U(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},fn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=t+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)},fn.toJSON=function(){return this.isValid()?this.toISOString():null},fn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},fn.unix=function(){return Math.floor(this.valueOf()/1e3)},fn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},fn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},fn.year=De,fn.isLeapYear=function(){return Le(this.year())},fn.weekYear=function(e){return an.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},fn.isoWeekYear=function(e){return an.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},fn.quarter=fn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},fn.month=Ie,fn.daysInMonth=function(){return Re(this.year(),this.month())},fn.week=fn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},fn.isoWeek=fn.isoWeeks=function(e){var t=Ue(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},fn.weeksInYear=function(){var e=this.localeData()._week;return qe(this.year(),e.dow,e.doy)},fn.isoWeeksInYear=function(){return qe(this.year(),1,4)},fn.date=sn,fn.day=fn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},fn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},fn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},fn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},fn.hour=fn.hours=ot,fn.minute=fn.minutes=ln,fn.second=fn.seconds=un,fn.millisecond=fn.milliseconds=hn,fn.utcOffset=function(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=$t(le,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=zt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?Xt(this,qt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:zt(this)},fn.utc=function(e){return this.utcOffset(0,e)},fn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(zt(this),"m")),this},fn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=$t(se,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},fn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Ot(e).utcOffset():0,(this.utcOffset()-e)%60==0)},fn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},fn.isLocal=function(){return!!this.isValid()&&!this._isUTC},fn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},fn.isUtc=Bt,fn.isUTC=Bt,fn.zoneAbbr=function(){return this._isUTC?"UTC":""},fn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},fn.dates=S("dates accessor is deprecated. Use date instead.",sn),fn.months=S("months accessor is deprecated. Use month instead",Ie),fn.years=S("years accessor is deprecated. Use year instead",De),fn.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),fn.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),(e=Et(e))._a){var t=e._isUTC?f(e._a):Ot(e._a);this._isDSTShifted=this.isValid()&&x(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var mn=A.prototype;function gn(e,t,n,i){var r=ft(),o=f().set(i,t);return r[n](o,e)}function _n(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return gn(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=gn(e,i,n,"month");return r}function vn(e,t,n,i){"boolean"==typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var r,o=ft(),a=e?o._week.dow:0;if(null!=n)return gn(t,(n+a)%7,i,"day");var s=[];for(r=0;r<7;r++)s[r]=gn(t,(r+a)%7,i,"day");return s}mn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return D(i)?i.call(t,n):i},mn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},mn.invalidDate=function(){return this._invalidDate},mn.ordinal=function(e){return this._ordinal.replace("%d",e)},mn.preparse=pn,mn.postformat=pn,mn.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return D(r)?r(e,t,n,i):r.replace(/%d/i,e)},mn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return D(n)?n(t):n.replace(/%s/i,t)},mn.set=function(e){var t,n;for(n in e)D(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},mn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||je).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},mn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[je.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},mn.monthsParse=function(e,t,n){var i,r,o;if(this._monthsParseExact)return function(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=f([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=Ee.call(this._shortMonthsParse,a))?r:null:-1!==(r=Ee.call(this._longMonthsParse,a))?r:null:"MMM"===t?-1!==(r=Ee.call(this._shortMonthsParse,a))?r:-1!==(r=Ee.call(this._longMonthsParse,a))?r:null:-1!==(r=Ee.call(this._longMonthsParse,a))?r:-1!==(r=Ee.call(this._shortMonthsParse,a))?r:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=f([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},mn.monthsRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||We.call(this),e?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=$e),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},mn.monthsShortRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||We.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=Fe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},mn.week=function(e){return Ue(e,this._week.dow,this._week.doy).week},mn.firstDayOfYear=function(){return this._week.doy},mn.firstDayOfWeek=function(){return this._week.dow},mn.weekdays=function(e,t){return e?o(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:o(this._weekdays)?this._weekdays:this._weekdays.standalone},mn.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},mn.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},mn.weekdaysParse=function(e,t,n){var i,r,o;if(this._weekdaysParseExact)return function(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=f([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=Ee.call(this._weekdaysParse,a))?r:null:"ddd"===t?-1!==(r=Ee.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=Ee.call(this._minWeekdaysParse,a))?r:null:"dddd"===t?-1!==(r=Ee.call(this._weekdaysParse,a))?r:-1!==(r=Ee.call(this._shortWeekdaysParse,a))?r:-1!==(r=Ee.call(this._minWeekdaysParse,a))?r:null:"ddd"===t?-1!==(r=Ee.call(this._shortWeekdaysParse,a))?r:-1!==(r=Ee.call(this._weekdaysParse,a))?r:-1!==(r=Ee.call(this._minWeekdaysParse,a))?r:null:-1!==(r=Ee.call(this._minWeekdaysParse,a))?r:-1!==(r=Ee.call(this._weekdaysParse,a))?r:-1!==(r=Ee.call(this._shortWeekdaysParse,a))?r:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=f([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},mn.weekdaysRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Xe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},mn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Qe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},mn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ze),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},mn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},mn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},dt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===M(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),r.lang=S("moment.lang is deprecated. Use moment.locale instead.",dt),r.langData=S("moment.langData is deprecated. Use moment.localeData instead.",ft);var yn=Math.abs;function bn(e,t,n,i){var r=qt(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function wn(e){return e<0?Math.floor(e):Math.ceil(e)}function kn(e){return 4800*e/146097}function Mn(e){return 146097*e/4800}function xn(e){return function(){return this.as(e)}}var Cn=xn("ms"),Sn=xn("s"),Tn=xn("m"),Ln=xn("h"),En=xn("d"),Dn=xn("w"),On=xn("M"),An=xn("y");function Yn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Rn=Yn("milliseconds"),jn=Yn("seconds"),Pn=Yn("minutes"),Nn=Yn("hours"),Hn=Yn("days"),In=Yn("months"),Fn=Yn("years"),$n=Math.round,Wn={ss:44,s:45,m:45,h:22,d:26,M:11},zn=Math.abs;function Bn(e){return(e>0)-(e<0)||+e}function Vn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=zn(this._milliseconds)/1e3,i=zn(this._days),r=zn(this._months);e=k(n/60),t=k(e/60),n%=60,e%=60;var o=k(r/12),a=r%=12,s=i,l=t,c=e,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var h=d<0?"-":"",f=Bn(this._months)!==Bn(d)?"-":"",p=Bn(this._days)!==Bn(d)?"-":"",m=Bn(this._milliseconds)!==Bn(d)?"-":"";return h+"P"+(o?f+o+"Y":"")+(a?f+a+"M":"")+(s?p+s+"D":"")+(l||c||u?"T":"")+(l?m+l+"H":"")+(c?m+c+"M":"")+(u?m+u+"S":"")}var Un=Pt.prototype;return Un.isValid=function(){return this._isValid},Un.abs=function(){var e=this._data;return this._milliseconds=yn(this._milliseconds),this._days=yn(this._days),this._months=yn(this._months),e.milliseconds=yn(e.milliseconds),e.seconds=yn(e.seconds),e.minutes=yn(e.minutes),e.hours=yn(e.hours),e.months=yn(e.months),e.years=yn(e.years),this},Un.add=function(e,t){return bn(this,e,t,1)},Un.subtract=function(e,t){return bn(this,e,t,-1)},Un.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=j(e))||"year"===e)return t=this._days+i/864e5,n=this._months+kn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Mn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},Un.asMilliseconds=Cn,Un.asSeconds=Sn,Un.asMinutes=Tn,Un.asHours=Ln,Un.asDays=En,Un.asWeeks=Dn,Un.asMonths=On,Un.asYears=An,Un.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*M(this._months/12):NaN},Un._bubble=function(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*wn(Mn(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=k(o/1e3),l.seconds=e%60,t=k(e/60),l.minutes=t%60,n=k(t/60),l.hours=n%24,a+=k(n/24),r=k(kn(a)),s+=r,a-=wn(Mn(r)),i=k(s/12),s%=12,l.days=a,l.months=s,l.years=i,this},Un.clone=function(){return qt(this)},Un.get=function(e){return e=j(e),this.isValid()?this[e+"s"]():NaN},Un.milliseconds=Rn,Un.seconds=jn,Un.minutes=Pn,Un.hours=Nn,Un.days=Hn,Un.weeks=function(){return k(this.days()/7)},Un.months=In,Un.years=Fn,Un.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var i=qt(e).abs(),r=$n(i.as("s")),o=$n(i.as("m")),a=$n(i.as("h")),s=$n(i.as("d")),l=$n(i.as("M")),c=$n(i.as("y")),u=r<=Wn.ss&&["s",r]||r<Wn.s&&["ss",r]||o<=1&&["m"]||o<Wn.m&&["mm",o]||a<=1&&["h"]||a<Wn.h&&["hh",a]||s<=1&&["d"]||s<Wn.d&&["dd",s]||l<=1&&["M"]||l<Wn.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,function(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}.apply(null,u)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Un.toISOString=Vn,Un.toString=Vn,Un.toJSON=Vn,Un.locale=tn,Un.localeData=rn,Un.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Vn),Un.lang=nn,B("X",0,0,"unix"),B("x",0,0,"valueOf"),de("x",ae),de("X",/[+-]?\d+(\.\d{1,3})?/),me("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),me("x",function(e,t,n){n._d=new Date(M(e))}),r.version="2.22.2",function(e){t=e}(Ot),r.fn=fn,r.min=function(){return Rt("isBefore",[].slice.call(arguments,0))},r.max=function(){return Rt("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=f,r.unix=function(e){return Ot(1e3*e)},r.months=function(e,t){return _n(e,t,"months")},r.isDate=c,r.locale=dt,r.invalid=g,r.duration=qt,r.isMoment=w,r.weekdays=function(e,t,n){return vn(e,t,n,"weekdays")},r.parseZone=function(){return Ot.apply(null,arguments).parseZone()},r.localeData=ft,r.isDuration=Nt,r.monthsShort=function(e,t){return _n(e,t,"monthsShort")},r.weekdaysMin=function(e,t,n){return vn(e,t,n,"weekdaysMin")},r.defineLocale=ht,r.updateLocale=function(e,t){if(null!=t){var n,i,r=at;null!=(i=ut(e))&&(r=i._config),t=O(r,t),(n=new A(t)).parentLocale=st[e],st[e]=n,dt(e)}else null!=st[e]&&(null!=st[e].parentLocale?st[e]=st[e].parentLocale:null!=st[e]&&delete st[e]);return st[e]},r.locales=function(){return T(st)},r.weekdaysShort=function(e,t,n){return vn(e,t,n,"weekdaysShort")},r.normalizeUnits=j,r.relativeTimeRounding=function(e){return void 0===e?$n:"function"==typeof e&&($n=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==Wn[e]&&(void 0===t?Wn[e]:(Wn[e]=t,"s"===e&&(Wn.ss=t-1),!0))},r.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=fn,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,n(412)(e))},function(e,t,n){(function(e){e.exports=function(){"use strict";var t,i;function r(){return t.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e,t){for(var n in t)d(t,n)&&(e[n]=t[n]);return d(t,"toString")&&(e.toString=t.toString),d(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,i){return Dt(e,t,n,i,!0).utc()}function p(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var t=p(e),n=i.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function g(e){var t=f(NaN);return null!=e?h(p(t),e):p(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var _=r.momentProperties=[];function v(e,t){var n,i,r;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=p(t)),s(t._locale)||(e._locale=t._locale),_.length>0)for(n=0;n<_.length;n++)i=_[n],s(r=t[i])||(e[i]=r);return e}var y=!1;function b(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,r.updateOffset(this),y=!1)}function w(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function k(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function M(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=k(t)),n}function x(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&M(e[i])!==M(t[i]))&&a++;return a+o}function C(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function S(e,t){var n=!0;return h(function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){for(var s in i+="\n["+a+"] ",arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}C(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}var T,L={};function E(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),L[e]||(C(t),L[e]=!0)}function D(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e,t){var n,i=h({},e);for(n in t)d(t,n)&&(a(e[n])&&a(t[n])?(i[n]={},h(i[n],e[n]),h(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)d(e,n)&&!d(t,n)&&a(e[n])&&(i[n]=h({},i[n]));return i}function A(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,T=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)d(e,t)&&n.push(t);return n};var Y={};function R(e,t){var n=e.toLowerCase();Y[n]=Y[n+"s"]=Y[t]=e}function j(e){return"string"==typeof e?Y[e]||Y[e.toLowerCase()]:void 0}function P(e){var t,n,i={};for(n in e)d(e,n)&&(t=j(n))&&(i[t]=e[n]);return i}var N={};function H(e,t){N[e]=t}function I(e,t,n){var i=""+Math.abs(e),r=t-i.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,$=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,W={},z={};function B(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(z[e]=r),t&&(z[t[0]]=function(){return I(r.apply(this,arguments),t[1],t[2])}),n&&(z[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function V(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function U(e,t){return e.isValid()?(t=q(t,e.localeData()),W[t]=W[t]||function(e){var t,n,i=e.match(F);for(t=0,n=i.length;t<n;t++)z[i[t]]?i[t]=z[i[t]]:i[t]=V(i[t]);return function(t){var r,o="";for(r=0;r<n;r++)o+=D(i[r])?i[r].call(t,e):i[r];return o}}(t),W[t](e)):e.localeData().invalidDate()}function q(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for($.lastIndex=0;n>=0&&$.test(e);)e=e.replace($,i),$.lastIndex=0,n-=1;return e}var G=/\d/,J=/\d\d/,K=/\d{3}/,X=/\d{4}/,Q=/[+-]?\d{6}/,Z=/\d\d?/,ee=/\d\d\d\d?/,te=/\d\d\d\d\d\d?/,ne=/\d{1,3}/,ie=/\d{1,4}/,re=/[+-]?\d{1,6}/,oe=/\d+/,ae=/[+-]?\d+/,se=/Z|[+-]\d\d:?\d\d/gi,le=/Z|[+-]\d\d(?::?\d\d)?/gi,ce=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ue={};function de(e,t,n){ue[e]=D(t)?t:function(e,i){return e&&n?n:t}}function he(e,t){return d(ue,e)?ue[e](t._strict,t._locale):new RegExp(function(e){return fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}))}(e))}function fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var pe={};function me(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),l(t)&&(i=function(e,n){n[t]=M(e)}),n=0;n<e.length;n++)pe[e[n]]=i}function ge(e,t){me(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function _e(e,t,n){null!=t&&d(pe,e)&&pe[e](t,n._a,n,e)}var ve=0,ye=1,be=2,we=3,ke=4,Me=5,xe=6,Ce=7,Se=8;function Te(e){return Le(e)?366:365}function Le(e){return e%4==0&&e%100!=0||e%400==0}B("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),B(0,["YY",2],0,function(){return this.year()%100}),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),R("year","y"),H("year",1),de("Y",ae),de("YY",Z,J),de("YYYY",ie,X),de("YYYYY",re,Q),de("YYYYYY",re,Q),me(["YYYYY","YYYYYY"],ve),me("YYYY",function(e,t){t[ve]=2===e.length?r.parseTwoDigitYear(e):M(e)}),me("YY",function(e,t){t[ve]=r.parseTwoDigitYear(e)}),me("Y",function(e,t){t[ve]=parseInt(e,10)}),r.parseTwoDigitYear=function(e){return M(e)+(M(e)>68?1900:2e3)};var Ee,De=Oe("FullYear",!0);function Oe(e,t){return function(n){return null!=n?(Ye(this,e,n),r.updateOffset(this,t),this):Ae(this,e)}}function Ae(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Ye(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Le(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Re(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Re(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-n)/12,1===n?Le(e)?29:28:31-n%7%2}Ee=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},B("M",["MM",2],"Mo",function(){return this.month()+1}),B("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),B("MMMM",0,0,function(e){return this.localeData().months(this,e)}),R("month","M"),H("month",8),de("M",Z),de("MM",Z,J),de("MMM",function(e,t){return t.monthsShortRegex(e)}),de("MMMM",function(e,t){return t.monthsRegex(e)}),me(["M","MM"],function(e,t){t[ye]=M(e)-1}),me(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[ye]=r:p(n).invalidMonth=e});var je=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Pe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ne="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function He(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=M(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Re(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ie(e){return null!=e?(He(this,e),r.updateOffset(this,!0),this):Ae(this,"Month")}var Fe=ce,$e=ce;function We(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;t<12;t++)n=f([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),o.sort(e),t=0;t<12;t++)i[t]=fe(i[t]),r[t]=fe(r[t]);for(t=0;t<24;t++)o[t]=fe(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function ze(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Be(e,t,n){var i=7+t-n,r=(7+ze(e,0,i).getUTCDay()-t)%7;return-r+i-1}function Ve(e,t,n,i,r){var o,a,s=(7+n-i)%7,l=Be(e,i,r),c=1+7*(t-1)+s+l;return c<=0?a=Te(o=e-1)+c:c>Te(e)?(o=e+1,a=c-Te(e)):(o=e,a=c),{year:o,dayOfYear:a}}function Ue(e,t,n){var i,r,o=Be(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?(r=e.year()-1,i=a+qe(r,t,n)):a>qe(e.year(),t,n)?(i=a-qe(e.year(),t,n),r=e.year()+1):(r=e.year(),i=a),{week:i,year:r}}function qe(e,t,n){var i=Be(e,t,n),r=Be(e+1,t,n);return(Te(e)-i+r)/7}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),R("week","w"),R("isoWeek","W"),H("week",5),H("isoWeek",5),de("w",Z),de("ww",Z,J),de("W",Z),de("WW",Z,J),ge(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=M(e)}),B("d",0,"do","day"),B("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),B("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),B("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),R("day","d"),R("weekday","e"),R("isoWeekday","E"),H("day",11),H("weekday",11),H("isoWeekday",11),de("d",Z),de("e",Z),de("E",Z),de("dd",function(e,t){return t.weekdaysMinRegex(e)}),de("ddd",function(e,t){return t.weekdaysShortRegex(e)}),de("dddd",function(e,t){return t.weekdaysRegex(e)}),ge(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:p(n).invalidWeekday=e}),ge(["d","e","E"],function(e,t,n,i){t[i]=M(e)});var Ge="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Je="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ke="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Xe=ce,Qe=ce,Ze=ce;function et(){function e(e,t){return t.length-e.length}var t,n,i,r,o,a=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=f([2e3,1]).day(t),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),l.push(o),c.push(i),c.push(r),c.push(o);for(a.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)s[t]=fe(s[t]),l[t]=fe(l[t]),c[t]=fe(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function tt(){return this.hours()%12||12}function nt(e,t){B(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function it(e,t){return t._meridiemParse}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,tt),B("k",["kk",2],0,function(){return this.hours()||24}),B("hmm",0,0,function(){return""+tt.apply(this)+I(this.minutes(),2)}),B("hmmss",0,0,function(){return""+tt.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)}),B("Hmm",0,0,function(){return""+this.hours()+I(this.minutes(),2)}),B("Hmmss",0,0,function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)}),nt("a",!0),nt("A",!1),R("hour","h"),H("hour",13),de("a",it),de("A",it),de("H",Z),de("h",Z),de("k",Z),de("HH",Z,J),de("hh",Z,J),de("kk",Z,J),de("hmm",ee),de("hmmss",te),de("Hmm",ee),de("Hmmss",te),me(["H","HH"],we),me(["k","kk"],function(e,t,n){var i=M(e);t[we]=24===i?0:i}),me(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),me(["h","hh"],function(e,t,n){t[we]=M(e),p(n).bigHour=!0}),me("hmm",function(e,t,n){var i=e.length-2;t[we]=M(e.substr(0,i)),t[ke]=M(e.substr(i)),p(n).bigHour=!0}),me("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[we]=M(e.substr(0,i)),t[ke]=M(e.substr(i,2)),t[Me]=M(e.substr(r)),p(n).bigHour=!0}),me("Hmm",function(e,t,n){var i=e.length-2;t[we]=M(e.substr(0,i)),t[ke]=M(e.substr(i))}),me("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[we]=M(e.substr(0,i)),t[ke]=M(e.substr(i,2)),t[Me]=M(e.substr(r))});var rt,ot=Oe("Hours",!0),at={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Pe,monthsShort:Ne,week:{dow:0,doy:6},weekdays:Ge,weekdaysMin:Ke,weekdaysShort:Je,meridiemParse:/[ap]\.?m?\.?/i},st={},lt={};function ct(e){return e?e.toLowerCase().replace("_","-"):e}function ut(t){var i=null;if(!st[t]&&void 0!==e&&e&&e.exports)try{i=rt._abbr,n(425)("./"+t),dt(i)}catch(e){}return st[t]}function dt(e,t){var n;return e&&(n=s(t)?ft(e):ht(e,t))&&(rt=n),rt._abbr}function ht(e,t){if(null!==t){var n=at;if(t.abbr=e,null!=st[e])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=st[e]._config;else if(null!=t.parentLocale){if(null==st[t.parentLocale])return lt[t.parentLocale]||(lt[t.parentLocale]=[]),lt[t.parentLocale].push({name:e,config:t}),null;n=st[t.parentLocale]._config}return st[e]=new A(O(n,t)),lt[e]&&lt[e].forEach(function(e){ht(e.name,e.config)}),dt(e),st[e]}return delete st[e],null}function ft(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return rt;if(!o(e)){if(t=ut(e))return t;e=[e]}return function(e){for(var t,n,i,r,o=0;o<e.length;){for(r=ct(e[o]).split("-"),t=r.length,n=(n=ct(e[o+1]))?n.split("-"):null;t>0;){if(i=ut(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&x(r,n,!0)>=t-1)break;t--}o++}return null}(e)}function pt(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[ye]<0||n[ye]>11?ye:n[be]<1||n[be]>Re(n[ve],n[ye])?be:n[we]<0||n[we]>24||24===n[we]&&(0!==n[ke]||0!==n[Me]||0!==n[xe])?we:n[ke]<0||n[ke]>59?ke:n[Me]<0||n[Me]>59?Me:n[xe]<0||n[xe]>999?xe:-1,p(e)._overflowDayOfYear&&(t<ve||t>be)&&(t=be),p(e)._overflowWeeks&&-1===t&&(t=Ce),p(e)._overflowWeekday&&-1===t&&(t=Se),p(e).overflow=t),e}function mt(e,t,n){return null!=e?e:null!=t?t:n}function gt(e){var t,n,i,o,a,s=[];if(!e._d){for(i=function(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[be]&&null==e._a[ye]&&function(e){var t,n,i,r,o,a,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=mt(t.GG,e._a[ve],Ue(Ot(),1,4).year),i=mt(t.W,1),((r=mt(t.E,1))<1||r>7)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var c=Ue(Ot(),o,a);n=mt(t.gg,e._a[ve],c.year),i=mt(t.w,c.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+o,(t.e<0||t.e>6)&&(l=!0)):r=o}i<1||i>qe(n,o,a)?p(e)._overflowWeeks=!0:null!=l?p(e)._overflowWeekday=!0:(s=Ve(n,i,r,o,a),e._a[ve]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=mt(e._a[ve],i[ve]),(e._dayOfYear>Te(a)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=ze(a,0,e._dayOfYear),e._a[ye]=n.getUTCMonth(),e._a[be]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[we]&&0===e._a[ke]&&0===e._a[Me]&&0===e._a[xe]&&(e._nextDay=!0,e._a[we]=0),e._d=(e._useUTC?ze:function(e,t,n,i,r,o,a){var s=new Date(e,t,n,i,r,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}).apply(null,s),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[we]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(p(e).weekdayMismatch=!0)}}var _t=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yt=/Z|[+-]\d\d(?::?\d\d)?/,bt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],wt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],kt=/^\/?Date\((\-?\d+)/i;function Mt(e){var t,n,i,r,o,a,s=e._i,l=_t.exec(s)||vt.exec(s);if(l){for(p(e).iso=!0,t=0,n=bt.length;t<n;t++)if(bt[t][1].exec(l[1])){r=bt[t][0],i=!1!==bt[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=wt.length;t<n;t++)if(wt[t][1].exec(l[3])){o=(l[2]||" ")+wt[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!yt.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=r+(o||"")+(a||""),Lt(e)}else e._isValid=!1}var xt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Ct(e,t,n,i,r,o){var a=[function(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}(e),Ne.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&a.push(parseInt(o,10)),a}var St={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Tt(e){var t=xt.exec(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e._i));if(t){var n=Ct(t[4],t[3],t[2],t[5],t[6],t[7]);if(!function(e,t,n){if(e){var i=Je.indexOf(e),r=new Date(t[0],t[1],t[2]).getDay();if(i!==r)return p(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}(t[1],n,e))return;e._a=n,e._tzm=function(e,t,n){if(e)return St[e];if(t)return 0;var i=parseInt(n,10),r=i%100,o=(i-r)/100;return 60*o+r}(t[8],t[9],t[10]),e._d=ze.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function Lt(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],p(e).empty=!0;var t,n,i,o,a,s=""+e._i,l=s.length,c=0;for(i=q(e._f,e._locale).match(F)||[],t=0;t<i.length;t++)o=i[t],(n=(s.match(he(o,e))||[])[0])&&((a=s.substr(0,s.indexOf(n))).length>0&&p(e).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),c+=n.length),z[o]?(n?p(e).empty=!1:p(e).unusedTokens.push(o),_e(o,n,e)):e._strict&&!n&&p(e).unusedTokens.push(o);p(e).charsLeftOver=l-c,s.length>0&&p(e).unusedInput.push(s),e._a[we]<=12&&!0===p(e).bigHour&&e._a[we]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[we]=function(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}(e._locale,e._a[we],e._meridiem),gt(e),pt(e)}else Tt(e);else Mt(e)}function Et(e){var t=e._i,n=e._f;return e._locale=e._locale||ft(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new b(pt(t)):(c(t)?e._d=t:o(n)?function(e){var t,n,i,r,o;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],Lt(t),m(t)&&(o+=p(t).charsLeftOver,o+=10*p(t).unusedTokens.length,p(t).score=o,(null==i||o<i)&&(i=o,n=t));h(e,n||t)}(e):n?Lt(e):function(e){var t=e._i;s(t)?e._d=new Date(r.now()):c(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=kt.exec(e._i);null===t?(Mt(e),!1===e._isValid&&(delete e._isValid,Tt(e),!1===e._isValid&&(delete e._isValid,r.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=u(t.slice(0),function(e){return parseInt(e,10)}),gt(e)):a(t)?function(e){if(!e._d){var t=P(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),gt(e)}}(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}(e),m(e)||(e._d=null),e))}function Dt(e,t,n,i,r){var s={};return!0!==n&&!1!==n||(i=n,n=void 0),(a(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||o(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=n,s._i=e,s._f=t,s._strict=i,function(e){var t=new b(pt(Et(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(s)}function Ot(e,t,n,i){return Dt(e,t,n,i,!1)}r.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),r.ISO_8601=function(){},r.RFC_2822=function(){};var At=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()}),Yt=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()});function Rt(e,t){var n,i;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Ot();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var jt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Pt(e){var t=P(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Ee.call(jt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<jt.length;++i)if(e[jt[i]]){if(n)return!1;parseFloat(e[jt[i]])!==M(e[jt[i]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=ft(),this._bubble()}function Nt(e){return e instanceof Pt}function Ht(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function It(e,t){B(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+I(~~(e/60),2)+t+I(~~e%60,2)})}It("Z",":"),It("ZZ",""),de("Z",le),de("ZZ",le),me(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=$t(le,e)});var Ft=/([\+\-]|\d\d)/gi;function $t(e,t){var n=(t||"").match(e);if(null===n)return null;var i=n[n.length-1]||[],r=(i+"").match(Ft)||["-",0,0],o=60*r[1]+M(r[2]);return 0===o?0:"+"===r[0]?o:-o}function Wt(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(w(e)||c(e)?e.valueOf():Ot(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Ot(e).local()}function zt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Bt(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Vt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ut=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function qt(e,t){var n,i,r,o=e,a=null;return Nt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:l(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=Vt.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:M(a[be])*n,h:M(a[we])*n,m:M(a[ke])*n,s:M(a[Me])*n,ms:M(Ht(1e3*a[xe]))*n}):(a=Ut.exec(e))?(n="-"===a[1]?-1:(a[1],1),o={y:Gt(a[2],n),M:Gt(a[3],n),w:Gt(a[4],n),d:Gt(a[5],n),h:Gt(a[6],n),m:Gt(a[7],n),s:Gt(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=function(e,t){var n;return e.isValid()&&t.isValid()?(t=Wt(t,e),e.isBefore(t)?n=Jt(e,t):((n=Jt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(Ot(o.from),Ot(o.to)),(o={}).ms=r.milliseconds,o.M=r.months),i=new Pt(o),Nt(e)&&d(e,"_locale")&&(i._locale=e._locale),i}function Gt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Jt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Kt(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Xt(this,qt(n="string"==typeof n?+n:n,i),e),this}}function Xt(e,t,n,i){var o=t._milliseconds,a=Ht(t._days),s=Ht(t._months);e.isValid()&&(i=null==i||i,s&&He(e,Ae(e,"Month")+s*n),a&&Ye(e,"Date",Ae(e,"Date")+a*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,a||s))}qt.fn=Pt.prototype,qt.invalid=function(){return qt(NaN)};var Qt=Kt(1,"add"),Zt=Kt(-1,"subtract");function en(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,"months");return t-o<0?(n=e.clone().add(r-1,"months"),i=(t-o)/(o-n)):(n=e.clone().add(r+1,"months"),i=(t-o)/(n-o)),-(r+i)||0}function tn(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ft(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var nn=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function rn(){return this._locale}function on(e,t){B(0,[e,e.length],0,t)}function an(e,t,n,i,r){var o;return null==e?Ue(this,i,r).year:(o=qe(e,i,r),t>o&&(t=o),function(e,t,n,i,r){var o=Ve(e,t,n,i,r),a=ze(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,i,r))}B(0,["gg",2],0,function(){return this.weekYear()%100}),B(0,["GG",2],0,function(){return this.isoWeekYear()%100}),on("gggg","weekYear"),on("ggggg","weekYear"),on("GGGG","isoWeekYear"),on("GGGGG","isoWeekYear"),R("weekYear","gg"),R("isoWeekYear","GG"),H("weekYear",1),H("isoWeekYear",1),de("G",ae),de("g",ae),de("GG",Z,J),de("gg",Z,J),de("GGGG",ie,X),de("gggg",ie,X),de("GGGGG",re,Q),de("ggggg",re,Q),ge(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=M(e)}),ge(["gg","GG"],function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)}),B("Q",0,"Qo","quarter"),R("quarter","Q"),H("quarter",7),de("Q",G),me("Q",function(e,t){t[ye]=3*(M(e)-1)}),B("D",["DD",2],"Do","date"),R("date","D"),H("date",9),de("D",Z),de("DD",Z,J),de("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),me(["D","DD"],be),me("Do",function(e,t){t[be]=M(e.match(Z)[0])});var sn=Oe("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),R("dayOfYear","DDD"),H("dayOfYear",4),de("DDD",ne),de("DDDD",K),me(["DDD","DDDD"],function(e,t,n){n._dayOfYear=M(e)}),B("m",["mm",2],0,"minute"),R("minute","m"),H("minute",14),de("m",Z),de("mm",Z,J),me(["m","mm"],ke);var ln=Oe("Minutes",!1);B("s",["ss",2],0,"second"),R("second","s"),H("second",15),de("s",Z),de("ss",Z,J),me(["s","ss"],Me);var cn,un=Oe("Seconds",!1);for(B("S",0,0,function(){return~~(this.millisecond()/100)}),B(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,function(){return 10*this.millisecond()}),B(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),B(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),B(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),B(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),B(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),R("millisecond","ms"),H("millisecond",16),de("S",ne,G),de("SS",ne,J),de("SSS",ne,K),cn="SSSS";cn.length<=9;cn+="S")de(cn,oe);function dn(e,t){t[xe]=M(1e3*("0."+e))}for(cn="S";cn.length<=9;cn+="S")me(cn,dn);var hn=Oe("Milliseconds",!1);B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var fn=b.prototype;function pn(e){return e}fn.add=Qt,fn.calendar=function(e,t){var n=e||Ot(),i=Wt(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",a=t&&(D(t[o])?t[o].call(this,n):t[o]);return this.format(a||this.localeData().calendar(o,this,Ot(n)))},fn.clone=function(){return new b(this)},fn.diff=function(e,t,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=Wt(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=j(t)){case"year":o=en(this,i)/12;break;case"month":o=en(this,i);break;case"quarter":o=en(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:k(o)},fn.endOf=function(e){return void 0===(e=j(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},fn.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=U(this,e);return this.localeData().postformat(t)},fn.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Ot(e).isValid())?qt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fn.fromNow=function(e){return this.from(Ot(),e)},fn.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Ot(e).isValid())?qt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fn.toNow=function(e){return this.to(Ot(),e)},fn.get=function(e){return D(this[e=j(e)])?this[e]():this},fn.invalidAt=function(){return p(this).overflow},fn.isAfter=function(e,t){var n=w(e)?e:Ot(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=j(s(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},fn.isBefore=function(e,t){var n=w(e)?e:Ot(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=j(s(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},fn.isBetween=function(e,t,n,i){return("("===(i=i||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))},fn.isSame=function(e,t){var n,i=w(e)?e:Ot(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=j(t||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},fn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},fn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},fn.isValid=function(){return m(this)},fn.lang=nn,fn.locale=tn,fn.localeData=rn,fn.max=Yt,fn.min=At,fn.parsingFlags=function(){return h({},p(this))},fn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:N[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=P(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(D(this[e=j(e)]))return this[e](t);return this},fn.startOf=function(e){switch(e=j(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},fn.subtract=Zt,fn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},fn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},fn.toDate=function(){return new Date(this.valueOf())},fn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?U(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this._d.valueOf()).toISOString().replace("Z",U(n,"Z")):U(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},fn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=t+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)},fn.toJSON=function(){return this.isValid()?this.toISOString():null},fn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},fn.unix=function(){return Math.floor(this.valueOf()/1e3)},fn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},fn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},fn.year=De,fn.isLeapYear=function(){return Le(this.year())},fn.weekYear=function(e){return an.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},fn.isoWeekYear=function(e){return an.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},fn.quarter=fn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},fn.month=Ie,fn.daysInMonth=function(){return Re(this.year(),this.month())},fn.week=fn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},fn.isoWeek=fn.isoWeeks=function(e){var t=Ue(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},fn.weeksInYear=function(){var e=this.localeData()._week;return qe(this.year(),e.dow,e.doy)},fn.isoWeeksInYear=function(){return qe(this.year(),1,4)},fn.date=sn,fn.day=fn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},fn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},fn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},fn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},fn.hour=fn.hours=ot,fn.minute=fn.minutes=ln,fn.second=fn.seconds=un,fn.millisecond=fn.milliseconds=hn,fn.utcOffset=function(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=$t(le,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=zt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?Xt(this,qt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:zt(this)},fn.utc=function(e){return this.utcOffset(0,e)},fn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(zt(this),"m")),this},fn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=$t(se,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},fn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Ot(e).utcOffset():0,(this.utcOffset()-e)%60==0)},fn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},fn.isLocal=function(){return!!this.isValid()&&!this._isUTC},fn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},fn.isUtc=Bt,fn.isUTC=Bt,fn.zoneAbbr=function(){return this._isUTC?"UTC":""},fn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},fn.dates=S("dates accessor is deprecated. Use date instead.",sn),fn.months=S("months accessor is deprecated. Use month instead",Ie),fn.years=S("years accessor is deprecated. Use year instead",De),fn.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),fn.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),(e=Et(e))._a){var t=e._isUTC?f(e._a):Ot(e._a);this._isDSTShifted=this.isValid()&&x(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var mn=A.prototype;function gn(e,t,n,i){var r=ft(),o=f().set(i,t);return r[n](o,e)}function _n(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return gn(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=gn(e,i,n,"month");return r}function vn(e,t,n,i){"boolean"==typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var r,o=ft(),a=e?o._week.dow:0;if(null!=n)return gn(t,(n+a)%7,i,"day");var s=[];for(r=0;r<7;r++)s[r]=gn(t,(r+a)%7,i,"day");return s}mn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return D(i)?i.call(t,n):i},mn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},mn.invalidDate=function(){return this._invalidDate},mn.ordinal=function(e){return this._ordinal.replace("%d",e)},mn.preparse=pn,mn.postformat=pn,mn.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return D(r)?r(e,t,n,i):r.replace(/%d/i,e)},mn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return D(n)?n(t):n.replace(/%s/i,t)},mn.set=function(e){var t,n;for(n in e)D(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},mn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||je).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},mn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[je.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},mn.monthsParse=function(e,t,n){var i,r,o;if(this._monthsParseExact)return function(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=f([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=Ee.call(this._shortMonthsParse,a))?r:null:-1!==(r=Ee.call(this._longMonthsParse,a))?r:null:"MMM"===t?-1!==(r=Ee.call(this._shortMonthsParse,a))?r:-1!==(r=Ee.call(this._longMonthsParse,a))?r:null:-1!==(r=Ee.call(this._longMonthsParse,a))?r:-1!==(r=Ee.call(this._shortMonthsParse,a))?r:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=f([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},mn.monthsRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||We.call(this),e?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=$e),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},mn.monthsShortRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||We.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=Fe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},mn.week=function(e){return Ue(e,this._week.dow,this._week.doy).week},mn.firstDayOfYear=function(){return this._week.doy},mn.firstDayOfWeek=function(){return this._week.dow},mn.weekdays=function(e,t){return e?o(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:o(this._weekdays)?this._weekdays:this._weekdays.standalone},mn.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},mn.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},mn.weekdaysParse=function(e,t,n){var i,r,o;if(this._weekdaysParseExact)return function(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=f([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=Ee.call(this._weekdaysParse,a))?r:null:"ddd"===t?-1!==(r=Ee.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=Ee.call(this._minWeekdaysParse,a))?r:null:"dddd"===t?-1!==(r=Ee.call(this._weekdaysParse,a))?r:-1!==(r=Ee.call(this._shortWeekdaysParse,a))?r:-1!==(r=Ee.call(this._minWeekdaysParse,a))?r:null:"ddd"===t?-1!==(r=Ee.call(this._shortWeekdaysParse,a))?r:-1!==(r=Ee.call(this._weekdaysParse,a))?r:-1!==(r=Ee.call(this._minWeekdaysParse,a))?r:null:-1!==(r=Ee.call(this._minWeekdaysParse,a))?r:-1!==(r=Ee.call(this._weekdaysParse,a))?r:-1!==(r=Ee.call(this._shortWeekdaysParse,a))?r:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=f([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},mn.weekdaysRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Xe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},mn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Qe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},mn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ze),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},mn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},mn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},dt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===M(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),r.lang=S("moment.lang is deprecated. Use moment.locale instead.",dt),r.langData=S("moment.langData is deprecated. Use moment.localeData instead.",ft);var yn=Math.abs;function bn(e,t,n,i){var r=qt(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function wn(e){return e<0?Math.floor(e):Math.ceil(e)}function kn(e){return 4800*e/146097}function Mn(e){return 146097*e/4800}function xn(e){return function(){return this.as(e)}}var Cn=xn("ms"),Sn=xn("s"),Tn=xn("m"),Ln=xn("h"),En=xn("d"),Dn=xn("w"),On=xn("M"),An=xn("y");function Yn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Rn=Yn("milliseconds"),jn=Yn("seconds"),Pn=Yn("minutes"),Nn=Yn("hours"),Hn=Yn("days"),In=Yn("months"),Fn=Yn("years"),$n=Math.round,Wn={ss:44,s:45,m:45,h:22,d:26,M:11},zn=Math.abs;function Bn(e){return(e>0)-(e<0)||+e}function Vn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=zn(this._milliseconds)/1e3,i=zn(this._days),r=zn(this._months);e=k(n/60),t=k(e/60),n%=60,e%=60;var o=k(r/12),a=r%=12,s=i,l=t,c=e,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var h=d<0?"-":"",f=Bn(this._months)!==Bn(d)?"-":"",p=Bn(this._days)!==Bn(d)?"-":"",m=Bn(this._milliseconds)!==Bn(d)?"-":"";return h+"P"+(o?f+o+"Y":"")+(a?f+a+"M":"")+(s?p+s+"D":"")+(l||c||u?"T":"")+(l?m+l+"H":"")+(c?m+c+"M":"")+(u?m+u+"S":"")}var Un=Pt.prototype;return Un.isValid=function(){return this._isValid},Un.abs=function(){var e=this._data;return this._milliseconds=yn(this._milliseconds),this._days=yn(this._days),this._months=yn(this._months),e.milliseconds=yn(e.milliseconds),e.seconds=yn(e.seconds),e.minutes=yn(e.minutes),e.hours=yn(e.hours),e.months=yn(e.months),e.years=yn(e.years),this},Un.add=function(e,t){return bn(this,e,t,1)},Un.subtract=function(e,t){return bn(this,e,t,-1)},Un.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=j(e))||"year"===e)return t=this._days+i/864e5,n=this._months+kn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Mn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},Un.asMilliseconds=Cn,Un.asSeconds=Sn,Un.asMinutes=Tn,Un.asHours=Ln,Un.asDays=En,Un.asWeeks=Dn,Un.asMonths=On,Un.asYears=An,Un.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*M(this._months/12):NaN},Un._bubble=function(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*wn(Mn(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=k(o/1e3),l.seconds=e%60,t=k(e/60),l.minutes=t%60,n=k(t/60),l.hours=n%24,a+=k(n/24),r=k(kn(a)),s+=r,a-=wn(Mn(r)),i=k(s/12),s%=12,l.days=a,l.months=s,l.years=i,this},Un.clone=function(){return qt(this)},Un.get=function(e){return e=j(e),this.isValid()?this[e+"s"]():NaN},Un.milliseconds=Rn,Un.seconds=jn,Un.minutes=Pn,Un.hours=Nn,Un.days=Hn,Un.weeks=function(){return k(this.days()/7)},Un.months=In,Un.years=Fn,Un.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var i=qt(e).abs(),r=$n(i.as("s")),o=$n(i.as("m")),a=$n(i.as("h")),s=$n(i.as("d")),l=$n(i.as("M")),c=$n(i.as("y")),u=r<=Wn.ss&&["s",r]||r<Wn.s&&["ss",r]||o<=1&&["m"]||o<Wn.m&&["mm",o]||a<=1&&["h"]||a<Wn.h&&["hh",a]||s<=1&&["d"]||s<Wn.d&&["dd",s]||l<=1&&["M"]||l<Wn.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,function(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}.apply(null,u)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Un.toISOString=Vn,Un.toString=Vn,Un.toJSON=Vn,Un.locale=tn,Un.localeData=rn,Un.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Vn),Un.lang=nn,B("X",0,0,"unix"),B("x",0,0,"valueOf"),de("x",ae),de("X",/[+-]?\d+(\.\d{1,3})?/),me("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),me("x",function(e,t,n){n._d=new Date(M(e))}),r.version="2.20.1",function(e){t=e}(Ot),r.fn=fn,r.min=function(){return Rt("isBefore",[].slice.call(arguments,0))},r.max=function(){return Rt("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=f,r.unix=function(e){return Ot(1e3*e)},r.months=function(e,t){return _n(e,t,"months")},r.isDate=c,r.locale=dt,r.invalid=g,r.duration=qt,r.isMoment=w,r.weekdays=function(e,t,n){return vn(e,t,n,"weekdays")},r.parseZone=function(){return Ot.apply(null,arguments).parseZone()},r.localeData=ft,r.isDuration=Nt,r.monthsShort=function(e,t){return _n(e,t,"monthsShort")},r.weekdaysMin=function(e,t,n){return vn(e,t,n,"weekdaysMin")},r.defineLocale=ht,r.updateLocale=function(e,t){if(null!=t){var n,i,r=at;null!=(i=ut(e))&&(r=i._config),t=O(r,t),(n=new A(t)).parentLocale=st[e],st[e]=n,dt(e)}else null!=st[e]&&(null!=st[e].parentLocale?st[e]=st[e].parentLocale:null!=st[e]&&delete st[e]);return st[e]},r.locales=function(){return T(st)},r.weekdaysShort=function(e,t,n){return vn(e,t,n,"weekdaysShort")},r.normalizeUnits=j,r.relativeTimeRounding=function(e){return void 0===e?$n:"function"==typeof e&&($n=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==Wn[e]&&(void 0===t?Wn[e]:(Wn[e]=t,"s"===e&&(Wn.ss=t-1),!0))},r.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=fn,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,n(412)(e))},function(e,t,n){"use strict";(function(e,i,r){var o=n(401),a=n(507),s=n(74),l=n(508),c=n(57),u=n(27),d=e.View.extend({initialize:function(t){this.model=t&&t.model||new e.Model({message:null,status:"info",cls:"",persistent:!1,fade:!0}).set(t),this.listenTo(this.model,"change",this.render,this),t&&t.active_tab&&(this.active_tab=t.active_tab),this.render()},update:function(e){this.model.set(e)},render:function(){var e=this.model.get("status");if(this.$el.removeClass().addClass("alert alert-".concat(e," mt-2")).addClass(this.model.get("cls")),this.model.get("message")){if(this.$el.html(this.messageForDisplay()),this.$el[this.model.get("fade")?"fadeIn":"show"](),this.timeout&&window.clearTimeout(this.timeout),!this.model.get("persistent")){var t=this;this.timeout=window.setTimeout(function(){t.model.set("message","")},3e3)}}else this.$el.hide();return this},messageForDisplay:function(){return i.escape(this.model.get("message"))}}),h=d.extend({messageForDisplay:function(){return this.model.get("message")}}),f=e.View.extend({initialize:function(t){this.model=t&&t.model||new e.Model({type:"text",placeholder:"",disabled:!1,readonly:!1,visible:!0,cls:"",area:!1,color:null,style:null}).set(t),this.tagName=this.model.get("area")?"textarea":"input",this.setElement(r("<".concat(this.tagName,"/>"))),this.listenTo(this.model,"change",this.render,this),this.render()},events:{input:"_onchange"},value:function(e){return void 0!==e&&this.model.set("value","string"==typeof e?e:""),this.model.get("value")},render:function(){var e=this;this.$el.removeClass().addClass("ui-".concat(this.tagName)).addClass(this.model.get("cls")).addClass(this.model.get("style")).attr("id",this.model.id).attr("type",this.model.get("type")).attr("placeholder",this.model.get("placeholder")).css("color",this.model.get("color")||"").css("border-color",this.model.get("color")||"");var t=this.model.get("datalist");return r.isArray(t)&&t.length>0&&this.$el.autocomplete({source:function(t,n){n(e.model.get("datalist"))},change:function(){e._onchange()}}),this.model.get("value")!==this.$el.val()&&this.$el.val(this.model.get("value")),i.each(["readonly","disabled"],function(t){e.model.get(t)?e.$el.attr(t,!0):e.$el.removeAttr(t)}),this.$el[this.model.get("visible")?"show":"hide"](),this},_onchange:function(){this.value(this.$el.val()),this.model.get("onchange")&&this.model.get("onchange")(this.model.get("value"))}}),p=e.View.extend({initialize:function(t){this.model=t&&t.model||new e.Model(t),this.setElement(r("<div/>").append(this.$info=r("<div/>")).append(this.$hidden=r("<div/>"))),this.listenTo(this.model,"change",this.render,this),this.render()},value:function(e){return void 0!==e&&this.model.set("value",e),this.model.get("value")},render:function(){return this.$el.attr("id",this.model.id),this.$hidden.val(this.model.get("value")),this.model.get("info")?this.$info.show().text(this.model.get("info")):this.$info.hide(),this}}),m=e.View.extend({initialize:function(e){var t=this;this.select=new e.SelectClass.View(e),this.model=this.select.model,this.text=new f({onchange:this.model.get("onchange")}),this.on("change",function(){t.model.get("onchange")&&t.model.get("onchange")(t.value())}),this.setElement(r("<div/>").append(this.select.$el).append(this.text.$el)),this.update(e)},wait:function(){this.select.wait()},unwait:function(){this.select.unwait()},value:function(e){return(this.textmode?this.text:this.select).value(e)},update:function(e){var t=e.data;t||(t=[],i.each(e.options,function(e){t.push({label:e[0],value:e[1]})}));var n=this.value();this.textmode=e.textable&&(!r.isArray(t)||0===t.length),this.text.$el[this.textmode?"show":"hide"](),this.select.$el[this.textmode?"hide":"show"](),this.select.update({data:t}),this.value(n)}}),g=e.View.extend({initialize:function(t){var n=this;this.model=t&&t.model||new e.Model(t),this.setElement(r("<div/>").append(this.$info=r("<div/>")).append(this.$file=r("<input/>").attr("type","file").addClass("mb-1")).append(this.$text=r("<textarea/>").addClass("ui-textarea").attr("disabled",!0)).append(this.$wait=r("<i/>").addClass("fa fa-spinner fa-spin"))),this.listenTo(this.model,"change",this.render,this),this.$file.on("change",function(e){n._readFile(e)}),this.render()},value:function(e){return void 0!==e&&this.model.set("value",e),this.model.get("value")},render:function(){return this.$el.attr("id",this.model.id),this.model.get("info")?this.$info.show().text(this.model.get("info")):this.$info.hide(),this.model.get("value")?this.$text.text(this.model.get("value")).show():this.$text.hide(),this.model.get("wait")?this.$wait.show():this.$wait.hide(),this},_readFile:function(e){var t=this,n=e.target.files&&e.target.files[0];if(n){var i=new FileReader;i.onload=function(){t.model.set({wait:!1,value:this.result})},this.model.set({wait:!0,value:null}),i.readAsText(n)}}});c.a.Button,c.a.ButtonCheck,c.a.ButtonMenu,c.a.ButtonLink,s.a.Checkbox,s.a.RadioButton,s.a.Radio;t.a={Button:c.a.Button,ButtonCheck:c.a.ButtonCheck,ButtonMenu:c.a.ButtonMenu,ButtonLink:c.a.ButtonLink,Input:f,Message:d,UnescapedMessage:h,Upload:g,Modal:u.a,RadioButton:s.a.RadioButton,Checkbox:s.a.Checkbox,Radio:s.a.Radio,Select:o.a,TextSelect:m,Hidden:p,Slider:a.a,Drilldown:l.a}}).call(this,n(3),n(2),n(0))},function(e,t,n){var i=n(23),r=n(44),o=n(61),a=n(55),s=n(87),l=function(e,t,n){var c,u,d,h,f=e&l.F,p=e&l.G,m=e&l.S,g=e&l.P,_=e&l.B,v=p?i:m?i[t]||(i[t]={}):(i[t]||{}).prototype,y=p?r:r[t]||(r[t]={}),b=y.prototype||(y.prototype={});for(c in p&&(n=t),n)d=((u=!f&&v&&void 0!==v[c])?v:n)[c],h=_&&u?s(d,i):g&&"function"==typeof d?s(Function.call,d):d,v&&a(v,c,d,e&l.U),y[c]!=d&&o(y,c,h),g&&b[c]!=d&&(b[c]=d)};i.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){var i,r;!function(){var o={version:"3.5.17"},a=[].slice,s=function(e){return a.call(e)},l=this.document;function c(e){return e&&(e.ownerDocument||e.document||e).documentElement}function u(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(l)try{s(l.documentElement.childNodes)[0].nodeType}catch(e){s=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var d=this.Element.prototype,h=d.setAttribute,f=d.setAttributeNS,p=this.CSSStyleDeclaration.prototype,m=p.setProperty;d.setAttribute=function(e,t){h.call(this,e,t+"")},d.setAttributeNS=function(e,t,n){f.call(this,e,t,n+"")},p.setProperty=function(e,t,n){m.call(this,e,t+"",n)}}function g(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function _(e){return null===e?NaN:+e}function v(e){return!isNaN(e)}function y(e){return{left:function(t,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=t.length);i<r;){var o=i+r>>>1;e(t[o],n)<0?i=o+1:r=o}return i},right:function(t,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=t.length);i<r;){var o=i+r>>>1;e(t[o],n)>0?r=o:i=o+1}return i}}}o.ascending=g,o.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},o.min=function(e,t){var n,i,r=-1,o=e.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=e[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=e[r])&&n>i&&(n=i)}else{for(;++r<o;)if(null!=(i=t.call(e,e[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=t.call(e,e[r],r))&&n>i&&(n=i)}return n},o.max=function(e,t){var n,i,r=-1,o=e.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=e[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=e[r])&&i>n&&(n=i)}else{for(;++r<o;)if(null!=(i=t.call(e,e[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=t.call(e,e[r],r))&&i>n&&(n=i)}return n},o.extent=function(e,t){var n,i,r,o=-1,a=e.length;if(1===arguments.length){for(;++o<a;)if(null!=(i=e[o])&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=e[o])&&(n>i&&(n=i),r<i&&(r=i))}else{for(;++o<a;)if(null!=(i=t.call(e,e[o],o))&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=t.call(e,e[o],o))&&(n>i&&(n=i),r<i&&(r=i))}return[n,r]},o.sum=function(e,t){var n,i=0,r=e.length,o=-1;if(1===arguments.length)for(;++o<r;)v(n=+e[o])&&(i+=n);else for(;++o<r;)v(n=+t.call(e,e[o],o))&&(i+=n);return i},o.mean=function(e,t){var n,i=0,r=e.length,o=-1,a=r;if(1===arguments.length)for(;++o<r;)v(n=_(e[o]))?i+=n:--a;else for(;++o<r;)v(n=_(t.call(e,e[o],o)))?i+=n:--a;if(a)return i/a},o.quantile=function(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),r=+e[i-1],o=n-i;return o?r+o*(e[i]-r):r},o.median=function(e,t){var n,i=[],r=e.length,a=-1;if(1===arguments.length)for(;++a<r;)v(n=_(e[a]))&&i.push(n);else for(;++a<r;)v(n=_(t.call(e,e[a],a)))&&i.push(n);if(i.length)return o.quantile(i.sort(g),.5)},o.variance=function(e,t){var n,i,r=e.length,o=0,a=0,s=-1,l=0;if(1===arguments.length)for(;++s<r;)v(n=_(e[s]))&&(a+=(i=n-o)*(n-(o+=i/++l)));else for(;++s<r;)v(n=_(t.call(e,e[s],s)))&&(a+=(i=n-o)*(n-(o+=i/++l)));if(l>1)return a/(l-1)},o.deviation=function(){var e=o.variance.apply(this,arguments);return e?Math.sqrt(e):e};var b=y(g);function w(e){return e.length}o.bisectLeft=b.left,o.bisect=o.bisectRight=b.right,o.bisector=function(e){return y(1===e.length?function(t,n){return g(e(t),n)}:e)},o.shuffle=function(e,t,n){(o=arguments.length)<3&&(n=e.length,o<2&&(t=0));for(var i,r,o=n-t;o;)r=Math.random()*o--|0,i=e[o+t],e[o+t]=e[r+t],e[r+t]=i;return e},o.permute=function(e,t){for(var n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];return i},o.pairs=function(e){for(var t=0,n=e.length-1,i=e[0],r=new Array(n<0?0:n);t<n;)r[t]=[i,i=e[++t]];return r},o.transpose=function(e){if(!(r=e.length))return[];for(var t=-1,n=o.min(e,w),i=new Array(n);++t<n;)for(var r,a=-1,s=i[t]=new Array(r);++a<r;)s[a]=e[a][t];return i},o.zip=function(){return o.transpose(arguments)},o.keys=function(e){var t=[];for(var n in e)t.push(n);return t},o.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},o.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},o.merge=function(e){for(var t,n,i,r=e.length,o=-1,a=0;++o<r;)a+=e[o].length;for(n=new Array(a);--r>=0;)for(t=(i=e[r]).length;--t>=0;)n[--a]=i[t];return n};var k=Math.abs;function M(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function x(){this._=Object.create(null)}o.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var i,r=[],o=function(e){var t=1;for(;e*t%1;)t*=10;return t}(k(n)),a=-1;if(e*=o,t*=o,(n*=o)<0)for(;(i=e+n*++a)>t;)r.push(i/o);else for(;(i=e+n*++a)<t;)r.push(i/o);return r},o.map=function(e,t){var n=new x;if(e instanceof x)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var i,r=-1,o=e.length;if(1===arguments.length)for(;++r<o;)n.set(r,e[r]);else for(;++r<o;)n.set(t.call(e,i=e[r],r),i)}else for(var a in e)n.set(a,e[a]);return n};var C="__proto__",S="\0";function T(e){return(e+="")===C||e[0]===S?S+e:e}function L(e){return(e+="")[0]===S?e.slice(1):e}function E(e){return T(e)in this._}function D(e){return(e=T(e))in this._&&delete this._[e]}function O(){var e=[];for(var t in this._)e.push(L(t));return e}function A(){var e=0;for(var t in this._)++e;return e}function Y(){for(var e in this._)return!1;return!0}function R(){this._=Object.create(null)}function j(e){return e}function P(e,t,n){return function(){var i=n.apply(t,arguments);return i===t?e:i}}function N(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,i=H.length;n<i;++n){var r=H[n]+t;if(r in e)return r}}M(x,{has:E,get:function(e){return this._[T(e)]},set:function(e,t){return this._[T(e)]=t},remove:D,keys:O,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:L(t),value:this._[t]});return e},size:A,empty:Y,forEach:function(e){for(var t in this._)e.call(this,L(t),this._[t])}}),o.nest=function(){var e,t,n={},i=[],r=[];function a(r,o,s){if(s>=i.length)return t?t.call(n,o):e?o.sort(e):o;for(var l,c,u,d,h=-1,f=o.length,p=i[s++],m=new x;++h<f;)(d=m.get(l=p(c=o[h])))?d.push(c):m.set(l,[c]);return r?(c=r(),u=function(e,t){c.set(e,a(r,t,s))}):(c={},u=function(e,t){c[e]=a(r,t,s)}),m.forEach(u),c}return n.map=function(e,t){return a(t,e,0)},n.entries=function(e){return function e(t,n){if(n>=i.length)return t;var o=[],a=r[n++];return t.forEach(function(t,i){o.push({key:t,values:e(i,n)})}),a?o.sort(function(e,t){return a(e.key,t.key)}):o}(a(o.map,e,0),0)},n.key=function(e){return i.push(e),n},n.sortKeys=function(e){return r[i.length-1]=e,n},n.sortValues=function(t){return e=t,n},n.rollup=function(e){return t=e,n},n},o.set=function(e){var t=new R;if(e)for(var n=0,i=e.length;n<i;++n)t.add(e[n]);return t},M(R,{has:E,add:function(e){return this._[T(e+="")]=!0,e},remove:D,values:O,size:A,empty:Y,forEach:function(e){for(var t in this._)e.call(this,L(t))}}),o.behavior={},o.rebind=function(e,t){for(var n,i=1,r=arguments.length;++i<r;)e[n=arguments[i]]=P(e,t,t[n]);return e};var H=["webkit","ms","moz","Moz","o","O"];function I(){}function F(){}function $(e){var t=[],n=new x;function i(){for(var n,i=t,r=-1,o=i.length;++r<o;)(n=i[r].on)&&n.apply(this,arguments);return e}return i.on=function(i,r){var o,a=n.get(i);return arguments.length<2?a&&a.on:(a&&(a.on=null,t=t.slice(0,o=t.indexOf(a)).concat(t.slice(o+1)),n.remove(i)),r&&t.push(n.set(i,{on:r})),e)},i}function W(){o.event.preventDefault()}function z(){for(var e,t=o.event;e=t.sourceEvent;)t=e;return t}function B(e){for(var t=new F,n=0,i=arguments.length;++n<i;)t[arguments[n]]=$(t);return t.of=function(n,i){return function(r){try{var a=r.sourceEvent=o.event;r.target=e,o.event=r,t[r.type].apply(n,i)}finally{o.event=a}}},t}o.dispatch=function(){for(var e=new F,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=$(e);return e},F.prototype.on=function(e,t){var n=e.indexOf("."),i="";if(n>=0&&(i=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(i):this[e].on(i,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(i,null);return this}},o.event=null,o.requote=function(e){return e.replace(V,"\\$&")};var V=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,U={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function q(e){return U(e,X),e}var G=function(e,t){return t.querySelector(e)},J=function(e,t){return t.querySelectorAll(e)},K=function(e,t){var n=e.matches||e[N(e,"matchesSelector")];return(K=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(G=function(e,t){return Sizzle(e,t)[0]||null},J=Sizzle,K=Sizzle.matchesSelector),o.selection=function(){return o.select(l.documentElement)};var X=o.selection.prototype=[];function Q(e){return"function"==typeof e?e:function(){return G(e,this)}}function Z(e){return"function"==typeof e?e:function(){return J(e,this)}}X.select=function(e){var t,n,i,r,o=[];e=Q(e);for(var a=-1,s=this.length;++a<s;){o.push(t=[]),t.parentNode=(i=this[a]).parentNode;for(var l=-1,c=i.length;++l<c;)(r=i[l])?(t.push(n=e.call(r,r.__data__,l,a)),n&&"__data__"in r&&(n.__data__=r.__data__)):t.push(null)}return q(o)},X.selectAll=function(e){var t,n,i=[];e=Z(e);for(var r=-1,o=this.length;++r<o;)for(var a=this[r],l=-1,c=a.length;++l<c;)(n=a[l])&&(i.push(t=s(e.call(n,n.__data__,l,r))),t.parentNode=n);return q(i)};var ee="http://www.w3.org/1999/xhtml",te={svg:"http://www.w3.org/2000/svg",xhtml:ee,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ne(e,t){return e=o.ns.qualify(e),null==t?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof t?e.local?function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}:function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}:e.local?function(){this.setAttributeNS(e.space,e.local,t)}:function(){this.setAttribute(e,t)}}function ie(e){return e.trim().replace(/\s+/g," ")}function re(e){return new RegExp("(?:^|\\s+)"+o.requote(e)+"(?:\\s+|$)","g")}function oe(e){return(e+"").trim().split(/^|\s+/)}function ae(e,t){var n=(e=oe(e).map(se)).length;return"function"==typeof t?function(){for(var i=-1,r=t.apply(this,arguments);++i<n;)e[i](this,r)}:function(){for(var i=-1;++i<n;)e[i](this,t)}}function se(e){var t=re(e);return function(n,i){if(r=n.classList)return i?r.add(e):r.remove(e);var r=n.getAttribute("class")||"";i?(t.lastIndex=0,t.test(r)||n.setAttribute("class",ie(r+" "+e))):n.setAttribute("class",ie(r.replace(t," ")))}}function le(e,t,n){return null==t?function(){this.style.removeProperty(e)}:"function"==typeof t?function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}:function(){this.style.setProperty(e,t,n)}}function ce(e,t){return null==t?function(){delete this[e]}:"function"==typeof t?function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}:function(){this[e]=t}}function ue(e){return"function"==typeof e?e:(e=o.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ee&&t.documentElement.namespaceURI===ee?t.createElement(e):t.createElementNS(n,e)}}function de(){var e=this.parentNode;e&&e.removeChild(this)}function he(e){return{__data__:e}}function fe(e){return function(){return K(this,e)}}function pe(e,t){for(var n=0,i=e.length;n<i;n++)for(var r,o=e[n],a=0,s=o.length;a<s;a++)(r=o[a])&&t(r,a,n);return e}function me(e){return U(e,ge),e}o.ns={prefix:te,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),te.hasOwnProperty(n)?{space:te[n],local:e}:e}},X.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return(e=o.ns.qualify(e)).local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(ne(t,e[t]));return this}return this.each(ne(e,t))},X.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),i=(e=oe(e)).length,r=-1;if(t=n.classList){for(;++r<i;)if(!t.contains(e[r]))return!1}else for(t=n.getAttribute("class");++r<i;)if(!re(e[r]).test(t))return!1;return!0}for(t in e)this.each(ae(t,e[t]));return this}return this.each(ae(e,t))},X.style=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){for(n in i<2&&(t=""),e)this.each(le(n,e[n],t));return this}if(i<2){var r=this.node();return u(r).getComputedStyle(r,null).getPropertyValue(e)}n=""}return this.each(le(e,t,n))},X.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(ce(t,e[t]));return this}return this.each(ce(e,t))},X.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},X.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},X.append=function(e){return e=ue(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},X.insert=function(e,t){return e=ue(e),t=Q(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},X.remove=function(){return this.each(de)},X.data=function(e,t){var n,i,r=-1,o=this.length;if(!arguments.length){for(e=new Array(o=(n=this[0]).length);++r<o;)(i=n[r])&&(e[r]=i.__data__);return e}function a(e,n){var i,r,o,a=e.length,u=n.length,d=Math.min(a,u),h=new Array(u),f=new Array(u),p=new Array(a);if(t){var m,g=new x,_=new Array(a);for(i=-1;++i<a;)(r=e[i])&&(g.has(m=t.call(r,r.__data__,i))?p[i]=r:g.set(m,r),_[i]=m);for(i=-1;++i<u;)(r=g.get(m=t.call(n,o=n[i],i)))?!0!==r&&(h[i]=r,r.__data__=o):f[i]=he(o),g.set(m,!0);for(i=-1;++i<a;)i in _&&!0!==g.get(_[i])&&(p[i]=e[i])}else{for(i=-1;++i<d;)r=e[i],o=n[i],r?(r.__data__=o,h[i]=r):f[i]=he(o);for(;i<u;++i)f[i]=he(n[i]);for(;i<a;++i)p[i]=e[i]}f.update=h,f.parentNode=h.parentNode=p.parentNode=e.parentNode,s.push(f),l.push(h),c.push(p)}var s=me([]),l=q([]),c=q([]);if("function"==typeof e)for(;++r<o;)a(n=this[r],e.call(n,n.parentNode.__data__,r));else for(;++r<o;)a(n=this[r],e);return l.enter=function(){return s},l.exit=function(){return c},l},X.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},X.filter=function(e){var t,n,i,r=[];"function"!=typeof e&&(e=fe(e));for(var o=0,a=this.length;o<a;o++){r.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;s<l;s++)(i=n[s])&&e.call(i,i.__data__,s,o)&&t.push(i)}return q(r)},X.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,i=this[e],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},X.sort=function(e){e=function(e){arguments.length||(e=g);return function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},X.each=function(e){return pe(this,function(t,n,i){e.call(t,t.__data__,n,i)})},X.call=function(e){var t=s(arguments);return e.apply(t[0]=this,t),this},X.empty=function(){return!this.node()},X.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],i=0,r=n.length;i<r;i++){var o=n[i];if(o)return o}return null},X.size=function(){var e=0;return pe(this,function(){++e}),e};var ge=[];function _e(e,t,n){var i="__on"+e,r=e.indexOf("."),a=ye;r>0&&(e=e.slice(0,r));var l=ve.get(e);function c(){var t=this[i];t&&(this.removeEventListener(e,t,t.$),delete this[i])}return l&&(e=l,a=be),r?t?function(){var r=a(t,s(arguments));c.call(this),this.addEventListener(e,this[i]=r,r.$=n),r._=t}:c:t?I:function(){var t,n=new RegExp("^__on([^.]+)"+o.requote(e)+"$");for(var i in this)if(t=i.match(n)){var r=this[i];this.removeEventListener(t[1],r,r.$),delete this[i]}}}o.selection.enter=me,o.selection.enter.prototype=ge,ge.append=X.append,ge.empty=X.empty,ge.node=X.node,ge.call=X.call,ge.size=X.size,ge.select=function(e){for(var t,n,i,r,o,a=[],s=-1,l=this.length;++s<l;){i=(r=this[s]).update,a.push(t=[]),t.parentNode=r.parentNode;for(var c=-1,u=r.length;++c<u;)(o=r[c])?(t.push(i[c]=n=e.call(r.parentNode,o.__data__,c,s)),n.__data__=o.__data__):t.push(null)}return q(a)},ge.insert=function(e,t){return arguments.length<2&&(t=function(e){var t,n;return function(i,r,o){var a,s=e[o].update,l=s.length;for(o!=n&&(n=o,t=0),r>=t&&(t=r+1);!(a=s[t])&&++t<l;);return a}}(this)),X.insert.call(this,e,t)},o.select=function(e){var t;return"string"==typeof e?(t=[G(e,l)]).parentNode=l.documentElement:(t=[e]).parentNode=c(e),q([t])},o.selectAll=function(e){var t;return"string"==typeof e?(t=s(J(e,l))).parentNode=l.documentElement:(t=s(e)).parentNode=null,q([t])},X.on=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){for(n in i<2&&(t=!1),e)this.each(_e(n,e[n],t));return this}if(i<2)return(i=this.node()["__on"+e])&&i._;n=!1}return this.each(_e(e,t,n))};var ve=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function ye(e,t){return function(n){var i=o.event;o.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{o.event=i}}}function be(e,t){var n=ye(e,t);return function(e){var t=e.relatedTarget;t&&(t===this||8&t.compareDocumentPosition(this))||n.call(this,e)}}l&&ve.forEach(function(e){"on"+e in l&&ve.remove(e)});var we,ke=0;function Me(e){var t=".dragsuppress-"+ ++ke,n="click"+t,i=o.select(u(e)).on("touchmove"+t,W).on("dragstart"+t,W).on("selectstart"+t,W);if(null==we&&(we=!("onselectstart"in e)&&N(e.style,"userSelect")),we){var r=c(e).style,a=r[we];r[we]="none"}return function(e){if(i.on(t,null),we&&(r[we]=a),e){var o=function(){i.on(n,null)};i.on(n,function(){W(),o()},!0),setTimeout(o,0)}}}o.mouse=function(e){return Ce(e,z())};var xe=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Ce(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();if(xe<0){var r=u(e);if(r.scrollX||r.scrollY){var a=(n=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();xe=!(a.f||a.e),n.remove()}}return xe?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function Se(){return o.event.changedTouches[0].identifier}o.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=z().changedTouches),t)for(var i,r=0,o=t.length;r<o;++r)if((i=t[r]).identifier===n)return Ce(e,i)},o.behavior.drag=function(){var e=B(r,"drag","dragstart","dragend"),t=null,n=a(I,o.mouse,u,"mousemove","mouseup"),i=a(Se,o.touch,j,"touchmove","touchend");function r(){this.on("mousedown.drag",n).on("touchstart.drag",i)}function a(n,i,r,a,s){return function(){var l,c=o.event.target.correspondingElement||o.event.target,u=this.parentNode,d=e.of(this,arguments),h=0,f=n(),p=".drag"+(null==f?"":"-"+f),m=o.select(r(c)).on(a+p,function(){var e,t,n=i(u,f);if(!n)return;e=n[0]-_[0],t=n[1]-_[1],h|=e|t,_=n,d({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:e,dy:t})}).on(s+p,function(){if(!i(u,f))return;m.on(a+p,null).on(s+p,null),g(h),d({type:"dragend"})}),g=Me(c),_=i(u,f);l=t?[(l=t.apply(this,arguments)).x-_[0],l.y-_[1]]:[0,0],d({type:"dragstart"})}}return r.origin=function(e){return arguments.length?(t=e,r):t},o.rebind(r,e,"on")},o.touches=function(e,t){return arguments.length<2&&(t=z().touches),t?s(t).map(function(t){var n=Ce(e,t);return n.identifier=t.identifier,n}):[]};var Te=1e-6,Le=Te*Te,Ee=Math.PI,De=2*Ee,Oe=De-Te,Ae=Ee/2,Ye=Ee/180,Re=180/Ee;function je(e){return e>0?1:e<0?-1:0}function Pe(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Ne(e){return e>1?0:e<-1?Ee:Math.acos(e)}function He(e){return e>1?Ae:e<-1?-Ae:Math.asin(e)}function Ie(e){return((e=Math.exp(e))+1/e)/2}function Fe(e){return(e=Math.sin(e/2))*e}var $e=Math.SQRT2;o.interpolateZoom=function(e,t){var n,i,r=e[0],o=e[1],a=e[2],s=t[0],l=t[1],c=t[2],u=s-r,d=l-o,h=u*u+d*d;if(h<Le)i=Math.log(c/a)/$e,n=function(e){return[r+e*u,o+e*d,a*Math.exp($e*e*i)]};else{var f=Math.sqrt(h),p=(c*c-a*a+4*h)/(2*a*2*f),m=(c*c-a*a-4*h)/(2*c*2*f),g=Math.log(Math.sqrt(p*p+1)-p),_=Math.log(Math.sqrt(m*m+1)-m);i=(_-g)/$e,n=function(e){var t=e*i,n=Ie(g),s=a/(2*f)*(n*function(e){return((e=Math.exp(2*e))-1)/(e+1)}($e*t+g)-function(e){return((e=Math.exp(e))-1/e)/2}(g));return[r+s*u,o+s*d,a*n/Ie($e*t+g)]}}return n.duration=1e3*i,n},o.behavior.zoom=function(){var e,t,n,i,r,a,s,c,d,h={x:0,y:0,k:1},f=[960,500],p=Be,m=250,g=0,_="mousedown.zoom",v="mousemove.zoom",y="mouseup.zoom",b="touchstart.zoom",w=B(k,"zoomstart","zoom","zoomend");function k(e){e.on(_,O).on(ze+".zoom",Y).on("dblclick.zoom",R).on(b,A)}function M(e){return[(e[0]-h.x)/h.k,(e[1]-h.y)/h.k]}function x(e){h.k=Math.max(p[0],Math.min(p[1],e))}function C(e,t){t=function(e){return[e[0]*h.k+h.x,e[1]*h.k+h.y]}(t),h.x+=e[0]-t[0],h.y+=e[1]-t[1]}function S(e,n,i,r){e.__chart__={x:h.x,y:h.y,k:h.k},x(Math.pow(2,r)),C(t=n,i),e=o.select(e),m>0&&(e=e.transition().duration(m)),e.call(k.event)}function T(){s&&s.domain(a.range().map(function(e){return(e-h.x)/h.k}).map(a.invert)),d&&d.domain(c.range().map(function(e){return(e-h.y)/h.k}).map(c.invert))}function L(e){g++||e({type:"zoomstart"})}function E(e){T(),e({type:"zoom",scale:h.k,translate:[h.x,h.y]})}function D(e){--g||(e({type:"zoomend"}),t=null)}function O(){var e=this,t=w.of(e,arguments),n=0,i=o.select(u(e)).on(v,function(){n=1,C(o.mouse(e),r),E(t)}).on(y,function(){i.on(v,null).on(y,null),a(n),D(t)}),r=M(o.mouse(e)),a=Me(e);fs.call(e),L(t)}function A(){var e,t=this,n=w.of(t,arguments),i={},a=0,s=".zoom-"+o.event.changedTouches[0].identifier,l="touchmove"+s,c="touchend"+s,u=[],d=o.select(t),f=Me(t);function p(){var n=o.touches(t);return e=h.k,n.forEach(function(e){e.identifier in i&&(i[e.identifier]=M(e))}),n}function m(){var e=o.event.target;o.select(e).on(l,g).on(c,v),u.push(e);for(var n=o.event.changedTouches,s=0,d=n.length;s<d;++s)i[n[s].identifier]=null;var f=p(),m=Date.now();if(1===f.length){if(m-r<500){var _=f[0];S(t,_,i[_.identifier],Math.floor(Math.log(h.k)/Math.LN2)+1),W()}r=m}else if(f.length>1){_=f[0];var y=f[1],b=_[0]-y[0],w=_[1]-y[1];a=b*b+w*w}}function g(){var s,l,c,u,d=o.touches(t);fs.call(t);for(var h=0,f=d.length;h<f;++h,u=null)if(c=d[h],u=i[c.identifier]){if(l)break;s=c,l=u}if(u){var p=(p=c[0]-s[0])*p+(p=c[1]-s[1])*p,m=a&&Math.sqrt(p/a);s=[(s[0]+c[0])/2,(s[1]+c[1])/2],l=[(l[0]+u[0])/2,(l[1]+u[1])/2],x(m*e)}r=null,C(s,l),E(n)}function v(){if(o.event.touches.length){for(var e=o.event.changedTouches,t=0,r=e.length;t<r;++t)delete i[e[t].identifier];for(var a in i)return void p()}o.selectAll(u).on(s,null),d.on(_,O).on(b,A),f(),D(n)}m(),L(n),d.on(_,null).on(b,m)}function Y(){var r=w.of(this,arguments);i?clearTimeout(i):(fs.call(this),e=M(t=n||o.mouse(this)),L(r)),i=setTimeout(function(){i=null,D(r)},50),W(),x(Math.pow(2,.002*We())*h.k),C(t,e),E(r)}function R(){var e=o.mouse(this),t=Math.log(h.k)/Math.LN2;S(this,e,M(e),o.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}return ze||(ze="onwheel"in l?(We=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(We=function(){return o.event.wheelDelta},"mousewheel"):(We=function(){return-o.event.detail},"MozMousePixelScroll")),k.event=function(e){e.each(function(){var e=w.of(this,arguments),n=h;gs?o.select(this).transition().each("start.zoom",function(){h=this.__chart__||{x:0,y:0,k:1},L(e)}).tween("zoom:zoom",function(){var i=f[0],r=f[1],a=t?t[0]:i/2,s=t?t[1]:r/2,l=o.interpolateZoom([(a-h.x)/h.k,(s-h.y)/h.k,i/h.k],[(a-n.x)/n.k,(s-n.y)/n.k,i/n.k]);return function(t){var n=l(t),r=i/n[2];this.__chart__=h={x:a-n[0]*r,y:s-n[1]*r,k:r},E(e)}}).each("interrupt.zoom",function(){D(e)}).each("end.zoom",function(){D(e)}):(this.__chart__=h,L(e),E(e),D(e))})},k.translate=function(e){return arguments.length?(h={x:+e[0],y:+e[1],k:h.k},T(),k):[h.x,h.y]},k.scale=function(e){return arguments.length?(h={x:h.x,y:h.y,k:null},x(+e),T(),k):h.k},k.scaleExtent=function(e){return arguments.length?(p=null==e?Be:[+e[0],+e[1]],k):p},k.center=function(e){return arguments.length?(n=e&&[+e[0],+e[1]],k):n},k.size=function(e){return arguments.length?(f=e&&[+e[0],+e[1]],k):f},k.duration=function(e){return arguments.length?(m=+e,k):m},k.x=function(e){return arguments.length?(s=e,a=e.copy(),h={x:0,y:0,k:1},k):s},k.y=function(e){return arguments.length?(d=e,c=e.copy(),h={x:0,y:0,k:1},k):d},o.rebind(k,w,"on")};var We,ze,Be=[0,1/0];function Ve(){}function Ue(e,t,n){return this instanceof Ue?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof Ue?new Ue(e.h,e.s,e.l):pt(""+e,mt,Ue):new Ue(e,t,n)}o.color=Ve,Ve.prototype.toString=function(){return this.rgb()+""},o.hsl=Ue;var qe=Ue.prototype=new Ve;function Ge(e,t,n){var i,r;function o(e){return Math.round(255*function(e){return e>360?e-=360:e<0&&(e+=360),e<60?i+(r-i)*e/60:e<180?r:e<240?i+(r-i)*(240-e)/60:i}(e))}return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:t<0?0:t>1?1:t,i=2*(n=n<0?0:n>1?1:n)-(r=n<=.5?n*(1+t):n+t-n*t),new ct(o(e+120),o(e),o(e-120))}function Je(e,t,n){return this instanceof Je?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof Je?new Je(e.h,e.c,e.l):ot(e instanceof Qe?e.l:(e=gt((e=o.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new Je(e,t,n)}qe.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new Ue(this.h,this.s,this.l/e)},qe.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new Ue(this.h,this.s,e*this.l)},qe.rgb=function(){return Ge(this.h,this.s,this.l)},o.hcl=Je;var Ke=Je.prototype=new Ve;function Xe(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new Qe(n,Math.cos(e*=Ye)*t,Math.sin(e)*t)}function Qe(e,t,n){return this instanceof Qe?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof Qe?new Qe(e.l,e.a,e.b):e instanceof Je?Xe(e.h,e.c,e.l):gt((e=ct(e)).r,e.g,e.b):new Qe(e,t,n)}Ke.brighter=function(e){return new Je(this.h,this.c,Math.min(100,this.l+Ze*(arguments.length?e:1)))},Ke.darker=function(e){return new Je(this.h,this.c,Math.max(0,this.l-Ze*(arguments.length?e:1)))},Ke.rgb=function(){return Xe(this.h,this.c,this.l).rgb()},o.lab=Qe;var Ze=18,et=.95047,tt=1,nt=1.08883,it=Qe.prototype=new Ve;function rt(e,t,n){var i=(e+16)/116,r=i+t/500,o=i-n/200;return new ct(lt(3.2404542*(r=at(r)*et)-1.5371385*(i=at(i)*tt)-.4985314*(o=at(o)*nt)),lt(-.969266*r+1.8760108*i+.041556*o),lt(.0556434*r-.2040259*i+1.0572252*o))}function ot(e,t,n){return e>0?new Je(Math.atan2(n,t)*Re,Math.sqrt(t*t+n*n),e):new Je(NaN,NaN,e)}function at(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function st(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function lt(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ct(e,t,n){return this instanceof ct?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof ct?new ct(e.r,e.g,e.b):pt(""+e,ct,Ge):new ct(e,t,n)}function ut(e){return new ct(e>>16,e>>8&255,255&e)}function dt(e){return ut(e)+""}it.brighter=function(e){return new Qe(Math.min(100,this.l+Ze*(arguments.length?e:1)),this.a,this.b)},it.darker=function(e){return new Qe(Math.max(0,this.l-Ze*(arguments.length?e:1)),this.a,this.b)},it.rgb=function(){return rt(this.l,this.a,this.b)},o.rgb=ct;var ht=ct.prototype=new Ve;function ft(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function pt(e,t,n){var i,r,o,a=0,s=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return t(vt(r[0]),vt(r[1]),vt(r[2]))}return(o=yt.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,l=15&o,l|=l<<4):7===e.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),t(a,s,l))}function mt(e,t,n){var i,r,o=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-o,l=(a+o)/2;return s?(r=l<.5?s/(a+o):s/(2-a-o),i=e==a?(t-n)/s+(t<n?6:0):t==a?(n-e)/s+2:(e-t)/s+4,i*=60):(i=NaN,r=l>0&&l<1?0:i),new Ue(i,r,l)}function gt(e,t,n){var i=st((.4124564*(e=_t(e))+.3575761*(t=_t(t))+.1804375*(n=_t(n)))/et),r=st((.2126729*e+.7151522*t+.072175*n)/tt);return Qe(116*r-16,500*(i-r),200*(r-st((.0193339*e+.119192*t+.9503041*n)/nt)))}function _t(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function vt(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}ht.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,i=this.b,r=30;return t||n||i?(t&&t<r&&(t=r),n&&n<r&&(n=r),i&&i<r&&(i=r),new ct(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,i/e))):new ct(r,r,r)},ht.darker=function(e){return new ct((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},ht.hsl=function(){return mt(this.r,this.g,this.b)},ht.toString=function(){return"#"+ft(this.r)+ft(this.g)+ft(this.b)};var yt=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function bt(e){return"function"==typeof e?e:function(){return e}}function wt(e){return function(t,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),kt(t,n,e,i)}}function kt(e,t,n,i){var r={},a=o.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,u=null;function d(){var e,t=c.status;if(!t&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(c)||t>=200&&t<300||304===t){try{e=n.call(r,c)}catch(e){return void a.error.call(r,e)}a.load.call(r,e)}else a.error.call(r,c)}return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(e)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=d:c.onreadystatechange=function(){c.readyState>3&&d()},c.onprogress=function(e){var t=o.event;o.event=e;try{a.progress.call(r,c)}finally{o.event=t}},r.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l[e]:(null==t?delete l[e]:l[e]=t+"",r)},r.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",r):t},r.responseType=function(e){return arguments.length?(u=e,r):u},r.response=function(e){return n=e,r},["get","post"].forEach(function(e){r[e]=function(){return r.send.apply(r,[e].concat(s(arguments)))}}),r.send=function(n,i,o){if(2===arguments.length&&"function"==typeof i&&(o=i,i=null),c.open(n,e,!0),null==t||"accept"in l||(l.accept=t+",*/*"),c.setRequestHeader)for(var s in l)c.setRequestHeader(s,l[s]);return null!=t&&c.overrideMimeType&&c.overrideMimeType(t),null!=u&&(c.responseType=u),null!=o&&r.on("error",o).on("load",function(e){o(null,e)}),a.beforesend.call(r,c),c.send(null==i?null:i),r},r.abort=function(){return c.abort(),r},o.rebind(r,a,"on"),null==i?r:r.get(function(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}(i))}yt.forEach(function(e,t){yt.set(e,ut(t))}),o.functor=bt,o.xhr=wt(j),o.dsv=function(e,t){var n=new RegExp('["'+e+"\n]"),i=e.charCodeAt(0);function r(e,n,i){arguments.length<3&&(i=n,n=null);var r=kt(e,t,null==n?o:a(n),i);return r.row=function(e){return arguments.length?r.response(null==(n=e)?o:a(e)):n},r}function o(e){return r.parse(e.responseText)}function a(e){return function(t){return r.parse(t.responseText,e)}}function s(t){return t.map(l).join(e)}function l(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return r.parse=function(e,t){var n;return r.parseRows(e,function(e,i){if(n)return n(e,i-1);var r=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");n=t?function(e,n){return t(r(e),n)}:r})},r.parseRows=function(e,t){var n,r,o={},a={},s=[],l=e.length,c=0,u=0;function d(){if(c>=l)return a;if(r)return r=!1,o;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}return c=n+2,13===(s=e.charCodeAt(n+1))?(r=!0,10===e.charCodeAt(n+2)&&++c):10===s&&(r=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;c<l;){var s,u=1;if(10===(s=e.charCodeAt(c++)))r=!0;else if(13===s)r=!0,10===e.charCodeAt(c)&&(++c,++u);else if(s!==i)continue;return e.slice(t,c-u)}return e.slice(t)}for(;(n=d())!==a;){for(var h=[];n!==o&&n!==a;)h.push(n),n=d();t&&null==(h=t(h,u++))||s.push(h)}return s},r.format=function(t){if(Array.isArray(t[0]))return r.formatRows(t);var n=new R,i=[];return t.forEach(function(e){for(var t in e)n.has(t)||i.push(n.add(t))}),[i.map(l).join(e)].concat(t.map(function(t){return i.map(function(e){return l(t[e])}).join(e)})).join("\n")},r.formatRows=function(e){return e.map(s).join("\n")},r},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("\t","text/tab-separated-values");var Mt,xt,Ct,St,Tt=this[N(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function Lt(e,t,n){var i=arguments.length;i<2&&(t=0),i<3&&(n=Date.now());var r={c:e,t:n+t,n:null};return xt?xt.n=r:Mt=r,xt=r,Ct||(St=clearTimeout(St),Ct=1,Tt(Et)),r}function Et(){var e=Dt(),t=Ot()-e;t>24?(isFinite(t)&&(clearTimeout(St),St=setTimeout(Et,t)),Ct=0):(Ct=1,Tt(Et))}function Dt(){for(var e=Date.now(),t=Mt;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function Ot(){for(var e,t=Mt,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:Mt=t.n;return xt=e,n}function At(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}o.timer=function(){Lt.apply(this,arguments)},o.timer.flush=function(){Dt(),Ot()},o.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var Yt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(e,t){var n=Math.pow(10,3*k(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}});o.formatPrefix=function(e,t){var n=0;return(e=+e)&&(e<0&&(e*=-1),t&&(e=o.round(e,At(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Yt[8+n/3]};var Rt=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,jt=o.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=o.round(e,At(e,t))).toFixed(Math.max(0,Math.min(20,At(e*(1+1e-15),t))))}});function Pt(e){return e+""}var Nt=o.time={},Ht=Date;function It(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}It.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ft.setUTCDate.apply(this._,arguments)},setDay:function(){Ft.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ft.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ft.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ft.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ft.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ft.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ft.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ft.setTime.apply(this._,arguments)}};var Ft=Date.prototype;function $t(e,t,n){function i(t){var n=e(t),i=o(n,1);return t-n<i-t?n:i}function r(n){return t(n=e(new Ht(n-1)),1),n}function o(e,n){return t(e=new Ht(+e),n),e}function a(e,i,o){var a=r(e),s=[];if(o>1)for(;a<i;)n(a)%o||s.push(new Date(+a)),t(a,1);else for(;a<i;)s.push(new Date(+a)),t(a,1);return s}e.floor=e,e.round=i,e.ceil=r,e.offset=o,e.range=a;var s=e.utc=Wt(e);return s.floor=s,s.round=Wt(i),s.ceil=Wt(r),s.offset=Wt(o),s.range=function(e,t,n){try{Ht=It;var i=new It;return i._=e,a(i,t,n)}finally{Ht=Date}},e}function Wt(e){return function(t,n){try{Ht=It;var i=new It;return i._=t,e(i,n)._}finally{Ht=Date}}}Nt.year=$t(function(e){return(e=Nt.day(e)).setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),Nt.years=Nt.year.range,Nt.years.utc=Nt.year.utc.range,Nt.day=$t(function(e){var t=new Ht(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),Nt.days=Nt.day.range,Nt.days.utc=Nt.day.utc.range,Nt.dayOfYear=function(e){var t=Nt.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=Nt[e]=$t(function(e){return(e=Nt.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=Nt.year(e).getDay();return Math.floor((Nt.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});Nt[e+"s"]=n.range,Nt[e+"s"].utc=n.utc.range,Nt[e+"OfYear"]=function(e){var n=Nt.year(e).getDay();return Math.floor((Nt.dayOfYear(e)+(n+t)%7)/7)}}),Nt.week=Nt.sunday,Nt.weeks=Nt.sunday.range,Nt.weeks.utc=Nt.sunday.utc.range,Nt.weekOfYear=Nt.sundayOfYear;var zt={"-":"",_:" ",0:"0"},Bt=/^\s*\d+/,Vt=/^%/;function Ut(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(t)+r:r)}function qt(e){return new RegExp("^(?:"+e.map(o.requote).join("|")+")","i")}function Gt(e){for(var t=new x,n=-1,i=e.length;++n<i;)t.set(e[n].toLowerCase(),n);return t}function Jt(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function Kt(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n));return i?(e.U=+i[0],n+i[0].length):-1}function Xt(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n));return i?(e.W=+i[0],n+i[0].length):-1}function Qt(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function Zt(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n,n+2));return i?(e.y=function(e){return e+(e>68?1900:2e3)}(+i[0]),n+i[0].length):-1}function en(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function tn(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function nn(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function rn(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n,n+3));return i?(e.j=+i[0],n+i[0].length):-1}function on(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function an(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function sn(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function ln(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function cn(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",i=k(t)/60|0,r=k(t)%60;return n+Ut(i,"0",2)+Ut(r,"0",2)}function un(e,t,n){Vt.lastIndex=0;var i=Vt.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function dn(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,i=e[n];!i[1](t);)i=e[++n];return i[0](t)}}o.locale=function(e){return{numberFormat:function(e){var t=e.decimal,n=e.thousands,i=e.grouping,r=e.currency,a=i&&n?function(e,t){for(var r=e.length,o=[],a=0,s=i[0],l=0;r>0&&s>0&&(l+s+1>t&&(s=Math.max(1,t-l)),o.push(e.substring(r-=s,r+s)),!((l+=s+1)>t));)s=i[a=(a+1)%i.length];return o.reverse().join(n)}:j;return function(e){var n=Rt.exec(e),i=n[1]||" ",s=n[2]||">",l=n[3]||"-",c=n[4]||"",u=n[5],d=+n[6],h=n[7],f=n[8],p=n[9],m=1,g="",_="",v=!1,y=!0;switch(f&&(f=+f.substring(1)),(u||"0"===i&&"="===s)&&(u=i="0",s="="),p){case"n":h=!0,p="g";break;case"%":m=100,_="%",p="f";break;case"p":m=100,_="%",p="r";break;case"b":case"o":case"x":case"X":"#"===c&&(g="0"+p.toLowerCase());case"c":y=!1;case"d":v=!0,f=0;break;case"s":m=-1,p="r"}"$"===c&&(g=r[0],_=r[1]),"r"!=p||f||(p="g"),null!=f&&("g"==p?f=Math.max(1,Math.min(21,f)):"e"!=p&&"f"!=p||(f=Math.max(0,Math.min(20,f)))),p=jt.get(p)||Pt;var b=u&&h;return function(e){var n=_;if(v&&e%1)return"";var r=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===l?"":l;if(m<0){var c=o.formatPrefix(e,f);e=c.scale(e),n=c.symbol+_}else e*=m;var w,k,M=(e=p(e,f)).lastIndexOf(".");if(M<0){var x=y?e.lastIndexOf("e"):-1;x<0?(w=e,k=""):(w=e.substring(0,x),k=e.substring(x))}else w=e.substring(0,M),k=t+e.substring(M+1);!u&&h&&(w=a(w,1/0));var C=g.length+w.length+k.length+(b?0:r.length),S=C<d?new Array(C=d-C+1).join(i):"";return b&&(w=a(S+w,S.length?d-k.length:1/0)),r+=g,e=w+k,("<"===s?r+e+S:">"===s?S+r+e:"^"===s?S.substring(0,C>>=1)+r+e+S.substring(C):r+(b?e:S+e))+n}}}(e),timeFormat:function(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,a=e.days,s=e.shortDays,l=e.months,c=e.shortMonths;function u(e){var t=e.length;function n(n){for(var i,r,o,a=[],s=-1,l=0;++s<t;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(r=zt[i=e.charAt(++s)])&&(i=e.charAt(++s)),(o=w[i])&&(i=o(n,null==r?"e"===i?" ":"0":r)),a.push(i),l=s+1);return a.push(e.slice(l,s)),a.join("")}return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(d(n,e,t,0)!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var i=null!=n.Z&&Ht!==It,r=new(i?It:Ht);return"j"in n?r.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),r.setFullYear(n.y,0,1),r.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(r.getDay()+5)%7:n.w+7*n.U-(r.getDay()+6)%7)):r.setFullYear(n.y,n.m,n.d),r.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),i?r._:r},n.toString=function(){return e},n}function d(e,t,n,i){for(var r,o,a,s=0,l=t.length,c=n.length;s<l;){if(i>=c)return-1;if(37===(r=t.charCodeAt(s++))){if(a=t.charAt(s++),!(o=k[a in zt?t.charAt(s++):a])||(i=o(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}u.utc=function(e){var t=u(e);function n(e){try{var n=new(Ht=It);return n._=e,t(n)}finally{Ht=Date}}return n.parse=function(e){try{Ht=It;var n=t.parse(e);return n&&n._}finally{Ht=Date}},n.toString=t.toString,n},u.multi=u.utc.multi=dn;var h=o.map(),f=qt(a),p=Gt(a),m=qt(s),g=Gt(s),_=qt(l),v=Gt(l),y=qt(c),b=Gt(c);r.forEach(function(e,t){h.set(e.toLowerCase(),t)});var w={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:u(t),d:function(e,t){return Ut(e.getDate(),t,2)},e:function(e,t){return Ut(e.getDate(),t,2)},H:function(e,t){return Ut(e.getHours(),t,2)},I:function(e,t){return Ut(e.getHours()%12||12,t,2)},j:function(e,t){return Ut(1+Nt.dayOfYear(e),t,3)},L:function(e,t){return Ut(e.getMilliseconds(),t,3)},m:function(e,t){return Ut(e.getMonth()+1,t,2)},M:function(e,t){return Ut(e.getMinutes(),t,2)},p:function(e){return r[+(e.getHours()>=12)]},S:function(e,t){return Ut(e.getSeconds(),t,2)},U:function(e,t){return Ut(Nt.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ut(Nt.mondayOfYear(e),t,2)},x:u(n),X:u(i),y:function(e,t){return Ut(e.getFullYear()%100,t,2)},Y:function(e,t){return Ut(e.getFullYear()%1e4,t,4)},Z:cn,"%":function(){return"%"}},k={a:function(e,t,n){m.lastIndex=0;var i=m.exec(t.slice(n));return i?(e.w=g.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(e,t,n){f.lastIndex=0;var i=f.exec(t.slice(n));return i?(e.w=p.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(e,t,n){y.lastIndex=0;var i=y.exec(t.slice(n));return i?(e.m=b.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(e,t,n){_.lastIndex=0;var i=_.exec(t.slice(n));return i?(e.m=v.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(e,t,n){return d(e,w.c.toString(),t,n)},d:nn,e:nn,H:on,I:on,j:rn,L:ln,m:tn,M:an,p:function(e,t,n){var i=h.get(t.slice(n,n+=2).toLowerCase());return null==i?-1:(e.p=i,n)},S:sn,U:Kt,w:Jt,W:Xt,x:function(e,t,n){return d(e,w.x.toString(),t,n)},X:function(e,t,n){return d(e,w.X.toString(),t,n)},y:Zt,Y:Qt,Z:en,"%":un};return u}(e)}};var hn=o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fn(){}o.format=hn.numberFormat,o.geo={},fn.prototype={s:0,t:0,add:function(e){mn(e,this.t,pn),mn(pn.s,this.s,this),this.s?this.t+=pn.t:this.s=pn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var pn=new fn;function mn(e,t,n){var i=n.s=e+t,r=i-e,o=i-r;n.t=e-o+(t-r)}function gn(e,t){e&&vn.hasOwnProperty(e.type)&&vn[e.type](e,t)}o.geo.stream=function(e,t){e&&_n.hasOwnProperty(e.type)?_n[e.type](e,t):gn(e,t)};var _n={Feature:function(e,t){gn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)gn(n[i].geometry,t)}},vn={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){yn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)yn(n[i],t,0)},Polygon:function(e,t){bn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)bn(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)gn(n[i],t)}};function yn(e,t,n){var i,r=-1,o=e.length-n;for(t.lineStart();++r<o;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function bn(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)yn(e[n],t,1);t.polygonEnd()}o.geo.area=function(e){return wn=0,o.geo.stream(e,Rn),wn};var wn,kn,Mn,xn,Cn,Sn,Tn,Ln,En,Dn,On,An,Yn=new fn,Rn={sphere:function(){wn+=4*Ee},point:I,lineStart:I,lineEnd:I,polygonStart:function(){Yn.reset(),Rn.lineStart=jn},polygonEnd:function(){var e=2*Yn;wn+=e<0?4*Ee+e:e,Rn.lineStart=Rn.lineEnd=Rn.point=I}};function jn(){var e,t,n,i,r;function o(e,t){t=t*Ye/2+Ee/4;var o=(e*=Ye)-n,a=o>=0?1:-1,s=a*o,l=Math.cos(t),c=Math.sin(t),u=r*c,d=i*l+u*Math.cos(s),h=u*a*Math.sin(s);Yn.add(Math.atan2(h,d)),n=e,i=l,r=c}Rn.point=function(a,s){Rn.point=o,n=(e=a)*Ye,i=Math.cos(s=(t=s)*Ye/2+Ee/4),r=Math.sin(s)},Rn.lineEnd=function(){o(e,t)}}function Pn(e){var t=e[0],n=e[1],i=Math.cos(n);return[i*Math.cos(t),i*Math.sin(t),Math.sin(n)]}function Nn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Hn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function In(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Fn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function $n(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Wn(e){return[Math.atan2(e[1],e[0]),He(e[2])]}function zn(e,t){return k(e[0]-t[0])<Te&&k(e[1]-t[1])<Te}o.geo.bounds=function(){var e,t,n,i,r,a,s,l,c,u,d,h={point:f,lineStart:m,lineEnd:g,polygonStart:function(){h.point=_,h.lineStart=v,h.lineEnd=y,c=0,Rn.polygonStart()},polygonEnd:function(){Rn.polygonEnd(),h.point=f,h.lineStart=m,h.lineEnd=g,Yn<0?(e=-(n=180),t=-(i=90)):c>Te?i=90:c<-Te&&(t=-90),d[0]=e,d[1]=n}};function f(r,o){u.push(d=[e=r,n=r]),o<t&&(t=o),o>i&&(i=o)}function p(o,a){var s=Pn([o*Ye,a*Ye]);if(l){var c=Hn(l,s),u=Hn([c[1],-c[0],0],c);$n(u),u=Wn(u);var d=o-r,h=d>0?1:-1,p=u[0]*Re*h,m=k(d)>180;if(m^(h*r<p&&p<h*o))(g=u[1]*Re)>i&&(i=g);else if(m^(h*r<(p=(p+360)%360-180)&&p<h*o)){var g;(g=-u[1]*Re)<t&&(t=g)}else a<t&&(t=a),a>i&&(i=a);m?o<r?b(e,o)>b(e,n)&&(n=o):b(o,n)>b(e,n)&&(e=o):n>=e?(o<e&&(e=o),o>n&&(n=o)):o>r?b(e,o)>b(e,n)&&(n=o):b(o,n)>b(e,n)&&(e=o)}else f(o,a);l=s,r=o}function m(){h.point=p}function g(){d[0]=e,d[1]=n,h.point=f,l=null}function _(e,t){if(l){var n=e-r;c+=k(n)>180?n+(n>0?360:-360):n}else a=e,s=t;Rn.point(e,t),p(e,t)}function v(){Rn.lineStart()}function y(){_(a,s),Rn.lineEnd(),k(c)>Te&&(e=-(n=180)),d[0]=e,d[1]=n,l=null}function b(e,t){return(t-=e)<0?t+360:t}function w(e,t){return e[0]-t[0]}function M(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}return function(r){if(i=n=-(e=t=1/0),u=[],o.geo.stream(r,h),c=u.length){u.sort(w);for(var a=1,s=[m=u[0]];a<c;++a)M((f=u[a])[0],m)||M(f[1],m)?(b(m[0],f[1])>b(m[0],m[1])&&(m[1]=f[1]),b(f[0],m[1])>b(m[0],m[1])&&(m[0]=f[0])):s.push(m=f);for(var l,c,f,p=-1/0,m=(a=0,s[c=s.length-1]);a<=c;m=f,++a)f=s[a],(l=b(m[1],f[0]))>p&&(p=l,e=f[0],n=m[1])}return u=d=null,e===1/0||t===1/0?[[NaN,NaN],[NaN,NaN]]:[[e,t],[n,i]]}}(),o.geo.centroid=function(e){kn=Mn=xn=Cn=Sn=Tn=Ln=En=Dn=On=An=0,o.geo.stream(e,Bn);var t=Dn,n=On,i=An,r=t*t+n*n+i*i;return r<Le&&(t=Tn,n=Ln,i=En,Mn<Te&&(t=xn,n=Cn,i=Sn),(r=t*t+n*n+i*i)<Le)?[NaN,NaN]:[Math.atan2(n,t)*Re,He(i/Math.sqrt(r))*Re]};var Bn={sphere:I,point:Vn,lineStart:qn,lineEnd:Gn,polygonStart:function(){Bn.lineStart=Jn},polygonEnd:function(){Bn.lineStart=qn}};function Vn(e,t){e*=Ye;var n=Math.cos(t*=Ye);Un(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Un(e,t,n){xn+=(e-xn)/++kn,Cn+=(t-Cn)/kn,Sn+=(n-Sn)/kn}function qn(){var e,t,n;function i(i,r){i*=Ye;var o=Math.cos(r*=Ye),a=o*Math.cos(i),s=o*Math.sin(i),l=Math.sin(r),c=Math.atan2(Math.sqrt((c=t*l-n*s)*c+(c=n*a-e*l)*c+(c=e*s-t*a)*c),e*a+t*s+n*l);Mn+=c,Tn+=c*(e+(e=a)),Ln+=c*(t+(t=s)),En+=c*(n+(n=l)),Un(e,t,n)}Bn.point=function(r,o){r*=Ye;var a=Math.cos(o*=Ye);e=a*Math.cos(r),t=a*Math.sin(r),n=Math.sin(o),Bn.point=i,Un(e,t,n)}}function Gn(){Bn.point=Vn}function Jn(){var e,t,n,i,r;function o(e,t){e*=Ye;var o=Math.cos(t*=Ye),a=o*Math.cos(e),s=o*Math.sin(e),l=Math.sin(t),c=i*l-r*s,u=r*a-n*l,d=n*s-i*a,h=Math.sqrt(c*c+u*u+d*d),f=n*a+i*s+r*l,p=h&&-Ne(f)/h,m=Math.atan2(h,f);Dn+=p*c,On+=p*u,An+=p*d,Mn+=m,Tn+=m*(n+(n=a)),Ln+=m*(i+(i=s)),En+=m*(r+(r=l)),Un(n,i,r)}Bn.point=function(a,s){e=a,t=s,Bn.point=o,a*=Ye;var l=Math.cos(s*=Ye);n=l*Math.cos(a),i=l*Math.sin(a),r=Math.sin(s),Un(n,i,r)},Bn.lineEnd=function(){o(e,t),Bn.lineEnd=Gn,Bn.point=Vn}}function Kn(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,i){return(n=t.invert(n,i))&&e.invert(n[0],n[1])}),n}function Xn(){return!0}function Qn(e,t,n,i,r){var o=[],a=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],i=e[t];if(zn(n,i)){r.lineStart();for(var s=0;s<t;++s)r.point((n=e[s])[0],n[1]);r.lineEnd()}else{var l=new ei(n,e,null,!0),c=new ei(n,null,l,!1);l.o=c,o.push(l),a.push(c),c=new ei(i,null,l=new ei(i,e,null,!1),!0),l.o=c,o.push(l),a.push(c)}}}),a.sort(t),Zn(o),Zn(a),o.length){for(var s=0,l=n,c=a.length;s<c;++s)a[s].e=l=!l;for(var u,d,h=o[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;u=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(s=0,c=u.length;s<c;++s)r.point((d=u[s])[0],d[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p)for(s=(u=f.p.z).length-1;s>=0;--s)r.point((d=u[s])[0],d[1]);else i(f.x,f.p.x,-1,r);f=f.p}u=(f=f.o).z,p=!p}while(!f.v);r.lineEnd()}}}function Zn(e){if(t=e.length){for(var t,n,i=0,r=e[0];++i<t;)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}function ei(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function ti(e,t,n,i){return function(r,a){var s,l=t(a),c=r.invert(i[0],i[1]),u={point:d,lineStart:f,lineEnd:p,polygonStart:function(){u.point=b,u.lineStart=w,u.lineEnd=k,s=[],m=[]},polygonEnd:function(){u.point=d,u.lineStart=f,u.lineEnd=p,s=o.merge(s);var e=function(e,t){var n=e[0],i=e[1],r=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Yn.reset();for(var s=0,l=t.length;s<l;++s){var c=t[s],u=c.length;if(u)for(var d=c[0],h=d[0],f=d[1]/2+Ee/4,p=Math.sin(f),m=Math.cos(f),g=1;;){g===u&&(g=0);var _=(e=c[g])[0],v=e[1]/2+Ee/4,y=Math.sin(v),b=Math.cos(v),w=_-h,k=w>=0?1:-1,M=k*w,x=M>Ee,C=p*y;if(Yn.add(Math.atan2(C*k*Math.sin(M),m*b+C*Math.cos(M))),o+=x?w+k*De:w,x^h>=n^_>=n){var S=Hn(Pn(d),Pn(e));$n(S);var T=Hn(r,S);$n(T);var L=(x^w>=0?-1:1)*He(T[2]);(i>L||i===L&&(S[0]||S[1]))&&(a+=x^w>=0?1:-1)}if(!g++)break;h=_,p=y,m=b,d=e}}return(o<-Te||o<Te&&Yn<-Te)^1&a}(c,m);s.length?(y||(a.polygonStart(),y=!0),Qn(s,ri,e,n,a)):e&&(y||(a.polygonStart(),y=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),y&&(a.polygonEnd(),y=!1),s=m=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function d(t,n){var i=r(t,n);e(t=i[0],n=i[1])&&a.point(t,n)}function h(e,t){var n=r(e,t);l.point(n[0],n[1])}function f(){u.point=h,l.lineStart()}function p(){u.point=d,l.lineEnd()}var m,g,_=ii(),v=t(_),y=!1;function b(e,t){g.push([e,t]);var n=r(e,t);v.point(n[0],n[1])}function w(){v.lineStart(),g=[]}function k(){b(g[0][0],g[0][1]),v.lineEnd();var e,t=v.clean(),n=_.buffer(),i=n.length;if(g.pop(),m.push(g),g=null,i)if(1&t){var r,o=-1;if((i=(e=n[0]).length-1)>0){for(y||(a.polygonStart(),y=!0),a.lineStart();++o<i;)a.point((r=e[o])[0],r[1]);a.lineEnd()}}else i>1&&2&t&&n.push(n.pop().concat(n.shift())),s.push(n.filter(ni))}return u}}function ni(e){return e.length>1}function ii(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:I,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function ri(e,t){return((e=e.x)[0]<0?e[1]-Ae-Te:Ae-e[1])-((t=t.x)[0]<0?t[1]-Ae-Te:Ae-t[1])}var oi=ti(Xn,function(e){var t,n=NaN,i=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?Ee:-Ee,l=k(o-n);k(l-Ee)<Te?(e.point(n,i=(i+a)/2>0?Ae:-Ae),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(s,i),e.point(o,i),t=0):r!==s&&l>=Ee&&(k(n-r)<Te&&(n-=r*Te),k(o-s)<Te&&(o-=s*Te),i=function(e,t,n,i){var r,o,a=Math.sin(e-n);return k(a)>Te?Math.atan((Math.sin(t)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(t))*Math.sin(e))/(r*o*a)):(t+i)/2}(n,i,o,a),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(s,i),t=0),e.point(n=o,i=a),r=s},lineEnd:function(){e.lineEnd(),n=i=NaN},clean:function(){return 2-t}}},function(e,t,n,i){var r;if(null==e)r=n*Ae,i.point(-Ee,r),i.point(0,r),i.point(Ee,r),i.point(Ee,0),i.point(Ee,-r),i.point(0,-r),i.point(-Ee,-r),i.point(-Ee,0),i.point(-Ee,r);else if(k(e[0]-t[0])>Te){var o=e[0]<t[0]?Ee:-Ee;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])},[-Ee,-Ee/2]);function ai(e,t,n,i){return function(r){var o,a=r.a,s=r.b,l=a.x,c=a.y,u=0,d=1,h=s.x-l,f=s.y-c;if(o=e-l,h||!(o>0)){if(o/=h,h<0){if(o<u)return;o<d&&(d=o)}else if(h>0){if(o>d)return;o>u&&(u=o)}if(o=n-l,h||!(o<0)){if(o/=h,h<0){if(o>d)return;o>u&&(u=o)}else if(h>0){if(o<u)return;o<d&&(d=o)}if(o=t-c,f||!(o>0)){if(o/=f,f<0){if(o<u)return;o<d&&(d=o)}else if(f>0){if(o>d)return;o>u&&(u=o)}if(o=i-c,f||!(o<0)){if(o/=f,f<0){if(o>d)return;o>u&&(u=o)}else if(f>0){if(o<u)return;o<d&&(d=o)}return u>0&&(r.a={x:l+u*h,y:c+u*f}),d<1&&(r.b={x:l+d*h,y:c+d*f}),r}}}}}}var si=1e9;function li(e,t,n,i){return function(l){var c,u,d,h,f,p,m,g,_,v,y,b=l,w=ii(),k=ai(e,t,n,i),M={point:S,lineStart:function(){M.point=T,u&&u.push(d=[]);v=!0,_=!1,m=g=NaN},lineEnd:function(){c&&(T(h,f),p&&_&&w.rejoin(),c.push(w.buffer()));M.point=S,_&&l.lineEnd()},polygonStart:function(){l=w,c=[],u=[],y=!0},polygonEnd:function(){l=b,c=o.merge(c);var t=function(e){for(var t=0,n=u.length,i=e[1],r=0;r<n;++r)for(var o,a=1,s=u[r],l=s.length,c=s[0];a<l;++a)o=s[a],c[1]<=i?o[1]>i&&Pe(c,o,e)>0&&++t:o[1]<=i&&Pe(c,o,e)<0&&--t,c=o;return 0!==t}([e,i]),n=y&&t,r=c.length;(n||r)&&(l.polygonStart(),n&&(l.lineStart(),x(null,null,1,l),l.lineEnd()),r&&Qn(c,a,t,x,l),l.polygonEnd()),c=u=d=null}};function x(o,a,l,c){var u=0,d=0;if(null==o||(u=r(o,l))!==(d=r(a,l))||s(o,a)<0^l>0)do{c.point(0===u||3===u?e:n,u>1?i:t)}while((u=(u+l+4)%4)!==d);else c.point(a[0],a[1])}function C(r,o){return e<=r&&r<=n&&t<=o&&o<=i}function S(e,t){C(e,t)&&l.point(e,t)}function T(e,t){var n=C(e=Math.max(-si,Math.min(si,e)),t=Math.max(-si,Math.min(si,t)));if(u&&d.push([e,t]),v)h=e,f=t,p=n,v=!1,n&&(l.lineStart(),l.point(e,t));else if(n&&_)l.point(e,t);else{var i={a:{x:m,y:g},b:{x:e,y:t}};k(i)?(_||(l.lineStart(),l.point(i.a.x,i.a.y)),l.point(i.b.x,i.b.y),n||l.lineEnd(),y=!1):n&&(l.lineStart(),l.point(e,t),y=!1)}m=e,g=t,_=n}return M};function r(i,r){return k(i[0]-e)<Te?r>0?0:3:k(i[0]-n)<Te?r>0?2:1:k(i[1]-t)<Te?r>0?1:0:r>0?3:2}function a(e,t){return s(e.x,t.x)}function s(e,t){var n=r(e,1),i=r(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}}function ci(e){var t=0,n=Ee/3,i=Oi(e),r=i(t,n);return r.parallels=function(e){return arguments.length?i(t=e[0]*Ee/180,n=e[1]*Ee/180):[t/Ee*180,n/Ee*180]},r}function ui(e,t){var n=Math.sin(e),i=(n+Math.sin(t))/2,r=1+n*(2*i-n),o=Math.sqrt(r)/i;function a(e,t){var n=Math.sqrt(r-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),o-n*Math.cos(e)]}return a.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,He((r-(e*e+n*n)*i*i)/(2*i))]},a}o.geo.clipExtent=function(){var e,t,n,i,r,o,a={stream:function(e){return r&&(r.valid=!1),(r=o(e)).valid=!0,r},extent:function(s){return arguments.length?(o=li(e=+s[0][0],t=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),a):[[e,t],[n,i]]}};return a.extent([[0,0],[960,500]])},(o.geo.conicEqualArea=function(){return ci(ui)}).raw=ui,o.geo.albers=function(){return o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},o.geo.albersUsa=function(){var e,t,n,i,r=o.geo.albers(),a=o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};function c(r){var o=r[0],a=r[1];return e=null,t(o,a),e||(n(o,a),e)||i(o,a),e}return c.invert=function(e){var t=r.scale(),n=r.translate(),i=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&i>=-.425&&i<-.214?a:o>=.166&&o<.234&&i>=-.214&&i<-.115?s:r).invert(e)},c.stream=function(e){var t=r.stream(e),n=a.stream(e),i=s.stream(e);return{point:function(e,r){t.point(e,r),n.point(e,r),i.point(e,r)},sphere:function(){t.sphere(),n.sphere(),i.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},c.precision=function(e){return arguments.length?(r.precision(e),a.precision(e),s.precision(e),c):r.precision()},c.scale=function(e){return arguments.length?(r.scale(e),a.scale(.35*e),s.scale(e),c.translate(r.translate())):r.scale()},c.translate=function(e){if(!arguments.length)return r.translate();var o=r.scale(),u=+e[0],d=+e[1];return t=r.translate(e).clipExtent([[u-.455*o,d-.238*o],[u+.455*o,d+.238*o]]).stream(l).point,n=a.translate([u-.307*o,d+.201*o]).clipExtent([[u-.425*o+Te,d+.12*o+Te],[u-.214*o-Te,d+.234*o-Te]]).stream(l).point,i=s.translate([u-.205*o,d+.212*o]).clipExtent([[u-.214*o+Te,d+.166*o+Te],[u-.115*o-Te,d+.234*o-Te]]).stream(l).point,c},c.scale(1070)};var di,hi,fi,pi,mi,gi,_i={point:I,lineStart:I,lineEnd:I,polygonStart:function(){hi=0,_i.lineStart=vi},polygonEnd:function(){_i.lineStart=_i.lineEnd=_i.point=I,di+=k(hi/2)}};function vi(){var e,t,n,i;function r(e,t){hi+=i*e-n*t,n=e,i=t}_i.point=function(o,a){_i.point=r,e=n=o,t=i=a},_i.lineEnd=function(){r(e,t)}}var yi={point:function(e,t){e<fi&&(fi=e);e>mi&&(mi=e);t<pi&&(pi=t);t>gi&&(gi=t)},lineStart:I,lineEnd:I,polygonStart:I,polygonEnd:I};function bi(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var wi,ki={point:Mi,lineStart:xi,lineEnd:Ci,polygonStart:function(){ki.lineStart=Si},polygonEnd:function(){ki.point=Mi,ki.lineStart=xi,ki.lineEnd=Ci}};function Mi(e,t){xn+=e,Cn+=t,++Sn}function xi(){var e,t;function n(n,i){var r=n-e,o=i-t,a=Math.sqrt(r*r+o*o);Tn+=a*(e+n)/2,Ln+=a*(t+i)/2,En+=a,Mi(e=n,t=i)}ki.point=function(i,r){ki.point=n,Mi(e=i,t=r)}}function Ci(){ki.point=Mi}function Si(){var e,t,n,i;function r(e,t){var r=e-n,o=t-i,a=Math.sqrt(r*r+o*o);Tn+=a*(n+e)/2,Ln+=a*(i+t)/2,En+=a,Dn+=(a=i*e-n*t)*(n+e),On+=a*(i+t),An+=3*a,Mi(n=e,i=t)}ki.point=function(o,a){ki.point=r,Mi(e=n=o,t=i=a)},ki.lineEnd=function(){r(e,t)}}function Ti(e){var t=.5,n=Math.cos(30*Ye),i=16;function r(t){return(i?function(t){var n,r,a,s,l,c,u,d,h,f,p,m,g={point:_,lineStart:v,lineEnd:b,polygonStart:function(){t.polygonStart(),g.lineStart=w},polygonEnd:function(){t.polygonEnd(),g.lineStart=v}};function _(n,i){n=e(n,i),t.point(n[0],n[1])}function v(){d=NaN,g.point=y,t.lineStart()}function y(n,r){var a=Pn([n,r]),s=e(n,r);o(d,h,u,f,p,m,d=s[0],h=s[1],u=n,f=a[0],p=a[1],m=a[2],i,t),t.point(d,h)}function b(){g.point=_,t.lineEnd()}function w(){v(),g.point=k,g.lineEnd=M}function k(e,t){y(n=e,t),r=d,a=h,s=f,l=p,c=m,g.point=y}function M(){o(d,h,u,f,p,m,r,a,n,s,l,c,i,t),g.lineEnd=b,b()}return g}:function(t){return Ei(t,function(n,i){n=e(n,i),t.point(n[0],n[1])})})(t)}function o(i,r,a,s,l,c,u,d,h,f,p,m,g,_){var v=u-i,y=d-r,b=v*v+y*y;if(b>4*t&&g--){var w=s+f,M=l+p,x=c+m,C=Math.sqrt(w*w+M*M+x*x),S=Math.asin(x/=C),T=k(k(x)-1)<Te||k(a-h)<Te?(a+h)/2:Math.atan2(M,w),L=e(T,S),E=L[0],D=L[1],O=E-i,A=D-r,Y=y*O-v*A;(Y*Y/b>t||k((v*O+y*A)/b-.5)>.3||s*f+l*p+c*m<n)&&(o(i,r,a,s,l,c,E,D,T,w/=C,M/=C,x,g,_),_.point(E,D),o(E,D,T,w,M,x,u,d,h,f,p,m,g,_))}}return r.precision=function(e){return arguments.length?(i=(t=e*e)>0&&16,r):Math.sqrt(t)},r}function Li(e){this.stream=e}function Ei(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Di(e){return Oi(function(){return e})()}function Oi(e){var t,n,i,r,a,s,l=Ti(function(e,n){return[(e=t(e,n))[0]*c+r,a-e[1]*c]}),c=150,u=480,d=250,h=0,f=0,p=0,m=0,g=0,_=oi,v=j,y=null,b=null;function w(e){return[(e=i(e[0]*Ye,e[1]*Ye))[0]*c+r,a-e[1]*c]}function M(e){return(e=i.invert((e[0]-r)/c,(a-e[1])/c))&&[e[0]*Re,e[1]*Re]}function x(){i=Kn(n=ji(p,m,g),t);var e=t(h,f);return r=u-e[0]*c,a=d+e[1]*c,C()}function C(){return s&&(s.valid=!1,s=null),w}return w.stream=function(e){return s&&(s.valid=!1),(s=Ai(_(n,l(v(e))))).valid=!0,s},w.clipAngle=function(e){return arguments.length?(_=null==e?(y=e,oi):function(e){var t=Math.cos(e),n=t>0,i=k(t)>Te;return ti(r,function(e){var t,s,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(d,h){var f,p=[d,h],m=r(d,h),g=n?m?0:a(d,h):m?a(d+(d<0?Ee:-Ee),h):0;if(!t&&(c=l=m)&&e.lineStart(),m!==l&&(f=o(t,p),(zn(t,f)||zn(p,f))&&(p[0]+=Te,p[1]+=Te,m=r(p[0],p[1]))),m!==l)u=0,m?(e.lineStart(),f=o(p,t),e.point(f[0],f[1])):(f=o(t,p),e.point(f[0],f[1]),e.lineEnd()),t=f;else if(i&&t&&n^m){var _;g&s||!(_=o(p,t,!0))||(u=0,n?(e.lineStart(),e.point(_[0][0],_[0][1]),e.point(_[1][0],_[1][1]),e.lineEnd()):(e.point(_[1][0],_[1][1]),e.lineEnd(),e.lineStart(),e.point(_[0][0],_[0][1])))}!m||t&&zn(t,p)||e.point(p[0],p[1]),t=p,l=m,s=g},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return u|(c&&l)<<1}}},Ii(e,6*Ye),n?[0,-e]:[-Ee,e-Ee]);function r(e,n){return Math.cos(e)*Math.cos(n)>t}function o(e,n,i){var r=[1,0,0],o=Hn(Pn(e),Pn(n)),a=Nn(o,o),s=o[0],l=a-s*s;if(!l)return!i&&e;var c=t*a/l,u=-t*s/l,d=Hn(r,o),h=Fn(r,c);In(h,Fn(o,u));var f=d,p=Nn(h,f),m=Nn(f,f),g=p*p-m*(Nn(h,h)-1);if(!(g<0)){var _=Math.sqrt(g),v=Fn(f,(-p-_)/m);if(In(v,h),v=Wn(v),!i)return v;var y,b=e[0],w=n[0],M=e[1],x=n[1];w<b&&(y=b,b=w,w=y);var C=w-b,S=k(C-Ee)<Te;if(!S&&x<M&&(y=M,M=x,x=y),S||C<Te?S?M+x>0^v[1]<(k(v[0]-b)<Te?M:x):M<=v[1]&&v[1]<=x:C>Ee^(b<=v[0]&&v[0]<=w)){var T=Fn(f,(-p+_)/m);return In(T,h),[v,Wn(T)]}}}function a(t,i){var r=n?e:Ee-e,o=0;return t<-r?o|=1:t>r&&(o|=2),i<-r?o|=4:i>r&&(o|=8),o}}((y=+e)*Ye),C()):y},w.clipExtent=function(e){return arguments.length?(b=e,v=e?li(e[0][0],e[0][1],e[1][0],e[1][1]):j,C()):b},w.scale=function(e){return arguments.length?(c=+e,x()):c},w.translate=function(e){return arguments.length?(u=+e[0],d=+e[1],x()):[u,d]},w.center=function(e){return arguments.length?(h=e[0]%360*Ye,f=e[1]%360*Ye,x()):[h*Re,f*Re]},w.rotate=function(e){return arguments.length?(p=e[0]%360*Ye,m=e[1]%360*Ye,g=e.length>2?e[2]%360*Ye:0,x()):[p*Re,m*Re,g*Re]},o.rebind(w,l,"precision"),function(){return t=e.apply(this,arguments),w.invert=t.invert&&M,x()}}function Ai(e){return Ei(e,function(t,n){e.point(t*Ye,n*Ye)})}function Yi(e,t){return[e,t]}function Ri(e,t){return[e>Ee?e-De:e<-Ee?e+De:e,t]}function ji(e,t,n){return e?t||n?Kn(Ni(e),Hi(t,n)):Ni(e):t||n?Hi(t,n):Ri}function Pi(e){return function(t,n){return[(t+=e)>Ee?t-De:t<-Ee?t+De:t,n]}}function Ni(e){var t=Pi(e);return t.invert=Pi(-e),t}function Hi(e,t){var n=Math.cos(e),i=Math.sin(e),r=Math.cos(t),o=Math.sin(t);function a(e,t){var a=Math.cos(t),s=Math.cos(e)*a,l=Math.sin(e)*a,c=Math.sin(t),u=c*n+s*i;return[Math.atan2(l*r-u*o,s*n-c*i),He(u*r+l*o)]}return a.invert=function(e,t){var a=Math.cos(t),s=Math.cos(e)*a,l=Math.sin(e)*a,c=Math.sin(t),u=c*r-l*o;return[Math.atan2(l*r+c*o,s*n+u*i),He(u*n-s*i)]},a}function Ii(e,t){var n=Math.cos(e),i=Math.sin(e);return function(r,o,a,s){var l=a*t;null!=r?(r=Fi(n,r),o=Fi(n,o),(a>0?r<o:r>o)&&(r+=a*De)):(r=e+a*De,o=e-.5*l);for(var c,u=r;a>0?u>o:u<o;u-=l)s.point((c=Wn([n,-i*Math.cos(u),-i*Math.sin(u)]))[0],c[1])}}function Fi(e,t){var n=Pn(t);n[0]-=e,$n(n);var i=Ne(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Te)%(2*Math.PI)}function $i(e,t,n){var i=o.range(e,t-Te,n).concat(t);return function(e){return i.map(function(t){return[e,t]})}}function Wi(e,t,n){var i=o.range(e,t-Te,n).concat(t);return function(e){return i.map(function(t){return[t,e]})}}function zi(e){return e.source}function Bi(e){return e.target}o.geo.path=function(){var e,t,n,i,r,a=4.5;function s(e){return e&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),r&&r.valid||(r=n(i)),o.geo.stream(e,r)),i.result()}function l(){return r=null,s}return s.area=function(e){return di=0,o.geo.stream(e,n(_i)),di},s.centroid=function(e){return xn=Cn=Sn=Tn=Ln=En=Dn=On=An=0,o.geo.stream(e,n(ki)),An?[Dn/An,On/An]:En?[Tn/En,Ln/En]:Sn?[xn/Sn,Cn/Sn]:[NaN,NaN]},s.bounds=function(e){return mi=gi=-(fi=pi=1/0),o.geo.stream(e,n(yi)),[[fi,pi],[mi,gi]]},s.projection=function(t){return arguments.length?(n=(e=t)?t.stream||function(e){var t=Ti(function(t,n){return e([t*Re,n*Re])});return function(e){return Ai(t(e))}}(t):j,l()):e},s.context=function(e){return arguments.length?(i=null==(t=e)?new function(){var e=bi(4.5),t=[],n={point:i,lineStart:function(){n.point=r},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=i},pointRadius:function(t){return e=bi(t),n},result:function(){if(t.length){var e=t.join("");return t=[],e}}};function i(n,i){t.push("M",n,",",i,e)}function r(e,i){t.push("M",e,",",i),n.point=o}function o(e,n){t.push("L",e,",",n)}function a(){n.point=i}function s(){t.push("Z")}return n}:new function(e){var t=4.5,n={point:i,lineStart:function(){n.point=r},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=i},pointRadius:function(e){return t=e,n},result:I};function i(n,i){e.moveTo(n+t,i),e.arc(n,i,t,0,De)}function r(t,i){e.moveTo(t,i),n.point=o}function o(t,n){e.lineTo(t,n)}function a(){n.point=i}function s(){e.closePath()}return n}(e),"function"!=typeof a&&i.pointRadius(a),l()):t},s.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(i.pointRadius(+e),+e),s):a},s.projection(o.geo.albersUsa()).context(null)},o.geo.transform=function(e){return{stream:function(t){var n=new Li(t);for(var i in e)n[i]=e[i];return n}}},Li.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},o.geo.projection=Di,o.geo.projectionMutator=Oi,(o.geo.equirectangular=function(){return Di(Yi)}).raw=Yi.invert=Yi,o.geo.rotation=function(e){function t(t){return(t=e(t[0]*Ye,t[1]*Ye))[0]*=Re,t[1]*=Re,t}return e=ji(e[0]%360*Ye,e[1]*Ye,e.length>2?e[2]*Ye:0),t.invert=function(t){return(t=e.invert(t[0]*Ye,t[1]*Ye))[0]*=Re,t[1]*=Re,t},t},Ri.invert=Yi,o.geo.circle=function(){var e,t,n=[0,0],i=6;function r(){var e="function"==typeof n?n.apply(this,arguments):n,i=ji(-e[0]*Ye,-e[1]*Ye,0).invert,r=[];return t(null,null,1,{point:function(e,t){r.push(e=i(e,t)),e[0]*=Re,e[1]*=Re}}),{type:"Polygon",coordinates:[r]}}return r.origin=function(e){return arguments.length?(n=e,r):n},r.angle=function(n){return arguments.length?(t=Ii((e=+n)*Ye,i*Ye),r):e},r.precision=function(n){return arguments.length?(t=Ii(e*Ye,(i=+n)*Ye),r):i},r.angle(90)},o.geo.distance=function(e,t){var n,i=(t[0]-e[0])*Ye,r=e[1]*Ye,o=t[1]*Ye,a=Math.sin(i),s=Math.cos(i),l=Math.sin(r),c=Math.cos(r),u=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*a)*n+(n=c*u-l*d*s)*n),l*u+c*d*s)},o.geo.graticule=function(){var e,t,n,i,r,a,s,l,c,u,d,h,f=10,p=f,m=90,g=360,_=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return o.range(Math.ceil(i/m)*m,n,m).map(d).concat(o.range(Math.ceil(l/g)*g,s,g).map(h)).concat(o.range(Math.ceil(t/f)*f,e,f).filter(function(e){return k(e%m)>Te}).map(c)).concat(o.range(Math.ceil(a/p)*p,r,p).filter(function(e){return k(e%g)>Te}).map(u))}return v.lines=function(){return y().map(function(e){return{type:"LineString",coordinates:e}})},v.outline=function(){return{type:"Polygon",coordinates:[d(i).concat(h(s).slice(1),d(n).reverse().slice(1),h(l).reverse().slice(1))]}},v.extent=function(e){return arguments.length?v.majorExtent(e).minorExtent(e):v.minorExtent()},v.majorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],l=+e[0][1],s=+e[1][1],i>n&&(e=i,i=n,n=e),l>s&&(e=l,l=s,s=e),v.precision(_)):[[i,l],[n,s]]},v.minorExtent=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],a=+n[0][1],r=+n[1][1],t>e&&(n=t,t=e,e=n),a>r&&(n=a,a=r,r=n),v.precision(_)):[[t,a],[e,r]]},v.step=function(e){return arguments.length?v.majorStep(e).minorStep(e):v.minorStep()},v.majorStep=function(e){return arguments.length?(m=+e[0],g=+e[1],v):[m,g]},v.minorStep=function(e){return arguments.length?(f=+e[0],p=+e[1],v):[f,p]},v.precision=function(o){return arguments.length?(_=+o,c=$i(a,r,90),u=Wi(t,e,_),d=$i(l,s,90),h=Wi(i,n,_),v):_},v.majorExtent([[-180,-90+Te],[180,90-Te]]).minorExtent([[-180,-80-Te],[180,80+Te]])},o.geo.greatArc=function(){var e,t,n=zi,i=Bi;function r(){return{type:"LineString",coordinates:[e||n.apply(this,arguments),t||i.apply(this,arguments)]}}return r.distance=function(){return o.geo.distance(e||n.apply(this,arguments),t||i.apply(this,arguments))},r.source=function(t){return arguments.length?(n=t,e="function"==typeof t?null:t,r):n},r.target=function(e){return arguments.length?(i=e,t="function"==typeof e?null:e,r):i},r.precision=function(){return arguments.length?r:0},r},o.geo.interpolate=function(e,t){return function(e,t,n,i){var r=Math.cos(t),o=Math.sin(t),a=Math.cos(i),s=Math.sin(i),l=r*Math.cos(e),c=r*Math.sin(e),u=a*Math.cos(n),d=a*Math.sin(n),h=2*Math.asin(Math.sqrt(Fe(i-t)+r*a*Fe(n-e))),f=1/Math.sin(h),p=h?function(e){var t=Math.sin(e*=h)*f,n=Math.sin(h-e)*f,i=n*l+t*u,r=n*c+t*d,a=n*o+t*s;return[Math.atan2(r,i)*Re,Math.atan2(a,Math.sqrt(i*i+r*r))*Re]}:function(){return[e*Re,t*Re]};return p.distance=h,p}(e[0]*Ye,e[1]*Ye,t[0]*Ye,t[1]*Ye)},o.geo.length=function(e){return wi=0,o.geo.stream(e,Vi),wi};var Vi={sphere:I,point:I,lineStart:function(){var e,t,n;function i(i,r){var o=Math.sin(r*=Ye),a=Math.cos(r),s=k((i*=Ye)-e),l=Math.cos(s);wi+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=n*o-t*a*l)*s),t*o+n*a*l),e=i,t=o,n=a}Vi.point=function(r,o){e=r*Ye,t=Math.sin(o*=Ye),n=Math.cos(o),Vi.point=i},Vi.lineEnd=function(){Vi.point=Vi.lineEnd=I}},lineEnd:I,polygonStart:I,polygonEnd:I};function Ui(e,t){function n(t,n){var i=Math.cos(t),r=Math.cos(n),o=e(i*r);return[o*r*Math.sin(t),o*Math.sin(n)]}return n.invert=function(e,n){var i=Math.sqrt(e*e+n*n),r=t(i),o=Math.sin(r),a=Math.cos(r);return[Math.atan2(e*o,i*a),Math.asin(i&&n*o/i)]},n}var qi=Ui(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(o.geo.azimuthalEqualArea=function(){return Di(qi)}).raw=qi;var Gi=Ui(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},j);function Ji(e,t){var n=Math.cos(e),i=function(e){return Math.tan(Ee/4+e/2)},r=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(i(t)/i(e)),o=n*Math.pow(i(e),r)/r;if(!r)return Qi;function a(e,t){o>0?t<-Ae+Te&&(t=-Ae+Te):t>Ae-Te&&(t=Ae-Te);var n=o/Math.pow(i(t),r);return[n*Math.sin(r*e),o-n*Math.cos(r*e)]}return a.invert=function(e,t){var n=o-t,i=je(r)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/r,2*Math.atan(Math.pow(o/i,1/r))-Ae]},a}function Ki(e,t){var n=Math.cos(e),i=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),r=n/i+e;if(k(i)<Te)return Yi;function o(e,t){var n=r-t;return[n*Math.sin(i*e),r-n*Math.cos(i*e)]}return o.invert=function(e,t){var n=r-t;return[Math.atan2(e,n)/i,r-je(i)*Math.sqrt(e*e+n*n)]},o}(o.geo.azimuthalEquidistant=function(){return Di(Gi)}).raw=Gi,(o.geo.conicConformal=function(){return ci(Ji)}).raw=Ji,(o.geo.conicEquidistant=function(){return ci(Ki)}).raw=Ki;var Xi=Ui(function(e){return 1/e},Math.atan);function Qi(e,t){return[e,Math.log(Math.tan(Ee/4+t/2))]}function Zi(e){var t,n=Di(e),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=o.apply(n,arguments);if(a===n){if(t=null==e){var s=Ee*i(),l=r();o([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else t&&(a=null);return a},n.clipExtent(null)}(o.geo.gnomonic=function(){return Di(Xi)}).raw=Xi,Qi.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Ae]},(o.geo.mercator=function(){return Zi(Qi)}).raw=Qi;var er=Ui(function(){return 1},Math.asin);(o.geo.orthographic=function(){return Di(er)}).raw=er;var tr=Ui(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});function nr(e,t){return[Math.log(Math.tan(Ee/4+t/2)),-e]}function ir(e){return e[0]}function rr(e){return e[1]}function or(e){for(var t=e.length,n=[0,1],i=2,r=2;r<t;r++){for(;i>1&&Pe(e[n[i-2]],e[n[i-1]],e[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function ar(e,t){return e[0]-t[0]||e[1]-t[1]}(o.geo.stereographic=function(){return Di(tr)}).raw=tr,nr.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Ae]},(o.geo.transverseMercator=function(){var e=Zi(nr),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90])}).raw=nr,o.geom={},o.geom.hull=function(e){var t=ir,n=rr;if(arguments.length)return i(e);function i(e){if(e.length<3)return[];var i,r=bt(t),o=bt(n),a=e.length,s=[],l=[];for(i=0;i<a;i++)s.push([+r.call(this,e[i],i),+o.call(this,e[i],i),i]);for(s.sort(ar),i=0;i<a;i++)l.push([s[i][0],-s[i][1]]);var c=or(s),u=or(l),d=u[0]===c[0],h=u[u.length-1]===c[c.length-1],f=[];for(i=c.length-1;i>=0;--i)f.push(e[s[c[i]][2]]);for(i=+d;i<u.length-h;++i)f.push(e[s[u[i]][2]]);return f}return i.x=function(e){return arguments.length?(t=e,i):t},i.y=function(e){return arguments.length?(n=e,i):n},i},o.geom.polygon=function(e){return U(e,sr),e};var sr=o.geom.polygon.prototype=[];function lr(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function cr(e,t,n,i){var r=e[0],o=n[0],a=t[0]-r,s=i[0]-o,l=e[1],c=n[1],u=t[1]-l,d=i[1]-c,h=(s*(l-c)-d*(r-o))/(d*a-s*u);return[r+h*a,l+h*u]}function ur(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}sr.area=function(){for(var e,t=-1,n=this.length,i=this[n-1],r=0;++t<n;)e=i,i=this[t],r+=e[1]*i[0]-e[0]*i[1];return.5*r},sr.centroid=function(e){var t,n,i=-1,r=this.length,o=0,a=0,s=this[r-1];for(arguments.length||(e=-1/(6*this.area()));++i<r;)t=s,s=this[i],n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[o*e,a*e]},sr.clip=function(e){for(var t,n,i,r,o,a,s=ur(e),l=-1,c=this.length-ur(this),u=this[c-1];++l<c;){for(t=e.slice(),e.length=0,r=this[l],o=t[(i=t.length-s)-1],n=-1;++n<i;)lr(a=t[n],u,r)?(lr(o,u,r)||e.push(cr(o,a,u,r)),e.push(a)):lr(o,u,r)&&e.push(cr(o,a,u,r)),o=a;s&&e.push(e[0]),u=r}return e};var dr,hr,fr,pr,mr,gr=[],_r=[];function vr(e){var t=gr.pop()||new function(){jr(this),this.edge=this.site=this.circle=null};return t.site=e,t}function yr(e){Tr(e),fr.remove(e),gr.push(e),jr(e)}function br(e){var t=e.circle,n=t.x,i=t.cy,r={x:n,y:i},o=e.P,a=e.N,s=[e];yr(e);for(var l=o;l.circle&&k(n-l.circle.x)<Te&&k(i-l.circle.cy)<Te;)o=l.P,s.unshift(l),yr(l),l=o;s.unshift(l),Tr(l);for(var c=a;c.circle&&k(n-c.circle.x)<Te&&k(i-c.circle.cy)<Te;)a=c.N,s.push(c),yr(c),c=a;s.push(c),Tr(c);var u,d=s.length;for(u=1;u<d;++u)c=s[u],l=s[u-1],Ar(c.edge,l.site,c.site,r);l=s[0],(c=s[d-1]).edge=Dr(l.site,c.site,null,r),Sr(l),Sr(c)}function wr(e){for(var t,n,i,r,o=e.x,a=e.y,s=fr._;s;)if((i=kr(s,a)-o)>Te)s=s.L;else{if(!((r=o-Mr(s,a))>Te)){i>-Te?(t=s.P,n=s):r>-Te?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var l=vr(e);if(fr.insert(t,l),t||n){if(t===n)return Tr(t),n=vr(t.site),fr.insert(l,n),l.edge=n.edge=Dr(t.site,l.site),Sr(t),void Sr(n);if(n){Tr(t),Tr(n);var c=t.site,u=c.x,d=c.y,h=e.x-u,f=e.y-d,p=n.site,m=p.x-u,g=p.y-d,_=2*(h*g-f*m),v=h*h+f*f,y=m*m+g*g,b={x:(g*v-f*y)/_+u,y:(h*y-m*v)/_+d};Ar(n.edge,c,p,b),l.edge=Dr(c,e,null,b),n.edge=Dr(e,p,null,b),Sr(t),Sr(n)}else l.edge=Dr(t.site,l.site)}}function kr(e,t){var n=e.site,i=n.x,r=n.y,o=r-t;if(!o)return i;var a=e.P;if(!a)return-1/0;var s=(n=a.site).x,l=n.y,c=l-t;if(!c)return s;var u=s-i,d=1/o-1/c,h=u/c;return d?(-h+Math.sqrt(h*h-2*d*(u*u/(-2*c)-l+c/2+r-o/2)))/d+i:(i+s)/2}function Mr(e,t){var n=e.N;if(n)return kr(n,t);var i=e.site;return i.y===t?i.x:1/0}function xr(e){this.site=e,this.edges=[]}function Cr(e,t){return t.angle-e.angle}function Sr(e){var t=e.P,n=e.N;if(t&&n){var i=t.site,r=e.site,o=n.site;if(i!==o){var a=r.x,s=r.y,l=i.x-a,c=i.y-s,u=o.x-a,d=2*(l*(g=o.y-s)-c*u);if(!(d>=-Le)){var h=l*l+c*c,f=u*u+g*g,p=(g*h-c*f)/d,m=(l*f-u*h)/d,g=m+s,_=_r.pop()||new function(){jr(this),this.x=this.y=this.arc=this.site=this.cy=null};_.arc=e,_.site=r,_.x=p+a,_.y=g+Math.sqrt(p*p+m*m),_.cy=g,e.circle=_;for(var v=null,y=mr._;y;)if(_.y<y.y||_.y===y.y&&_.x<=y.x){if(!y.L){v=y.P;break}y=y.L}else{if(!y.R){v=y;break}y=y.R}mr.insert(v,_),v||(pr=_)}}}}function Tr(e){var t=e.circle;t&&(t.P||(pr=t.N),mr.remove(t),_r.push(t),jr(t),e.circle=null)}function Lr(e,t){var n=e.b;if(n)return!0;var i,r,o=e.a,a=t[0][0],s=t[1][0],l=t[0][1],c=t[1][1],u=e.l,d=e.r,h=u.x,f=u.y,p=d.x,m=d.y,g=(h+p)/2,_=(f+m)/2;if(m===f){if(g<a||g>=s)return;if(h>p){if(o){if(o.y>=c)return}else o={x:g,y:l};n={x:g,y:c}}else{if(o){if(o.y<l)return}else o={x:g,y:c};n={x:g,y:l}}}else if(r=_-(i=(h-p)/(m-f))*g,i<-1||i>1)if(h>p){if(o){if(o.y>=c)return}else o={x:(l-r)/i,y:l};n={x:(c-r)/i,y:c}}else{if(o){if(o.y<l)return}else o={x:(c-r)/i,y:c};n={x:(l-r)/i,y:l}}else if(f<m){if(o){if(o.x>=s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}else{if(o){if(o.x<a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}return e.a=o,e.b=n,!0}function Er(e,t){this.l=e,this.r=t,this.a=this.b=null}function Dr(e,t,n,i){var r=new Er(e,t);return dr.push(r),n&&Ar(r,e,t,n),i&&Ar(r,t,e,i),hr[e.i].edges.push(new Yr(r,e,t)),hr[t.i].edges.push(new Yr(r,t,e)),r}function Or(e,t,n){var i=new Er(e,null);return i.a=t,i.b=n,dr.push(i),i}function Ar(e,t,n,i){e.a||e.b?e.l===n?e.b=i:e.a=i:(e.a=i,e.l=t,e.r=n)}function Yr(e,t,n){var i=e.a,r=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function Rr(){this._=null}function jr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Pr(e,t){var n=t,i=t.R,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Nr(e,t){var n=t,i=t.L,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Hr(e){for(;e.L;)e=e.L;return e}function Ir(e,t){var n,i,r,o=e.sort(Fr).pop();for(dr=[],hr=new Array(e.length),fr=new Rr,mr=new Rr;;)if(r=pr,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(hr[o.i]=new xr(o),wr(o),n=o.x,i=o.y),o=e.pop();else{if(!r)break;br(r.arc)}t&&(function(e){for(var t,n=dr,i=ai(e[0][0],e[0][1],e[1][0],e[1][1]),r=n.length;r--;)(!Lr(t=n[r],e)||!i(t)||k(t.a.x-t.b.x)<Te&&k(t.a.y-t.b.y)<Te)&&(t.a=t.b=null,n.splice(r,1))}(t),function(e){for(var t,n,i,r,o,a,s,l,c,u,d=e[0][0],h=e[1][0],f=e[0][1],p=e[1][1],m=hr,g=m.length;g--;)if((o=m[g])&&o.prepare())for(l=(s=o.edges).length,a=0;a<l;)i=(u=s[a].end()).x,r=u.y,t=(c=s[++a%l].start()).x,n=c.y,(k(i-t)>Te||k(r-n)>Te)&&(s.splice(a,0,new Yr(Or(o.site,u,k(i-d)<Te&&p-r>Te?{x:d,y:k(t-d)<Te?n:p}:k(r-p)<Te&&h-i>Te?{x:k(n-p)<Te?t:h,y:p}:k(i-h)<Te&&r-f>Te?{x:h,y:k(t-h)<Te?n:f}:k(r-f)<Te&&i-d>Te?{x:k(n-f)<Te?t:d,y:f}:null),o.site,null)),++l)}(t));var a={cells:hr,edges:dr};return fr=mr=dr=hr=null,a}function Fr(e,t){return t.y-e.y||t.x-e.x}xr.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)(e=t[n].edge).b&&e.a||t.splice(n,1);return t.sort(Cr),t.length},Yr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Rr.prototype={insert:function(e,t){var n,i,r;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=Hr(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.R&&(Pr(this,n),n=(e=n).U),n.C=!1,i.C=!0,Nr(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.L&&(Nr(this,n),n=(e=n).U),n.C=!1,i.C=!0,Pr(this,i)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,i,r=e.U,o=e.L,a=e.R;if(n=o?a?Hr(a):o:a,r?r.L===e?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=e.U,e=n.R,r.L=e,n.R=a,a.U=n):(n.U=r,r=n,e=n.R)):(i=e.C,e=n),e&&(e.U=r),!i)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===r.L){if((t=r.R).C&&(t.C=!1,r.C=!0,Pr(this,r),t=r.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Nr(this,t),t=r.R),t.C=r.C,r.C=t.R.C=!1,Pr(this,r),e=this._;break}}else if((t=r.L).C&&(t.C=!1,r.C=!0,Nr(this,r),t=r.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Pr(this,t),t=r.L),t.C=r.C,r.C=t.L.C=!1,Nr(this,r),e=this._;break}t.C=!0,e=r,r=r.U}while(!e.C);e&&(e.C=!1)}}},o.geom.voronoi=function(e){var t=ir,n=rr,i=t,r=n,o=$r;if(e)return a(e);function a(e){var t=new Array(e.length),n=o[0][0],i=o[0][1],r=o[1][0],a=o[1][1];return Ir(s(e),o).cells.forEach(function(o,s){var l=o.edges,c=o.site;(t[s]=l.length?l.map(function(e){var t=e.start();return[t.x,t.y]}):c.x>=n&&c.x<=r&&c.y>=i&&c.y<=a?[[n,a],[r,a],[r,i],[n,i]]:[]).point=e[s]}),t}function s(e){return e.map(function(e,t){return{x:Math.round(i(e,t)/Te)*Te,y:Math.round(r(e,t)/Te)*Te,i:t}})}return a.links=function(e){return Ir(s(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},a.triangles=function(e){var t=[];return Ir(s(e)).cells.forEach(function(n,i){for(var r,o=n.site,a=n.edges.sort(Cr),s=-1,l=a.length,c=a[l-1].edge,u=c.l===o?c.r:c.l;++s<l;)c,r=u,u=(c=a[s].edge).l===o?c.r:c.l,i<r.i&&i<u.i&&Wr(o,r,u)<0&&t.push([e[i],e[r.i],e[u.i]])}),t},a.x=function(e){return arguments.length?(i=bt(t=e),a):t},a.y=function(e){return arguments.length?(r=bt(n=e),a):n},a.clipExtent=function(e){return arguments.length?(o=null==e?$r:e,a):o===$r?null:o},a.size=function(e){return arguments.length?a.clipExtent(e&&[[0,0],e]):o===$r?null:o&&o[1]},a};var $r=[[-1e6,-1e6],[1e6,1e6]];function Wr(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function zr(e){return e.x}function Br(e){return e.y}function Vr(e,t){e=o.rgb(e),t=o.rgb(t);var n=e.r,i=e.g,r=e.b,a=t.r-n,s=t.g-i,l=t.b-r;return function(e){return"#"+ft(Math.round(n+a*e))+ft(Math.round(i+s*e))+ft(Math.round(r+l*e))}}function Ur(e,t){var n,i={},r={};for(n in e)n in t?i[n]=Xr(e[n],t[n]):r[n]=e[n];for(n in t)n in e||(r[n]=t[n]);return function(e){for(n in i)r[n]=i[n](e);return r}}function qr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Gr(e,t){var n,i,r,o=Jr.lastIndex=Kr.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=Jr.exec(e))&&(i=Kr.exec(t));)(r=i.index)>o&&(r=t.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:qr(n,i)})),o=Kr.lastIndex;return o<t.length&&(r=t.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,i=0;i<t;++i)s[(n=l[i]).i]=n.x(e);return s.join("")})}o.geom.delaunay=function(e){return o.geom.voronoi().triangles(e)},o.geom.quadtree=function(e,t,n,i,r){var o,a=ir,s=rr;if(o=arguments.length)return a=zr,s=Br,3===o&&(r=n,i=t,n=t=0),l(e);function l(e){var l,c,u,d,h,f,p,m,g,_=bt(a),v=bt(s);if(null!=t)f=t,p=n,m=i,g=r;else if(m=g=-(f=p=1/0),c=[],u=[],h=e.length,o)for(d=0;d<h;++d)(l=e[d]).x<f&&(f=l.x),l.y<p&&(p=l.y),l.x>m&&(m=l.x),l.y>g&&(g=l.y),c.push(l.x),u.push(l.y);else for(d=0;d<h;++d){var y=+_(l=e[d],d),b=+v(l,d);y<f&&(f=y),b<p&&(p=b),y>m&&(m=y),b>g&&(g=b),c.push(y),u.push(b)}var w=m-f,M=g-p;function x(e,t,n,i,r,o,a,s){if(!isNaN(n)&&!isNaN(i))if(e.leaf){var l=e.x,c=e.y;if(null!=l)if(k(l-n)+k(c-i)<.01)C(e,t,n,i,r,o,a,s);else{var u=e.point;e.x=e.y=e.point=null,C(e,u,l,c,r,o,a,s),C(e,t,n,i,r,o,a,s)}else e.x=n,e.y=i,e.point=t}else C(e,t,n,i,r,o,a,s)}function C(e,t,n,i,r,o,a,s){var l=.5*(r+a),c=.5*(o+s),u=n>=l,d=i>=c,h=d<<1|u;e.leaf=!1,e=e.nodes[h]||(e.nodes[h]={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){x(S,e,+_(e,++d),+v(e,d),f,p,m,g)}}),u?r=l:a=l,d?o=c:s=c,x(e,t,n,i,r,o,a,s)}w>M?g=p+w:m=f+M;var S={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){x(S,e,+_(e,++d),+v(e,d),f,p,m,g)}};if(S.visit=function(e){!function e(t,n,i,r,o,a){if(!t(n,i,r,o,a)){var s=.5*(i+o),l=.5*(r+a),c=n.nodes;c[0]&&e(t,c[0],i,r,s,l),c[1]&&e(t,c[1],s,r,o,l),c[2]&&e(t,c[2],i,l,s,a),c[3]&&e(t,c[3],s,l,o,a)}}(e,S,f,p,m,g)},S.find=function(e){return function(e,t,n,i,r,o,a){var s,l=1/0;return function e(c,u,d,h,f){if(!(u>o||d>a||h<i||f<r)){if(p=c.point){var p,m=t-c.x,g=n-c.y,_=m*m+g*g;if(_<l){var v=Math.sqrt(l=_);i=t-v,r=n-v,o=t+v,a=n+v,s=p}}for(var y=c.nodes,b=.5*(u+h),w=.5*(d+f),k=(n>=w)<<1|t>=b,M=k+4;k<M;++k)if(c=y[3&k])switch(3&k){case 0:e(c,u,d,b,w);break;case 1:e(c,b,d,h,w);break;case 2:e(c,u,w,b,f);break;case 3:e(c,b,w,h,f)}}}(e,i,r,o,a),s}(S,e[0],e[1],f,p,m,g)},d=-1,null==t){for(;++d<h;)x(S,e[d],c[d],u[d],f,p,m,g);--d}else e.forEach(S.add);return c=u=e=l=null,S}return l.x=function(e){return arguments.length?(a=e,l):a},l.y=function(e){return arguments.length?(s=e,l):s},l.extent=function(e){return arguments.length?(null==e?t=n=i=r=null:(t=+e[0][0],n=+e[0][1],i=+e[1][0],r=+e[1][1]),l):null==t?null:[[t,n],[i,r]]},l.size=function(e){return arguments.length?(null==e?t=n=i=r=null:(t=n=0,i=+e[0],r=+e[1]),l):null==t?null:[i-t,r-n]},l},o.interpolateRgb=Vr,o.interpolateObject=Ur,o.interpolateNumber=qr,o.interpolateString=Gr;var Jr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kr=new RegExp(Jr.source,"g");function Xr(e,t){for(var n,i=o.interpolators.length;--i>=0&&!(n=o.interpolators[i](e,t)););return n}function Qr(e,t){var n,i=[],r=[],o=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;n<s;++n)i.push(Xr(e[n],t[n]));for(;n<o;++n)r[n]=e[n];for(;n<a;++n)r[n]=t[n];return function(e){for(n=0;n<s;++n)r[n]=i[n](e);return r}}o.interpolate=Xr,o.interpolators=[function(e,t){var n=typeof t;return("string"===n?yt.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?Vr:Gr:t instanceof Ve?Vr:Array.isArray(t)?Qr:"object"===n&&isNaN(t)?Ur:qr)(e,t)}],o.interpolateArray=Qr;var Zr=function(){return j},eo=o.map({linear:Zr,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return ro},cubic:function(){return oo},sin:function(){return so},exp:function(){return lo},circle:function(){return co},elastic:function(e,t){var n;arguments.length<2&&(t=.45);arguments.length?n=t/De*Math.asin(1/e):(e=1,n=t/4);return function(i){return 1+e*Math.pow(2,-10*i)*Math.sin((i-n)*De/t)}},back:function(e){e||(e=1.70158);return function(t){return t*t*((e+1)*t-e)}},bounce:function(){return uo}}),to=o.map({in:j,out:no,"in-out":io,"out-in":function(e){return io(no(e))}});function no(e){return function(t){return 1-e(1-t)}}function io(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function ro(e){return e*e}function oo(e){return e*e*e}function ao(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function so(e){return 1-Math.cos(e*Ae)}function lo(e){return Math.pow(2,10*(e-1))}function co(e){return 1-Math.sqrt(1-e*e)}function uo(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function ho(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function fo(e){var t=[e.a,e.b],n=[e.c,e.d],i=mo(t),r=po(t,n),o=mo(function(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}(n,t,-r))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Re,this.translate=[e.e,e.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*Re:0}function po(e,t){return e[0]*t[0]+e[1]*t[1]}function mo(e){var t=Math.sqrt(po(e,e));return t&&(e[0]/=t,e[1]/=t),t}o.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,i=t>=0?e.slice(t+1):"in";return n=eo.get(n)||Zr,function(e){return function(t){return t<=0?0:t>=1?1:e(t)}}((i=to.get(i)||j)(n.apply(null,a.call(arguments,1))))},o.interpolateHcl=function(e,t){e=o.hcl(e),t=o.hcl(t);var n=e.h,i=e.c,r=e.l,a=t.h-n,s=t.c-i,l=t.l-r;isNaN(s)&&(s=0,i=isNaN(i)?t.c:i);isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:a<-180&&(a+=360);return function(e){return Xe(n+a*e,i+s*e,r+l*e)+""}},o.interpolateHsl=function(e,t){e=o.hsl(e),t=o.hsl(t);var n=e.h,i=e.s,r=e.l,a=t.h-n,s=t.s-i,l=t.l-r;isNaN(s)&&(s=0,i=isNaN(i)?t.s:i);isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:a<-180&&(a+=360);return function(e){return Ge(n+a*e,i+s*e,r+l*e)+""}},o.interpolateLab=function(e,t){e=o.lab(e),t=o.lab(t);var n=e.l,i=e.a,r=e.b,a=t.l-n,s=t.a-i,l=t.b-r;return function(e){return rt(n+a*e,i+s*e,r+l*e)+""}},o.interpolateRound=ho,o.transform=function(e){var t=l.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new fo(n?n.matrix:go)})(e)},fo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var go={a:1,b:0,c:0,d:1,e:0,f:0};function _o(e){return e.length?e.pop()+",":""}function vo(e,t){var n=[],i=[];return e=o.transform(e),t=o.transform(t),function(e,t,n,i){if(e[0]!==t[0]||e[1]!==t[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:qr(e[0],t[0])},{i:r-2,x:qr(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}(e.translate,t.translate,n,i),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(_o(n)+"rotate(",null,")")-2,x:qr(e,t)})):t&&n.push(_o(n)+"rotate("+t+")")}(e.rotate,t.rotate,n,i),function(e,t,n,i){e!==t?i.push({i:n.push(_o(n)+"skewX(",null,")")-2,x:qr(e,t)}):t&&n.push(_o(n)+"skewX("+t+")")}(e.skew,t.skew,n,i),function(e,t,n,i){if(e[0]!==t[0]||e[1]!==t[1]){var r=n.push(_o(n)+"scale(",null,",",null,")");i.push({i:r-4,x:qr(e[0],t[0])},{i:r-2,x:qr(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(_o(n)+"scale("+t+")")}(e.scale,t.scale,n,i),e=t=null,function(e){for(var t,r=-1,o=i.length;++r<o;)n[(t=i[r]).i]=t.x(e);return n.join("")}}function yo(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function bo(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function wo(e){for(var t=e.source,n=e.target,i=function(e,t){if(e===t)return e;var n=ko(e),i=ko(t),r=n.pop(),o=i.pop(),a=null;for(;r===o;)a=r,r=n.pop(),o=i.pop();return a}(t,n),r=[t];t!==i;)t=t.parent,r.push(t);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function ko(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Mo(e){e.fixed|=2}function xo(e){e.fixed&=-7}function Co(e){e.fixed|=4,e.px=e.x,e.py=e.y}function So(e){e.fixed&=-5}o.interpolateTransform=vo,o.layout={},o.layout.bundle=function(){return function(e){for(var t=[],n=-1,i=e.length;++n<i;)t.push(wo(e[n]));return t}},o.layout.chord=function(){var e,t,n,i,r,a,s,l={},c=0;function u(){var l,u,h,f,p,m={},g=[],_=o.range(i),v=[];for(e=[],t=[],l=0,f=-1;++f<i;){for(u=0,p=-1;++p<i;)u+=n[f][p];g.push(u),v.push(o.range(i)),l+=u}for(r&&_.sort(function(e,t){return r(g[e],g[t])}),a&&v.forEach(function(e,t){e.sort(function(e,i){return a(n[t][e],n[t][i])})}),l=(De-c*i)/l,u=0,f=-1;++f<i;){for(h=u,p=-1;++p<i;){var y=_[f],b=v[y][p],w=n[y][b],k=u,M=u+=w*l;m[y+"-"+b]={index:y,subindex:b,startAngle:k,endAngle:M,value:w}}t[y]={index:y,startAngle:h,endAngle:u,value:g[y]},u+=c}for(f=-1;++f<i;)for(p=f-1;++p<i;){var x=m[f+"-"+p],C=m[p+"-"+f];(x.value||C.value)&&e.push(x.value<C.value?{source:C,target:x}:{source:x,target:C})}s&&d()}function d(){e.sort(function(e,t){return s((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}return l.matrix=function(r){return arguments.length?(i=(n=r)&&n.length,e=t=null,l):n},l.padding=function(n){return arguments.length?(c=n,e=t=null,l):c},l.sortGroups=function(n){return arguments.length?(r=n,e=t=null,l):r},l.sortSubgroups=function(t){return arguments.length?(a=t,e=null,l):a},l.sortChords=function(t){return arguments.length?(s=t,e&&d(),l):s},l.chords=function(){return e||u(),e},l.groups=function(){return t||u(),t},l},o.layout.force=function(){var e,t,n,i,r,a,s={},l=o.dispatch("start","tick","end"),c=[1,1],u=.9,d=To,h=Lo,f=-30,p=Eo,m=.1,g=.64,_=[],v=[];function y(e){return function(t,n,i,r){if(t.point!==e){var o=t.cx-e.x,a=t.cy-e.y,s=r-n,l=o*o+a*a;if(s*s/g<l){if(l<p){var c=t.charge/l;e.px-=o*c,e.py-=a*c}return!0}if(t.point&&l&&l<p){c=t.pointCharge/l;e.px-=o*c,e.py-=a*c}}return!t.charge}}function b(e){e.px=o.event.x,e.py=o.event.y,s.resume()}return s.tick=function(){if((n*=.99)<.005)return e=null,l.end({type:"end",alpha:n=0}),!0;var t,s,d,h,p,g,b,w,k,M=_.length,x=v.length;for(s=0;s<x;++s)h=(d=v[s]).source,(g=(w=(p=d.target).x-h.x)*w+(k=p.y-h.y)*k)&&(w*=g=n*r[s]*((g=Math.sqrt(g))-i[s])/g,k*=g,p.x-=w*(b=h.weight+p.weight?h.weight/(h.weight+p.weight):.5),p.y-=k*b,h.x+=w*(b=1-b),h.y+=k*b);if((b=n*m)&&(w=c[0]/2,k=c[1]/2,s=-1,b))for(;++s<M;)(d=_[s]).x+=(w-d.x)*b,d.y+=(k-d.y)*b;if(f)for(!function e(t,n,i){var r=0,o=0;t.charge=0;if(!t.leaf)for(var a,s=t.nodes,l=s.length,c=-1;++c<l;)null!=(a=s[c])&&(e(a,n,i),t.charge+=a.charge,r+=a.charge*a.cx,o+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=n*i[t.point.index];t.charge+=t.pointCharge=u,r+=u*t.point.x,o+=u*t.point.y}t.cx=r/t.charge;t.cy=o/t.charge}(t=o.geom.quadtree(_),n,a),s=-1;++s<M;)(d=_[s]).fixed||t.visit(y(d));for(s=-1;++s<M;)(d=_[s]).fixed?(d.x=d.px,d.y=d.py):(d.x-=(d.px-(d.px=d.x))*u,d.y-=(d.py-(d.py=d.y))*u);l.tick({type:"tick",alpha:n})},s.nodes=function(e){return arguments.length?(_=e,s):_},s.links=function(e){return arguments.length?(v=e,s):v},s.size=function(e){return arguments.length?(c=e,s):c},s.linkDistance=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(h="function"==typeof e?e:+e,s):h},s.friction=function(e){return arguments.length?(u=+e,s):u},s.charge=function(e){return arguments.length?(f="function"==typeof e?e:+e,s):f},s.chargeDistance=function(e){return arguments.length?(p=e*e,s):Math.sqrt(p)},s.gravity=function(e){return arguments.length?(m=+e,s):m},s.theta=function(e){return arguments.length?(g=e*e,s):Math.sqrt(g)},s.alpha=function(t){return arguments.length?(t=+t,n?t>0?n=t:(e.c=null,e.t=NaN,e=null,l.end({type:"end",alpha:n=0})):t>0&&(l.start({type:"start",alpha:n=t}),e=Lt(s.tick)),s):n},s.start=function(){var e,t,n,o=_.length,l=v.length,u=c[0],p=c[1];for(e=0;e<o;++e)(n=_[e]).index=e,n.weight=0;for(e=0;e<l;++e)"number"==typeof(n=v[e]).source&&(n.source=_[n.source]),"number"==typeof n.target&&(n.target=_[n.target]),++n.source.weight,++n.target.weight;for(e=0;e<o;++e)n=_[e],isNaN(n.x)&&(n.x=m("x",u)),isNaN(n.y)&&(n.y=m("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(i=[],"function"==typeof d)for(e=0;e<l;++e)i[e]=+d.call(this,v[e],e);else for(e=0;e<l;++e)i[e]=d;if(r=[],"function"==typeof h)for(e=0;e<l;++e)r[e]=+h.call(this,v[e],e);else for(e=0;e<l;++e)r[e]=h;if(a=[],"function"==typeof f)for(e=0;e<o;++e)a[e]=+f.call(this,_[e],e);else for(e=0;e<o;++e)a[e]=f;function m(n,i){if(!t){for(t=new Array(o),c=0;c<o;++c)t[c]=[];for(c=0;c<l;++c){var r=v[c];t[r.source.index].push(r.target),t[r.target.index].push(r.source)}}for(var a,s=t[e],c=-1,u=s.length;++c<u;)if(!isNaN(a=s[c][n]))return a;return Math.random()*i}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(t||(t=o.behavior.drag().origin(j).on("dragstart.force",Mo).on("drag.force",b).on("dragend.force",xo)),!arguments.length)return t;this.on("mouseover.force",Co).on("mouseout.force",So).call(t)},o.rebind(s,l,"on")};var To=20,Lo=1,Eo=1/0;function Do(e,t){return o.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=Po,e}function Oo(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(r=e.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function Ao(e,t){for(var n=[e],i=[];null!=(e=n.pop());)if(i.push(e),(o=e.children)&&(r=o.length))for(var r,o,a=-1;++a<r;)n.push(o[a]);for(;null!=(e=i.pop());)t(e)}function Yo(e){return e.children}function Ro(e){return e.value}function jo(e,t){return t.value-e.value}function Po(e){return o.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}o.layout.hierarchy=function(){var e=jo,t=Yo,n=Ro;function i(r){var o,a=[r],s=[];for(r.depth=0;null!=(o=a.pop());)if(s.push(o),(c=t.call(i,o,o.depth))&&(l=c.length)){for(var l,c,u;--l>=0;)a.push(u=c[l]),u.parent=o,u.depth=o.depth+1;n&&(o.value=0),o.children=c}else n&&(o.value=+n.call(i,o,o.depth)||0),delete o.children;return Ao(r,function(t){var i,r;e&&(i=t.children)&&i.sort(e),n&&(r=t.parent)&&(r.value+=t.value)}),s}return i.sort=function(t){return arguments.length?(e=t,i):e},i.children=function(e){return arguments.length?(t=e,i):t},i.value=function(e){return arguments.length?(n=e,i):n},i.revalue=function(e){return n&&(Oo(e,function(e){e.children&&(e.value=0)}),Ao(e,function(e){var t;e.children||(e.value=+n.call(i,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)})),e},i},o.layout.partition=function(){var e=o.layout.hierarchy(),t=[1,1];function n(n,i){var r=e.call(this,n,i);return function e(t,n,i,r){var o=t.children;if(t.x=n,t.y=t.depth*r,t.dx=i,t.dy=r,o&&(a=o.length)){var a,s,l,c=-1;for(i=t.value?i/t.value:0;++c<a;)e(s=o[c],n,l=s.value*i,r),n+=l}}(r[0],0,t[0],t[1]/function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,e(n[o]));return 1+i}(r[0])),r}return n.size=function(e){return arguments.length?(t=e,n):t},Do(n,e)},o.layout.pie=function(){var e=Number,t=No,n=0,i=De,r=0;function a(s){var l,c=s.length,u=s.map(function(t,n){return+e.call(a,t,n)}),d=+("function"==typeof n?n.apply(this,arguments):n),h=("function"==typeof i?i.apply(this,arguments):i)-d,f=Math.min(Math.abs(h)/c,+("function"==typeof r?r.apply(this,arguments):r)),p=f*(h<0?-1:1),m=o.sum(u),g=m?(h-c*p)/m:0,_=o.range(c),v=[];return null!=t&&_.sort(t===No?function(e,t){return u[t]-u[e]}:function(e,n){return t(s[e],s[n])}),_.forEach(function(e){v[e]={data:s[e],value:l=u[e],startAngle:d,endAngle:d+=l*g+p,padAngle:f}}),v}return a.value=function(t){return arguments.length?(e=t,a):e},a.sort=function(e){return arguments.length?(t=e,a):t},a.startAngle=function(e){return arguments.length?(n=e,a):n},a.endAngle=function(e){return arguments.length?(i=e,a):i},a.padAngle=function(e){return arguments.length?(r=e,a):r},a};var No={};function Ho(e){return e.x}function Io(e){return e.y}function Fo(e,t,n){e.y0=t,e.y=n}o.layout.stack=function(){var e=j,t=zo,n=Bo,i=Fo,r=Ho,a=Io;function s(l,c){if(!(f=l.length))return l;var u=l.map(function(t,n){return e.call(s,t,n)}),d=u.map(function(e){return e.map(function(e,t){return[r.call(s,e,t),a.call(s,e,t)]})}),h=t.call(s,d,c);u=o.permute(u,h),d=o.permute(d,h);var f,p,m,g,_=n.call(s,d,c),v=u[0].length;for(m=0;m<v;++m)for(i.call(s,u[0][m],g=_[m],d[0][m][1]),p=1;p<f;++p)i.call(s,u[p][m],g+=d[p-1][m][1],d[p][m][1]);return l}return s.values=function(t){return arguments.length?(e=t,s):e},s.order=function(e){return arguments.length?(t="function"==typeof e?e:$o.get(e)||zo,s):t},s.offset=function(e){return arguments.length?(n="function"==typeof e?e:Wo.get(e)||Bo,s):n},s.x=function(e){return arguments.length?(r=e,s):r},s.y=function(e){return arguments.length?(a=e,s):a},s.out=function(e){return arguments.length?(i=e,s):i},s};var $o=o.map({"inside-out":function(e){var t,n,i=e.length,r=e.map(Vo),a=e.map(Uo),s=o.range(i).sort(function(e,t){return r[e]-r[t]}),l=0,c=0,u=[],d=[];for(t=0;t<i;++t)n=s[t],l<c?(l+=a[n],u.push(n)):(c+=a[n],d.push(n));return d.reverse().concat(u)},reverse:function(e){return o.range(e.length).reverse()},default:zo}),Wo=o.map({silhouette:function(e){var t,n,i,r=e.length,o=e[0].length,a=[],s=0,l=[];for(n=0;n<o;++n){for(t=0,i=0;t<r;t++)i+=e[t][n][1];i>s&&(s=i),a.push(i)}for(n=0;n<o;++n)l[n]=(s-a[n])/2;return l},wiggle:function(e){var t,n,i,r,o,a,s,l,c,u=e.length,d=e[0],h=d.length,f=[];for(f[0]=l=c=0,n=1;n<h;++n){for(t=0,r=0;t<u;++t)r+=e[t][n][1];for(t=0,o=0,s=d[n][0]-d[n-1][0];t<u;++t){for(i=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);i<t;++i)a+=(e[i][n][1]-e[i][n-1][1])/s;o+=a*e[t][n][1]}f[n]=l-=r?o/r*s:0,l<c&&(c=l)}for(n=0;n<h;++n)f[n]-=c;return f},expand:function(e){var t,n,i,r=e.length,o=e[0].length,a=1/r,s=[];for(n=0;n<o;++n){for(t=0,i=0;t<r;t++)i+=e[t][n][1];if(i)for(t=0;t<r;t++)e[t][n][1]/=i;else for(t=0;t<r;t++)e[t][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:Bo});function zo(e){return o.range(e.length)}function Bo(e){for(var t=-1,n=e[0].length,i=[];++t<n;)i[t]=0;return i}function Vo(e){for(var t,n=1,i=0,r=e[0][1],o=e.length;n<o;++n)(t=e[n][1])>r&&(i=n,r=t);return i}function Uo(e){return e.reduce(qo,0)}function qo(e,t){return e+t[1]}function Go(e,t){return Jo(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Jo(e,t){for(var n=-1,i=+e[0],r=(e[1]-i)/t,o=[];++n<=t;)o[n]=r*n+i;return o}function Ko(e){return[o.min(e),o.max(e)]}function Xo(e,t){return e.value-t.value}function Qo(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Zo(e,t){e._pack_next=t,t._pack_prev=e}function ea(e,t){var n=t.x-e.x,i=t.y-e.y,r=e.r+t.r;return.999*r*r>n*n+i*i}function ta(e){if((t=e.children)&&(l=t.length)){var t,n,i,r,o,a,s,l,c=1/0,u=-1/0,d=1/0,h=-1/0;if(t.forEach(na),(n=t[0]).x=-n.r,n.y=0,y(n),l>1&&((i=t[1]).x=i.r,i.y=0,y(i),l>2))for(ra(n,i,r=t[2]),y(r),Qo(n,r),n._pack_prev=r,Qo(r,i),i=n._pack_next,o=3;o<l;o++){ra(n,i,r=t[o]);var f=0,p=1,m=1;for(a=i._pack_next;a!==i;a=a._pack_next,p++)if(ea(a,r)){f=1;break}if(1==f)for(s=n._pack_prev;s!==a._pack_prev&&!ea(s,r);s=s._pack_prev,m++);f?(p<m||p==m&&i.r<n.r?Zo(n,i=a):Zo(n=s,i),o--):(Qo(n,r),i=r,y(r))}var g=(c+u)/2,_=(d+h)/2,v=0;for(o=0;o<l;o++)(r=t[o]).x-=g,r.y-=_,v=Math.max(v,r.r+Math.sqrt(r.x*r.x+r.y*r.y));e.r=v,t.forEach(ia)}function y(e){c=Math.min(e.x-e.r,c),u=Math.max(e.x+e.r,u),d=Math.min(e.y-e.r,d),h=Math.max(e.y+e.r,h)}}function na(e){e._pack_next=e._pack_prev=e}function ia(e){delete e._pack_next,delete e._pack_prev}function ra(e,t,n){var i=e.r+n.r,r=t.x-e.x,o=t.y-e.y;if(i&&(r||o)){var a=t.r+n.r,s=r*r+o*o,l=.5+((i*=i)-(a*=a))/(2*s),c=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=e.x+l*r+c*o,n.y=e.y+l*o-c*r}else n.x=e.x+i,n.y=e.y}function oa(e,t){return e.parent==t.parent?1:2}function aa(e){var t=e.children;return t.length?t[0]:e.t}function sa(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function la(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}function ca(e,t,n){return e.a.parent===t.parent?e.a:n}function ua(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function da(e,t){var n=e.x+t[3],i=e.y+t[0],r=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return r<0&&(n+=r/2,r=0),o<0&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function ha(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function fa(e){return e.rangeExtent?e.rangeExtent():ha(e.range())}function pa(e,t,n,i){var r=n(e[0],e[1]),o=i(t[0],t[1]);return function(e){return o(r(e))}}function ma(e,t){var n,i=0,r=e.length-1,o=e[i],a=e[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),e[i]=t.floor(o),e[r]=t.ceil(a),e}function ga(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:_a}o.layout.histogram=function(){var e=!0,t=Number,n=Ko,i=Go;function r(r,a){for(var s,l,c=[],u=r.map(t,this),d=n.call(this,u,a),h=i.call(this,d,u,a),f=(a=-1,u.length),p=h.length-1,m=e?1:1/f;++a<p;)(s=c[a]=[]).dx=h[a+1]-(s.x=h[a]),s.y=0;if(p>0)for(a=-1;++a<f;)(l=u[a])>=d[0]&&l<=d[1]&&((s=c[o.bisect(h,l,1,p)-1]).y+=m,s.push(r[a]));return c}return r.value=function(e){return arguments.length?(t=e,r):t},r.range=function(e){return arguments.length?(n=bt(e),r):n},r.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return Jo(t,e)}:bt(e),r):i},r.frequency=function(t){return arguments.length?(e=!!t,r):e},r},o.layout.pack=function(){var e,t=o.layout.hierarchy().sort(Xo),n=0,i=[1,1];function r(r,o){var a=t.call(this,r,o),s=a[0],l=i[0],c=i[1],u=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,Ao(s,function(e){e.r=+u(e.value)}),Ao(s,ta),n){var d=n*(e?1:Math.max(2*s.r/l,2*s.r/c))/2;Ao(s,function(e){e.r+=d}),Ao(s,ta),Ao(s,function(e){e.r-=d})}return function e(t,n,i,r){var o=t.children;t.x=n+=r*t.x;t.y=i+=r*t.y;t.r*=r;if(o)for(var a=-1,s=o.length;++a<s;)e(o[a],n,i,r)}(s,l/2,c/2,e?1:1/Math.max(2*s.r/l,2*s.r/c)),a}return r.size=function(e){return arguments.length?(i=e,r):i},r.radius=function(t){return arguments.length?(e=null==t||"function"==typeof t?t:+t,r):e},r.padding=function(e){return arguments.length?(n=+e,r):n},Do(r,t)},o.layout.tree=function(){var e=o.layout.hierarchy().sort(null).value(null),t=oa,n=[1,1],i=null;function r(r,o){var c=e.call(this,r,o),u=c[0],d=function(e){var t,n={A:null,children:[e]},i=[n];for(;null!=(t=i.pop());)for(var r,o=t.children,a=0,s=o.length;a<s;++a)i.push((o[a]=r={_:o[a],parent:t,children:(r=o[a].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=r);return n.children[0]}(u);if(Ao(d,a),d.parent.m=-d.z,Oo(d,s),i)Oo(u,l);else{var h=u,f=u,p=u;Oo(u,function(e){e.x<h.x&&(h=e),e.x>f.x&&(f=e),e.depth>p.depth&&(p=e)});var m=t(h,f)/2-h.x,g=n[0]/(f.x+t(f,h)/2+m),_=n[1]/(p.depth||1);Oo(u,function(e){e.x=(e.x+m)*g,e.y=e.depth*_})}return c}function a(e){var n=e.children,i=e.parent.children,r=e.i?i[e.i-1]:null;if(n.length){!function(e){var t,n=0,i=0,r=e.children,o=r.length;for(;--o>=0;)(t=r[o]).z+=n,t.m+=n,n+=t.s+(i+=t.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;r?(e.z=r.z+t(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+t(e._,r._));e.parent.A=function(e,n,i){if(n){for(var r,o=e,a=e,s=n,l=o.parent.children[0],c=o.m,u=a.m,d=s.m,h=l.m;s=sa(s),o=aa(o),s&&o;)l=aa(l),(a=sa(a)).a=e,(r=s.z+d-o.z-c+t(s._,o._))>0&&(la(ca(s,e,i),e,r),c+=r,u+=r),d+=s.m,c+=o.m,h+=l.m,u+=a.m;s&&!sa(a)&&(a.t=s,a.m+=d-u),o&&!aa(l)&&(l.t=o,l.m+=c-h,i=e)}return i}(e,r,e.parent.A||i[0])}function s(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function l(e){e.x*=n[0],e.y=e.depth*n[1]}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(e){return arguments.length?(i=null==(n=e)?l:null,r):i?null:n},r.nodeSize=function(e){return arguments.length?(i=null==(n=e)?null:l,r):i?n:null},Do(r,e)},o.layout.cluster=function(){var e=o.layout.hierarchy().sort(null).value(null),t=oa,n=[1,1],i=!1;function r(r,a){var s,l=e.call(this,r,a),c=l[0],u=0;Ao(c,function(e){var n=e.children;n&&n.length?(e.x=function(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}(n),e.y=function(e){return 1+o.max(e,function(e){return e.y})}(n)):(e.x=s?u+=t(e,s):0,e.y=0,s=e)});var d=function e(t){var n=t.children;return n&&n.length?e(n[0]):t}(c),h=function e(t){var n,i=t.children;return i&&(n=i.length)?e(i[n-1]):t}(c),f=d.x-t(d,h)/2,p=h.x+t(h,d)/2;return Ao(c,i?function(e){e.x=(e.x-c.x)*n[0],e.y=(c.y-e.y)*n[1]}:function(e){e.x=(e.x-f)/(p-f)*n[0],e.y=(1-(c.y?e.y/c.y:1))*n[1]}),l}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(e){return arguments.length?(i=null==(n=e),r):i?null:n},r.nodeSize=function(e){return arguments.length?(i=null!=(n=e),r):i?n:null},Do(r,e)},o.layout.treemap=function(){var e,t=o.layout.hierarchy(),n=Math.round,i=[1,1],r=null,a=ua,s=!1,l="squarify",c=.5*(1+Math.sqrt(5));function u(e,t){for(var n,i,r=-1,o=e.length;++r<o;)i=(n=e[r]).value*(t<0?0:t),n.area=isNaN(i)||i<=0?0:i}function d(e){var t=e.children;if(t&&t.length){var n,i,r,o=a(e),s=[],c=t.slice(),h=1/0,m="slice"===l?o.dx:"dice"===l?o.dy:"slice-dice"===l?1&e.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(u(c,o.dx*o.dy/e.value),s.area=0;(r=c.length)>0;)s.push(n=c[r-1]),s.area+=n.area,"squarify"!==l||(i=f(s,m))<=h?(c.pop(),h=i):(s.area-=s.pop().area,p(s,m,o,!1),m=Math.min(o.dx,o.dy),s.length=s.area=0,h=1/0);s.length&&(p(s,m,o,!0),s.length=s.area=0),t.forEach(d)}}function h(e){var t=e.children;if(t&&t.length){var n,i=a(e),r=t.slice(),o=[];for(u(r,i.dx*i.dy/e.value),o.area=0;n=r.pop();)o.push(n),o.area+=n.area,null!=n.z&&(p(o,n.z?i.dx:i.dy,i,!r.length),o.length=o.area=0);t.forEach(h)}}function f(e,t){for(var n,i=e.area,r=0,o=1/0,a=-1,s=e.length;++a<s;)(n=e[a].area)&&(n<o&&(o=n),n>r&&(r=n));return t*=t,(i*=i)?Math.max(t*r*c/i,i/(t*o*c)):1/0}function p(e,t,i,r){var o,a=-1,s=e.length,l=i.x,c=i.y,u=t?n(e.area/t):0;if(t==i.dx){for((r||u>i.dy)&&(u=i.dy);++a<s;)(o=e[a]).x=l,o.y=c,o.dy=u,l+=o.dx=Math.min(i.x+i.dx-l,u?n(o.area/u):0);o.z=!0,o.dx+=i.x+i.dx-l,i.y+=u,i.dy-=u}else{for((r||u>i.dx)&&(u=i.dx);++a<s;)(o=e[a]).x=l,o.y=c,o.dx=u,c+=o.dy=Math.min(i.y+i.dy-c,u?n(o.area/u):0);o.z=!1,o.dy+=i.y+i.dy-c,i.x+=u,i.dx-=u}}function m(n){var r=e||t(n),o=r[0];return o.x=o.y=0,o.value?(o.dx=i[0],o.dy=i[1]):o.dx=o.dy=0,e&&t.revalue(o),u([o],o.dx*o.dy/o.value),(e?h:d)(o),s&&(e=r),r}return m.size=function(e){return arguments.length?(i=e,m):i},m.padding=function(e){if(!arguments.length)return r;function t(t){return da(t,e)}var n;return a=null==(r=e)?ua:"function"==(n=typeof e)?function(t){var n=e.call(m,t,t.depth);return null==n?ua(t):da(t,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(e=[e,e,e,e],t):t,m},m.round=function(e){return arguments.length?(n=e?Math.round:Number,m):n!=Number},m.sticky=function(t){return arguments.length?(s=t,e=null,m):s},m.ratio=function(e){return arguments.length?(c=e,m):c},m.mode=function(e){return arguments.length?(l=e+"",m):l},Do(m,t)},o.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,i,r;do{r=(n=2*Math.random()-1)*n+(i=2*Math.random()-1)*i}while(!r||r>1);return e+t*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var e=o.random.normal.apply(o,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=o.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},o.scale={};var _a={floor:j,ceil:j};function va(e,t,n,i){var r=[],a=[],s=0,l=Math.min(e.length,t.length)-1;for(e[l]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<=l;)r.push(n(e[s-1],e[s])),a.push(i(t[s-1],t[s]));return function(t){var n=o.bisect(e,t,1,l)-1;return a[n](r[n](t))}}function ya(e,t){return o.rebind(e,t,"range","rangeRound","interpolate","clamp")}function ba(e,t){return ma(e,ga(wa(e,t)[2])),ma(e,ga(wa(e,t)[2])),e}function wa(e,t){null==t&&(t=10);var n=ha(e),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/t)/Math.LN10)),o=t/i*r;return o<=.15?r*=10:o<=.35?r*=5:o<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function ka(e,t){return o.range.apply(o,wa(e,t))}function Ma(e,t,n){var i=wa(e,t);if(n){var r=Rt.exec(n);if(r.shift(),"s"===r[8]){var a=o.formatPrefix(Math.max(k(i[0]),k(i[1])));return r[7]||(r[7]="."+Ca(a.scale(i[2]))),r[8]="f",n=o.format(r.join("")),function(e){return n(a.scale(e))+a.symbol}}r[7]||(r[7]="."+function(e,t){var n=Ca(t[2]);return e in xa?Math.abs(n-Ca(Math.max(k(t[0]),k(t[1]))))+ +("e"!==e):n-2*("%"===e)}(r[8],i)),n=r.join("")}else n=",."+Ca(i[2])+"f";return o.format(n)}o.scale.linear=function(){return function e(t,n,i,r){var o,a;function s(){var e=Math.min(t.length,n.length)>2?va:pa,s=r?bo:yo;return o=e(t,n,s,i),a=e(n,t,s,Xr),l}function l(e){return o(e)}l.invert=function(e){return a(e)};l.domain=function(e){return arguments.length?(t=e.map(Number),s()):t};l.range=function(e){return arguments.length?(n=e,s()):n};l.rangeRound=function(e){return l.range(e).interpolate(ho)};l.clamp=function(e){return arguments.length?(r=e,s()):r};l.interpolate=function(e){return arguments.length?(i=e,s()):i};l.ticks=function(e){return ka(t,e)};l.tickFormat=function(e,n){return Ma(t,e,n)};l.nice=function(e){return ba(t,e),s()};l.copy=function(){return e(t,n,i,r)};return s()}([0,1],[0,1],Xr,!1)};var xa={s:1,g:1,p:1,r:1,e:1};function Ca(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}o.scale.log=function(){return function e(t,n,i,r){function a(e){return(i?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(n)}function s(e){return i?Math.pow(n,e):-Math.pow(n,-e)}function l(e){return t(a(e))}l.invert=function(e){return s(t.invert(e))};l.domain=function(e){return arguments.length?(i=e[0]>=0,t.domain((r=e.map(Number)).map(a)),l):r};l.base=function(e){return arguments.length?(n=+e,t.domain(r.map(a)),l):n};l.nice=function(){var e=ma(r.map(a),i?Math:Ta);return t.domain(e),r=e.map(s),l};l.ticks=function(){var e=ha(r),t=[],o=e[0],l=e[1],c=Math.floor(a(o)),u=Math.ceil(a(l)),d=n%1?2:n;if(isFinite(u-c)){if(i){for(;c<u;c++)for(var h=1;h<d;h++)t.push(s(c)*h);t.push(s(c))}else for(t.push(s(c));c++<u;)for(var h=d-1;h>0;h--)t.push(s(c)*h);for(c=0;t[c]<o;c++);for(u=t.length;t[u-1]>l;u--);t=t.slice(c,u)}return t};l.tickFormat=function(e,t){if(!arguments.length)return Sa;arguments.length<2?t=Sa:"function"!=typeof t&&(t=o.format(t));var i=Math.max(1,n*e/l.ticks().length);return function(e){var r=e/s(Math.round(a(e)));return r*n<n-.5&&(r*=n),r<=i?t(e):""}};l.copy=function(){return e(t.copy(),n,i,r)};return ya(l,t)}(o.scale.linear().domain([0,1]),10,!0,[1,10])};var Sa=o.format(".0e"),Ta={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function La(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}o.scale.pow=function(){return function e(t,n,i){var r=La(n),o=La(1/n);function a(e){return t(r(e))}a.invert=function(e){return o(t.invert(e))};a.domain=function(e){return arguments.length?(t.domain((i=e.map(Number)).map(r)),a):i};a.ticks=function(e){return ka(i,e)};a.tickFormat=function(e,t){return Ma(i,e,t)};a.nice=function(e){return a.domain(ba(i,e))};a.exponent=function(e){return arguments.length?(r=La(n=e),o=La(1/n),t.domain(i.map(r)),a):n};a.copy=function(){return e(t.copy(),n,i)};return ya(a,t)}(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return function e(t,n){var i,r,a;function s(e){return r[((i.get(e)||("range"===n.t?i.set(e,t.push(e)):NaN))-1)%r.length]}function l(e,n){return o.range(t.length).map(function(t){return e+n*t})}s.domain=function(e){if(!arguments.length)return t;t=[],i=new x;for(var r,o=-1,a=e.length;++o<a;)i.has(r=e[o])||i.set(r,t.push(r));return s[n.t].apply(s,n.a)};s.range=function(e){return arguments.length?(r=e,a=0,n={t:"range",a:arguments},s):r};s.rangePoints=function(e,i){arguments.length<2&&(i=0);var o=e[0],c=e[1],u=t.length<2?(o=(o+c)/2,0):(c-o)/(t.length-1+i);return r=l(o+u*i/2,u),a=0,n={t:"rangePoints",a:arguments},s};s.rangeRoundPoints=function(e,i){arguments.length<2&&(i=0);var o=e[0],c=e[1],u=t.length<2?(o=c=Math.round((o+c)/2),0):(c-o)/(t.length-1+i)|0;return r=l(o+Math.round(u*i/2+(c-o-(t.length-1+i)*u)/2),u),a=0,n={t:"rangeRoundPoints",a:arguments},s};s.rangeBands=function(e,i,o){arguments.length<2&&(i=0),arguments.length<3&&(o=i);var c=e[1]<e[0],u=e[c-0],d=e[1-c],h=(d-u)/(t.length-i+2*o);return r=l(u+h*o,h),c&&r.reverse(),a=h*(1-i),n={t:"rangeBands",a:arguments},s};s.rangeRoundBands=function(e,i,o){arguments.length<2&&(i=0),arguments.length<3&&(o=i);var c=e[1]<e[0],u=e[c-0],d=e[1-c],h=Math.floor((d-u)/(t.length-i+2*o));return r=l(u+Math.round((d-u-(t.length-i)*h)/2),h),c&&r.reverse(),a=Math.round(h*(1-i)),n={t:"rangeRoundBands",a:arguments},s};s.rangeBand=function(){return a};s.rangeExtent=function(){return ha(n.a[0])};s.copy=function(){return e(t,n)};return s.domain(t)}([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(Ea)},o.scale.category20=function(){return o.scale.ordinal().range(Da)},o.scale.category20b=function(){return o.scale.ordinal().range(Oa)},o.scale.category20c=function(){return o.scale.ordinal().range(Aa)};var Ea=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(dt),Da=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(dt),Oa=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(dt),Aa=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(dt);function Ya(){return 0}o.scale.quantile=function(){return function e(t,n){var i;function r(){var e=0,r=n.length;for(i=[];++e<r;)i[e-1]=o.quantile(t,e/r);return a}function a(e){if(!isNaN(e=+e))return n[o.bisect(i,e)]}a.domain=function(e){return arguments.length?(t=e.map(_).filter(v).sort(g),r()):t};a.range=function(e){return arguments.length?(n=e,r()):n};a.quantiles=function(){return i};a.invertExtent=function(e){return(e=n.indexOf(e))<0?[NaN,NaN]:[e>0?i[e-1]:t[0],e<i.length?i[e]:t[t.length-1]]};a.copy=function(){return e(t,n)};return r()}([],[])},o.scale.quantize=function(){return function e(t,n,i){var r,o;function a(e){return i[Math.max(0,Math.min(o,Math.floor(r*(e-t))))]}function s(){return r=i.length/(n-t),o=i.length-1,a}a.domain=function(e){return arguments.length?(t=+e[0],n=+e[e.length-1],s()):[t,n]};a.range=function(e){return arguments.length?(i=e,s()):i};a.invertExtent=function(e){return[e=(e=i.indexOf(e))<0?NaN:e/r+t,e+1/r]};a.copy=function(){return e(t,n,i)};return s()}(0,1,[0,1])},o.scale.threshold=function(){return function e(t,n){function i(e){if(e<=e)return n[o.bisect(t,e)]}i.domain=function(e){return arguments.length?(t=e,i):t};i.range=function(e){return arguments.length?(n=e,i):n};i.invertExtent=function(e){return e=n.indexOf(e),[t[e-1],t[e]]};i.copy=function(){return e(t,n)};return i}([.5],[0,1])},o.scale.identity=function(){return function e(t){function n(e){return+e}n.invert=n;n.domain=n.range=function(e){return arguments.length?(t=e.map(n),n):t};n.ticks=function(e){return ka(t,e)};n.tickFormat=function(e,n){return Ma(t,e,n)};n.copy=function(){return e(t)};return n}([0,1])},o.svg={},o.svg.arc=function(){var e=ja,t=Pa,n=Ya,i=Ra,r=Na,o=Ha,a=Ia;function s(){var s=Math.max(0,+e.apply(this,arguments)),c=Math.max(0,+t.apply(this,arguments)),u=r.apply(this,arguments)-Ae,d=o.apply(this,arguments)-Ae,h=Math.abs(d-u),f=u>d?0:1;if(c<s&&(p=c,c=s,s=p),h>=Oe)return l(c,f)+(s?l(s,1-f):"")+"Z";var p,m,g,_,v,y,b,w,k,M,x,C,S=0,T=0,L=[];if((_=(+a.apply(this,arguments)||0)/2)&&(g=i===Ra?Math.sqrt(s*s+c*c):+i.apply(this,arguments),f||(T*=-1),c&&(T=He(g/c*Math.sin(_))),s&&(S=He(g/s*Math.sin(_)))),c){v=c*Math.cos(u+T),y=c*Math.sin(u+T),b=c*Math.cos(d-T),w=c*Math.sin(d-T);var E=Math.abs(d-u-2*T)<=Ee?0:1;if(T&&Fa(v,y,b,w)===f^E){var D=(u+d)/2;v=c*Math.cos(D),y=c*Math.sin(D),b=w=null}}else v=y=0;if(s){k=s*Math.cos(d-S),M=s*Math.sin(d-S),x=s*Math.cos(u+S),C=s*Math.sin(u+S);var O=Math.abs(u-d+2*S)<=Ee?0:1;if(S&&Fa(k,M,x,C)===1-f^O){var A=(u+d)/2;k=s*Math.cos(A),M=s*Math.sin(A),x=C=null}}else k=M=0;if(h>Te&&(p=Math.min(Math.abs(c-s)/2,+n.apply(this,arguments)))>.001){m=s<c^f?0:1;var Y=p,R=p;if(h<Ee){var j=null==x?[k,M]:null==b?[v,y]:cr([v,y],[x,C],[b,w],[k,M]),P=v-j[0],N=y-j[1],H=b-j[0],I=w-j[1],F=1/Math.sin(Math.acos((P*H+N*I)/(Math.sqrt(P*P+N*N)*Math.sqrt(H*H+I*I)))/2),$=Math.sqrt(j[0]*j[0]+j[1]*j[1]);R=Math.min(p,(s-$)/(F-1)),Y=Math.min(p,(c-$)/(F+1))}if(null!=b){var W=$a(null==x?[k,M]:[x,C],[v,y],c,Y,f),z=$a([b,w],[k,M],c,Y,f);p===Y?L.push("M",W[0],"A",Y,",",Y," 0 0,",m," ",W[1],"A",c,",",c," 0 ",1-f^Fa(W[1][0],W[1][1],z[1][0],z[1][1]),",",f," ",z[1],"A",Y,",",Y," 0 0,",m," ",z[0]):L.push("M",W[0],"A",Y,",",Y," 0 1,",m," ",z[0])}else L.push("M",v,",",y);if(null!=x){var B=$a([v,y],[x,C],s,-R,f),V=$a([k,M],null==b?[v,y]:[b,w],s,-R,f);p===R?L.push("L",V[0],"A",R,",",R," 0 0,",m," ",V[1],"A",s,",",s," 0 ",f^Fa(V[1][0],V[1][1],B[1][0],B[1][1]),",",1-f," ",B[1],"A",R,",",R," 0 0,",m," ",B[0]):L.push("L",V[0],"A",R,",",R," 0 0,",m," ",B[0])}else L.push("L",k,",",M)}else L.push("M",v,",",y),null!=b&&L.push("A",c,",",c," 0 ",E,",",f," ",b,",",w),L.push("L",k,",",M),null!=x&&L.push("A",s,",",s," 0 ",O,",",1-f," ",x,",",C);return L.push("Z"),L.join("")}function l(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}return s.innerRadius=function(t){return arguments.length?(e=bt(t),s):e},s.outerRadius=function(e){return arguments.length?(t=bt(e),s):t},s.cornerRadius=function(e){return arguments.length?(n=bt(e),s):n},s.padRadius=function(e){return arguments.length?(i=e==Ra?Ra:bt(e),s):i},s.startAngle=function(e){return arguments.length?(r=bt(e),s):r},s.endAngle=function(e){return arguments.length?(o=bt(e),s):o},s.padAngle=function(e){return arguments.length?(a=bt(e),s):a},s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-Ae;return[Math.cos(i)*n,Math.sin(i)*n]},s};var Ra="auto";function ja(e){return e.innerRadius}function Pa(e){return e.outerRadius}function Na(e){return e.startAngle}function Ha(e){return e.endAngle}function Ia(e){return e&&e.padAngle}function Fa(e,t,n,i){return(e-n)*t-(t-i)*e>0?0:1}function $a(e,t,n,i,r){var o=e[0]-t[0],a=e[1]-t[1],s=(r?i:-i)/Math.sqrt(o*o+a*a),l=s*a,c=-s*o,u=e[0]+l,d=e[1]+c,h=t[0]+l,f=t[1]+c,p=(u+h)/2,m=(d+f)/2,g=h-u,_=f-d,v=g*g+_*_,y=n-i,b=u*f-h*d,w=(_<0?-1:1)*Math.sqrt(Math.max(0,y*y*v-b*b)),k=(b*_-g*w)/v,M=(-b*g-_*w)/v,x=(b*_+g*w)/v,C=(-b*g+_*w)/v,S=k-p,T=M-m,L=x-p,E=C-m;return S*S+T*T>L*L+E*E&&(k=x,M=C),[[k-l,M-c],[k*n/y,M*n/y]]}function Wa(e){var t=ir,n=rr,i=Xn,r=Ba,o=r.key,a=.7;function s(o){var s,l=[],c=[],u=-1,d=o.length,h=bt(t),f=bt(n);function p(){l.push("M",r(e(c),a))}for(;++u<d;)i.call(this,s=o[u],u)?c.push([+h.call(this,s,u),+f.call(this,s,u)]):c.length&&(p(),c=[]);return c.length&&p(),l.length?l.join(""):null}return s.x=function(e){return arguments.length?(t=e,s):t},s.y=function(e){return arguments.length?(n=e,s):n},s.defined=function(e){return arguments.length?(i=e,s):i},s.interpolate=function(e){return arguments.length?(o="function"==typeof e?r=e:(r=za.get(e)||Ba).key,s):o},s.tension=function(e){return arguments.length?(a=e,s):a},s}o.svg.line=function(){return Wa(j)};var za=o.map({linear:Ba,"linear-closed":Va,step:function(e){var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];for(;++t<n;)r.push("H",(i[0]+(i=e[t])[0])/2,"V",i[1]);n>1&&r.push("H",i[0]);return r.join("")},"step-before":Ua,"step-after":qa,basis:Ka,"basis-open":function(e){if(e.length<4)return Ba(e);var t,n=[],i=-1,r=e.length,o=[0],a=[0];for(;++i<3;)t=e[i],o.push(t[0]),a.push(t[1]);n.push(Xa(es,o)+","+Xa(es,a)),--i;for(;++i<r;)t=e[i],o.shift(),o.push(t[0]),a.shift(),a.push(t[1]),ts(n,o,a);return n.join("")},"basis-closed":function(e){var t,n,i=-1,r=e.length,o=r+4,a=[],s=[];for(;++i<4;)n=e[i%r],a.push(n[0]),s.push(n[1]);t=[Xa(es,a),",",Xa(es,s)],--i;for(;++i<o;)n=e[i%r],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),ts(t,a,s);return t.join("")},bundle:function(e,t){var n=e.length-1;if(n)for(var i,r,o=e[0][0],a=e[0][1],s=e[n][0]-o,l=e[n][1]-a,c=-1;++c<=n;)i=e[c],r=c/n,i[0]=t*i[0]+(1-t)*(o+r*s),i[1]=t*i[1]+(1-t)*(a+r*l);return Ka(e)},cardinal:function(e,t){return e.length<3?Ba(e):e[0]+Ga(e,Ja(e,t))},"cardinal-open":function(e,t){return e.length<4?Ba(e):e[1]+Ga(e.slice(1,-1),Ja(e,t))},"cardinal-closed":function(e,t){return e.length<3?Va(e):e[0]+Ga((e.push(e[0]),e),Ja([e[e.length-2]].concat(e,[e[1]]),t))},monotone:function(e){return e.length<3?Ba(e):e[0]+Ga(e,function(e){var t,n,i,r,o=[],a=function(e){var t=0,n=e.length-1,i=[],r=e[0],o=e[1],a=i[0]=ns(r,o);for(;++t<n;)i[t]=(a+(a=ns(r=o,o=e[t+1])))/2;return i[t]=a,i}(e),s=-1,l=e.length-1;for(;++s<l;)t=ns(e[s],e[s+1]),k(t)<Te?a[s]=a[s+1]=0:(n=a[s]/t,i=a[s+1]/t,(r=n*n+i*i)>9&&(r=3*t/Math.sqrt(r),a[s]=r*n,a[s+1]=r*i));s=-1;for(;++s<=l;)r=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([r||0,a[s]*r||0]);return o}(e))}});function Ba(e){return e.length>1?e.join("L"):e+"Z"}function Va(e){return e.join("L")+"Z"}function Ua(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("V",(i=e[t])[1],"H",i[0]);return r.join("")}function qa(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("H",(i=e[t])[0],"V",i[1]);return r.join("")}function Ga(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Ba(e);var n=e.length!=t.length,i="",r=e[0],o=e[1],a=t[0],s=a,l=1;if(n&&(i+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],r=e[1],l=2),t.length>1){s=t[1],o=e[l],l++,i+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var c=2;c<t.length;c++,l++)o=e[l],s=t[c],i+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var u=e[l];i+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+u[0]+","+u[1]}return i}function Ja(e,t){for(var n,i=[],r=(1-t)/2,o=e[0],a=e[1],s=1,l=e.length;++s<l;)n=o,o=a,a=e[s],i.push([r*(a[0]-n[0]),r*(a[1]-n[1])]);return i}function Ka(e){if(e.length<3)return Ba(e);var t=1,n=e.length,i=e[0],r=i[0],o=i[1],a=[r,r,r,(i=e[1])[0]],s=[o,o,o,i[1]],l=[r,",",o,"L",Xa(es,a),",",Xa(es,s)];for(e.push(e[n-1]);++t<=n;)i=e[t],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),ts(l,a,s);return e.pop(),l.push("L",i),l.join("")}function Xa(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}za.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Qa=[0,2/3,1/3,0],Za=[0,1/3,2/3,0],es=[0,1/6,2/3,1/6];function ts(e,t,n){e.push("C",Xa(Qa,t),",",Xa(Qa,n),",",Xa(Za,t),",",Xa(Za,n),",",Xa(es,t),",",Xa(es,n))}function ns(e,t){return(t[1]-e[1])/(t[0]-e[0])}function is(e){for(var t,n,i,r=-1,o=e.length;++r<o;)n=(t=e[r])[0],i=t[1]-Ae,t[0]=n*Math.cos(i),t[1]=n*Math.sin(i);return e}function rs(e){var t=ir,n=ir,i=0,r=rr,o=Xn,a=Ba,s=a.key,l=a,c="L",u=.7;function d(s){var d,h,f,p=[],m=[],g=[],_=-1,v=s.length,y=bt(t),b=bt(i),w=t===n?function(){return h}:bt(n),k=i===r?function(){return f}:bt(r);function M(){p.push("M",a(e(g),u),c,l(e(m.reverse()),u),"Z")}for(;++_<v;)o.call(this,d=s[_],_)?(m.push([h=+y.call(this,d,_),f=+b.call(this,d,_)]),g.push([+w.call(this,d,_),+k.call(this,d,_)])):m.length&&(M(),m=[],g=[]);return m.length&&M(),p.length?p.join(""):null}return d.x=function(e){return arguments.length?(t=n=e,d):n},d.x0=function(e){return arguments.length?(t=e,d):t},d.x1=function(e){return arguments.length?(n=e,d):n},d.y=function(e){return arguments.length?(i=r=e,d):r},d.y0=function(e){return arguments.length?(i=e,d):i},d.y1=function(e){return arguments.length?(r=e,d):r},d.defined=function(e){return arguments.length?(o=e,d):o},d.interpolate=function(e){return arguments.length?(s="function"==typeof e?a=e:(a=za.get(e)||Ba).key,l=a.reverse||a,c=a.closed?"M":"L",d):s},d.tension=function(e){return arguments.length?(u=e,d):u},d}function os(e){return e.radius}function as(e){return[e.x,e.y]}function ss(){return 64}function ls(){return"circle"}function cs(e){var t=Math.sqrt(e/Ee);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}o.svg.line.radial=function(){var e=Wa(is);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Ua.reverse=qa,qa.reverse=Ua,o.svg.area=function(){return rs(j)},o.svg.area.radial=function(){var e=rs(is);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},o.svg.chord=function(){var e=zi,t=Bi,n=os,i=Na,r=Ha;function o(n,i){var r=a(this,e,n,i),o=a(this,t,n,i);return"M"+r.p0+s(r.r,r.p1,r.a1-r.a0)+(function(e,t){return e.a0==t.a0&&e.a1==t.a1}(r,o)?l(r.r,r.p1,r.r,r.p0):l(r.r,r.p1,o.r,o.p0)+s(o.r,o.p1,o.a1-o.a0)+l(o.r,o.p1,r.r,r.p0))+"Z"}function a(e,t,o,a){var s=t.call(e,o,a),l=n.call(e,s,a),c=i.call(e,s,a)-Ae,u=r.call(e,s,a)-Ae;return{r:l,a0:c,a1:u,p0:[l*Math.cos(c),l*Math.sin(c)],p1:[l*Math.cos(u),l*Math.sin(u)]}}function s(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Ee)+",1 "+t}function l(e,t,n,i){return"Q 0,0 "+i}return o.radius=function(e){return arguments.length?(n=bt(e),o):n},o.source=function(t){return arguments.length?(e=bt(t),o):e},o.target=function(e){return arguments.length?(t=bt(e),o):t},o.startAngle=function(e){return arguments.length?(i=bt(e),o):i},o.endAngle=function(e){return arguments.length?(r=bt(e),o):r},o},o.svg.diagonal=function(){var e=zi,t=Bi,n=as;function i(i,r){var o=e.call(this,i,r),a=t.call(this,i,r),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return"M"+(l=l.map(n))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return i.source=function(t){return arguments.length?(e=bt(t),i):e},i.target=function(e){return arguments.length?(t=bt(e),i):t},i.projection=function(e){return arguments.length?(n=e,i):n},i},o.svg.diagonal.radial=function(){var e=o.svg.diagonal(),t=as,n=e.projection;return e.projection=function(e){return arguments.length?n(function(e){return function(){var t=e.apply(this,arguments),n=t[0],i=t[1]-Ae;return[n*Math.cos(i),n*Math.sin(i)]}}(t=e)):t},e},o.svg.symbol=function(){var e=ls,t=ss;function n(n,i){return(us.get(e.call(this,n,i))||cs)(t.call(this,n,i))}return n.type=function(t){return arguments.length?(e=bt(t),n):e},n.size=function(e){return arguments.length?(t=bt(e),n):t},n};var us=o.map({circle:cs,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*hs)),n=t*hs;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/ds),n=t*ds/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/ds),n=t*ds/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});o.svg.symbolTypes=us.keys();var ds=Math.sqrt(3),hs=Math.tan(30*Ye);X.transition=function(e){for(var t,n,i=gs||++ys,r=ks(e),o=[],a=_s||{time:Date.now(),ease:ao,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(t=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(n=c[u])&&Ms(n,u,r,i,a),t.push(n)}return ms(o,r,i)},X.interrupt=function(e){return this.each(null==e?fs:ps(ks(e)))};var fs=ps(ks());function ps(e){return function(){var t,n,i;(t=this[e])&&(i=t[n=t.active])&&(i.timer.c=null,i.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function ms(e,t,n){return U(e,vs),e.namespace=t,e.id=n,e}var gs,_s,vs=[],ys=0;function bs(e,t,n,i){var r=e.id,o=e.namespace;return pe(e,"function"==typeof n?function(e,a,s){e[o][r].tween.set(t,i(n.call(e,e.__data__,a,s)))}:(n=i(n),function(e){e[o][r].tween.set(t,n)}))}function ws(e){return null==e&&(e=""),function(){this.textContent=e}}function ks(e){return null==e?"__transition__":"__transition_"+e+"__"}function Ms(e,t,n,i,r){var o,a,s,l,c,u=e[n]||(e[n]={active:0,count:0}),d=u[i];function h(n){var r=u.active,h=u[r];for(var p in h&&(h.timer.c=null,h.timer.t=NaN,--u.count,delete u[r],h.event&&h.event.interrupt.call(e,e.__data__,h.index)),u)if(+p<i){var m=u[p];m.timer.c=null,m.timer.t=NaN,--u.count,delete u[p]}a.c=f,Lt(function(){return a.c&&f(n||1)&&(a.c=null,a.t=NaN),1},0,o),u.active=i,d.event&&d.event.start.call(e,e.__data__,t),c=[],d.tween.forEach(function(n,i){(i=i.call(e,e.__data__,t))&&c.push(i)}),l=d.ease,s=d.duration}function f(r){for(var o=r/s,a=l(o),h=c.length;h>0;)c[--h].call(e,a);if(o>=1)return d.event&&d.event.end.call(e,e.__data__,t),--u.count?delete u[i]:delete e[n],1}d||(o=r.time,a=Lt(function(e){var t=d.delay;if(a.t=t+o,t<=e)return h(e-t);a.c=h},0,o),d=u[i]={tween:new x,time:o,timer:a,delay:r.delay,duration:r.duration,ease:r.ease,index:t},r=null,++u.count)}vs.call=X.call,vs.empty=X.empty,vs.node=X.node,vs.size=X.size,o.transition=function(e,t){return e&&e.transition?gs?e.transition(t):e:o.selection().transition(e)},o.transition.prototype=vs,vs.select=function(e){var t,n,i,r=this.id,o=this.namespace,a=[];e=Q(e);for(var s=-1,l=this.length;++s<l;){a.push(t=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(i=c[u])&&(n=e.call(i,i.__data__,u,s))?("__data__"in i&&(n.__data__=i.__data__),Ms(n,u,o,r,i[o][r]),t.push(n)):t.push(null)}return ms(a,o,r)},vs.selectAll=function(e){var t,n,i,r,o,a=this.id,s=this.namespace,l=[];e=Z(e);for(var c=-1,u=this.length;++c<u;)for(var d=this[c],h=-1,f=d.length;++h<f;)if(i=d[h]){o=i[s][a],n=e.call(i,i.__data__,h,c),l.push(t=[]);for(var p=-1,m=n.length;++p<m;)(r=n[p])&&Ms(r,p,s,a,o),t.push(r)}return ms(l,s,a)},vs.filter=function(e){var t,n,i=[];"function"!=typeof e&&(e=fe(e));for(var r=0,o=this.length;r<o;r++){i.push(t=[]);for(var a,s=0,l=(a=this[r]).length;s<l;s++)(n=a[s])&&e.call(n,n.__data__,s,r)&&t.push(n)}return ms(i,this.namespace,this.id)},vs.tween=function(e,t){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(e):pe(this,null==t?function(t){t[i][n].tween.remove(e)}:function(r){r[i][n].tween.set(e,t)})},vs.attr=function(e,t){if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var n="transform"==e?vo:Xr,i=o.ns.qualify(e);function r(){this.removeAttribute(i)}function a(){this.removeAttributeNS(i.space,i.local)}return bs(this,"attr."+e,t,i.local?function(e){return null==e?a:(e+="",function(){var t,r=this.getAttributeNS(i.space,i.local);return r!==e&&(t=n(r,e),function(e){this.setAttributeNS(i.space,i.local,t(e))})})}:function(e){return null==e?r:(e+="",function(){var t,r=this.getAttribute(i);return r!==e&&(t=n(r,e),function(e){this.setAttribute(i,t(e))})})})},vs.attrTween=function(e,t){var n=o.ns.qualify(e);return this.tween("attr."+e,n.local?function(e,i){var r=t.call(this,e,i,this.getAttributeNS(n.space,n.local));return r&&function(e){this.setAttributeNS(n.space,n.local,r(e))}}:function(e,i){var r=t.call(this,e,i,this.getAttribute(n));return r&&function(e){this.setAttribute(n,r(e))}})},vs.style=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){for(n in i<2&&(t=""),e)this.style(n,e[n],t);return this}n=""}function r(){this.style.removeProperty(e)}return bs(this,"style."+e,t,function(t){return null==t?r:(t+="",function(){var i,r=u(this).getComputedStyle(this,null).getPropertyValue(e);return r!==t&&(i=Xr(r,t),function(t){this.style.setProperty(e,i(t),n)})})})},vs.styleTween=function(e,t,n){return arguments.length<3&&(n=""),this.tween("style."+e,function(i,r){var o=t.call(this,i,r,u(this).getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}})},vs.text=function(e){return bs(this,"text",e,ws)},vs.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},vs.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=o.ease.apply(o,arguments)),pe(this,function(i){i[n][t].ease=e}))},vs.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:pe(this,"function"==typeof e?function(i,r,o){i[n][t].delay=+e.call(i,i.__data__,r,o)}:(e=+e,function(i){i[n][t].delay=e}))},vs.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:pe(this,"function"==typeof e?function(i,r,o){i[n][t].duration=Math.max(1,e.call(i,i.__data__,r,o))}:(e=Math.max(1,e),function(i){i[n][t].duration=e}))},vs.each=function(e,t){var n=this.id,i=this.namespace;if(arguments.length<2){var r=_s,a=gs;try{gs=n,pe(this,function(t,r,o){_s=t[i][n],e.call(t,t.__data__,r,o)})}finally{_s=r,gs=a}}else pe(this,function(r){var a=r[i][n];(a.event||(a.event=o.dispatch("start","end","interrupt"))).on(e,t)});return this},vs.transition=function(){for(var e,t,n,i=this.id,r=++ys,o=this.namespace,a=[],s=0,l=this.length;s<l;s++){a.push(e=[]);for(var c,u=0,d=(c=this[s]).length;u<d;u++)(t=c[u])&&Ms(t,u,o,r,{time:(n=t[o][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),e.push(t)}return ms(a,o,r)},o.svg.axis=function(){var e,t=o.scale.linear(),n=xs,i=6,r=6,a=3,l=[10],c=null;function u(s){s.each(function(){var s,u=o.select(this),d=this.__chart__||t,h=this.__chart__=t.copy(),f=null==c?h.ticks?h.ticks.apply(h,l):h.domain():c,p=null==e?h.tickFormat?h.tickFormat.apply(h,l):j:e,m=u.selectAll(".tick").data(f,h),g=m.enter().insert("g",".domain").attr("class","tick").style("opacity",Te),_=o.transition(m.exit()).style("opacity",Te).remove(),v=o.transition(m.order()).style("opacity",1),y=Math.max(i,0)+a,b=fa(h),w=u.selectAll(".domain").data([0]),k=(w.enter().append("path").attr("class","domain"),o.transition(w));g.append("line"),g.append("text");var M,x,C,S,T=g.select("line"),L=v.select("line"),E=m.select("text").text(p),D=g.select("text"),O=v.select("text"),A="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(s=Ss,M="x",C="y",x="x2",S="y2",E.attr("dy",A<0?"0em":".71em").style("text-anchor","middle"),k.attr("d","M"+b[0]+","+A*r+"V0H"+b[1]+"V"+A*r)):(s=Ts,M="y",C="x",x="y2",S="x2",E.attr("dy",".32em").style("text-anchor",A<0?"end":"start"),k.attr("d","M"+A*r+","+b[0]+"H0V"+b[1]+"H"+A*r)),T.attr(S,A*i),D.attr(C,A*y),L.attr(x,0).attr(S,A*i),O.attr(M,0).attr(C,A*y),h.rangeBand){var Y=h,R=Y.rangeBand()/2;d=h=function(e){return Y(e)+R}}else d.rangeBand?d=h:_.call(s,h,d);g.call(s,d,h),v.call(s,h,h)})}return u.scale=function(e){return arguments.length?(t=e,u):t},u.orient=function(e){return arguments.length?(n=e in Cs?e+"":xs,u):n},u.ticks=function(){return arguments.length?(l=s(arguments),u):l},u.tickValues=function(e){return arguments.length?(c=e,u):c},u.tickFormat=function(t){return arguments.length?(e=t,u):e},u.tickSize=function(e){var t=arguments.length;return t?(i=+e,r=+arguments[t-1],u):i},u.innerTickSize=function(e){return arguments.length?(i=+e,u):i},u.outerTickSize=function(e){return arguments.length?(r=+e,u):r},u.tickPadding=function(e){return arguments.length?(a=+e,u):a},u.tickSubdivide=function(){return arguments.length&&u},u};var xs="bottom",Cs={top:1,right:1,bottom:1,left:1};function Ss(e,t,n){e.attr("transform",function(e){var i=t(e);return"translate("+(isFinite(i)?i:n(e))+",0)"})}function Ts(e,t,n){e.attr("transform",function(e){var i=t(e);return"translate(0,"+(isFinite(i)?i:n(e))+")"})}o.svg.brush=function(){var e,t,n=B(h,"brushstart","brush","brushend"),i=null,r=null,a=[0,0],s=[0,0],l=!0,c=!0,d=Es[0];function h(e){e.each(function(){var e=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",g).on("touchstart.brush",g),t=e.selectAll(".background").data([0]);t.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=e.selectAll(".resize").data(d,j);n.exit().remove(),n.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Ls[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",h.empty()?"none":null);var a,s=o.transition(e),l=o.transition(t);i&&(a=fa(i),l.attr("x",a[0]).attr("width",a[1]-a[0]),p(s)),r&&(a=fa(r),l.attr("y",a[0]).attr("height",a[1]-a[0]),m(s)),f(s)})}function f(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+a[+/e$/.test(e)]+","+s[+/^s/.test(e)]+")"})}function p(e){e.select(".extent").attr("x",a[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",a[1]-a[0])}function m(e){e.select(".extent").attr("y",s[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function g(){var d,g,_=this,v=o.select(o.event.target),y=n.of(_,arguments),b=o.select(_),w=v.datum(),k=!/^(n|s)$/.test(w)&&i,M=!/^(e|w)$/.test(w)&&r,x=v.classed("extent"),C=Me(_),S=o.mouse(_),T=o.select(u(_)).on("keydown.brush",function(){32==o.event.keyCode&&(x||(d=null,S[0]-=a[1],S[1]-=s[1],x=2),W())}).on("keyup.brush",function(){32==o.event.keyCode&&2==x&&(S[0]+=a[1],S[1]+=s[1],x=0,W())});if(o.event.changedTouches?T.on("touchmove.brush",D).on("touchend.brush",A):T.on("mousemove.brush",D).on("mouseup.brush",A),b.interrupt().selectAll("*").interrupt(),x)S[0]=a[0]-S[0],S[1]=s[0]-S[1];else if(w){var L=+/w$/.test(w),E=+/^n/.test(w);g=[a[1-L]-S[0],s[1-E]-S[1]],S[0]=a[L],S[1]=s[E]}else o.event.altKey&&(d=S.slice());function D(){var e=o.mouse(_),t=!1;g&&(e[0]+=g[0],e[1]+=g[1]),x||(o.event.altKey?(d||(d=[(a[0]+a[1])/2,(s[0]+s[1])/2]),S[0]=a[+(e[0]<d[0])],S[1]=s[+(e[1]<d[1])]):d=null),k&&O(e,i,0)&&(p(b),t=!0),M&&O(e,r,1)&&(m(b),t=!0),t&&(f(b),y({type:"brush",mode:x?"move":"resize"}))}function O(n,i,r){var o,u,h=fa(i),f=h[0],p=h[1],m=S[r],g=r?s:a,_=g[1]-g[0];if(x&&(f-=m,p-=_+m),o=(r?c:l)?Math.max(f,Math.min(p,n[r])):n[r],x?u=(o+=m)+_:(d&&(m=Math.max(f,Math.min(p,2*d[r]-o))),m<o?(u=o,o=m):u=m),g[0]!=o||g[1]!=u)return r?t=null:e=null,g[0]=o,g[1]=u,!0}function A(){D(),b.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null),o.select("body").style("cursor",null),T.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),C(),y({type:"brushend"})}b.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",v.style("cursor")),y({type:"brushstart"}),D()}return h.event=function(i){i.each(function(){var i=n.of(this,arguments),r={x:a,y:s,i:e,j:t},l=this.__chart__||r;this.__chart__=r,gs?o.select(this).transition().each("start.brush",function(){e=l.i,t=l.j,a=l.x,s=l.y,i({type:"brushstart"})}).tween("brush:brush",function(){var n=Qr(a,r.x),o=Qr(s,r.y);return e=t=null,function(e){a=r.x=n(e),s=r.y=o(e),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){e=r.i,t=r.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},h.x=function(e){return arguments.length?(d=Es[!(i=e)<<1|!r],h):i},h.y=function(e){return arguments.length?(d=Es[!i<<1|!(r=e)],h):r},h.clamp=function(e){return arguments.length?(i&&r?(l=!!e[0],c=!!e[1]):i?l=!!e:r&&(c=!!e),h):i&&r?[l,c]:i?l:r?c:null},h.extent=function(n){var o,l,c,u,d;return arguments.length?(i&&(o=n[0],l=n[1],r&&(o=o[0],l=l[0]),e=[o,l],i.invert&&(o=i(o),l=i(l)),l<o&&(d=o,o=l,l=d),o==a[0]&&l==a[1]||(a=[o,l])),r&&(c=n[0],u=n[1],i&&(c=c[1],u=u[1]),t=[c,u],r.invert&&(c=r(c),u=r(u)),u<c&&(d=c,c=u,u=d),c==s[0]&&u==s[1]||(s=[c,u])),h):(i&&(e?(o=e[0],l=e[1]):(o=a[0],l=a[1],i.invert&&(o=i.invert(o),l=i.invert(l)),l<o&&(d=o,o=l,l=d))),r&&(t?(c=t[0],u=t[1]):(c=s[0],u=s[1],r.invert&&(c=r.invert(c),u=r.invert(u)),u<c&&(d=c,c=u,u=d))),i&&r?[[o,c],[l,u]]:i?[o,l]:r&&[c,u])},h.clear=function(){return h.empty()||(a=[0,0],s=[0,0],e=t=null),h},h.empty=function(){return!!i&&a[0]==a[1]||!!r&&s[0]==s[1]},o.rebind(h,n,"on")};var Ls={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Es=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ds=Nt.format=hn.timeFormat,Os=Ds.utc,As=Os("%Y-%m-%dT%H:%M:%S.%LZ");function Ys(e){return e.toISOString()}function Rs(e,t,n){function i(t){return e(t)}function r(e,n){var i=(e[1]-e[0])/n,r=o.bisect(Ps,i);return r==Ps.length?[t.year,wa(e.map(function(e){return e/31536e6}),n)[2]]:r?t[i/Ps[r-1]<Ps[r]/i?r-1:r]:[Is,wa(e,n)[2]]}return i.invert=function(t){return js(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain().map(js)},i.nice=function(e,t){var n=i.domain(),o=ha(n),a=null==e?r(o,10):"number"==typeof e&&r(o,e);function s(n){return!isNaN(n)&&!e.range(n,js(+n+1),t).length}return a&&(e=a[0],t=a[1]),i.domain(ma(n,t>1?{floor:function(t){for(;s(t=e.floor(t));)t=js(t-1);return t},ceil:function(t){for(;s(t=e.ceil(t));)t=js(+t+1);return t}}:e))},i.ticks=function(e,t){var n=ha(i.domain()),o=null==e?r(n,10):"number"==typeof e?r(n,e):!e.range&&[{range:e},t];return o&&(e=o[0],t=o[1]),e.range(n[0],js(+n[1]+1),t<1?1:t)},i.tickFormat=function(){return n},i.copy=function(){return Rs(e.copy(),t,n)},ya(i,e)}function js(e){return new Date(e)}Ds.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ys:As,Ys.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Ys.toString=As.toString,Nt.second=$t(function(e){return new Ht(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),Nt.seconds=Nt.second.range,Nt.seconds.utc=Nt.second.utc.range,Nt.minute=$t(function(e){return new Ht(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),Nt.minutes=Nt.minute.range,Nt.minutes.utc=Nt.minute.utc.range,Nt.hour=$t(function(e){var t=e.getTimezoneOffset()/60;return new Ht(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),Nt.hours=Nt.hour.range,Nt.hours.utc=Nt.hour.utc.range,Nt.month=$t(function(e){return(e=Nt.day(e)).setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),Nt.months=Nt.month.range,Nt.months.utc=Nt.month.utc.range;var Ps=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ns=[[Nt.second,1],[Nt.second,5],[Nt.second,15],[Nt.second,30],[Nt.minute,1],[Nt.minute,5],[Nt.minute,15],[Nt.minute,30],[Nt.hour,1],[Nt.hour,3],[Nt.hour,6],[Nt.hour,12],[Nt.day,1],[Nt.day,2],[Nt.week,1],[Nt.month,1],[Nt.month,3],[Nt.year,1]],Hs=Ds.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Xn]]),Is={range:function(e,t,n){return o.range(Math.ceil(e/n)*n,+t,n).map(js)},floor:j,ceil:j};Ns.year=Nt.year,Nt.scale=function(){return Rs(o.scale.linear(),Ns,Hs)};var Fs=Ns.map(function(e){return[e[0].utc,e[1]]}),$s=Os.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Xn]]);function Ws(e){return JSON.parse(e.responseText)}function zs(e){var t=l.createRange();return t.selectNode(l.body),t.createContextualFragment(e.responseText)}Fs.year=Nt.year.utc,Nt.scale.utc=function(){return Rs(o.scale.linear(),Fs,$s)},o.text=wt(function(e){return e.responseText}),o.json=function(e,t){return kt(e,"application/json",Ws,t)},o.html=function(e,t){return kt(e,"text/html",zs,t)},o.xml=wt(function(e){return e.responseXML}),this.d3=o,void 0===(r="function"==typeof(i=o)?i.call(t,n,t,e):i)||(e.exports=r)}()},function(e,t,n){"use strict";function i(e,t,n,i,r,o,a,s){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=l):r&&(l=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}n.d(t,"a",function(){return i})},function(e,t,n){e.exports=n(826)},function(e,t,n){"use strict";var i={UPLOAD:"upload",QUEUED:"queued",RUNNING:"running",SETTING_METADATA:"setting_metadata",NEW:"new",EMPTY:"empty",OK:"ok",PAUSED:"paused",FAILED_METADATA:"failed_metadata",NOT_VIEWABLE:"noPermission",DISCARDED:"discarded",ERROR:"error"};i.READY_STATES=[i.OK,i.EMPTY,i.PAUSED,i.FAILED_METADATA,i.NOT_VIEWABLE,i.DISCARDED,i.ERROR],i.NOT_READY_STATES=[i.UPLOAD,i.QUEUED,i.RUNNING,i.SETTING_METADATA,i.NEW],t.a=i},function(e,t,n){"use strict";var i=n(3),r=n(2),o=n(6),a=i.View.extend({optionsDefault:{css:"",placeholder:"No data available",data:[],value:null,multiple:!1,minimumInputLength:0,maximumTextLength:100,initialData:""},initialize:function(e){if(this.options=o.a.merge(e,this.optionsDefault),this.setElement(this._template(this.options)),this.options.container){if(this.options.container.append(this.$el),this.select_data=this.options.data,this._refresh(),!this.options.multiple){this.options.value&&this._setValue(this.options.value);var t=this;this.options.onchange&&this.$el.on("change",function(){t.options.onchange(t.value())})}}else console.log("ui-select::initialize() : container not specified.")},value:function(e){var t=this._getValue();void 0!==e&&this._setValue(e);var n=this._getValue();return n!=t&&this.options.onchange&&this.options.onchange(n),n},text:function(){return this.$el.select2("data").text},disabled:function(){return!this.$el.select2("enable")},enable:function(){this.$el.select2("enable",!0)},disable:function(){this.$el.select2("enable",!1)},add:function(e){this.select_data.push({id:e.id,text:e.text}),this._refresh()},del:function(e){var t=this._getIndex(e);-1!=t&&(this.select_data.splice(t,1),this._refresh())},remove:function(){this.$el.select2("destroy")},update:function(e){for(var t in this.select_data=[],e.data)this.select_data.push(e.data[t]);this._refresh()},_refresh:function(){var e,t=this;if(this.options.multiple)e={multiple:this.options.multiple,containerCssClass:this.options.css,placeholder:this.options.placeholder,minimumInputLength:this.options.minimumInputLength,ajax:this.options.ajax,dropdownCssClass:this.options.dropdownCssClass,escapeMarkup:this.options.escapeMarkup,formatResult:this.options.formatResult,formatSelection:this.options.formatSelection,initSelection:this.options.initSelection,initialData:this.options.initialData},this.$el.select2(e);else{this.select_data&&this.select_data.map(function(e){var n=t.options.maximumTextLength+3;if(e.text&&e.text.length>n){var i=e.text.indexOf("(".concat(e.id,")"));i=-1!=i&&i<n?i:n;var r=e.text.substring(0,i).replace(/[\ \.]*$/,"");e.text="".concat(r,"...(").concat(e.id,")")}});var n=this._getValue();e={data:this.select_data,containerCssClass:this.options.css,placeholder:this.options.placeholder,dropdownAutoWidth:!0},this.$el.select2(e),this._setValue(n)}},_getIndex:function(e){r.findIndex(this.select_data,{id:e})},_getValue:function(){return this.$el.select2("val")},_setValue:function(e){-1==this._getIndex(e)&&this.select_data.length>0&&(e=this.select_data[0].id),this.$el.select2("val",e)},_template:function(e){return'<input type="hidden" value="'.concat(this.options.initialData,'"/>')}});t.a={View:a}},function(e,t,n){"use strict";(function(e){
/*!
 * Vue.js v2.5.17
 * (c) 2014-2018 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function i(e){return void 0===e||null===e}function r(e){return void 0!==e&&null!==e}function o(e){return!0===e}function a(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function s(e){return null!==e&&"object"==typeof e}var l=Object.prototype.toString;function c(e){return"[object Object]"===l.call(e)}function u(e){return"[object RegExp]"===l.call(e)}function d(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function h(e){return null==e?"":"object"==typeof e?JSON.stringify(e,null,2):String(e)}function f(e){var t=parseFloat(e);return isNaN(t)?e:t}function p(e,t){for(var n=Object.create(null),i=e.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}p("slot,component",!0);var m=p("key,ref,slot,slot-scope,is");function g(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var _=Object.prototype.hasOwnProperty;function v(e,t){return _.call(e,t)}function y(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}var b=/-(\w)/g,w=y(function(e){return e.replace(b,function(e,t){return t?t.toUpperCase():""})}),k=y(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),M=/\B([A-Z])/g,x=y(function(e){return e.replace(M,"-$1").toLowerCase()});var C=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function n(n){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n};function S(e,t){t=t||0;for(var n=e.length-t,i=new Array(n);n--;)i[n]=e[n+t];return i}function T(e,t){for(var n in t)e[n]=t[n];return e}function L(e){for(var t={},n=0;n<e.length;n++)e[n]&&T(t,e[n]);return t}function E(e,t,n){}var D=function(e,t,n){return!1},O=function(e){return e};function A(e,t){if(e===t)return!0;var n=s(e),i=s(t);if(!n||!i)return!n&&!i&&String(e)===String(t);try{var r=Array.isArray(e),o=Array.isArray(t);if(r&&o)return e.length===t.length&&e.every(function(e,n){return A(e,t[n])});if(r||o)return!1;var a=Object.keys(e),l=Object.keys(t);return a.length===l.length&&a.every(function(n){return A(e[n],t[n])})}catch(e){return!1}}function Y(e,t){for(var n=0;n<e.length;n++)if(A(e[n],t))return n;return-1}function R(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var j="data-server-rendered",P=["component","directive","filter"],N=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"],H={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:D,isReservedAttr:D,isUnknownElement:D,getTagNamespace:E,parsePlatformTagName:O,mustUseProp:D,_lifecycleHooks:N};function I(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function F(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var $=/[^\w.$]/;var W,z="__proto__"in{},B="undefined"!=typeof window,V="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,U=V&&WXEnvironment.platform.toLowerCase(),q=B&&window.navigator.userAgent.toLowerCase(),G=q&&/msie|trident/.test(q),J=q&&q.indexOf("msie 9.0")>0,K=q&&q.indexOf("edge/")>0,X=(q&&q.indexOf("android"),q&&/iphone|ipad|ipod|ios/.test(q)||"ios"===U),Q=(q&&/chrome\/\d+/.test(q),{}.watch),Z=!1;if(B)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){Z=!0}}),window.addEventListener("test-passive",null,ee)}catch(e){}var te=function(){return void 0===W&&(W=!B&&!V&&void 0!==e&&"server"===e.process.env.VUE_ENV),W},ne=B&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ie(e){return"function"==typeof e&&/native code/.test(e.toString())}var re,oe="undefined"!=typeof Symbol&&ie(Symbol)&&"undefined"!=typeof Reflect&&ie(Reflect.ownKeys);re="undefined"!=typeof Set&&ie(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var ae=E,se=0,le=function(){this.id=se++,this.subs=[]};le.prototype.addSub=function(e){this.subs.push(e)},le.prototype.removeSub=function(e){g(this.subs,e)},le.prototype.depend=function(){le.target&&le.target.addDep(this)},le.prototype.notify=function(){for(var e=this.subs.slice(),t=0,n=e.length;t<n;t++)e[t].update()},le.target=null;var ce=[];function ue(e){le.target&&ce.push(le.target),le.target=e}function de(){le.target=ce.pop()}var he=function(e,t,n,i,r,o,a,s){this.tag=e,this.data=t,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},fe={child:{configurable:!0}};fe.child.get=function(){return this.componentInstance},Object.defineProperties(he.prototype,fe);var pe=function(e){void 0===e&&(e="");var t=new he;return t.text=e,t.isComment=!0,t};function me(e){return new he(void 0,void 0,void 0,String(e))}function ge(e){var t=new he(e.tag,e.data,e.children,e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.isCloned=!0,t}var _e=Array.prototype,ve=Object.create(_e);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=_e[e];F(ve,e,function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var r,o=t.apply(this,n),a=this.__ob__;switch(e){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2)}return r&&a.observeArray(r),a.dep.notify(),o})});var ye=Object.getOwnPropertyNames(ve),be=!0;function we(e){be=e}var ke=function(e){(this.value=e,this.dep=new le,this.vmCount=0,F(e,"__ob__",this),Array.isArray(e))?((z?Me:xe)(e,ve,ye),this.observeArray(e)):this.walk(e)};function Me(e,t,n){e.__proto__=t}function xe(e,t,n){for(var i=0,r=n.length;i<r;i++){var o=n[i];F(e,o,t[o])}}function Ce(e,t){var n;if(s(e)&&!(e instanceof he))return v(e,"__ob__")&&e.__ob__ instanceof ke?n=e.__ob__:be&&!te()&&(Array.isArray(e)||c(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new ke(e)),t&&n&&n.vmCount++,n}function Se(e,t,n,i,r){var o=new le,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var s=a&&a.get;s||2!==arguments.length||(n=e[t]);var l=a&&a.set,c=!r&&Ce(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return le.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(t)&&function e(t){for(var n=void 0,i=0,r=t.length;i<r;i++)(n=t[i])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&e(n)}(t))),t},set:function(t){var i=s?s.call(e):n;t===i||t!=t&&i!=i||(l?l.call(e,t):n=t,c=!r&&Ce(t),o.notify())}})}}function Te(e,t,n){if(Array.isArray(e)&&d(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var i=e.__ob__;return e._isVue||i&&i.vmCount?n:i?(Se(i.value,t,n),i.dep.notify(),n):(e[t]=n,n)}function Le(e,t){if(Array.isArray(e)&&d(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||v(e,t)&&(delete e[t],n&&n.dep.notify())}}ke.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)Se(e,t[n])},ke.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)Ce(e[t])};var Ee=H.optionMergeStrategies;function De(e,t){if(!t)return e;for(var n,i,r,o=Object.keys(t),a=0;a<o.length;a++)i=e[n=o[a]],r=t[n],v(e,n)?c(i)&&c(r)&&De(i,r):Te(e,n,r);return e}function Oe(e,t,n){return n?function(){var i="function"==typeof t?t.call(n,n):t,r="function"==typeof e?e.call(n,n):e;return i?De(i,r):r}:t?e?function(){return De("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function Ae(e,t){return t?e?e.concat(t):Array.isArray(t)?t:[t]:e}function Ye(e,t,n,i){var r=Object.create(e||null);return t?T(r,t):r}Ee.data=function(e,t,n){return n?Oe(e,t,n):t&&"function"!=typeof t?e:Oe(e,t)},N.forEach(function(e){Ee[e]=Ae}),P.forEach(function(e){Ee[e+"s"]=Ye}),Ee.watch=function(e,t,n,i){if(e===Q&&(e=void 0),t===Q&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var r={};for(var o in T(r,e),t){var a=r[o],s=t[o];a&&!Array.isArray(a)&&(a=[a]),r[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return r},Ee.props=Ee.methods=Ee.inject=Ee.computed=function(e,t,n,i){if(!e)return t;var r=Object.create(null);return T(r,e),t&&T(r,t),r},Ee.provide=Oe;var Re=function(e,t){return void 0===t?e:t};function je(e,t,n){"function"==typeof t&&(t=t.options),function(e,t){var n=e.props;if(n){var i,r,o={};if(Array.isArray(n))for(i=n.length;i--;)"string"==typeof(r=n[i])&&(o[w(r)]={type:null});else if(c(n))for(var a in n)r=n[a],o[w(a)]=c(r)?r:{type:r};e.props=o}}(t),function(e,t){var n=e.inject;if(n){var i=e.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(c(n))for(var o in n){var a=n[o];i[o]=c(a)?T({from:o},a):{from:a}}}}(t),function(e){var t=e.directives;if(t)for(var n in t){var i=t[n];"function"==typeof i&&(t[n]={bind:i,update:i})}}(t);var i=t.extends;if(i&&(e=je(e,i,n)),t.mixins)for(var r=0,o=t.mixins.length;r<o;r++)e=je(e,t.mixins[r],n);var a,s={};for(a in e)l(a);for(a in t)v(e,a)||l(a);function l(i){var r=Ee[i]||Re;s[i]=r(e[i],t[i],n,i)}return s}function Pe(e,t,n,i){if("string"==typeof n){var r=e[t];if(v(r,n))return r[n];var o=w(n);if(v(r,o))return r[o];var a=k(o);return v(r,a)?r[a]:r[n]||r[o]||r[a]}}function Ne(e,t,n,i){var r=t[e],o=!v(n,e),a=n[e],s=Fe(Boolean,r.type);if(s>-1)if(o&&!v(r,"default"))a=!1;else if(""===a||a===x(e)){var l=Fe(String,r.type);(l<0||s<l)&&(a=!0)}if(void 0===a){a=function(e,t,n){if(!v(t,"default"))return;var i=t.default;0;if(e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n])return e._props[n];return"function"==typeof i&&"Function"!==He(t.type)?i.call(e):i}(i,r,e);var c=be;we(!0),Ce(a),we(c)}return a}function He(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Ie(e,t){return He(e)===He(t)}function Fe(e,t){if(!Array.isArray(t))return Ie(t,e)?0:-1;for(var n=0,i=t.length;n<i;n++)if(Ie(t[n],e))return n;return-1}function $e(e,t,n){if(t)for(var i=t;i=i.$parent;){var r=i.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{if(!1===r[o].call(i,e,t,n))return}catch(e){We(e,i,"errorCaptured hook")}}We(e,t,n)}function We(e,t,n){if(H.errorHandler)try{return H.errorHandler.call(null,e,t,n)}catch(e){ze(e,null,"config.errorHandler")}ze(e,t,n)}function ze(e,t,n){if(!B&&!V||"undefined"==typeof console)throw e;console.error(e)}var Be,Ve,Ue=[],qe=!1;function Ge(){qe=!1;var e=Ue.slice(0);Ue.length=0;for(var t=0;t<e.length;t++)e[t]()}var Je=!1;if("undefined"!=typeof setImmediate&&ie(setImmediate))Ve=function(){setImmediate(Ge)};else if("undefined"==typeof MessageChannel||!ie(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())Ve=function(){setTimeout(Ge,0)};else{var Ke=new MessageChannel,Xe=Ke.port2;Ke.port1.onmessage=Ge,Ve=function(){Xe.postMessage(1)}}if("undefined"!=typeof Promise&&ie(Promise)){var Qe=Promise.resolve();Be=function(){Qe.then(Ge),X&&setTimeout(E)}}else Be=Ve;function Ze(e,t){var n;if(Ue.push(function(){if(e)try{e.call(t)}catch(e){$e(e,t,"nextTick")}else n&&n(t)}),qe||(qe=!0,Je?Ve():Be()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){n=e})}var et=new re;function tt(e){!function e(t,n){var i,r;var o=Array.isArray(t);if(!o&&!s(t)||Object.isFrozen(t)||t instanceof he)return;if(t.__ob__){var a=t.__ob__.dep.id;if(n.has(a))return;n.add(a)}if(o)for(i=t.length;i--;)e(t[i],n);else for(r=Object.keys(t),i=r.length;i--;)e(t[r[i]],n)}(e,et),et.clear()}var nt,it=y(function(e){var t="&"===e.charAt(0),n="~"===(e=t?e.slice(1):e).charAt(0),i="!"===(e=n?e.slice(1):e).charAt(0);return{name:e=i?e.slice(1):e,once:n,capture:i,passive:t}});function rt(e){function t(){var e=arguments,n=t.fns;if(!Array.isArray(n))return n.apply(null,arguments);for(var i=n.slice(),r=0;r<i.length;r++)i[r].apply(null,e)}return t.fns=e,t}function ot(e,t,n,r,o){var a,s,l,c;for(a in e)s=e[a],l=t[a],c=it(a),i(s)||(i(l)?(i(s.fns)&&(s=e[a]=rt(s)),n(c.name,s,c.once,c.capture,c.passive,c.params)):s!==l&&(l.fns=s,e[a]=l));for(a in t)i(e[a])&&r((c=it(a)).name,t[a],c.capture)}function at(e,t,n){var a;e instanceof he&&(e=e.data.hook||(e.data.hook={}));var s=e[t];function l(){n.apply(this,arguments),g(a.fns,l)}i(s)?a=rt([l]):r(s.fns)&&o(s.merged)?(a=s).fns.push(l):a=rt([s,l]),a.merged=!0,e[t]=a}function st(e,t,n,i,o){if(r(t)){if(v(t,n))return e[n]=t[n],o||delete t[n],!0;if(v(t,i))return e[n]=t[i],o||delete t[i],!0}return!1}function lt(e){return a(e)?[me(e)]:Array.isArray(e)?function e(t,n){var s=[];var l,c,u,d;for(l=0;l<t.length;l++)i(c=t[l])||"boolean"==typeof c||(u=s.length-1,d=s[u],Array.isArray(c)?c.length>0&&(ct((c=e(c,(n||"")+"_"+l))[0])&&ct(d)&&(s[u]=me(d.text+c[0].text),c.shift()),s.push.apply(s,c)):a(c)?ct(d)?s[u]=me(d.text+c):""!==c&&s.push(me(c)):ct(c)&&ct(d)?s[u]=me(d.text+c.text):(o(t._isVList)&&r(c.tag)&&i(c.key)&&r(n)&&(c.key="__vlist"+n+"_"+l+"__"),s.push(c)));return s}(e):void 0}function ct(e){return r(e)&&r(e.text)&&function(e){return!1===e}(e.isComment)}function ut(e,t){return(e.__esModule||oe&&"Module"===e[Symbol.toStringTag])&&(e=e.default),s(e)?t.extend(e):e}function dt(e){return e.isComment&&e.asyncFactory}function ht(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(r(n)&&(r(n.componentOptions)||dt(n)))return n}}function ft(e,t,n){n?nt.$once(e,t):nt.$on(e,t)}function pt(e,t){nt.$off(e,t)}function mt(e,t,n){nt=e,ot(t,n||{},ft,pt),nt=void 0}function gt(e,t){var n={};if(!e)return n;for(var i=0,r=e.length;i<r;i++){var o=e[i],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==t&&o.fnContext!==t||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,l=n[s]||(n[s]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var c in n)n[c].every(_t)&&delete n[c];return n}function _t(e){return e.isComment&&!e.asyncFactory||" "===e.text}function vt(e,t){t=t||{};for(var n=0;n<e.length;n++)Array.isArray(e[n])?vt(e[n],t):t[e[n].key]=e[n].fn;return t}var yt=null;function bt(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function wt(e,t){if(t){if(e._directInactive=!1,bt(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)wt(e.$children[n]);kt(e,"activated")}}function kt(e,t){ue();var n=e.$options[t];if(n)for(var i=0,r=n.length;i<r;i++)try{n[i].call(e)}catch(n){$e(n,e,t+" hook")}e._hasHookEvent&&e.$emit("hook:"+t),de()}var Mt=[],xt=[],Ct={},St=!1,Tt=!1,Lt=0;function Et(){var e,t;for(Tt=!0,Mt.sort(function(e,t){return e.id-t.id}),Lt=0;Lt<Mt.length;Lt++)t=(e=Mt[Lt]).id,Ct[t]=null,e.run();var n=xt.slice(),i=Mt.slice();Lt=Mt.length=xt.length=0,Ct={},St=Tt=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,wt(e[t],!0)}(n),function(e){var t=e.length;for(;t--;){var n=e[t],i=n.vm;i._watcher===n&&i._isMounted&&kt(i,"updated")}}(i),ne&&H.devtools&&ne.emit("flush")}var Dt=0,Ot=function(e,t,n,i,r){this.vm=e,r&&(e._watcher=this),e._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Dt,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new re,this.newDepIds=new re,this.expression="","function"==typeof t?this.getter=t:(this.getter=function(e){if(!$.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}(t),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};Ot.prototype.get=function(){var e;ue(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;$e(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&tt(e),de(),this.cleanupDeps()}return e},Ot.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},Ot.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},Ot.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==Ct[t]){if(Ct[t]=!0,Tt){for(var n=Mt.length-1;n>Lt&&Mt[n].id>e.id;)n--;Mt.splice(n+1,0,e)}else Mt.push(e);St||(St=!0,Ze(Et))}}(this)},Ot.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||s(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){$e(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},Ot.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Ot.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},Ot.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||g(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var At={enumerable:!0,configurable:!0,get:E,set:E};function Yt(e,t,n){At.get=function(){return this[t][n]},At.set=function(e){this[t][n]=e},Object.defineProperty(e,n,At)}function Rt(e){e._watchers=[];var t=e.$options;t.props&&function(e,t){var n=e.$options.propsData||{},i=e._props={},r=e.$options._propKeys=[];e.$parent&&we(!1);var o=function(o){r.push(o);var a=Ne(o,t,n,e);Se(i,o,a),o in e||Yt(e,"_props",o)};for(var a in t)o(a);we(!0)}(e,t.props),t.methods&&function(e,t){e.$options.props;for(var n in t)e[n]=null==t[n]?E:C(t[n],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;c(t=e._data="function"==typeof t?function(e,t){ue();try{return e.call(t,t)}catch(e){return $e(e,t,"data()"),{}}finally{de()}}(t,e):t||{})||(t={});var n=Object.keys(t),i=e.$options.props,r=(e.$options.methods,n.length);for(;r--;){var o=n[r];0,i&&v(i,o)||I(o)||Yt(e,"_data",o)}Ce(t,!0)}(e):Ce(e._data={},!0),t.computed&&function(e,t){var n=e._computedWatchers=Object.create(null),i=te();for(var r in t){var o=t[r],a="function"==typeof o?o:o.get;0,i||(n[r]=new Ot(e,a||E,E,jt)),r in e||Pt(e,r,o)}}(e,t.computed),t.watch&&t.watch!==Q&&function(e,t){for(var n in t){var i=t[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)Ht(e,n,i[r]);else Ht(e,n,i)}}(e,t.watch)}var jt={lazy:!0};function Pt(e,t,n){var i=!te();"function"==typeof n?(At.get=i?Nt(t):n,At.set=E):(At.get=n.get?i&&!1!==n.cache?Nt(t):n.get:E,At.set=n.set?n.set:E),Object.defineProperty(e,t,At)}function Nt(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),le.target&&t.depend(),t.value}}function Ht(e,t,n,i){return c(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,i)}function It(e,t){if(e){for(var n=Object.create(null),i=oe?Reflect.ownKeys(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}):Object.keys(e),r=0;r<i.length;r++){for(var o=i[r],a=e[o].from,s=t;s;){if(s._provided&&v(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in e[o]){var l=e[o].default;n[o]="function"==typeof l?l.call(t):l}else 0}return n}}function Ft(e,t){var n,i,o,a,l;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),i=0,o=e.length;i<o;i++)n[i]=t(e[i],i);else if("number"==typeof e)for(n=new Array(e),i=0;i<e;i++)n[i]=t(i+1,i);else if(s(e))for(a=Object.keys(e),n=new Array(a.length),i=0,o=a.length;i<o;i++)l=a[i],n[i]=t(e[l],l,i);return r(n)&&(n._isVList=!0),n}function $t(e,t,n,i){var r,o=this.$scopedSlots[e];if(o)n=n||{},i&&(n=T(T({},i),n)),r=o(n)||t;else{var a=this.$slots[e];a&&(a._rendered=!0),r=a||t}var s=n&&n.slot;return s?this.$createElement("template",{slot:s},r):r}function Wt(e){return Pe(this.$options,"filters",e)||O}function zt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function Bt(e,t,n,i,r){var o=H.keyCodes[t]||n;return r&&i&&!H.keyCodes[t]?zt(r,i):o?zt(o,e):i?x(i)!==t:void 0}function Vt(e,t,n,i,r){if(n)if(s(n)){var o;Array.isArray(n)&&(n=L(n));var a=function(a){if("class"===a||"style"===a||m(a))o=e;else{var s=e.attrs&&e.attrs.type;o=i||H.mustUseProp(t,s,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}a in o||(o[a]=n[a],r&&((e.on||(e.on={}))["update:"+a]=function(e){n[a]=e}))};for(var l in n)a(l)}else;return e}function Ut(e,t){var n=this._staticTrees||(this._staticTrees=[]),i=n[e];return i&&!t?i:(Gt(i=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),i)}function qt(e,t,n){return Gt(e,"__once__"+t+(n?"_"+n:""),!0),e}function Gt(e,t,n){if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]&&"string"!=typeof e[i]&&Jt(e[i],t+"_"+i,n);else Jt(e,t,n)}function Jt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function Kt(e,t){if(t)if(c(t)){var n=e.on=e.on?T({},e.on):{};for(var i in t){var r=n[i],o=t[i];n[i]=r?[].concat(r,o):o}}else;return e}function Xt(e){e._o=qt,e._n=f,e._s=h,e._l=Ft,e._t=$t,e._q=A,e._i=Y,e._m=Ut,e._f=Wt,e._k=Bt,e._b=Vt,e._v=me,e._e=pe,e._u=vt,e._g=Kt}function Qt(e,t,i,r,a){var s,l=a.options;v(r,"_uid")?(s=Object.create(r))._original=r:(s=r,r=r._original);var c=o(l._compiled),u=!c;this.data=e,this.props=t,this.children=i,this.parent=r,this.listeners=e.on||n,this.injections=It(l.inject,r),this.slots=function(){return gt(i,r)},c&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=e.scopedSlots||n),l._scopeId?this._c=function(e,t,n,i){var o=sn(s,e,t,n,i,u);return o&&!Array.isArray(o)&&(o.fnScopeId=l._scopeId,o.fnContext=r),o}:this._c=function(e,t,n,i){return sn(s,e,t,n,i,u)}}function Zt(e,t,n,i){var r=ge(e);return r.fnContext=n,r.fnOptions=i,t.slot&&((r.data||(r.data={})).slot=t.slot),r}function en(e,t){for(var n in t)e[w(n)]=t[n]}Xt(Qt.prototype);var tn={init:function(e,t,n,i){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var o=e;tn.prepatch(o,o)}else{(e.componentInstance=function(e,t,n,i){var o={_isComponent:!0,parent:t,_parentVnode:e,_parentElm:n||null,_refElm:i||null},a=e.data.inlineTemplate;r(a)&&(o.render=a.render,o.staticRenderFns=a.staticRenderFns);return new e.componentOptions.Ctor(o)}(e,yt,n,i)).$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var i=t.componentOptions;!function(e,t,i,r,o){var a=!!(o||e.$options._renderChildren||r.data.scopedSlots||e.$scopedSlots!==n);if(e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=o,e.$attrs=r.data.attrs||n,e.$listeners=i||n,t&&e.$options.props){we(!1);for(var s=e._props,l=e.$options._propKeys||[],c=0;c<l.length;c++){var u=l[c],d=e.$options.props;s[u]=Ne(u,d,t,e)}we(!0),e.$options.propsData=t}i=i||n;var h=e.$options._parentListeners;e.$options._parentListeners=i,mt(e,i,h),a&&(e.$slots=gt(o,r.context),e.$forceUpdate())}(t.componentInstance=e.componentInstance,i.propsData,i.listeners,t,i.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,kt(n,"mounted")),e.data.keepAlive&&(t._isMounted?function(e){e._inactive=!1,xt.push(e)}(n):wt(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?function e(t,n){if(!(n&&(t._directInactive=!0,bt(t))||t._inactive)){t._inactive=!0;for(var i=0;i<t.$children.length;i++)e(t.$children[i]);kt(t,"deactivated")}}(t,!0):t.$destroy())}},nn=Object.keys(tn);function rn(e,t,a,l,c){if(!i(e)){var u=a.$options._base;if(s(e)&&(e=u.extend(e)),"function"==typeof e){var d;if(i(e.cid)&&void 0===(e=function(e,t,n){if(o(e.error)&&r(e.errorComp))return e.errorComp;if(r(e.resolved))return e.resolved;if(o(e.loading)&&r(e.loadingComp))return e.loadingComp;if(!r(e.contexts)){var a=e.contexts=[n],l=!0,c=function(){for(var e=0,t=a.length;e<t;e++)a[e].$forceUpdate()},u=R(function(n){e.resolved=ut(n,t),l||c()}),d=R(function(t){r(e.errorComp)&&(e.error=!0,c())}),h=e(u,d);return s(h)&&("function"==typeof h.then?i(e.resolved)&&h.then(u,d):r(h.component)&&"function"==typeof h.component.then&&(h.component.then(u,d),r(h.error)&&(e.errorComp=ut(h.error,t)),r(h.loading)&&(e.loadingComp=ut(h.loading,t),0===h.delay?e.loading=!0:setTimeout(function(){i(e.resolved)&&i(e.error)&&(e.loading=!0,c())},h.delay||200)),r(h.timeout)&&setTimeout(function(){i(e.resolved)&&d(null)},h.timeout))),l=!1,e.loading?e.loadingComp:e.resolved}e.contexts.push(n)}(d=e,u,a)))return function(e,t,n,i,r){var o=pe();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:i,tag:r},o}(d,t,a,l,c);t=t||{},cn(e),r(t.model)&&function(e,t){var n=e.model&&e.model.prop||"value",i=e.model&&e.model.event||"input";(t.props||(t.props={}))[n]=t.model.value;var o=t.on||(t.on={});r(o[i])?o[i]=[t.model.callback].concat(o[i]):o[i]=t.model.callback}(e.options,t);var h=function(e,t,n){var o=t.options.props;if(!i(o)){var a={},s=e.attrs,l=e.props;if(r(s)||r(l))for(var c in o){var u=x(c);st(a,l,c,u,!0)||st(a,s,c,u,!1)}return a}}(t,e);if(o(e.options.functional))return function(e,t,i,o,a){var s=e.options,l={},c=s.props;if(r(c))for(var u in c)l[u]=Ne(u,c,t||n);else r(i.attrs)&&en(l,i.attrs),r(i.props)&&en(l,i.props);var d=new Qt(i,l,a,o,e),h=s.render.call(null,d._c,d);if(h instanceof he)return Zt(h,i,d.parent,s);if(Array.isArray(h)){for(var f=lt(h)||[],p=new Array(f.length),m=0;m<f.length;m++)p[m]=Zt(f[m],i,d.parent,s);return p}}(e,h,t,a,l);var f=t.on;if(t.on=t.nativeOn,o(e.options.abstract)){var p=t.slot;t={},p&&(t.slot=p)}!function(e){for(var t=e.hook||(e.hook={}),n=0;n<nn.length;n++){var i=nn[n];t[i]=tn[i]}}(t);var m=e.options.name||c;return new he("vue-component-"+e.cid+(m?"-"+m:""),t,void 0,void 0,void 0,a,{Ctor:e,propsData:h,listeners:f,tag:c,children:l},d)}}}var on=1,an=2;function sn(e,t,n,l,c,u){return(Array.isArray(n)||a(n))&&(c=l,l=n,n=void 0),o(u)&&(c=an),function(e,t,n,a,l){if(r(n)&&r(n.__ob__))return pe();r(n)&&r(n.is)&&(t=n.is);if(!t)return pe();0;Array.isArray(a)&&"function"==typeof a[0]&&((n=n||{}).scopedSlots={default:a[0]},a.length=0);l===an?a=lt(a):l===on&&(a=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(a));var c,u;if("string"==typeof t){var d;u=e.$vnode&&e.$vnode.ns||H.getTagNamespace(t),c=H.isReservedTag(t)?new he(H.parsePlatformTagName(t),n,a,void 0,void 0,e):r(d=Pe(e.$options,"components",t))?rn(d,n,e,a,t):new he(t,n,a,void 0,void 0,e)}else c=rn(t,n,e,a);return Array.isArray(c)?c:r(c)?(r(u)&&function e(t,n,a){t.ns=n;"foreignObject"===t.tag&&(n=void 0,a=!0);if(r(t.children))for(var s=0,l=t.children.length;s<l;s++){var c=t.children[s];r(c.tag)&&(i(c.ns)||o(a)&&"svg"!==c.tag)&&e(c,n,a)}}(c,u),r(n)&&function(e){s(e.style)&&tt(e.style);s(e.class)&&tt(e.class)}(n),c):pe()}(e,t,n,l,c)}var ln=0;function cn(e){var t=e.options;if(e.super){var n=cn(e.super);if(n!==e.superOptions){e.superOptions=n;var i=function(e){var t,n=e.options,i=e.extendOptions,r=e.sealedOptions;for(var o in n)n[o]!==r[o]&&(t||(t={}),t[o]=un(n[o],i[o],r[o]));return t}(e);i&&T(e.extendOptions,i),(t=e.options=je(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function un(e,t,n){if(Array.isArray(e)){var i=[];n=Array.isArray(n)?n:[n],t=Array.isArray(t)?t:[t];for(var r=0;r<e.length;r++)(t.indexOf(e[r])>=0||n.indexOf(e[r])<0)&&i.push(e[r]);return i}return e}function dn(e){this._init(e)}function hn(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,i=n.cid,r=e._Ctor||(e._Ctor={});if(r[i])return r[i];var o=e.name||n.options.name;var a=function(e){this._init(e)};return(a.prototype=Object.create(n.prototype)).constructor=a,a.cid=t++,a.options=je(n.options,e),a.super=n,a.options.props&&function(e){var t=e.options.props;for(var n in t)Yt(e.prototype,"_props",n)}(a),a.options.computed&&function(e){var t=e.options.computed;for(var n in t)Pt(e.prototype,n,t[n])}(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,P.forEach(function(e){a[e]=n[e]}),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=e,a.sealedOptions=T({},a.options),r[i]=a,a}}function fn(e){return e&&(e.Ctor.options.name||e.tag)}function pn(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:!!u(e)&&e.test(t)}function mn(e,t){var n=e.cache,i=e.keys,r=e._vnode;for(var o in n){var a=n[o];if(a){var s=fn(a.componentOptions);s&&!t(s)&&gn(n,o,i,r)}}}function gn(e,t,n,i){var r=e[t];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),e[t]=null,g(n,t)}!function(e){e.prototype._init=function(e){var t=this;t._uid=ln++,t._isVue=!0,e&&e._isComponent?function(e,t){var n=e.$options=Object.create(e.constructor.options),i=t._parentVnode;n.parent=t.parent,n._parentVnode=i,n._parentElm=t._parentElm,n._refElm=t._refElm;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}(t,e):t.$options=je(cn(t.constructor),e||{},t),t._renderProxy=t,t._self=t,function(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(t),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&mt(e,t)}(t),function(e){e._vnode=null,e._staticTrees=null;var t=e.$options,i=e.$vnode=t._parentVnode,r=i&&i.context;e.$slots=gt(t._renderChildren,r),e.$scopedSlots=n,e._c=function(t,n,i,r){return sn(e,t,n,i,r,!1)},e.$createElement=function(t,n,i,r){return sn(e,t,n,i,r,!0)};var o=i&&i.data;Se(e,"$attrs",o&&o.attrs||n,null,!0),Se(e,"$listeners",t._parentListeners||n,null,!0)}(t),kt(t,"beforeCreate"),function(e){var t=It(e.$options.inject,e);t&&(we(!1),Object.keys(t).forEach(function(n){Se(e,n,t[n])}),we(!0))}(t),Rt(t),function(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}(t),kt(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(dn),function(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=Te,e.prototype.$delete=Le,e.prototype.$watch=function(e,t,n){if(c(t))return Ht(this,e,t,n);(n=n||{}).user=!0;var i=new Ot(this,e,t,n);return n.immediate&&t.call(this,i.value),function(){i.teardown()}}}(dn),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){if(Array.isArray(e))for(var i=0,r=e.length;i<r;i++)this.$on(e[i],n);else(this._events[e]||(this._events[e]=[])).push(n),t.test(e)&&(this._hasHookEvent=!0);return this},e.prototype.$once=function(e,t){var n=this;function i(){n.$off(e,i),t.apply(n,arguments)}return i.fn=t,n.$on(e,i),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var i=0,r=e.length;i<r;i++)this.$off(e[i],t);return n}var o=n._events[e];if(!o)return n;if(!t)return n._events[e]=null,n;if(t)for(var a,s=o.length;s--;)if((a=o[s])===t||a.fn===t){o.splice(s,1);break}return n},e.prototype.$emit=function(e){var t=this._events[e];if(t){t=t.length>1?S(t):t;for(var n=S(arguments,1),i=0,r=t.length;i<r;i++)try{t[i].apply(this,n)}catch(t){$e(t,this,'event handler for "'+e+'"')}}return this}}(dn),function(e){e.prototype._update=function(e,t){var n=this;n._isMounted&&kt(n,"beforeUpdate");var i=n.$el,r=n._vnode,o=yt;yt=n,n._vnode=e,r?n.$el=n.__patch__(r,e):(n.$el=n.__patch__(n.$el,e,t,!1,n.$options._parentElm,n.$options._refElm),n.$options._parentElm=n.$options._refElm=null),yt=o,i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){kt(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||g(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),kt(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(dn),function(e){Xt(e.prototype),e.prototype.$nextTick=function(e){return Ze(e,this)},e.prototype._render=function(){var e,t=this,i=t.$options,r=i.render,o=i._parentVnode;o&&(t.$scopedSlots=o.data.scopedSlots||n),t.$vnode=o;try{e=r.call(t._renderProxy,t.$createElement)}catch(n){$e(n,t,"render"),e=t._vnode}return e instanceof he||(e=pe()),e.parent=o,e}}(dn);var _n=[String,RegExp,Array],vn={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:_n,exclude:_n,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)gn(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",function(t){mn(e,function(e){return pn(t,e)})}),this.$watch("exclude",function(t){mn(e,function(e){return!pn(t,e)})})},render:function(){var e=this.$slots.default,t=ht(e),n=t&&t.componentOptions;if(n){var i=fn(n),r=this.include,o=this.exclude;if(r&&(!i||!pn(r,i))||o&&i&&pn(o,i))return t;var a=this.cache,s=this.keys,l=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;a[l]?(t.componentInstance=a[l].componentInstance,g(s,l),s.push(l)):(a[l]=t,s.push(l),this.max&&s.length>parseInt(this.max)&&gn(a,s[0],s,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}}};!function(e){var t={get:function(){return H}};Object.defineProperty(e,"config",t),e.util={warn:ae,extend:T,mergeOptions:je,defineReactive:Se},e.set=Te,e.delete=Le,e.nextTick=Ze,e.options=Object.create(null),P.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,T(e.options.components,vn),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=S(arguments,1);return n.unshift(this),"function"==typeof e.install?e.install.apply(e,n):"function"==typeof e&&e.apply(null,n),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=je(this.options,e),this}}(e),hn(e),function(e){P.forEach(function(t){e[t]=function(e,n){return n?("component"===t&&c(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}})}(e)}(dn),Object.defineProperty(dn.prototype,"$isServer",{get:te}),Object.defineProperty(dn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(dn,"FunctionalRenderContext",{value:Qt}),dn.version="2.5.17";var yn=p("style,class"),bn=p("input,textarea,option,select,progress"),wn=p("contenteditable,draggable,spellcheck"),kn=p("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Mn="http://www.w3.org/1999/xlink",xn=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Cn=function(e){return xn(e)?e.slice(6,e.length):""},Sn=function(e){return null==e||!1===e};function Tn(e){for(var t=e.data,n=e,i=e;r(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(t=Ln(i.data,t));for(;r(n=n.parent);)n&&n.data&&(t=Ln(t,n.data));return function(e,t){if(r(e)||r(t))return En(e,Dn(t));return""}(t.staticClass,t.class)}function Ln(e,t){return{staticClass:En(e.staticClass,t.staticClass),class:r(e.class)?[e.class,t.class]:t.class}}function En(e,t){return e?t?e+" "+t:e:t||""}function Dn(e){return Array.isArray(e)?function(e){for(var t,n="",i=0,o=e.length;i<o;i++)r(t=Dn(e[i]))&&""!==t&&(n&&(n+=" "),n+=t);return n}(e):s(e)?function(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}(e):"string"==typeof e?e:""}var On={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},An=p("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Yn=p("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Rn=function(e){return An(e)||Yn(e)};var jn=Object.create(null);var Pn=p("text,number,password,search,email,tel,url");var Nn=Object.freeze({createElement:function(e,t){var n=document.createElement(e);return"select"!==e?n:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)},createElementNS:function(e,t){return document.createElementNS(On[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),Hn={create:function(e,t){In(t)},update:function(e,t){e.data.ref!==t.data.ref&&(In(e,!0),In(t))},destroy:function(e){In(e,!0)}};function In(e,t){var n=e.data.ref;if(r(n)){var i=e.context,o=e.componentInstance||e.elm,a=i.$refs;t?Array.isArray(a[n])?g(a[n],o):a[n]===o&&(a[n]=void 0):e.data.refInFor?Array.isArray(a[n])?a[n].indexOf(o)<0&&a[n].push(o):a[n]=[o]:a[n]=o}}var Fn=new he("",{},[]),$n=["create","activate","update","remove","destroy"];function Wn(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&r(e.data)===r(t.data)&&function(e,t){if("input"!==e.tag)return!0;var n,i=r(n=e.data)&&r(n=n.attrs)&&n.type,o=r(n=t.data)&&r(n=n.attrs)&&n.type;return i===o||Pn(i)&&Pn(o)}(e,t)||o(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&i(t.asyncFactory.error))}function zn(e,t,n){var i,o,a={};for(i=t;i<=n;++i)r(o=e[i].key)&&(a[o]=i);return a}var Bn={create:Vn,update:Vn,destroy:function(e){Vn(e,Fn)}};function Vn(e,t){(e.data.directives||t.data.directives)&&function(e,t){var n,i,r,o=e===Fn,a=t===Fn,s=qn(e.data.directives,e.context),l=qn(t.data.directives,t.context),c=[],u=[];for(n in l)i=s[n],r=l[n],i?(r.oldValue=i.value,Jn(r,"update",t,e),r.def&&r.def.componentUpdated&&u.push(r)):(Jn(r,"bind",t,e),r.def&&r.def.inserted&&c.push(r));if(c.length){var d=function(){for(var n=0;n<c.length;n++)Jn(c[n],"inserted",t,e)};o?at(t,"insert",d):d()}u.length&&at(t,"postpatch",function(){for(var n=0;n<u.length;n++)Jn(u[n],"componentUpdated",t,e)});if(!o)for(n in s)l[n]||Jn(s[n],"unbind",e,e,a)}(e,t)}var Un=Object.create(null);function qn(e,t){var n,i,r=Object.create(null);if(!e)return r;for(n=0;n<e.length;n++)(i=e[n]).modifiers||(i.modifiers=Un),r[Gn(i)]=i,i.def=Pe(t.$options,"directives",i.name);return r}function Gn(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function Jn(e,t,n,i,r){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,i,r)}catch(i){$e(i,n.context,"directive "+e.name+" "+t+" hook")}}var Kn=[Hn,Bn];function Xn(e,t){var n=t.componentOptions;if(!(r(n)&&!1===n.Ctor.options.inheritAttrs||i(e.data.attrs)&&i(t.data.attrs))){var o,a,s=t.elm,l=e.data.attrs||{},c=t.data.attrs||{};for(o in r(c.__ob__)&&(c=t.data.attrs=T({},c)),c)a=c[o],l[o]!==a&&Qn(s,o,a);for(o in(G||K)&&c.value!==l.value&&Qn(s,"value",c.value),l)i(c[o])&&(xn(o)?s.removeAttributeNS(Mn,Cn(o)):wn(o)||s.removeAttribute(o))}}function Qn(e,t,n){e.tagName.indexOf("-")>-1?Zn(e,t,n):kn(t)?Sn(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):wn(t)?e.setAttribute(t,Sn(n)||"false"===n?"false":"true"):xn(t)?Sn(n)?e.removeAttributeNS(Mn,Cn(t)):e.setAttributeNS(Mn,t,n):Zn(e,t,n)}function Zn(e,t,n){if(Sn(n))e.removeAttribute(t);else{if(G&&!J&&"TEXTAREA"===e.tagName&&"placeholder"===t&&!e.__ieph){var i=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",i)};e.addEventListener("input",i),e.__ieph=!0}e.setAttribute(t,n)}}var ei={create:Xn,update:Xn};function ti(e,t){var n=t.elm,o=t.data,a=e.data;if(!(i(o.staticClass)&&i(o.class)&&(i(a)||i(a.staticClass)&&i(a.class)))){var s=Tn(t),l=n._transitionClasses;r(l)&&(s=En(s,Dn(l))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var ni,ii={create:ti,update:ti},ri="__r",oi="__c";function ai(e,t,n,i,r){t=function(e){return e._withTask||(e._withTask=function(){Je=!0;var t=e.apply(null,arguments);return Je=!1,t})}(t),n&&(t=function(e,t,n){var i=ni;return function r(){null!==e.apply(null,arguments)&&si(t,r,n,i)}}(t,e,i)),ni.addEventListener(e,t,Z?{capture:i,passive:r}:i)}function si(e,t,n,i){(i||ni).removeEventListener(e,t._withTask||t,n)}function li(e,t){if(!i(e.data.on)||!i(t.data.on)){var n=t.data.on||{},o=e.data.on||{};ni=t.elm,function(e){if(r(e[ri])){var t=G?"change":"input";e[t]=[].concat(e[ri],e[t]||[]),delete e[ri]}r(e[oi])&&(e.change=[].concat(e[oi],e.change||[]),delete e[oi])}(n),ot(n,o,ai,si,t.context),ni=void 0}}var ci={create:li,update:li};function ui(e,t){if(!i(e.data.domProps)||!i(t.data.domProps)){var n,o,a=t.elm,s=e.data.domProps||{},l=t.data.domProps||{};for(n in r(l.__ob__)&&(l=t.data.domProps=T({},l)),s)i(l[n])&&(a[n]="");for(n in l){if(o=l[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),o===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n){a._value=o;var c=i(o)?"":String(o);di(a,c)&&(a.value=c)}else a[n]=o}}}function di(e,t){return!e.composing&&("OPTION"===e.tagName||function(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}(e,t)||function(e,t){var n=e.value,i=e._vModifiers;if(r(i)){if(i.lazy)return!1;if(i.number)return f(n)!==f(t);if(i.trim)return n.trim()!==t.trim()}return n!==t}(e,t))}var hi={create:ui,update:ui},fi=y(function(e){var t={},n=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach(function(e){if(e){var i=e.split(n);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t});function pi(e){var t=mi(e.style);return e.staticStyle?T(e.staticStyle,t):t}function mi(e){return Array.isArray(e)?L(e):"string"==typeof e?fi(e):e}var gi,_i=/^--/,vi=/\s*!important$/,yi=function(e,t,n){if(_i.test(t))e.style.setProperty(t,n);else if(vi.test(n))e.style.setProperty(t,n.replace(vi,""),"important");else{var i=wi(t);if(Array.isArray(n))for(var r=0,o=n.length;r<o;r++)e.style[i]=n[r];else e.style[i]=n}},bi=["Webkit","Moz","ms"],wi=y(function(e){if(gi=gi||document.createElement("div").style,"filter"!==(e=w(e))&&e in gi)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<bi.length;n++){var i=bi[n]+t;if(i in gi)return i}});function ki(e,t){var n=t.data,o=e.data;if(!(i(n.staticStyle)&&i(n.style)&&i(o.staticStyle)&&i(o.style))){var a,s,l=t.elm,c=o.staticStyle,u=o.normalizedStyle||o.style||{},d=c||u,h=mi(t.data.style)||{};t.data.normalizedStyle=r(h.__ob__)?T({},h):h;var f=function(e,t){var n,i={};if(t)for(var r=e;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(n=pi(r.data))&&T(i,n);(n=pi(e.data))&&T(i,n);for(var o=e;o=o.parent;)o.data&&(n=pi(o.data))&&T(i,n);return i}(t,!0);for(s in d)i(f[s])&&yi(l,s,"");for(s in f)(a=f[s])!==d[s]&&yi(l,s,null==a?"":a)}}var Mi={create:ki,update:ki};function xi(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Ci(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",i=" "+t+" ";n.indexOf(i)>=0;)n=n.replace(i," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function Si(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&T(t,Ti(e.name||"v")),T(t,e),t}return"string"==typeof e?Ti(e):void 0}}var Ti=y(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),Li=B&&!J,Ei="transition",Di="animation",Oi="transition",Ai="transitionend",Yi="animation",Ri="animationend";Li&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Oi="WebkitTransition",Ai="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Yi="WebkitAnimation",Ri="webkitAnimationEnd"));var ji=B?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function Pi(e){ji(function(){ji(e)})}function Ni(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),xi(e,t))}function Hi(e,t){e._transitionClasses&&g(e._transitionClasses,t),Ci(e,t)}function Ii(e,t,n){var i=$i(e,t),r=i.type,o=i.timeout,a=i.propCount;if(!r)return n();var s=r===Ei?Ai:Ri,l=0,c=function(){e.removeEventListener(s,u),n()},u=function(t){t.target===e&&++l>=a&&c()};setTimeout(function(){l<a&&c()},o+1),e.addEventListener(s,u)}var Fi=/\b(transform|all)(,|$)/;function $i(e,t){var n,i=window.getComputedStyle(e),r=i[Oi+"Delay"].split(", "),o=i[Oi+"Duration"].split(", "),a=Wi(r,o),s=i[Yi+"Delay"].split(", "),l=i[Yi+"Duration"].split(", "),c=Wi(s,l),u=0,d=0;return t===Ei?a>0&&(n=Ei,u=a,d=o.length):t===Di?c>0&&(n=Di,u=c,d=l.length):d=(n=(u=Math.max(a,c))>0?a>c?Ei:Di:null)?n===Ei?o.length:l.length:0,{type:n,timeout:u,propCount:d,hasTransform:n===Ei&&Fi.test(i[Oi+"Property"])}}function Wi(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,n){return zi(t)+zi(e[n])}))}function zi(e){return 1e3*Number(e.slice(0,-1))}function Bi(e,t){var n=e.elm;r(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=Si(e.data.transition);if(!i(o)&&!r(n._enterCb)&&1===n.nodeType){for(var a=o.css,l=o.type,c=o.enterClass,u=o.enterToClass,d=o.enterActiveClass,h=o.appearClass,p=o.appearToClass,m=o.appearActiveClass,g=o.beforeEnter,_=o.enter,v=o.afterEnter,y=o.enterCancelled,b=o.beforeAppear,w=o.appear,k=o.afterAppear,M=o.appearCancelled,x=o.duration,C=yt,S=yt.$vnode;S&&S.parent;)C=(S=S.parent).context;var T=!C._isMounted||!e.isRootInsert;if(!T||w||""===w){var L=T&&h?h:c,E=T&&m?m:d,D=T&&p?p:u,O=T&&b||g,A=T&&"function"==typeof w?w:_,Y=T&&k||v,j=T&&M||y,P=f(s(x)?x.enter:x);0;var N=!1!==a&&!J,H=qi(A),I=n._enterCb=R(function(){N&&(Hi(n,D),Hi(n,E)),I.cancelled?(N&&Hi(n,L),j&&j(n)):Y&&Y(n),n._enterCb=null});e.data.show||at(e,"insert",function(){var t=n.parentNode,i=t&&t._pending&&t._pending[e.key];i&&i.tag===e.tag&&i.elm._leaveCb&&i.elm._leaveCb(),A&&A(n,I)}),O&&O(n),N&&(Ni(n,L),Ni(n,E),Pi(function(){Hi(n,L),I.cancelled||(Ni(n,D),H||(Ui(P)?setTimeout(I,P):Ii(n,l,I)))})),e.data.show&&(t&&t(),A&&A(n,I)),N||H||I()}}}function Vi(e,t){var n=e.elm;r(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=Si(e.data.transition);if(i(o)||1!==n.nodeType)return t();if(!r(n._leaveCb)){var a=o.css,l=o.type,c=o.leaveClass,u=o.leaveToClass,d=o.leaveActiveClass,h=o.beforeLeave,p=o.leave,m=o.afterLeave,g=o.leaveCancelled,_=o.delayLeave,v=o.duration,y=!1!==a&&!J,b=qi(p),w=f(s(v)?v.leave:v);0;var k=n._leaveCb=R(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),y&&(Hi(n,u),Hi(n,d)),k.cancelled?(y&&Hi(n,c),g&&g(n)):(t(),m&&m(n)),n._leaveCb=null});_?_(M):M()}function M(){k.cancelled||(e.data.show||((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),h&&h(n),y&&(Ni(n,c),Ni(n,d),Pi(function(){Hi(n,c),k.cancelled||(Ni(n,u),b||(Ui(w)?setTimeout(k,w):Ii(n,l,k)))})),p&&p(n,k),y||b||k())}}function Ui(e){return"number"==typeof e&&!isNaN(e)}function qi(e){if(i(e))return!1;var t=e.fns;return r(t)?qi(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Gi(e,t){!0!==t.data.show&&Bi(t)}var Ji=function(e){var t,n,s={},l=e.modules,c=e.nodeOps;for(t=0;t<$n.length;++t)for(s[$n[t]]=[],n=0;n<l.length;++n)r(l[n][$n[t]])&&s[$n[t]].push(l[n][$n[t]]);function u(e){var t=c.parentNode(e);r(t)&&c.removeChild(t,e)}function d(e,t,n,i,a,l,u){if(r(e.elm)&&r(l)&&(e=l[u]=ge(e)),e.isRootInsert=!a,!function(e,t,n,i){var a=e.data;if(r(a)){var l=r(e.componentInstance)&&a.keepAlive;if(r(a=a.hook)&&r(a=a.init)&&a(e,!1,n,i),r(e.componentInstance))return h(e,t),o(l)&&function(e,t,n,i){for(var o,a=e;a.componentInstance;)if(a=a.componentInstance._vnode,r(o=a.data)&&r(o=o.transition)){for(o=0;o<s.activate.length;++o)s.activate[o](Fn,a);t.push(a);break}f(n,e.elm,i)}(e,t,n,i),!0}}(e,t,n,i)){var d=e.data,p=e.children,g=e.tag;r(g)?(e.elm=e.ns?c.createElementNS(e.ns,g):c.createElement(g,e),v(e),m(e,p,t),r(d)&&_(e,t),f(n,e.elm,i)):o(e.isComment)?(e.elm=c.createComment(e.text),f(n,e.elm,i)):(e.elm=c.createTextNode(e.text),f(n,e.elm,i))}}function h(e,t){r(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,g(e)?(_(e,t),v(e)):(In(e),t.push(e))}function f(e,t,n){r(e)&&(r(n)?n.parentNode===e&&c.insertBefore(e,t,n):c.appendChild(e,t))}function m(e,t,n){if(Array.isArray(t))for(var i=0;i<t.length;++i)d(t[i],n,e.elm,null,!0,t,i);else a(e.text)&&c.appendChild(e.elm,c.createTextNode(String(e.text)))}function g(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return r(e.tag)}function _(e,n){for(var i=0;i<s.create.length;++i)s.create[i](Fn,e);r(t=e.data.hook)&&(r(t.create)&&t.create(Fn,e),r(t.insert)&&n.push(e))}function v(e){var t;if(r(t=e.fnScopeId))c.setStyleScope(e.elm,t);else for(var n=e;n;)r(t=n.context)&&r(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t),n=n.parent;r(t=yt)&&t!==e.context&&t!==e.fnContext&&r(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t)}function y(e,t,n,i,r,o){for(;i<=r;++i)d(n[i],o,e,t,!1,n,i)}function b(e){var t,n,i=e.data;if(r(i))for(r(t=i.hook)&&r(t=t.destroy)&&t(e),t=0;t<s.destroy.length;++t)s.destroy[t](e);if(r(t=e.children))for(n=0;n<e.children.length;++n)b(e.children[n])}function w(e,t,n,i){for(;n<=i;++n){var o=t[n];r(o)&&(r(o.tag)?(k(o),b(o)):u(o.elm))}}function k(e,t){if(r(t)||r(e.data)){var n,i=s.remove.length+1;for(r(t)?t.listeners+=i:t=function(e,t){function n(){0==--n.listeners&&u(e)}return n.listeners=t,n}(e.elm,i),r(n=e.componentInstance)&&r(n=n._vnode)&&r(n.data)&&k(n,t),n=0;n<s.remove.length;++n)s.remove[n](e,t);r(n=e.data.hook)&&r(n=n.remove)?n(e,t):t()}else u(e.elm)}function M(e,t,n,i){for(var o=n;o<i;o++){var a=t[o];if(r(a)&&Wn(e,a))return o}}function x(e,t,n,a){if(e!==t){var l=t.elm=e.elm;if(o(e.isAsyncPlaceholder))r(t.asyncFactory.resolved)?T(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(o(t.isStatic)&&o(e.isStatic)&&t.key===e.key&&(o(t.isCloned)||o(t.isOnce)))t.componentInstance=e.componentInstance;else{var u,h=t.data;r(h)&&r(u=h.hook)&&r(u=u.prepatch)&&u(e,t);var f=e.children,p=t.children;if(r(h)&&g(t)){for(u=0;u<s.update.length;++u)s.update[u](e,t);r(u=h.hook)&&r(u=u.update)&&u(e,t)}i(t.text)?r(f)&&r(p)?f!==p&&function(e,t,n,o,a){for(var s,l,u,h=0,f=0,p=t.length-1,m=t[0],g=t[p],_=n.length-1,v=n[0],b=n[_],k=!a;h<=p&&f<=_;)i(m)?m=t[++h]:i(g)?g=t[--p]:Wn(m,v)?(x(m,v,o),m=t[++h],v=n[++f]):Wn(g,b)?(x(g,b,o),g=t[--p],b=n[--_]):Wn(m,b)?(x(m,b,o),k&&c.insertBefore(e,m.elm,c.nextSibling(g.elm)),m=t[++h],b=n[--_]):Wn(g,v)?(x(g,v,o),k&&c.insertBefore(e,g.elm,m.elm),g=t[--p],v=n[++f]):(i(s)&&(s=zn(t,h,p)),i(l=r(v.key)?s[v.key]:M(v,t,h,p))?d(v,o,e,m.elm,!1,n,f):Wn(u=t[l],v)?(x(u,v,o),t[l]=void 0,k&&c.insertBefore(e,u.elm,m.elm)):d(v,o,e,m.elm,!1,n,f),v=n[++f]);h>p?y(e,i(n[_+1])?null:n[_+1].elm,n,f,_,o):f>_&&w(0,t,h,p)}(l,f,p,n,a):r(p)?(r(e.text)&&c.setTextContent(l,""),y(l,null,p,0,p.length-1,n)):r(f)?w(0,f,0,f.length-1):r(e.text)&&c.setTextContent(l,""):e.text!==t.text&&c.setTextContent(l,t.text),r(h)&&r(u=h.hook)&&r(u=u.postpatch)&&u(e,t)}}}function C(e,t,n){if(o(n)&&r(e.parent))e.parent.data.pendingInsert=t;else for(var i=0;i<t.length;++i)t[i].data.hook.insert(t[i])}var S=p("attrs,class,staticClass,staticStyle,key");function T(e,t,n,i){var a,s=t.tag,l=t.data,c=t.children;if(i=i||l&&l.pre,t.elm=e,o(t.isComment)&&r(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(r(l)&&(r(a=l.hook)&&r(a=a.init)&&a(t,!0),r(a=t.componentInstance)))return h(t,n),!0;if(r(s)){if(r(c))if(e.hasChildNodes())if(r(a=l)&&r(a=a.domProps)&&r(a=a.innerHTML)){if(a!==e.innerHTML)return!1}else{for(var u=!0,d=e.firstChild,f=0;f<c.length;f++){if(!d||!T(d,c[f],n,i)){u=!1;break}d=d.nextSibling}if(!u||d)return!1}else m(t,c,n);if(r(l)){var p=!1;for(var g in l)if(!S(g)){p=!0,_(t,n);break}!p&&l.class&&tt(l.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,a,l,u){if(!i(t)){var h=!1,f=[];if(i(e))h=!0,d(t,f,l,u);else{var p=r(e.nodeType);if(!p&&Wn(e,t))x(e,t,f,a);else{if(p){if(1===e.nodeType&&e.hasAttribute(j)&&(e.removeAttribute(j),n=!0),o(n)&&T(e,t,f))return C(t,f,!0),e;e=function(e){return new he(c.tagName(e).toLowerCase(),{},[],void 0,e)}(e)}var m=e.elm,_=c.parentNode(m);if(d(t,f,m._leaveCb?null:_,c.nextSibling(m)),r(t.parent))for(var v=t.parent,y=g(t);v;){for(var k=0;k<s.destroy.length;++k)s.destroy[k](v);if(v.elm=t.elm,y){for(var M=0;M<s.create.length;++M)s.create[M](Fn,v);var S=v.data.hook.insert;if(S.merged)for(var L=1;L<S.fns.length;L++)S.fns[L]()}else In(v);v=v.parent}r(_)?w(0,[e],0,0):r(e.tag)&&b(e)}}return C(t,f,h),t.elm}r(e)&&b(e)}}({nodeOps:Nn,modules:[ei,ii,ci,hi,Mi,B?{create:Gi,activate:Gi,remove:function(e,t){!0!==e.data.show?Vi(e,t):t()}}:{}].concat(Kn)});J&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&ir(e,"input")});var Ki={inserted:function(e,t,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?at(n,"postpatch",function(){Ki.componentUpdated(e,t,n)}):Xi(e,t,n.context),e._vOptions=[].map.call(e.options,er)):("textarea"===n.tag||Pn(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",tr),e.addEventListener("compositionend",nr),e.addEventListener("change",nr),J&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Xi(e,t,n.context);var i=e._vOptions,r=e._vOptions=[].map.call(e.options,er);if(r.some(function(e,t){return!A(e,i[t])}))(e.multiple?t.value.some(function(e){return Zi(e,r)}):t.value!==t.oldValue&&Zi(t.value,r))&&ir(e,"change")}}};function Xi(e,t,n){Qi(e,t,n),(G||K)&&setTimeout(function(){Qi(e,t,n)},0)}function Qi(e,t,n){var i=t.value,r=e.multiple;if(!r||Array.isArray(i)){for(var o,a,s=0,l=e.options.length;s<l;s++)if(a=e.options[s],r)o=Y(i,er(a))>-1,a.selected!==o&&(a.selected=o);else if(A(er(a),i))return void(e.selectedIndex!==s&&(e.selectedIndex=s));r||(e.selectedIndex=-1)}}function Zi(e,t){return t.every(function(t){return!A(t,e)})}function er(e){return"_value"in e?e._value:e.value}function tr(e){e.target.composing=!0}function nr(e){e.target.composing&&(e.target.composing=!1,ir(e.target,"input"))}function ir(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function rr(e){return!e.componentInstance||e.data&&e.data.transition?e:rr(e.componentInstance._vnode)}var or={model:Ki,show:{bind:function(e,t,n){var i=t.value,r=(n=rr(n)).data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;i&&r?(n.data.show=!0,Bi(n,function(){e.style.display=o})):e.style.display=i?o:"none"},update:function(e,t,n){var i=t.value;!i!=!t.oldValue&&((n=rr(n)).data&&n.data.transition?(n.data.show=!0,i?Bi(n,function(){e.style.display=e.__vOriginalDisplay}):Vi(n,function(){e.style.display="none"})):e.style.display=i?e.__vOriginalDisplay:"none")},unbind:function(e,t,n,i,r){r||(e.style.display=e.__vOriginalDisplay)}}},ar={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function sr(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?sr(ht(t.children)):e}function lr(e){var t={},n=e.$options;for(var i in n.propsData)t[i]=e[i];var r=n._parentListeners;for(var o in r)t[w(o)]=r[o];return t}function cr(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}var ur={name:"transition",props:ar,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(function(e){return e.tag||dt(e)})).length){0;var i=this.mode;0;var r=n[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return r;var o=sr(r);if(!o)return r;if(this._leaving)return cr(e,r);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var l=(o.data||(o.data={})).transition=lr(this),c=this._vnode,u=sr(c);if(o.data.directives&&o.data.directives.some(function(e){return"show"===e.name})&&(o.data.show=!0),u&&u.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(o,u)&&!dt(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var d=u.data.transition=T({},l);if("out-in"===i)return this._leaving=!0,at(d,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),cr(e,r);if("in-out"===i){if(dt(o))return c;var h,f=function(){h()};at(l,"afterEnter",f),at(l,"enterCancelled",f),at(d,"delayLeave",function(e){h=e})}}return r}}},dr=T({tag:String,moveClass:String},ar);function hr(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function fr(e){e.data.newPos=e.elm.getBoundingClientRect()}function pr(e){var t=e.data.pos,n=e.data.newPos,i=t.left-n.left,r=t.top-n.top;if(i||r){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+r+"px)",o.transitionDuration="0s"}}delete dr.mode;var mr={Transition:ur,TransitionGroup:{props:dr,render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],a=lr(this),s=0;s<r.length;s++){var l=r[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),n[l.key]=l,(l.data||(l.data={})).transition=a;else;}if(i){for(var c=[],u=[],d=0;d<i.length;d++){var h=i[d];h.data.transition=a,h.data.pos=h.elm.getBoundingClientRect(),n[h.key]?c.push(h):u.push(h)}this.kept=e(t,null,c),this.removed=u}return e(t,null,o)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(hr),e.forEach(fr),e.forEach(pr),this._reflow=document.body.offsetHeight,e.forEach(function(e){if(e.data.moved){var n=e.elm,i=n.style;Ni(n,t),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(Ai,n._moveCb=function e(i){i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(Ai,e),n._moveCb=null,Hi(n,t))})}}))},methods:{hasMove:function(e,t){if(!Li)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){Ci(n,e)}),xi(n,t),n.style.display="none",this.$el.appendChild(n);var i=$i(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}}};dn.config.mustUseProp=function(e,t,n){return"value"===n&&bn(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},dn.config.isReservedTag=Rn,dn.config.isReservedAttr=yn,dn.config.getTagNamespace=function(e){return Yn(e)?"svg":"math"===e?"math":void 0},dn.config.isUnknownElement=function(e){if(!B)return!0;if(Rn(e))return!1;if(e=e.toLowerCase(),null!=jn[e])return jn[e];var t=document.createElement(e);return e.indexOf("-")>-1?jn[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:jn[e]=/HTMLUnknownElement/.test(t.toString())},T(dn.options.directives,or),T(dn.options.components,mr),dn.prototype.__patch__=B?Ji:E,dn.prototype.$mount=function(e,t){return function(e,t,n){return e.$el=t,e.$options.render||(e.$options.render=pe),kt(e,"beforeMount"),new Ot(e,function(){e._update(e._render(),n)},E,null,!0),n=!1,null==e.$vnode&&(e._isMounted=!0,kt(e,"mounted")),e}(this,e=e&&B?function(e){if("string"==typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}(e):void 0,t)},B&&setTimeout(function(){H.devtools&&ne&&ne.emit("init",dn)},0),t.a=dn}).call(this,n(39))},function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(4),a=n(5),s=function(e,t){return function(n,i){return n.get("type")===i.get("type")?n.has(e)||i.has(e)?n.has(e)?i.has(e)?n.get(e).toLowerCase()>i.get(e).toLowerCase()?"asc"===t?1:-1:i.get(e).toLowerCase()>n.get(e).toLowerCase()?"asc"===t?-1:1:0:-1:1:0:"folder"===n.get("type")?-1:1}},l=function(e,t){return function(n,i){return n.get(e).toLowerCase()>i.get(e).toLowerCase()?"asc"===t?1:-1:i.get(e).toLowerCase()>n.get(e).toLowerCase()?"asc"===t?-1:1:0}},c=r.a.Model.extend({urlRoot:"".concat(Object(o.a)(),"api/libraries/"),isVisible:function(e){var t=!0;return!e&&this.get("deleted")&&(t=!1),t}}),u=r.a.Collection.extend({urlRoot:"".concat(Object(o.a)(),"api/libraries"),model:c,initialize:function(e){e=e||{}},search:function(e){if(""==e)return this;var t=e.toLowerCase();return this.filter(function(e){return-1!==e.get("name").toLowerCase().indexOf(t)})},getVisible:function(e,t){return t=t||[],new u(this.filter(function(t){return t.isVisible(e)}))},sortLibraries:function(e,t){this.comparator=l(e,t),this.sort()}}),d=r.a.Model.extend({}),h=d.extend({urlRoot:"".concat(Object(o.a)(),"api/libraries/datasets/")}),f=d.extend({urlRoot:"".concat(Object(o.a)(),"api/folders/")}),p=r.a.Collection.extend({model:d,sortFolder:function(e,t){this.comparator=s(e,t),this.sort()}}),m=r.a.Model.extend({defaults:{folder:new p,urlRoot:"".concat(Object(o.a)(),"api/folders/"),id:"unknown"},parse:function(e){var t=Object(a.getGalaxyInstance)();this.get("folder").reset();for(var n=0;n<e.folder_contents.length;n++)if("folder"===e.folder_contents[n].type){var i=new f(e.folder_contents[n]);this.get("folder").add(i)}else if("file"===e.folder_contents[n].type){var r=new h(e.folder_contents[n]);this.get("folder").add(r)}else t.emit.error("Unknown folder item type encountered while parsing response.");return e}}),g=r.a.Model.extend({urlRoot:"".concat(Object(o.a)(),"api/histories/")}),_=r.a.Collection.extend({urlRoot:"".concat(Object(o.a)(),"api/histories/"),initialize:function(e){this.id=e.id},url:function(){return"".concat(this.urlRoot+this.id,"/contents")},model:g}),v=r.a.Model.extend({urlRoot:"".concat(Object(o.a)(),"api/histories/")}),y=r.a.Collection.extend({url:"".concat(Object(o.a)(),"api/histories"),model:v}),b=r.a.Model.extend({urlRoot:"".concat(Object(o.a)(),"api/remote_files")});t.a={Library:c,Libraries:u,Item:h,Ldda:h,FolderAsModel:f,Folder:p,FolderContainer:m,HistoryItem:g,HistoryContents:_,GalaxyHistory:v,GalaxyHistories:y,Jstree:b}},function(e,t,n){var i,r;!function(){var o={version:"3.5.17"},a=[].slice,s=function(e){return a.call(e)},l=this.document;function c(e){return e&&(e.ownerDocument||e.document||e).documentElement}function u(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(l)try{s(l.documentElement.childNodes)[0].nodeType}catch(e){s=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var d=this.Element.prototype,h=d.setAttribute,f=d.setAttributeNS,p=this.CSSStyleDeclaration.prototype,m=p.setProperty;d.setAttribute=function(e,t){h.call(this,e,t+"")},d.setAttributeNS=function(e,t,n){f.call(this,e,t,n+"")},p.setProperty=function(e,t,n){m.call(this,e,t+"",n)}}function g(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function _(e){return null===e?NaN:+e}function v(e){return!isNaN(e)}function y(e){return{left:function(t,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=t.length);i<r;){var o=i+r>>>1;e(t[o],n)<0?i=o+1:r=o}return i},right:function(t,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=t.length);i<r;){var o=i+r>>>1;e(t[o],n)>0?r=o:i=o+1}return i}}}o.ascending=g,o.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},o.min=function(e,t){var n,i,r=-1,o=e.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=e[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=e[r])&&n>i&&(n=i)}else{for(;++r<o;)if(null!=(i=t.call(e,e[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=t.call(e,e[r],r))&&n>i&&(n=i)}return n},o.max=function(e,t){var n,i,r=-1,o=e.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=e[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=e[r])&&i>n&&(n=i)}else{for(;++r<o;)if(null!=(i=t.call(e,e[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=t.call(e,e[r],r))&&i>n&&(n=i)}return n},o.extent=function(e,t){var n,i,r,o=-1,a=e.length;if(1===arguments.length){for(;++o<a;)if(null!=(i=e[o])&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=e[o])&&(n>i&&(n=i),r<i&&(r=i))}else{for(;++o<a;)if(null!=(i=t.call(e,e[o],o))&&i>=i){n=r=i;break}for(;++o<a;)null!=(i=t.call(e,e[o],o))&&(n>i&&(n=i),r<i&&(r=i))}return[n,r]},o.sum=function(e,t){var n,i=0,r=e.length,o=-1;if(1===arguments.length)for(;++o<r;)v(n=+e[o])&&(i+=n);else for(;++o<r;)v(n=+t.call(e,e[o],o))&&(i+=n);return i},o.mean=function(e,t){var n,i=0,r=e.length,o=-1,a=r;if(1===arguments.length)for(;++o<r;)v(n=_(e[o]))?i+=n:--a;else for(;++o<r;)v(n=_(t.call(e,e[o],o)))?i+=n:--a;if(a)return i/a},o.quantile=function(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),r=+e[i-1],o=n-i;return o?r+o*(e[i]-r):r},o.median=function(e,t){var n,i=[],r=e.length,a=-1;if(1===arguments.length)for(;++a<r;)v(n=_(e[a]))&&i.push(n);else for(;++a<r;)v(n=_(t.call(e,e[a],a)))&&i.push(n);if(i.length)return o.quantile(i.sort(g),.5)},o.variance=function(e,t){var n,i,r=e.length,o=0,a=0,s=-1,l=0;if(1===arguments.length)for(;++s<r;)v(n=_(e[s]))&&(a+=(i=n-o)*(n-(o+=i/++l)));else for(;++s<r;)v(n=_(t.call(e,e[s],s)))&&(a+=(i=n-o)*(n-(o+=i/++l)));if(l>1)return a/(l-1)},o.deviation=function(){var e=o.variance.apply(this,arguments);return e?Math.sqrt(e):e};var b=y(g);function w(e){return e.length}o.bisectLeft=b.left,o.bisect=o.bisectRight=b.right,o.bisector=function(e){return y(1===e.length?function(t,n){return g(e(t),n)}:e)},o.shuffle=function(e,t,n){(o=arguments.length)<3&&(n=e.length,o<2&&(t=0));for(var i,r,o=n-t;o;)r=Math.random()*o--|0,i=e[o+t],e[o+t]=e[r+t],e[r+t]=i;return e},o.permute=function(e,t){for(var n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];return i},o.pairs=function(e){for(var t=0,n=e.length-1,i=e[0],r=new Array(n<0?0:n);t<n;)r[t]=[i,i=e[++t]];return r},o.transpose=function(e){if(!(r=e.length))return[];for(var t=-1,n=o.min(e,w),i=new Array(n);++t<n;)for(var r,a=-1,s=i[t]=new Array(r);++a<r;)s[a]=e[a][t];return i},o.zip=function(){return o.transpose(arguments)},o.keys=function(e){var t=[];for(var n in e)t.push(n);return t},o.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},o.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},o.merge=function(e){for(var t,n,i,r=e.length,o=-1,a=0;++o<r;)a+=e[o].length;for(n=new Array(a);--r>=0;)for(t=(i=e[r]).length;--t>=0;)n[--a]=i[t];return n};var k=Math.abs;function M(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function x(){this._=Object.create(null)}o.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var i,r=[],o=function(e){var t=1;for(;e*t%1;)t*=10;return t}(k(n)),a=-1;if(e*=o,t*=o,(n*=o)<0)for(;(i=e+n*++a)>t;)r.push(i/o);else for(;(i=e+n*++a)<t;)r.push(i/o);return r},o.map=function(e,t){var n=new x;if(e instanceof x)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var i,r=-1,o=e.length;if(1===arguments.length)for(;++r<o;)n.set(r,e[r]);else for(;++r<o;)n.set(t.call(e,i=e[r],r),i)}else for(var a in e)n.set(a,e[a]);return n};var C="__proto__",S="\0";function T(e){return(e+="")===C||e[0]===S?S+e:e}function L(e){return(e+="")[0]===S?e.slice(1):e}function E(e){return T(e)in this._}function D(e){return(e=T(e))in this._&&delete this._[e]}function O(){var e=[];for(var t in this._)e.push(L(t));return e}function A(){var e=0;for(var t in this._)++e;return e}function Y(){for(var e in this._)return!1;return!0}function R(){this._=Object.create(null)}function j(e){return e}function P(e,t,n){return function(){var i=n.apply(t,arguments);return i===t?e:i}}function N(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,i=H.length;n<i;++n){var r=H[n]+t;if(r in e)return r}}M(x,{has:E,get:function(e){return this._[T(e)]},set:function(e,t){return this._[T(e)]=t},remove:D,keys:O,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:L(t),value:this._[t]});return e},size:A,empty:Y,forEach:function(e){for(var t in this._)e.call(this,L(t),this._[t])}}),o.nest=function(){var e,t,n={},i=[],r=[];function a(r,o,s){if(s>=i.length)return t?t.call(n,o):e?o.sort(e):o;for(var l,c,u,d,h=-1,f=o.length,p=i[s++],m=new x;++h<f;)(d=m.get(l=p(c=o[h])))?d.push(c):m.set(l,[c]);return r?(c=r(),u=function(e,t){c.set(e,a(r,t,s))}):(c={},u=function(e,t){c[e]=a(r,t,s)}),m.forEach(u),c}return n.map=function(e,t){return a(t,e,0)},n.entries=function(e){return function e(t,n){if(n>=i.length)return t;var o=[],a=r[n++];return t.forEach(function(t,i){o.push({key:t,values:e(i,n)})}),a?o.sort(function(e,t){return a(e.key,t.key)}):o}(a(o.map,e,0),0)},n.key=function(e){return i.push(e),n},n.sortKeys=function(e){return r[i.length-1]=e,n},n.sortValues=function(t){return e=t,n},n.rollup=function(e){return t=e,n},n},o.set=function(e){var t=new R;if(e)for(var n=0,i=e.length;n<i;++n)t.add(e[n]);return t},M(R,{has:E,add:function(e){return this._[T(e+="")]=!0,e},remove:D,values:O,size:A,empty:Y,forEach:function(e){for(var t in this._)e.call(this,L(t))}}),o.behavior={},o.rebind=function(e,t){for(var n,i=1,r=arguments.length;++i<r;)e[n=arguments[i]]=P(e,t,t[n]);return e};var H=["webkit","ms","moz","Moz","o","O"];function I(){}function F(){}function $(e){var t=[],n=new x;function i(){for(var n,i=t,r=-1,o=i.length;++r<o;)(n=i[r].on)&&n.apply(this,arguments);return e}return i.on=function(i,r){var o,a=n.get(i);return arguments.length<2?a&&a.on:(a&&(a.on=null,t=t.slice(0,o=t.indexOf(a)).concat(t.slice(o+1)),n.remove(i)),r&&t.push(n.set(i,{on:r})),e)},i}function W(){o.event.preventDefault()}function z(){for(var e,t=o.event;e=t.sourceEvent;)t=e;return t}function B(e){for(var t=new F,n=0,i=arguments.length;++n<i;)t[arguments[n]]=$(t);return t.of=function(n,i){return function(r){try{var a=r.sourceEvent=o.event;r.target=e,o.event=r,t[r.type].apply(n,i)}finally{o.event=a}}},t}o.dispatch=function(){for(var e=new F,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=$(e);return e},F.prototype.on=function(e,t){var n=e.indexOf("."),i="";if(n>=0&&(i=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(i):this[e].on(i,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(i,null);return this}},o.event=null,o.requote=function(e){return e.replace(V,"\\$&")};var V=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,U={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function q(e){return U(e,X),e}var G=function(e,t){return t.querySelector(e)},J=function(e,t){return t.querySelectorAll(e)},K=function(e,t){var n=e.matches||e[N(e,"matchesSelector")];return(K=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(G=function(e,t){return Sizzle(e,t)[0]||null},J=Sizzle,K=Sizzle.matchesSelector),o.selection=function(){return o.select(l.documentElement)};var X=o.selection.prototype=[];function Q(e){return"function"==typeof e?e:function(){return G(e,this)}}function Z(e){return"function"==typeof e?e:function(){return J(e,this)}}X.select=function(e){var t,n,i,r,o=[];e=Q(e);for(var a=-1,s=this.length;++a<s;){o.push(t=[]),t.parentNode=(i=this[a]).parentNode;for(var l=-1,c=i.length;++l<c;)(r=i[l])?(t.push(n=e.call(r,r.__data__,l,a)),n&&"__data__"in r&&(n.__data__=r.__data__)):t.push(null)}return q(o)},X.selectAll=function(e){var t,n,i=[];e=Z(e);for(var r=-1,o=this.length;++r<o;)for(var a=this[r],l=-1,c=a.length;++l<c;)(n=a[l])&&(i.push(t=s(e.call(n,n.__data__,l,r))),t.parentNode=n);return q(i)};var ee="http://www.w3.org/1999/xhtml",te={svg:"http://www.w3.org/2000/svg",xhtml:ee,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ne(e,t){return e=o.ns.qualify(e),null==t?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof t?e.local?function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}:function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}:e.local?function(){this.setAttributeNS(e.space,e.local,t)}:function(){this.setAttribute(e,t)}}function ie(e){return e.trim().replace(/\s+/g," ")}function re(e){return new RegExp("(?:^|\\s+)"+o.requote(e)+"(?:\\s+|$)","g")}function oe(e){return(e+"").trim().split(/^|\s+/)}function ae(e,t){var n=(e=oe(e).map(se)).length;return"function"==typeof t?function(){for(var i=-1,r=t.apply(this,arguments);++i<n;)e[i](this,r)}:function(){for(var i=-1;++i<n;)e[i](this,t)}}function se(e){var t=re(e);return function(n,i){if(r=n.classList)return i?r.add(e):r.remove(e);var r=n.getAttribute("class")||"";i?(t.lastIndex=0,t.test(r)||n.setAttribute("class",ie(r+" "+e))):n.setAttribute("class",ie(r.replace(t," ")))}}function le(e,t,n){return null==t?function(){this.style.removeProperty(e)}:"function"==typeof t?function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}:function(){this.style.setProperty(e,t,n)}}function ce(e,t){return null==t?function(){delete this[e]}:"function"==typeof t?function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}:function(){this[e]=t}}function ue(e){return"function"==typeof e?e:(e=o.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ee&&t.documentElement.namespaceURI===ee?t.createElement(e):t.createElementNS(n,e)}}function de(){var e=this.parentNode;e&&e.removeChild(this)}function he(e){return{__data__:e}}function fe(e){return function(){return K(this,e)}}function pe(e,t){for(var n=0,i=e.length;n<i;n++)for(var r,o=e[n],a=0,s=o.length;a<s;a++)(r=o[a])&&t(r,a,n);return e}function me(e){return U(e,ge),e}o.ns={prefix:te,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),te.hasOwnProperty(n)?{space:te[n],local:e}:e}},X.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return(e=o.ns.qualify(e)).local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(ne(t,e[t]));return this}return this.each(ne(e,t))},X.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),i=(e=oe(e)).length,r=-1;if(t=n.classList){for(;++r<i;)if(!t.contains(e[r]))return!1}else for(t=n.getAttribute("class");++r<i;)if(!re(e[r]).test(t))return!1;return!0}for(t in e)this.each(ae(t,e[t]));return this}return this.each(ae(e,t))},X.style=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){for(n in i<2&&(t=""),e)this.each(le(n,e[n],t));return this}if(i<2){var r=this.node();return u(r).getComputedStyle(r,null).getPropertyValue(e)}n=""}return this.each(le(e,t,n))},X.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(ce(t,e[t]));return this}return this.each(ce(e,t))},X.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},X.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},X.append=function(e){return e=ue(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},X.insert=function(e,t){return e=ue(e),t=Q(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},X.remove=function(){return this.each(de)},X.data=function(e,t){var n,i,r=-1,o=this.length;if(!arguments.length){for(e=new Array(o=(n=this[0]).length);++r<o;)(i=n[r])&&(e[r]=i.__data__);return e}function a(e,n){var i,r,o,a=e.length,u=n.length,d=Math.min(a,u),h=new Array(u),f=new Array(u),p=new Array(a);if(t){var m,g=new x,_=new Array(a);for(i=-1;++i<a;)(r=e[i])&&(g.has(m=t.call(r,r.__data__,i))?p[i]=r:g.set(m,r),_[i]=m);for(i=-1;++i<u;)(r=g.get(m=t.call(n,o=n[i],i)))?!0!==r&&(h[i]=r,r.__data__=o):f[i]=he(o),g.set(m,!0);for(i=-1;++i<a;)i in _&&!0!==g.get(_[i])&&(p[i]=e[i])}else{for(i=-1;++i<d;)r=e[i],o=n[i],r?(r.__data__=o,h[i]=r):f[i]=he(o);for(;i<u;++i)f[i]=he(n[i]);for(;i<a;++i)p[i]=e[i]}f.update=h,f.parentNode=h.parentNode=p.parentNode=e.parentNode,s.push(f),l.push(h),c.push(p)}var s=me([]),l=q([]),c=q([]);if("function"==typeof e)for(;++r<o;)a(n=this[r],e.call(n,n.parentNode.__data__,r));else for(;++r<o;)a(n=this[r],e);return l.enter=function(){return s},l.exit=function(){return c},l},X.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},X.filter=function(e){var t,n,i,r=[];"function"!=typeof e&&(e=fe(e));for(var o=0,a=this.length;o<a;o++){r.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;s<l;s++)(i=n[s])&&e.call(i,i.__data__,s,o)&&t.push(i)}return q(r)},X.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,i=this[e],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},X.sort=function(e){e=function(e){arguments.length||(e=g);return function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},X.each=function(e){return pe(this,function(t,n,i){e.call(t,t.__data__,n,i)})},X.call=function(e){var t=s(arguments);return e.apply(t[0]=this,t),this},X.empty=function(){return!this.node()},X.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],i=0,r=n.length;i<r;i++){var o=n[i];if(o)return o}return null},X.size=function(){var e=0;return pe(this,function(){++e}),e};var ge=[];function _e(e,t,n){var i="__on"+e,r=e.indexOf("."),a=ye;r>0&&(e=e.slice(0,r));var l=ve.get(e);function c(){var t=this[i];t&&(this.removeEventListener(e,t,t.$),delete this[i])}return l&&(e=l,a=be),r?t?function(){var r=a(t,s(arguments));c.call(this),this.addEventListener(e,this[i]=r,r.$=n),r._=t}:c:t?I:function(){var t,n=new RegExp("^__on([^.]+)"+o.requote(e)+"$");for(var i in this)if(t=i.match(n)){var r=this[i];this.removeEventListener(t[1],r,r.$),delete this[i]}}}o.selection.enter=me,o.selection.enter.prototype=ge,ge.append=X.append,ge.empty=X.empty,ge.node=X.node,ge.call=X.call,ge.size=X.size,ge.select=function(e){for(var t,n,i,r,o,a=[],s=-1,l=this.length;++s<l;){i=(r=this[s]).update,a.push(t=[]),t.parentNode=r.parentNode;for(var c=-1,u=r.length;++c<u;)(o=r[c])?(t.push(i[c]=n=e.call(r.parentNode,o.__data__,c,s)),n.__data__=o.__data__):t.push(null)}return q(a)},ge.insert=function(e,t){return arguments.length<2&&(t=function(e){var t,n;return function(i,r,o){var a,s=e[o].update,l=s.length;for(o!=n&&(n=o,t=0),r>=t&&(t=r+1);!(a=s[t])&&++t<l;);return a}}(this)),X.insert.call(this,e,t)},o.select=function(e){var t;return"string"==typeof e?(t=[G(e,l)]).parentNode=l.documentElement:(t=[e]).parentNode=c(e),q([t])},o.selectAll=function(e){var t;return"string"==typeof e?(t=s(J(e,l))).parentNode=l.documentElement:(t=s(e)).parentNode=null,q([t])},X.on=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){for(n in i<2&&(t=!1),e)this.each(_e(n,e[n],t));return this}if(i<2)return(i=this.node()["__on"+e])&&i._;n=!1}return this.each(_e(e,t,n))};var ve=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function ye(e,t){return function(n){var i=o.event;o.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{o.event=i}}}function be(e,t){var n=ye(e,t);return function(e){var t=e.relatedTarget;t&&(t===this||8&t.compareDocumentPosition(this))||n.call(this,e)}}l&&ve.forEach(function(e){"on"+e in l&&ve.remove(e)});var we,ke=0;function Me(e){var t=".dragsuppress-"+ ++ke,n="click"+t,i=o.select(u(e)).on("touchmove"+t,W).on("dragstart"+t,W).on("selectstart"+t,W);if(null==we&&(we=!("onselectstart"in e)&&N(e.style,"userSelect")),we){var r=c(e).style,a=r[we];r[we]="none"}return function(e){if(i.on(t,null),we&&(r[we]=a),e){var o=function(){i.on(n,null)};i.on(n,function(){W(),o()},!0),setTimeout(o,0)}}}o.mouse=function(e){return Ce(e,z())};var xe=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Ce(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();if(xe<0){var r=u(e);if(r.scrollX||r.scrollY){var a=(n=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();xe=!(a.f||a.e),n.remove()}}return xe?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function Se(){return o.event.changedTouches[0].identifier}o.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=z().changedTouches),t)for(var i,r=0,o=t.length;r<o;++r)if((i=t[r]).identifier===n)return Ce(e,i)},o.behavior.drag=function(){var e=B(r,"drag","dragstart","dragend"),t=null,n=a(I,o.mouse,u,"mousemove","mouseup"),i=a(Se,o.touch,j,"touchmove","touchend");function r(){this.on("mousedown.drag",n).on("touchstart.drag",i)}function a(n,i,r,a,s){return function(){var l,c=o.event.target.correspondingElement||o.event.target,u=this.parentNode,d=e.of(this,arguments),h=0,f=n(),p=".drag"+(null==f?"":"-"+f),m=o.select(r(c)).on(a+p,function(){var e,t,n=i(u,f);if(!n)return;e=n[0]-_[0],t=n[1]-_[1],h|=e|t,_=n,d({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:e,dy:t})}).on(s+p,function(){if(!i(u,f))return;m.on(a+p,null).on(s+p,null),g(h),d({type:"dragend"})}),g=Me(c),_=i(u,f);l=t?[(l=t.apply(this,arguments)).x-_[0],l.y-_[1]]:[0,0],d({type:"dragstart"})}}return r.origin=function(e){return arguments.length?(t=e,r):t},o.rebind(r,e,"on")},o.touches=function(e,t){return arguments.length<2&&(t=z().touches),t?s(t).map(function(t){var n=Ce(e,t);return n.identifier=t.identifier,n}):[]};var Te=1e-6,Le=Te*Te,Ee=Math.PI,De=2*Ee,Oe=De-Te,Ae=Ee/2,Ye=Ee/180,Re=180/Ee;function je(e){return e>0?1:e<0?-1:0}function Pe(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Ne(e){return e>1?0:e<-1?Ee:Math.acos(e)}function He(e){return e>1?Ae:e<-1?-Ae:Math.asin(e)}function Ie(e){return((e=Math.exp(e))+1/e)/2}function Fe(e){return(e=Math.sin(e/2))*e}var $e=Math.SQRT2;o.interpolateZoom=function(e,t){var n,i,r=e[0],o=e[1],a=e[2],s=t[0],l=t[1],c=t[2],u=s-r,d=l-o,h=u*u+d*d;if(h<Le)i=Math.log(c/a)/$e,n=function(e){return[r+e*u,o+e*d,a*Math.exp($e*e*i)]};else{var f=Math.sqrt(h),p=(c*c-a*a+4*h)/(2*a*2*f),m=(c*c-a*a-4*h)/(2*c*2*f),g=Math.log(Math.sqrt(p*p+1)-p),_=Math.log(Math.sqrt(m*m+1)-m);i=(_-g)/$e,n=function(e){var t=e*i,n=Ie(g),s=a/(2*f)*(n*function(e){return((e=Math.exp(2*e))-1)/(e+1)}($e*t+g)-function(e){return((e=Math.exp(e))-1/e)/2}(g));return[r+s*u,o+s*d,a*n/Ie($e*t+g)]}}return n.duration=1e3*i,n},o.behavior.zoom=function(){var e,t,n,i,r,a,s,c,d,h={x:0,y:0,k:1},f=[960,500],p=Be,m=250,g=0,_="mousedown.zoom",v="mousemove.zoom",y="mouseup.zoom",b="touchstart.zoom",w=B(k,"zoomstart","zoom","zoomend");function k(e){e.on(_,O).on(ze+".zoom",Y).on("dblclick.zoom",R).on(b,A)}function M(e){return[(e[0]-h.x)/h.k,(e[1]-h.y)/h.k]}function x(e){h.k=Math.max(p[0],Math.min(p[1],e))}function C(e,t){t=function(e){return[e[0]*h.k+h.x,e[1]*h.k+h.y]}(t),h.x+=e[0]-t[0],h.y+=e[1]-t[1]}function S(e,n,i,r){e.__chart__={x:h.x,y:h.y,k:h.k},x(Math.pow(2,r)),C(t=n,i),e=o.select(e),m>0&&(e=e.transition().duration(m)),e.call(k.event)}function T(){s&&s.domain(a.range().map(function(e){return(e-h.x)/h.k}).map(a.invert)),d&&d.domain(c.range().map(function(e){return(e-h.y)/h.k}).map(c.invert))}function L(e){g++||e({type:"zoomstart"})}function E(e){T(),e({type:"zoom",scale:h.k,translate:[h.x,h.y]})}function D(e){--g||(e({type:"zoomend"}),t=null)}function O(){var e=this,t=w.of(e,arguments),n=0,i=o.select(u(e)).on(v,function(){n=1,C(o.mouse(e),r),E(t)}).on(y,function(){i.on(v,null).on(y,null),a(n),D(t)}),r=M(o.mouse(e)),a=Me(e);fs.call(e),L(t)}function A(){var e,t=this,n=w.of(t,arguments),i={},a=0,s=".zoom-"+o.event.changedTouches[0].identifier,l="touchmove"+s,c="touchend"+s,u=[],d=o.select(t),f=Me(t);function p(){var n=o.touches(t);return e=h.k,n.forEach(function(e){e.identifier in i&&(i[e.identifier]=M(e))}),n}function m(){var e=o.event.target;o.select(e).on(l,g).on(c,v),u.push(e);for(var n=o.event.changedTouches,s=0,d=n.length;s<d;++s)i[n[s].identifier]=null;var f=p(),m=Date.now();if(1===f.length){if(m-r<500){var _=f[0];S(t,_,i[_.identifier],Math.floor(Math.log(h.k)/Math.LN2)+1),W()}r=m}else if(f.length>1){_=f[0];var y=f[1],b=_[0]-y[0],w=_[1]-y[1];a=b*b+w*w}}function g(){var s,l,c,u,d=o.touches(t);fs.call(t);for(var h=0,f=d.length;h<f;++h,u=null)if(c=d[h],u=i[c.identifier]){if(l)break;s=c,l=u}if(u){var p=(p=c[0]-s[0])*p+(p=c[1]-s[1])*p,m=a&&Math.sqrt(p/a);s=[(s[0]+c[0])/2,(s[1]+c[1])/2],l=[(l[0]+u[0])/2,(l[1]+u[1])/2],x(m*e)}r=null,C(s,l),E(n)}function v(){if(o.event.touches.length){for(var e=o.event.changedTouches,t=0,r=e.length;t<r;++t)delete i[e[t].identifier];for(var a in i)return void p()}o.selectAll(u).on(s,null),d.on(_,O).on(b,A),f(),D(n)}m(),L(n),d.on(_,null).on(b,m)}function Y(){var r=w.of(this,arguments);i?clearTimeout(i):(fs.call(this),e=M(t=n||o.mouse(this)),L(r)),i=setTimeout(function(){i=null,D(r)},50),W(),x(Math.pow(2,.002*We())*h.k),C(t,e),E(r)}function R(){var e=o.mouse(this),t=Math.log(h.k)/Math.LN2;S(this,e,M(e),o.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}return ze||(ze="onwheel"in l?(We=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(We=function(){return o.event.wheelDelta},"mousewheel"):(We=function(){return-o.event.detail},"MozMousePixelScroll")),k.event=function(e){e.each(function(){var e=w.of(this,arguments),n=h;gs?o.select(this).transition().each("start.zoom",function(){h=this.__chart__||{x:0,y:0,k:1},L(e)}).tween("zoom:zoom",function(){var i=f[0],r=f[1],a=t?t[0]:i/2,s=t?t[1]:r/2,l=o.interpolateZoom([(a-h.x)/h.k,(s-h.y)/h.k,i/h.k],[(a-n.x)/n.k,(s-n.y)/n.k,i/n.k]);return function(t){var n=l(t),r=i/n[2];this.__chart__=h={x:a-n[0]*r,y:s-n[1]*r,k:r},E(e)}}).each("interrupt.zoom",function(){D(e)}).each("end.zoom",function(){D(e)}):(this.__chart__=h,L(e),E(e),D(e))})},k.translate=function(e){return arguments.length?(h={x:+e[0],y:+e[1],k:h.k},T(),k):[h.x,h.y]},k.scale=function(e){return arguments.length?(h={x:h.x,y:h.y,k:null},x(+e),T(),k):h.k},k.scaleExtent=function(e){return arguments.length?(p=null==e?Be:[+e[0],+e[1]],k):p},k.center=function(e){return arguments.length?(n=e&&[+e[0],+e[1]],k):n},k.size=function(e){return arguments.length?(f=e&&[+e[0],+e[1]],k):f},k.duration=function(e){return arguments.length?(m=+e,k):m},k.x=function(e){return arguments.length?(s=e,a=e.copy(),h={x:0,y:0,k:1},k):s},k.y=function(e){return arguments.length?(d=e,c=e.copy(),h={x:0,y:0,k:1},k):d},o.rebind(k,w,"on")};var We,ze,Be=[0,1/0];function Ve(){}function Ue(e,t,n){return this instanceof Ue?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof Ue?new Ue(e.h,e.s,e.l):pt(""+e,mt,Ue):new Ue(e,t,n)}o.color=Ve,Ve.prototype.toString=function(){return this.rgb()+""},o.hsl=Ue;var qe=Ue.prototype=new Ve;function Ge(e,t,n){var i,r;function o(e){return Math.round(255*function(e){return e>360?e-=360:e<0&&(e+=360),e<60?i+(r-i)*e/60:e<180?r:e<240?i+(r-i)*(240-e)/60:i}(e))}return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:t<0?0:t>1?1:t,i=2*(n=n<0?0:n>1?1:n)-(r=n<=.5?n*(1+t):n+t-n*t),new ct(o(e+120),o(e),o(e-120))}function Je(e,t,n){return this instanceof Je?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof Je?new Je(e.h,e.c,e.l):ot(e instanceof Qe?e.l:(e=gt((e=o.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new Je(e,t,n)}qe.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new Ue(this.h,this.s,this.l/e)},qe.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new Ue(this.h,this.s,e*this.l)},qe.rgb=function(){return Ge(this.h,this.s,this.l)},o.hcl=Je;var Ke=Je.prototype=new Ve;function Xe(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new Qe(n,Math.cos(e*=Ye)*t,Math.sin(e)*t)}function Qe(e,t,n){return this instanceof Qe?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof Qe?new Qe(e.l,e.a,e.b):e instanceof Je?Xe(e.h,e.c,e.l):gt((e=ct(e)).r,e.g,e.b):new Qe(e,t,n)}Ke.brighter=function(e){return new Je(this.h,this.c,Math.min(100,this.l+Ze*(arguments.length?e:1)))},Ke.darker=function(e){return new Je(this.h,this.c,Math.max(0,this.l-Ze*(arguments.length?e:1)))},Ke.rgb=function(){return Xe(this.h,this.c,this.l).rgb()},o.lab=Qe;var Ze=18,et=.95047,tt=1,nt=1.08883,it=Qe.prototype=new Ve;function rt(e,t,n){var i=(e+16)/116,r=i+t/500,o=i-n/200;return new ct(lt(3.2404542*(r=at(r)*et)-1.5371385*(i=at(i)*tt)-.4985314*(o=at(o)*nt)),lt(-.969266*r+1.8760108*i+.041556*o),lt(.0556434*r-.2040259*i+1.0572252*o))}function ot(e,t,n){return e>0?new Je(Math.atan2(n,t)*Re,Math.sqrt(t*t+n*n),e):new Je(NaN,NaN,e)}function at(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function st(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function lt(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ct(e,t,n){return this instanceof ct?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof ct?new ct(e.r,e.g,e.b):pt(""+e,ct,Ge):new ct(e,t,n)}function ut(e){return new ct(e>>16,e>>8&255,255&e)}function dt(e){return ut(e)+""}it.brighter=function(e){return new Qe(Math.min(100,this.l+Ze*(arguments.length?e:1)),this.a,this.b)},it.darker=function(e){return new Qe(Math.max(0,this.l-Ze*(arguments.length?e:1)),this.a,this.b)},it.rgb=function(){return rt(this.l,this.a,this.b)},o.rgb=ct;var ht=ct.prototype=new Ve;function ft(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function pt(e,t,n){var i,r,o,a=0,s=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return t(vt(r[0]),vt(r[1]),vt(r[2]))}return(o=yt.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,l=15&o,l|=l<<4):7===e.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),t(a,s,l))}function mt(e,t,n){var i,r,o=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-o,l=(a+o)/2;return s?(r=l<.5?s/(a+o):s/(2-a-o),i=e==a?(t-n)/s+(t<n?6:0):t==a?(n-e)/s+2:(e-t)/s+4,i*=60):(i=NaN,r=l>0&&l<1?0:i),new Ue(i,r,l)}function gt(e,t,n){var i=st((.4124564*(e=_t(e))+.3575761*(t=_t(t))+.1804375*(n=_t(n)))/et),r=st((.2126729*e+.7151522*t+.072175*n)/tt);return Qe(116*r-16,500*(i-r),200*(r-st((.0193339*e+.119192*t+.9503041*n)/nt)))}function _t(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function vt(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}ht.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,i=this.b,r=30;return t||n||i?(t&&t<r&&(t=r),n&&n<r&&(n=r),i&&i<r&&(i=r),new ct(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,i/e))):new ct(r,r,r)},ht.darker=function(e){return new ct((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},ht.hsl=function(){return mt(this.r,this.g,this.b)},ht.toString=function(){return"#"+ft(this.r)+ft(this.g)+ft(this.b)};var yt=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function bt(e){return"function"==typeof e?e:function(){return e}}function wt(e){return function(t,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),kt(t,n,e,i)}}function kt(e,t,n,i){var r={},a=o.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,u=null;function d(){var e,t=c.status;if(!t&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(c)||t>=200&&t<300||304===t){try{e=n.call(r,c)}catch(e){return void a.error.call(r,e)}a.load.call(r,e)}else a.error.call(r,c)}return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(e)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=d:c.onreadystatechange=function(){c.readyState>3&&d()},c.onprogress=function(e){var t=o.event;o.event=e;try{a.progress.call(r,c)}finally{o.event=t}},r.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l[e]:(null==t?delete l[e]:l[e]=t+"",r)},r.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",r):t},r.responseType=function(e){return arguments.length?(u=e,r):u},r.response=function(e){return n=e,r},["get","post"].forEach(function(e){r[e]=function(){return r.send.apply(r,[e].concat(s(arguments)))}}),r.send=function(n,i,o){if(2===arguments.length&&"function"==typeof i&&(o=i,i=null),c.open(n,e,!0),null==t||"accept"in l||(l.accept=t+",*/*"),c.setRequestHeader)for(var s in l)c.setRequestHeader(s,l[s]);return null!=t&&c.overrideMimeType&&c.overrideMimeType(t),null!=u&&(c.responseType=u),null!=o&&r.on("error",o).on("load",function(e){o(null,e)}),a.beforesend.call(r,c),c.send(null==i?null:i),r},r.abort=function(){return c.abort(),r},o.rebind(r,a,"on"),null==i?r:r.get(function(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}(i))}yt.forEach(function(e,t){yt.set(e,ut(t))}),o.functor=bt,o.xhr=wt(j),o.dsv=function(e,t){var n=new RegExp('["'+e+"\n]"),i=e.charCodeAt(0);function r(e,n,i){arguments.length<3&&(i=n,n=null);var r=kt(e,t,null==n?o:a(n),i);return r.row=function(e){return arguments.length?r.response(null==(n=e)?o:a(e)):n},r}function o(e){return r.parse(e.responseText)}function a(e){return function(t){return r.parse(t.responseText,e)}}function s(t){return t.map(l).join(e)}function l(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return r.parse=function(e,t){var n;return r.parseRows(e,function(e,i){if(n)return n(e,i-1);var r=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");n=t?function(e,n){return t(r(e),n)}:r})},r.parseRows=function(e,t){var n,r,o={},a={},s=[],l=e.length,c=0,u=0;function d(){if(c>=l)return a;if(r)return r=!1,o;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}return c=n+2,13===(s=e.charCodeAt(n+1))?(r=!0,10===e.charCodeAt(n+2)&&++c):10===s&&(r=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;c<l;){var s,u=1;if(10===(s=e.charCodeAt(c++)))r=!0;else if(13===s)r=!0,10===e.charCodeAt(c)&&(++c,++u);else if(s!==i)continue;return e.slice(t,c-u)}return e.slice(t)}for(;(n=d())!==a;){for(var h=[];n!==o&&n!==a;)h.push(n),n=d();t&&null==(h=t(h,u++))||s.push(h)}return s},r.format=function(t){if(Array.isArray(t[0]))return r.formatRows(t);var n=new R,i=[];return t.forEach(function(e){for(var t in e)n.has(t)||i.push(n.add(t))}),[i.map(l).join(e)].concat(t.map(function(t){return i.map(function(e){return l(t[e])}).join(e)})).join("\n")},r.formatRows=function(e){return e.map(s).join("\n")},r},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("\t","text/tab-separated-values");var Mt,xt,Ct,St,Tt=this[N(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function Lt(e,t,n){var i=arguments.length;i<2&&(t=0),i<3&&(n=Date.now());var r={c:e,t:n+t,n:null};return xt?xt.n=r:Mt=r,xt=r,Ct||(St=clearTimeout(St),Ct=1,Tt(Et)),r}function Et(){var e=Dt(),t=Ot()-e;t>24?(isFinite(t)&&(clearTimeout(St),St=setTimeout(Et,t)),Ct=0):(Ct=1,Tt(Et))}function Dt(){for(var e=Date.now(),t=Mt;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function Ot(){for(var e,t=Mt,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:Mt=t.n;return xt=e,n}function At(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}o.timer=function(){Lt.apply(this,arguments)},o.timer.flush=function(){Dt(),Ot()},o.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var Yt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(e,t){var n=Math.pow(10,3*k(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}});o.formatPrefix=function(e,t){var n=0;return(e=+e)&&(e<0&&(e*=-1),t&&(e=o.round(e,At(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Yt[8+n/3]};var Rt=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,jt=o.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=o.round(e,At(e,t))).toFixed(Math.max(0,Math.min(20,At(e*(1+1e-15),t))))}});function Pt(e){return e+""}var Nt=o.time={},Ht=Date;function It(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}It.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ft.setUTCDate.apply(this._,arguments)},setDay:function(){Ft.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ft.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ft.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ft.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ft.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ft.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ft.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ft.setTime.apply(this._,arguments)}};var Ft=Date.prototype;function $t(e,t,n){function i(t){var n=e(t),i=o(n,1);return t-n<i-t?n:i}function r(n){return t(n=e(new Ht(n-1)),1),n}function o(e,n){return t(e=new Ht(+e),n),e}function a(e,i,o){var a=r(e),s=[];if(o>1)for(;a<i;)n(a)%o||s.push(new Date(+a)),t(a,1);else for(;a<i;)s.push(new Date(+a)),t(a,1);return s}e.floor=e,e.round=i,e.ceil=r,e.offset=o,e.range=a;var s=e.utc=Wt(e);return s.floor=s,s.round=Wt(i),s.ceil=Wt(r),s.offset=Wt(o),s.range=function(e,t,n){try{Ht=It;var i=new It;return i._=e,a(i,t,n)}finally{Ht=Date}},e}function Wt(e){return function(t,n){try{Ht=It;var i=new It;return i._=t,e(i,n)._}finally{Ht=Date}}}Nt.year=$t(function(e){return(e=Nt.day(e)).setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),Nt.years=Nt.year.range,Nt.years.utc=Nt.year.utc.range,Nt.day=$t(function(e){var t=new Ht(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),Nt.days=Nt.day.range,Nt.days.utc=Nt.day.utc.range,Nt.dayOfYear=function(e){var t=Nt.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=Nt[e]=$t(function(e){return(e=Nt.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=Nt.year(e).getDay();return Math.floor((Nt.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});Nt[e+"s"]=n.range,Nt[e+"s"].utc=n.utc.range,Nt[e+"OfYear"]=function(e){var n=Nt.year(e).getDay();return Math.floor((Nt.dayOfYear(e)+(n+t)%7)/7)}}),Nt.week=Nt.sunday,Nt.weeks=Nt.sunday.range,Nt.weeks.utc=Nt.sunday.utc.range,Nt.weekOfYear=Nt.sundayOfYear;var zt={"-":"",_:" ",0:"0"},Bt=/^\s*\d+/,Vt=/^%/;function Ut(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(t)+r:r)}function qt(e){return new RegExp("^(?:"+e.map(o.requote).join("|")+")","i")}function Gt(e){for(var t=new x,n=-1,i=e.length;++n<i;)t.set(e[n].toLowerCase(),n);return t}function Jt(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function Kt(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n));return i?(e.U=+i[0],n+i[0].length):-1}function Xt(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n));return i?(e.W=+i[0],n+i[0].length):-1}function Qt(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function Zt(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n,n+2));return i?(e.y=function(e){return e+(e>68?1900:2e3)}(+i[0]),n+i[0].length):-1}function en(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function tn(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function nn(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function rn(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n,n+3));return i?(e.j=+i[0],n+i[0].length):-1}function on(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function an(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function sn(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function ln(e,t,n){Bt.lastIndex=0;var i=Bt.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function cn(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",i=k(t)/60|0,r=k(t)%60;return n+Ut(i,"0",2)+Ut(r,"0",2)}function un(e,t,n){Vt.lastIndex=0;var i=Vt.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function dn(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,i=e[n];!i[1](t);)i=e[++n];return i[0](t)}}o.locale=function(e){return{numberFormat:function(e){var t=e.decimal,n=e.thousands,i=e.grouping,r=e.currency,a=i&&n?function(e,t){for(var r=e.length,o=[],a=0,s=i[0],l=0;r>0&&s>0&&(l+s+1>t&&(s=Math.max(1,t-l)),o.push(e.substring(r-=s,r+s)),!((l+=s+1)>t));)s=i[a=(a+1)%i.length];return o.reverse().join(n)}:j;return function(e){var n=Rt.exec(e),i=n[1]||" ",s=n[2]||">",l=n[3]||"-",c=n[4]||"",u=n[5],d=+n[6],h=n[7],f=n[8],p=n[9],m=1,g="",_="",v=!1,y=!0;switch(f&&(f=+f.substring(1)),(u||"0"===i&&"="===s)&&(u=i="0",s="="),p){case"n":h=!0,p="g";break;case"%":m=100,_="%",p="f";break;case"p":m=100,_="%",p="r";break;case"b":case"o":case"x":case"X":"#"===c&&(g="0"+p.toLowerCase());case"c":y=!1;case"d":v=!0,f=0;break;case"s":m=-1,p="r"}"$"===c&&(g=r[0],_=r[1]),"r"!=p||f||(p="g"),null!=f&&("g"==p?f=Math.max(1,Math.min(21,f)):"e"!=p&&"f"!=p||(f=Math.max(0,Math.min(20,f)))),p=jt.get(p)||Pt;var b=u&&h;return function(e){var n=_;if(v&&e%1)return"";var r=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===l?"":l;if(m<0){var c=o.formatPrefix(e,f);e=c.scale(e),n=c.symbol+_}else e*=m;var w,k,M=(e=p(e,f)).lastIndexOf(".");if(M<0){var x=y?e.lastIndexOf("e"):-1;x<0?(w=e,k=""):(w=e.substring(0,x),k=e.substring(x))}else w=e.substring(0,M),k=t+e.substring(M+1);!u&&h&&(w=a(w,1/0));var C=g.length+w.length+k.length+(b?0:r.length),S=C<d?new Array(C=d-C+1).join(i):"";return b&&(w=a(S+w,S.length?d-k.length:1/0)),r+=g,e=w+k,("<"===s?r+e+S:">"===s?S+r+e:"^"===s?S.substring(0,C>>=1)+r+e+S.substring(C):r+(b?e:S+e))+n}}}(e),timeFormat:function(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,a=e.days,s=e.shortDays,l=e.months,c=e.shortMonths;function u(e){var t=e.length;function n(n){for(var i,r,o,a=[],s=-1,l=0;++s<t;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(r=zt[i=e.charAt(++s)])&&(i=e.charAt(++s)),(o=w[i])&&(i=o(n,null==r?"e"===i?" ":"0":r)),a.push(i),l=s+1);return a.push(e.slice(l,s)),a.join("")}return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(d(n,e,t,0)!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var i=null!=n.Z&&Ht!==It,r=new(i?It:Ht);return"j"in n?r.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),r.setFullYear(n.y,0,1),r.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(r.getDay()+5)%7:n.w+7*n.U-(r.getDay()+6)%7)):r.setFullYear(n.y,n.m,n.d),r.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),i?r._:r},n.toString=function(){return e},n}function d(e,t,n,i){for(var r,o,a,s=0,l=t.length,c=n.length;s<l;){if(i>=c)return-1;if(37===(r=t.charCodeAt(s++))){if(a=t.charAt(s++),!(o=k[a in zt?t.charAt(s++):a])||(i=o(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}u.utc=function(e){var t=u(e);function n(e){try{var n=new(Ht=It);return n._=e,t(n)}finally{Ht=Date}}return n.parse=function(e){try{Ht=It;var n=t.parse(e);return n&&n._}finally{Ht=Date}},n.toString=t.toString,n},u.multi=u.utc.multi=dn;var h=o.map(),f=qt(a),p=Gt(a),m=qt(s),g=Gt(s),_=qt(l),v=Gt(l),y=qt(c),b=Gt(c);r.forEach(function(e,t){h.set(e.toLowerCase(),t)});var w={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:u(t),d:function(e,t){return Ut(e.getDate(),t,2)},e:function(e,t){return Ut(e.getDate(),t,2)},H:function(e,t){return Ut(e.getHours(),t,2)},I:function(e,t){return Ut(e.getHours()%12||12,t,2)},j:function(e,t){return Ut(1+Nt.dayOfYear(e),t,3)},L:function(e,t){return Ut(e.getMilliseconds(),t,3)},m:function(e,t){return Ut(e.getMonth()+1,t,2)},M:function(e,t){return Ut(e.getMinutes(),t,2)},p:function(e){return r[+(e.getHours()>=12)]},S:function(e,t){return Ut(e.getSeconds(),t,2)},U:function(e,t){return Ut(Nt.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ut(Nt.mondayOfYear(e),t,2)},x:u(n),X:u(i),y:function(e,t){return Ut(e.getFullYear()%100,t,2)},Y:function(e,t){return Ut(e.getFullYear()%1e4,t,4)},Z:cn,"%":function(){return"%"}},k={a:function(e,t,n){m.lastIndex=0;var i=m.exec(t.slice(n));return i?(e.w=g.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(e,t,n){f.lastIndex=0;var i=f.exec(t.slice(n));return i?(e.w=p.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(e,t,n){y.lastIndex=0;var i=y.exec(t.slice(n));return i?(e.m=b.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(e,t,n){_.lastIndex=0;var i=_.exec(t.slice(n));return i?(e.m=v.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(e,t,n){return d(e,w.c.toString(),t,n)},d:nn,e:nn,H:on,I:on,j:rn,L:ln,m:tn,M:an,p:function(e,t,n){var i=h.get(t.slice(n,n+=2).toLowerCase());return null==i?-1:(e.p=i,n)},S:sn,U:Kt,w:Jt,W:Xt,x:function(e,t,n){return d(e,w.x.toString(),t,n)},X:function(e,t,n){return d(e,w.X.toString(),t,n)},y:Zt,Y:Qt,Z:en,"%":un};return u}(e)}};var hn=o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fn(){}o.format=hn.numberFormat,o.geo={},fn.prototype={s:0,t:0,add:function(e){mn(e,this.t,pn),mn(pn.s,this.s,this),this.s?this.t+=pn.t:this.s=pn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var pn=new fn;function mn(e,t,n){var i=n.s=e+t,r=i-e,o=i-r;n.t=e-o+(t-r)}function gn(e,t){e&&vn.hasOwnProperty(e.type)&&vn[e.type](e,t)}o.geo.stream=function(e,t){e&&_n.hasOwnProperty(e.type)?_n[e.type](e,t):gn(e,t)};var _n={Feature:function(e,t){gn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)gn(n[i].geometry,t)}},vn={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){yn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)yn(n[i],t,0)},Polygon:function(e,t){bn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)bn(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)gn(n[i],t)}};function yn(e,t,n){var i,r=-1,o=e.length-n;for(t.lineStart();++r<o;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function bn(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)yn(e[n],t,1);t.polygonEnd()}o.geo.area=function(e){return wn=0,o.geo.stream(e,Rn),wn};var wn,kn,Mn,xn,Cn,Sn,Tn,Ln,En,Dn,On,An,Yn=new fn,Rn={sphere:function(){wn+=4*Ee},point:I,lineStart:I,lineEnd:I,polygonStart:function(){Yn.reset(),Rn.lineStart=jn},polygonEnd:function(){var e=2*Yn;wn+=e<0?4*Ee+e:e,Rn.lineStart=Rn.lineEnd=Rn.point=I}};function jn(){var e,t,n,i,r;function o(e,t){t=t*Ye/2+Ee/4;var o=(e*=Ye)-n,a=o>=0?1:-1,s=a*o,l=Math.cos(t),c=Math.sin(t),u=r*c,d=i*l+u*Math.cos(s),h=u*a*Math.sin(s);Yn.add(Math.atan2(h,d)),n=e,i=l,r=c}Rn.point=function(a,s){Rn.point=o,n=(e=a)*Ye,i=Math.cos(s=(t=s)*Ye/2+Ee/4),r=Math.sin(s)},Rn.lineEnd=function(){o(e,t)}}function Pn(e){var t=e[0],n=e[1],i=Math.cos(n);return[i*Math.cos(t),i*Math.sin(t),Math.sin(n)]}function Nn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Hn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function In(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Fn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function $n(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Wn(e){return[Math.atan2(e[1],e[0]),He(e[2])]}function zn(e,t){return k(e[0]-t[0])<Te&&k(e[1]-t[1])<Te}o.geo.bounds=function(){var e,t,n,i,r,a,s,l,c,u,d,h={point:f,lineStart:m,lineEnd:g,polygonStart:function(){h.point=_,h.lineStart=v,h.lineEnd=y,c=0,Rn.polygonStart()},polygonEnd:function(){Rn.polygonEnd(),h.point=f,h.lineStart=m,h.lineEnd=g,Yn<0?(e=-(n=180),t=-(i=90)):c>Te?i=90:c<-Te&&(t=-90),d[0]=e,d[1]=n}};function f(r,o){u.push(d=[e=r,n=r]),o<t&&(t=o),o>i&&(i=o)}function p(o,a){var s=Pn([o*Ye,a*Ye]);if(l){var c=Hn(l,s),u=Hn([c[1],-c[0],0],c);$n(u),u=Wn(u);var d=o-r,h=d>0?1:-1,p=u[0]*Re*h,m=k(d)>180;if(m^(h*r<p&&p<h*o))(g=u[1]*Re)>i&&(i=g);else if(m^(h*r<(p=(p+360)%360-180)&&p<h*o)){var g;(g=-u[1]*Re)<t&&(t=g)}else a<t&&(t=a),a>i&&(i=a);m?o<r?b(e,o)>b(e,n)&&(n=o):b(o,n)>b(e,n)&&(e=o):n>=e?(o<e&&(e=o),o>n&&(n=o)):o>r?b(e,o)>b(e,n)&&(n=o):b(o,n)>b(e,n)&&(e=o)}else f(o,a);l=s,r=o}function m(){h.point=p}function g(){d[0]=e,d[1]=n,h.point=f,l=null}function _(e,t){if(l){var n=e-r;c+=k(n)>180?n+(n>0?360:-360):n}else a=e,s=t;Rn.point(e,t),p(e,t)}function v(){Rn.lineStart()}function y(){_(a,s),Rn.lineEnd(),k(c)>Te&&(e=-(n=180)),d[0]=e,d[1]=n,l=null}function b(e,t){return(t-=e)<0?t+360:t}function w(e,t){return e[0]-t[0]}function M(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}return function(r){if(i=n=-(e=t=1/0),u=[],o.geo.stream(r,h),c=u.length){u.sort(w);for(var a=1,s=[m=u[0]];a<c;++a)M((f=u[a])[0],m)||M(f[1],m)?(b(m[0],f[1])>b(m[0],m[1])&&(m[1]=f[1]),b(f[0],m[1])>b(m[0],m[1])&&(m[0]=f[0])):s.push(m=f);for(var l,c,f,p=-1/0,m=(a=0,s[c=s.length-1]);a<=c;m=f,++a)f=s[a],(l=b(m[1],f[0]))>p&&(p=l,e=f[0],n=m[1])}return u=d=null,e===1/0||t===1/0?[[NaN,NaN],[NaN,NaN]]:[[e,t],[n,i]]}}(),o.geo.centroid=function(e){kn=Mn=xn=Cn=Sn=Tn=Ln=En=Dn=On=An=0,o.geo.stream(e,Bn);var t=Dn,n=On,i=An,r=t*t+n*n+i*i;return r<Le&&(t=Tn,n=Ln,i=En,Mn<Te&&(t=xn,n=Cn,i=Sn),(r=t*t+n*n+i*i)<Le)?[NaN,NaN]:[Math.atan2(n,t)*Re,He(i/Math.sqrt(r))*Re]};var Bn={sphere:I,point:Vn,lineStart:qn,lineEnd:Gn,polygonStart:function(){Bn.lineStart=Jn},polygonEnd:function(){Bn.lineStart=qn}};function Vn(e,t){e*=Ye;var n=Math.cos(t*=Ye);Un(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Un(e,t,n){xn+=(e-xn)/++kn,Cn+=(t-Cn)/kn,Sn+=(n-Sn)/kn}function qn(){var e,t,n;function i(i,r){i*=Ye;var o=Math.cos(r*=Ye),a=o*Math.cos(i),s=o*Math.sin(i),l=Math.sin(r),c=Math.atan2(Math.sqrt((c=t*l-n*s)*c+(c=n*a-e*l)*c+(c=e*s-t*a)*c),e*a+t*s+n*l);Mn+=c,Tn+=c*(e+(e=a)),Ln+=c*(t+(t=s)),En+=c*(n+(n=l)),Un(e,t,n)}Bn.point=function(r,o){r*=Ye;var a=Math.cos(o*=Ye);e=a*Math.cos(r),t=a*Math.sin(r),n=Math.sin(o),Bn.point=i,Un(e,t,n)}}function Gn(){Bn.point=Vn}function Jn(){var e,t,n,i,r;function o(e,t){e*=Ye;var o=Math.cos(t*=Ye),a=o*Math.cos(e),s=o*Math.sin(e),l=Math.sin(t),c=i*l-r*s,u=r*a-n*l,d=n*s-i*a,h=Math.sqrt(c*c+u*u+d*d),f=n*a+i*s+r*l,p=h&&-Ne(f)/h,m=Math.atan2(h,f);Dn+=p*c,On+=p*u,An+=p*d,Mn+=m,Tn+=m*(n+(n=a)),Ln+=m*(i+(i=s)),En+=m*(r+(r=l)),Un(n,i,r)}Bn.point=function(a,s){e=a,t=s,Bn.point=o,a*=Ye;var l=Math.cos(s*=Ye);n=l*Math.cos(a),i=l*Math.sin(a),r=Math.sin(s),Un(n,i,r)},Bn.lineEnd=function(){o(e,t),Bn.lineEnd=Gn,Bn.point=Vn}}function Kn(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,i){return(n=t.invert(n,i))&&e.invert(n[0],n[1])}),n}function Xn(){return!0}function Qn(e,t,n,i,r){var o=[],a=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],i=e[t];if(zn(n,i)){r.lineStart();for(var s=0;s<t;++s)r.point((n=e[s])[0],n[1]);r.lineEnd()}else{var l=new ei(n,e,null,!0),c=new ei(n,null,l,!1);l.o=c,o.push(l),a.push(c),c=new ei(i,null,l=new ei(i,e,null,!1),!0),l.o=c,o.push(l),a.push(c)}}}),a.sort(t),Zn(o),Zn(a),o.length){for(var s=0,l=n,c=a.length;s<c;++s)a[s].e=l=!l;for(var u,d,h=o[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;u=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(s=0,c=u.length;s<c;++s)r.point((d=u[s])[0],d[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p)for(s=(u=f.p.z).length-1;s>=0;--s)r.point((d=u[s])[0],d[1]);else i(f.x,f.p.x,-1,r);f=f.p}u=(f=f.o).z,p=!p}while(!f.v);r.lineEnd()}}}function Zn(e){if(t=e.length){for(var t,n,i=0,r=e[0];++i<t;)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}function ei(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function ti(e,t,n,i){return function(r,a){var s,l=t(a),c=r.invert(i[0],i[1]),u={point:d,lineStart:f,lineEnd:p,polygonStart:function(){u.point=b,u.lineStart=w,u.lineEnd=k,s=[],m=[]},polygonEnd:function(){u.point=d,u.lineStart=f,u.lineEnd=p,s=o.merge(s);var e=function(e,t){var n=e[0],i=e[1],r=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Yn.reset();for(var s=0,l=t.length;s<l;++s){var c=t[s],u=c.length;if(u)for(var d=c[0],h=d[0],f=d[1]/2+Ee/4,p=Math.sin(f),m=Math.cos(f),g=1;;){g===u&&(g=0);var _=(e=c[g])[0],v=e[1]/2+Ee/4,y=Math.sin(v),b=Math.cos(v),w=_-h,k=w>=0?1:-1,M=k*w,x=M>Ee,C=p*y;if(Yn.add(Math.atan2(C*k*Math.sin(M),m*b+C*Math.cos(M))),o+=x?w+k*De:w,x^h>=n^_>=n){var S=Hn(Pn(d),Pn(e));$n(S);var T=Hn(r,S);$n(T);var L=(x^w>=0?-1:1)*He(T[2]);(i>L||i===L&&(S[0]||S[1]))&&(a+=x^w>=0?1:-1)}if(!g++)break;h=_,p=y,m=b,d=e}}return(o<-Te||o<Te&&Yn<-Te)^1&a}(c,m);s.length?(y||(a.polygonStart(),y=!0),Qn(s,ri,e,n,a)):e&&(y||(a.polygonStart(),y=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),y&&(a.polygonEnd(),y=!1),s=m=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function d(t,n){var i=r(t,n);e(t=i[0],n=i[1])&&a.point(t,n)}function h(e,t){var n=r(e,t);l.point(n[0],n[1])}function f(){u.point=h,l.lineStart()}function p(){u.point=d,l.lineEnd()}var m,g,_=ii(),v=t(_),y=!1;function b(e,t){g.push([e,t]);var n=r(e,t);v.point(n[0],n[1])}function w(){v.lineStart(),g=[]}function k(){b(g[0][0],g[0][1]),v.lineEnd();var e,t=v.clean(),n=_.buffer(),i=n.length;if(g.pop(),m.push(g),g=null,i)if(1&t){var r,o=-1;if((i=(e=n[0]).length-1)>0){for(y||(a.polygonStart(),y=!0),a.lineStart();++o<i;)a.point((r=e[o])[0],r[1]);a.lineEnd()}}else i>1&&2&t&&n.push(n.pop().concat(n.shift())),s.push(n.filter(ni))}return u}}function ni(e){return e.length>1}function ii(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:I,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function ri(e,t){return((e=e.x)[0]<0?e[1]-Ae-Te:Ae-e[1])-((t=t.x)[0]<0?t[1]-Ae-Te:Ae-t[1])}var oi=ti(Xn,function(e){var t,n=NaN,i=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?Ee:-Ee,l=k(o-n);k(l-Ee)<Te?(e.point(n,i=(i+a)/2>0?Ae:-Ae),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(s,i),e.point(o,i),t=0):r!==s&&l>=Ee&&(k(n-r)<Te&&(n-=r*Te),k(o-s)<Te&&(o-=s*Te),i=function(e,t,n,i){var r,o,a=Math.sin(e-n);return k(a)>Te?Math.atan((Math.sin(t)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(t))*Math.sin(e))/(r*o*a)):(t+i)/2}(n,i,o,a),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(s,i),t=0),e.point(n=o,i=a),r=s},lineEnd:function(){e.lineEnd(),n=i=NaN},clean:function(){return 2-t}}},function(e,t,n,i){var r;if(null==e)r=n*Ae,i.point(-Ee,r),i.point(0,r),i.point(Ee,r),i.point(Ee,0),i.point(Ee,-r),i.point(0,-r),i.point(-Ee,-r),i.point(-Ee,0),i.point(-Ee,r);else if(k(e[0]-t[0])>Te){var o=e[0]<t[0]?Ee:-Ee;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])},[-Ee,-Ee/2]);function ai(e,t,n,i){return function(r){var o,a=r.a,s=r.b,l=a.x,c=a.y,u=0,d=1,h=s.x-l,f=s.y-c;if(o=e-l,h||!(o>0)){if(o/=h,h<0){if(o<u)return;o<d&&(d=o)}else if(h>0){if(o>d)return;o>u&&(u=o)}if(o=n-l,h||!(o<0)){if(o/=h,h<0){if(o>d)return;o>u&&(u=o)}else if(h>0){if(o<u)return;o<d&&(d=o)}if(o=t-c,f||!(o>0)){if(o/=f,f<0){if(o<u)return;o<d&&(d=o)}else if(f>0){if(o>d)return;o>u&&(u=o)}if(o=i-c,f||!(o<0)){if(o/=f,f<0){if(o>d)return;o>u&&(u=o)}else if(f>0){if(o<u)return;o<d&&(d=o)}return u>0&&(r.a={x:l+u*h,y:c+u*f}),d<1&&(r.b={x:l+d*h,y:c+d*f}),r}}}}}}var si=1e9;function li(e,t,n,i){return function(l){var c,u,d,h,f,p,m,g,_,v,y,b=l,w=ii(),k=ai(e,t,n,i),M={point:S,lineStart:function(){M.point=T,u&&u.push(d=[]);v=!0,_=!1,m=g=NaN},lineEnd:function(){c&&(T(h,f),p&&_&&w.rejoin(),c.push(w.buffer()));M.point=S,_&&l.lineEnd()},polygonStart:function(){l=w,c=[],u=[],y=!0},polygonEnd:function(){l=b,c=o.merge(c);var t=function(e){for(var t=0,n=u.length,i=e[1],r=0;r<n;++r)for(var o,a=1,s=u[r],l=s.length,c=s[0];a<l;++a)o=s[a],c[1]<=i?o[1]>i&&Pe(c,o,e)>0&&++t:o[1]<=i&&Pe(c,o,e)<0&&--t,c=o;return 0!==t}([e,i]),n=y&&t,r=c.length;(n||r)&&(l.polygonStart(),n&&(l.lineStart(),x(null,null,1,l),l.lineEnd()),r&&Qn(c,a,t,x,l),l.polygonEnd()),c=u=d=null}};function x(o,a,l,c){var u=0,d=0;if(null==o||(u=r(o,l))!==(d=r(a,l))||s(o,a)<0^l>0)do{c.point(0===u||3===u?e:n,u>1?i:t)}while((u=(u+l+4)%4)!==d);else c.point(a[0],a[1])}function C(r,o){return e<=r&&r<=n&&t<=o&&o<=i}function S(e,t){C(e,t)&&l.point(e,t)}function T(e,t){var n=C(e=Math.max(-si,Math.min(si,e)),t=Math.max(-si,Math.min(si,t)));if(u&&d.push([e,t]),v)h=e,f=t,p=n,v=!1,n&&(l.lineStart(),l.point(e,t));else if(n&&_)l.point(e,t);else{var i={a:{x:m,y:g},b:{x:e,y:t}};k(i)?(_||(l.lineStart(),l.point(i.a.x,i.a.y)),l.point(i.b.x,i.b.y),n||l.lineEnd(),y=!1):n&&(l.lineStart(),l.point(e,t),y=!1)}m=e,g=t,_=n}return M};function r(i,r){return k(i[0]-e)<Te?r>0?0:3:k(i[0]-n)<Te?r>0?2:1:k(i[1]-t)<Te?r>0?1:0:r>0?3:2}function a(e,t){return s(e.x,t.x)}function s(e,t){var n=r(e,1),i=r(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}}function ci(e){var t=0,n=Ee/3,i=Oi(e),r=i(t,n);return r.parallels=function(e){return arguments.length?i(t=e[0]*Ee/180,n=e[1]*Ee/180):[t/Ee*180,n/Ee*180]},r}function ui(e,t){var n=Math.sin(e),i=(n+Math.sin(t))/2,r=1+n*(2*i-n),o=Math.sqrt(r)/i;function a(e,t){var n=Math.sqrt(r-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),o-n*Math.cos(e)]}return a.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,He((r-(e*e+n*n)*i*i)/(2*i))]},a}o.geo.clipExtent=function(){var e,t,n,i,r,o,a={stream:function(e){return r&&(r.valid=!1),(r=o(e)).valid=!0,r},extent:function(s){return arguments.length?(o=li(e=+s[0][0],t=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),a):[[e,t],[n,i]]}};return a.extent([[0,0],[960,500]])},(o.geo.conicEqualArea=function(){return ci(ui)}).raw=ui,o.geo.albers=function(){return o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},o.geo.albersUsa=function(){var e,t,n,i,r=o.geo.albers(),a=o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};function c(r){var o=r[0],a=r[1];return e=null,t(o,a),e||(n(o,a),e)||i(o,a),e}return c.invert=function(e){var t=r.scale(),n=r.translate(),i=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&i>=-.425&&i<-.214?a:o>=.166&&o<.234&&i>=-.214&&i<-.115?s:r).invert(e)},c.stream=function(e){var t=r.stream(e),n=a.stream(e),i=s.stream(e);return{point:function(e,r){t.point(e,r),n.point(e,r),i.point(e,r)},sphere:function(){t.sphere(),n.sphere(),i.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},c.precision=function(e){return arguments.length?(r.precision(e),a.precision(e),s.precision(e),c):r.precision()},c.scale=function(e){return arguments.length?(r.scale(e),a.scale(.35*e),s.scale(e),c.translate(r.translate())):r.scale()},c.translate=function(e){if(!arguments.length)return r.translate();var o=r.scale(),u=+e[0],d=+e[1];return t=r.translate(e).clipExtent([[u-.455*o,d-.238*o],[u+.455*o,d+.238*o]]).stream(l).point,n=a.translate([u-.307*o,d+.201*o]).clipExtent([[u-.425*o+Te,d+.12*o+Te],[u-.214*o-Te,d+.234*o-Te]]).stream(l).point,i=s.translate([u-.205*o,d+.212*o]).clipExtent([[u-.214*o+Te,d+.166*o+Te],[u-.115*o-Te,d+.234*o-Te]]).stream(l).point,c},c.scale(1070)};var di,hi,fi,pi,mi,gi,_i={point:I,lineStart:I,lineEnd:I,polygonStart:function(){hi=0,_i.lineStart=vi},polygonEnd:function(){_i.lineStart=_i.lineEnd=_i.point=I,di+=k(hi/2)}};function vi(){var e,t,n,i;function r(e,t){hi+=i*e-n*t,n=e,i=t}_i.point=function(o,a){_i.point=r,e=n=o,t=i=a},_i.lineEnd=function(){r(e,t)}}var yi={point:function(e,t){e<fi&&(fi=e);e>mi&&(mi=e);t<pi&&(pi=t);t>gi&&(gi=t)},lineStart:I,lineEnd:I,polygonStart:I,polygonEnd:I};function bi(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var wi,ki={point:Mi,lineStart:xi,lineEnd:Ci,polygonStart:function(){ki.lineStart=Si},polygonEnd:function(){ki.point=Mi,ki.lineStart=xi,ki.lineEnd=Ci}};function Mi(e,t){xn+=e,Cn+=t,++Sn}function xi(){var e,t;function n(n,i){var r=n-e,o=i-t,a=Math.sqrt(r*r+o*o);Tn+=a*(e+n)/2,Ln+=a*(t+i)/2,En+=a,Mi(e=n,t=i)}ki.point=function(i,r){ki.point=n,Mi(e=i,t=r)}}function Ci(){ki.point=Mi}function Si(){var e,t,n,i;function r(e,t){var r=e-n,o=t-i,a=Math.sqrt(r*r+o*o);Tn+=a*(n+e)/2,Ln+=a*(i+t)/2,En+=a,Dn+=(a=i*e-n*t)*(n+e),On+=a*(i+t),An+=3*a,Mi(n=e,i=t)}ki.point=function(o,a){ki.point=r,Mi(e=n=o,t=i=a)},ki.lineEnd=function(){r(e,t)}}function Ti(e){var t=.5,n=Math.cos(30*Ye),i=16;function r(t){return(i?function(t){var n,r,a,s,l,c,u,d,h,f,p,m,g={point:_,lineStart:v,lineEnd:b,polygonStart:function(){t.polygonStart(),g.lineStart=w},polygonEnd:function(){t.polygonEnd(),g.lineStart=v}};function _(n,i){n=e(n,i),t.point(n[0],n[1])}function v(){d=NaN,g.point=y,t.lineStart()}function y(n,r){var a=Pn([n,r]),s=e(n,r);o(d,h,u,f,p,m,d=s[0],h=s[1],u=n,f=a[0],p=a[1],m=a[2],i,t),t.point(d,h)}function b(){g.point=_,t.lineEnd()}function w(){v(),g.point=k,g.lineEnd=M}function k(e,t){y(n=e,t),r=d,a=h,s=f,l=p,c=m,g.point=y}function M(){o(d,h,u,f,p,m,r,a,n,s,l,c,i,t),g.lineEnd=b,b()}return g}:function(t){return Ei(t,function(n,i){n=e(n,i),t.point(n[0],n[1])})})(t)}function o(i,r,a,s,l,c,u,d,h,f,p,m,g,_){var v=u-i,y=d-r,b=v*v+y*y;if(b>4*t&&g--){var w=s+f,M=l+p,x=c+m,C=Math.sqrt(w*w+M*M+x*x),S=Math.asin(x/=C),T=k(k(x)-1)<Te||k(a-h)<Te?(a+h)/2:Math.atan2(M,w),L=e(T,S),E=L[0],D=L[1],O=E-i,A=D-r,Y=y*O-v*A;(Y*Y/b>t||k((v*O+y*A)/b-.5)>.3||s*f+l*p+c*m<n)&&(o(i,r,a,s,l,c,E,D,T,w/=C,M/=C,x,g,_),_.point(E,D),o(E,D,T,w,M,x,u,d,h,f,p,m,g,_))}}return r.precision=function(e){return arguments.length?(i=(t=e*e)>0&&16,r):Math.sqrt(t)},r}function Li(e){this.stream=e}function Ei(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Di(e){return Oi(function(){return e})()}function Oi(e){var t,n,i,r,a,s,l=Ti(function(e,n){return[(e=t(e,n))[0]*c+r,a-e[1]*c]}),c=150,u=480,d=250,h=0,f=0,p=0,m=0,g=0,_=oi,v=j,y=null,b=null;function w(e){return[(e=i(e[0]*Ye,e[1]*Ye))[0]*c+r,a-e[1]*c]}function M(e){return(e=i.invert((e[0]-r)/c,(a-e[1])/c))&&[e[0]*Re,e[1]*Re]}function x(){i=Kn(n=ji(p,m,g),t);var e=t(h,f);return r=u-e[0]*c,a=d+e[1]*c,C()}function C(){return s&&(s.valid=!1,s=null),w}return w.stream=function(e){return s&&(s.valid=!1),(s=Ai(_(n,l(v(e))))).valid=!0,s},w.clipAngle=function(e){return arguments.length?(_=null==e?(y=e,oi):function(e){var t=Math.cos(e),n=t>0,i=k(t)>Te;return ti(r,function(e){var t,s,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(d,h){var f,p=[d,h],m=r(d,h),g=n?m?0:a(d,h):m?a(d+(d<0?Ee:-Ee),h):0;if(!t&&(c=l=m)&&e.lineStart(),m!==l&&(f=o(t,p),(zn(t,f)||zn(p,f))&&(p[0]+=Te,p[1]+=Te,m=r(p[0],p[1]))),m!==l)u=0,m?(e.lineStart(),f=o(p,t),e.point(f[0],f[1])):(f=o(t,p),e.point(f[0],f[1]),e.lineEnd()),t=f;else if(i&&t&&n^m){var _;g&s||!(_=o(p,t,!0))||(u=0,n?(e.lineStart(),e.point(_[0][0],_[0][1]),e.point(_[1][0],_[1][1]),e.lineEnd()):(e.point(_[1][0],_[1][1]),e.lineEnd(),e.lineStart(),e.point(_[0][0],_[0][1])))}!m||t&&zn(t,p)||e.point(p[0],p[1]),t=p,l=m,s=g},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return u|(c&&l)<<1}}},Ii(e,6*Ye),n?[0,-e]:[-Ee,e-Ee]);function r(e,n){return Math.cos(e)*Math.cos(n)>t}function o(e,n,i){var r=[1,0,0],o=Hn(Pn(e),Pn(n)),a=Nn(o,o),s=o[0],l=a-s*s;if(!l)return!i&&e;var c=t*a/l,u=-t*s/l,d=Hn(r,o),h=Fn(r,c);In(h,Fn(o,u));var f=d,p=Nn(h,f),m=Nn(f,f),g=p*p-m*(Nn(h,h)-1);if(!(g<0)){var _=Math.sqrt(g),v=Fn(f,(-p-_)/m);if(In(v,h),v=Wn(v),!i)return v;var y,b=e[0],w=n[0],M=e[1],x=n[1];w<b&&(y=b,b=w,w=y);var C=w-b,S=k(C-Ee)<Te;if(!S&&x<M&&(y=M,M=x,x=y),S||C<Te?S?M+x>0^v[1]<(k(v[0]-b)<Te?M:x):M<=v[1]&&v[1]<=x:C>Ee^(b<=v[0]&&v[0]<=w)){var T=Fn(f,(-p+_)/m);return In(T,h),[v,Wn(T)]}}}function a(t,i){var r=n?e:Ee-e,o=0;return t<-r?o|=1:t>r&&(o|=2),i<-r?o|=4:i>r&&(o|=8),o}}((y=+e)*Ye),C()):y},w.clipExtent=function(e){return arguments.length?(b=e,v=e?li(e[0][0],e[0][1],e[1][0],e[1][1]):j,C()):b},w.scale=function(e){return arguments.length?(c=+e,x()):c},w.translate=function(e){return arguments.length?(u=+e[0],d=+e[1],x()):[u,d]},w.center=function(e){return arguments.length?(h=e[0]%360*Ye,f=e[1]%360*Ye,x()):[h*Re,f*Re]},w.rotate=function(e){return arguments.length?(p=e[0]%360*Ye,m=e[1]%360*Ye,g=e.length>2?e[2]%360*Ye:0,x()):[p*Re,m*Re,g*Re]},o.rebind(w,l,"precision"),function(){return t=e.apply(this,arguments),w.invert=t.invert&&M,x()}}function Ai(e){return Ei(e,function(t,n){e.point(t*Ye,n*Ye)})}function Yi(e,t){return[e,t]}function Ri(e,t){return[e>Ee?e-De:e<-Ee?e+De:e,t]}function ji(e,t,n){return e?t||n?Kn(Ni(e),Hi(t,n)):Ni(e):t||n?Hi(t,n):Ri}function Pi(e){return function(t,n){return[(t+=e)>Ee?t-De:t<-Ee?t+De:t,n]}}function Ni(e){var t=Pi(e);return t.invert=Pi(-e),t}function Hi(e,t){var n=Math.cos(e),i=Math.sin(e),r=Math.cos(t),o=Math.sin(t);function a(e,t){var a=Math.cos(t),s=Math.cos(e)*a,l=Math.sin(e)*a,c=Math.sin(t),u=c*n+s*i;return[Math.atan2(l*r-u*o,s*n-c*i),He(u*r+l*o)]}return a.invert=function(e,t){var a=Math.cos(t),s=Math.cos(e)*a,l=Math.sin(e)*a,c=Math.sin(t),u=c*r-l*o;return[Math.atan2(l*r+c*o,s*n+u*i),He(u*n-s*i)]},a}function Ii(e,t){var n=Math.cos(e),i=Math.sin(e);return function(r,o,a,s){var l=a*t;null!=r?(r=Fi(n,r),o=Fi(n,o),(a>0?r<o:r>o)&&(r+=a*De)):(r=e+a*De,o=e-.5*l);for(var c,u=r;a>0?u>o:u<o;u-=l)s.point((c=Wn([n,-i*Math.cos(u),-i*Math.sin(u)]))[0],c[1])}}function Fi(e,t){var n=Pn(t);n[0]-=e,$n(n);var i=Ne(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Te)%(2*Math.PI)}function $i(e,t,n){var i=o.range(e,t-Te,n).concat(t);return function(e){return i.map(function(t){return[e,t]})}}function Wi(e,t,n){var i=o.range(e,t-Te,n).concat(t);return function(e){return i.map(function(t){return[t,e]})}}function zi(e){return e.source}function Bi(e){return e.target}o.geo.path=function(){var e,t,n,i,r,a=4.5;function s(e){return e&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),r&&r.valid||(r=n(i)),o.geo.stream(e,r)),i.result()}function l(){return r=null,s}return s.area=function(e){return di=0,o.geo.stream(e,n(_i)),di},s.centroid=function(e){return xn=Cn=Sn=Tn=Ln=En=Dn=On=An=0,o.geo.stream(e,n(ki)),An?[Dn/An,On/An]:En?[Tn/En,Ln/En]:Sn?[xn/Sn,Cn/Sn]:[NaN,NaN]},s.bounds=function(e){return mi=gi=-(fi=pi=1/0),o.geo.stream(e,n(yi)),[[fi,pi],[mi,gi]]},s.projection=function(t){return arguments.length?(n=(e=t)?t.stream||function(e){var t=Ti(function(t,n){return e([t*Re,n*Re])});return function(e){return Ai(t(e))}}(t):j,l()):e},s.context=function(e){return arguments.length?(i=null==(t=e)?new function(){var e=bi(4.5),t=[],n={point:i,lineStart:function(){n.point=r},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=i},pointRadius:function(t){return e=bi(t),n},result:function(){if(t.length){var e=t.join("");return t=[],e}}};function i(n,i){t.push("M",n,",",i,e)}function r(e,i){t.push("M",e,",",i),n.point=o}function o(e,n){t.push("L",e,",",n)}function a(){n.point=i}function s(){t.push("Z")}return n}:new function(e){var t=4.5,n={point:i,lineStart:function(){n.point=r},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=i},pointRadius:function(e){return t=e,n},result:I};function i(n,i){e.moveTo(n+t,i),e.arc(n,i,t,0,De)}function r(t,i){e.moveTo(t,i),n.point=o}function o(t,n){e.lineTo(t,n)}function a(){n.point=i}function s(){e.closePath()}return n}(e),"function"!=typeof a&&i.pointRadius(a),l()):t},s.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(i.pointRadius(+e),+e),s):a},s.projection(o.geo.albersUsa()).context(null)},o.geo.transform=function(e){return{stream:function(t){var n=new Li(t);for(var i in e)n[i]=e[i];return n}}},Li.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},o.geo.projection=Di,o.geo.projectionMutator=Oi,(o.geo.equirectangular=function(){return Di(Yi)}).raw=Yi.invert=Yi,o.geo.rotation=function(e){function t(t){return(t=e(t[0]*Ye,t[1]*Ye))[0]*=Re,t[1]*=Re,t}return e=ji(e[0]%360*Ye,e[1]*Ye,e.length>2?e[2]*Ye:0),t.invert=function(t){return(t=e.invert(t[0]*Ye,t[1]*Ye))[0]*=Re,t[1]*=Re,t},t},Ri.invert=Yi,o.geo.circle=function(){var e,t,n=[0,0],i=6;function r(){var e="function"==typeof n?n.apply(this,arguments):n,i=ji(-e[0]*Ye,-e[1]*Ye,0).invert,r=[];return t(null,null,1,{point:function(e,t){r.push(e=i(e,t)),e[0]*=Re,e[1]*=Re}}),{type:"Polygon",coordinates:[r]}}return r.origin=function(e){return arguments.length?(n=e,r):n},r.angle=function(n){return arguments.length?(t=Ii((e=+n)*Ye,i*Ye),r):e},r.precision=function(n){return arguments.length?(t=Ii(e*Ye,(i=+n)*Ye),r):i},r.angle(90)},o.geo.distance=function(e,t){var n,i=(t[0]-e[0])*Ye,r=e[1]*Ye,o=t[1]*Ye,a=Math.sin(i),s=Math.cos(i),l=Math.sin(r),c=Math.cos(r),u=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*a)*n+(n=c*u-l*d*s)*n),l*u+c*d*s)},o.geo.graticule=function(){var e,t,n,i,r,a,s,l,c,u,d,h,f=10,p=f,m=90,g=360,_=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return o.range(Math.ceil(i/m)*m,n,m).map(d).concat(o.range(Math.ceil(l/g)*g,s,g).map(h)).concat(o.range(Math.ceil(t/f)*f,e,f).filter(function(e){return k(e%m)>Te}).map(c)).concat(o.range(Math.ceil(a/p)*p,r,p).filter(function(e){return k(e%g)>Te}).map(u))}return v.lines=function(){return y().map(function(e){return{type:"LineString",coordinates:e}})},v.outline=function(){return{type:"Polygon",coordinates:[d(i).concat(h(s).slice(1),d(n).reverse().slice(1),h(l).reverse().slice(1))]}},v.extent=function(e){return arguments.length?v.majorExtent(e).minorExtent(e):v.minorExtent()},v.majorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],l=+e[0][1],s=+e[1][1],i>n&&(e=i,i=n,n=e),l>s&&(e=l,l=s,s=e),v.precision(_)):[[i,l],[n,s]]},v.minorExtent=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],a=+n[0][1],r=+n[1][1],t>e&&(n=t,t=e,e=n),a>r&&(n=a,a=r,r=n),v.precision(_)):[[t,a],[e,r]]},v.step=function(e){return arguments.length?v.majorStep(e).minorStep(e):v.minorStep()},v.majorStep=function(e){return arguments.length?(m=+e[0],g=+e[1],v):[m,g]},v.minorStep=function(e){return arguments.length?(f=+e[0],p=+e[1],v):[f,p]},v.precision=function(o){return arguments.length?(_=+o,c=$i(a,r,90),u=Wi(t,e,_),d=$i(l,s,90),h=Wi(i,n,_),v):_},v.majorExtent([[-180,-90+Te],[180,90-Te]]).minorExtent([[-180,-80-Te],[180,80+Te]])},o.geo.greatArc=function(){var e,t,n=zi,i=Bi;function r(){return{type:"LineString",coordinates:[e||n.apply(this,arguments),t||i.apply(this,arguments)]}}return r.distance=function(){return o.geo.distance(e||n.apply(this,arguments),t||i.apply(this,arguments))},r.source=function(t){return arguments.length?(n=t,e="function"==typeof t?null:t,r):n},r.target=function(e){return arguments.length?(i=e,t="function"==typeof e?null:e,r):i},r.precision=function(){return arguments.length?r:0},r},o.geo.interpolate=function(e,t){return function(e,t,n,i){var r=Math.cos(t),o=Math.sin(t),a=Math.cos(i),s=Math.sin(i),l=r*Math.cos(e),c=r*Math.sin(e),u=a*Math.cos(n),d=a*Math.sin(n),h=2*Math.asin(Math.sqrt(Fe(i-t)+r*a*Fe(n-e))),f=1/Math.sin(h),p=h?function(e){var t=Math.sin(e*=h)*f,n=Math.sin(h-e)*f,i=n*l+t*u,r=n*c+t*d,a=n*o+t*s;return[Math.atan2(r,i)*Re,Math.atan2(a,Math.sqrt(i*i+r*r))*Re]}:function(){return[e*Re,t*Re]};return p.distance=h,p}(e[0]*Ye,e[1]*Ye,t[0]*Ye,t[1]*Ye)},o.geo.length=function(e){return wi=0,o.geo.stream(e,Vi),wi};var Vi={sphere:I,point:I,lineStart:function(){var e,t,n;function i(i,r){var o=Math.sin(r*=Ye),a=Math.cos(r),s=k((i*=Ye)-e),l=Math.cos(s);wi+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=n*o-t*a*l)*s),t*o+n*a*l),e=i,t=o,n=a}Vi.point=function(r,o){e=r*Ye,t=Math.sin(o*=Ye),n=Math.cos(o),Vi.point=i},Vi.lineEnd=function(){Vi.point=Vi.lineEnd=I}},lineEnd:I,polygonStart:I,polygonEnd:I};function Ui(e,t){function n(t,n){var i=Math.cos(t),r=Math.cos(n),o=e(i*r);return[o*r*Math.sin(t),o*Math.sin(n)]}return n.invert=function(e,n){var i=Math.sqrt(e*e+n*n),r=t(i),o=Math.sin(r),a=Math.cos(r);return[Math.atan2(e*o,i*a),Math.asin(i&&n*o/i)]},n}var qi=Ui(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(o.geo.azimuthalEqualArea=function(){return Di(qi)}).raw=qi;var Gi=Ui(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},j);function Ji(e,t){var n=Math.cos(e),i=function(e){return Math.tan(Ee/4+e/2)},r=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(i(t)/i(e)),o=n*Math.pow(i(e),r)/r;if(!r)return Qi;function a(e,t){o>0?t<-Ae+Te&&(t=-Ae+Te):t>Ae-Te&&(t=Ae-Te);var n=o/Math.pow(i(t),r);return[n*Math.sin(r*e),o-n*Math.cos(r*e)]}return a.invert=function(e,t){var n=o-t,i=je(r)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/r,2*Math.atan(Math.pow(o/i,1/r))-Ae]},a}function Ki(e,t){var n=Math.cos(e),i=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),r=n/i+e;if(k(i)<Te)return Yi;function o(e,t){var n=r-t;return[n*Math.sin(i*e),r-n*Math.cos(i*e)]}return o.invert=function(e,t){var n=r-t;return[Math.atan2(e,n)/i,r-je(i)*Math.sqrt(e*e+n*n)]},o}(o.geo.azimuthalEquidistant=function(){return Di(Gi)}).raw=Gi,(o.geo.conicConformal=function(){return ci(Ji)}).raw=Ji,(o.geo.conicEquidistant=function(){return ci(Ki)}).raw=Ki;var Xi=Ui(function(e){return 1/e},Math.atan);function Qi(e,t){return[e,Math.log(Math.tan(Ee/4+t/2))]}function Zi(e){var t,n=Di(e),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=o.apply(n,arguments);if(a===n){if(t=null==e){var s=Ee*i(),l=r();o([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else t&&(a=null);return a},n.clipExtent(null)}(o.geo.gnomonic=function(){return Di(Xi)}).raw=Xi,Qi.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Ae]},(o.geo.mercator=function(){return Zi(Qi)}).raw=Qi;var er=Ui(function(){return 1},Math.asin);(o.geo.orthographic=function(){return Di(er)}).raw=er;var tr=Ui(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});function nr(e,t){return[Math.log(Math.tan(Ee/4+t/2)),-e]}function ir(e){return e[0]}function rr(e){return e[1]}function or(e){for(var t=e.length,n=[0,1],i=2,r=2;r<t;r++){for(;i>1&&Pe(e[n[i-2]],e[n[i-1]],e[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function ar(e,t){return e[0]-t[0]||e[1]-t[1]}(o.geo.stereographic=function(){return Di(tr)}).raw=tr,nr.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Ae]},(o.geo.transverseMercator=function(){var e=Zi(nr),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90])}).raw=nr,o.geom={},o.geom.hull=function(e){var t=ir,n=rr;if(arguments.length)return i(e);function i(e){if(e.length<3)return[];var i,r=bt(t),o=bt(n),a=e.length,s=[],l=[];for(i=0;i<a;i++)s.push([+r.call(this,e[i],i),+o.call(this,e[i],i),i]);for(s.sort(ar),i=0;i<a;i++)l.push([s[i][0],-s[i][1]]);var c=or(s),u=or(l),d=u[0]===c[0],h=u[u.length-1]===c[c.length-1],f=[];for(i=c.length-1;i>=0;--i)f.push(e[s[c[i]][2]]);for(i=+d;i<u.length-h;++i)f.push(e[s[u[i]][2]]);return f}return i.x=function(e){return arguments.length?(t=e,i):t},i.y=function(e){return arguments.length?(n=e,i):n},i},o.geom.polygon=function(e){return U(e,sr),e};var sr=o.geom.polygon.prototype=[];function lr(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function cr(e,t,n,i){var r=e[0],o=n[0],a=t[0]-r,s=i[0]-o,l=e[1],c=n[1],u=t[1]-l,d=i[1]-c,h=(s*(l-c)-d*(r-o))/(d*a-s*u);return[r+h*a,l+h*u]}function ur(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}sr.area=function(){for(var e,t=-1,n=this.length,i=this[n-1],r=0;++t<n;)e=i,i=this[t],r+=e[1]*i[0]-e[0]*i[1];return.5*r},sr.centroid=function(e){var t,n,i=-1,r=this.length,o=0,a=0,s=this[r-1];for(arguments.length||(e=-1/(6*this.area()));++i<r;)t=s,s=this[i],n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[o*e,a*e]},sr.clip=function(e){for(var t,n,i,r,o,a,s=ur(e),l=-1,c=this.length-ur(this),u=this[c-1];++l<c;){for(t=e.slice(),e.length=0,r=this[l],o=t[(i=t.length-s)-1],n=-1;++n<i;)lr(a=t[n],u,r)?(lr(o,u,r)||e.push(cr(o,a,u,r)),e.push(a)):lr(o,u,r)&&e.push(cr(o,a,u,r)),o=a;s&&e.push(e[0]),u=r}return e};var dr,hr,fr,pr,mr,gr=[],_r=[];function vr(e){var t=gr.pop()||new function(){jr(this),this.edge=this.site=this.circle=null};return t.site=e,t}function yr(e){Tr(e),fr.remove(e),gr.push(e),jr(e)}function br(e){var t=e.circle,n=t.x,i=t.cy,r={x:n,y:i},o=e.P,a=e.N,s=[e];yr(e);for(var l=o;l.circle&&k(n-l.circle.x)<Te&&k(i-l.circle.cy)<Te;)o=l.P,s.unshift(l),yr(l),l=o;s.unshift(l),Tr(l);for(var c=a;c.circle&&k(n-c.circle.x)<Te&&k(i-c.circle.cy)<Te;)a=c.N,s.push(c),yr(c),c=a;s.push(c),Tr(c);var u,d=s.length;for(u=1;u<d;++u)c=s[u],l=s[u-1],Ar(c.edge,l.site,c.site,r);l=s[0],(c=s[d-1]).edge=Dr(l.site,c.site,null,r),Sr(l),Sr(c)}function wr(e){for(var t,n,i,r,o=e.x,a=e.y,s=fr._;s;)if((i=kr(s,a)-o)>Te)s=s.L;else{if(!((r=o-Mr(s,a))>Te)){i>-Te?(t=s.P,n=s):r>-Te?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var l=vr(e);if(fr.insert(t,l),t||n){if(t===n)return Tr(t),n=vr(t.site),fr.insert(l,n),l.edge=n.edge=Dr(t.site,l.site),Sr(t),void Sr(n);if(n){Tr(t),Tr(n);var c=t.site,u=c.x,d=c.y,h=e.x-u,f=e.y-d,p=n.site,m=p.x-u,g=p.y-d,_=2*(h*g-f*m),v=h*h+f*f,y=m*m+g*g,b={x:(g*v-f*y)/_+u,y:(h*y-m*v)/_+d};Ar(n.edge,c,p,b),l.edge=Dr(c,e,null,b),n.edge=Dr(e,p,null,b),Sr(t),Sr(n)}else l.edge=Dr(t.site,l.site)}}function kr(e,t){var n=e.site,i=n.x,r=n.y,o=r-t;if(!o)return i;var a=e.P;if(!a)return-1/0;var s=(n=a.site).x,l=n.y,c=l-t;if(!c)return s;var u=s-i,d=1/o-1/c,h=u/c;return d?(-h+Math.sqrt(h*h-2*d*(u*u/(-2*c)-l+c/2+r-o/2)))/d+i:(i+s)/2}function Mr(e,t){var n=e.N;if(n)return kr(n,t);var i=e.site;return i.y===t?i.x:1/0}function xr(e){this.site=e,this.edges=[]}function Cr(e,t){return t.angle-e.angle}function Sr(e){var t=e.P,n=e.N;if(t&&n){var i=t.site,r=e.site,o=n.site;if(i!==o){var a=r.x,s=r.y,l=i.x-a,c=i.y-s,u=o.x-a,d=2*(l*(g=o.y-s)-c*u);if(!(d>=-Le)){var h=l*l+c*c,f=u*u+g*g,p=(g*h-c*f)/d,m=(l*f-u*h)/d,g=m+s,_=_r.pop()||new function(){jr(this),this.x=this.y=this.arc=this.site=this.cy=null};_.arc=e,_.site=r,_.x=p+a,_.y=g+Math.sqrt(p*p+m*m),_.cy=g,e.circle=_;for(var v=null,y=mr._;y;)if(_.y<y.y||_.y===y.y&&_.x<=y.x){if(!y.L){v=y.P;break}y=y.L}else{if(!y.R){v=y;break}y=y.R}mr.insert(v,_),v||(pr=_)}}}}function Tr(e){var t=e.circle;t&&(t.P||(pr=t.N),mr.remove(t),_r.push(t),jr(t),e.circle=null)}function Lr(e,t){var n=e.b;if(n)return!0;var i,r,o=e.a,a=t[0][0],s=t[1][0],l=t[0][1],c=t[1][1],u=e.l,d=e.r,h=u.x,f=u.y,p=d.x,m=d.y,g=(h+p)/2,_=(f+m)/2;if(m===f){if(g<a||g>=s)return;if(h>p){if(o){if(o.y>=c)return}else o={x:g,y:l};n={x:g,y:c}}else{if(o){if(o.y<l)return}else o={x:g,y:c};n={x:g,y:l}}}else if(r=_-(i=(h-p)/(m-f))*g,i<-1||i>1)if(h>p){if(o){if(o.y>=c)return}else o={x:(l-r)/i,y:l};n={x:(c-r)/i,y:c}}else{if(o){if(o.y<l)return}else o={x:(c-r)/i,y:c};n={x:(l-r)/i,y:l}}else if(f<m){if(o){if(o.x>=s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}else{if(o){if(o.x<a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}return e.a=o,e.b=n,!0}function Er(e,t){this.l=e,this.r=t,this.a=this.b=null}function Dr(e,t,n,i){var r=new Er(e,t);return dr.push(r),n&&Ar(r,e,t,n),i&&Ar(r,t,e,i),hr[e.i].edges.push(new Yr(r,e,t)),hr[t.i].edges.push(new Yr(r,t,e)),r}function Or(e,t,n){var i=new Er(e,null);return i.a=t,i.b=n,dr.push(i),i}function Ar(e,t,n,i){e.a||e.b?e.l===n?e.b=i:e.a=i:(e.a=i,e.l=t,e.r=n)}function Yr(e,t,n){var i=e.a,r=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function Rr(){this._=null}function jr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Pr(e,t){var n=t,i=t.R,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Nr(e,t){var n=t,i=t.L,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Hr(e){for(;e.L;)e=e.L;return e}function Ir(e,t){var n,i,r,o=e.sort(Fr).pop();for(dr=[],hr=new Array(e.length),fr=new Rr,mr=new Rr;;)if(r=pr,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(hr[o.i]=new xr(o),wr(o),n=o.x,i=o.y),o=e.pop();else{if(!r)break;br(r.arc)}t&&(function(e){for(var t,n=dr,i=ai(e[0][0],e[0][1],e[1][0],e[1][1]),r=n.length;r--;)(!Lr(t=n[r],e)||!i(t)||k(t.a.x-t.b.x)<Te&&k(t.a.y-t.b.y)<Te)&&(t.a=t.b=null,n.splice(r,1))}(t),function(e){for(var t,n,i,r,o,a,s,l,c,u,d=e[0][0],h=e[1][0],f=e[0][1],p=e[1][1],m=hr,g=m.length;g--;)if((o=m[g])&&o.prepare())for(l=(s=o.edges).length,a=0;a<l;)i=(u=s[a].end()).x,r=u.y,t=(c=s[++a%l].start()).x,n=c.y,(k(i-t)>Te||k(r-n)>Te)&&(s.splice(a,0,new Yr(Or(o.site,u,k(i-d)<Te&&p-r>Te?{x:d,y:k(t-d)<Te?n:p}:k(r-p)<Te&&h-i>Te?{x:k(n-p)<Te?t:h,y:p}:k(i-h)<Te&&r-f>Te?{x:h,y:k(t-h)<Te?n:f}:k(r-f)<Te&&i-d>Te?{x:k(n-f)<Te?t:d,y:f}:null),o.site,null)),++l)}(t));var a={cells:hr,edges:dr};return fr=mr=dr=hr=null,a}function Fr(e,t){return t.y-e.y||t.x-e.x}xr.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)(e=t[n].edge).b&&e.a||t.splice(n,1);return t.sort(Cr),t.length},Yr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Rr.prototype={insert:function(e,t){var n,i,r;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=Hr(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.R&&(Pr(this,n),n=(e=n).U),n.C=!1,i.C=!0,Nr(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.L&&(Nr(this,n),n=(e=n).U),n.C=!1,i.C=!0,Pr(this,i)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,i,r=e.U,o=e.L,a=e.R;if(n=o?a?Hr(a):o:a,r?r.L===e?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=e.U,e=n.R,r.L=e,n.R=a,a.U=n):(n.U=r,r=n,e=n.R)):(i=e.C,e=n),e&&(e.U=r),!i)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===r.L){if((t=r.R).C&&(t.C=!1,r.C=!0,Pr(this,r),t=r.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Nr(this,t),t=r.R),t.C=r.C,r.C=t.R.C=!1,Pr(this,r),e=this._;break}}else if((t=r.L).C&&(t.C=!1,r.C=!0,Nr(this,r),t=r.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Pr(this,t),t=r.L),t.C=r.C,r.C=t.L.C=!1,Nr(this,r),e=this._;break}t.C=!0,e=r,r=r.U}while(!e.C);e&&(e.C=!1)}}},o.geom.voronoi=function(e){var t=ir,n=rr,i=t,r=n,o=$r;if(e)return a(e);function a(e){var t=new Array(e.length),n=o[0][0],i=o[0][1],r=o[1][0],a=o[1][1];return Ir(s(e),o).cells.forEach(function(o,s){var l=o.edges,c=o.site;(t[s]=l.length?l.map(function(e){var t=e.start();return[t.x,t.y]}):c.x>=n&&c.x<=r&&c.y>=i&&c.y<=a?[[n,a],[r,a],[r,i],[n,i]]:[]).point=e[s]}),t}function s(e){return e.map(function(e,t){return{x:Math.round(i(e,t)/Te)*Te,y:Math.round(r(e,t)/Te)*Te,i:t}})}return a.links=function(e){return Ir(s(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},a.triangles=function(e){var t=[];return Ir(s(e)).cells.forEach(function(n,i){for(var r,o=n.site,a=n.edges.sort(Cr),s=-1,l=a.length,c=a[l-1].edge,u=c.l===o?c.r:c.l;++s<l;)c,r=u,u=(c=a[s].edge).l===o?c.r:c.l,i<r.i&&i<u.i&&Wr(o,r,u)<0&&t.push([e[i],e[r.i],e[u.i]])}),t},a.x=function(e){return arguments.length?(i=bt(t=e),a):t},a.y=function(e){return arguments.length?(r=bt(n=e),a):n},a.clipExtent=function(e){return arguments.length?(o=null==e?$r:e,a):o===$r?null:o},a.size=function(e){return arguments.length?a.clipExtent(e&&[[0,0],e]):o===$r?null:o&&o[1]},a};var $r=[[-1e6,-1e6],[1e6,1e6]];function Wr(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function zr(e){return e.x}function Br(e){return e.y}function Vr(e,t){e=o.rgb(e),t=o.rgb(t);var n=e.r,i=e.g,r=e.b,a=t.r-n,s=t.g-i,l=t.b-r;return function(e){return"#"+ft(Math.round(n+a*e))+ft(Math.round(i+s*e))+ft(Math.round(r+l*e))}}function Ur(e,t){var n,i={},r={};for(n in e)n in t?i[n]=Xr(e[n],t[n]):r[n]=e[n];for(n in t)n in e||(r[n]=t[n]);return function(e){for(n in i)r[n]=i[n](e);return r}}function qr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Gr(e,t){var n,i,r,o=Jr.lastIndex=Kr.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=Jr.exec(e))&&(i=Kr.exec(t));)(r=i.index)>o&&(r=t.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:qr(n,i)})),o=Kr.lastIndex;return o<t.length&&(r=t.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,i=0;i<t;++i)s[(n=l[i]).i]=n.x(e);return s.join("")})}o.geom.delaunay=function(e){return o.geom.voronoi().triangles(e)},o.geom.quadtree=function(e,t,n,i,r){var o,a=ir,s=rr;if(o=arguments.length)return a=zr,s=Br,3===o&&(r=n,i=t,n=t=0),l(e);function l(e){var l,c,u,d,h,f,p,m,g,_=bt(a),v=bt(s);if(null!=t)f=t,p=n,m=i,g=r;else if(m=g=-(f=p=1/0),c=[],u=[],h=e.length,o)for(d=0;d<h;++d)(l=e[d]).x<f&&(f=l.x),l.y<p&&(p=l.y),l.x>m&&(m=l.x),l.y>g&&(g=l.y),c.push(l.x),u.push(l.y);else for(d=0;d<h;++d){var y=+_(l=e[d],d),b=+v(l,d);y<f&&(f=y),b<p&&(p=b),y>m&&(m=y),b>g&&(g=b),c.push(y),u.push(b)}var w=m-f,M=g-p;function x(e,t,n,i,r,o,a,s){if(!isNaN(n)&&!isNaN(i))if(e.leaf){var l=e.x,c=e.y;if(null!=l)if(k(l-n)+k(c-i)<.01)C(e,t,n,i,r,o,a,s);else{var u=e.point;e.x=e.y=e.point=null,C(e,u,l,c,r,o,a,s),C(e,t,n,i,r,o,a,s)}else e.x=n,e.y=i,e.point=t}else C(e,t,n,i,r,o,a,s)}function C(e,t,n,i,r,o,a,s){var l=.5*(r+a),c=.5*(o+s),u=n>=l,d=i>=c,h=d<<1|u;e.leaf=!1,e=e.nodes[h]||(e.nodes[h]={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){x(S,e,+_(e,++d),+v(e,d),f,p,m,g)}}),u?r=l:a=l,d?o=c:s=c,x(e,t,n,i,r,o,a,s)}w>M?g=p+w:m=f+M;var S={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){x(S,e,+_(e,++d),+v(e,d),f,p,m,g)}};if(S.visit=function(e){!function e(t,n,i,r,o,a){if(!t(n,i,r,o,a)){var s=.5*(i+o),l=.5*(r+a),c=n.nodes;c[0]&&e(t,c[0],i,r,s,l),c[1]&&e(t,c[1],s,r,o,l),c[2]&&e(t,c[2],i,l,s,a),c[3]&&e(t,c[3],s,l,o,a)}}(e,S,f,p,m,g)},S.find=function(e){return function(e,t,n,i,r,o,a){var s,l=1/0;return function e(c,u,d,h,f){if(!(u>o||d>a||h<i||f<r)){if(p=c.point){var p,m=t-c.x,g=n-c.y,_=m*m+g*g;if(_<l){var v=Math.sqrt(l=_);i=t-v,r=n-v,o=t+v,a=n+v,s=p}}for(var y=c.nodes,b=.5*(u+h),w=.5*(d+f),k=(n>=w)<<1|t>=b,M=k+4;k<M;++k)if(c=y[3&k])switch(3&k){case 0:e(c,u,d,b,w);break;case 1:e(c,b,d,h,w);break;case 2:e(c,u,w,b,f);break;case 3:e(c,b,w,h,f)}}}(e,i,r,o,a),s}(S,e[0],e[1],f,p,m,g)},d=-1,null==t){for(;++d<h;)x(S,e[d],c[d],u[d],f,p,m,g);--d}else e.forEach(S.add);return c=u=e=l=null,S}return l.x=function(e){return arguments.length?(a=e,l):a},l.y=function(e){return arguments.length?(s=e,l):s},l.extent=function(e){return arguments.length?(null==e?t=n=i=r=null:(t=+e[0][0],n=+e[0][1],i=+e[1][0],r=+e[1][1]),l):null==t?null:[[t,n],[i,r]]},l.size=function(e){return arguments.length?(null==e?t=n=i=r=null:(t=n=0,i=+e[0],r=+e[1]),l):null==t?null:[i-t,r-n]},l},o.interpolateRgb=Vr,o.interpolateObject=Ur,o.interpolateNumber=qr,o.interpolateString=Gr;var Jr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kr=new RegExp(Jr.source,"g");function Xr(e,t){for(var n,i=o.interpolators.length;--i>=0&&!(n=o.interpolators[i](e,t)););return n}function Qr(e,t){var n,i=[],r=[],o=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;n<s;++n)i.push(Xr(e[n],t[n]));for(;n<o;++n)r[n]=e[n];for(;n<a;++n)r[n]=t[n];return function(e){for(n=0;n<s;++n)r[n]=i[n](e);return r}}o.interpolate=Xr,o.interpolators=[function(e,t){var n=typeof t;return("string"===n?yt.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?Vr:Gr:t instanceof Ve?Vr:Array.isArray(t)?Qr:"object"===n&&isNaN(t)?Ur:qr)(e,t)}],o.interpolateArray=Qr;var Zr=function(){return j},eo=o.map({linear:Zr,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return ro},cubic:function(){return oo},sin:function(){return so},exp:function(){return lo},circle:function(){return co},elastic:function(e,t){var n;arguments.length<2&&(t=.45);arguments.length?n=t/De*Math.asin(1/e):(e=1,n=t/4);return function(i){return 1+e*Math.pow(2,-10*i)*Math.sin((i-n)*De/t)}},back:function(e){e||(e=1.70158);return function(t){return t*t*((e+1)*t-e)}},bounce:function(){return uo}}),to=o.map({in:j,out:no,"in-out":io,"out-in":function(e){return io(no(e))}});function no(e){return function(t){return 1-e(1-t)}}function io(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function ro(e){return e*e}function oo(e){return e*e*e}function ao(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function so(e){return 1-Math.cos(e*Ae)}function lo(e){return Math.pow(2,10*(e-1))}function co(e){return 1-Math.sqrt(1-e*e)}function uo(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function ho(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function fo(e){var t=[e.a,e.b],n=[e.c,e.d],i=mo(t),r=po(t,n),o=mo(function(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}(n,t,-r))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Re,this.translate=[e.e,e.f],this.scale=[i,o],this.skew=o?Math.atan2(r,o)*Re:0}function po(e,t){return e[0]*t[0]+e[1]*t[1]}function mo(e){var t=Math.sqrt(po(e,e));return t&&(e[0]/=t,e[1]/=t),t}o.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,i=t>=0?e.slice(t+1):"in";return n=eo.get(n)||Zr,function(e){return function(t){return t<=0?0:t>=1?1:e(t)}}((i=to.get(i)||j)(n.apply(null,a.call(arguments,1))))},o.interpolateHcl=function(e,t){e=o.hcl(e),t=o.hcl(t);var n=e.h,i=e.c,r=e.l,a=t.h-n,s=t.c-i,l=t.l-r;isNaN(s)&&(s=0,i=isNaN(i)?t.c:i);isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:a<-180&&(a+=360);return function(e){return Xe(n+a*e,i+s*e,r+l*e)+""}},o.interpolateHsl=function(e,t){e=o.hsl(e),t=o.hsl(t);var n=e.h,i=e.s,r=e.l,a=t.h-n,s=t.s-i,l=t.l-r;isNaN(s)&&(s=0,i=isNaN(i)?t.s:i);isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:a<-180&&(a+=360);return function(e){return Ge(n+a*e,i+s*e,r+l*e)+""}},o.interpolateLab=function(e,t){e=o.lab(e),t=o.lab(t);var n=e.l,i=e.a,r=e.b,a=t.l-n,s=t.a-i,l=t.b-r;return function(e){return rt(n+a*e,i+s*e,r+l*e)+""}},o.interpolateRound=ho,o.transform=function(e){var t=l.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new fo(n?n.matrix:go)})(e)},fo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var go={a:1,b:0,c:0,d:1,e:0,f:0};function _o(e){return e.length?e.pop()+",":""}function vo(e,t){var n=[],i=[];return e=o.transform(e),t=o.transform(t),function(e,t,n,i){if(e[0]!==t[0]||e[1]!==t[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:qr(e[0],t[0])},{i:r-2,x:qr(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}(e.translate,t.translate,n,i),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(_o(n)+"rotate(",null,")")-2,x:qr(e,t)})):t&&n.push(_o(n)+"rotate("+t+")")}(e.rotate,t.rotate,n,i),function(e,t,n,i){e!==t?i.push({i:n.push(_o(n)+"skewX(",null,")")-2,x:qr(e,t)}):t&&n.push(_o(n)+"skewX("+t+")")}(e.skew,t.skew,n,i),function(e,t,n,i){if(e[0]!==t[0]||e[1]!==t[1]){var r=n.push(_o(n)+"scale(",null,",",null,")");i.push({i:r-4,x:qr(e[0],t[0])},{i:r-2,x:qr(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(_o(n)+"scale("+t+")")}(e.scale,t.scale,n,i),e=t=null,function(e){for(var t,r=-1,o=i.length;++r<o;)n[(t=i[r]).i]=t.x(e);return n.join("")}}function yo(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function bo(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function wo(e){for(var t=e.source,n=e.target,i=function(e,t){if(e===t)return e;var n=ko(e),i=ko(t),r=n.pop(),o=i.pop(),a=null;for(;r===o;)a=r,r=n.pop(),o=i.pop();return a}(t,n),r=[t];t!==i;)t=t.parent,r.push(t);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function ko(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Mo(e){e.fixed|=2}function xo(e){e.fixed&=-7}function Co(e){e.fixed|=4,e.px=e.x,e.py=e.y}function So(e){e.fixed&=-5}o.interpolateTransform=vo,o.layout={},o.layout.bundle=function(){return function(e){for(var t=[],n=-1,i=e.length;++n<i;)t.push(wo(e[n]));return t}},o.layout.chord=function(){var e,t,n,i,r,a,s,l={},c=0;function u(){var l,u,h,f,p,m={},g=[],_=o.range(i),v=[];for(e=[],t=[],l=0,f=-1;++f<i;){for(u=0,p=-1;++p<i;)u+=n[f][p];g.push(u),v.push(o.range(i)),l+=u}for(r&&_.sort(function(e,t){return r(g[e],g[t])}),a&&v.forEach(function(e,t){e.sort(function(e,i){return a(n[t][e],n[t][i])})}),l=(De-c*i)/l,u=0,f=-1;++f<i;){for(h=u,p=-1;++p<i;){var y=_[f],b=v[y][p],w=n[y][b],k=u,M=u+=w*l;m[y+"-"+b]={index:y,subindex:b,startAngle:k,endAngle:M,value:w}}t[y]={index:y,startAngle:h,endAngle:u,value:g[y]},u+=c}for(f=-1;++f<i;)for(p=f-1;++p<i;){var x=m[f+"-"+p],C=m[p+"-"+f];(x.value||C.value)&&e.push(x.value<C.value?{source:C,target:x}:{source:x,target:C})}s&&d()}function d(){e.sort(function(e,t){return s((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}return l.matrix=function(r){return arguments.length?(i=(n=r)&&n.length,e=t=null,l):n},l.padding=function(n){return arguments.length?(c=n,e=t=null,l):c},l.sortGroups=function(n){return arguments.length?(r=n,e=t=null,l):r},l.sortSubgroups=function(t){return arguments.length?(a=t,e=null,l):a},l.sortChords=function(t){return arguments.length?(s=t,e&&d(),l):s},l.chords=function(){return e||u(),e},l.groups=function(){return t||u(),t},l},o.layout.force=function(){var e,t,n,i,r,a,s={},l=o.dispatch("start","tick","end"),c=[1,1],u=.9,d=To,h=Lo,f=-30,p=Eo,m=.1,g=.64,_=[],v=[];function y(e){return function(t,n,i,r){if(t.point!==e){var o=t.cx-e.x,a=t.cy-e.y,s=r-n,l=o*o+a*a;if(s*s/g<l){if(l<p){var c=t.charge/l;e.px-=o*c,e.py-=a*c}return!0}if(t.point&&l&&l<p){c=t.pointCharge/l;e.px-=o*c,e.py-=a*c}}return!t.charge}}function b(e){e.px=o.event.x,e.py=o.event.y,s.resume()}return s.tick=function(){if((n*=.99)<.005)return e=null,l.end({type:"end",alpha:n=0}),!0;var t,s,d,h,p,g,b,w,k,M=_.length,x=v.length;for(s=0;s<x;++s)h=(d=v[s]).source,(g=(w=(p=d.target).x-h.x)*w+(k=p.y-h.y)*k)&&(w*=g=n*r[s]*((g=Math.sqrt(g))-i[s])/g,k*=g,p.x-=w*(b=h.weight+p.weight?h.weight/(h.weight+p.weight):.5),p.y-=k*b,h.x+=w*(b=1-b),h.y+=k*b);if((b=n*m)&&(w=c[0]/2,k=c[1]/2,s=-1,b))for(;++s<M;)(d=_[s]).x+=(w-d.x)*b,d.y+=(k-d.y)*b;if(f)for(!function e(t,n,i){var r=0,o=0;t.charge=0;if(!t.leaf)for(var a,s=t.nodes,l=s.length,c=-1;++c<l;)null!=(a=s[c])&&(e(a,n,i),t.charge+=a.charge,r+=a.charge*a.cx,o+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=n*i[t.point.index];t.charge+=t.pointCharge=u,r+=u*t.point.x,o+=u*t.point.y}t.cx=r/t.charge;t.cy=o/t.charge}(t=o.geom.quadtree(_),n,a),s=-1;++s<M;)(d=_[s]).fixed||t.visit(y(d));for(s=-1;++s<M;)(d=_[s]).fixed?(d.x=d.px,d.y=d.py):(d.x-=(d.px-(d.px=d.x))*u,d.y-=(d.py-(d.py=d.y))*u);l.tick({type:"tick",alpha:n})},s.nodes=function(e){return arguments.length?(_=e,s):_},s.links=function(e){return arguments.length?(v=e,s):v},s.size=function(e){return arguments.length?(c=e,s):c},s.linkDistance=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(h="function"==typeof e?e:+e,s):h},s.friction=function(e){return arguments.length?(u=+e,s):u},s.charge=function(e){return arguments.length?(f="function"==typeof e?e:+e,s):f},s.chargeDistance=function(e){return arguments.length?(p=e*e,s):Math.sqrt(p)},s.gravity=function(e){return arguments.length?(m=+e,s):m},s.theta=function(e){return arguments.length?(g=e*e,s):Math.sqrt(g)},s.alpha=function(t){return arguments.length?(t=+t,n?t>0?n=t:(e.c=null,e.t=NaN,e=null,l.end({type:"end",alpha:n=0})):t>0&&(l.start({type:"start",alpha:n=t}),e=Lt(s.tick)),s):n},s.start=function(){var e,t,n,o=_.length,l=v.length,u=c[0],p=c[1];for(e=0;e<o;++e)(n=_[e]).index=e,n.weight=0;for(e=0;e<l;++e)"number"==typeof(n=v[e]).source&&(n.source=_[n.source]),"number"==typeof n.target&&(n.target=_[n.target]),++n.source.weight,++n.target.weight;for(e=0;e<o;++e)n=_[e],isNaN(n.x)&&(n.x=m("x",u)),isNaN(n.y)&&(n.y=m("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(i=[],"function"==typeof d)for(e=0;e<l;++e)i[e]=+d.call(this,v[e],e);else for(e=0;e<l;++e)i[e]=d;if(r=[],"function"==typeof h)for(e=0;e<l;++e)r[e]=+h.call(this,v[e],e);else for(e=0;e<l;++e)r[e]=h;if(a=[],"function"==typeof f)for(e=0;e<o;++e)a[e]=+f.call(this,_[e],e);else for(e=0;e<o;++e)a[e]=f;function m(n,i){if(!t){for(t=new Array(o),c=0;c<o;++c)t[c]=[];for(c=0;c<l;++c){var r=v[c];t[r.source.index].push(r.target),t[r.target.index].push(r.source)}}for(var a,s=t[e],c=-1,u=s.length;++c<u;)if(!isNaN(a=s[c][n]))return a;return Math.random()*i}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(t||(t=o.behavior.drag().origin(j).on("dragstart.force",Mo).on("drag.force",b).on("dragend.force",xo)),!arguments.length)return t;this.on("mouseover.force",Co).on("mouseout.force",So).call(t)},o.rebind(s,l,"on")};var To=20,Lo=1,Eo=1/0;function Do(e,t){return o.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=Po,e}function Oo(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(r=e.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function Ao(e,t){for(var n=[e],i=[];null!=(e=n.pop());)if(i.push(e),(o=e.children)&&(r=o.length))for(var r,o,a=-1;++a<r;)n.push(o[a]);for(;null!=(e=i.pop());)t(e)}function Yo(e){return e.children}function Ro(e){return e.value}function jo(e,t){return t.value-e.value}function Po(e){return o.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}o.layout.hierarchy=function(){var e=jo,t=Yo,n=Ro;function i(r){var o,a=[r],s=[];for(r.depth=0;null!=(o=a.pop());)if(s.push(o),(c=t.call(i,o,o.depth))&&(l=c.length)){for(var l,c,u;--l>=0;)a.push(u=c[l]),u.parent=o,u.depth=o.depth+1;n&&(o.value=0),o.children=c}else n&&(o.value=+n.call(i,o,o.depth)||0),delete o.children;return Ao(r,function(t){var i,r;e&&(i=t.children)&&i.sort(e),n&&(r=t.parent)&&(r.value+=t.value)}),s}return i.sort=function(t){return arguments.length?(e=t,i):e},i.children=function(e){return arguments.length?(t=e,i):t},i.value=function(e){return arguments.length?(n=e,i):n},i.revalue=function(e){return n&&(Oo(e,function(e){e.children&&(e.value=0)}),Ao(e,function(e){var t;e.children||(e.value=+n.call(i,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)})),e},i},o.layout.partition=function(){var e=o.layout.hierarchy(),t=[1,1];function n(n,i){var r=e.call(this,n,i);return function e(t,n,i,r){var o=t.children;if(t.x=n,t.y=t.depth*r,t.dx=i,t.dy=r,o&&(a=o.length)){var a,s,l,c=-1;for(i=t.value?i/t.value:0;++c<a;)e(s=o[c],n,l=s.value*i,r),n+=l}}(r[0],0,t[0],t[1]/function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,e(n[o]));return 1+i}(r[0])),r}return n.size=function(e){return arguments.length?(t=e,n):t},Do(n,e)},o.layout.pie=function(){var e=Number,t=No,n=0,i=De,r=0;function a(s){var l,c=s.length,u=s.map(function(t,n){return+e.call(a,t,n)}),d=+("function"==typeof n?n.apply(this,arguments):n),h=("function"==typeof i?i.apply(this,arguments):i)-d,f=Math.min(Math.abs(h)/c,+("function"==typeof r?r.apply(this,arguments):r)),p=f*(h<0?-1:1),m=o.sum(u),g=m?(h-c*p)/m:0,_=o.range(c),v=[];return null!=t&&_.sort(t===No?function(e,t){return u[t]-u[e]}:function(e,n){return t(s[e],s[n])}),_.forEach(function(e){v[e]={data:s[e],value:l=u[e],startAngle:d,endAngle:d+=l*g+p,padAngle:f}}),v}return a.value=function(t){return arguments.length?(e=t,a):e},a.sort=function(e){return arguments.length?(t=e,a):t},a.startAngle=function(e){return arguments.length?(n=e,a):n},a.endAngle=function(e){return arguments.length?(i=e,a):i},a.padAngle=function(e){return arguments.length?(r=e,a):r},a};var No={};function Ho(e){return e.x}function Io(e){return e.y}function Fo(e,t,n){e.y0=t,e.y=n}o.layout.stack=function(){var e=j,t=zo,n=Bo,i=Fo,r=Ho,a=Io;function s(l,c){if(!(f=l.length))return l;var u=l.map(function(t,n){return e.call(s,t,n)}),d=u.map(function(e){return e.map(function(e,t){return[r.call(s,e,t),a.call(s,e,t)]})}),h=t.call(s,d,c);u=o.permute(u,h),d=o.permute(d,h);var f,p,m,g,_=n.call(s,d,c),v=u[0].length;for(m=0;m<v;++m)for(i.call(s,u[0][m],g=_[m],d[0][m][1]),p=1;p<f;++p)i.call(s,u[p][m],g+=d[p-1][m][1],d[p][m][1]);return l}return s.values=function(t){return arguments.length?(e=t,s):e},s.order=function(e){return arguments.length?(t="function"==typeof e?e:$o.get(e)||zo,s):t},s.offset=function(e){return arguments.length?(n="function"==typeof e?e:Wo.get(e)||Bo,s):n},s.x=function(e){return arguments.length?(r=e,s):r},s.y=function(e){return arguments.length?(a=e,s):a},s.out=function(e){return arguments.length?(i=e,s):i},s};var $o=o.map({"inside-out":function(e){var t,n,i=e.length,r=e.map(Vo),a=e.map(Uo),s=o.range(i).sort(function(e,t){return r[e]-r[t]}),l=0,c=0,u=[],d=[];for(t=0;t<i;++t)n=s[t],l<c?(l+=a[n],u.push(n)):(c+=a[n],d.push(n));return d.reverse().concat(u)},reverse:function(e){return o.range(e.length).reverse()},default:zo}),Wo=o.map({silhouette:function(e){var t,n,i,r=e.length,o=e[0].length,a=[],s=0,l=[];for(n=0;n<o;++n){for(t=0,i=0;t<r;t++)i+=e[t][n][1];i>s&&(s=i),a.push(i)}for(n=0;n<o;++n)l[n]=(s-a[n])/2;return l},wiggle:function(e){var t,n,i,r,o,a,s,l,c,u=e.length,d=e[0],h=d.length,f=[];for(f[0]=l=c=0,n=1;n<h;++n){for(t=0,r=0;t<u;++t)r+=e[t][n][1];for(t=0,o=0,s=d[n][0]-d[n-1][0];t<u;++t){for(i=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);i<t;++i)a+=(e[i][n][1]-e[i][n-1][1])/s;o+=a*e[t][n][1]}f[n]=l-=r?o/r*s:0,l<c&&(c=l)}for(n=0;n<h;++n)f[n]-=c;return f},expand:function(e){var t,n,i,r=e.length,o=e[0].length,a=1/r,s=[];for(n=0;n<o;++n){for(t=0,i=0;t<r;t++)i+=e[t][n][1];if(i)for(t=0;t<r;t++)e[t][n][1]/=i;else for(t=0;t<r;t++)e[t][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:Bo});function zo(e){return o.range(e.length)}function Bo(e){for(var t=-1,n=e[0].length,i=[];++t<n;)i[t]=0;return i}function Vo(e){for(var t,n=1,i=0,r=e[0][1],o=e.length;n<o;++n)(t=e[n][1])>r&&(i=n,r=t);return i}function Uo(e){return e.reduce(qo,0)}function qo(e,t){return e+t[1]}function Go(e,t){return Jo(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Jo(e,t){for(var n=-1,i=+e[0],r=(e[1]-i)/t,o=[];++n<=t;)o[n]=r*n+i;return o}function Ko(e){return[o.min(e),o.max(e)]}function Xo(e,t){return e.value-t.value}function Qo(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Zo(e,t){e._pack_next=t,t._pack_prev=e}function ea(e,t){var n=t.x-e.x,i=t.y-e.y,r=e.r+t.r;return.999*r*r>n*n+i*i}function ta(e){if((t=e.children)&&(l=t.length)){var t,n,i,r,o,a,s,l,c=1/0,u=-1/0,d=1/0,h=-1/0;if(t.forEach(na),(n=t[0]).x=-n.r,n.y=0,y(n),l>1&&((i=t[1]).x=i.r,i.y=0,y(i),l>2))for(ra(n,i,r=t[2]),y(r),Qo(n,r),n._pack_prev=r,Qo(r,i),i=n._pack_next,o=3;o<l;o++){ra(n,i,r=t[o]);var f=0,p=1,m=1;for(a=i._pack_next;a!==i;a=a._pack_next,p++)if(ea(a,r)){f=1;break}if(1==f)for(s=n._pack_prev;s!==a._pack_prev&&!ea(s,r);s=s._pack_prev,m++);f?(p<m||p==m&&i.r<n.r?Zo(n,i=a):Zo(n=s,i),o--):(Qo(n,r),i=r,y(r))}var g=(c+u)/2,_=(d+h)/2,v=0;for(o=0;o<l;o++)(r=t[o]).x-=g,r.y-=_,v=Math.max(v,r.r+Math.sqrt(r.x*r.x+r.y*r.y));e.r=v,t.forEach(ia)}function y(e){c=Math.min(e.x-e.r,c),u=Math.max(e.x+e.r,u),d=Math.min(e.y-e.r,d),h=Math.max(e.y+e.r,h)}}function na(e){e._pack_next=e._pack_prev=e}function ia(e){delete e._pack_next,delete e._pack_prev}function ra(e,t,n){var i=e.r+n.r,r=t.x-e.x,o=t.y-e.y;if(i&&(r||o)){var a=t.r+n.r,s=r*r+o*o,l=.5+((i*=i)-(a*=a))/(2*s),c=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=e.x+l*r+c*o,n.y=e.y+l*o-c*r}else n.x=e.x+i,n.y=e.y}function oa(e,t){return e.parent==t.parent?1:2}function aa(e){var t=e.children;return t.length?t[0]:e.t}function sa(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function la(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}function ca(e,t,n){return e.a.parent===t.parent?e.a:n}function ua(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function da(e,t){var n=e.x+t[3],i=e.y+t[0],r=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return r<0&&(n+=r/2,r=0),o<0&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function ha(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function fa(e){return e.rangeExtent?e.rangeExtent():ha(e.range())}function pa(e,t,n,i){var r=n(e[0],e[1]),o=i(t[0],t[1]);return function(e){return o(r(e))}}function ma(e,t){var n,i=0,r=e.length-1,o=e[i],a=e[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),e[i]=t.floor(o),e[r]=t.ceil(a),e}function ga(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:_a}o.layout.histogram=function(){var e=!0,t=Number,n=Ko,i=Go;function r(r,a){for(var s,l,c=[],u=r.map(t,this),d=n.call(this,u,a),h=i.call(this,d,u,a),f=(a=-1,u.length),p=h.length-1,m=e?1:1/f;++a<p;)(s=c[a]=[]).dx=h[a+1]-(s.x=h[a]),s.y=0;if(p>0)for(a=-1;++a<f;)(l=u[a])>=d[0]&&l<=d[1]&&((s=c[o.bisect(h,l,1,p)-1]).y+=m,s.push(r[a]));return c}return r.value=function(e){return arguments.length?(t=e,r):t},r.range=function(e){return arguments.length?(n=bt(e),r):n},r.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return Jo(t,e)}:bt(e),r):i},r.frequency=function(t){return arguments.length?(e=!!t,r):e},r},o.layout.pack=function(){var e,t=o.layout.hierarchy().sort(Xo),n=0,i=[1,1];function r(r,o){var a=t.call(this,r,o),s=a[0],l=i[0],c=i[1],u=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,Ao(s,function(e){e.r=+u(e.value)}),Ao(s,ta),n){var d=n*(e?1:Math.max(2*s.r/l,2*s.r/c))/2;Ao(s,function(e){e.r+=d}),Ao(s,ta),Ao(s,function(e){e.r-=d})}return function e(t,n,i,r){var o=t.children;t.x=n+=r*t.x;t.y=i+=r*t.y;t.r*=r;if(o)for(var a=-1,s=o.length;++a<s;)e(o[a],n,i,r)}(s,l/2,c/2,e?1:1/Math.max(2*s.r/l,2*s.r/c)),a}return r.size=function(e){return arguments.length?(i=e,r):i},r.radius=function(t){return arguments.length?(e=null==t||"function"==typeof t?t:+t,r):e},r.padding=function(e){return arguments.length?(n=+e,r):n},Do(r,t)},o.layout.tree=function(){var e=o.layout.hierarchy().sort(null).value(null),t=oa,n=[1,1],i=null;function r(r,o){var c=e.call(this,r,o),u=c[0],d=function(e){var t,n={A:null,children:[e]},i=[n];for(;null!=(t=i.pop());)for(var r,o=t.children,a=0,s=o.length;a<s;++a)i.push((o[a]=r={_:o[a],parent:t,children:(r=o[a].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=r);return n.children[0]}(u);if(Ao(d,a),d.parent.m=-d.z,Oo(d,s),i)Oo(u,l);else{var h=u,f=u,p=u;Oo(u,function(e){e.x<h.x&&(h=e),e.x>f.x&&(f=e),e.depth>p.depth&&(p=e)});var m=t(h,f)/2-h.x,g=n[0]/(f.x+t(f,h)/2+m),_=n[1]/(p.depth||1);Oo(u,function(e){e.x=(e.x+m)*g,e.y=e.depth*_})}return c}function a(e){var n=e.children,i=e.parent.children,r=e.i?i[e.i-1]:null;if(n.length){!function(e){var t,n=0,i=0,r=e.children,o=r.length;for(;--o>=0;)(t=r[o]).z+=n,t.m+=n,n+=t.s+(i+=t.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;r?(e.z=r.z+t(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+t(e._,r._));e.parent.A=function(e,n,i){if(n){for(var r,o=e,a=e,s=n,l=o.parent.children[0],c=o.m,u=a.m,d=s.m,h=l.m;s=sa(s),o=aa(o),s&&o;)l=aa(l),(a=sa(a)).a=e,(r=s.z+d-o.z-c+t(s._,o._))>0&&(la(ca(s,e,i),e,r),c+=r,u+=r),d+=s.m,c+=o.m,h+=l.m,u+=a.m;s&&!sa(a)&&(a.t=s,a.m+=d-u),o&&!aa(l)&&(l.t=o,l.m+=c-h,i=e)}return i}(e,r,e.parent.A||i[0])}function s(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function l(e){e.x*=n[0],e.y=e.depth*n[1]}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(e){return arguments.length?(i=null==(n=e)?l:null,r):i?null:n},r.nodeSize=function(e){return arguments.length?(i=null==(n=e)?null:l,r):i?n:null},Do(r,e)},o.layout.cluster=function(){var e=o.layout.hierarchy().sort(null).value(null),t=oa,n=[1,1],i=!1;function r(r,a){var s,l=e.call(this,r,a),c=l[0],u=0;Ao(c,function(e){var n=e.children;n&&n.length?(e.x=function(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}(n),e.y=function(e){return 1+o.max(e,function(e){return e.y})}(n)):(e.x=s?u+=t(e,s):0,e.y=0,s=e)});var d=function e(t){var n=t.children;return n&&n.length?e(n[0]):t}(c),h=function e(t){var n,i=t.children;return i&&(n=i.length)?e(i[n-1]):t}(c),f=d.x-t(d,h)/2,p=h.x+t(h,d)/2;return Ao(c,i?function(e){e.x=(e.x-c.x)*n[0],e.y=(c.y-e.y)*n[1]}:function(e){e.x=(e.x-f)/(p-f)*n[0],e.y=(1-(c.y?e.y/c.y:1))*n[1]}),l}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(e){return arguments.length?(i=null==(n=e),r):i?null:n},r.nodeSize=function(e){return arguments.length?(i=null!=(n=e),r):i?n:null},Do(r,e)},o.layout.treemap=function(){var e,t=o.layout.hierarchy(),n=Math.round,i=[1,1],r=null,a=ua,s=!1,l="squarify",c=.5*(1+Math.sqrt(5));function u(e,t){for(var n,i,r=-1,o=e.length;++r<o;)i=(n=e[r]).value*(t<0?0:t),n.area=isNaN(i)||i<=0?0:i}function d(e){var t=e.children;if(t&&t.length){var n,i,r,o=a(e),s=[],c=t.slice(),h=1/0,m="slice"===l?o.dx:"dice"===l?o.dy:"slice-dice"===l?1&e.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(u(c,o.dx*o.dy/e.value),s.area=0;(r=c.length)>0;)s.push(n=c[r-1]),s.area+=n.area,"squarify"!==l||(i=f(s,m))<=h?(c.pop(),h=i):(s.area-=s.pop().area,p(s,m,o,!1),m=Math.min(o.dx,o.dy),s.length=s.area=0,h=1/0);s.length&&(p(s,m,o,!0),s.length=s.area=0),t.forEach(d)}}function h(e){var t=e.children;if(t&&t.length){var n,i=a(e),r=t.slice(),o=[];for(u(r,i.dx*i.dy/e.value),o.area=0;n=r.pop();)o.push(n),o.area+=n.area,null!=n.z&&(p(o,n.z?i.dx:i.dy,i,!r.length),o.length=o.area=0);t.forEach(h)}}function f(e,t){for(var n,i=e.area,r=0,o=1/0,a=-1,s=e.length;++a<s;)(n=e[a].area)&&(n<o&&(o=n),n>r&&(r=n));return t*=t,(i*=i)?Math.max(t*r*c/i,i/(t*o*c)):1/0}function p(e,t,i,r){var o,a=-1,s=e.length,l=i.x,c=i.y,u=t?n(e.area/t):0;if(t==i.dx){for((r||u>i.dy)&&(u=i.dy);++a<s;)(o=e[a]).x=l,o.y=c,o.dy=u,l+=o.dx=Math.min(i.x+i.dx-l,u?n(o.area/u):0);o.z=!0,o.dx+=i.x+i.dx-l,i.y+=u,i.dy-=u}else{for((r||u>i.dx)&&(u=i.dx);++a<s;)(o=e[a]).x=l,o.y=c,o.dx=u,c+=o.dy=Math.min(i.y+i.dy-c,u?n(o.area/u):0);o.z=!1,o.dy+=i.y+i.dy-c,i.x+=u,i.dx-=u}}function m(n){var r=e||t(n),o=r[0];return o.x=o.y=0,o.value?(o.dx=i[0],o.dy=i[1]):o.dx=o.dy=0,e&&t.revalue(o),u([o],o.dx*o.dy/o.value),(e?h:d)(o),s&&(e=r),r}return m.size=function(e){return arguments.length?(i=e,m):i},m.padding=function(e){if(!arguments.length)return r;function t(t){return da(t,e)}var n;return a=null==(r=e)?ua:"function"==(n=typeof e)?function(t){var n=e.call(m,t,t.depth);return null==n?ua(t):da(t,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(e=[e,e,e,e],t):t,m},m.round=function(e){return arguments.length?(n=e?Math.round:Number,m):n!=Number},m.sticky=function(t){return arguments.length?(s=t,e=null,m):s},m.ratio=function(e){return arguments.length?(c=e,m):c},m.mode=function(e){return arguments.length?(l=e+"",m):l},Do(m,t)},o.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,i,r;do{r=(n=2*Math.random()-1)*n+(i=2*Math.random()-1)*i}while(!r||r>1);return e+t*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var e=o.random.normal.apply(o,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=o.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},o.scale={};var _a={floor:j,ceil:j};function va(e,t,n,i){var r=[],a=[],s=0,l=Math.min(e.length,t.length)-1;for(e[l]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<=l;)r.push(n(e[s-1],e[s])),a.push(i(t[s-1],t[s]));return function(t){var n=o.bisect(e,t,1,l)-1;return a[n](r[n](t))}}function ya(e,t){return o.rebind(e,t,"range","rangeRound","interpolate","clamp")}function ba(e,t){return ma(e,ga(wa(e,t)[2])),ma(e,ga(wa(e,t)[2])),e}function wa(e,t){null==t&&(t=10);var n=ha(e),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/t)/Math.LN10)),o=t/i*r;return o<=.15?r*=10:o<=.35?r*=5:o<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function ka(e,t){return o.range.apply(o,wa(e,t))}function Ma(e,t,n){var i=wa(e,t);if(n){var r=Rt.exec(n);if(r.shift(),"s"===r[8]){var a=o.formatPrefix(Math.max(k(i[0]),k(i[1])));return r[7]||(r[7]="."+Ca(a.scale(i[2]))),r[8]="f",n=o.format(r.join("")),function(e){return n(a.scale(e))+a.symbol}}r[7]||(r[7]="."+function(e,t){var n=Ca(t[2]);return e in xa?Math.abs(n-Ca(Math.max(k(t[0]),k(t[1]))))+ +("e"!==e):n-2*("%"===e)}(r[8],i)),n=r.join("")}else n=",."+Ca(i[2])+"f";return o.format(n)}o.scale.linear=function(){return function e(t,n,i,r){var o,a;function s(){var e=Math.min(t.length,n.length)>2?va:pa,s=r?bo:yo;return o=e(t,n,s,i),a=e(n,t,s,Xr),l}function l(e){return o(e)}l.invert=function(e){return a(e)};l.domain=function(e){return arguments.length?(t=e.map(Number),s()):t};l.range=function(e){return arguments.length?(n=e,s()):n};l.rangeRound=function(e){return l.range(e).interpolate(ho)};l.clamp=function(e){return arguments.length?(r=e,s()):r};l.interpolate=function(e){return arguments.length?(i=e,s()):i};l.ticks=function(e){return ka(t,e)};l.tickFormat=function(e,n){return Ma(t,e,n)};l.nice=function(e){return ba(t,e),s()};l.copy=function(){return e(t,n,i,r)};return s()}([0,1],[0,1],Xr,!1)};var xa={s:1,g:1,p:1,r:1,e:1};function Ca(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}o.scale.log=function(){return function e(t,n,i,r){function a(e){return(i?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(n)}function s(e){return i?Math.pow(n,e):-Math.pow(n,-e)}function l(e){return t(a(e))}l.invert=function(e){return s(t.invert(e))};l.domain=function(e){return arguments.length?(i=e[0]>=0,t.domain((r=e.map(Number)).map(a)),l):r};l.base=function(e){return arguments.length?(n=+e,t.domain(r.map(a)),l):n};l.nice=function(){var e=ma(r.map(a),i?Math:Ta);return t.domain(e),r=e.map(s),l};l.ticks=function(){var e=ha(r),t=[],o=e[0],l=e[1],c=Math.floor(a(o)),u=Math.ceil(a(l)),d=n%1?2:n;if(isFinite(u-c)){if(i){for(;c<u;c++)for(var h=1;h<d;h++)t.push(s(c)*h);t.push(s(c))}else for(t.push(s(c));c++<u;)for(var h=d-1;h>0;h--)t.push(s(c)*h);for(c=0;t[c]<o;c++);for(u=t.length;t[u-1]>l;u--);t=t.slice(c,u)}return t};l.tickFormat=function(e,t){if(!arguments.length)return Sa;arguments.length<2?t=Sa:"function"!=typeof t&&(t=o.format(t));var i=Math.max(1,n*e/l.ticks().length);return function(e){var r=e/s(Math.round(a(e)));return r*n<n-.5&&(r*=n),r<=i?t(e):""}};l.copy=function(){return e(t.copy(),n,i,r)};return ya(l,t)}(o.scale.linear().domain([0,1]),10,!0,[1,10])};var Sa=o.format(".0e"),Ta={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function La(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}o.scale.pow=function(){return function e(t,n,i){var r=La(n),o=La(1/n);function a(e){return t(r(e))}a.invert=function(e){return o(t.invert(e))};a.domain=function(e){return arguments.length?(t.domain((i=e.map(Number)).map(r)),a):i};a.ticks=function(e){return ka(i,e)};a.tickFormat=function(e,t){return Ma(i,e,t)};a.nice=function(e){return a.domain(ba(i,e))};a.exponent=function(e){return arguments.length?(r=La(n=e),o=La(1/n),t.domain(i.map(r)),a):n};a.copy=function(){return e(t.copy(),n,i)};return ya(a,t)}(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return function e(t,n){var i,r,a;function s(e){return r[((i.get(e)||("range"===n.t?i.set(e,t.push(e)):NaN))-1)%r.length]}function l(e,n){return o.range(t.length).map(function(t){return e+n*t})}s.domain=function(e){if(!arguments.length)return t;t=[],i=new x;for(var r,o=-1,a=e.length;++o<a;)i.has(r=e[o])||i.set(r,t.push(r));return s[n.t].apply(s,n.a)};s.range=function(e){return arguments.length?(r=e,a=0,n={t:"range",a:arguments},s):r};s.rangePoints=function(e,i){arguments.length<2&&(i=0);var o=e[0],c=e[1],u=t.length<2?(o=(o+c)/2,0):(c-o)/(t.length-1+i);return r=l(o+u*i/2,u),a=0,n={t:"rangePoints",a:arguments},s};s.rangeRoundPoints=function(e,i){arguments.length<2&&(i=0);var o=e[0],c=e[1],u=t.length<2?(o=c=Math.round((o+c)/2),0):(c-o)/(t.length-1+i)|0;return r=l(o+Math.round(u*i/2+(c-o-(t.length-1+i)*u)/2),u),a=0,n={t:"rangeRoundPoints",a:arguments},s};s.rangeBands=function(e,i,o){arguments.length<2&&(i=0),arguments.length<3&&(o=i);var c=e[1]<e[0],u=e[c-0],d=e[1-c],h=(d-u)/(t.length-i+2*o);return r=l(u+h*o,h),c&&r.reverse(),a=h*(1-i),n={t:"rangeBands",a:arguments},s};s.rangeRoundBands=function(e,i,o){arguments.length<2&&(i=0),arguments.length<3&&(o=i);var c=e[1]<e[0],u=e[c-0],d=e[1-c],h=Math.floor((d-u)/(t.length-i+2*o));return r=l(u+Math.round((d-u-(t.length-i)*h)/2),h),c&&r.reverse(),a=Math.round(h*(1-i)),n={t:"rangeRoundBands",a:arguments},s};s.rangeBand=function(){return a};s.rangeExtent=function(){return ha(n.a[0])};s.copy=function(){return e(t,n)};return s.domain(t)}([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(Ea)},o.scale.category20=function(){return o.scale.ordinal().range(Da)},o.scale.category20b=function(){return o.scale.ordinal().range(Oa)},o.scale.category20c=function(){return o.scale.ordinal().range(Aa)};var Ea=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(dt),Da=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(dt),Oa=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(dt),Aa=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(dt);function Ya(){return 0}o.scale.quantile=function(){return function e(t,n){var i;function r(){var e=0,r=n.length;for(i=[];++e<r;)i[e-1]=o.quantile(t,e/r);return a}function a(e){if(!isNaN(e=+e))return n[o.bisect(i,e)]}a.domain=function(e){return arguments.length?(t=e.map(_).filter(v).sort(g),r()):t};a.range=function(e){return arguments.length?(n=e,r()):n};a.quantiles=function(){return i};a.invertExtent=function(e){return(e=n.indexOf(e))<0?[NaN,NaN]:[e>0?i[e-1]:t[0],e<i.length?i[e]:t[t.length-1]]};a.copy=function(){return e(t,n)};return r()}([],[])},o.scale.quantize=function(){return function e(t,n,i){var r,o;function a(e){return i[Math.max(0,Math.min(o,Math.floor(r*(e-t))))]}function s(){return r=i.length/(n-t),o=i.length-1,a}a.domain=function(e){return arguments.length?(t=+e[0],n=+e[e.length-1],s()):[t,n]};a.range=function(e){return arguments.length?(i=e,s()):i};a.invertExtent=function(e){return[e=(e=i.indexOf(e))<0?NaN:e/r+t,e+1/r]};a.copy=function(){return e(t,n,i)};return s()}(0,1,[0,1])},o.scale.threshold=function(){return function e(t,n){function i(e){if(e<=e)return n[o.bisect(t,e)]}i.domain=function(e){return arguments.length?(t=e,i):t};i.range=function(e){return arguments.length?(n=e,i):n};i.invertExtent=function(e){return e=n.indexOf(e),[t[e-1],t[e]]};i.copy=function(){return e(t,n)};return i}([.5],[0,1])},o.scale.identity=function(){return function e(t){function n(e){return+e}n.invert=n;n.domain=n.range=function(e){return arguments.length?(t=e.map(n),n):t};n.ticks=function(e){return ka(t,e)};n.tickFormat=function(e,n){return Ma(t,e,n)};n.copy=function(){return e(t)};return n}([0,1])},o.svg={},o.svg.arc=function(){var e=ja,t=Pa,n=Ya,i=Ra,r=Na,o=Ha,a=Ia;function s(){var s=Math.max(0,+e.apply(this,arguments)),c=Math.max(0,+t.apply(this,arguments)),u=r.apply(this,arguments)-Ae,d=o.apply(this,arguments)-Ae,h=Math.abs(d-u),f=u>d?0:1;if(c<s&&(p=c,c=s,s=p),h>=Oe)return l(c,f)+(s?l(s,1-f):"")+"Z";var p,m,g,_,v,y,b,w,k,M,x,C,S=0,T=0,L=[];if((_=(+a.apply(this,arguments)||0)/2)&&(g=i===Ra?Math.sqrt(s*s+c*c):+i.apply(this,arguments),f||(T*=-1),c&&(T=He(g/c*Math.sin(_))),s&&(S=He(g/s*Math.sin(_)))),c){v=c*Math.cos(u+T),y=c*Math.sin(u+T),b=c*Math.cos(d-T),w=c*Math.sin(d-T);var E=Math.abs(d-u-2*T)<=Ee?0:1;if(T&&Fa(v,y,b,w)===f^E){var D=(u+d)/2;v=c*Math.cos(D),y=c*Math.sin(D),b=w=null}}else v=y=0;if(s){k=s*Math.cos(d-S),M=s*Math.sin(d-S),x=s*Math.cos(u+S),C=s*Math.sin(u+S);var O=Math.abs(u-d+2*S)<=Ee?0:1;if(S&&Fa(k,M,x,C)===1-f^O){var A=(u+d)/2;k=s*Math.cos(A),M=s*Math.sin(A),x=C=null}}else k=M=0;if(h>Te&&(p=Math.min(Math.abs(c-s)/2,+n.apply(this,arguments)))>.001){m=s<c^f?0:1;var Y=p,R=p;if(h<Ee){var j=null==x?[k,M]:null==b?[v,y]:cr([v,y],[x,C],[b,w],[k,M]),P=v-j[0],N=y-j[1],H=b-j[0],I=w-j[1],F=1/Math.sin(Math.acos((P*H+N*I)/(Math.sqrt(P*P+N*N)*Math.sqrt(H*H+I*I)))/2),$=Math.sqrt(j[0]*j[0]+j[1]*j[1]);R=Math.min(p,(s-$)/(F-1)),Y=Math.min(p,(c-$)/(F+1))}if(null!=b){var W=$a(null==x?[k,M]:[x,C],[v,y],c,Y,f),z=$a([b,w],[k,M],c,Y,f);p===Y?L.push("M",W[0],"A",Y,",",Y," 0 0,",m," ",W[1],"A",c,",",c," 0 ",1-f^Fa(W[1][0],W[1][1],z[1][0],z[1][1]),",",f," ",z[1],"A",Y,",",Y," 0 0,",m," ",z[0]):L.push("M",W[0],"A",Y,",",Y," 0 1,",m," ",z[0])}else L.push("M",v,",",y);if(null!=x){var B=$a([v,y],[x,C],s,-R,f),V=$a([k,M],null==b?[v,y]:[b,w],s,-R,f);p===R?L.push("L",V[0],"A",R,",",R," 0 0,",m," ",V[1],"A",s,",",s," 0 ",f^Fa(V[1][0],V[1][1],B[1][0],B[1][1]),",",1-f," ",B[1],"A",R,",",R," 0 0,",m," ",B[0]):L.push("L",V[0],"A",R,",",R," 0 0,",m," ",B[0])}else L.push("L",k,",",M)}else L.push("M",v,",",y),null!=b&&L.push("A",c,",",c," 0 ",E,",",f," ",b,",",w),L.push("L",k,",",M),null!=x&&L.push("A",s,",",s," 0 ",O,",",1-f," ",x,",",C);return L.push("Z"),L.join("")}function l(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}return s.innerRadius=function(t){return arguments.length?(e=bt(t),s):e},s.outerRadius=function(e){return arguments.length?(t=bt(e),s):t},s.cornerRadius=function(e){return arguments.length?(n=bt(e),s):n},s.padRadius=function(e){return arguments.length?(i=e==Ra?Ra:bt(e),s):i},s.startAngle=function(e){return arguments.length?(r=bt(e),s):r},s.endAngle=function(e){return arguments.length?(o=bt(e),s):o},s.padAngle=function(e){return arguments.length?(a=bt(e),s):a},s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-Ae;return[Math.cos(i)*n,Math.sin(i)*n]},s};var Ra="auto";function ja(e){return e.innerRadius}function Pa(e){return e.outerRadius}function Na(e){return e.startAngle}function Ha(e){return e.endAngle}function Ia(e){return e&&e.padAngle}function Fa(e,t,n,i){return(e-n)*t-(t-i)*e>0?0:1}function $a(e,t,n,i,r){var o=e[0]-t[0],a=e[1]-t[1],s=(r?i:-i)/Math.sqrt(o*o+a*a),l=s*a,c=-s*o,u=e[0]+l,d=e[1]+c,h=t[0]+l,f=t[1]+c,p=(u+h)/2,m=(d+f)/2,g=h-u,_=f-d,v=g*g+_*_,y=n-i,b=u*f-h*d,w=(_<0?-1:1)*Math.sqrt(Math.max(0,y*y*v-b*b)),k=(b*_-g*w)/v,M=(-b*g-_*w)/v,x=(b*_+g*w)/v,C=(-b*g+_*w)/v,S=k-p,T=M-m,L=x-p,E=C-m;return S*S+T*T>L*L+E*E&&(k=x,M=C),[[k-l,M-c],[k*n/y,M*n/y]]}function Wa(e){var t=ir,n=rr,i=Xn,r=Ba,o=r.key,a=.7;function s(o){var s,l=[],c=[],u=-1,d=o.length,h=bt(t),f=bt(n);function p(){l.push("M",r(e(c),a))}for(;++u<d;)i.call(this,s=o[u],u)?c.push([+h.call(this,s,u),+f.call(this,s,u)]):c.length&&(p(),c=[]);return c.length&&p(),l.length?l.join(""):null}return s.x=function(e){return arguments.length?(t=e,s):t},s.y=function(e){return arguments.length?(n=e,s):n},s.defined=function(e){return arguments.length?(i=e,s):i},s.interpolate=function(e){return arguments.length?(o="function"==typeof e?r=e:(r=za.get(e)||Ba).key,s):o},s.tension=function(e){return arguments.length?(a=e,s):a},s}o.svg.line=function(){return Wa(j)};var za=o.map({linear:Ba,"linear-closed":Va,step:function(e){var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];for(;++t<n;)r.push("H",(i[0]+(i=e[t])[0])/2,"V",i[1]);n>1&&r.push("H",i[0]);return r.join("")},"step-before":Ua,"step-after":qa,basis:Ka,"basis-open":function(e){if(e.length<4)return Ba(e);var t,n=[],i=-1,r=e.length,o=[0],a=[0];for(;++i<3;)t=e[i],o.push(t[0]),a.push(t[1]);n.push(Xa(es,o)+","+Xa(es,a)),--i;for(;++i<r;)t=e[i],o.shift(),o.push(t[0]),a.shift(),a.push(t[1]),ts(n,o,a);return n.join("")},"basis-closed":function(e){var t,n,i=-1,r=e.length,o=r+4,a=[],s=[];for(;++i<4;)n=e[i%r],a.push(n[0]),s.push(n[1]);t=[Xa(es,a),",",Xa(es,s)],--i;for(;++i<o;)n=e[i%r],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),ts(t,a,s);return t.join("")},bundle:function(e,t){var n=e.length-1;if(n)for(var i,r,o=e[0][0],a=e[0][1],s=e[n][0]-o,l=e[n][1]-a,c=-1;++c<=n;)i=e[c],r=c/n,i[0]=t*i[0]+(1-t)*(o+r*s),i[1]=t*i[1]+(1-t)*(a+r*l);return Ka(e)},cardinal:function(e,t){return e.length<3?Ba(e):e[0]+Ga(e,Ja(e,t))},"cardinal-open":function(e,t){return e.length<4?Ba(e):e[1]+Ga(e.slice(1,-1),Ja(e,t))},"cardinal-closed":function(e,t){return e.length<3?Va(e):e[0]+Ga((e.push(e[0]),e),Ja([e[e.length-2]].concat(e,[e[1]]),t))},monotone:function(e){return e.length<3?Ba(e):e[0]+Ga(e,function(e){var t,n,i,r,o=[],a=function(e){var t=0,n=e.length-1,i=[],r=e[0],o=e[1],a=i[0]=ns(r,o);for(;++t<n;)i[t]=(a+(a=ns(r=o,o=e[t+1])))/2;return i[t]=a,i}(e),s=-1,l=e.length-1;for(;++s<l;)t=ns(e[s],e[s+1]),k(t)<Te?a[s]=a[s+1]=0:(n=a[s]/t,i=a[s+1]/t,(r=n*n+i*i)>9&&(r=3*t/Math.sqrt(r),a[s]=r*n,a[s+1]=r*i));s=-1;for(;++s<=l;)r=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([r||0,a[s]*r||0]);return o}(e))}});function Ba(e){return e.length>1?e.join("L"):e+"Z"}function Va(e){return e.join("L")+"Z"}function Ua(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("V",(i=e[t])[1],"H",i[0]);return r.join("")}function qa(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("H",(i=e[t])[0],"V",i[1]);return r.join("")}function Ga(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Ba(e);var n=e.length!=t.length,i="",r=e[0],o=e[1],a=t[0],s=a,l=1;if(n&&(i+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],r=e[1],l=2),t.length>1){s=t[1],o=e[l],l++,i+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var c=2;c<t.length;c++,l++)o=e[l],s=t[c],i+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var u=e[l];i+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+u[0]+","+u[1]}return i}function Ja(e,t){for(var n,i=[],r=(1-t)/2,o=e[0],a=e[1],s=1,l=e.length;++s<l;)n=o,o=a,a=e[s],i.push([r*(a[0]-n[0]),r*(a[1]-n[1])]);return i}function Ka(e){if(e.length<3)return Ba(e);var t=1,n=e.length,i=e[0],r=i[0],o=i[1],a=[r,r,r,(i=e[1])[0]],s=[o,o,o,i[1]],l=[r,",",o,"L",Xa(es,a),",",Xa(es,s)];for(e.push(e[n-1]);++t<=n;)i=e[t],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),ts(l,a,s);return e.pop(),l.push("L",i),l.join("")}function Xa(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}za.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Qa=[0,2/3,1/3,0],Za=[0,1/3,2/3,0],es=[0,1/6,2/3,1/6];function ts(e,t,n){e.push("C",Xa(Qa,t),",",Xa(Qa,n),",",Xa(Za,t),",",Xa(Za,n),",",Xa(es,t),",",Xa(es,n))}function ns(e,t){return(t[1]-e[1])/(t[0]-e[0])}function is(e){for(var t,n,i,r=-1,o=e.length;++r<o;)n=(t=e[r])[0],i=t[1]-Ae,t[0]=n*Math.cos(i),t[1]=n*Math.sin(i);return e}function rs(e){var t=ir,n=ir,i=0,r=rr,o=Xn,a=Ba,s=a.key,l=a,c="L",u=.7;function d(s){var d,h,f,p=[],m=[],g=[],_=-1,v=s.length,y=bt(t),b=bt(i),w=t===n?function(){return h}:bt(n),k=i===r?function(){return f}:bt(r);function M(){p.push("M",a(e(g),u),c,l(e(m.reverse()),u),"Z")}for(;++_<v;)o.call(this,d=s[_],_)?(m.push([h=+y.call(this,d,_),f=+b.call(this,d,_)]),g.push([+w.call(this,d,_),+k.call(this,d,_)])):m.length&&(M(),m=[],g=[]);return m.length&&M(),p.length?p.join(""):null}return d.x=function(e){return arguments.length?(t=n=e,d):n},d.x0=function(e){return arguments.length?(t=e,d):t},d.x1=function(e){return arguments.length?(n=e,d):n},d.y=function(e){return arguments.length?(i=r=e,d):r},d.y0=function(e){return arguments.length?(i=e,d):i},d.y1=function(e){return arguments.length?(r=e,d):r},d.defined=function(e){return arguments.length?(o=e,d):o},d.interpolate=function(e){return arguments.length?(s="function"==typeof e?a=e:(a=za.get(e)||Ba).key,l=a.reverse||a,c=a.closed?"M":"L",d):s},d.tension=function(e){return arguments.length?(u=e,d):u},d}function os(e){return e.radius}function as(e){return[e.x,e.y]}function ss(){return 64}function ls(){return"circle"}function cs(e){var t=Math.sqrt(e/Ee);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}o.svg.line.radial=function(){var e=Wa(is);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Ua.reverse=qa,qa.reverse=Ua,o.svg.area=function(){return rs(j)},o.svg.area.radial=function(){var e=rs(is);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},o.svg.chord=function(){var e=zi,t=Bi,n=os,i=Na,r=Ha;function o(n,i){var r=a(this,e,n,i),o=a(this,t,n,i);return"M"+r.p0+s(r.r,r.p1,r.a1-r.a0)+(function(e,t){return e.a0==t.a0&&e.a1==t.a1}(r,o)?l(r.r,r.p1,r.r,r.p0):l(r.r,r.p1,o.r,o.p0)+s(o.r,o.p1,o.a1-o.a0)+l(o.r,o.p1,r.r,r.p0))+"Z"}function a(e,t,o,a){var s=t.call(e,o,a),l=n.call(e,s,a),c=i.call(e,s,a)-Ae,u=r.call(e,s,a)-Ae;return{r:l,a0:c,a1:u,p0:[l*Math.cos(c),l*Math.sin(c)],p1:[l*Math.cos(u),l*Math.sin(u)]}}function s(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Ee)+",1 "+t}function l(e,t,n,i){return"Q 0,0 "+i}return o.radius=function(e){return arguments.length?(n=bt(e),o):n},o.source=function(t){return arguments.length?(e=bt(t),o):e},o.target=function(e){return arguments.length?(t=bt(e),o):t},o.startAngle=function(e){return arguments.length?(i=bt(e),o):i},o.endAngle=function(e){return arguments.length?(r=bt(e),o):r},o},o.svg.diagonal=function(){var e=zi,t=Bi,n=as;function i(i,r){var o=e.call(this,i,r),a=t.call(this,i,r),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return"M"+(l=l.map(n))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return i.source=function(t){return arguments.length?(e=bt(t),i):e},i.target=function(e){return arguments.length?(t=bt(e),i):t},i.projection=function(e){return arguments.length?(n=e,i):n},i},o.svg.diagonal.radial=function(){var e=o.svg.diagonal(),t=as,n=e.projection;return e.projection=function(e){return arguments.length?n(function(e){return function(){var t=e.apply(this,arguments),n=t[0],i=t[1]-Ae;return[n*Math.cos(i),n*Math.sin(i)]}}(t=e)):t},e},o.svg.symbol=function(){var e=ls,t=ss;function n(n,i){return(us.get(e.call(this,n,i))||cs)(t.call(this,n,i))}return n.type=function(t){return arguments.length?(e=bt(t),n):e},n.size=function(e){return arguments.length?(t=bt(e),n):t},n};var us=o.map({circle:cs,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*hs)),n=t*hs;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/ds),n=t*ds/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/ds),n=t*ds/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});o.svg.symbolTypes=us.keys();var ds=Math.sqrt(3),hs=Math.tan(30*Ye);X.transition=function(e){for(var t,n,i=gs||++ys,r=ks(e),o=[],a=_s||{time:Date.now(),ease:ao,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(t=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(n=c[u])&&Ms(n,u,r,i,a),t.push(n)}return ms(o,r,i)},X.interrupt=function(e){return this.each(null==e?fs:ps(ks(e)))};var fs=ps(ks());function ps(e){return function(){var t,n,i;(t=this[e])&&(i=t[n=t.active])&&(i.timer.c=null,i.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function ms(e,t,n){return U(e,vs),e.namespace=t,e.id=n,e}var gs,_s,vs=[],ys=0;function bs(e,t,n,i){var r=e.id,o=e.namespace;return pe(e,"function"==typeof n?function(e,a,s){e[o][r].tween.set(t,i(n.call(e,e.__data__,a,s)))}:(n=i(n),function(e){e[o][r].tween.set(t,n)}))}function ws(e){return null==e&&(e=""),function(){this.textContent=e}}function ks(e){return null==e?"__transition__":"__transition_"+e+"__"}function Ms(e,t,n,i,r){var o,a,s,l,c,u=e[n]||(e[n]={active:0,count:0}),d=u[i];function h(n){var r=u.active,h=u[r];for(var p in h&&(h.timer.c=null,h.timer.t=NaN,--u.count,delete u[r],h.event&&h.event.interrupt.call(e,e.__data__,h.index)),u)if(+p<i){var m=u[p];m.timer.c=null,m.timer.t=NaN,--u.count,delete u[p]}a.c=f,Lt(function(){return a.c&&f(n||1)&&(a.c=null,a.t=NaN),1},0,o),u.active=i,d.event&&d.event.start.call(e,e.__data__,t),c=[],d.tween.forEach(function(n,i){(i=i.call(e,e.__data__,t))&&c.push(i)}),l=d.ease,s=d.duration}function f(r){for(var o=r/s,a=l(o),h=c.length;h>0;)c[--h].call(e,a);if(o>=1)return d.event&&d.event.end.call(e,e.__data__,t),--u.count?delete u[i]:delete e[n],1}d||(o=r.time,a=Lt(function(e){var t=d.delay;if(a.t=t+o,t<=e)return h(e-t);a.c=h},0,o),d=u[i]={tween:new x,time:o,timer:a,delay:r.delay,duration:r.duration,ease:r.ease,index:t},r=null,++u.count)}vs.call=X.call,vs.empty=X.empty,vs.node=X.node,vs.size=X.size,o.transition=function(e,t){return e&&e.transition?gs?e.transition(t):e:o.selection().transition(e)},o.transition.prototype=vs,vs.select=function(e){var t,n,i,r=this.id,o=this.namespace,a=[];e=Q(e);for(var s=-1,l=this.length;++s<l;){a.push(t=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(i=c[u])&&(n=e.call(i,i.__data__,u,s))?("__data__"in i&&(n.__data__=i.__data__),Ms(n,u,o,r,i[o][r]),t.push(n)):t.push(null)}return ms(a,o,r)},vs.selectAll=function(e){var t,n,i,r,o,a=this.id,s=this.namespace,l=[];e=Z(e);for(var c=-1,u=this.length;++c<u;)for(var d=this[c],h=-1,f=d.length;++h<f;)if(i=d[h]){o=i[s][a],n=e.call(i,i.__data__,h,c),l.push(t=[]);for(var p=-1,m=n.length;++p<m;)(r=n[p])&&Ms(r,p,s,a,o),t.push(r)}return ms(l,s,a)},vs.filter=function(e){var t,n,i=[];"function"!=typeof e&&(e=fe(e));for(var r=0,o=this.length;r<o;r++){i.push(t=[]);for(var a,s=0,l=(a=this[r]).length;s<l;s++)(n=a[s])&&e.call(n,n.__data__,s,r)&&t.push(n)}return ms(i,this.namespace,this.id)},vs.tween=function(e,t){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(e):pe(this,null==t?function(t){t[i][n].tween.remove(e)}:function(r){r[i][n].tween.set(e,t)})},vs.attr=function(e,t){if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var n="transform"==e?vo:Xr,i=o.ns.qualify(e);function r(){this.removeAttribute(i)}function a(){this.removeAttributeNS(i.space,i.local)}return bs(this,"attr."+e,t,i.local?function(e){return null==e?a:(e+="",function(){var t,r=this.getAttributeNS(i.space,i.local);return r!==e&&(t=n(r,e),function(e){this.setAttributeNS(i.space,i.local,t(e))})})}:function(e){return null==e?r:(e+="",function(){var t,r=this.getAttribute(i);return r!==e&&(t=n(r,e),function(e){this.setAttribute(i,t(e))})})})},vs.attrTween=function(e,t){var n=o.ns.qualify(e);return this.tween("attr."+e,n.local?function(e,i){var r=t.call(this,e,i,this.getAttributeNS(n.space,n.local));return r&&function(e){this.setAttributeNS(n.space,n.local,r(e))}}:function(e,i){var r=t.call(this,e,i,this.getAttribute(n));return r&&function(e){this.setAttribute(n,r(e))}})},vs.style=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){for(n in i<2&&(t=""),e)this.style(n,e[n],t);return this}n=""}function r(){this.style.removeProperty(e)}return bs(this,"style."+e,t,function(t){return null==t?r:(t+="",function(){var i,r=u(this).getComputedStyle(this,null).getPropertyValue(e);return r!==t&&(i=Xr(r,t),function(t){this.style.setProperty(e,i(t),n)})})})},vs.styleTween=function(e,t,n){return arguments.length<3&&(n=""),this.tween("style."+e,function(i,r){var o=t.call(this,i,r,u(this).getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}})},vs.text=function(e){return bs(this,"text",e,ws)},vs.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},vs.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=o.ease.apply(o,arguments)),pe(this,function(i){i[n][t].ease=e}))},vs.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:pe(this,"function"==typeof e?function(i,r,o){i[n][t].delay=+e.call(i,i.__data__,r,o)}:(e=+e,function(i){i[n][t].delay=e}))},vs.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:pe(this,"function"==typeof e?function(i,r,o){i[n][t].duration=Math.max(1,e.call(i,i.__data__,r,o))}:(e=Math.max(1,e),function(i){i[n][t].duration=e}))},vs.each=function(e,t){var n=this.id,i=this.namespace;if(arguments.length<2){var r=_s,a=gs;try{gs=n,pe(this,function(t,r,o){_s=t[i][n],e.call(t,t.__data__,r,o)})}finally{_s=r,gs=a}}else pe(this,function(r){var a=r[i][n];(a.event||(a.event=o.dispatch("start","end","interrupt"))).on(e,t)});return this},vs.transition=function(){for(var e,t,n,i=this.id,r=++ys,o=this.namespace,a=[],s=0,l=this.length;s<l;s++){a.push(e=[]);for(var c,u=0,d=(c=this[s]).length;u<d;u++)(t=c[u])&&Ms(t,u,o,r,{time:(n=t[o][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),e.push(t)}return ms(a,o,r)},o.svg.axis=function(){var e,t=o.scale.linear(),n=xs,i=6,r=6,a=3,l=[10],c=null;function u(s){s.each(function(){var s,u=o.select(this),d=this.__chart__||t,h=this.__chart__=t.copy(),f=null==c?h.ticks?h.ticks.apply(h,l):h.domain():c,p=null==e?h.tickFormat?h.tickFormat.apply(h,l):j:e,m=u.selectAll(".tick").data(f,h),g=m.enter().insert("g",".domain").attr("class","tick").style("opacity",Te),_=o.transition(m.exit()).style("opacity",Te).remove(),v=o.transition(m.order()).style("opacity",1),y=Math.max(i,0)+a,b=fa(h),w=u.selectAll(".domain").data([0]),k=(w.enter().append("path").attr("class","domain"),o.transition(w));g.append("line"),g.append("text");var M,x,C,S,T=g.select("line"),L=v.select("line"),E=m.select("text").text(p),D=g.select("text"),O=v.select("text"),A="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(s=Ss,M="x",C="y",x="x2",S="y2",E.attr("dy",A<0?"0em":".71em").style("text-anchor","middle"),k.attr("d","M"+b[0]+","+A*r+"V0H"+b[1]+"V"+A*r)):(s=Ts,M="y",C="x",x="y2",S="x2",E.attr("dy",".32em").style("text-anchor",A<0?"end":"start"),k.attr("d","M"+A*r+","+b[0]+"H0V"+b[1]+"H"+A*r)),T.attr(S,A*i),D.attr(C,A*y),L.attr(x,0).attr(S,A*i),O.attr(M,0).attr(C,A*y),h.rangeBand){var Y=h,R=Y.rangeBand()/2;d=h=function(e){return Y(e)+R}}else d.rangeBand?d=h:_.call(s,h,d);g.call(s,d,h),v.call(s,h,h)})}return u.scale=function(e){return arguments.length?(t=e,u):t},u.orient=function(e){return arguments.length?(n=e in Cs?e+"":xs,u):n},u.ticks=function(){return arguments.length?(l=s(arguments),u):l},u.tickValues=function(e){return arguments.length?(c=e,u):c},u.tickFormat=function(t){return arguments.length?(e=t,u):e},u.tickSize=function(e){var t=arguments.length;return t?(i=+e,r=+arguments[t-1],u):i},u.innerTickSize=function(e){return arguments.length?(i=+e,u):i},u.outerTickSize=function(e){return arguments.length?(r=+e,u):r},u.tickPadding=function(e){return arguments.length?(a=+e,u):a},u.tickSubdivide=function(){return arguments.length&&u},u};var xs="bottom",Cs={top:1,right:1,bottom:1,left:1};function Ss(e,t,n){e.attr("transform",function(e){var i=t(e);return"translate("+(isFinite(i)?i:n(e))+",0)"})}function Ts(e,t,n){e.attr("transform",function(e){var i=t(e);return"translate(0,"+(isFinite(i)?i:n(e))+")"})}o.svg.brush=function(){var e,t,n=B(h,"brushstart","brush","brushend"),i=null,r=null,a=[0,0],s=[0,0],l=!0,c=!0,d=Es[0];function h(e){e.each(function(){var e=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",g).on("touchstart.brush",g),t=e.selectAll(".background").data([0]);t.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=e.selectAll(".resize").data(d,j);n.exit().remove(),n.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Ls[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",h.empty()?"none":null);var a,s=o.transition(e),l=o.transition(t);i&&(a=fa(i),l.attr("x",a[0]).attr("width",a[1]-a[0]),p(s)),r&&(a=fa(r),l.attr("y",a[0]).attr("height",a[1]-a[0]),m(s)),f(s)})}function f(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+a[+/e$/.test(e)]+","+s[+/^s/.test(e)]+")"})}function p(e){e.select(".extent").attr("x",a[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",a[1]-a[0])}function m(e){e.select(".extent").attr("y",s[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function g(){var d,g,_=this,v=o.select(o.event.target),y=n.of(_,arguments),b=o.select(_),w=v.datum(),k=!/^(n|s)$/.test(w)&&i,M=!/^(e|w)$/.test(w)&&r,x=v.classed("extent"),C=Me(_),S=o.mouse(_),T=o.select(u(_)).on("keydown.brush",function(){32==o.event.keyCode&&(x||(d=null,S[0]-=a[1],S[1]-=s[1],x=2),W())}).on("keyup.brush",function(){32==o.event.keyCode&&2==x&&(S[0]+=a[1],S[1]+=s[1],x=0,W())});if(o.event.changedTouches?T.on("touchmove.brush",D).on("touchend.brush",A):T.on("mousemove.brush",D).on("mouseup.brush",A),b.interrupt().selectAll("*").interrupt(),x)S[0]=a[0]-S[0],S[1]=s[0]-S[1];else if(w){var L=+/w$/.test(w),E=+/^n/.test(w);g=[a[1-L]-S[0],s[1-E]-S[1]],S[0]=a[L],S[1]=s[E]}else o.event.altKey&&(d=S.slice());function D(){var e=o.mouse(_),t=!1;g&&(e[0]+=g[0],e[1]+=g[1]),x||(o.event.altKey?(d||(d=[(a[0]+a[1])/2,(s[0]+s[1])/2]),S[0]=a[+(e[0]<d[0])],S[1]=s[+(e[1]<d[1])]):d=null),k&&O(e,i,0)&&(p(b),t=!0),M&&O(e,r,1)&&(m(b),t=!0),t&&(f(b),y({type:"brush",mode:x?"move":"resize"}))}function O(n,i,r){var o,u,h=fa(i),f=h[0],p=h[1],m=S[r],g=r?s:a,_=g[1]-g[0];if(x&&(f-=m,p-=_+m),o=(r?c:l)?Math.max(f,Math.min(p,n[r])):n[r],x?u=(o+=m)+_:(d&&(m=Math.max(f,Math.min(p,2*d[r]-o))),m<o?(u=o,o=m):u=m),g[0]!=o||g[1]!=u)return r?t=null:e=null,g[0]=o,g[1]=u,!0}function A(){D(),b.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null),o.select("body").style("cursor",null),T.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),C(),y({type:"brushend"})}b.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",v.style("cursor")),y({type:"brushstart"}),D()}return h.event=function(i){i.each(function(){var i=n.of(this,arguments),r={x:a,y:s,i:e,j:t},l=this.__chart__||r;this.__chart__=r,gs?o.select(this).transition().each("start.brush",function(){e=l.i,t=l.j,a=l.x,s=l.y,i({type:"brushstart"})}).tween("brush:brush",function(){var n=Qr(a,r.x),o=Qr(s,r.y);return e=t=null,function(e){a=r.x=n(e),s=r.y=o(e),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){e=r.i,t=r.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},h.x=function(e){return arguments.length?(d=Es[!(i=e)<<1|!r],h):i},h.y=function(e){return arguments.length?(d=Es[!i<<1|!(r=e)],h):r},h.clamp=function(e){return arguments.length?(i&&r?(l=!!e[0],c=!!e[1]):i?l=!!e:r&&(c=!!e),h):i&&r?[l,c]:i?l:r?c:null},h.extent=function(n){var o,l,c,u,d;return arguments.length?(i&&(o=n[0],l=n[1],r&&(o=o[0],l=l[0]),e=[o,l],i.invert&&(o=i(o),l=i(l)),l<o&&(d=o,o=l,l=d),o==a[0]&&l==a[1]||(a=[o,l])),r&&(c=n[0],u=n[1],i&&(c=c[1],u=u[1]),t=[c,u],r.invert&&(c=r(c),u=r(u)),u<c&&(d=c,c=u,u=d),c==s[0]&&u==s[1]||(s=[c,u])),h):(i&&(e?(o=e[0],l=e[1]):(o=a[0],l=a[1],i.invert&&(o=i.invert(o),l=i.invert(l)),l<o&&(d=o,o=l,l=d))),r&&(t?(c=t[0],u=t[1]):(c=s[0],u=s[1],r.invert&&(c=r.invert(c),u=r.invert(u)),u<c&&(d=c,c=u,u=d))),i&&r?[[o,c],[l,u]]:i?[o,l]:r&&[c,u])},h.clear=function(){return h.empty()||(a=[0,0],s=[0,0],e=t=null),h},h.empty=function(){return!!i&&a[0]==a[1]||!!r&&s[0]==s[1]},o.rebind(h,n,"on")};var Ls={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Es=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ds=Nt.format=hn.timeFormat,Os=Ds.utc,As=Os("%Y-%m-%dT%H:%M:%S.%LZ");function Ys(e){return e.toISOString()}function Rs(e,t,n){function i(t){return e(t)}function r(e,n){var i=(e[1]-e[0])/n,r=o.bisect(Ps,i);return r==Ps.length?[t.year,wa(e.map(function(e){return e/31536e6}),n)[2]]:r?t[i/Ps[r-1]<Ps[r]/i?r-1:r]:[Is,wa(e,n)[2]]}return i.invert=function(t){return js(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain().map(js)},i.nice=function(e,t){var n=i.domain(),o=ha(n),a=null==e?r(o,10):"number"==typeof e&&r(o,e);function s(n){return!isNaN(n)&&!e.range(n,js(+n+1),t).length}return a&&(e=a[0],t=a[1]),i.domain(ma(n,t>1?{floor:function(t){for(;s(t=e.floor(t));)t=js(t-1);return t},ceil:function(t){for(;s(t=e.ceil(t));)t=js(+t+1);return t}}:e))},i.ticks=function(e,t){var n=ha(i.domain()),o=null==e?r(n,10):"number"==typeof e?r(n,e):!e.range&&[{range:e},t];return o&&(e=o[0],t=o[1]),e.range(n[0],js(+n[1]+1),t<1?1:t)},i.tickFormat=function(){return n},i.copy=function(){return Rs(e.copy(),t,n)},ya(i,e)}function js(e){return new Date(e)}Ds.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ys:As,Ys.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Ys.toString=As.toString,Nt.second=$t(function(e){return new Ht(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),Nt.seconds=Nt.second.range,Nt.seconds.utc=Nt.second.utc.range,Nt.minute=$t(function(e){return new Ht(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),Nt.minutes=Nt.minute.range,Nt.minutes.utc=Nt.minute.utc.range,Nt.hour=$t(function(e){var t=e.getTimezoneOffset()/60;return new Ht(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),Nt.hours=Nt.hour.range,Nt.hours.utc=Nt.hour.utc.range,Nt.month=$t(function(e){return(e=Nt.day(e)).setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),Nt.months=Nt.month.range,Nt.months.utc=Nt.month.utc.range;var Ps=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ns=[[Nt.second,1],[Nt.second,5],[Nt.second,15],[Nt.second,30],[Nt.minute,1],[Nt.minute,5],[Nt.minute,15],[Nt.minute,30],[Nt.hour,1],[Nt.hour,3],[Nt.hour,6],[Nt.hour,12],[Nt.day,1],[Nt.day,2],[Nt.week,1],[Nt.month,1],[Nt.month,3],[Nt.year,1]],Hs=Ds.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Xn]]),Is={range:function(e,t,n){return o.range(Math.ceil(e/n)*n,+t,n).map(js)},floor:j,ceil:j};Ns.year=Nt.year,Nt.scale=function(){return Rs(o.scale.linear(),Ns,Hs)};var Fs=Ns.map(function(e){return[e[0].utc,e[1]]}),$s=Os.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Xn]]);function Ws(e){return JSON.parse(e.responseText)}function zs(e){var t=l.createRange();return t.selectNode(l.body),t.createContextualFragment(e.responseText)}Fs.year=Nt.year.utc,Nt.scale.utc=function(){return Rs(o.scale.linear(),Fs,$s)},o.text=wt(function(e){return e.responseText}),o.json=function(e,t){return kt(e,"application/json",Ws,t)},o.html=function(e,t){return kt(e,"text/html",zs,t)},o.xml=wt(function(e){return e.responseXML}),this.d3=o,void 0===(r="function"==typeof(i=o)?i.call(t,n,t,e):i)||(e.exports=r)}()},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";(function(e){t.a={get:function(t,n){n=n||window.location.search.substr(1);var i=new RegExp("".concat(t,"=([^&#$]+)"),"g"),r=n.match(i);if(r&&r.length)return 1===(r=e.map(r,function(e){return decodeURIComponent(e.substr(t.length+1).replace(/\+/g," "))})).length?r[0]:r},parse:function(e){if(!e)return{};var t={};return e.split("&").forEach(function(e){var n=e.split("=");t[n[0]]=decodeURI(n[1])}),t}}}).call(this,n(2))},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";(function(e){var i=n(0),r=n.n(i),o=n(3),a=n.n(o),s=n(384),l=n(11),c=n(571),u=n(93),d=n(5);t.a=a.a.View.extend({initialize:function(e){this.model=new a.a.Model({initial_errors:!1,cls:"ui-portlet",icon:null,always_refresh:!0,status:"warning",hide_operations:!1,onchange:function(){}}).set(e),this.setElement("<div/>"),this.render()},update:function(e){var t=this;this.data.matchModel(e,function(e,n){var i=t.field_list[n];i.update&&(i.update(e),i.trigger("change"),Object(d.getGalaxyInstance)().emit.debug("form-view::update()","Updating input: ".concat(n)))})},wait:function(e){for(var t in this.input_list){var n=this.field_list[t];this.input_list[t].is_dynamic&&n.wait&&n.unwait&&n[e?"wait":"unwait"]()}},highlight:function(e,t,n){var i=this.element_list[e];if(i&&(i.error(t||"Please verify this parameter."),this.portlet.expand(),this.trigger("expand",e),!n)){var o=this.$el.parents().filter(function(){return-1!=["auto","scroll"].indexOf(r()(this).css("overflow"))}).first();o.animate({scrollTop:o.scrollTop()+i.$el.offset().top-o.position().top-120},500)}},errors:function(e){if(this.trigger("reset"),e&&e.errors){var t=this.data.matchResponse(e.errors);for(var n in this.element_list)t[n]&&this.highlight(n,t[n],!0)}},render:function(){var t=this;this.off("change"),this.off("reset"),this.field_list={},this.input_list={},this.element_list={},this.data=new u.a.Manager(this),this._renderForm(),this.data.create(),this.model.get("initial_errors")&&this.errors(this.model.attributes);var n=this.data.checksum();return this.on("change",function(e){var i=t.input_list[e];if(!i||i.refresh_on_change||t.model.get("always_refresh")){var r=t.data.checksum();r!=n&&(n=r,t.model.get("onchange")())}}),this.on("reset",function(){e.each(t.element_list,function(e){e.reset()})}),this},_renderForm:function(){r()(".tooltip").remove();var e=this.model.attributes;this.message=new l.a.UnescapedMessage,this.section=new c.a.View(this,{inputs:e.inputs}),this.portlet=new s.a.View({icon:e.icon,title:e.title,title_id:e.title_id,operations:!e.hide_operations&&e.operations,cls:e.cls,buttons:e.buttons,collapsible:e.collapsible,collapsed:e.collapsed,onchange_title:e.onchange_title}),this.portlet.append(this.message.$el),this.portlet.append(this.section.$el),this.$el.empty(),e.inputs&&this.$el.append(this.portlet.$el),e.message&&this.message.update({persistent:!0,status:e.status,message:e.message}),Object(d.getGalaxyInstance)().emit.debug("form-view::initialize()","Completed")}})}).call(this,n(2))},function(e,t,n){"use strict";(function(e){var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(1),d=n.n(u),h=n(32),f=n(42),p=n(70),m=n(28),g=n(347),_={toJSON:function(){var e=this,t={};return r.a.each(e.constructor.to_json_keys,function(n){var i=e.get(n);n in e.constructor.to_json_mappers&&(i=e.constructor.to_json_mappers[n](i,e)),t[n]=i}),t}},v=function(e){this.default_font=void 0!==e?e:"9px Monaco, Lucida Console, monospace",this.dummy_canvas=this.new_canvas(),this.dummy_context=this.dummy_canvas.getContext("2d"),this.dummy_context.font=this.default_font,this.char_width_px=this.dummy_context.measureText("A").width,this.patterns={},this.load_pattern("right_strand","/visualization/strand_right.png"),this.load_pattern("left_strand","/visualization/strand_left.png"),this.load_pattern("right_strand_inv","/visualization/strand_right_inv.png"),this.load_pattern("left_strand_inv","/visualization/strand_left_inv.png")};r.a.extend(v.prototype,{load_pattern:function(e,t){var n=this.patterns,i=this.dummy_context,r=new Image;r.src="".concat(Object(c.a)(),"static/images").concat(t),r.onload=function(){n[e]=i.createPattern(r,"repeat")}},get_pattern:function(e){return this.patterns[e]},new_canvas:function(){var e=a()("<canvas/>")[0];return e.manager=this,e}});var y=l.a.Model.extend({defaults:{num_elements:20,obj_cache:null,key_ary:null},initialize:function(e){this.clear()},get_elt:function(e){var t=this.attributes.obj_cache,n=this.attributes.key_ary,i=e.toString(),o=r.a.indexOf(n,function(e){return e.toString()===i});return-1!==o&&(t[i].stale?(n.splice(o,1),delete t[i]):this.move_key_to_end(e,o)),t[i]},set_elt:function(e,t){var n=this.attributes.obj_cache,i=this.attributes.key_ary,r=e.toString(),o=this.attributes.num_elements;if(!n[r]){if(i.length>=o)delete n[i.shift().toString()];i.push(e)}return n[r]=t,t},move_key_to_end:function(e,t){this.attributes.key_ary.splice(t,1),this.attributes.key_ary.push(e)},clear:function(){this.attributes.obj_cache={},this.attributes.key_ary=[]},size:function(){return this.attributes.key_ary.length},most_recently_added:function(){return 0===this.size()?null:this.attributes.key_ary[this.attributes.key_ary.length-1]}}),b=y.extend({defaults:r.a.extend({},y.prototype.defaults,{dataset:null,genome:null,init_data:null,min_region_size:200,filters_manager:null,data_type:"data",data_mode_compatible:function(e,t){return!0},can_subset:function(e){return!1}}),initialize:function(e){y.prototype.initialize.call(this);var t=this.get("init_data");t&&this.add_data(t)},add_data:function(e){this.get("num_elements")<e.length&&this.set("num_elements",e.length);var t=this;r.a.each(e,function(e){t.set_data(e.region,e)})},data_is_ready:function(){var e=this.get("dataset"),t=a.a.Deferred(),n="raw_data"===this.get("data_type")?"state":"data"===this.get("data_type")?"converted_datasets_state":"error",i=new f.a.ServerStateDeferred({ajax_settings:{url:this.get("dataset").url(),data:{hda_ldda:e.get("hda_ldda"),data_type:n},dataType:"json"},interval:5e3,success_fn:function(e){return"pending"!==e}});return a.a.when(i.go()).then(function(e){t.resolve("ok"===e||"data"===e)}),t},search_features:function(e){var t=this.get("dataset"),n={query:e,hda_ldda:t.get("hda_ldda"),data_type:"features"};return a.a.getJSON(t.url(),n)},load_data:function(e,t,n,i){var r=this.get("dataset"),o={data_type:this.get("data_type"),chrom:e.get("chrom"),low:e.get("start"),high:e.get("end"),mode:t,resolution:n,hda_ldda:r.get("hda_ldda")};a.a.extend(o,i);var s=this.get("filters_manager");if(s){for(var l=[],c=s.filters,u=0;u<c.length;u++)l.push(c[u].name);o.filter_cols=JSON.stringify(l)}var d=this,h=a.a.getJSON(r.url(),o,function(t){t.region=e,d.set_data(e,t)});return this.set_data(e,h),h},get_data:function(e,t,n,i){var r=this.get_elt(e);if(r&&(f.a.is_deferred(r)||this.get("data_mode_compatible")(r,t)))return r;for(var o,a,s=this.get("key_ary"),l=this.get("obj_cache"),c=0;c<s.length;c++)if((o=s[c]).contains(e)&&(a=!0,r=l[o.toString()],f.a.is_deferred(r)||this.get("data_mode_compatible")(r,t)&&this.get("can_subset")(r))){if(this.move_key_to_end(o,c),!f.a.is_deferred(r)){var u=this.subset_entry(r,e);this.set_data(e,u),r=u}return r}if(!a&&e.length()<this.attributes.min_region_size){e=e.copy();var d=this.most_recently_added();!d||e.get("start")>d.get("start")?e.set("end",e.get("start")+this.attributes.min_region_size):e.set("start",e.get("end")-this.attributes.min_region_size),e.set("genome",this.attributes.genome),e.trim()}return this.load_data(e,t,n,i)},set_data:function(e,t){this.set_elt(e,t)},DEEP_DATA_REQ:"deep",BROAD_DATA_REQ:"breadth",get_more_data:function(e,t,n,i,r){var o=this._mark_stale(e);if(o&&this.get("data_mode_compatible")(o,t)){var s=e.get("start");r===this.DEEP_DATA_REQ?a.a.extend(i,{start_val:o.data.length+1}):r===this.BROAD_DATA_REQ&&(s=(o.max_high?o.max_high:o.data[o.data.length-1][2])+1);var l=e.copy().set("start",s),c=this,u=this.load_data(l,t,n,i),d=a.a.Deferred();return this.set_data(e,d),a.a.when(u).then(function(t){t.data&&(t.data=o.data.concat(t.data),t.max_low&&(t.max_low=o.max_low),t.message&&(t.message=t.message.replace(/[0-9]+/,t.data.length))),c.set_data(e,t),d.resolve(t)}),d}console.log("ERROR: problem with getting more data: current data is not compatible")},can_get_more_detailed_data:function(e){var t=this.get_elt(e);return"bigwig"===t.dataset_type&&t.data.length<8e3},get_more_detailed_data:function(e,t,n,i,r){var o=this._mark_stale(e);if(o)return r||(r={}),"bigwig"===o.dataset_type&&(r.num_samples=1e3*i),this.load_data(e,t,n,r);console.log("ERROR getting more detailed data: no current data")},_mark_stale:function(e){var t=this.get_elt(e);return t||console.log("ERROR: no data to mark as stale: ",this.get("dataset"),e.toString()),t.stale=!0,t},get_genome_wide_data:function(e){var t=this,n=!0,i=r.a.map(e.get("chroms_info").chrom_info,function(e){var i=t.get_elt(new M({chrom:e.chrom,start:0,end:e.len}));return i||(n=!1),i});if(n)return i;var o=a.a.Deferred();return a.a.getJSON(this.get("dataset").url(),{data_type:"genome_data"},function(e){t.add_data(e.data),o.resolve(e.data)}),o},subset_entry:function(e,t){var n={bigwig:function(e,t){return r.a.filter(e,function(e){return e[0]>=t.get("start")&&e[0]<=t.get("end")})},refseq:function(t,n){var i=n.get("start")-e.region.get("start");return e.data.slice(i,i+n.length())}},i=e.data;return!e.region.same(t)&&e.dataset_type in n&&(i=n[e.dataset_type](e.data,t)),{region:t,data:i,dataset_type:e.dataset_type}}}),w=b.extend({initialize:function(e){var t=new l.a.Model;t.urlRoot=e.data_url,this.set("dataset",t)},load_data:function(e,t,n,i){return e.length()<=1e5?b.prototype.load_data.call(this,e,t,n,i):{data:null,region:e}}}),k=l.a.Model.extend({defaults:{name:null,key:null,chroms_info:null},initialize:function(e){this.id=e.dbkey},get_chroms_info:function(){return this.attributes.chroms_info.chrom_info},get_chrom_region:function(e){var t=r.a.find(this.get_chroms_info(),function(t){return t.chrom===e});return new M({chrom:t.chrom,end:t.len})},get_chrom_len:function(e){return r.a.find(this.get_chroms_info(),function(t){return t.chrom===e}).len}}),M=l.a.Model.extend({defaults:{chrom:null,start:0,end:0,str_val:null,genome:null},same:function(e){return this.attributes.chrom===e.get("chrom")&&this.attributes.start===e.get("start")&&this.attributes.end===e.get("end")},initialize:function(e){if(e.from_str){var t=e.from_str.split(":"),n=t[0],i=t[1].split("-");this.set({chrom:n,start:parseInt(i[0],10),end:parseInt(i[1],10)})}this.attributes.str_val="".concat(this.get("chrom"),":").concat(this.get("start"),"-").concat(this.get("end")),this.on("change",function(){this.attributes.str_val="".concat(this.get("chrom"),":").concat(this.get("start"),"-").concat(this.get("end"))},this)},copy:function(){return new M({chrom:this.get("chrom"),start:this.get("start"),end:this.get("end")})},length:function(){return this.get("end")-this.get("start")},toString:function(){return this.attributes.str_val},toJSON:function(){return{chrom:this.get("chrom"),start:this.get("start"),end:this.get("end")}},compute_overlap:function(e){var t=this.get("chrom"),n=e.get("chrom"),i=this.get("start"),r=e.get("start"),o=this.get("end"),a=e.get("end");return t&&n&&t!==n?M.overlap_results.DIF_CHROMS:i<r?o<r?M.overlap_results.BEFORE:o<a?M.overlap_results.OVERLAP_START:M.overlap_results.CONTAINS:i>r?i>a?M.overlap_results.AFTER:o<=a?M.overlap_results.CONTAINED_BY:M.overlap_results.OVERLAP_END:o>=a?M.overlap_results.CONTAINS:M.overlap_results.CONTAINED_BY},trim:function(e){if(this.attributes.start<0&&(this.attributes.start=0),this.attributes.genome){var t=this.attributes.genome.get_chrom_len(this.attributes.chrom);this.attributes.end>t&&(this.attributes.end=t-1)}return this},contains:function(e){return this.compute_overlap(e)===M.overlap_results.CONTAINS},overlaps:function(e){return 0===r.a.intersection([this.compute_overlap(e)],[M.overlap_results.DIF_CHROMS,M.overlap_results.BEFORE,M.overlap_results.AFTER]).length}},{overlap_results:{DIF_CHROMS:1e3,BEFORE:1001,CONTAINS:1002,OVERLAP_START:1003,OVERLAP_END:1004,CONTAINED_BY:1005,AFTER:1006}}),x=l.a.Collection.extend({model:M}),C=l.a.Model.extend({defaults:{region:null,note:""},initialize:function(e){this.set("region",new M(e.region))}}),S=l.a.Collection.extend({model:C}),T=l.a.Model.extend(_).extend({defaults:{mode:"Auto"},initialize:function(e){this.set("dataset",new h.a(e.dataset));var t=[{key:"name",default_value:this.get("dataset").get("name")},{key:"color"},{key:"min_value",label:"Min Value",type:"float",default_value:0},{key:"max_value",label:"Max Value",type:"float",default_value:1}];this.set("config",p.a.ConfigSettingCollection.from_models_and_saved_values(t,e.prefs));var n=this.get("preloaded_data");n=n?n.data:[],this.set("data_manager",new b({dataset:this.get("dataset"),init_data:n}))}},{to_json_keys:["track_type","dataset","prefs","mode","filters","tool_state"],to_json_mappers:{prefs:function(e,t){return 0===r.a.size(e)&&(e={name:t.get("config").get("name").get("value"),color:t.get("config").get("color").get("value")}),e},dataset:function(e){return{id:e.id,hda_ldda:e.get("hda_ldda")}}}}),L=l.a.Collection.extend({model:T}),E=l.a.Model.extend({defaults:{title:"",type:""},urlRoot:"".concat(Object(c.a)(),"api/visualizations"),save:function(){return a.a.ajax({url:this.url(),type:"POST",dataType:"json",data:{vis_json:JSON.stringify(this)}})}}),D=E.extend(_).extend({defaults:r.a.extend({},E.prototype.defaults,{dbkey:"",drawables:null,bookmarks:null,viewport:null}),initialize:function(e){this.set("drawables",new L(e.tracks));this.set("config",p.a.ConfigSettingCollection.from_models_and_saved_values([],e.prefs)),this.unset("tracks"),this.get("drawables").each(function(e){e.unset("preloaded_data")})},add_tracks:function(e){this.get("drawables").add(e)}},{to_json_keys:["view","viewport","bookmarks"],to_json_mappers:{view:function(e,t){return{obj_type:"View",prefs:{name:t.get("title"),content_visible:!0},drawables:t.get("drawables")}}}}),O=l.a.Router.extend({initialize:function(e){var t=this;this.view=e.view,this.route(/([\w]+)$/,"change_location"),this.route(/([\w+]+:[\d,]+-[\d,]+)$/,"change_location"),this.view.on("navigate",function(e){t.navigate(e)})},change_location:function(e){this.view.go_to(e)}});t.a={BackboneTrack:T,BrowserBookmark:C,BrowserBookmarkCollection:S,Cache:y,CanvasManager:v,Genome:k,GenomeDataManager:b,GenomeRegion:M,GenomeRegionCollection:x,GenomeVisualization:D,GenomeReferenceDataManager:w,TrackBrowserRouter:O,Visualization:E,select_datasets:function(t,n){var i=new m.a({url_base:"".concat(Object(c.a)(),"visualization/list_history_datasets"),filters:t,embedded:!0}),r=new m.a({url_base:"".concat(Object(c.a)(),"visualization/list_library_datasets"),embedded:!0}),o=new g.a.View;o.add({id:"histories",title:d()("Histories"),$el:a()("<div/>").append(i.$el)}),o.add({id:"libraries",title:d()("Libraries"),$el:a()("<div/>").append(r.$el)}),e.modal.show({title:d()("Select datasets for new tracks"),body:o.$el,closing_events:!0,buttons:{Cancel:function(){e.modal.hide()},Add:function(){var t=[];o.$("input.grid-row-select-checkbox[name=id]:checked").each(function(){window.console.log(a()(this).val()),t[t.length]=a.a.ajax({url:"".concat(Object(c.a)(),"api/datasets/").concat(a()(this).val()),dataType:"json",data:{data_type:"track_config",hda_ldda:"histories"==o.current()?"hda":"ldda"}})}),a.a.when.apply(a.a,t).then(function(){var e=arguments[0]instanceof Array?a.a.map(arguments,function(e){return e[0]}):[arguments[0]];n(e)}),e.modal.hide()}}})}}}).call(this,n(5).monitor)},function(e,t,n){"use strict";(function(e,n,i){var r=e.View.extend({className:"ui-modal",optionsDefault:{container:"body",title:"ui-modal",cls:"ui-modal",body:"",backdrop:!0,height:null,width:null,xlarge:!1,closing_events:!1,closing_callback:null,title_separator:!0},buttonList:{},initialize:function(e){this.options=n.defaults(e||{},this.optionsDefault),i(this.options.container).prepend(this.el),e&&this.render()},show:function(e){var t=this;e&&(this.options=n.defaults(e,this.optionsDefault),this.render()),this.visible||(this.visible=!0,this.$el.fadeIn("fast")),this.options.closing_events&&(i(document).on("keyup.ui-modal",function(e){27==e.keyCode&&t.hide(!0)}),this.$backdrop.on("click",function(){t.hide(!0)}))},hide:function(e){this.visible=!1,this.$el.fadeOut("fast"),this.options.closing_callback&&this.options.closing_callback(e),i(document).off("keyup.ui-modal"),this.$backdrop.off("click")},render:function(){var e=this;if(this.$el.html(this._template()),this.$header=this.$(".modal-header"),this.$dialog=this.$(".modal-dialog"),this.$body=this.$(".modal-body"),this.$footer=this.$(".modal-footer"),this.$backdrop=this.$(".modal-backdrop"),this.$buttons=this.$(".buttons"),"progress"==this.options.body&&(this.options.body=i('<div class="progress progress-striped active"><div class="progress-bar progress-bar-info" style="width:100%"/></div>')),this.$el.removeClass().addClass("modal").addClass(this.options.cls),this.$header.find(".title").html(this.options.title),this.$body.html(this.options.body),this.$buttons.empty(),this.buttonList={},this.options.buttons){var t=0;i.each(this.options.buttons,function(n,r){var o=i("<button/>").attr("id","button-".concat(t++)).text(n).click(r);e.$buttons.append(o).append("&nbsp;"),e.buttonList[n]=o})}else this.$footer.hide();this.$backdrop[this.options.backdrop?"addClass":"removeClass"]("in"),this.$header[this.options.title_separator?"removeClass":"addClass"]("no-separator"),this.$body.removeAttr("style"),this.options.height?(this.$body.css("height",this.options.height),this.$body.css("overflow","hidden")):this.$body.css("max-height",i(window).height()/2),this.options.width&&this.$dialog.css("width",this.options.width),this.options.xlarge&&this.$dialog.css("max-width","3000px")},getButton:function(e){return this.buttonList[e]},enableButton:function(e){this.getButton(e).prop("disabled",!1)},disableButton:function(e){this.getButton(e).prop("disabled",!0)},showButton:function(e){this.getButton(e).show()},hideButton:function(e){this.getButton(e).hide()},scrollTop:function(){return this.$body.scrollTop()},_template:function(){return'<div class="modal-backdrop fade"/><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h4 class="title"/></div><div class="modal-body"/><div class="modal-footer"><div class="buttons"/></div></div></div>'}});t.a={View:r}}).call(this,n(3),n(2),n(0))},function(e,t,n){"use strict";(function(e){var i=n(3),r=n.n(i),o=n(2),a=n.n(o),s=n(5),l=n(6),c=n(582),u=n(372),d=n(387),h=n(81);e.ajaxSettings.traditional=!0,t.a=r.a.View.extend({grid:null,initialize:function(t){this.grid=new c.a,this.title=t.title,this.active_tab=t.active_tab;var n=this;if(window.add_tag_to_grid_filter=function(t,i){var r=t+(void 0!==i&&""!==i?":".concat(i):"");e("#advanced-search").is(":visible")||(e("#standard-search").slideToggle("fast"),e("#advanced-search").slideToggle("fast")),n.add_filter_condition("tags",r)},t.url_base&&!t.items){h.a.markViewAsLoading(this);var i=t.url_data||{};a.a.each(t.filters,function(e,t){i["f-".concat(t)]=e}),e.ajax({url:"".concat(t.url_base,"?").concat(e.param(i)),success:function(e){e.embedded=t.embedded,e.filters=t.filters||{},n.init_grid(e)}})}else this.setElement("<div>"),this.init_grid(t);t.use_panels&&e("#center").css({padding:"10px",overflow:"auto"})},handle_refresh:function(t){if(t&&e.inArray("history",t)>-1){var n=Object(s.getGalaxyInstance)();n&&n.currHistoryPanel&&n.currHistoryPanel.loadCurrentHistory()}},init_grid:function(e){this.grid.set(e);var t=this.grid.attributes;this.allow_title_display&&t.title&&l.a.setWindowTitle(t.title),this.handle_refresh(t.refresh_frames);var n=this.grid.get("url_base");if(n=n.replace(/^.*\/\/[^\/]+/,""),this.grid.set("url_base",n),this.$el.html(u.a.grid(t)),this.$el.find("#grid-table-header").html(u.a.header(t)),this.$el.find("#grid-table-body").html(u.a.body(t)),this.$el.find("#grid-table-footer").html(u.a.footer(t)),t.message){this.$el.find("#grid-message").html(u.a.message(t));var i=this;t.use_hide_message&&window.setTimeout(function(){i.$el.find("#grid-message").html("")},5e3)}this.init_grid_elements(),this.init_grid_controls(),window.init_refresh_on_change&&window.init_refresh_on_change()},init_grid_controls:function(){var t=this;this.$el.find(".operation-button").each(function(){e(this).off(),e(this).click(function(){return t.submit_operation(this),!1})}),this.$el.find("input[type=text]").each(function(){e(this).off(),e(this).click(function(){e(this).select()}).keyup(function(){e(this).css("font-style","normal")})}),this.$el.find(".sort-link").each(function(){e(this).off(),e(this).click(function(){return t.set_sort_condition(e(this).attr("sort_key")),!1})}),this.$el.find(".text-filter-form").each(function(){e(this).off(),e(this).submit(function(){var n=e(this).attr("column_key"),i=e("#input-".concat(n,"-filter")),r=i.val();return i.val(""),t.add_filter_condition(n,r),!1})}),this.$el.find(".text-filter-val > a").each(function(){e(this).off(),e(this).click(function(){return e(this).parent().remove(),t.remove_filter_condition(e(this).attr("filter_key"),e(this).attr("filter_val")),!1})}),this.$el.find(".categorical-filter > a").each(function(){e(this).off(),e(this).click(function(){return t.set_categorical_filter(e(this).attr("filter_key"),e(this).attr("filter_val")),!1})}),this.$el.find(".advanced-search-toggle").each(function(){e(this).off(),e(this).click(function(){return t.$el.find("#standard-search").slideToggle("fast"),t.$el.find("#advanced-search").slideToggle("fast"),!1})}),this.$el.find("#check_all").off(),this.$el.find("#check_all").on("click",function(){t.check_all_items()})},init_grid_elements:function(){this.$el.find(".grid").each(function(){var t=e(this).find("input.grid-row-select-checkbox"),n=e(this).find("span.grid-selected-count"),i=function(){n.text(e(t).filter(":checked").length)};e(t).each(function(){e(this).change(i)}),i()}),0!==this.$el.find(".community_rating_star").length&&this.$el.find(".community_rating_star").rating({});var t=this.grid.attributes,n=this;this.$el.find(".page-link-grid > a").each(function(){e(this).click(function(){return n.set_page(e(this).attr("page_num")),!1})}),this.$el.find(".use-target").each(function(){e(this).click(function(){return n.execute({href:e(this).attr("href"),target:e(this).attr("target")}),!1})}),0!==t.items.length&&a.a.each(t.items,function(e,i){var r=n.$("#grid-".concat(e.encode_id,"-popup")).off(),o=new d.a(r);a.a.each(t.operations,function(t){n.add_operation(o,t,e)})})},add_operation:function(t,n,i){var r=this,o=i.operation_config[n.label];o.allowed&&n.allow_popup&&t.addItem({html:n.label,href:o.url_args,target:o.target,confirmation_text:n.confirm,func:function(t){t.preventDefault();var o=e(t.target).html();n.onclick?n.onclick(i.encode_id):r.execute(this.findItemByHtml(o))}})},add_filter_condition:function(t,n){if(""===n)return!1;this.grid.add_filter(t,n,!0);var i=e(u.a.filter_element(t,n)),r=this;i.click(function(){e(this).remove(),r.remove_filter_condition(t,n)}),this.$el.find("#".concat(t,"-filtering-criteria")).append(i),this.go_page_one(),this.execute()},remove_filter_condition:function(e,t){this.grid.remove_filter(e,t),this.go_page_one(),this.execute()},set_sort_condition:function(t){var n=this.grid.get("sort_key"),i=t;-1!==n.indexOf(t)&&"-"!==n.substring(0,1)&&(i="-".concat(t)),this.$el.find(".sort-arrow").remove();var r="-"==i.substring(0,1)?"&uarr;":"&darr;",o=e("<span>".concat(r,"</span>")).addClass("sort-arrow");this.$el.find("#".concat(t,"-header")).append(o),this.grid.set("sort_key",i),this.go_page_one(),this.execute()},set_categorical_filter:function(t,n){var i=this.grid.get("categorical_filters")[t],r=this.grid.get("filters")[t],o=this;this.$el.find(".".concat(t,"-filter")).each(function(){var a=e.trim(e(this).text()),s=i[a][t];if(s==n)e(this).empty(),e(this).addClass("current-filter"),e(this).append(a);else if(s==r){e(this).empty();var l=e('<a href="#">'.concat(a,"</a>"));l.click(function(){o.set_categorical_filter(t,s)}),e(this).removeClass("current-filter"),e(this).append(l)}}),this.grid.add_filter(t,n),this.go_page_one(),this.execute()},set_page:function(t){var n=this;this.$el.find(".page-link").each(function(){var i,r=e(this).attr("id"),o=parseInt(r.split("-")[2],10),a=n.grid.get("cur_page");if(o===t)i=e(this).children().text(),e(this).empty(),e(this).addClass("inactive-link"),e(this).text(i);else if(o===a){i=e(this).text(),e(this).empty(),e(this).removeClass("inactive-link");var s=e('<a href="#">'.concat(i,"</a>"));s.click(function(){n.set_page(o)}),e(this).append(s)}}),"all"===t?this.grid.set("cur_page",t):this.grid.set("cur_page",parseInt(t,10)),this.execute()},submit_operation:function(t,n){var i=e(t).val();if(this.$el.find('input[name="id"]:checked').length<1)return!1;var r=a.a.findWhere(this.grid.attributes.operations,{label:i});r&&!n&&(n=r.confirm||"");var o=[];this.$el.find("input[name=id]:checked").each(function(){o.push(e(this).val())});var s={operation:i,id:o,confirmation_text:n};return"top"!=r.target&&"center"!=r.target||(s=a.a.extend(s,{href:r.href,target:r.target})),this.execute(s),!0},check_all_items:function(){var t=this.$(".grid-row-select-checkbox"),n=this.$("#check_all").prop("checked");a.a.each(t,function(t){e(t).prop("checked",n)}),this.init_grid_elements()},go_page_one:function(){var e=this.grid.get("cur_page");null!==e&&void 0!==e&&"all"!==e&&this.grid.set("cur_page",1)},execute:function(t){var n=null,i=null,r=null,o=null,a=null;if(t&&(i=t.href,r=t.operation,n=t.id,o=t.confirmation_text,a=t.target,void 0!==i&&-1!=i.indexOf("operation="))){var s=i.split("?");if(s.length>1)for(var l=s[1].split("&"),c=0;c<l.length;c++)-1!=l[c].indexOf("operation")?r=(r=l[c].split("=")[1]).replace(/\+/g," "):-1!=l[c].indexOf("id")&&(n=l[c].split("=")[1])}return r&&n?!(o&&""!==o&&"None"!=o&&"null"!=o&&!window.confirm(o))&&(r=r.toLowerCase(),this.grid.set({operation:r,item_ids:n}),"top"==a?window.top.location="".concat(i,"?").concat(e.param(this.grid.get_url_data())):"center"==a?e("#galaxy_main").attr("src","".concat(i,"?").concat(e.param(this.grid.get_url_data()))):this.update_grid(),!1):i?(this.go_to(a,i),!1):(this.update_grid(),!1)},go_to:function(t,n){var i=this.$el.find("#advanced-search").is(":visible");switch(this.grid.set("advanced_search",i),n||(n="".concat(this.grid.get("url_base"),"?").concat(e.param(this.grid.get_url_data()))),this.grid.set({operation:void 0,item_ids:void 0}),t){case"center":e("#galaxy_main").attr("src",n);break;case"top":window.top.location=n;break;default:window.location=n}},update_grid:function(){var t=this.grid.get("operation")?"POST":"GET";this.$el.find(".loading-elt-overlay").show();var n=this;e.ajax({type:t,url:n.grid.get("url_base"),data:n.grid.get_url_data(),error:function(){alert("Grid refresh failed")},success:function(e){var t=n.grid.get("embedded"),i=n.grid.get("insert"),r=n.$el.find("#advanced-search").is(":visible"),o=e;o.embedded=t,o.insert=i,o.advanced_search=r,n.init_grid(o),n.$el.find(".loading-elt-overlay").hide()},complete:function(){n.grid.set({operation:void 0,item_ids:void 0})}})}})}).call(this,n(0))},function(e,t,n){var i=n(24);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var i=n(477)("wks"),r=n(360),o=n(23).Symbol,a="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=a&&o[e]||(a?o:r)("Symbol."+e))}).store=i},function(e,t,n){"use strict";n.d(t,"a",function(){return _}),n.d(t,"b",function(){return y});var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(5),u=n(4),d=n(67),h=n(456),f=n(6),p=n(8),m=n(1),g=n.n(m),_=l.a.Model.extend(p.a.LoggableMixin).extend(p.a.mixin(p.a.SearchableModelMixin,{_logNamespace:"history",UPDATE_DELAY:4e3,defaults:{model_class:"History",id:null,name:"Unnamed History",state:"new",deleted:!1,contents_active:{},contents_states:{}},contentsClass:d.a,searchAttributes:["name","annotation","tags"],searchAliases:{title:"name",tag:"tags"},initialize:function(e,t){t=t||{},this.logger=t.logger||null,this.log("".concat(this,".initialize:"),e,t),this.urlRoot="".concat(Object(u.a)(),"api/histories"),this.contents=new this.contentsClass([],{history:this,historyId:this.get("id"),order:t.order}),this._setUpListeners(),this._setUpCollectionListeners(),this.updateTimeoutId=null},_setUpListeners:function(){return this.on({error:function(e,t,n,i,r){this.clearUpdateTimeout()},"change:id":function(e,t){this.contents&&(this.contents.historyId=t)}})},_setUpCollectionListeners:function(){return this.contents?this.listenTo(this.contents,{error:function(){this.trigger.apply(this,a.a.makeArray(arguments))}}):this},contentsShown:function(){var e=this.get("contents_active"),t=e.active||0;return t+=this.contents.includeDeleted?e.deleted:0,t+=this.contents.includeHidden?e.hidden:0},nice_size:function(){var e=this.get("size");return e?f.a.bytesToString(e,!0,2):g()("(empty)")},toJSON:function(){return r.a.extend(l.a.Model.prototype.toJSON.call(this),{nice_size:this.nice_size()})},get:function(e){return"nice_size"===e?this.nice_size():l.a.Model.prototype.get.apply(this,arguments)},ownedByCurrUser:function(){var e=Object(c.getGalaxyInstance)();return!(!e||!e.user)&&(!e.user.isAnonymous()&&e.user.id===this.get("user_id"))},numOfUnfinishedJobs:function(){var e=this.get("non_ready_jobs");return e?e.length:0},numOfUnfinishedShownContents:function(){return this.contents.runningAndActive().length||0},_fetchContentRelatedAttributes:function(){return this.fetch({data:a.a.param({keys:["size","non_ready_jobs","contents_active","hid_counter"].join(",")})})},refresh:function(e){var t=this;e=e||{};var n=this.lastUpdateTime;return this.contents.allFetched=!1,(0!==this.contents.currentPage?function(){return t.contents.fetchPage(t.contents.currentPage)}:function(){return t.contents.fetchUpdated(n)})().done(function(n,i,r){var o;try{o=new Date(r.getResponseHeader("Date"))}catch(e){console.error(e)}t.lastUpdateTime=o||new Date,t.checkForUpdates(e)})},checkForUpdates:function(e){var t=this;e=e||{};var n=this.UPDATE_DELAY;if(this.id){var i=function(){t.clearUpdateTimeout(),t.updateTimeoutId=setTimeout(function(){t.refresh(e)},n)};this.numOfUnfinishedShownContents()>0?i():this._fetchContentRelatedAttributes().done(function(e){t.numOfUnfinishedJobs()>0?i():t.trigger("ready")})}},clearUpdateTimeout:function(){this.updateTimeoutId&&(clearTimeout(this.updateTimeoutId),this.updateTimeoutId=null)},stopPolling:function(){this.clearUpdateTimeout(),this.contents&&this.contents.stopPolling()},parse:function(e,t){var n=l.a.Model.prototype.parse.call(this,e,t);return n.create_time&&(n.create_time=new Date(n.create_time)),n.update_time&&(n.update_time=new Date(n.update_time)),n},fetchWithContents:function(e,t){var n=this;return(e=e||{}).view="dev-detailed",this.fetch(e).then(function(e){return n.contents.history=n,n.contents.setHistoryId(e.id),n.fetchContents(t)})},fetchContents:function(e){return e=e||{},this.lastUpdateTime=new Date,this.contents.fetchCurrentPage(e)},_delete:function(e){return this.get("deleted")?a.a.when():this.save({deleted:!0},e)},purge:function(e){return this.get("purged")?a.a.when():this.save({deleted:!0,purged:!0},e)},undelete:function(e){return this.get("deleted")?this.save({deleted:!1},e):a.a.when()},copy:function(e,t,n){if(e=void 0===e||e,!this.id)throw new Error("You must set the history ID before copying it.");var i={history_id:this.id};e&&(i.current=!0),t&&(i.name=t),n||(i.all_datasets=!1),i.view="dev-detailed";var r=this,o=a.a.post(this.urlRoot,i);return e?o.then(function(e){return new _(e).setAsCurrent().done(function(){r.trigger("copied",r,e)})}):o.done(function(e){r.trigger("copied",r,e)})},setAsCurrent:function(){var e=this,t=a.a.getJSON("".concat(Object(u.a)(),"history/set_as_current?id=").concat(this.id));return t.done(function(){e.trigger("set-as-current",e)}),t},toString:function(){return"History(".concat(this.get("id"),",").concat(this.get("name"),")")}})),v=h.a.InfinitelyScrollingCollection,y=v.extend(p.a.LoggableMixin).extend({_logNamespace:"history",model:_,order:"update_time",limitOnFirstFetch:10,limitPerFetch:10,initialize:function(e,t){t=t||{},this.log("HistoryCollection.initialize",e,t),this.urlRoot="".concat(Object(u.a)(),"api/histories"),v.prototype.initialize.call(this,e,t),this.includeDeleted=t.includeDeleted||!1,this.currentHistoryId=t.currentHistoryId,this.setUpListeners()},url:function(){return this.urlRoot},setUpListeners:function(){return this.on({"change:deleted":function(e){this.debug("change:deleted",this.includeDeleted,e.get("deleted")),!this.includeDeleted&&e.get("deleted")&&this.remove(e)},copied:function(e,t){this.setCurrent(new _(t,[]))},"set-as-current":function(e){var t=this.currentHistoryId;this.trigger("no-longer-current",t),this.currentHistoryId=e.id}})},_buildFetchData:function(e){return r.a.extend(v.prototype._buildFetchData.call(this,e),{view:"dev-detailed"})},_buildFetchFilters:function(e){var t=v.prototype._buildFetchFilters.call(this,e)||{},n={};return!0!==this.includeDeleted?(n.deleted=!1,n.purged=!1):n.deleted=null,r.a.defaults(t,n)},fetchFirst:function(e){var t=this,n=a.a.when();return this.currentHistoryId&&(n=v.prototype.fetchFirst.call(this,{silent:!0,limit:1,filters:{"encoded_id-in":this.currentHistoryId,deleted:null,purged:""}})),n.then(function(){return(e=e||{}).offset=0,t.fetchMore(e)})},comparators:r.a.extend(r.a.clone(v.prototype.comparators),{name:p.a.buildComparator("name",{ascending:!0}),"name-dsc":p.a.buildComparator("name",{ascending:!1}),size:p.a.buildComparator("size",{ascending:!1}),"size-asc":p.a.buildComparator("size",{ascending:!0})}),sort:function(e){var t=(e=e||{}).silent,n=this.remove(this.get(this.currentHistoryId));return v.prototype.sort.call(this,r.a.defaults({silent:!0},e)),this.unshift(n,{silent:!0}),t||this.trigger("sort",this,e),this},create:function(e,t,n,i){var r=this;return a.a.getJSON("".concat(Object(u.a)(),"history/create_new_current")).done(function(e){r.setCurrent(new _(e,[],n||{}))})},setCurrent:function(e,t){return t=t||{},this.unshift(e,t),this.currentHistoryId=e.get("id"),t.silent||this.trigger("new-current",e,this),this},toString:function(){return"HistoryCollection(".concat(this.length,",current:").concat(this.currentHistoryId,")")}})},function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"c",function(){return g}),n.d(t,"b",function(){return _}),n.d(t,"d",function(){return k});var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(1),d=n.n(u),h=n(49),f=n(5),p=l.a.Model.extend({}),m=l.a.Model.extend({defaults:{id:"",type:"",name:"",hda_ldda:"hda",metadata:null},initialize:function(){this.get("metadata")||this._set_metadata(),this.on("change",this._set_metadata,this)},_set_metadata:function(){var e=new p;r.a.each(r.a.keys(this.attributes),function(t){if(0===t.indexOf("metadata_")){var n=t.split("metadata_")[1];e.set(n,this.attributes[t]),delete this.attributes[t]}},this),this.set("metadata",e,{silent:!0})},get_metadata:function(e){return this.attributes.metadata.get(e)},urlRoot:"".concat(Object(c.a)(),"api/datasets")}),g=m.extend({defaults:r.a.extend({},m.prototype.defaults,{chunk_url:null,first_data_chunk:null,offset:0,at_eof:!1}),initialize:function(e){m.prototype.initialize.call(this),this.attributes.first_data_chunk&&(this.attributes.offset=this.attributes.first_data_chunk.offset),this.attributes.chunk_url="".concat(Object(c.a)(),"dataset/display?dataset_id=").concat(this.id),this.attributes.url_viz="".concat(Object(c.a)(),"visualization")},get_next_chunk:function(){if(this.attributes.at_eof)return null;var e=this,t=a.a.Deferred();return a.a.getJSON(this.attributes.chunk_url,{offset:e.attributes.offset}).success(function(n){var i;""!==n.ck_data?(i=n,e.attributes.offset=n.offset):(e.attributes.at_eof=!0,i=null),t.resolve(i)}),t}}),_=l.a.Collection.extend({model:m}),v=l.a.View.extend({initialize:function(e){this.row_count=0,this.loading_chunk=!1,new w({model:e.model,$el:this.$el})},expand_to_container:function(){this.$el.height()<this.scroll_elt.height()&&this.attempt_to_fetch()},attempt_to_fetch:function(e){var t=this;!this.loading_chunk&&this.scrolled_to_bottom()&&(this.loading_chunk=!0,this.loading_indicator.show(),a.a.when(t.model.get_next_chunk()).then(function(e){e&&(t._renderChunk(e),t.loading_chunk=!1),t.loading_indicator.hide(),t.expand_to_container()}))},render:function(){this.loading_indicator=a()("<div/>").attr("id","loading_indicator"),this.$el.append(this.loading_indicator);var e=a()("<table/>").attr({id:"content_table",cellpadding:0});this.$el.append(e);var t=this.model.get_metadata("column_names"),n=a()("<thead/>").appendTo(e),i=a()("<tr/>").appendTo(n);if(t)i.append("<th>".concat(t.join("</th><th>"),"</th>"));else for(var r=1;r<=this.model.get_metadata("columns");r++)i.append("<th>".concat(r,"</th>"));var o=this,s=this.model.get("first_data_chunk");s?this._renderChunk(s):a.a.when(o.model.get_next_chunk()).then(function(e){o._renderChunk(e)}),this.scroll_elt.scroll(function(){o.attempt_to_fetch()})},scrolled_to_bottom:function(){return!1},_renderCell:function(e,t,n){var i=a()("<td>").text(e),r=this.model.get_metadata("column_types");return void 0!==n?i.attr("colspan",n).addClass("stringalign"):r&&t<r.length&&("str"!==r[t]&&"list"!==r[t]||i.addClass("stringalign")),i},_renderRow:function(e){var t=e.split("\t"),n=a()("<tr>"),i=this.model.get_metadata("columns");return this.row_count%2!=0&&n.addClass("dark_row"),t.length===i?r.a.each(t,function(e,t){n.append(this._renderCell(e,t))},this):t.length>i?(r.a.each(t.slice(0,i-1),function(e,t){n.append(this._renderCell(e,t))},this),n.append(this._renderCell(t.slice(i-1).join("\t"),i-1))):1===t.length?n.append(this._renderCell(e,0,i)):(r.a.each(t,function(e,t){n.append(this._renderCell(e,t))},this),r.a.each(r.a.range(i-t.length),function(){n.append(a()("<td>"))})),this.row_count++,n},_renderChunk:function(e){var t=this.$el.find("table");r.a.each(e.ck_data.split("\n"),function(e,n){""!==e&&t.append(this._renderRow(e))},this)}}),y=v.extend({initialize:function(e){v.prototype.initialize.call(this,e);var t=r.a.find(this.$el.parents(),function(e){return"auto"===a()(e).css("overflow")});t||(t=window),this.scroll_elt=a()(t)},scrolled_to_bottom:function(){return this.$el.height()-this.scroll_elt.scrollTop()-this.scroll_elt.height()<=0}}),b=v.extend({initialize:function(e){v.prototype.initialize.call(this,e),this.scroll_elt=this.$el.css({position:"relative",overflow:"scroll",height:e.height||"500px"})},scrolled_to_bottom:function(){return this.$el.scrollTop()+this.$el.innerHeight()>=this.el.scrollHeight}}),w=l.a.View.extend({col:{chrom:null,start:null,end:null},url_viz:null,dataset_id:null,genome_build:null,file_ext:null,initialize:function(e){var t=Object(f.getGalaxyInstance)();if(t&&t.modal&&(this.modal=t.modal),t&&t.frame&&(this.frame=t.frame),this.modal&&this.frame){var n=e.model,i=n.get("metadata");if(n.get("file_ext")){if(this.file_ext=n.get("file_ext"),"bed"==this.file_ext){if(!(i.get("chromCol")&&i.get("startCol")&&i.get("endCol")))return void console.log("TabularButtonTrackster : Bed-file metadata incomplete.");this.col.chrom=i.get("chromCol")-1,this.col.start=i.get("startCol")-1,this.col.end=i.get("endCol")-1}if("vcf"==this.file_ext){var r=function(e,t){for(var n=0;n<t.length;n++)if(t[n].match(e))return n;return-1};if(this.col.chrom=r("Chrom",i.get("column_names")),this.col.start=r("Pos",i.get("column_names")),this.col.end=null,-1==this.col.chrom||-1==this.col.start)return void console.log("TabularButtonTrackster : VCF-file metadata incomplete.")}if(void 0!==this.col.chrom)if(n.id)if(this.dataset_id=n.id,n.get("url_viz")){this.url_viz=n.get("url_viz"),n.get("genome_build")&&(this.genome_build=n.get("genome_build"));var o=new h.a.IconButtonView({model:new h.a.IconButton({title:d()("Visualize"),icon_class:"chart_curve",id:"btn_viz"})});this.setElement(e.$el),this.$el.append(o.render().$el),this.hide()}else console.log("TabularButtonTrackster : Url for visualization controller is missing.");else console.log("TabularButtonTrackster : Dataset identification is missing.")}}},events:{"mouseover tr":"show",mouseleave:"hide"},show:function(e){var t=this;if(null!==this.col.chrom){var n=a()(e.target).parent(),i=n.children().eq(this.col.chrom).html(),r=n.children().eq(this.col.start).html(),o=this.col.end?n.children().eq(this.col.end).html():r;if(!i.match("^#")&&""!==i&&function(e){return!isNaN(parseFloat(e))&&isFinite(e)}(r)){var s={dataset_id:this.dataset_id,gene_region:"".concat(i,":").concat(r,"-").concat(o)},l=n.offset(),c=l.left-10,u=l.top-a()(window).scrollTop()+3;a()("#btn_viz").css({position:"fixed",top:"".concat(u,"px"),left:"".concat(c,"px")}),a()("#btn_viz").off("click"),a()("#btn_viz").click(function(){t.frame.add({title:d()("Trackster"),url:"".concat(t.url_viz,"/trackster?").concat(a.a.param(s))})}),a()("#btn_viz").show()}else a()("#btn_viz").hide()}},hide:function(){this.$("#btn_viz").hide()}}),k=function(e){e.model||(e.model=new g(e.dataset_config));var t=e.parent_elt,n=e.embedded;delete e.embedded,delete e.parent_elt,delete e.dataset_config;var i=n?new b(e):new y(e);return i.render(),t&&(t.append(i.$el),i.expand_to_container()),i}},function(e,t,n){(function(e,n){var i;!function(){var r="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},o=r._,a=Array.prototype,s=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,c=a.push,u=a.slice,d=s.toString,h=s.hasOwnProperty,f=Array.isArray,p=Object.keys,m=Object.create,g=function(){},_=function(e){return e instanceof _?e:this instanceof _?void(this._wrapped=e):new _(e)};t.nodeType?r._=_:(!n.nodeType&&n.exports&&(t=n.exports=_),t._=_),_.VERSION="1.9.1";var v,y=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}},b=function(e,t,n){return _.iteratee!==v?_.iteratee(e,t):null==e?_.identity:_.isFunction(e)?y(e,t,n):_.isObject(e)&&!_.isArray(e)?_.matcher(e):_.property(e)};_.iteratee=v=function(e,t){return b(e,t,1/0)};var w=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var o=Array(t+1);for(r=0;r<t;r++)o[r]=arguments[r];return o[t]=i,e.apply(this,o)}},k=function(e){if(!_.isObject(e))return{};if(m)return m(e);g.prototype=e;var t=new g;return g.prototype=null,t},M=function(e){return function(t){return null==t?void 0:t[e]}},x=function(e,t){return null!=e&&h.call(e,t)},C=function(e,t){for(var n=t.length,i=0;i<n;i++){if(null==e)return;e=e[t[i]]}return n?e:void 0},S=Math.pow(2,53)-1,T=M("length"),L=function(e){var t=T(e);return"number"==typeof t&&t>=0&&t<=S};_.each=_.forEach=function(e,t,n){var i,r;if(t=y(t,n),L(e))for(i=0,r=e.length;i<r;i++)t(e[i],i,e);else{var o=_.keys(e);for(i=0,r=o.length;i<r;i++)t(e[o[i]],o[i],e)}return e},_.map=_.collect=function(e,t,n){t=b(t,n);for(var i=!L(e)&&_.keys(e),r=(i||e).length,o=Array(r),a=0;a<r;a++){var s=i?i[a]:a;o[a]=t(e[s],s,e)}return o};var E=function(e){return function(t,n,i,r){var o=arguments.length>=3;return function(t,n,i,r){var o=!L(t)&&_.keys(t),a=(o||t).length,s=e>0?0:a-1;for(r||(i=t[o?o[s]:s],s+=e);s>=0&&s<a;s+=e){var l=o?o[s]:s;i=n(i,t[l],l,t)}return i}(t,y(n,r,4),i,o)}};_.reduce=_.foldl=_.inject=E(1),_.reduceRight=_.foldr=E(-1),_.find=_.detect=function(e,t,n){var i=(L(e)?_.findIndex:_.findKey)(e,t,n);if(void 0!==i&&-1!==i)return e[i]},_.filter=_.select=function(e,t,n){var i=[];return t=b(t,n),_.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i},_.reject=function(e,t,n){return _.filter(e,_.negate(b(t)),n)},_.every=_.all=function(e,t,n){t=b(t,n);for(var i=!L(e)&&_.keys(e),r=(i||e).length,o=0;o<r;o++){var a=i?i[o]:o;if(!t(e[a],a,e))return!1}return!0},_.some=_.any=function(e,t,n){t=b(t,n);for(var i=!L(e)&&_.keys(e),r=(i||e).length,o=0;o<r;o++){var a=i?i[o]:o;if(t(e[a],a,e))return!0}return!1},_.contains=_.includes=_.include=function(e,t,n,i){return L(e)||(e=_.values(e)),("number"!=typeof n||i)&&(n=0),_.indexOf(e,t,n)>=0},_.invoke=w(function(e,t,n){var i,r;return _.isFunction(t)?r=t:_.isArray(t)&&(i=t.slice(0,-1),t=t[t.length-1]),_.map(e,function(e){var o=r;if(!o){if(i&&i.length&&(e=C(e,i)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)})}),_.pluck=function(e,t){return _.map(e,_.property(t))},_.where=function(e,t){return _.filter(e,_.matcher(t))},_.findWhere=function(e,t){return _.find(e,_.matcher(t))},_.max=function(e,t,n){var i,r,o=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,l=(e=L(e)?e:_.values(e)).length;s<l;s++)null!=(i=e[s])&&i>o&&(o=i);else t=b(t,n),_.each(e,function(e,n,i){((r=t(e,n,i))>a||r===-1/0&&o===-1/0)&&(o=e,a=r)});return o},_.min=function(e,t,n){var i,r,o=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,l=(e=L(e)?e:_.values(e)).length;s<l;s++)null!=(i=e[s])&&i<o&&(o=i);else t=b(t,n),_.each(e,function(e,n,i){((r=t(e,n,i))<a||r===1/0&&o===1/0)&&(o=e,a=r)});return o},_.shuffle=function(e){return _.sample(e,1/0)},_.sample=function(e,t,n){if(null==t||n)return L(e)||(e=_.values(e)),e[_.random(e.length-1)];var i=L(e)?_.clone(e):_.values(e),r=T(i);t=Math.max(Math.min(t,r),0);for(var o=r-1,a=0;a<t;a++){var s=_.random(a,o),l=i[a];i[a]=i[s],i[s]=l}return i.slice(0,t)},_.sortBy=function(e,t,n){var i=0;return t=b(t,n),_.pluck(_.map(e,function(e,n,r){return{value:e,index:i++,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var D=function(e,t){return function(n,i,r){var o=t?[[],[]]:{};return i=b(i,r),_.each(n,function(t,r){var a=i(t,r,n);e(o,t,a)}),o}};_.groupBy=D(function(e,t,n){x(e,n)?e[n].push(t):e[n]=[t]}),_.indexBy=D(function(e,t,n){e[n]=t}),_.countBy=D(function(e,t,n){x(e,n)?e[n]++:e[n]=1});var O=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;_.toArray=function(e){return e?_.isArray(e)?u.call(e):_.isString(e)?e.match(O):L(e)?_.map(e,_.identity):_.values(e):[]},_.size=function(e){return null==e?0:L(e)?e.length:_.keys(e).length},_.partition=D(function(e,t,n){e[n?0:1].push(t)},!0),_.first=_.head=_.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:_.initial(e,e.length-t)},_.initial=function(e,t,n){return u.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},_.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:_.rest(e,Math.max(0,e.length-t))},_.rest=_.tail=_.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},_.compact=function(e){return _.filter(e,Boolean)};var A=function(e,t,n,i){for(var r=(i=i||[]).length,o=0,a=T(e);o<a;o++){var s=e[o];if(L(s)&&(_.isArray(s)||_.isArguments(s)))if(t)for(var l=0,c=s.length;l<c;)i[r++]=s[l++];else A(s,t,n,i),r=i.length;else n||(i[r++]=s)}return i};_.flatten=function(e,t){return A(e,t,!1)},_.without=w(function(e,t){return _.difference(e,t)}),_.uniq=_.unique=function(e,t,n,i){_.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=b(n,i));for(var r=[],o=[],a=0,s=T(e);a<s;a++){var l=e[a],c=n?n(l,a,e):l;t&&!n?(a&&o===c||r.push(l),o=c):n?_.contains(o,c)||(o.push(c),r.push(l)):_.contains(r,l)||r.push(l)}return r},_.union=w(function(e){return _.uniq(A(e,!0,!0))}),_.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=T(e);i<r;i++){var o=e[i];if(!_.contains(t,o)){var a;for(a=1;a<n&&_.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},_.difference=w(function(e,t){return t=A(t,!0,!0),_.filter(e,function(e){return!_.contains(t,e)})}),_.unzip=function(e){for(var t=e&&_.max(e,T).length||0,n=Array(t),i=0;i<t;i++)n[i]=_.pluck(e,i);return n},_.zip=w(_.unzip),_.object=function(e,t){for(var n={},i=0,r=T(e);i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n};var Y=function(e){return function(t,n,i){n=b(n,i);for(var r=T(t),o=e>0?0:r-1;o>=0&&o<r;o+=e)if(n(t[o],o,t))return o;return-1}};_.findIndex=Y(1),_.findLastIndex=Y(-1),_.sortedIndex=function(e,t,n,i){for(var r=(n=b(n,i,1))(t),o=0,a=T(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<r?o=s+1:a=s}return o};var R=function(e,t,n){return function(i,r,o){var a=0,s=T(i);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return i[o=n(i,r)]===r?o:-1;if(r!=r)return(o=t(u.call(i,a,s),_.isNaN))>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(i[o]===r)return o;return-1}};_.indexOf=R(1,_.findIndex,_.sortedIndex),_.lastIndexOf=R(-1,_.findLastIndex),_.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;o<i;o++,e+=n)r[o]=e;return r},_.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],i=0,r=e.length;i<r;)n.push(u.call(e,i,i+=t));return n};var j=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=k(e.prototype),a=e.apply(o,r);return _.isObject(a)?a:o};_.bind=w(function(e,t,n){if(!_.isFunction(e))throw new TypeError("Bind must be called on a function");var i=w(function(r){return j(e,i,t,this,n.concat(r))});return i}),_.partial=w(function(e,t){var n=_.partial.placeholder,i=function(){for(var r=0,o=t.length,a=Array(o),s=0;s<o;s++)a[s]=t[s]===n?arguments[r++]:t[s];for(;r<arguments.length;)a.push(arguments[r++]);return j(e,i,this,this,a)};return i}),_.partial.placeholder=_,_.bindAll=w(function(e,t){var n=(t=A(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=t[n];e[i]=_.bind(e[i],e)}}),_.memoize=function(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);return x(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n},_.delay=w(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),_.defer=_.partial(_.delay,_,1),_.throttle=function(e,t,n){var i,r,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:_.now(),i=null,a=e.apply(r,o),i||(r=o=null)},c=function(){var c=_.now();s||!1!==n.leading||(s=c);var u=t-(c-s);return r=this,o=arguments,u<=0||u>t?(i&&(clearTimeout(i),i=null),s=c,a=e.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(l,u)),a};return c.cancel=function(){clearTimeout(i),s=0,i=r=o=null},c},_.debounce=function(e,t,n){var i,r,o=function(t,n){i=null,n&&(r=e.apply(t,n))},a=w(function(a){if(i&&clearTimeout(i),n){var s=!i;i=setTimeout(o,t),s&&(r=e.apply(this,a))}else i=_.delay(o,t,this,a);return r});return a.cancel=function(){clearTimeout(i),i=null},a},_.wrap=function(e,t){return _.partial(t,e)},_.negate=function(e){return function(){return!e.apply(this,arguments)}},_.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},_.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},_.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},_.once=_.partial(_.before,2),_.restArguments=w;var P=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],H=function(e,t){var n=N.length,i=e.constructor,r=_.isFunction(i)&&i.prototype||s,o="constructor";for(x(e,o)&&!_.contains(t,o)&&t.push(o);n--;)(o=N[n])in e&&e[o]!==r[o]&&!_.contains(t,o)&&t.push(o)};_.keys=function(e){if(!_.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)x(e,n)&&t.push(n);return P&&H(e,t),t},_.allKeys=function(e){if(!_.isObject(e))return[];var t=[];for(var n in e)t.push(n);return P&&H(e,t),t},_.values=function(e){for(var t=_.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i},_.mapObject=function(e,t,n){t=b(t,n);for(var i=_.keys(e),r=i.length,o={},a=0;a<r;a++){var s=i[a];o[s]=t(e[s],s,e)}return o},_.pairs=function(e){for(var t=_.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i},_.invert=function(e){for(var t={},n=_.keys(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t},_.functions=_.methods=function(e){var t=[];for(var n in e)_.isFunction(e[n])&&t.push(n);return t.sort()};var I=function(e,t){return function(n){var i=arguments.length;if(t&&(n=Object(n)),i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],a=e(o),s=a.length,l=0;l<s;l++){var c=a[l];t&&void 0!==n[c]||(n[c]=o[c])}return n}};_.extend=I(_.allKeys),_.extendOwn=_.assign=I(_.keys),_.findKey=function(e,t,n){t=b(t,n);for(var i,r=_.keys(e),o=0,a=r.length;o<a;o++)if(t(e[i=r[o]],i,e))return i};var F,$,W=function(e,t,n){return t in n};_.pick=w(function(e,t){var n={},i=t[0];if(null==e)return n;_.isFunction(i)?(t.length>1&&(i=y(i,t[1])),t=_.allKeys(e)):(i=W,t=A(t,!1,!1),e=Object(e));for(var r=0,o=t.length;r<o;r++){var a=t[r],s=e[a];i(s,a,e)&&(n[a]=s)}return n}),_.omit=w(function(e,t){var n,i=t[0];return _.isFunction(i)?(i=_.negate(i),t.length>1&&(n=t[1])):(t=_.map(A(t,!1,!1),String),i=function(e,n){return!_.contains(t,n)}),_.pick(e,i,n)}),_.defaults=I(_.allKeys,!0),_.create=function(e,t){var n=k(e);return t&&_.extendOwn(n,t),n},_.clone=function(e){return _.isObject(e)?_.isArray(e)?e.slice():_.extend({},e):e},_.tap=function(e,t){return t(e),e},_.isMatch=function(e,t){var n=_.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;o<i;o++){var a=n[o];if(t[a]!==r[a]||!(a in r))return!1}return!0},F=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var r=typeof e;return("function"===r||"object"===r||"object"==typeof t)&&$(e,t,n,i)},$=function(e,t,n,i){e instanceof _&&(e=e._wrapped),t instanceof _&&(t=t._wrapped);var r=d.call(e);if(r!==d.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return l.valueOf.call(e)===l.valueOf.call(t)}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(_.isFunction(a)&&a instanceof a&&_.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var c=n.length;c--;)if(n[c]===e)return i[c]===t;if(n.push(e),i.push(t),o){if((c=e.length)!==t.length)return!1;for(;c--;)if(!F(e[c],t[c],n,i))return!1}else{var u,h=_.keys(e);if(c=h.length,_.keys(t).length!==c)return!1;for(;c--;)if(u=h[c],!x(t,u)||!F(e[u],t[u],n,i))return!1}return n.pop(),i.pop(),!0},_.isEqual=function(e,t){return F(e,t)},_.isEmpty=function(e){return null==e||(L(e)&&(_.isArray(e)||_.isString(e)||_.isArguments(e))?0===e.length:0===_.keys(e).length)},_.isElement=function(e){return!(!e||1!==e.nodeType)},_.isArray=f||function(e){return"[object Array]"===d.call(e)},_.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},_.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){_["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),_.isArguments(arguments)||(_.isArguments=function(e){return x(e,"callee")});var z=r.document&&r.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof z&&(_.isFunction=function(e){return"function"==typeof e||!1}),_.isFinite=function(e){return!_.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},_.isNaN=function(e){return _.isNumber(e)&&isNaN(e)},_.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===d.call(e)},_.isNull=function(e){return null===e},_.isUndefined=function(e){return void 0===e},_.has=function(e,t){if(!_.isArray(t))return x(e,t);for(var n=t.length,i=0;i<n;i++){var r=t[i];if(null==e||!h.call(e,r))return!1;e=e[r]}return!!n},_.noConflict=function(){return r._=o,this},_.identity=function(e){return e},_.constant=function(e){return function(){return e}},_.noop=function(){},_.property=function(e){return _.isArray(e)?function(t){return C(t,e)}:M(e)},_.propertyOf=function(e){return null==e?function(){}:function(t){return _.isArray(t)?C(e,t):e[t]}},_.matcher=_.matches=function(e){return e=_.extendOwn({},e),function(t){return _.isMatch(t,e)}},_.times=function(e,t,n){var i=Array(Math.max(0,e));t=y(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i},_.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},_.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},V=_.invert(B),U=function(e){var t=function(t){return e[t]},n="(?:"+_.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};_.escape=U(B),_.unescape=U(V),_.result=function(e,t,n){_.isArray(t)||(t=[t]);var i=t.length;if(!i)return _.isFunction(n)?n.call(e):n;for(var r=0;r<i;r++){var o=null==e?void 0:e[t[r]];void 0===o&&(o=n,r=i),e=_.isFunction(o)?o.call(e):o}return e};var q=0;_.uniqueId=function(e){var t=++q+"";return e?e+t:t},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var G=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\u2028|\u2029/g,X=function(e){return"\\"+J[e]};_.template=function(e,t,n){!t&&n&&(t=n),t=_.defaults({},t,_.templateSettings);var i,r=RegExp([(t.escape||G).source,(t.interpolate||G).source,(t.evaluate||G).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(r,function(t,n,i,r,s){return a+=e.slice(o,s).replace(K,X),o=s+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?a+="'+\n((__t=("+i+"))==null?'':__t)+\n'":r&&(a+="';\n"+r+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(t.variable||"obj","_",a)}catch(e){throw e.source=a,e}var s=function(e){return i.call(this,e,_)},l=t.variable||"obj";return s.source="function("+l+"){\n"+a+"}",s},_.chain=function(e){var t=_(e);return t._chain=!0,t};var Q=function(e,t){return e._chain?_(t).chain():t};_.mixin=function(e){return _.each(_.functions(e),function(t){var n=_[t]=e[t];_.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),Q(this,n.apply(_,e))}}),_},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];_.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],Q(this,n)}}),_.each(["concat","join","slice"],function(e){var t=a[e];_.prototype[e]=function(){return Q(this,t.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return String(this._wrapped)},void 0===(i=function(){return _}.apply(t,[]))||(n.exports=i)}()}).call(this,n(39),n(412)(e))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4);t.a={searchShed:function(e,t){var n=this,i=this.shed_url,a="".concat(Object(o.a)(),"api/tool_shed/search");r.a.get(a,{term:e.term,tool_shed_url:i},function(e){var i=n.shedParser(e);t(i)})},shedParser:function(e){var t=[],n=e.hits;return r.a.each(n,function(e){var i=n[e],r="".concat(i.repository.name," by ").concat(i.repository.repo_owner_username,": ").concat(i.repository.description),o={value:i.repository.id,label:r};t.push(o)}),t},addToQueue:function(e){"/"==e.tool_shed_url.substr(-1)&&(e.tool_shed_url=e.tool_shed_url.substr(0,e.tool_shed_url.length-1));var t="".concat(e.tool_shed_url,"|").concat(e.repository_id,"|").concat(e.changeset_revision),n={};window.localStorage.repositories&&(n=JSON.parse(window.localStorage.repositories)),n[t]=e,window.localStorage.repositories=JSON.stringify(n)},queueLength:function(){if(window.localStorage.hasOwnProperty("repositories")){var e=JSON.parse(window.localStorage.repositories);return Object.keys(e).length}return 0},toolByGuid:function(e,t,n){var i;return n.forEach(function(t){t.guid==e.value&&(i=t)}),i}}},function(e,t,n){var i=n(29),r=n(521),o=n(96),a=Object.defineProperty;t.f=n(43)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},,function(e,t,n){"use strict";(function(e){var i=n(406),r=n(452),o=n(8),a=(n(1),i.a.DatasetAssociation),s=r.a.HistoryContentMixin,l=a.extend(o.a.mixin(s,{defaults:e.extend({},a.prototype.defaults,s.defaults,{history_content_type:"dataset",model_class:"HistoryDatasetAssociation"})}));t.a={HistoryDatasetAssociation:l}}).call(this,n(2))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),a=n(6);t.a={AUTO_EXTENSION:{id:"auto",text:"Auto-detect",description:"This system will try to detect the file type automatically. If your file is not detected properly as one of the known formats, it most likely means that it has some format problems (e.g., different number of columns on different rows). You can still coerce the system to set your data to the format you think it should be.  You can also upload compressed files, which will automatically be decompressed."},DEFAULT_GENOME:"?",DEFAULT_EXTENSION:"auto",getRemoteFiles:function(e,t){return r.a.ajax({url:"".concat(Object(o.a)(),"api/remote_files"),method:"GET",success:e,error:t})},getUploadDatatypes:function(e,t,n){a.a.get({url:"".concat(Object(o.a)(),"api/datatypes?extension_only=False"),success:function(i){var r=[];for(var o in i)r.push({id:i[o].extension,text:i[o].extension,description:i[o].description,description_url:i[o].description_url,composite_files:i[o].composite_files});r.sort(function(e,t){var n=e.text&&e.text.toLowerCase(),i=t.text&&t.text.toLowerCase();return n>i?1:n<i?-1:0}),t||r.unshift(n),e(r)}})},getUploadGenomes:function(e,t){a.a.get({url:"".concat(Object(o.a)(),"api/genomes"),success:function(n){var i=[];for(var r in n)i.push({id:n[r][1],text:n[r][0]});i.sort(function(e,n){return e.id==t?-1:n.id==t?1:e.text>n.text?1:e.text<n.text?-1:0}),e(i)}})}}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",function(){return S}),n.d(t,"b",function(){return T});var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(5),d=n(1),h=n.n(d),f=n(95),p=n(26),m=n(49),g=n(22),_=n(28);n(964),n(965),n(966),n(504),n(967),n(566),n(567),n(968),n(381);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function w(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function k(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(e){return y(this,t),k(this,M(t).call(this,e))}return x(t,l.a.Model),w(t,[{key:"initialize",value:function(e){this.baseURL=e}},{key:"save_viz",value:function(){var e=this,t=Object(u.getGalaxyInstance)();t.modal.show({title:"Saving...",body:"progress"});var n=[];a()(".bookmark").each(function(){n.push({position:a()(e).children(".position").text(),annotation:a()(e).children(".annotation").text()})});var i=this.view.overview_drawable?this.view.overview_drawable.config.get_value("name"):null,r={view:this.view.to_dict(),viewport:{chrom:this.view.chrom,start:this.view.low,end:this.view.high,overview:i},bookmarks:n};return a.a.ajax({url:"".concat(Object(c.a)(),"visualization/save"),type:"POST",dataType:"json",data:{id:this.view.vis_id,title:this.view.config.get_value("name"),dbkey:this.view.dbkey,type:"trackster",vis_json:JSON.stringify(r)}}).success(function(n){t.modal.hide(),e.view.vis_id=n.vis_id,e.view.has_changes=!1,window.history.pushState({},"",n.url+window.top.location.hash)}).error(function(){t.modal.show({title:h()("Could Not Save"),body:"Could not save visualization. Please try again later.",buttons:{Cancel:function(){t.modal.hide()}}})})}},{key:"createButtonMenu",value:function(){var e=this,t=m.a.create_icon_buttons_menu([{icon_class:"plus-button",title:h()("Add tracks"),on_click:function(){p.a.select_datasets({dbkey:e.view.dbkey},function(t){r.a.each(t,function(t){e.view.add_drawable(f.a.object_from_template(t,e.view,e.view))})})}},{icon_class:"block--plus",title:h()("Add group"),on_click:function(){e.view.add_drawable(new f.a.DrawableGroup(e.view,e.view,{name:"New Group"}))}},{icon_class:"bookmarks",title:h()("Bookmarks"),on_click:function(){window.force_right_panel("0px"==a()("div#right").css("right")?"hide":"show")}},{icon_class:"globe",title:h()("Circster"),on_click:function(){window.top.location="".concat(e.baseURL,"visualization/circster?id=").concat(e.view.vis_id)}},{icon_class:"disk--arrow",title:h()("Save"),on_click:function(){e.save_viz()}},{icon_class:"cross-circle",title:h()("Close"),on_click:function(){e.handle_unsaved_changes(e.view)}}],{tooltip_config:{placement:"bottom"}});return this.buttonMenu=t,t}},{key:"add_bookmark",value:function(e,t,n){var i=this,r=a()("#right .unified-panel-body"),o=a()("<div/>").addClass("bookmark").appendTo(r),s=a()("<div/>").addClass("position").appendTo(o);a()("<a href=''/>").text(e).appendTo(s).click(function(){return i.view.go_to(e),!1});var l=a()("<div/>").text(t).appendTo(o);if(n){var c=a()("<div/>").addClass("delete-icon-container").prependTo(o).click(function(){return o.slideUp("fast"),o.remove(),i.view.has_changes=!0,!1});a()("<a href=''/>").addClass("icon-button delete").appendTo(c),l.make_text_editable({num_rows:3,use_textarea:!0,help_text:"Edit bookmark note"}).addClass("annotation")}return this.view.has_changes=!0,o}},{key:"create_visualization",value:function(e,t,n,i,o){var s=this;return this.view=new f.a.TracksterView(r.a.extend(e,{header:!1})),this.view.editor=!0,a.a.when(this.view.load_chroms_deferred).then(function(e){var r=null;if(t){var a=t.chrom,l=t.start,c=t.end;r=t.overview,a&&void 0!==l&&c?s.view.change_chrom(a,l,c):s.view.change_chrom(e[0].chrom)}else s.view.change_chrom(e[0].chrom);if(n)for(var u=0;u<n.length;u++)s.view.add_drawable(f.a.object_from_template(n[u],s.view,s.view));for(var d=0;d<s.view.drawables.length;d++)if(s.view.drawables[d].config.get_value("name")===r){s.view.set_overview(s.view.drawables[d]);break}if(i)for(var h,p=0;p<i.length;p++)h=i[p],s.add_bookmark(h.position,h.annotation,o);s.view.has_changes=!1}),this.set_up_router({view:this.view}),this.view}},{key:"set_up_router",value:function(e){new p.a.TrackBrowserRouter(e),l.a.history.start()}},{key:"init_keyboard_nav",value:function(e){a()(document).keyup(function(t){if(!a()(t.srcElement).is(":input"))switch(t.which){case 37:e.move_fraction(.25);break;case 38:e.viewport_container.scrollTop(e.viewport_container.scrollTop()-20);break;case 39:e.move_fraction(-.25);break;case 40:e.viewport_container.scrollTop(e.viewport_container.scrollTop()+20)}})}},{key:"handle_unsaved_changes",value:function(e){var t=this,n=Object(u.getGalaxyInstance)();e.has_changes?n.modal.show({title:h()("Close visualization"),body:"There are unsaved changes to your visualization which will be lost if you do not save them.",buttons:{Cancel:function(){n.modal.hide()},"Leave without Saving":function(){a()(window).off("beforeunload"),window.top.location="".concat(Object(c.a)(),"visualizations/list")},Save:function(){a.a.when(t.save_viz()).then(function(){window.top.location="".concat(Object(c.a)(),"visualizations/list")})}}}):window.top.location="".concat(Object(c.a)(),"visualizations/list")}}]),t}(),T=function(e){function t(e){return y(this,t),k(this,M(t).call(this,e))}return x(t,l.a.View),w(t,[{key:"initialize",value:function(){var e=this;this.ui=new S(Object(c.a)()),this.ui.createButtonMenu(),this.ui.buttonMenu.$el.attr("style","float: right"),a()("#center .unified-panel-header-inner").append(this.ui.buttonMenu.$el),a()("#right .unified-panel-title").append("Bookmarks"),a()("#right .unified-panel-icons").append("<a id='add-bookmark-button' class='icon-button menu-button plus-button' href='javascript:void(0);' title='Add bookmark'></a>"),a()("#right-border").click(function(){e.ui.view.resize_window()}),window.force_right_panel("hide"),window.galaxy_config.app.id?this.view_existing():g.a.get("dataset_id")?this.choose_existing_or_new():this.view_new()}},{key:"choose_existing_or_new",value:function(){var e=this,t=Object(u.getGalaxyInstance)(),n=g.a.get("dbkey"),i={dbkey:n,dataset_id:g.a.get("dataset_id"),hda_ldda:g.a.get("hda_ldda"),gene_region:g.a.get("gene_region")};t.modal.show({title:"View Data in a New or Saved Visualization?",body:"<p><ul style='list-style: disc inside none'>You can add this dataset as:<li>a new track to one of your existing, saved Trackster sessions if they share the genome build: <b>".concat(n||"Not available.","</b></li><li>or create a new session with this dataset as the only track</li></ul></p>"),buttons:{Cancel:function(){window.top.location="".concat(Object(c.a)(),"visualizations/list")},"View in saved visualization":function(){e.view_in_saved(i)},"View in new visualization":function(){e.view_new()}}})}},{key:"view_in_saved",value:function(e){var t=this,n=Object(u.getGalaxyInstance)(),i=new _.a({url_base:"".concat(Object(c.a)(),"visualization/list_tracks"),embedded:!0});n.modal.show({title:h()("Add Data to Saved Visualization"),body:i.$el,buttons:{Cancel:function(){window.top.location="".concat(Object(c.a)(),"visualizations/list")},"Add to visualization":function(){a()(window.parent.document).find("input[name=id]:checked").each(function(){e.id=a()(t).val(),window.top.location="".concat(Object(c.a)(),"visualization/trackster?").concat(a.a.param(e))})}}})}},{key:"view_existing",value:function(){var e=window.galaxy_config.app.viz_config;this.ui.create_visualization({container:a()("#center .unified-panel-body"),name:e.title,vis_id:e.vis_id,dbkey:e.dbkey},e.viewport,e.tracks,e.bookmarks,!0),this.init_editor()}},{key:"view_new",value:function(){var e=this,t=Object(u.getGalaxyInstance)();a.a.ajax({url:"".concat(Object(c.a)(),"api/genomes?chrom_info=True"),data:{},error:function(){alert("Couldn't create new browser.")},success:function(n){t.modal.show({title:h()("New Visualization"),body:e.template_view_new(n),buttons:{Cancel:function(){window.top.location="".concat(Object(c.a)(),"visualizations/list")},Create:function(){e.create_browser(a()("#new-title").val(),a()("#new-dbkey").val()),t.modal.hide()}}});var i=n.map(function(e){return e[1]});window.galaxy_config.app.default_dbkey&&r.a.contains(i,window.galaxy_config.app.default_dbkey)&&a()("#new-dbkey").val(window.galaxy_config.app.default_dbkey),a()("#new-title").focus(),a()("select[name='dbkey']").select2(),a()("#overlay").css("overflow","auto")}})}},{key:"template_view_new",value:function(e){for(var t='<form id="new-browser-form" action="javascript:void(0);" method="post" onsubmit="return false;"><div class="form-row"><label for="new-title">Browser name:</label><div class="form-row-input"><input type="text" name="title" id="new-title" value="Unnamed"></input></div><div style="clear: both;"></div></div><div class="form-row"><label for="new-dbkey">Reference genome build (dbkey): </label><div class="form-row-input"><select name="dbkey" id="new-dbkey">',n=0;n<e.length;n++)t+='<option value="'.concat(e[n][1],'">').concat(e[n][0],"</option>");return t+='</select></div><div style="clear: both;"></div></div><div class="form-row">Is the build not listed here? <a href="'.concat(Object(c.a)(),'custom_builds" target="_top">Add a Custom Build</a></div></form>')}},{key:"init_editor",value:function(){var e=this;a()("#center .unified-panel-title").text("".concat(this.ui.view.config.get_value("name")," (").concat(this.ui.view.dbkey,")")),window.galaxy_config.app.add_dataset&&a.a.ajax({url:"".concat(Object(c.a)(),"api/datasets/").concat(window.galaxy_config.app.add_dataset),data:{hda_ldda:"hda",data_type:"track_config"},dataType:"json",success:function(t){e.ui.view.add_drawable(f.a.object_from_template(t,e.ui.view,e.ui.view))}}),a()("#add-bookmark-button").click(function(){var t="".concat(e.ui.view.chrom,":").concat(e.ui.view.low,"-").concat(e.ui.view.high);return e.ui.add_bookmark(t,"Bookmark description",!0)}),this.ui.init_keyboard_nav(this.ui.view),a()(window).on("beforeunload",function(){if(e.ui.view.has_changes)return"There are unsaved changes to your visualization that will be lost if you leave this page."})}},{key:"create_browser",value:function(e,t){a()(document).trigger("convert_to_values"),this.ui.create_visualization({container:a()("#center .unified-panel-body"),name:e,dbkey:t},window.galaxy_config.app.gene_region),this.init_editor(),this.ui.view.editor=!0}}]),t}()},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(2),a=r.a;t.a=function(e){(e=e||{}).tooltipConfig=e.tooltipConfig||{placement:"bottom"},e.classes=["icon-btn"].concat(e.classes||[]),e.disabled&&e.classes.push("disabled");var t=['<a class="',e.classes.join(" "),'"',e.title?' title="'.concat(e.title,'"'):"",!e.disabled&&e.target?' target="'.concat(e.target,'"'):"",' href="',!e.disabled&&e.href?e.href:"javascript:void(0);",'">','<span class="fa ',e.faIcon,'"></span>',"</a>"].join(""),n=a(t).tooltip(e.tooltipConfig);return o.isFunction(e.onclick)&&n.click(function(t){n.tooltip("hide"),n.parent().attr("tabindex",-1).focus(),e.onclick.apply(this,arguments)}),n}},function(e,t,n){"use strict";(function(e,n){var i=e.Model.extend({defaults:{ajax_settings:{},interval:1e3,success_fn:function(e){return!0}},go:function(){var e=n.Deferred(),t=this.get("ajax_settings"),i=this.get("success_fn"),r=this.get("interval");return function o(){n.ajax(t).success(function(t){i(t)?e.resolve(t):setTimeout(o,r)})}(),e}});t.a={commatize:function(e){e+="";for(var t=/(\d+)(\d{3})/;t.test(e);)e=e.replace(t,"$1,$2");return e},is_deferred:function(e){return"promise"in e},ServerStateDeferred:i,get_random_color:function(e){e||(e="#ffffff"),"string"==typeof e&&(e=[e]);for(var t=0;t<e.length;t++)e[t]=parseInt(e[t].slice(1),16);var n,i,r,o,a,s,l,c,u,d,h,f=function(e,t,n){return(299*e+587*t+114*n)/1e3},p=function(e,t,n,i,r,o){return Math.max(e,i)-Math.min(e,i)+(Math.max(t,r)-Math.min(t,r))+(Math.max(n,o)-Math.min(n,o))},m=!1,g=0;do{for(u=f(i=(16711680&(n=Math.round(16777215*Math.random())))>>16,r=(65280&n)>>8,o=255&n),m=!0,t=0;t<e.length;t++)if(d=f(s=(16711680&(a=e[t]))>>16,l=(65280&a)>>8,c=255&a),h=p(i,r,o,s,l,c),Math.abs(u-d)<40||h<200){m=!1;break}g++}while(!m&&g<=10);return"#".concat((16777216+n).toString(16).substr(1,6))}}}).call(this,n(3),n(0))},function(e,t,n){e.exports=!n(21)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t,n){var i=n(91),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){var i;
/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
!function(t,n){"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,r){var o=[],a=n.document,s=o.slice,l=o.concat,c=o.push,u=o.indexOf,d={},h=d.toString,f=d.hasOwnProperty,p={},m=function(e,t){return new m.fn.init(e,t)},g=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,_=/^-ms-/,v=/-([\da-z])/gi,y=function(e,t){return t.toUpperCase()};function b(e){var t=!!e&&"length"in e&&e.length,n=m.type(e);return"function"!==n&&!m.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}m.fn=m.prototype={jquery:"2.2.4",constructor:m,selector:"",length:0,toArray:function(){return s.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:s.call(this)},pushStack:function(e){var t=m.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return m.each(this,e)},map:function(e){return this.pushStack(m.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},m.extend=m.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||m.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(i=e[t])&&(c&&i&&(m.isPlainObject(i)||(r=m.isArray(i)))?(r?(r=!1,o=n&&m.isArray(n)?n:[]):o=n&&m.isPlainObject(n)?n:{},a[t]=m.extend(c,o,i)):void 0!==i&&(a[t]=i));return a},m.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===m.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!m.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==m.type(e)||e.nodeType||m.isWindow(e))return!1;if(e.constructor&&!f.call(e,"constructor")&&!f.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||f.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[h.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=m.trim(e))&&(1===e.indexOf("use strict")?((t=a.createElement("script")).text=e,a.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(_,"ms-").replace(v,y)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(b(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(g,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(b(Object(e))?m.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,a=[];if(b(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return l.apply([],a)},guid:1,proxy:function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),m.isFunction(e))return i=s.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(s.call(arguments)))}).guid=e.guid=e.guid||m.guid++,r},now:Date.now,support:p}),"function"==typeof Symbol&&(m.fn[Symbol.iterator]=o[Symbol.iterator]),m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){d["[object "+t+"]"]=t.toLowerCase()});var w=
/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(e){var t,n,i,r,o,a,s,l,c,u,d,h,f,p,m,g,_,v,y,b="sizzle"+1*new Date,w=e.document,k=0,M=0,x=oe(),C=oe(),S=oe(),T=function(e,t){return e===t&&(d=!0),0},L=1<<31,E={}.hasOwnProperty,D=[],O=D.pop,A=D.push,Y=D.push,R=D.slice,j=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",I="\\["+N+"*("+H+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+N+"*\\]",F=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+I+")*)|.*)\\)|)",$=new RegExp(N+"+","g"),W=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),z=new RegExp("^"+N+"*,"+N+"*"),B=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),V=new RegExp("="+N+"*([^\\]'\"]*?)"+N+"*\\]","g"),U=new RegExp(F),q=new RegExp("^"+H+"$"),G={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H+"|[*])"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},J=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+N+"?|("+N+")|.)","ig"),ne=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ie=function(){h()};try{Y.apply(D=R.call(w.childNodes),w.childNodes),D[w.childNodes.length].nodeType}catch(e){Y={apply:D.length?function(e,t){A.apply(e,R.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function re(e,t,i,r){var o,s,c,u,d,p,_,v,k=t&&t.ownerDocument,M=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==M&&9!==M&&11!==M)return i;if(!r&&((t?t.ownerDocument||t:w)!==f&&h(t),t=t||f,m)){if(11!==M&&(p=Q.exec(e)))if(o=p[1]){if(9===M){if(!(c=t.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(k&&(c=k.getElementById(o))&&y(t,c)&&c.id===o)return i.push(c),i}else{if(p[2])return Y.apply(i,t.getElementsByTagName(e)),i;if((o=p[3])&&n.getElementsByClassName&&t.getElementsByClassName)return Y.apply(i,t.getElementsByClassName(o)),i}if(n.qsa&&!S[e+" "]&&(!g||!g.test(e))){if(1!==M)k=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(ee,"\\$&"):t.setAttribute("id",u=b),s=(_=a(e)).length,d=q.test(u)?"#"+u:"[id='"+u+"']";s--;)_[s]=d+" "+me(_[s]);v=_.join(","),k=Z.test(e)&&fe(t.parentNode)||t}if(v)try{return Y.apply(i,k.querySelectorAll(v)),i}catch(e){}finally{u===b&&t.removeAttribute("id")}}}return l(e.replace(W,"$1"),t,i,r)}function oe(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ae(e){return e[b]=!0,e}function se(e){var t=f.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function ce(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||L)-(~e.sourceIndex||L);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ue(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function he(e){return ae(function(t){return t=+t,ae(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function fe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=re.support={},o=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=re.setDocument=function(e){var t,r,a=e?e.ownerDocument||e:w;return a!==f&&9===a.nodeType&&a.documentElement?(p=(f=a).documentElement,m=!o(f),(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ie,!1):r.attachEvent&&r.attachEvent("onunload",ie)),n.attributes=se(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=se(function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=X.test(f.getElementsByClassName),n.getById=se(function(e){return p.appendChild(e).id=b,!f.getElementsByName||!f.getElementsByName(b).length}),n.getById?(i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}},i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete i.find.ID,i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},_=[],g=[],(n.qsa=X.test(f.querySelectorAll))&&(se(function(e){p.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+N+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+N+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+b+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]")}),se(function(e){var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+N+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=X.test(v=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&se(function(e){n.disconnectedMatch=v.call(e,"div"),v.call(e,"[s!='']:x"),_.push("!=",F)}),g=g.length&&new RegExp(g.join("|")),_=_.length&&new RegExp(_.join("|")),t=X.test(p.compareDocumentPosition),y=t||X.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return d=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===f||e.ownerDocument===w&&y(w,e)?-1:t===f||t.ownerDocument===w&&y(w,t)?1:u?j(u,e)-j(u,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e===f?-1:t===f?1:r?-1:o?1:u?j(u,e)-j(u,t):0;if(r===o)return ce(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?ce(a[i],s[i]):a[i]===w?-1:s[i]===w?1:0},f):f},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&h(e),t=t.replace(V,"='$1']"),n.matchesSelector&&m&&!S[t+" "]&&(!_||!_.test(t))&&(!g||!g.test(t)))try{var i=v.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return re(t,f,null,[e]).length>0},re.contains=function(e,t){return(e.ownerDocument||e)!==f&&h(e),y(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!==f&&h(e);var r=i.attrHandle[t.toLowerCase()],o=r&&E.call(i.attrHandle,t.toLowerCase())?r(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,i=[],r=0,o=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(T),d){for(;t=e[o++];)t===e[o]&&(r=i.push(o));for(;r--;)e.splice(i[r],1)}return u=null,e},r=re.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(i=re.selectors={cacheLength:50,createPseudo:ae,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=x[e+" "];return t||(t=new RegExp("(^|"+N+")"+e+"("+N+"|$)"))&&x(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=re.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace($," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,f,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,_=s&&t.nodeName.toLowerCase(),v=!l&&!s,y=!1;if(g){if(o){for(;m;){for(h=t;h=h[m];)if(s?h.nodeName.toLowerCase()===_:1===h.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&v){for(y=(f=(c=(u=(d=(h=g)[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===k&&c[1])&&c[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(y=f=0)||p.pop();)if(1===h.nodeType&&++y&&h===t){u[e]=[k,f,y];break}}else if(v&&(y=f=(c=(u=(d=(h=t)[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===k&&c[1]),!1===y)for(;(h=++f&&h&&h[m]||(y=f=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==_:1!==h.nodeType)||!++y||(v&&((u=(d=h[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[k,y]),h!==t)););return(y-=r)===i||y%i==0&&y/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,n){for(var i,o=r(e,t),a=o.length;a--;)e[i=j(e,o[a])]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:ae(function(e){var t=[],n=[],i=s(e.replace(W,"$1"));return i[b]?ae(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:ae(function(e){return function(t){return re(e,t).length>0}}),contains:ae(function(e){return e=e.replace(te,ne),function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:ae(function(e){return q.test(e||"")||re.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:he(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=ue(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=de(t);function pe(){}function me(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ge(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=M++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,c,u=[k,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if((s=(l=(c=t[b]||(t[b]={}))[t.uniqueID]||(c[t.uniqueID]={}))[i])&&s[0]===k&&s[1]===o)return u[2]=s[2];if(l[i]=u,u[2]=e(t,n,a))return!0}}}function _e(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function ve(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(s)));return a}function ye(e,t,n,i,r,o){return i&&!i[b]&&(i=ye(i)),r&&!r[b]&&(r=ye(r,o)),ae(function(o,a,s,l){var c,u,d,h=[],f=[],p=a.length,m=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)re(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:ve(m,h,e,s,l),_=n?r||(o?e:p||i)?[]:a:g;if(n&&n(g,_,s,l),i)for(c=ve(_,f),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(_[f[u]]=!(g[f[u]]=d));if(o){if(r||e){if(r){for(c=[],u=_.length;u--;)(d=_[u])&&c.push(g[u]=d);r(null,_=[],c,l)}for(u=_.length;u--;)(d=_[u])&&(c=r?j(o,d):h[u])>-1&&(o[c]=!(a[c]=d))}}else _=ve(_===a?_.splice(p,_.length):_),r?r(null,a,_,l):Y.apply(a,_)})}function be(e){for(var t,n,r,o=e.length,a=i.relative[e[0].type],s=a||i.relative[" "],l=a?1:0,u=ge(function(e){return e===t},s,!0),d=ge(function(e){return j(t,e)>-1},s,!0),h=[function(e,n,i){var r=!a&&(i||n!==c)||((t=n).nodeType?u(e,n,i):d(e,n,i));return t=null,r}];l<o;l++)if(n=i.relative[e[l].type])h=[ge(_e(h),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[b]){for(r=++l;r<o&&!i.relative[e[r].type];r++);return ye(l>1&&_e(h),l>1&&me(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(W,"$1"),n,l<r&&be(e.slice(l,r)),r<o&&be(e=e.slice(r)),r<o&&me(e))}h.push(n)}return _e(h)}return pe.prototype=i.filters=i.pseudos,i.setFilters=new pe,a=re.tokenize=function(e,t){var n,r,o,a,s,l,c,u=C[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=i.preFilter;s;){for(a in n&&!(r=z.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),n=!1,(r=B.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(W," ")}),s=s.slice(n.length)),i.filter)!(r=G[a].exec(s))||c[a]&&!(r=c[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?re.error(e):C(e,l).slice(0)},s=re.compile=function(e,t){var n,r=[],o=[],s=S[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=be(t[n]))[b]?r.push(s):o.push(s);(s=S(e,function(e,t){var n=t.length>0,r=e.length>0,o=function(o,a,s,l,u){var d,p,g,_=0,v="0",y=o&&[],b=[],w=c,M=o||r&&i.find.TAG("*",u),x=k+=null==w?1:Math.random()||.1,C=M.length;for(u&&(c=a===f||a||u);v!==C&&null!=(d=M[v]);v++){if(r&&d){for(p=0,a||d.ownerDocument===f||(h(d),s=!m);g=e[p++];)if(g(d,a||f,s)){l.push(d);break}u&&(k=x)}n&&((d=!g&&d)&&_--,o&&y.push(d))}if(_+=v,n&&v!==_){for(p=0;g=t[p++];)g(y,b,a,s);if(o){if(_>0)for(;v--;)y[v]||b[v]||(b[v]=O.call(l));b=ve(b)}Y.apply(l,b),u&&!o&&b.length>0&&_+t.length>1&&re.uniqueSort(l)}return u&&(k=x,c=w),y};return n?ae(o):o}(o,r))).selector=e}return s},l=re.select=function(e,t,r,o){var l,c,u,d,h,f="function"==typeof e&&e,p=!o&&a(e=f.selector||e);if(r=r||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&n.getById&&9===t.nodeType&&m&&i.relative[c[1].type]){if(!(t=(i.find.ID(u.matches[0].replace(te,ne),t)||[])[0]))return r;f&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(l=G.needsContext.test(e)?0:c.length;l--&&(u=c[l],!i.relative[d=u.type]);)if((h=i.find[d])&&(o=h(u.matches[0].replace(te,ne),Z.test(c[0].type)&&fe(t.parentNode)||t))){if(c.splice(l,1),!(e=o.length&&me(c)))return Y.apply(r,o),r;break}}return(f||s(e,p))(o,t,!m,r,!t||Z.test(e)&&fe(t.parentNode)||t),r},n.sortStable=b.split("").sort(T).join("")===b,n.detectDuplicates=!!d,h(),n.sortDetached=se(function(e){return 1&e.compareDocumentPosition(f.createElement("div"))}),se(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&se(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),se(function(e){return null==e.getAttribute("disabled")})||le(P,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),re}(n);m.find=w,m.expr=w.selectors,m.expr[":"]=m.expr.pseudos,m.uniqueSort=m.unique=w.uniqueSort,m.text=w.getText,m.isXMLDoc=w.isXML,m.contains=w.contains;var k=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&m(e).is(n))break;i.push(e)}return i},M=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},x=m.expr.match.needsContext,C=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,S=/^.[^:#\[\.,]*$/;function T(e,t,n){if(m.isFunction(t))return m.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return m.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(S.test(t))return m.filter(t,e,n);t=m.filter(t,e)}return m.grep(e,function(e){return u.call(t,e)>-1!==n})}m.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?m.find.matchesSelector(i,e)?[i]:[]:m.find.matches(e,m.grep(t,function(e){return 1===e.nodeType}))},m.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(m(e).filter(function(){for(t=0;t<n;t++)if(m.contains(r[t],this))return!0}));for(t=0;t<n;t++)m.find(e,r[t],i);return(i=this.pushStack(n>1?m.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,"string"==typeof e&&x.test(e)?m(e):e||[],!1).length}});var L,E=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(m.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||L,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:E.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof m?t[0]:t,m.merge(this,m.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:a,!0)),C.test(i[1])&&m.isPlainObject(t))for(i in t)m.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=a.getElementById(i[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=a,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):m.isFunction(e)?void 0!==n.ready?n.ready(e):e(m):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),m.makeArray(e,this))}).prototype=m.fn,L=m(a);var D=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function A(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}m.fn.extend({has:function(e){var t=m(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(m.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=x.test(e)||"string"!=typeof e?m(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&m.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?m.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(m(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(m.uniqueSort(m.merge(this.get(),m(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),m.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return A(e,"nextSibling")},prev:function(e){return A(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return M((e.parentNode||{}).firstChild,e)},children:function(e){return M(e.firstChild)},contents:function(e){return e.contentDocument||m.merge([],e.childNodes)}},function(e,t){m.fn[e]=function(n,i){var r=m.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=m.filter(i,r)),this.length>1&&(O[e]||m.uniqueSort(r),D.test(e)&&r.reverse()),this.pushStack(r)}});var Y,R=/\S+/g;function j(){a.removeEventListener("DOMContentLoaded",j),n.removeEventListener("load",j),m.ready()}m.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return m.each(e.match(R)||[],function(e,n){t[n]=!0}),t}(e):m.extend({},e);var t,n,i,r,o=[],a=[],s=-1,l=function(){for(r=e.once,i=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){m.each(n,function(n,i){m.isFunction(i)?e.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==m.type(i)&&t(i)})}(arguments),n&&!t&&l()),this},remove:function(){return m.each(arguments,function(e,t){for(var n;(n=m.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?m.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},m.extend({Deferred:function(e){var t=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return m.Deferred(function(n){m.each(t,function(t,o){var a=m.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&m.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?m.extend(e,i):i}},r={};return i.pipe=i.then,m.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=s.call(arguments),a=o.length,l=1!==a||e&&m.isFunction(e.promise)?a:0,c=1===l?e:m.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?s.call(arguments):r,i===t?c.notifyWith(n,i):--l||c.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);r<a;r++)o[r]&&m.isFunction(o[r].promise)?o[r].promise().progress(u(r,n,t)).done(u(r,i,o)).fail(c.reject):--l;return l||c.resolveWith(i,o),c.promise()}}),m.fn.ready=function(e){return m.ready.promise().done(e),this},m.extend({isReady:!1,readyWait:1,holdReady:function(e){e?m.readyWait++:m.ready(!0)},ready:function(e){(!0===e?--m.readyWait:m.isReady)||(m.isReady=!0,!0!==e&&--m.readyWait>0||(Y.resolveWith(a,[m]),m.fn.triggerHandler&&(m(a).triggerHandler("ready"),m(a).off("ready"))))}}),m.ready.promise=function(e){return Y||(Y=m.Deferred(),"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(m.ready):(a.addEventListener("DOMContentLoaded",j),n.addEventListener("load",j))),Y.promise(e)},m.ready.promise();var P=function(e,t,n,i,r,o,a){var s=0,l=e.length,c=null==n;if("object"===m.type(n))for(s in r=!0,n)P(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,m.isFunction(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(m(e),n)})),t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):o},N=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function H(){this.expando=m.expando+H.uid++}H.uid=1,H.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!N(e))return{};var t=e[this.expando];return t||(t={},N(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[t]=n;else for(i in t)r[i]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(i=this.get(e,t))?i:this.get(e,m.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{m.isArray(t)?i=t.concat(t.map(m.camelCase)):(r=m.camelCase(t),i=t in o?[t,r]:(i=r)in o?[i]:i.match(R)||[]),n=i.length;for(;n--;)delete o[i[n]]}(void 0===t||m.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!m.isEmptyObject(t)}};var I=new H,F=new H,$=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,W=/[A-Z]/g;function z(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(W,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:$.test(n)?m.parseJSON(n):n)}catch(e){}F.set(e,t,n)}else n=void 0;return n}m.extend({hasData:function(e){return F.hasData(e)||I.hasData(e)},data:function(e,t,n){return F.access(e,t,n)},removeData:function(e,t){F.remove(e,t)},_data:function(e,t,n){return I.access(e,t,n)},_removeData:function(e,t){I.remove(e,t)}}),m.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=F.get(o),1===o.nodeType&&!I.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=m.camelCase(i.slice(5)),z(o,i,r[i]));I.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){F.set(this,e)}):P(this,function(t){var n,i;if(o&&void 0===t)return void 0!==(n=F.get(o,e)||F.get(o,e.replace(W,"-$&").toLowerCase()))?n:(i=m.camelCase(e),void 0!==(n=F.get(o,i))?n:void 0!==(n=z(o,i,void 0))?n:void 0);i=m.camelCase(e),this.each(function(){var n=F.get(this,i);F.set(this,i,t),e.indexOf("-")>-1&&void 0!==n&&F.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){F.remove(this,e)})}}),m.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=I.get(e,t),n&&(!i||m.isArray(n)?i=I.access(e,t,m.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=m.queue(e,t),i=n.length,r=n.shift(),o=m._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){m.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return I.get(e,n)||I.access(e,n,{empty:m.Callbacks("once memory").add(function(){I.remove(e,[t+"queue",n])})})}}),m.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?m.queue(this[0],e):void 0===t?this:this.each(function(){var n=m.queue(this,e,t);m._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&m.dequeue(this,e)})},dequeue:function(e){return this.each(function(){m.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=m.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=I.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var B=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,V=new RegExp("^(?:([+-])=|)("+B+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],q=function(e,t){return e=t||e,"none"===m.css(e,"display")||!m.contains(e.ownerDocument,e)};function G(e,t,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return m.css(e,t,"")},l=s(),c=n&&n[3]||(m.cssNumber[t]?"":"px"),u=(m.cssNumber[t]||"px"!==c&&+l)&&V.exec(m.css(e,t));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do{u/=o=o||".5",m.style(e,t,u+c)}while(o!==(o=s()/l)&&1!==o&&--a)}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var J=/^(?:checkbox|radio)$/i,K=/<([\w:-]+)/,X=/^$|\/(?:java|ecma)script/i,Q={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Z(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&m.nodeName(e,t)?m.merge([e],n):n}function ee(e,t){for(var n=0,i=e.length;n<i;n++)I.set(e[n],"globalEval",!t||I.get(t[n],"globalEval"))}Q.optgroup=Q.option,Q.tbody=Q.tfoot=Q.colgroup=Q.caption=Q.thead,Q.th=Q.td;var te=/<|&#?\w+;/;function ne(e,t,n,i,r){for(var o,a,s,l,c,u,d=t.createDocumentFragment(),h=[],f=0,p=e.length;f<p;f++)if((o=e[f])||0===o)if("object"===m.type(o))m.merge(h,o.nodeType?[o]:o);else if(te.test(o)){for(a=a||d.appendChild(t.createElement("div")),s=(K.exec(o)||["",""])[1].toLowerCase(),l=Q[s]||Q._default,a.innerHTML=l[1]+m.htmlPrefilter(o)+l[2],u=l[0];u--;)a=a.lastChild;m.merge(h,a.childNodes),(a=d.firstChild).textContent=""}else h.push(t.createTextNode(o));for(d.textContent="",f=0;o=h[f++];)if(i&&m.inArray(o,i)>-1)r&&r.push(o);else if(c=m.contains(o.ownerDocument,o),a=Z(d.appendChild(o),"script"),c&&ee(a),n)for(u=0;o=a[u++];)X.test(o.type||"")&&n.push(o);return d}!function(){var e=a.createDocumentFragment().appendChild(a.createElement("div")),t=a.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),p.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var ie=/^key/,re=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,oe=/^([^.]*)(?:\.(.+)|)/;function ae(){return!0}function se(){return!1}function le(){try{return a.activeElement}catch(e){}}function ce(e,t,n,i,r,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)ce(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=se;else if(!r)return e;return 1===o&&(a=r,(r=function(e){return m().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=m.guid++)),e.each(function(){m.event.add(this,t,r,i,n)})}m.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,c,u,d,h,f,p,g,_=I.get(e);if(_)for(n.handler&&(n=(o=n).handler,r=o.selector),n.guid||(n.guid=m.guid++),(l=_.events)||(l=_.events={}),(a=_.handle)||(a=_.handle=function(t){return void 0!==m&&m.event.triggered!==t.type?m.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(R)||[""]).length;c--;)f=g=(s=oe.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),f&&(d=m.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=m.event.special[f]||{},u=m.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&m.expr.match.needsContext.test(r),namespace:p.join(".")},o),(h=l[f])||((h=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,p,a)||e.addEventListener&&e.addEventListener(f,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),m.event.global[f]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,c,u,d,h,f,p,g,_=I.hasData(e)&&I.get(e);if(_&&(l=_.events)){for(c=(t=(t||"").match(R)||[""]).length;c--;)if(f=g=(s=oe.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),f){for(d=m.event.special[f]||{},h=l[f=(i?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)u=h[o],!r&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,p,_.handle)||m.removeEvent(e,f,_.handle),delete l[f])}else for(f in l)m.event.remove(e,f+t[c],n,i,!0);m.isEmptyObject(l)&&I.remove(e,"handle events")}},dispatch:function(e){e=m.event.fix(e);var t,n,i,r,o,a,l=s.call(arguments),c=(I.get(this,"events")||{})[e.type]||[],u=m.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(a=m.event.handlers.call(this,e,c),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(i=((m.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(i=[],n=0;n<s;n++)void 0===i[r=(o=t[n]).selector+" "]&&(i[r]=o.needsContext?m(r,this).index(l)>-1:m.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(i=(n=e.target.ownerDocument||a).documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[m.expando])return e;var t,n,i,r=e.type,o=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=re.test(r)?this.mouseHooks:ie.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new m.Event(o),t=i.length;t--;)e[n=i[t]]=o[n];return e.target||(e.target=a),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==le()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===le()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&m.nodeName(this,"input"))return this.click(),!1},_default:function(e){return m.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},m.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},m.Event=function(e,t){if(!(this instanceof m.Event))return new m.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ae:se):this.type=e,t&&m.extend(this,t),this.timeStamp=e&&e.timeStamp||m.now(),this[m.expando]=!0},m.Event.prototype={constructor:m.Event,isDefaultPrevented:se,isPropagationStopped:se,isImmediatePropagationStopped:se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ae,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ae,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ae,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){m.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||m.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),m.fn.extend({on:function(e,t,n,i){return ce(this,e,t,n,i)},one:function(e,t,n,i){return ce(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,m(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=se),this.each(function(){m.event.remove(this,e,n,t)})}});var ue=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,de=/<script|<style|<link/i,he=/checked\s*(?:[^=]|=\s*.checked.)/i,fe=/^true\/(.*)/,pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function me(e,t){return m.nodeName(e,"table")&&m.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ge(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function _e(e){var t=fe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function ve(e,t){var n,i,r,o,a,s,l,c;if(1===t.nodeType){if(I.hasData(e)&&(o=I.access(e),a=I.set(t,o),c=o.events))for(r in delete a.handle,a.events={},c)for(n=0,i=c[r].length;n<i;n++)m.event.add(t,r,c[r][n]);F.hasData(e)&&(s=F.access(e),l=m.extend({},s),F.set(t,l))}}function ye(e,t){var n=t.nodeName.toLowerCase();"input"===n&&J.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function be(e,t,n,i){t=l.apply([],t);var r,o,a,s,c,u,d=0,h=e.length,f=h-1,g=t[0],_=m.isFunction(g);if(_||h>1&&"string"==typeof g&&!p.checkClone&&he.test(g))return e.each(function(r){var o=e.eq(r);_&&(t[0]=g.call(this,r,o.html())),be(o,t,n,i)});if(h&&(o=(r=ne(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=(a=m.map(Z(r,"script"),ge)).length;d<h;d++)c=r,d!==f&&(c=m.clone(c,!0,!0),s&&m.merge(a,Z(c,"script"))),n.call(e[d],c,d);if(s)for(u=a[a.length-1].ownerDocument,m.map(a,_e),d=0;d<s;d++)c=a[d],X.test(c.type||"")&&!I.access(c,"globalEval")&&m.contains(u,c)&&(c.src?m._evalUrl&&m._evalUrl(c.src):m.globalEval(c.textContent.replace(pe,"")))}return e}function we(e,t,n){for(var i,r=t?m.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||m.cleanData(Z(i)),i.parentNode&&(n&&m.contains(i.ownerDocument,i)&&ee(Z(i,"script")),i.parentNode.removeChild(i));return e}m.extend({htmlPrefilter:function(e){return e.replace(ue,"<$1></$2>")},clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),l=m.contains(e.ownerDocument,e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||m.isXMLDoc(e)))for(a=Z(s),i=0,r=(o=Z(e)).length;i<r;i++)ye(o[i],a[i]);if(t)if(n)for(o=o||Z(e),a=a||Z(s),i=0,r=o.length;i<r;i++)ve(o[i],a[i]);else ve(e,s);return(a=Z(s,"script")).length>0&&ee(a,!l&&Z(e,"script")),s},cleanData:function(e){for(var t,n,i,r=m.event.special,o=0;void 0!==(n=e[o]);o++)if(N(n)){if(t=n[I.expando]){if(t.events)for(i in t.events)r[i]?m.event.remove(n,i):m.removeEvent(n,i,t.handle);n[I.expando]=void 0}n[F.expando]&&(n[F.expando]=void 0)}}}),m.fn.extend({domManip:be,detach:function(e){return we(this,e,!0)},remove:function(e){return we(this,e)},text:function(e){return P(this,function(e){return void 0===e?m.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return be(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||me(this,e).appendChild(e)})},prepend:function(){return be(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=me(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return be(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return be(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(m.cleanData(Z(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return m.clone(this,e,t)})},html:function(e){return P(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!de.test(e)&&!Q[(K.exec(e)||["",""])[1].toLowerCase()]){e=m.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(m.cleanData(Z(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return be(this,arguments,function(t){var n=this.parentNode;m.inArray(this,e)<0&&(m.cleanData(Z(this)),n&&n.replaceChild(t,this))},e)}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){m.fn[e]=function(e){for(var n,i=[],r=m(e),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),m(r[a])[t](n),c.apply(i,n.get());return this.pushStack(i)}});var ke,Me={HTML:"block",BODY:"block"};function xe(e,t){var n=m(t.createElement(e)).appendTo(t.body),i=m.css(n[0],"display");return n.detach(),i}function Ce(e){var t=a,n=Me[e];return n||("none"!==(n=xe(e,t))&&n||((t=(ke=(ke||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=xe(e,t),ke.detach()),Me[e]=n),n}var Se=/^margin/,Te=new RegExp("^("+B+")(?!px)[a-z%]+$","i"),Le=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},Ee=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=a[o];return r},De=a.documentElement;function Oe(e,t,n){var i,r,o,a,s=e.style;return""!==(a=(n=n||Le(e))?n.getPropertyValue(t)||n[t]:void 0)&&void 0!==a||m.contains(e.ownerDocument,e)||(a=m.style(e,t)),n&&!p.pixelMarginRight()&&Te.test(a)&&Se.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o),void 0!==a?a+"":a}function Ae(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var e,t,i,r,o=a.createElement("div"),s=a.createElement("div");function l(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",De.appendChild(o);var a=n.getComputedStyle(s);e="1%"!==a.top,r="2px"===a.marginLeft,t="4px"===a.width,s.style.marginRight="50%",i="4px"===a.marginRight,De.removeChild(o)}s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(s),m.extend(p,{pixelPosition:function(){return l(),e},boxSizingReliable:function(){return null==t&&l(),t},pixelMarginRight:function(){return null==t&&l(),i},reliableMarginLeft:function(){return null==t&&l(),r},reliableMarginRight:function(){var e,t=s.appendChild(a.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",De.appendChild(o),e=!parseFloat(n.getComputedStyle(t).marginRight),De.removeChild(o),s.removeChild(t),e}}))}();var Ye=/^(none|table(?!-c[ea]).+)/,Re={position:"absolute",visibility:"hidden",display:"block"},je={letterSpacing:"0",fontWeight:"400"},Pe=["Webkit","O","Moz","ms"],Ne=a.createElement("div").style;function He(e){if(e in Ne)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Pe.length;n--;)if((e=Pe[n]+t)in Ne)return e}function Ie(e,t,n){var i=V.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Fe(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=m.css(e,n+U[o],!0,r)),i?("content"===n&&(a-=m.css(e,"padding"+U[o],!0,r)),"margin"!==n&&(a-=m.css(e,"border"+U[o]+"Width",!0,r))):(a+=m.css(e,"padding"+U[o],!0,r),"padding"!==n&&(a+=m.css(e,"border"+U[o]+"Width",!0,r)));return a}function $e(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=Le(e),a="border-box"===m.css(e,"boxSizing",!1,o);if(r<=0||null==r){if(((r=Oe(e,t,o))<0||null==r)&&(r=e.style[t]),Te.test(r))return r;i=a&&(p.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+Fe(e,t,n||(a?"border":"content"),i,o)+"px"}function We(e,t){for(var n,i,r,o=[],a=0,s=e.length;a<s;a++)(i=e[a]).style&&(o[a]=I.get(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&q(i)&&(o[a]=I.access(i,"olddisplay",Ce(i.nodeName)))):(r=q(i),"none"===n&&r||I.set(i,"olddisplay",r?n:m.css(i,"display"))));for(a=0;a<s;a++)(i=e[a]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function ze(e,t,n,i,r){return new ze.prototype.init(e,t,n,i,r)}m.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Oe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=m.camelCase(t),l=e.style;if(t=m.cssProps[s]||(m.cssProps[s]=He(s)||s),a=m.cssHooks[t]||m.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t];"string"===(o=typeof n)&&(r=V.exec(n))&&r[1]&&(n=G(e,t,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(m.cssNumber[s]?"":"px")),p.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n))}},css:function(e,t,n,i){var r,o,a,s=m.camelCase(t);return t=m.cssProps[s]||(m.cssProps[s]=He(s)||s),(a=m.cssHooks[t]||m.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=Oe(e,t,i)),"normal"===r&&t in je&&(r=je[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),m.each(["height","width"],function(e,t){m.cssHooks[t]={get:function(e,n,i){if(n)return Ye.test(m.css(e,"display"))&&0===e.offsetWidth?Ee(e,Re,function(){return $e(e,t,i)}):$e(e,t,i)},set:function(e,n,i){var r,o=i&&Le(e),a=i&&Fe(e,t,i,"border-box"===m.css(e,"boxSizing",!1,o),o);return a&&(r=V.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=m.css(e,t)),Ie(0,n,a)}}}),m.cssHooks.marginLeft=Ae(p.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Oe(e,"marginLeft"))||e.getBoundingClientRect().left-Ee(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),m.cssHooks.marginRight=Ae(p.reliableMarginRight,function(e,t){if(t)return Ee(e,{display:"inline-block"},Oe,[e,"marginRight"])}),m.each({margin:"",padding:"",border:"Width"},function(e,t){m.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+U[i]+t]=o[i]||o[i-2]||o[0];return r}},Se.test(e)||(m.cssHooks[e+t].set=Ie)}),m.fn.extend({css:function(e,t){return P(this,function(e,t,n){var i,r,o={},a=0;if(m.isArray(t)){for(i=Le(e),r=t.length;a<r;a++)o[t[a]]=m.css(e,t[a],!1,i);return o}return void 0!==n?m.style(e,t,n):m.css(e,t)},e,t,arguments.length>1)},show:function(){return We(this,!0)},hide:function(){return We(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){q(this)?m(this).show():m(this).hide()})}}),m.Tween=ze,ze.prototype={constructor:ze,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||m.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(m.cssNumber[n]?"":"px")},cur:function(){var e=ze.propHooks[this.prop];return e&&e.get?e.get(this):ze.propHooks._default.get(this)},run:function(e){var t,n=ze.propHooks[this.prop];return this.options.duration?this.pos=t=m.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ze.propHooks._default.set(this),this}},ze.prototype.init.prototype=ze.prototype,ze.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=m.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){m.fx.step[e.prop]?m.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[m.cssProps[e.prop]]&&!m.cssHooks[e.prop]?e.elem[e.prop]=e.now:m.style(e.elem,e.prop,e.now+e.unit)}}},ze.propHooks.scrollTop=ze.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},m.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},m.fx=ze.prototype.init,m.fx.step={};var Be,Ve,Ue=/^(?:toggle|show|hide)$/,qe=/queueHooks$/;function Ge(){return n.setTimeout(function(){Be=void 0}),Be=m.now()}function Je(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=U[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function Ke(e,t,n){for(var i,r=(Xe.tweeners[t]||[]).concat(Xe.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function Xe(e,t,n){var i,r,o=0,a=Xe.prefilters.length,s=m.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Be||Ge(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(i);return s.notifyWith(e,[c,i,n]),i<1&&a?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:m.extend({},t),opts:m.extend(!0,{specialEasing:{},easing:m.easing._default},n),originalProperties:t,originalOptions:n,startTime:Be||Ge(),duration:n.duration,tweens:[],createTween:function(t,n){var i=m.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=m.camelCase(n)],o=e[n],m.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=m.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(u,c.opts.specialEasing);o<a;o++)if(i=Xe.prefilters[o].call(c,e,u,c.opts))return m.isFunction(i.stop)&&(m._queueHooks(c.elem,c.opts.queue).stop=m.proxy(i.stop,i)),i;return m.map(u,Ke,c),m.isFunction(c.opts.start)&&c.opts.start.call(e,c),m.fx.timer(m.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}m.Animation=m.extend(Xe,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return G(n.elem,e,V.exec(t),n),n}]},tweener:function(e,t){m.isFunction(e)?(t=e,e=["*"]):e=e.match(R);for(var n,i=0,r=e.length;i<r;i++)n=e[i],Xe.tweeners[n]=Xe.tweeners[n]||[],Xe.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,a,s,l,c,u=this,d={},h=e.style,f=e.nodeType&&q(e),p=I.get(e,"fxshow");for(i in n.queue||(null==(s=m._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,m.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=m.css(e,"display"))?I.get(e,"olddisplay")||Ce(e.nodeName):c)&&"none"===m.css(e,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",u.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),t)if(r=t[i],Ue.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!p||void 0===p[i])continue;f=!0}d[i]=p&&p[i]||m.style(e,i)}else c=void 0;if(m.isEmptyObject(d))"inline"===("none"===c?Ce(e.nodeName):c)&&(h.display=c);else for(i in p?"hidden"in p&&(f=p.hidden):p=I.access(e,"fxshow",{}),o&&(p.hidden=!f),f?m(e).show():u.done(function(){m(e).hide()}),u.done(function(){var t;for(t in I.remove(e,"fxshow"),d)m.style(e,t,d[t])}),d)a=Ke(f?p[i]:0,i,u),i in p||(p[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}],prefilter:function(e,t){t?Xe.prefilters.unshift(e):Xe.prefilters.push(e)}}),m.speed=function(e,t,n){var i=e&&"object"==typeof e?m.extend({},e):{complete:n||!n&&t||m.isFunction(e)&&e,duration:e,easing:n&&t||t&&!m.isFunction(t)&&t};return i.duration=m.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in m.fx.speeds?m.fx.speeds[i.duration]:m.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){m.isFunction(i.old)&&i.old.call(this),i.queue&&m.dequeue(this,i.queue)},i},m.fn.extend({fadeTo:function(e,t,n,i){return this.filter(q).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=m.isEmptyObject(e),o=m.speed(t,n,i),a=function(){var t=Xe(this,m.extend({},e),o);(r||I.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=m.timers,a=I.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&qe.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||m.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=I.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=m.timers,a=i?i.length:0;for(n.finish=!0,m.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),m.each(["toggle","show","hide"],function(e,t){var n=m.fn[t];m.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Je(t,!0),e,i,r)}}),m.each({slideDown:Je("show"),slideUp:Je("hide"),slideToggle:Je("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){m.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),m.timers=[],m.fx.tick=function(){var e,t=0,n=m.timers;for(Be=m.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||m.fx.stop(),Be=void 0},m.fx.timer=function(e){m.timers.push(e),e()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){Ve||(Ve=n.setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){n.clearInterval(Ve),Ve=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(e,t){return e=m.fx&&m.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,i){var r=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(r)}})},function(){var e=a.createElement("input"),t=a.createElement("select"),n=t.appendChild(a.createElement("option"));e.type="checkbox",p.checkOn=""!==e.value,p.optSelected=n.selected,t.disabled=!0,p.optDisabled=!n.disabled,(e=a.createElement("input")).value="t",e.type="radio",p.radioValue="t"===e.value}();var Qe,Ze=m.expr.attrHandle;m.fn.extend({attr:function(e,t){return P(this,m.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){m.removeAttr(this,e)})}}),m.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?m.prop(e,t,n):(1===o&&m.isXMLDoc(e)||(t=t.toLowerCase(),r=m.attrHooks[t]||(m.expr.match.bool.test(t)?Qe:void 0)),void 0!==n?null===n?void m.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=m.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&m.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(R);if(o&&1===e.nodeType)for(;n=o[r++];)i=m.propFix[n]||n,m.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)}}),Qe={set:function(e,t,n){return!1===t?m.removeAttr(e,n):e.setAttribute(n,n),n}},m.each(m.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ze[t]||m.find.attr;Ze[t]=function(e,t,i){var r,o;return i||(o=Ze[t],Ze[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,Ze[t]=o),r}});var et=/^(?:input|select|textarea|button)$/i,tt=/^(?:a|area)$/i;m.fn.extend({prop:function(e,t){return P(this,m.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[m.propFix[e]||e]})}}),m.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&m.isXMLDoc(e)||(t=m.propFix[t]||t,r=m.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=m.find.attr(e,"tabindex");return t?parseInt(t,10):et.test(e.nodeName)||tt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(m.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this});var nt=/[\t\r\n\f]/g;function it(e){return e.getAttribute&&e.getAttribute("class")||""}m.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,l=0;if(m.isFunction(e))return this.each(function(t){m(this).addClass(e.call(this,t,it(this)))});if("string"==typeof e&&e)for(t=e.match(R)||[];n=this[l++];)if(r=it(n),i=1===n.nodeType&&(" "+r+" ").replace(nt," ")){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=m.trim(i))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,l=0;if(m.isFunction(e))return this.each(function(t){m(this).removeClass(e.call(this,t,it(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(R)||[];n=this[l++];)if(r=it(n),i=1===n.nodeType&&(" "+r+" ").replace(nt," ")){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(s=m.trim(i))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):m.isFunction(e)?this.each(function(n){m(this).toggleClass(e.call(this,n,it(this),t),t)}):this.each(function(){var t,i,r,o;if("string"===n)for(i=0,r=m(this),o=e.match(R)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||((t=it(this))&&I.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":I.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+it(n)+" ").replace(nt," ").indexOf(t)>-1)return!0;return!1}});var rt=/\r/g,ot=/[\x20\t\r\n\f]+/g;m.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=m.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,m(this).val()):e)?r="":"number"==typeof r?r+="":m.isArray(r)&&(r=m.map(r,function(e){return null==e?"":e+""})),(t=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=m.valHooks[r.type]||m.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(rt,""):null==n?"":n:void 0}}),m.extend({valHooks:{option:{get:function(e){var t=m.find.attr(e,"value");return null!=t?t:m.trim(m.text(e)).replace(ot," ")}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,a=o?null:[],s=o?r+1:i.length,l=r<0?s:o?r:0;l<s;l++)if(((n=i[l]).selected||l===r)&&(p.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!m.nodeName(n.parentNode,"optgroup"))){if(t=m(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=m.makeArray(t),a=r.length;a--;)((i=r[a]).selected=m.inArray(m.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(e,t){if(m.isArray(t))return e.checked=m.inArray(m(e).val(),t)>-1}},p.checkOn||(m.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var at=/^(?:focusinfocus|focusoutblur)$/;m.extend(m.event,{trigger:function(e,t,i,r){var o,s,l,c,u,d,h,p=[i||a],g=f.call(e,"type")?e.type:e,_=f.call(e,"namespace")?e.namespace.split("."):[];if(s=l=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!at.test(g+m.event.triggered)&&(g.indexOf(".")>-1&&(g=(_=g.split(".")).shift(),_.sort()),u=g.indexOf(":")<0&&"on"+g,(e=e[m.expando]?e:new m.Event(g,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=_.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:m.makeArray(t,[e]),h=m.event.special[g]||{},r||!h.trigger||!1!==h.trigger.apply(i,t))){if(!r&&!h.noBubble&&!m.isWindow(i)){for(c=h.delegateType||g,at.test(c+g)||(s=s.parentNode);s;s=s.parentNode)p.push(s),l=s;l===(i.ownerDocument||a)&&p.push(l.defaultView||l.parentWindow||n)}for(o=0;(s=p[o++])&&!e.isPropagationStopped();)e.type=o>1?c:h.bindType||g,(d=(I.get(s,"events")||{})[e.type]&&I.get(s,"handle"))&&d.apply(s,t),(d=u&&s[u])&&d.apply&&N(s)&&(e.result=d.apply(s,t),!1===e.result&&e.preventDefault());return e.type=g,r||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),t)||!N(i)||u&&m.isFunction(i[g])&&!m.isWindow(i)&&((l=i[u])&&(i[u]=null),m.event.triggered=g,i[g](),m.event.triggered=void 0,l&&(i[u]=l)),e.result}},simulate:function(e,t,n){var i=m.extend(new m.Event,n,{type:e,isSimulated:!0});m.event.trigger(i,null,t)}}),m.fn.extend({trigger:function(e,t){return this.each(function(){m.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return m.event.trigger(e,t,n,!0)}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){m.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),m.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),p.focusin="onfocusin"in n,p.focusin||m.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){m.event.simulate(t,e.target,m.event.fix(e))};m.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=I.access(i,t);r||i.addEventListener(e,n,!0),I.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=I.access(i,t)-1;r?I.access(i,t,r):(i.removeEventListener(e,n,!0),I.remove(i,t))}}});var st=n.location,lt=m.now(),ct=/\?/;m.parseJSON=function(e){return JSON.parse(e+"")},m.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+e),t};var ut=/#.*$/,dt=/([?&])_=[^&]*/,ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,ft=/^(?:GET|HEAD)$/,pt=/^\/\//,mt={},gt={},_t="*/".concat("*"),vt=a.createElement("a");function yt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(R)||[];if(m.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function bt(e,t,n,i){var r={},o=e===gt;function a(s){var l;return r[s]=!0,m.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),l}return a(t.dataTypes[0])||!r["*"]&&a("*")}function wt(e,t){var n,i,r=m.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&m.extend(!0,e,i),e}vt.href=st.href,m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:st.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(st.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?wt(wt(e,m.ajaxSettings),t):wt(m.ajaxSettings,e)},ajaxPrefilter:yt(mt),ajaxTransport:yt(gt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,s,l,c,u,d,h=m.ajaxSetup({},t),f=h.context||h,p=h.context&&(f.nodeType||f.jquery)?m(f):m.event,g=m.Deferred(),_=m.Callbacks("once memory"),v=h.statusCode||{},y={},b={},w=0,k="canceled",M={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!s)for(s={};t=ht.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return w||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)v[t]=[v[t],e[t]];else M.always(e[M.status]);return this},abort:function(e){var t=e||k;return i&&i.abort(t),x(0,t),this}};if(g.promise(M).complete=_.add,M.success=M.done,M.error=M.fail,h.url=((e||h.url||st.href)+"").replace(ut,"").replace(pt,st.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=m.trim(h.dataType||"*").toLowerCase().match(R)||[""],null==h.crossDomain){c=a.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=vt.protocol+"//"+vt.host!=c.protocol+"//"+c.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=m.param(h.data,h.traditional)),bt(mt,h,t,M),2===w)return M;for(d in(u=m.event&&h.global)&&0==m.active++&&m.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!ft.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(ct.test(r)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=dt.test(r)?r.replace(dt,"$1_="+lt++):r+(ct.test(r)?"&":"?")+"_="+lt++)),h.ifModified&&(m.lastModified[r]&&M.setRequestHeader("If-Modified-Since",m.lastModified[r]),m.etag[r]&&M.setRequestHeader("If-None-Match",m.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&M.setRequestHeader("Content-Type",h.contentType),M.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+_t+"; q=0.01":""):h.accepts["*"]),h.headers)M.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(!1===h.beforeSend.call(f,M,h)||2===w))return M.abort();for(d in k="abort",{success:1,error:1,complete:1})M[d](h[d]);if(i=bt(gt,h,t,M)){if(M.readyState=1,u&&p.trigger("ajaxSend",[M,h]),2===w)return M;h.async&&h.timeout>0&&(l=n.setTimeout(function(){M.abort("timeout")},h.timeout));try{w=1,i.send(y,x)}catch(e){if(!(w<2))throw e;x(-1,e)}}else x(-1,"No Transport");function x(e,t,a,s){var c,d,y,b,k,x=t;2!==w&&(w=2,l&&n.clearTimeout(l),i=void 0,o=s||"",M.readyState=e>0?4:0,c=e>=200&&e<300||304===e,a&&(b=function(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(h,M,a)),b=function(e,t,n,i){var r,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(r in c)if((s=r.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(h,b,M,c),c?(h.ifModified&&((k=M.getResponseHeader("Last-Modified"))&&(m.lastModified[r]=k),(k=M.getResponseHeader("etag"))&&(m.etag[r]=k)),204===e||"HEAD"===h.type?x="nocontent":304===e?x="notmodified":(x=b.state,d=b.data,c=!(y=b.error))):(y=x,!e&&x||(x="error",e<0&&(e=0))),M.status=e,M.statusText=(t||x)+"",c?g.resolveWith(f,[d,x,M]):g.rejectWith(f,[M,x,y]),M.statusCode(v),v=void 0,u&&p.trigger(c?"ajaxSuccess":"ajaxError",[M,h,c?d:y]),_.fireWith(f,[M,x]),u&&(p.trigger("ajaxComplete",[M,h]),--m.active||m.event.trigger("ajaxStop")))}return M},getJSON:function(e,t,n){return m.get(e,t,n,"json")},getScript:function(e,t){return m.get(e,void 0,t,"script")}}),m.each(["get","post"],function(e,t){m[t]=function(e,n,i,r){return m.isFunction(n)&&(r=r||i,i=n,n=void 0),m.ajax(m.extend({url:e,type:t,dataType:r,data:n,success:i},m.isPlainObject(e)&&e))}}),m._evalUrl=function(e){return m.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},m.fn.extend({wrapAll:function(e){var t;return m.isFunction(e)?this.each(function(t){m(this).wrapAll(e.call(this,t))}):(this[0]&&(t=m(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return m.isFunction(e)?this.each(function(t){m(this).wrapInner(e.call(this,t))}):this.each(function(){var t=m(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=m.isFunction(e);return this.each(function(n){m(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(e){return!m.expr.filters.visible(e)},m.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var kt=/%20/g,Mt=/\[\]$/,xt=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;function Tt(e,t,n,i){var r;if(m.isArray(t))m.each(t,function(t,r){n||Mt.test(e)?i(e,r):Tt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==m.type(t))i(e,t);else for(r in t)Tt(e+"["+r+"]",t[r],n,i)}m.param=function(e,t){var n,i=[],r=function(e,t){t=m.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(e)||e.jquery&&!m.isPlainObject(e))m.each(e,function(){r(this.name,this.value)});else for(n in e)Tt(n,e[n],t,r);return i.join("&").replace(kt,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=m.prop(this,"elements");return e?m.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!m(this).is(":disabled")&&St.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!J.test(e))}).map(function(e,t){var n=m(this).val();return null==n?null:m.isArray(n)?m.map(n,function(e){return{name:t.name,value:e.replace(xt,"\r\n")}}):{name:t.name,value:n.replace(xt,"\r\n")}}).get()}}),m.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Lt={0:200,1223:204},Et=m.ajaxSettings.xhr();p.cors=!!Et&&"withCredentials"in Et,p.ajax=Et=!!Et,m.ajaxTransport(function(e){var t,i;if(p.cors||Et&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);t=function(e){return function(){t&&(t=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Lt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),i=s.onerror=t("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){t&&i()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return m.globalEval(e),e}}}),m.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),m.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(i,r){t=m("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),a.head.appendChild(t[0])},abort:function(){n&&n()}}});var Dt=[],Ot=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Dt.pop()||m.expando+"_"+lt++;return this[e]=!0,e}}),m.ajaxPrefilter("json jsonp",function(e,t,i){var r,o,a,s=!1!==e.jsonp&&(Ot.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ot.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ot,"$1"+r):!1!==e.jsonp&&(e.url+=(ct.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||m.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=n[r],n[r]=function(){a=arguments},i.always(function(){void 0===o?m(n).removeProp(r):n[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,Dt.push(r)),a&&m.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),m.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||a;var i=C.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=ne([e],t,r),r&&r.length&&m(r).remove(),m.merge([],i.childNodes))};var At=m.fn.load;function Yt(e){return m.isWindow(e)?e:9===e.nodeType&&e.defaultView}m.fn.load=function(e,t,n){if("string"!=typeof e&&At)return At.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=m.trim(e.slice(s)),e=e.slice(0,s)),m.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&m.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?m("<div>").append(m.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){m.fn[t]=function(e){return this.on(t,e)}}),m.expr.filters.animated=function(e){return m.grep(m.timers,function(t){return e===t.elem}).length},m.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,c=m.css(e,"position"),u=m(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),o=m.css(e,"top"),l=m.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(a=(i=u.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),m.isFunction(t)&&(t=t.call(e,n,m.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):u.css(d)}},m.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){m.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(t=o.documentElement,m.contains(t,i)?(r=i.getBoundingClientRect(),n=Yt(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===m.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),m.nodeName(e[0],"html")||(i=e.offset()),i.top+=m.css(e[0],"borderTopWidth",!0),i.left+=m.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-m.css(n,"marginTop",!0),left:t.left-i.left-m.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===m.css(e,"position");)e=e.offsetParent;return e||De})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;m.fn[e]=function(i){return P(this,function(e,i,r){var o=Yt(e);if(void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r},e,i,arguments.length)}}),m.each(["top","left"],function(e,t){m.cssHooks[t]=Ae(p.pixelPosition,function(e,n){if(n)return n=Oe(e,t),Te.test(n)?m(e).position()[t]+"px":n})}),m.each({Height:"height",Width:"width"},function(e,t){m.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){m.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===r?"margin":"border");return P(this,function(t,n,i){var r;return m.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?m.css(t,n,a):m.style(t,n,i,a)},t,o?i:void 0,o,null)}})}),m.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),m.fn.andSelf=m.fn.addBack,void 0===(i=function(){return m}.apply(t,[]))||(e.exports=i);var Rt=n.jQuery,jt=n.$;return m.noConflict=function(e){return n.$===m&&(n.$=jt),e&&n.jQuery===m&&(n.jQuery=Rt),m},r||(n.jQuery=n.$=m),m})},function(e,t,n){"use strict";(function(e,i,r){var o=n(5),a=n(27),s=n(73),l=n(1),c=n.n(l),u={defaultName:e.template("Copy of '<%- name %>'"),title:e.template("".concat(c()("Copying history"),' "<%- name %>"')),submitLabel:c()("Copy"),errorMessage:c()("History could not be copied."),progressive:c()("Copying history"),activeLabel:c()("Copy only the active, non-deleted datasets"),allLabel:c()("Copy all datasets including deleted ones"),anonWarning:c()("As an anonymous user, unless you login or register, you will lose your current history ")+c()("after copying this history. "),_template:e.template(["<% if( isAnon ){ %>",'<div class="warningmessage">',"<%- anonWarning %>",c()("You can"),' <a href="/user/login">',c()("login here"),"</a> ",c()("or")," ",' <a href="/user/create">',c()("register here"),"</a>.","</div>","<% } %>","<form>",'<label for="copy-modal-title">',c()("Enter a title for the new history"),":","</label><br />",'<input id="copy-modal-title" class="form-control" style="width: 100%" value="<%= name %>" />','<p class="invalid-title bg-danger" style="color: red; margin: 8px 0px 8px 0px; display: none">',c()("Please enter a valid history title"),"</p>","<% if( allowAll ){ %>","<br />","<p>",c()("Choose which datasets from the original history to include:"),"</p>",'<input name="copy-what" type="radio" id="copy-non-deleted" value="copy-non-deleted" ','<% if( copyWhat === "copy-non-deleted" ){ print( "checked" ); } %>/>','<label for="copy-non-deleted"> <%- activeLabel %></label>',"<br />",'<input name="copy-what" type="radio" id="copy-all" value="copy-all" ','<% if( copyWhat === "copy-all" ){ print( "checked" ); } %>/>','<label for="copy-all"> <%- allLabel %></label>',"<% } %>","</form>"].join("")),_showAjaxIndicator:function(){var e='<p><span class="fa fa-spinner fa-spin"></span> '.concat(this.progressive,"...</p>");this.modal.$(".modal-body").empty().append(e).css({"margin-top":"8px"})},dialog:function(t,n,a){a=a||{};var l=this,u=i.Deferred(),d=(a.nameFn||this.defaultName)({name:n.get("name")}),h=a.allDatasets?"copy-all":"copy-non-deleted",f=!!e.isUndefined(a.allowAll)||a.allowAll,p=!!e.isUndefined(a.autoClose)||a.autoClose;function m(){var e=t.$("#copy-modal-title").val();if(e){var i="copy-all"===t.$('input[name="copy-what"]:checked').val();t.$("button").prop("disabled",!0),l._showAjaxIndicator(),n.copy(!0,e,i).done(function(e){u.resolve(e)}).fail(function(t,r,o){var a={name:e,copyAllDatasets:i};s.a.ajaxErrorModal(n,t,a,l.errorMessage),u.rejectWith(u,arguments)}).done(function(){p&&t.hide()})}else t.$(".invalid-title").show()}this.modal=t;var g=a.closing_callback,_=Object(o.getGalaxyInstance)();return t.show(e.extend(a,{title:this.title({name:n.get("name")}),body:r(l._template({name:d,isAnon:_.user.isAnonymous(),allowAll:f,copyWhat:h,activeLabel:this.activeLabel,allLabel:this.allLabel,anonWarning:this.anonWarning})),buttons:e.object([[c()("Cancel"),function(){t.hide()}],[this.submitLabel,m]]),height:"auto",closing_events:!0,closing_callback:function(e){e&&u.reject({cancelled:!0}),g&&g(e)}})),t.$("#copy-modal-title").focus().select(),t.$("#copy-modal-title").on("keydown",function(e){13===e.keyCode&&(e.preventDefault(),m())}),u}},d=e.extend({},u,{defaultName:e.template("imported: <%- name %>"),title:e.template("".concat(c()("Importing history"),' "<%- name %>"')),submitLabel:c()("Import"),errorMessage:c()("History could not be imported."),progressive:c()("Importing history"),activeLabel:c()("Import only the active, non-deleted datasets"),allLabel:c()("Import all datasets including deleted ones"),anonWarning:c()("As an anonymous user, unless you login or register, you will lose your current history ")+c()("after importing this history. ")});t.a=function(e,t){var n=Object(o.getGalaxyInstance)();t=t||{};var i=n.modal||new a.a.View({});return t.useImport?d.dialog(i,e,t):u.dialog(i,e,t)}}).call(this,n(2),n(0),n(0))},function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return h});var i=n(0),r=n.n(i),o=n(3),a=n.n(o),s=n(2),l=n.n(s),c=n(8),u=a.a.View.extend(c.a.LoggableMixin).extend({_logNamespace:"list",initialize:function(e){this.expanded=e.expanded||!1,this.log("\t expanded:",this.expanded),this.fxSpeed=void 0!==e.fxSpeed?e.fxSpeed:this.fxSpeed},fxSpeed:"fast",render:function(e){var t=this._buildNewRender();return this._setUpBehaviors(t),this._queueNewRender(t,e),this},_buildNewRender:function(){var e=r()(this.templates.el(this.model.toJSON(),this));return this.expanded&&this.$details(e).replaceWith(this._renderDetails().show()),e},_queueNewRender:function(e,t){var n=this;0===(t=void 0===t?this.fxSpeed:t)?(n._swapNewRender(e),n.trigger("rendered",n)):r()(n).queue("fx",[function(e){n.$el.fadeOut(t,e)},function(t){n._swapNewRender(e),t()},function(e){n.$el.fadeIn(t,e)},function(e){n.trigger("rendered",n),e()}])},_swapNewRender:function(e){return this.$el.empty().attr("class",l.a.isFunction(this.className)?this.className():this.className).append(e.children())},_setUpBehaviors:function(e){(e=e||this.$el).find("[title]").tooltip({placement:"bottom"})},$details:function(e){return(e=e||this.$el).find("> .details")},_renderDetails:function(){var e=r()(this.templates.details(this.model.toJSON(),this));return this._setUpBehaviors(e),e},toggleExpanded:function(e){return(e=void 0===e?!this.expanded:e)?this.expand():this.collapse(),this},expand:function(){var e=this;return e._fetchModelDetails().always(function(){e._expand()})},_fetchModelDetails:function(){return this.model.hasDetails()?r.a.when():this.model.fetch()},_expand:function(){var e=this,t=e._renderDetails();e.$details().replaceWith(t),e.expanded=!0,e.$details().slideDown(e.fxSpeed,function(){e.trigger("expanded",e)})},collapse:function(){this.debug("".concat(this,"(ExpandableView).collapse"));var e=this;e.expanded=!1,this.$details().slideUp(e.fxSpeed,function(){e.trigger("collapsed",e)})}}),d=u.extend(c.a.mixin(c.a.SelectableViewMixin,c.a.DraggableViewMixin,{tagName:"div",className:"list-item",initialize:function(e){u.prototype.initialize.call(this,e),c.a.SelectableViewMixin.initialize.call(this,e),c.a.DraggableViewMixin.initialize.call(this,e),this._setUpListeners()},_setUpListeners:function(){return this.on("selectable",function(e){e?this.$(".primary-actions").hide():this.$(".primary-actions").show()},this),this},_buildNewRender:function(){var e=u.prototype._buildNewRender.call(this);return e.children(".warnings").replaceWith(this._renderWarnings()),e.children(".title-bar").replaceWith(this._renderTitleBar()),e.children(".primary-actions").append(this._renderPrimaryActions()),e.find("> .title-bar .subtitle").replaceWith(this._renderSubtitle()),e},_swapNewRender:function(e){return u.prototype._swapNewRender.call(this,e),this.selectable&&this.showSelector(0),this.draggable&&this.draggableOn(),this.$el},_renderWarnings:function(){var e=this,t=r()('<div class="warnings"></div>'),n=e.model.toJSON();return l.a.each(e.templates.warnings,function(i){t.append(r()(i(n,e)))}),t},_renderTitleBar:function(){return r()(this.templates.titleBar(this.model.toJSON(),this))},_renderPrimaryActions:function(){return[]},_renderSubtitle:function(){return r()(this.templates.subtitle(this.model.toJSON(),this))},events:{"click .title-bar":"_clickTitleBar","keydown .title-bar":"_keyDownTitleBar","click .selector":"toggleSelect"},_clickTitleBar:function(e){e.stopPropagation(),e.altKey?(this.toggleSelect(e),this.selectable||this.showSelector()):this.toggleExpanded()},_keyDownTitleBar:function(e){return!e||"keydown"!==e.type||32!==e.keyCode&&13!==e.keyCode||(this.toggleExpanded(),e.stopPropagation(),!1)},toString:function(){var e=this.model?"".concat(this.model):"(no model)";return"ListItemView(".concat(e,")")}}));d.prototype.templates={el:c.a.wrapTemplate(['<div class="list-element">','<div class="warnings"></div>','<div class="selector">','<span class="fa fa-2x fa-square-o"></span>',"</div>",'<div class="primary-actions"></div>','<div class="title-bar"></div>','<div class="details"></div>',"</div>"]),warnings:{},titleBar:c.a.wrapTemplate(['<div class="title-bar clear" tabindex="0">','<span class="state-icon"></span>','<div class="title">','<span class="name"><%- element.name %></span>',"</div>",'<div class="subtitle"></div>',"</div>"],"element"),subtitle:c.a.wrapTemplate(['<div class="subtitle"></div>']),details:c.a.wrapTemplate(['<div class="details"></div>'])};var h=d.extend({foldoutStyle:"foldout",foldoutPanelClass:null,initialize:function(e){"drilldown"===this.foldoutStyle&&(this.expanded=!1),this.foldoutStyle=e.foldoutStyle||this.foldoutStyle,this.foldoutPanelClass=e.foldoutPanelClass||this.foldoutPanelClass,d.prototype.initialize.call(this,e),this.foldout=this._createFoldoutPanel()},_renderDetails:function(){if("drilldown"===this.foldoutStyle)return r()();var e=d.prototype._renderDetails.call(this);return this._attachFoldout(this.foldout,e)},_createFoldoutPanel:function(){var e=this.model,t=this._getFoldoutPanelClass(e),n=this._getFoldoutPanelOptions(e);return new t(l.a.extend(n,{model:e}))},_getFoldoutPanelClass:function(){return this.foldoutPanelClass},_getFoldoutPanelOptions:function(){return{foldoutStyle:this.foldoutStyle,fxSpeed:this.fxSpeed}},_attachFoldout:function(e,t){return t=t||this.$("> .details"),this.foldout=e.render(0),e.$("> .controls").hide(),t.append(e.$el)},expand:function(){var e=this;return e._fetchModelDetails().always(function(){"foldout"===e.foldoutStyle?e._expand():"drilldown"===e.foldoutStyle&&e._expandByDrilldown()})},_expandByDrilldown:function(){var e=this;e.listenTo(e.foldout,"close",function(){e.trigger("collapsed:drilldown",e,e.foldout)}),e.trigger("expanded:drilldown",e,e.foldout)}});h.prototype.templates=function(){var e=c.a.wrapTemplate(['<div class="details">',"</div>"],"collection");return l.a.extend({},d.prototype.templates,{details:e})}(),t.c={ExpandableView:u,ListItemView:d,FoldoutListItemView:h}},function(e,t,n){"use strict";(function(e,n,i){var r=e.Model.extend({defaults:{title:"",icon_class:"",on_click:null,menu_options:null,is_menu_button:!0,id:null,href:null,target:null,enabled:!0,visible:!0,tooltip_config:{}}}),o=e.View.extend({initialize:function(){this.model.attributes.tooltip_config={placement:"bottom"},this.model.bind("change",this.render,this)},render:function(){this.$el.tooltip("hide");var e=this.template(this.model.toJSON());return e.tooltip(this.model.get("tooltip_config")),this.$el.replaceWith(e),this.setElement(e),this},events:{click:"click"},click:function(e){return!n.isFunction(this.model.get("on_click"))||(this.model.get("on_click")(e),!1)},template:function(e){var t='title="'.concat(e.title,'" class="icon-button');return e.is_menu_button&&(t+=" menu-button"),t+=" ".concat(e.icon_class),e.enabled||(t+="_disabled"),t+='"',e.id&&(t+=' id="'.concat(e.id,'"')),t+=' href="'.concat(e.href,'"'),e.target&&(t+=' target="'.concat(e.target,'"')),e.visible||(t+=' style="display: none;"'),t=e.enabled?"<a ".concat(t,"/>"):"<span ".concat(t,"/>"),i(t)}}),a=e.Collection.extend({model:r}),s=e.View.extend({tagName:"div",initialize:function(){this.render()},render:function(){var e=this;return this.collection.each(function(t){var n=i("<a/>").attr("href","javascript:void(0)").attr("title",t.attributes.title).addClass("icon-button menu-button").addClass(t.attributes.icon_class).appendTo(e.$el).click(t.attributes.on_click);t.attributes.tooltip_config&&n.tooltip(t.attributes.tooltip_config);var r=t.get("options");r&&make_popupmenu(n,r)}),this}});t.a={IconButton:r,IconButtonView:o,IconButtonCollection:a,IconButtonMenuView:s,create_icon_buttons_menu:function(e,t){t||(t={});var i=new a(n.map(e,function(e){return new r(n.extend(e,t))}));return new s({collection:i})}}}).call(this,n(3),n(2),n(0))},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(4),l=n(5),c=n(1),u=n.n(c),d=n(457),h=n(31),f=n(67),p=n(402),m=n(403),g=n(73),_=n(41),v=n(8),y=n(370),b=n(47),w=(n(505),a.a);function k(e,t){return this.currModeIndex=0,this._init(e,t)}k.prototype.DATA_KEY="mode-button",k.prototype.defaults={switchModesOnClick:!0},k.prototype._init=function(e,t){if(t=t||{},this.$element=w(e),this.options=w.extend(!0,{},this.defaults,t),!t.modes)throw new Error('ModeButton requires a "modes" array');var n=this;return this.$element.click(function(e){n.callModeFn(),n.options.switchModesOnClick&&n._incModeIndex(),w(this).html(n.options.modes[n.currModeIndex].html)}),this.reset()},k.prototype._incModeIndex=function(){return this.currModeIndex+=1,this.currModeIndex>=this.options.modes.length&&(this.currModeIndex=0),this},k.prototype._getModeIndex=function(e){for(var t=0;t<this.options.modes.length;t+=1)if(this.options.modes[t].mode===e)return t;throw new Error("mode not found: ".concat(e))},k.prototype._setModeByIndex=function(e){var t=this.options.modes[e];if(!t)throw new Error("mode index not found: ".concat(e));return this.currModeIndex=e,t.html&&this.$element.html(t.html),this},k.prototype.currentMode=function(){return this.options.modes[this.currModeIndex]},k.prototype.current=function(){return this.currentMode().mode},k.prototype.getMode=function(e){return e?this.options.modes[this._getModeIndex(e)]:this.currentMode()},k.prototype.hasMode=function(e){try{return!!this.getMode(e)}catch(e){}return!1},k.prototype.setMode=function(e){return this._setModeByIndex(this._getModeIndex(e))},k.prototype.reset=function(){return this.currModeIndex=0,this.options.initialMode&&(this.currModeIndex=this._getModeIndex(this.options.initialMode)),this._setModeByIndex(this.currModeIndex)},k.prototype.callModeFn=function(e){var t=this.getMode(e).onclick;if(t&&w.type("function"===t))return t.call(this.$element.get(0))},w.fn.modeButton=function(e){if(!this.length)return this;if("object"===w.type(e))return this.map(function(){var t=w(this);return t.data("mode-button",new k(t,e)),this});var t=w(this[0]).data("mode-button");if(!t)throw new Error("modeButton needs an options object or string name of a function");if(t&&"string"===w.type(e)){var n=e;if(t&&"function"===w.type(t[n]))return t[n].apply(t,w.makeArray(arguments).slice(1))}return t},n.d(t,"b",function(){return C});var M=d.a.ModelListPanel,x=M.extend({_logNamespace:"history",HDAViewClass:p.a.HDAListItemView,HDCAViewClass:m.a.HDCAListItemView,collectionClass:f.a,modelCollectionKey:"contents",tagName:"div",className:"".concat(M.prototype.className," history-panel"),emptyMsg:u()("This history is empty"),noneFoundMsg:u()("No matching datasets found"),searchPlaceholder:u()("search datasets"),initialize:function(e){M.prototype.initialize.call(this,e),this.linkTarget=e.linkTarget||"_blank"},_createDefaultCollection:function(){return new this.collectionClass([],{history:this.model})},freeModel:function(){return M.prototype.freeModel.call(this),this.model&&this.model.stopPolling(),this},_setUpListeners:function(){M.prototype._setUpListeners.call(this),this.on({error:function(e,t,n,i,r){this.errorHandler(e,t,n,i,r)},"views:ready view:attached view:removed":function(e){this._renderSelectButton()},"view:attached":function(e){this.scrollTo(0)}})},loadHistory:function(e,t,n){var i=this;return n=r.a.extend(n||{silent:!0}),this.info("loadHistory:",e,t,n),this.setModel(new h.a({id:e})),n.silent=!0,this.trigger("loading"),this.model.fetchWithContents(t,n).always(function(){i.render(),i.trigger("loading-done")})},refreshContents:function(e){return this.model?this.model.refresh(e):a.a.when()},_setUpCollectionListeners:function(){return M.prototype._setUpCollectionListeners.call(this),this.listenTo(this.collection,{"fetching-more":function(){this._toggleContentsLoadingIndicator(!0),this.$emptyMessage().hide()},"fetching-more-done":function(){this._toggleContentsLoadingIndicator(!1)}})},_showLoadingIndicator:function(e,t,n){var i=a()('<div class="loading-indicator"/>');this.$el.html(i.text(e).slideDown(r.a.isUndefined(t)?this.fxSpeed:t))},_hideLoadingIndicator:function(e){this.$(".loading-indicator").slideUp(r.a.isUndefined(e)?this.fxSpeed+200:e,function(){a()(this).remove()})},_buildNewRender:function(){var e=M.prototype._buildNewRender.call(this);return this._renderSelectButton(e),e},_renderSelectButton:function(e){if(e=e||this.$el,!this.multiselectActions().length)return null;if(!this.views.length)return this.hideSelectors(),e.find(".controls .actions .show-selectors-btn").remove(),null;var t=e.find(".controls .actions .show-selectors-btn");return t.length?t:Object(_.a)({title:u()("Operations on multiple datasets"),classes:"show-selectors-btn",faIcon:"fa-check-square-o",tooltipConfig:{placement:"top"}}).prependTo(e.find(".controls .actions"))},_renderEmptyMessage:function(e){var t=this.$emptyMessage(e);return this.model.get("contents_active").active<=0?t.empty().append(this.emptyMsg).show():this.searchFor&&this.model.contents.haveSearchDetails()&&!this.views.length?t.empty().append(this.noneFoundMsg).show():(t.hide(),a()())},$scrollContainer:function(e){return this.$list(e)},_toggleContentsLoadingIndicator:function(e){e?this.$list().html('<div class="contents-loading-indicator"><span class="fa fa-2x fa-spinner fa-spin"/></div>'):this.$list().find(".contents-loading-indicator").remove()},renderItems:function(e){e=e||this.$el;var t=this.$list(e);a()(".tooltip").remove(),t.empty(),this.views=[];var n=this._filterCollection();return n.length?(this._renderPagination(e),this.views=this._renderSomeItems(n,t)):e.find("> .controls .list-pagination").empty(),this._renderEmptyMessage(e).toggle(!n.length),this.trigger("views:ready",this.views),this.views},_renderPagination:function(e){var t=e.find("> .controls .list-pagination");return this.searchFor||!this.model.contents.shouldPaginate()?t.empty():(t.html(this.templates.pagination({current:this.model.contents.currentPage+1,last:this.model.contents.getLastPage()+1},this)),t.find("select.pages").tooltip(),t)},_renderSomeItems:function(e,t){var n=this,i=[];return t.append(e.map(function(e){var t=n._createItemView(e);return i.push(t),n._renderItemView$el(t)})),i},_filterItem:function(e){var t=this.model.contents;return(t.includeHidden||!e.hidden())&&(t.includeDeleted||!e.isDeletedOrPurged())&&M.prototype._filterItem.call(this,e)},_getItemViewClass:function(e){var t=e.get("history_content_type");switch(t){case"dataset":return this.HDAViewClass;case"dataset_collection":return this.HDCAViewClass}throw new TypeError("Unknown history_content_type: ".concat(t))},_getItemViewOptions:function(e){var t=M.prototype._getItemViewOptions.call(this,e);return r.a.extend(t,{linkTarget:this.linkTarget,expanded:this.model.contents.storage.isExpanded(e.id),hasUser:this.model.ownedByCurrUser()})},_setUpItemViewListeners:function(e){var t=this;return M.prototype._setUpItemViewListeners.call(t,e),t.listenTo(e,{expanded:function(e){t.model.contents.storage.addExpanded(e.model)},collapsed:function(e){t.model.contents.storage.removeExpanded(e.model)}})},collapseAll:function(){this.model.contents.storage.clearExpanded(),M.prototype.collapseAll.call(this)},getSelectedModels:function(){var e=M.prototype.getSelectedModels.call(this);return e.historyId=this.collection.historyId,e},events:r.a.extend(r.a.clone(M.prototype.events),{"click .show-selectors-btn":"toggleSelectors","click > .controls .prev":"_clickPrevPage","click > .controls .next":"_clickNextPage","change > .controls .pages":"_changePageSelect","click .messages [class$=message]":"clearMessages"}),_clickPrevPage:function(e){this.model.stopPolling(),this.model.contents.fetchPrevPage()},_clickNextPage:function(e){this.model.stopPolling(),this.model.contents.fetchNextPage()},_changePageSelect:function(e){this.model.stopPolling();var t=a()(e.currentTarget).val();this.model.contents.fetchPage(t)},toggleShowDeleted:function(e,t){e=void 0!==e?e:!this.model.contents.includeDeleted;var n=this.model.contents;return n.setIncludeDeleted(e,t),this.trigger("show-deleted",e),n.fetchCurrentPage({renderAll:!0}),e},toggleShowHidden:function(e,t,n){e=void 0!==e?e:!this.model.contents.includeHidden;var i=this.model.contents;return i.setIncludeHidden(e,n),this.trigger("show-hidden",e),i.fetchCurrentPage({renderAll:!0}),e},_firstSearch:function(e){var t=this;this.log("onFirstSearch",e),this.model.contents.haveSearchDetails()?this.searchItems(e):(this.$("> .controls .search-input").searchInput("toggle-loading"),this.searchFor=e,this.model.contents.progressivelyFetchDetails({silent:!0}).progress(function(e,n,i){t.renderItems(),t.trigger("search:loading-progress",n,i)}).always(function(){t.$el.find("> .controls .search-input").searchInput("toggle-loading")}).done(function(){t.searchItems(e,"force")}))},clearSearch:function(e){var t=this;return this.searchFor?(this.searchFor="",this.trigger("search:clear",this),this.$("> .controls .search-query").val(""),this.model.contents.fetchCurrentPage({silent:!0}).done(function(){t.renderItems()}),this):this},errorHandler:function(e,t,n){if(!t||0!==t.status||0!==t.readyState){if(this.error(e,t,n),r.a.isString(e)&&r.a.isString(t)){var i=e,o=t;return g.a.errorModal(i,o,n)}return t&&502===t.status?g.a.badGatewayErrorModal():g.a.ajaxErrorModal(e,t,n)}},clearMessages:function(e){return(r.a.isUndefined(e)?this.$messages().children('[class$="message"]'):a()(e.currentTarget)).fadeOut(this.fxSpeed,function(){a()(this).remove()}),this},scrollToHid:function(e){return this.scrollToItem(r.a.first(this.viewsWhereModel({hid:e})))},ordinalIndicator:function(e){var t="".concat(e);switch(t.charAt(t.length-1)){case"1":return"".concat(t,"st");case"2":return"".concat(t,"nd");case"3":return"".concat(t,"rd");default:return"".concat(t,"th")}},toString:function(){return"HistoryView(".concat(this.model?this.model.get("name"):"",")")}});function C(e){a()("#toggle-deleted").modeButton({initialMode:e.initialModeDeleted,modes:[{mode:"showing_deleted",html:u()("Exclude deleted")},{mode:"not_showing_deleted",html:u()("Include deleted")}]}),a()("#toggle-hidden").modeButton({initialMode:e.initialModeHidden,modes:[{mode:"showing_hidden",html:u()("Exclude hidden")},{mode:"not_showing_hidden",html:u()("Include hidden")}]}),a()("#switch").click(function(){var e=Object(l.getGalaxyInstance)(),t=e.currHistoryPanel?e.currHistoryPanel:null;t?t.switchToHistory("${ history[ 'id' ] }"):window.location="${ switch_to_url }"}),e.hasMasthead&&a()("#center").addClass("flex-vertical-container");var t=e.userIsOwner?y.a.HistoryViewEdit:x.HistoryView,n=new h.a(e.historyJSON);a()("#import").click(function(){var e=Object(l.getGalaxyInstance)();Object(b.a)(n,{useImport:!0,allDatasets:"showing_deleted"===a()("#toggle-deleted").modeButton("getMode").mode}).done(function(){window===window.parent?window.location=Object(s.a)():e.currHistoryPanel&&e.currHistoryPanel.loadCurrentHistory()})});var i=new t({el:a()("#history-"+e.historyJSON.id),className:t.prototype.className+" wide",$scrollContainer:e.hasMasthead?function(){return this.$el.parent()}:void 0,model:n,show_deleted:e.showDeletedJson,show_hidden:e.showHiddenJson,purgeAllowed:e.allow_user_dataset_purge});i.trigger("loading"),n.fetchContents({silent:!0}).fail(function(){alert("Galaxy history failed to load")}).done(function(){i.trigger("loading-done"),i.render()}),a()("#toggle-deleted").on("click",function(){i.toggleShowDeleted()}),a()("#toggle-hidden").on("click",function(){i.toggleShowHidden()})}x.prototype.templates=function(){var e=v.a.wrapTemplate(['<div class="controls">','<div class="title">','<div class="name"><%- history.name %></div>',"</div>",'<div class="subtitle"></div>','<div class="history-size"><%- history.nice_size %></div>','<div class="actions"></div>','<div class="messages">',"<% if( history.deleted && history.purged ){ %>",'<div class="deleted-msg warningmessagesmall">',u()("This history has been purged and deleted"),"</div>","<% } else if( history.deleted ){ %>",'<div class="deleted-msg warningmessagesmall">',u()("This history has been deleted"),"</div>","<% } else if( history.purged ){ %>",'<div class="deleted-msg warningmessagesmall">',u()("This history has been purged"),"</div>","<% } %>","<% if( history.message ){ %>",'<div class="<%= history.message.level || "info" %>messagesmall">',"<%= history.message.text %>","</div>","<% } %>","</div>",'<div class="tags-display"></div>','<div class="annotation-display"></div>','<div class="search">','<div class="search-input"></div>',"</div>",'<div class="list-actions">','<div class="btn-group">','<button class="select-all btn btn-secondary"','data-mode="select">',u()("All"),"</button>",'<button class="deselect-all btn btn-secondary"','data-mode="select">',u()("None"),"</button>","</div>",'<div class="list-action-menu btn-group">',"</div>","</div>",'<div class="list-pagination form-inline"></div>',"</div>"],"history"),t=v.a.wrapTemplate(['<button class="prev" <%- pages.current === 1 ? "disabled" : "" %>>previous</button>','<select class="pages form-control" ','title="',u()("Click to open and select a page. Begin typing a page number to select it"),'">',"<% _.range( 1, pages.last + 1 ).forEach( function( i ){ %>",'<option value="<%- i - 1 %>" <%- i === pages.current ? "selected" : "" %>>',"<%- view.ordinalIndicator( i ) %> of <%- pages.last %> pages","</option>","<% }); %>","</select>",'<button class="next" <%- pages.current === pages.last ? "disabled" : "" %>>next</button>'],"pages");return r.a.extend(r.a.clone(M.prototype.templates),{el:function(){return'<div>\n            <div class="controls"></div>\n            <ul class="list-items"></ul>\n            <div class="empty-message infomessagesmall"></div>\',\n        </div>'},controls:e,pagination:t})}();t.a={HistoryView:x,historyEntry:C}},function(e,t,n){"use strict";(function(e){var i=n(3),r=n(2),o=n(6);t.a=i.View.extend({initialize:function(e){this.options=r.defaults(e||{},{title:null,placement:"top",container:"body"}),this.uid=o.a.uid(),this.$target=this.options.container},show:function(t){var n=this;e(this.$target).popover({title:"".concat(this.options.title," ").concat("<i class='fa fa-times-circle'/>"),placement:this.options.placement,content:t,html:!0,trigger:"manual"}),e(this.$target).popover("show");var i=this,r=e(this.$target.data("bs.popover").tip);r.find(".popover-header > i").on("click",function(){return n.hide()}),e("body").on("mousedown.".concat(this.uid),function(t){e(r).is(t.target)||0!==e(r).has(t.target).length||i.hide()})},hide:function(){e(this.$target).popover("dispose"),e("body").off("mousedown.".concat(this.uid))}})}).call(this,n(0))},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(3),a=n.n(o),s=n(4),l=a.a.Model.extend({defaults:{url:"https://toolshed.g2.bx.psu.edu/",name:"Galaxy Main Tool Shed"},urlRoot:"".concat(Object(s.a)(),"api/tool_shed")}),c=a.a.Collection.extend({url:"".concat(Object(s.a)(),"api/tool_shed"),model:l}),u=a.a.Model.extend({defaults:[{}],urlRoot:"".concat(Object(s.a)(),"api/tool_shed/contents")}),d=a.a.Collection.extend({url:"".concat(Object(s.a)(),"api/tool_shed/contents"),model:u}),h=a.a.Model.extend({defaults:[{}],urlRoot:"".concat(Object(s.a)(),"api/tool_shed/category")}),f=a.a.Collection.extend({url:"".concat(Object(s.a)(),"api/tool_shed/category"),model:h}),p=a.a.Model.extend({defaults:[{}],urlRoot:"".concat(Object(s.a)(),"api/tool_shed/repository")}),m=a.a.Collection.extend({url:"".concat(Object(s.a)(),"api/tool_shed/repository"),model:p}),g=a.a.Model.extend({url:"#"}),_=a.a.Collection.extend({url:"#",model:g,fetch:function(){var e,t=Array();e=window.localStorage.hasOwnProperty("repositories")?JSON.parse(window.localStorage.repositories):[];var n=Object.keys(e);return r.a.each(n,function(n){var i=e[n];i.queue_key=n,t.push(i)}),this.reset(t),a.a.Collection.prototype.fetch.call(this)}}),v=a.a.Model.extend({defaults:[{}],urlRoot:"".concat(Object(s.a)(),"api/tool_shed/status")}),y=a.a.Collection.extend({url:"".concat(Object(s.a)(),"api/tool_shed/status"),model:v}),b=a.a.Model.extend({defaults:[{}],urlRoot:"".concat(Object(s.a)(),"api/workflows?missing_tools=True")}),w=a.a.Collection.extend({url:"".concat(Object(s.a)(),"api/workflows?missing_tools=True"),model:b});t.a={ShedModel:l,ShedsCollection:c,Category:u,Categories:d,CategoryModel:h,CategoryCollection:f,RepositoryModel:p,RepositoryCollection:m,RepoQueue:_,RepoStatus:y,WorkflowTools:w}},function(e,t,n){"use strict";(function(e,i,r,o,a){var s=n(346),l=n(16),c=n(8),u=n(391),d=n(27),h=(n(453),n(1)),f=n.n(h),p=n(633),m=n(18),g=(n(556),e.View.extend(c.a.LoggableMixin).extend({_logNamespace:"collections",tagName:"li",className:"collection-element",initialize:function(e){this.element=e.element||{},this.selected=e.selected||!1},render:function(){this.dragStartHandler=i.bind(this._dragstart,this),this.dragEndHandler=i.bind(this._dragend,this);var e=this.$el.attr("data-element-id",this.element.id).attr("draggable",!0).html(this.template({element:this.element})).get(0);return e.addEventListener("dragstart",this.dragStartHandler,!1),e.addEventListener("dragend",this.dragEndHandler,!1),this.selected&&this.$el.addClass("selected"),this},template:i.template(['<a class="name" title="',f()("Click to rename"),'" href="javascript:void(0)">',"<%- element.name %>","</a>",'<button class="discard btn btn-sm" title="',f()("Remove this dataset from the list"),'">',f()("Discard"),"</button>"].join("")),select:function(e){this.$el.toggleClass("selected",e),this.trigger("select",{source:this,selected:this.$el.hasClass("selected")})},discard:function(){var e=this,t=this.$el.parent().width();this.$el.animate({"margin-right":t},"fast",function(){e.trigger("discard",{source:e}),e.destroy()})},destroy:function(){this.off(),this.$el.remove()},events:{click:"_click","click .name":"_clickName","click .discard":"_clickDiscard",dragover:"_sendToParent",drop:"_sendToParent"},_click:function(e){e.stopPropagation(),this.select(e)},_clickName:function(e){e.stopPropagation(),e.preventDefault();[f()("Enter a new name for the element"),":\n(",f()("Note that changing the name here will not rename the dataset"),")"].join("");var t=prompt("".concat(f()("Enter a new name for the element"),":"),this.element.name);t&&(this.element.name=t,this.render())},_clickDiscard:function(e){e.stopPropagation(),this.discard()},_dragstart:function(e){e.originalEvent&&(e=e.originalEvent),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",JSON.stringify(this.element)),this.$el.addClass("dragging"),this.$el.parent().trigger("collection-element.dragstart",[this])},_dragend:function(e){this.$el.removeClass("dragging"),this.$el.parent().trigger("collection-element.dragend",[this])},_sendToParent:function(e){this.$el.parent().trigger(e)},toString:function(){return"DatasetCollectionElementView()"}})),_=e.View.extend(c.a.LoggableMixin).extend(u.a.CollectionCreatorMixin).extend({_logNamespace:"collections",elementViewClass:g,collectionClass:s.a.HistoryDatasetCollection,className:"list-collection-creator collection-creator flex-row-container",minElements:1,defaultAttributes:{creationFn:function(){throw new TypeError("no creation fn for creator")},oncreate:function(){},oncancel:function(){},autoscrollDist:24,highlightClr:"rgba( 64, 255, 255, 1.0 )"},footerSettings:{".hide-originals":"hideOriginals"},initialize:function(e){this.metric("ListCollectionCreator.initialize",e);var t=this;i.each(this.defaultAttributes,function(n,i){n=e[i]||n,t[i]=n}),t.initialElements=e.elements||[],this._setUpCommonSettings(e),this._instanceSetUp(),this._elementsSetUp(),this._setUpBehaviors()},_instanceSetUp:function(){this.selectedIds={},this.$dragging=null,this.blocking=!1},_elementsSetUp:function(){this.invalidElements=[],this.workingElements=[],this.elementViews=[],this.workingElements=this.initialElements.slice(0),this._ensureElementIds(),this._validateElements(),this._mangleDuplicateNames(),this._sortElements()},_ensureElementIds:function(){return this.workingElements.forEach(function(e){e.hasOwnProperty("id")||(e.id=i.uniqueId())}),this.workingElements},_validateElements:function(){var e=this;return e.invalidElements=[],this.workingElements=this.workingElements.filter(function(t){var n=e._isElementInvalid(t);return n&&e.invalidElements.push({element:t,text:n}),!n}),this.workingElements},_isElementInvalid:function(e){return"dataset_collection"===e.history_content_type?f()("is a collection, this is not allowed"):e.state===l.a.OK||i.contains(l.a.NOT_READY_STATES,e.state)?e.deleted||e.purged?f()("has been deleted or purged"):null:f()("has errored, is paused, or is not accessible")},_mangleDuplicateNames:function(){var e=1,t={};this.workingElements.forEach(function(n){for(var i=n.name;t.hasOwnProperty(i);)if(i="".concat(n.name," (").concat(e,")"),(e+=1)>=900)throw new Error("Safety hit in while loop - thats impressive");n.name=i,t[n.name]=!0})},_sortElements:function(e){},render:function(e,t){return this.workingElements.length<this.minElements?this._renderInvalid(e,t):(this.$el.empty().html(this.templates.main()),this._renderHeader(e),this._renderMiddle(e),this._renderFooter(e),this._addPluginComponents(),this.$(".collection-name").focus(),this.trigger("rendered",this),this)},_renderInvalid:function(e,t){return this.$el.empty().html(this.templates.invalidInitial({problems:this.invalidElements,elements:this.workingElements})),"function"==typeof this.oncancel&&this.$(".cancel-create.btn").show(),this.trigger("rendered",this),this},_renderHeader:function(e,t){var n=this.$(".header").empty().html(this.templates.header()).find(".help-content").prepend(r(this.templates.helpContent()));return this.invalidElements.length&&this._invalidElementsAlert(),n},_renderMiddle:function(e,t){var n=this.$(".middle").empty().html(this.templates.middle());return this._renderList(e),n},_addPluginComponents:function(){this.$(".help-content i").hoverhighlight(".collection-creator",this.highlightClr)},_invalidElementsAlert:function(){this._showAlert(this.templates.invalidElements({problems:this.invalidElements}),"alert-warning")},_disableNameAndCreate:function(e){(e=!!i.isUndefined(e)||e)&&(this.$(".collection-name").prop("disabled",!0),this.$(".create-collection").toggleClass("disabled",!0))},$list:function(){return this.$(".collection-elements")},_renderClearSelected:function(){i.size(this.selectedIds)?this.$(".collection-elements-controls > .clear-selected").show():this.$(".collection-elements-controls > .clear-selected").hide()},_renderList:function(e,t){var n=this,r=o("<div/>"),a=n.$list();i.each(this.elementViews,function(e){e.destroy(),n.removeElementView(e)}),n.workingElements.forEach(function(e){var t=n._createElementView(e);r.append(t.$el)}),n._renderClearSelected(),a.empty().append(r.children()),i.invoke(n.elementViews,"render"),a.height()>a.css("max-height")?a.css("border-width","1px 0px 1px 0px"):a.css("border-width","0px")},_createElementView:function(e){var t=new this.elementViewClass({element:e,selected:i.has(this.selectedIds,e.id)});return this.elementViews.push(t),this._listenToElementView(t),t},_listenToElementView:function(e){var t=this;t.listenTo(e,{select:function(e){var n=e.source.element;e.selected?t.selectedIds[n.id]=!0:delete t.selectedIds[n.id],t.trigger("elements:select",e)},discard:function(e){t.trigger("elements:discard",e)}})},addElementView:function(e){},removeElementView:function(e){delete this.selectedIds[e.element.id],this._renderClearSelected(),this.elementViews=i.without(this.elementViews,e),this.stopListening(e)},_renderNoElementsLeft:function(){this._disableNameAndCreate(!0),this.$(".collection-elements").append(this.templates.noElementsLeft())},_elementToJSON:function(e){return e},createList:function(e){if(!this.workingElements.length){var t="".concat(f()("No valid elements for final list"),". ");return t+='<a class="cancel-create" href="javascript:void(0);">'.concat(f()("Cancel"),"</a> "),t+=f()("or"),t+=' <a class="reset" href="javascript:void(0);">'.concat(f()("start over"),"</a>."),void this._showAlert(t)}var n=this,i=this.workingElements.map(function(e){return n._elementToJSON(e)});return n.blocking=!0,n.creationFn(i,e,n.hideOriginals).always(function(){n.blocking=!1}).fail(function(e,t,i){n.trigger("error",{xhr:e,status:t,message:f()("An error occurred while creating this collection")})}).done(function(e,t,i){n.trigger("collection:created",e,t,i),n.metric("collection:created",e),"function"==typeof n.oncreate&&n.oncreate.call(this,e,t,i)})},_setUpBehaviors:function(){return this.on("error",this._errorHandler),this.once("rendered",function(){this.trigger("rendered:initial",this)}),this.on("elements:select",function(e){this._renderClearSelected()}),this.on("elements:discard",function(e){var t=e.source.element;this.removeElementView(e.source),this.workingElements=i.without(this.workingElements,t),this.workingElements.length||this._renderNoElementsLeft()}),this},_errorHandler:function(e){this.error(e);var t=e.message||f()("An error occurred");if(e.xhr){var n=e.xhr,i=e.message;0===n.readyState&&0===n.status?t+=": ".concat(f()("Galaxy could not be reached and may be updating.")).concat(f()(" Try again in a few minutes.")):n.responseJSON?t+=":<br /><pre>".concat(JSON.stringify(n.responseJSON),"</pre>"):t+=": ".concat(i)}this._showAlert(t,"alert-danger")},events:{"click .more-help":"_clickMoreHelp","click .less-help":"_clickLessHelp","click .main-help":"_toggleHelp","click .header .alert button":"_hideAlert","click .reset":"reset","click .clear-selected":"clearSelectedElements","click .collection-elements":"clearSelectedElements","dragover .collection-elements":"_dragoverElements","drop .collection-elements":"_dropElements","collection-element.dragstart .collection-elements":"_elementDragstart","collection-element.dragend   .collection-elements":"_elementDragend","change .collection-name":"_changeName","keydown .collection-name":"_nameCheckForEnter","change .hide-originals":"_changeHideOriginals","click .cancel-create":"_cancelCreate","click .create-collection":"_clickCreate"},reset:function(){this._instanceSetUp(),this._elementsSetUp(),this.render()},clearSelectedElements:function(e){this.$(".collection-elements .collection-element").removeClass("selected"),this.$(".collection-elements-controls > .clear-selected").hide()},_dragoverElements:function(e){e.preventDefault();var t=this.$list();this._checkForAutoscroll(t,e.originalEvent.clientY);var n=this._getNearestElement(e.originalEvent.clientY);this.$(".element-drop-placeholder").remove();var i=r('<div class="element-drop-placeholder"></div>');n.length?n.before(i):t.append(i)},_checkForAutoscroll:function(e,t){var n=e.offset(),i=e.scrollTop(),r=t-n.top,o=n.top+e.outerHeight()-t;r>=0&&r<this.autoscrollDist?e.scrollTop(i-2):o>=0&&o<this.autoscrollDist&&e.scrollTop(i+2)},_getNearestElement:function(e){for(var t=this.$(".collection-elements li.collection-element").toArray(),n=0;n<t.length;n++){var i=r(t[n]),o=i.offset().top,a=Math.floor(i.outerHeight()/2)+4;if(o+a>e&&o-a<e)return i}return r()},_dropElements:function(e){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),e.dataTransfer.dropEffect="move";var t=this._getNearestElement(e.clientY);return t.length?this.$dragging.insertBefore(t):this.$dragging.insertAfter(this.$(".collection-elements .collection-element").last()),this._syncOrderToDom(),!1},_syncOrderToDom:function(){var e=this,t=[];this.$(".collection-elements .collection-element").each(function(){var n=r(this).attr("data-element-id"),o=i.findWhere(e.workingElements,{id:n});o?t.push(o):console.error("missing element: ",n)}),this.workingElements=t,this._renderList()},_elementDragstart:function(e,t){t.select(!0),this.$dragging=this.$(".collection-elements .collection-element.selected")},_elementDragend:function(e,t){r(".element-drop-placeholder").remove(),this.$dragging=null},templates:i.extend({},u.a.CollectionCreatorMixin._creatorTemplates,{header:i.template(['<div class="main-help well clear">','<a class="more-help" href="javascript:void(0);">',f()("More help"),"</a>",'<div class="help-content">','<a class="less-help" href="javascript:void(0);">',f()("Less"),"</a>","</div>","</div>",'<div class="alert alert-dismissable">','<button type="button" class="close" data-dismiss="alert" ','title="',f()("Close and show more help"),'" aria-hidden="true">&times;</button>','<span class="alert-message"></span>',"</div>"].join("")),middle:i.template(['<div class="collection-elements-controls">','<a class="reset" href="javascript:void(0);" ','title="',f()("Undo all reordering and discards"),'">',f()("Start over"),"</a>",'<a class="clear-selected" href="javascript:void(0);" ','title="',f()("De-select all selected datasets"),'">',f()("Clear selected"),"</a>","</div>",'<div class="collection-elements scroll-container flex-row">',"</div>"].join("")),footer:i.template(['<div class="attributes clear">','<div class="clear">','<label class="setting-prompt float-right">',f()("Hide original elements"),"?",'<input class="hide-originals float-right" type="checkbox" />',"</label>","</div>",'<div class="clear">','<input class="collection-name form-control float-right" ','placeholder="',f()("Enter a name for your new collection"),'" />','<div class="collection-name-prompt float-right">',f()("Name"),":</div>","</div>","</div>",'<div class="actions clear vertically-spaced">','<div class="other-options float-left">','<button class="cancel-create btn" tabindex="-1">',f()("Cancel"),"</button>",'<div class="create-other btn-group dropup">','<button class="btn btn-secondary dropdown-toggle" data-toggle="dropdown">',f()("Create a different kind of collection"),' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">','<li><a href="#">',f()("Create a <i>single</i> pair"),"</a></li>",'<li><a href="#">',f()("Create a list of <i>unpaired</i> datasets"),"</a></li>","</ul>","</div>","</div>",'<div class="main-options float-right">','<button class="create-collection btn btn-primary">',f()("Create list"),"</button>","</div>","</div>"].join("")),helpContent:i.template(["<p>",f()(["Collections of datasets are permanent, ordered lists of datasets that can be passed to tools and ","workflows in order to have analyses done on each member of the entire group. This interface allows ","you to create a collection and re-order the final collection."].join("")),"</p>","<ul>","<li>",f()(["Rename elements in the list by clicking on ",'<i data-target=".collection-element .name">the existing name</i>.'].join("")),"</li>","<li>",f()(["Discard elements from the final created list by clicking on the ",'<i data-target=".collection-element .discard">"Discard"</i> button.'].join("")),"</li>","<li>",f()(["Reorder the list by clicking and dragging elements. Select multiple elements by clicking on ",'<i data-target=".collection-element">them</i> and you can then move those selected by dragging the ',"entire group. Deselect them by clicking them again or by clicking the ",'the <i data-target=".clear-selected">"Clear selected"</i> link.'].join("")),"</li>","<li>",f()(['Click the <i data-target=".reset">"Start over"</i> link to begin again as if you had just opened ',"the interface."].join("")),"</li>","<li>",f()(['Click the <i data-target=".cancel-create">"Cancel"</i> button to exit the interface.'].join("")),"</li>","</ul><br />","<p>",f()(['Once your collection is complete, enter a <i data-target=".collection-name">name</i> and ','click <i data-target=".create-collection">"Create list"</i>.'].join("")),"</p>"].join("")),invalidElements:i.template([f()("The following selections could not be included due to problems:"),"<ul><% _.each( problems, function( problem ){ %>","<li><b><%- problem.element.name %></b>: <%- problem.text %></li>","<% }); %></ul>"].join("")),noElementsLeft:i.template(['<li class="no-elements-left-message">',f()("No elements left! "),f()("Would you like to "),'<a class="reset" href="javascript:void(0)">',f()("start over"),"</a>?","</li>"].join("")),invalidInitial:i.template(['<div class="header flex-row no-flex">','<div class="alert alert-warning" style="display: block">','<span class="alert-message">',"<% if( _.size( problems ) ){ %>",f()("The following selections could not be included due to problems"),":","<ul><% _.each( problems, function( problem ){ %>","<li><b><%- problem.element.name %></b>: <%- problem.text %></li>","<% }); %></ul>","<% } else if( _.size( elements ) < 1 ){ %>",f()("No datasets were selected"),".","<% } %>","<br />",f()("At least one element is needed for the collection"),". ",f()("You may need to "),'<a class="cancel-create" href="javascript:void(0)">',f()("cancel"),"</a> ",f()("and reselect new elements"),".","</span>","</div>","</div>",'<div class="footer flex-row no-flex">','<div class="actions clear vertically-spaced">','<div class="other-options float-left">','<button class="cancel-create btn" tabindex="-1">',f()("Cancel"),"</button>","</div>","</div>","</div>"].join(""))}),toString:function(){return"ListCollectionCreator"}}),v=function(e){var t=o.Deferred(),n=a.modal||new d.a.View,r=i.defaults(e||{},{oncancel:function(){n.hide(),t.reject("cancelled")},oncreate:function(e,i){n.hide(),t.resolve(i)}});return{deferred:t,creatorOptions:r,showEl:function(t){n.show({title:e.title||f()("Create a collection"),body:t,width:"85%",height:"100%",xlarge:!0,closing_events:!0})}}},y=function(e,t,n){t=i.defaults(t||{},{elements:e});var r=v(t),o=r.deferred,a=r.creatorOptions,s=r.showEl,l=new n(a);return s(l.$el),l.render(),o},b=function(e,t,n,r){var o;o="datasets"==n?f()("Build Rules for Uploading Datasets"):"collection_contents"==t?f()("Build Rules for Applying to Existing Collection"):"datasets"==t||"library_datasets"==t?f()("Build Rules for Creating Collection(s)"):f()("Build Rules for Uploading Collections"),r=i.defaults(r||{},{title:o});var a=v(r),s=a.deferred,l=(a.creatorOptions,a.showEl),c=m.a.extend(p.a),u=document.createElement("div");return l(u),new c({propsData:{initialElements:e,elementsType:t,importType:n,ftpUploadSite:r.ftpUploadSite,creationFn:r.creationFn,oncancel:r.oncancel,oncreate:r.oncreate,defaultHideSourceItems:r.defaultHideSourceItems,saveRulesFn:r.saveRulesFn,initialRules:r.initialRules}}).$mount(u),s},w=function(e,t){return(t=t||{}).title=f()("Create a collection from a list of datasets"),y(e,t,_)};t.a={DatasetCollectionElementView:g,ListCollectionCreator:_,collectionCreatorModal:y,listCollectionCreatorModal:w,createListCollection:function(e,t){var n=e.toJSON(),i=!t;return w(n,{defaultHideSourceItems:t,creationFn:function(t,n,r){return t=t.map(function(e){return{id:e.id,name:e.name,src:"dataset"===e.history_content_type?"hda":"hdca"}}),e.createHDCA(t,"list",n,r,i)}})},createCollectionViaRules:function(e,t){var n,i,r,o=!t;if(e.selectionType)if(e.elements)i=e.selectionType,r=e.dataType||"collections",n=e.elements;else{var a=RegExp(/[^\s]/),s=e.content.split(/[\n\r]/).filter(function(e){return e.length>0&&a.exec(e)}),l=!1;s.length>0&&s[0].indexOf("\t")>=0&&(l=!0);var c=l?/\t/:/\s+/;n=s.map(function(e){return e.split(c)}),i=e.selectionType,r=e.dataType||"collections"}else n=e.toJSON(),i="datasets",r="collections";return b(n,i,r,{ftpUploadSite:e.ftpUploadSite,defaultHideSourceItems:t,creationFn:function(t,n,i,r){return e.createHDCA(t,n,i,r,o)}})},ruleBasedCollectionCreatorModal:b}}).call(this,n(3),n(2),n(0),n(0),n(5).monitor)},function(e,t,n){"use strict";(function(e,n,i){function r(e){this.collectionType=e,this.isCollection=!0,this.rank=e.split(":").length}window.workflow_globals=window.workflow_globals||{};var o={isCollection:!1,canMatch:function(){return!1},canMapOver:function(){return!1},toString:function(){return"NullCollectionType[]"},append:function(e){return e},equal:function(e){return e===this}},a={isCollection:!0,canMatch:function(e){return o!==e},canMapOver:function(){return!1},toString:function(){return"AnyCollectionType[]"},append:function(){return a},equal:function(e){return e===this}};e.extend(r.prototype,{append:function(e){return e===o?this:e===a?e:new r("".concat(this.collectionType,":").concat(e.collectionType))},canMatch:function(e){return e!==o&&(e===a||e.collectionType==this.collectionType)},canMapOver:function(e){if(e===o)return!1;if(e===a)return!1;if(this.rank<=e.rank)return!1;var t=e.collectionType;return this._endsWith(this.collectionType,t)},effectiveMapOver:function(e){var t=e.collectionType;return new r(this.collectionType.substring(0,this.collectionType.length-t.length-1))},equal:function(e){return e.collectionType==this.collectionType},toString:function(){return"CollectionType[".concat(this.collectionType,"]")},_endsWith:function(e,t){return-1!==e.indexOf(t,e.length-t.length)}});var s=n.Model.extend({initialize:function(e){this.mapOver=e.mapOver||o,this.terminal=e.terminal,this.terminal.terminalMapping=this},disableMapOver:function(){this.setMapOver(o)},setMapOver:function(e){this.mapOver=e,this.trigger("change")}}),l=n.Model.extend({initialize:function(e){this.element=e.element,this.connectors=[]},connect:function(e){this.connectors.push(e),this.node&&this.node.markChanged()},disconnect:function(t){this.connectors.splice(e.inArray(t,this.connectors),1),this.node&&(this.node.markChanged(),this.resetMappingIfNeeded(),t.dragging||t.handle2.resetCollectionTypeSource())},redraw:function(){e.each(this.connectors,function(e,t){t.redraw()})},destroy:function(){e.each(this.connectors.slice(),function(e,t){t.destroy()})},destroyInvalidConnections:function(){i.each(this.connectors,function(e){e&&e.destroyIfInvalid()})},setMapOver:function(e){this.multiple||this.mapOver().equal(e)||(this.terminalMapping.setMapOver(e),i.each(this.node.output_terminals,function(t){t.setMapOver(e)}))},mapOver:function(){return this.terminalMapping?this.terminalMapping.mapOver:o},isMappedOver:function(){return this.terminalMapping&&this.terminalMapping.mapOver.isCollection},resetMapping:function(){this.terminalMapping.disableMapOver()},resetCollectionTypeSource:function(){var e=this.node;i.each(e.output_terminals,function(e){e.attributes.collection_type_source&&e.attributes.collection_type&&(e.attributes.collection_type=null,e.update(e.attributes))})},resetMappingIfNeeded:function(){}}),c=l.extend({initialize:function(e){l.prototype.initialize.call(this,e),this.datatypes=e.datatypes},resetMappingIfNeeded:function(){this.node.hasConnectedOutputTerminals()||this.node.hasConnectedMappedInputTerminals()||i.each(this.node.mappedInputTerminals(),function(e){e.resetMappingIfNeeded()}),!this.node.hasMappedOverInputTerminals()&&this.resetMapping()},resetMapping:function(){this.terminalMapping.disableMapOver(),i.each(this.connectors,function(e){var t=e.handle2;t&&(t.resetMappingIfNeeded(),e.destroyIfInvalid())})}}),u=l.extend({initialize:function(e){l.prototype.initialize.call(this,e),this.update(e.input)},canAccept:function(e){return!this._inputFilled()&&this.attachable(e)},resetMappingIfNeeded:function(){this.mapOver().isCollection&&((this.node.hasConnectedMappedInputTerminals()||!this.node.hasConnectedOutputTerminals())&&this.resetMapping())},resetMapping:function(){this.terminalMapping.disableMapOver(),this.node.hasMappedOverInputTerminals()||i.each(this.node.output_terminals,function(e){e.resetMapping()})},connected:function(){return 0!==this.connectors.length},_inputFilled:function(){return!!this.connected()&&(!this.multiple||!!this._collectionAttached())},_collectionAttached:function(){if(this.connected()){var e=this.connectors[0].handle1;return!!e&&!!(e.isCollection||e.isMappedOver()||e.datatypes.indexOf("input_collection")>0)}return!1},_mappingConstraints:function(){if(!this.node)return[];var e=this.mapOver();if(e.isCollection)return[e];var t=[];return this.node.hasConnectedOutputTerminals()?t.push(i.first(i.values(this.node.output_terminals)).mapOver()):i.each(this.node.connectedMappedInputTerminals(),function(e){t.push(e.mapOver())}),t},_producesAcceptableDatatype:function(e){for(var t in this.datatypes){var n=this.datatypes[t];if("input"==n)return!0;var i=[];if(i=i.concat(e.datatypes),e.node.post_job_actions)for(var r in e.node.post_job_actions){var o=e.node.post_job_actions[r];"ChangeDatatypeAction"!=o.action_type||""!==o.output_name&&o.output_name!=e.name||!o.action_arguments||i.push(o.action_arguments.newtype)}for(var a in i){var s=i[a];if("input"==s||"_sniff_"==s||"input_collection"==s||window.workflow_globals.app.isSubType(i[a],n))return!0}}return!1},_otherCollectionType:function(e){var t=o;e.isCollection&&(t=e.collectionType);var n=e.mapOver();return n.isCollection&&(t=n.append(t)),t}}),d=u.extend({update:function(e){this.datatypes=e.extensions,this.multiple=e.multiple,this.collection=!1},connect:function(e){u.prototype.connect.call(this,e);var t=e.handle1;if(t){var n=this._otherCollectionType(t);n.isCollection&&this.setMapOver(n)}},attachable:function(e){var t=this._otherCollectionType(e),n=this.mapOver();{if(t.isCollection)return this.multiple?!(this.connected()&&!this._collectionAttached())&&(1==t.rank&&this._producesAcceptableDatatype(e)):n.isCollection&&n.canMatch(t)?this._producesAcceptableDatatype(e):!!this._mappingConstraints().every(i.bind(t.canMatch,t))&&this._producesAcceptableDatatype(e);if(n.isCollection)return!1}return this._producesAcceptableDatatype(e)}}),h=u.extend({update:function(e){this.type=e.type},connect:function(e){u.prototype.connect.call(this,e)},attachable:function(e){return this.type==e.attributes.type}}),f=u.extend({update:function(e){this.multiple=!1,this.collection=!0,this.datatypes=e.extensions;var t=[];e.collection_types?i.each(e.collection_types,function(e){t.push(new r(e))}):t.push(a),this.collectionTypes=t},connect:function(e){u.prototype.connect.call(this,e);var t=e.handle1;if(t){var n=this.node;i.each(n.output_terminals,function(n){n.attributes.collection_type_source&&!e.dragging&&(t.isMappedOver()?t.isCollection?n.attributes.collection_type=t.terminalMapping.mapOver.append(t.collectionType).collectionType:n.attributes.collection_type=t.terminalMapping.mapOver.collectionType:n.attributes.collection_type=t.attributes.collection_type,n.update(n.attributes))});var r=this._effectiveMapOver(t);this.setMapOver(r)}},_effectiveMapOver:function(e){var t=this.collectionTypes,n=this._otherCollectionType(e);if(!i.some(t,function(e){return e.canMatch(n)}))for(var r in t){var a=t[r];if(n.canMapOver(a)){var s=n.effectiveMapOver(a);if(s!=o)return s}}return o},_effectiveCollectionTypes:function(){var e=this.mapOver();return i.map(this.collectionTypes,function(t){return e.append(t)})},attachable:function(e){var t=this._otherCollectionType(e);if(t.isCollection){var n=this._effectiveCollectionTypes(),r=this.mapOver();if(i.some(n,function(e){return e.canMatch(t)}))return this._producesAcceptableDatatype(e);if(r.isCollection)return!1;if(i.some(this.collectionTypes,function(e){return t.canMapOver(e)})){var o=this._effectiveMapOver(e);if(!o.isCollection)return!1;if(this._mappingConstraints().every(o.canMatch))return this._producesAcceptableDatatype(e)}}return!1}}),p=l.extend({initialize:function(e){(l.prototype.initialize.call(this,e),this.datatypes=e.datatypes,e.collection_type)?this.collectionType=new r(e.collection_type):(e.collection_type_source||console.log("Warning: No collection type or collection type source defined."),this.collectionType=a);this.isCollection=!0},update:function(e){var t;e.collection_type?t=new r(e.collection_type):(e.collection_type_source||console.log("Warning: No collection type or collection type source defined."),t=a);var n=this.collectionType;this.collectionType=t;var o=this.connectors.slice(0);t.collectionType!=n.collectionType&&i.each(o,function(e){e.destroyIfInvalid(!0)})}}),m=l.extend({});t.a={InputTerminal:d,InputParameterTerminal:h,OutputTerminal:c,OutputParameterTerminal:m,InputCollectionTerminal:f,OutputCollectionTerminal:p,TerminalMapping:s,CollectionTypeDescription:r,NULL_COLLECTION_TYPE_DESCRIPTION:o,ANY_COLLECTION_TYPE_DESCRIPTION:a}}).call(this,n(0),n(3),n(2))},function(e,t,n){var i=n(23),r=n(61),o=n(60),a=n(360)("src"),s=Function.toString,l=(""+s).split("toString");n(44).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(o(n,"name")||r(n,"name",t)),e[t]!==n&&(c&&(o(n,a)||r(n,a,e[t]?""+e[t]:l.join(String(t)))),e===i?e[t]=n:s?e[t]?e[t]=n:r(e,t,n):(delete e[t],r(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,n){var i=n(12),r=n(21),o=n(90),a=/"/g,s=function(e,t,n,i){var r=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(i).replace(a,"&quot;")+'"'),s+">"+r+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),i(i.P+i.F*r(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t,n){"use strict";(function(e){var i=n(6),r=n(3),o=r.View.extend({initialize:function(t){this.model=t&&t.model||new r.Model({id:i.a.uid(),title:"",icon:"",cls:"btn btn-secondary",wait:!1,wait_text:"Sending...",wait_cls:"btn btn-info",disabled:!1,percentage:-1,visible:!0}).set(t),this.setElement(e("<button/>").attr("type","button").append(this.$icon=e("<i/>")).append(this.$title=e("<span/>")).append(this.$progress=e("<div/>").append(this.$progress_bar=e("<div/>")))),this.listenTo(this.model,"change",this.render,this),this.render()},render:function(){var t=this,n=this.model.attributes;this.$el.removeClass().addClass("ui-button-default").addClass(n.disabled&&"disabled").attr("id",n.id).attr("disabled",n.disabled).css("display",n.visible?"inline-block":"none").off("click").on("click",function(){e(".tooltip").hide(),n.onclick&&!t.disabled&&n.onclick()}).tooltip({title:n.tooltip||"",placement:"bottom"}),this.$progress.addClass("progress").css("display",-1!==n.percentage?"block":"none"),this.$progress_bar.addClass("progress-bar").css({width:"".concat(n.percentage,"%")}),this.$icon.removeClass().addClass("icon fa"),this.$title.removeClass().addClass("title"),n.wait?(this.$el.addClass(n.wait_cls).prop("disabled",!0),this.$icon.addClass("fa-spinner fa-spin mr-1"),this.$title.html(n.wait_text)):(this.$el.addClass(n.cls),this.$icon.addClass(n.icon),n.title&&(this.$title.html(n.title),n.icon&&this.$icon.addClass("mr-1")))},show:function(){this.model.set("visible",!0)},hide:function(){this.model.set("visible",!1)},disable:function(){this.model.set("disabled",!0)},enable:function(){this.model.set("disabled",!1)},wait:function(){this.model.set("wait",!0)},unwait:function(){this.model.set("wait",!1)},setIcon:function(e){this.model.set("icon",e)}}),a=o.extend({initialize:function(t){this.model=t&&t.model||new r.Model({id:i.a.uid(),visible:!0,title:"",icon:"",cls:""}).set(t),this.setElement(e("<a/>").append(this.$icon=e("<span/>"))),this.listenTo(this.model,"change",this.render,this),this.render()},render:function(){var e=this.model.attributes;this.$el.removeClass().addClass(e.cls).attr({id:e.id,href:e.href||"javascript:void(0)",title:e.title,target:e.target||"_top",disabled:e.disabled}).css("display",e.visible?"inline-block":"none").tooltip({placement:"bottom"}).off("click").on("click",function(){e.onclick&&!e.disabled&&e.onclick()}),this.$icon.removeClass().addClass(e.icon)}}),s=r.View.extend({initialize:function(t){this.model=t&&t.model||new r.Model({id:i.a.uid(),title:"Select/Unselect all",icons:["fa-square-o","fa-minus-square-o","fa-check-square-o"],value:0,visible:!0,onchange:function(){}}).set(t),this.setElement(e("<div/>").addClass("mb-2").append(this.$icon=e("<span/>")).append(this.$title=e("<span/>"))),this.listenTo(this.model,"change",this.render,this),this.render()},render:function(e){var t=this;e=this.model.attributes;this.$el.addClass("ui-button-check").css("display",e.visible?"inline-block":"none").off("click").on("click",function(){t.model.set("value",0===t.model.get("value")?2:0),e.onclick&&e.onclick()}),this.$title.html(e.title),this.$icon.removeClass().addClass("icon fa mr-1").addClass(e.icons[e.value])},value:function(e,t){return void 0!==e&&(t&&0!==e&&(e=e!==t?1:2),this.model.set("value",e),this.model.get("onchange")(this.model.get("value"))),this.model.get("value")}}),l=r.View.extend({$menu:null,initialize:function(t){this.model=t&&t.model||new r.Model({id:"",title:"",pull:"right",icon:null,onclick:null,cls:"btn btn-secondary float-right",tooltip:"",target:"",href:"",onunload:null,visible:!0,tag:""}).set(t),this.collection=new r.Collection,this.setElement(e("<div/>").append(this.$root=e("<button/>").append(this.$icon=e("<i/>")).append(this.$title=e("<span/>")))),this.listenTo(this.model,"change",this.render,this),this.listenTo(this.collection,"change add remove reset",this.render,this),this.render()},render:function(){var t=this,n=this.model.attributes;this.$el.removeClass().addClass("dropdown").attr("id",n.id).css({display:n.visible&&this.collection.where({visible:!0}).length>0?"block":"none"}),this.$root.addClass(n.cls).attr("data-toggle","dropdown").tooltip({title:n.tooltip||"",placement:"bottom"}).off("click").on("click",function(t){e(".tooltip").hide(),t.preventDefault(),n.onclick&&n.onclick()}),this.$icon.removeClass().addClass("icon fa").addClass(n.icon),n.title&&this.$title.removeClass().addClass("title ml-1").html(n.title),this.$menu&&this.$menu.remove(),this.collection.length>0&&(this.$menu=e("<ul/>").addClass("menu dropdown-menu dropdown-menu-right").addClass("pull-".concat(this.model.get("pull"))).attr("role","menu"),this.$el.append(this.$menu)),this.collection.each(function(n){var i=n.attributes;if(i.visible){var r=e("<a/>").addClass("dropdown-item").attr({href:i.href,target:i.target}).append(e("<i/>").addClass("fa mr-2").addClass(i.icon).css("display",i.icon?"inline-block":"none")).append(i.title).on("click",function(e){i.onclick&&(e.preventDefault(),i.onclick())});t.$menu.append(e("<li/>").append(r)),i.divider&&t.$menu.append(e("<li/>").addClass("divider"))}})},addMenu:function(e){this.collection.add(i.a.merge(e,{title:"",target:"",href:"",onclick:null,divider:!1,visible:!0,icon:null,cls:"button-menu btn-group"}))}});t.a={Button:o,ButtonLink:a,ButtonCheck:s,ButtonMenu:l}}).call(this,n(0))},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(20),l=n.n(s),c=n(3),u=n.n(c),d=n(4),h=n(5),f=n(42),p=n(32),m={hidden:!1,show:function(){this.set("hidden",!1)},hide:function(){this.set("hidden",!0)},toggle:function(){this.set("hidden",!this.get("hidden"))},is_visible:function(){return!this.attributes.hidden}},g=u.a.Model.extend({defaults:{name:null,label:null,type:null,value:null,html:null,num_samples:5},initialize:function(e){this.attributes.html=unescape(this.attributes.html)},copy:function(){return new g(this.toJSON())},set_value:function(e){this.set("value",e||"")}}),_=u.a.Collection.extend({model:g}),v=g.extend({}),y=g.extend({set_value:function(e){this.set("value",parseInt(e,10))},get_samples:function(){return l.a.scale.linear().domain([this.get("min"),this.get("max")]).ticks(this.get("num_samples"))}}),b=y.extend({set_value:function(e){this.set("value",parseFloat(e))}}),w=g.extend({get_samples:function(){return r.a.map(this.get("options"),function(e){return e[0]})}});g.subModelTypes={integer:y,float:b,data:v,select:w};var k=u.a.Model.extend({defaults:{id:null,name:null,description:null,target:null,inputs:[],outputs:[]},urlRoot:"".concat(Object(d.a)(),"api/tools"),initialize:function(e){this.set("inputs",new _(r.a.map(e.inputs,function(e){return new(g.subModelTypes[e.type]||g)(e)})))},toJSON:function(){var e=u.a.Model.prototype.toJSON.call(this);return e.inputs=this.get("inputs").map(function(e){return e.toJSON()}),e},remove_inputs:function(e){var t=this.get("inputs").filter(function(t){return-1!==e.indexOf(t.get("type"))});this.get("inputs").remove(t)},copy:function(e){var t=new k(this.toJSON());if(e){var n=new u.a.Collection;t.get("inputs").each(function(e){e.get_samples()&&n.push(e)}),t.set("inputs",n)}return t},apply_search_results:function(e){return-1!==r.a.indexOf(e,this.attributes.id)?this.show():this.hide(),this.is_visible()},set_input_value:function(e,t){this.get("inputs").find(function(t){return t.get("name")===e}).set("value",t)},set_input_values:function(e){var t=this;r.a.each(r.a.keys(e),function(n){t.set_input_value(n,e[n])})},run:function(){return this._run()},rerun:function(e,t){return this._run({action:"rerun",target_dataset_id:e.id,regions:t})},get_inputs_dict:function(){var e={};return this.get("inputs").each(function(t){e[t.get("name")]=t.get("value")}),e},_run:function(e){var t=r.a.extend({tool_id:this.id,inputs:this.get_inputs_dict()},e),n=a.a.Deferred(),i=new f.a.ServerStateDeferred({ajax_settings:{url:this.urlRoot,data:JSON.stringify(t),dataType:"json",contentType:"application/json",type:"POST"},interval:2e3,success_fn:function(e){return"pending"!==e}});return a.a.when(i.go()).then(function(e){n.resolve(new p.b(e))}),n}});r.a.extend(k.prototype,m);var M=u.a.Collection.extend({model:k}),x=u.a.Model.extend(m),C=u.a.Model.extend({defaults:{elems:[],open:!1},clear_search_results:function(){r.a.each(this.attributes.elems,function(e){e.show()}),this.show(),this.set("open",!1)},apply_search_results:function(e){var t,n=!0;r.a.each(this.attributes.elems,function(i){i instanceof x?(t=i).hide():i instanceof k&&i.apply_search_results(e)&&(n=!1,t&&t.show())}),n?this.hide():(this.show(),this.set("open",!0))}});r.a.extend(C.prototype,m);var S=u.a.Model.extend({defaults:{search_hint_string:"search tools",min_chars_for_search:3,clear_btn_url:"",visible:!0,query:"",results:null,clear_key:27},urlRoot:"".concat(Object(d.a)(),"api/tools"),initialize:function(){this.on("change:query",this.do_search)},do_search:function(){var e=this.attributes.query;if(e.length<this.attributes.min_chars_for_search)this.set("results",null);else{var t=e;this.timer&&clearTimeout(this.timer),a()("#search-clear-btn").hide(),a()("#search-spinner").show();var n=this;this.timer=setTimeout(function(){"undefined"!=typeof ga&&ga("send","pageview","".concat(Object(d.a)(),"?q=").concat(t)),a.a.get(n.urlRoot,{q:t},function(e){n.set("results",e),a()("#search-spinner").hide(),a()("#search-clear-btn").show()},"json")},400)}},clear_search:function(){this.set("query",""),this.set("results",null)}});r.a.extend(S.prototype,m);var T=u.a.Model.extend({initialize:function(e){this.attributes.tool_search=e.tool_search,this.attributes.tool_search.on("change:results",this.apply_search_results,this),this.attributes.tools=e.tools,this.attributes.layout=new u.a.Collection(this.parse(e.layout))},parse:function(e){var t=this;return r.a.map(e,function e(n){var i=n.model_class;if(i.indexOf("Tool")===i.length-4)return t.attributes.tools.get(n.id);if("ToolSection"===i){var o=r.a.map(n.elems,e);return n.elems=o,new C(n)}return"ToolSectionLabel"===i?new x(n):void 0})},clear_search_results:function(){this.get("layout").each(function(e){e instanceof C?e.clear_search_results():e.show()})},apply_search_results:function(){var e=this.get("tool_search").get("results");if(null!==e){var t=null;this.get("layout").each(function(n){n instanceof x?(t=n).hide():n instanceof k?n.apply_search_results(e)&&t&&t.show():(t=null,n.apply_search_results(e))})}else this.clear_search_results()}}),L=u.a.View.extend({initialize:function(){this.model.on("change:hidden",this.update_visible,this),this.update_visible()},update_visible:function(){this.model.attributes.hidden?this.$el.hide():this.$el.show()}}),E=L.extend({tagName:"div",render:function(){var e=a()("<div/>");e.append(j.tool_link(this.model.toJSON()));var t=this.model.get("form_style",null);if("upload1"===this.model.id)e.find("a").on("click",function(e){e.preventDefault(),Object(h.getGalaxyInstance)().upload.show()});else if("regular"===t){var n=this;e.find("a").on("click",function(e){e.preventDefault(),Object(h.getGalaxyInstance)().router.push("/",{tool_id:n.model.id,version:n.model.get("version")})})}return this.$el.append(e),this}}),D=L.extend({tagName:"div",className:"toolPanelLabel",render:function(){return this.$el.append(a()("<span/>").text(this.model.attributes.text)),this}}),O=L.extend({tagName:"div",className:"toolSectionWrapper",initialize:function(){L.prototype.initialize.call(this),this.model.on("change:open",this.update_open,this)},render:function(){this.$el.append(j.panel_section(this.model.toJSON()));var e=this.$el.find(".toolSectionBody");return r.a.each(this.model.attributes.elems,function(t){if(t instanceof k){var n=new E({model:t,className:"toolTitle"});n.render(),e.append(n.$el)}else if(t instanceof x){var i=new D({model:t});i.render(),e.append(i.$el)}}),this},events:{"click .toolSectionTitle > a":"toggle"},toggle:function(){this.model.set("open",!this.model.attributes.open)},update_open:function(){this.model.attributes.open?this.$el.children(".toolSectionBody").slideDown("fast"):this.$el.children(".toolSectionBody").slideUp("fast")}}),A=u.a.View.extend({tagName:"div",id:"tool-search",className:"bar",events:{click:"focus_and_select","keyup :input":"query_changed","change :input":"query_changed","click #search-clear-btn":"clear"},render:function(){return this.$el.append(j.tool_search(this.model.toJSON())),this.model.is_visible()||this.$el.hide(),this.$el.find("[title]").tooltip(),this},focus_and_select:function(){this.$el.find(":input").focus().select()},clear:function(){return this.model.clear_search(),this.$el.find(":input").val(""),this.focus_and_select(),!1},query_changed:function(e){if(this.model.attributes.clear_key&&this.model.attributes.clear_key===e.which)return this.clear(),!1;this.model.set("query",this.$el.find(":input").val())}}),Y=u.a.View.extend({tagName:"div",className:"toolMenu",initialize:function(){this.model.get("tool_search").on("change:results",this.handle_search_results,this)},render:function(){var e=this,t=new A({model:this.model.get("tool_search")});return t.render(),e.$el.closest(".unified-panel").find(".unified-panel-controls").append(t.$el),this.model.get("layout").each(function(t){if(t instanceof C){var n=new O({model:t});n.render(),e.$el.append(n.$el)}else if(t instanceof k){var i=new E({model:t,className:"toolTitleNoSection"});i.render(),e.$el.append(i.$el)}else if(t instanceof x){var r=new D({model:t});r.render(),e.$el.append(r.$el)}}),e.$el.find("a.tool-link").click(function(t){var n=a()(this).attr("class").split(/\s+/)[0],i=e.model.get("tools").get(n);e.trigger("tool_link_click",t,i)}),this},handle_search_results:function(){var e=this.model.get("tool_search").get("results");e&&0===e.length?a()("#search-no-results").show():a()("#search-no-results").hide()}}),R=u.a.View.extend({className:"toolForm",render:function(){this.$el.children().remove(),this.$el.append(j.tool_form(this.model.toJSON()))}}),j={tool_search:r.a.template('<input id="tool-search-query" class="search-query parent-width" name="query"\n                placeholder="<%- search_hint_string %>" autocomplete="off" type="text" />\n         <a id="search-clear-btn" title="clear search (esc)"> </a>\n         <span id="search-spinner" class="search-spinner fa fa-spinner fa-spin"></span>\n    '),panel_section:r.a.template(['<div class="toolSectionTitle" id="title_<%- id %>">','<a href="javascript:void(0)"><span><%- name %></span></a>',"</div>",'<div id="<%- id %>" class="toolSectionBody" style="display: none;">','<div class="toolSectionBg"></div>',"<div>"].join("")),tool_link:r.a.template(['<a class="<%- id %> tool-link" href="<%= link %>" target="<%- target %>" minsizehint="<%- min_width %>">','<span class="labels">',"<% _.each( labels, function( label ){ %>",'<span class="badge badge-primary badge-<%- label %>">',"<%- label %>","</span>","<% }); %>","</span>",'<span class="tool-old-link">',"<%- name %>","</span>"," <%- description %>","</a>"].join("")),tool_form:r.a.template(['<div class="toolFormTitle"><%- tool.name %> (version <%- tool.version %>)</div>','<div class="toolFormBody">',"<% _.each( tool.inputs, function( input ){ %>",'<div class="form-row">','<label for="<%- input.name %>"><%- input.label %>:</label>','<div class="form-row-input">',"<%= input.html %>","</div>",'<div class="toolParamHelp" style="clear: both;">',"<%- input.help %>","</div>",'<div style="clear: both;"></div>',"</div>","<% }); %>","</div>",'<div class="form-row form-actions">','<input type="submit" class="btn btn-primary" name="runtool_btn" value="Execute" />',"</div>",'<div class="toolHelp">','<div class="toolHelpBody"><% tool.help %></div>',"</div>"].join(""),{variable:"tool"})};t.a={ToolParameter:g,IntegerToolParameter:y,SelectToolParameter:w,Tool:k,ToolCollection:M,ToolSearch:S,ToolPanel:T,ToolPanelView:Y,ToolFormView:R}},function(e,t,n){"use strict";(function(e){var i=n(1),r=n.n(i),o=n(512),a=n.n(o);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=function(e,t){if(0==e.length)return"no columns";if(1==e.length)return"column ".concat(t[e[0]]);var n=e.map(function(e){return t[e]});return"columns ".concat([n.slice(0,-1).join(", "),n.slice(-1)[0]].join(" and "))},c=function(e,t){var n=[];for(var i in e)-1===t.indexOf(i)&&n.push(e[i]);return n},u=function(e,t,n,i,r){var o;try{o=a()(String(e))}catch(e){return{error:"Invalid regular expression specified."}}var s=0;return n=n.map(function(e){var n=e[t],a=o.exec(n);return a?i?e.concat([o.pyreReplace(a[0],i)]):(r=r&&parseInt(r))?a.length!=r+1?(s++,null):e.concat(a.splice(1,a.length)):e.concat([a[0]]):(s++,null)}),s>0?{error:"".concat(s," row(s) failed to match specified regular expression.")}:{data:n}},d=function(e,t){return t.reduce(function(t,n){return t.concat(e(n))},[])},h={add_column_basename:{title:r()("Basename of Path of URL"),display:function(e,t){return"Add column using basename of column ".concat(t[e.target_column])},init:function(e,t){e.addColumnBasenameTarget=t?t.target_column:0},save:function(e,t){t.target_column=e.addColumnBasenameTarget},apply:function(e,t,n,i){var r=e.target_column,o=u("[^/]*$",r,t);return i.push("new"),o.columns=i,o}},add_column_rownum:{title:r()("Row Number"),display:function(e,t){return"Add column for the current row number."},init:function(e,t){e.addColumnRownumStart=t?t.start:1},save:function(e,t){t.start=parseInt(e.addColumnRownumStart)},apply:function(e,t,n,i){var r=e.start;return t=t.map(function(e){var t=e.slice();return t.push(String(r)),r+=1,t}),i.push("new"),{data:t,columns:i}}},add_column_value:{title:r()("Fixed Value"),display:function(e,t){return"Add column for the constant value of ".concat(e.value,".")},init:function(e,t){e.addColumnValue=t?t.value:""},save:function(e,t){t.value=e.addColumnValue},apply:function(e,t,n,i){var r=e.value;return t=t.map(function(e){var t=e.slice();return t.push(r),t}),i.push("new"),{data:t,columns:i}}},add_column_metadata:{title:r()("Add Column from Metadata"),display:function(e,t){return"Add column for ".concat(e.value,".")},init:function(e,t){e.addColumnMetadataValue=t?t.value:null},save:function(e,t){t.value=e.addColumnMetadataValue},apply:function(e,t,n,i){var r,o=e.value;if(0==o.indexOf("identifier")){var a=parseInt(o.substring("identifier".length));r=function(e,t){var i=e.slice();return i.push(n[t].identifiers[a]),i}}else if("tags"==o)r=function(e,t){var i=e.slice(),r=n[t].tags;return r.sort(),i.push(r.join(",")),i};else{if("hid"!=o&&"name"!=o&&"path"!=o)return{error:"Unknown metadata type [".concat(o,"}]")};r=function(e,t){var i=e.slice();return i.push(n[t][o]),i}}return t=t.map(r),i.push("new"),{data:t,columns:i}}},add_column_group_tag_value:{title:r()("Add Column from Group Tag Value"),display:function(e,t){return"Add column for value of group tag ".concat(e.value,".")},init:function(e,t){t?(e.addColumnGroupTagValueValue=t.value,e.addColumnGroupTagValueDefault=t.default_value):(e.addColumnGroupTagValueValue=null,e.addColumnGroupTagValueDefault="")},save:function(e,t){t.value=e.addColumnGroupTagValueValue,t.default_value=e.addColumnGroupTagValueDefault},apply:function(e,t,n,i){var r=e.value,o="group:".concat(r,":");return t=t.map(function(t,i){var r=t.slice(),a=n[i].tags;a.sort();var s=e.default_value;for(var l in a){var c=a[l];if(0==c.indexOf(o)){s=c.substr(o.length);break}}return r.push(s),r}),i.push("new"),{data:t,columns:i}}},add_column_regex:{title:r()("Using a Regular Expression"),display:function(e,t){return"Add new column using ".concat(e.expression," applied to column ").concat(t[e.target_column])},init:function(e,t){t?(e.addColumnRegexTarget=t.target_column,e.addColumnRegexExpression=t.expression,e.addColumnRegexReplacement=t.replacement,e.addColumnRegexGroupCount=t.group_count):(e.addColumnRegexTarget=0,e.addColumnRegexExpression="",e.addColumnRegexReplacement=null,e.addColumnRegexGroupCount=null);var n="global";e.addColumnRegexGroupCount?n="groups":e.addColumnRegexReplacement&&(n="replacement"),e.addColumnRegexType=n},save:function(e,t){t.target_column=e.addColumnRegexTarget,t.expression=e.addColumnRegexExpression,e.addColumnRegexReplacement&&(t.replacement=e.addColumnRegexReplacement),e.addColumnRegexGroupCount&&(t.group_count=e.addColumnRegexGroupCount)},apply:function(e,t,n,i){var r=e.target_column,o=u(e.expression,r,t,e.replacement,e.group_count);return i.push("new"),o.columns=i,o}},add_column_concatenate:{title:r()("Concatenate Columns"),display:function(e,t){return"Concatenate column ".concat(t[e.target_column_0]," and column ").concat(t[e.target_column_1])},init:function(e,t){t?(e.addColumnConcatenateTarget0=t.target_column_0,e.addColumnConcatenateTarget1=t.target_column_1):(e.addColumnConcatenateTarget0=0,e.addColumnConcatenateTarget1=0)},save:function(e,t){t.target_column_0=e.addColumnConcatenateTarget0,t.target_column_1=e.addColumnConcatenateTarget1},apply:function(e,t,n,i){var r=e.target_column_0,o=e.target_column_1;return t=t.map(function(e){var t=e.slice();return t.push(e[r]+e[o]),t}),i.push("new"),{data:t,columns:i}}},add_column_substr:{title:r()("Keep or Trim Prefix or Suffix"),display:function(e,t){var n,i=e.substr_type;return n="keep_prefix"==i?"Keep only ".concat(e.length," characters from the start of column ").concat(t[e.target_column]):"drop_prefix"==i?"Remove ".concat(e.length," characters from the start of column ").concat(t[e.target_column]):"keep_suffix"==i?"Keep only ".concat(e.length," characters from the end of column ").concat(t[e.target_column]):"Remove ".concat(e.length," characters from the end of column ").concat(t[e.target_column]),n},init:function(e,t){t?(e.addColumnSubstrTarget=t.target_column,e.addColumnSubstrLength=t.length,e.addColumnSubstrType=t.substr_type):(e.addColumnSubstrTarget=0,e.addColumnSubstrType="keep_prefix",e.addColumnSubstrLength=1)},save:function(e,t){t.target_column=e.addColumnSubstrTarget,t.length=parseInt(e.addColumnSubstrLength),t.substr_type=e.addColumnSubstrType},apply:function(e,t,n,i){var r=e.target_column,o=e.length,a=e.substr_type;return t=t.map(function(e){var t=e.slice(),n=e[r],i=0,s=n.length;return"keep_prefix"==a?s=o:"drop_prefix"==a?i=o:"keep_suffix"==a?(i=s-o)<0&&(i=0):(s-=o)<0&&(s=0),t.push(n.substr(i,s)),t}),i.push("new"),{data:t}}},remove_columns:{title:r()("Remove Column(s)"),display:function(e,t){var n=e.target_columns;return"Remove ".concat(l(n,t))},init:function(e,t){e.removeColumnTargets=t?t.target_columns:[]},save:function(e,t){t.target_columns=e.removeColumnTargets},apply:function(e,t,n,i){var r=e.target_columns;return{data:t=t.map(function(e){var t=[];for(var n in e)-1==r.indexOf(parseInt(n))&&t.push(e[n]);return t}),columns:i=c(i,r)}}},add_filter_regex:{title:r()("Using a Regular Expression"),display:function(e,t){return"Filter rows using regular expression ".concat(e.expression," on column ").concat(t[e.target_column])},init:function(e,t){t?(e.addFilterRegexTarget=t.target_column,e.addFilterRegexExpression=t.expression,e.addFilterRegexInvert=t.invert):(e.addFilterRegexTarget=0,e.addFilterRegexExpression="",e.addFilterRegexInvert=!1)},save:function(e,t){t.target_column=e.addFilterRegexTarget,t.expression=e.addFilterRegexExpression,t.invert=e.addFilterRegexInvert},apply:function(e,t,n,i){var r,o=String(e.expression);try{r=a()(o)}catch(e){return{error:"Invalid regular expression specified."}}var s=e.target_column,l=e.invert,c=function(e,n){var i=t[parseInt(n)];return r.exec(i[s])?!l:l};return n=n.filter(c),{data:t=t.filter(c),sources:n}}},add_filter_count:{title:r()("First or Last N Rows"),display:function(e,t){var n=e.which,i=e.invert;return"first"!=n||i?"first"==n&&i?"Keep only first ".concat(e.count," row(s)."):"last"!=n||i?"Keep only last ".concat(e.count," row(s)."):"Filter out last ".concat(e.count," row(s)."):"Filter out first ".concat(e.count," row(s).")},init:function(e,t){t?(e.addFilterCountN=parseInt(t.count),e.addFilterCountWhich=t.which,e.addFilterCountInvert=t.inverse):(e.addFilterCountN=0,e.addFilterCountWhich="first",e.addFilterCountInvert=!1)},save:function(e,t){t.count=parseInt(e.addFilterCountN),t.which=e.addFilterCountWhich,t.invert=e.addFilterCountInvert},apply:function(e,t,n,i){var r=e.count,o=e.invert,a=e.which,s=t.length,l=function(e,t){return("first"==a?t>=r:t<s-r)?!o:o};return n=n.filter(l),{data:t=t.filter(l),sources:n}}},add_filter_empty:{title:r()("On Emptiness"),display:function(e,t){return"Filter rows if no value for column ".concat(t[e.target_column])},init:function(e,t){t?(e.addFilterEmptyTarget=t.target_column,e.addFilterEmptyInvert=t.invert):(e.addFilterEmptyTarget=0,e.addFilterEmptyInvert=!1)},save:function(e,t){t.target_column=e.addFilterEmptyTarget,t.invert=e.addFilterEmptyInvert},apply:function(e,t,n,i){var r=e.target_column,o=e.invert,a=function(e,n){return t[parseInt(n)][r].length?!o:o};return n=n.filter(a),{data:t=t.filter(a),sources:n}}},add_filter_matches:{title:r()("Matching a Supplied Value"),display:function(e,t){return"Filter rows with value ".concat(e.value," for column ").concat(t[e.target_column])},init:function(e,t){t?(e.addFilterMatchesTarget=t.target_column,e.addFilterMatchesValue=t.value,e.addFilterMatchesInvert=t.invert):(e.addFilterMatchesTarget=0,e.addFilterMatchesValue="",e.addFilterMatchesInvert=!1)},save:function(e,t){t.target_column=e.addFilterMatchesTarget,t.value=e.addFilterMatchesValue,t.invert=e.addFilterMatchesInvert},apply:function(e,t,n,i){var r=e.target_column,o=e.invert,a=e.value,s=function(e,n){return t[parseInt(n)][r]==a?!o:o};return n=n.filter(s),{data:t=t.filter(s),sources:n}}},add_filter_compare:{title:r()("By Comparing to a Numeric Value"),display:function(e,t){return"Filter rows with value ".concat(e.compare_type," ").concat(e.value," for column ").concat(t[e.target_column])},init:function(e,t){t?(e.addFilterCompareTarget=t.target_column,e.addFilterCompareValue=t.value,e.addFilterCompareType=t.compare_type):(e.addFilterCompareTarget=0,e.addFilterCompareValue=0,e.addFilterCompareType="less_than")},save:function(e,t){t.target_column=e.addFilterCompareTarget,t.value=e.addFilterCompareValue,t.compare_type=e.addFilterCompareType},apply:function(e,t,n,i){var r=e.target_column,o=e.compare_type,a=e.value,s=function(e,n){var i,s=t[parseInt(n)],l=parseFloat(s[r]);return"less_than"==o?i=l<a:"less_than_equal"==o?i=l<=a:"greater_than"==o?i=l>a:"greater_than_equal"==o&&(i=l>=a),i};return n=n.filter(s),{data:t=t.filter(s),sources:n}}},sort:{title:r()("Sort"),display:function(e,t){return"Sort on column ".concat(t[e.target_column])},init:function(e,t){t?(e.addSortingTarget=t.target_column,e.addSortingNumeric=t.numeric):(e.addSortingTarget=0,e.addSortingNumeric=!1)},save:function(e,t){t.target_column=e.addSortingTarget,t.numeric=e.addSortingNumeric},apply:function(t,n,i,r){var o=t.target_column,a=t.numeric,s=e.zip(n,i);s.sort(function(e,t){var n=e[0][o],i=t[0][o];return a&&(n=parseFloat(n),i=parseFloat(i)),n<i?-1:i<n?1:0});var l=[],c=[];return s.map(function(e){l.push(e[0]),c.push(e[1])}),{data:l,sources:c}}},swap_columns:{title:r()("Swap Column(s)"),display:function(e,t){return"Swap ".concat(l([e.target_column_0,e.target_column_1],t))},init:function(e,t){t?(e.swapColumnsTarget0=t.target_column_0,e.swapColumnsTarget1=t.target_column_1):(e.swapColumnsTarget0=0,e.swapColumnsTarget1=0)},save:function(e,t){t.target_column_0=e.swapColumnsTarget0,t.target_column_1=e.swapColumnsTarget1},apply:function(e,t,n,i){var r=e.target_column_0,o=e.target_column_1;t=t.map(function(e){var t=e.slice();return t[r]=e[o],t[o]=e[r],t});var a=i[r];return i[r]=i[o],i[o]=a,{data:t,columns:i}}},split_columns:{title:r()("Split Column(s)"),display:function(e,t){return"Duplicate each row and split up columns"},init:function(e,t){t?(e.splitColumnsTargets0=t.target_columns_0,e.splitColumnsTargets1=t.target_columns_1):(e.splitColumnsTargets0=[],e.splitColumnsTargets1=[])},save:function(e,t){t.target_columns_0=e.splitColumnsTargets0,t.target_columns_1=e.splitColumnsTargets1},apply:function(e,t,n,i){var r=e.target_columns_0,o=e.target_columns_1;return{data:t=d(function(e){var t=[],n=[];for(var i in e)i=parseInt(i),r.indexOf(i)>-1?t.push(e[i]):o.indexOf(i)>-1?n.push(e[i]):(t.push(e[i]),n.push(e[i]));return[t,n]},t),sources:n=d(function(e){return[e,e]},n),columns:i=c(i,r)}}}},f={list_identifiers:{multiple:!0,label:r()("List Identifier(s)"),columnHeader:r()("List Identifier"),help:r()("This should be a short description of the replicate, sample name, condition, etc... that describes each level of the list structure."),importType:"collections"},paired_identifier:{label:r()("Paired-end Indicator"),columnHeader:r()("Paired Indicator"),help:r()("This should be set to '1', 'R1', 'forward', 'f', or 'F' to indicate forward reads, and '2', 'r', 'reverse', 'R2', 'R', or 'R2' to indicate reverse reads."),importType:"collections"},collection_name:{label:r()("Collection Name"),help:r()("If this is set, all rows with the same collection name will be joined into a collection and it is possible to create multiple collections at once."),modes:["raw","ftp","datasets","library_datasets"],importType:"collections"},name_tag:{label:r()("Name Tag"),help:r()("Add a name tag or hash tag based on the specified column value for imported datasets."),importType:"datasets",modes:["raw","ftp"]},tags:{multiple:!0,label:r()("General Purpose Tag(s)"),help:r()("Add a general purpose tag based on the specified column value, use : to separate key-value pairs if desired. These tags are not propagated to derived datasets the way name and group tags are."),modes:["raw","ftp","datasets","library_datasets"]},group_tags:{multiple:!0,label:r()("Group Tag(s)"),help:r()("Add a group tag based on the specified column value, use : to separate key-value pairs. These tags are propagated to derived datasets and may be useful for factorial experiments."),modes:["raw","ftp","datasets","library_datasets"]},name:{label:r()("Name"),importType:"datasets"},dbkey:{label:r()("Genome"),modes:["raw","ftp"]},file_type:{label:r()("Type"),modes:["raw","ftp"],help:r()("This should be the Galaxy file type corresponding to this file.")},url:{label:r()("URL"),modes:["raw"],help:r()("This should be a URL the file can be downloaded from.")},info:{label:r()("Info"),help:r()("Unstructured text associated with the dataset that shows up in the history panel, this is optional and can be whatever you would like."),modes:["raw","ftp"]},ftp_path:{label:r()("FTP Path"),modes:["raw","ftp"],help:r()("This should be the path to the target file to include relative to your FTP directory on the Galaxy server"),requiresFtp:!0}},p=function(e,t){return 0==e.length?t?t.map(function(e,t){return String.fromCharCode(65+t)}):[]:e[0].map(function(e,t){return String.fromCharCode(65+t)})};t.a={applyRules:function(e,t,n,i,o){o=o||[];var a=!1;for(var s in i){var l=p(e,n);o[s]=l;var c=i[s];if(c.error=null,c.warn=null,a)c.warn=r()("Skipped due to previous errors.");else{var u=c.type,d=h[u].apply(c,e,t,n);d.error?(a=!0,c.error=d.error):(d.warn&&(c.warn=d.warn),e=d.data||e,t=d.sources||t,n=d.columns||n)}}return{data:e,sources:t,columns:n}},columnDisplay:function(e,t){var n;return 2==(n="object"==s(e)?e.map(function(e){return t[e]}):[t[e]]).length?"columns "+n[0]+" and "+n[1]:n.length>2?"columns "+n.slice(0,-1).join(", ")+", and "+n[n.length-1]:"column "+n[0]},colHeadersFor:p,RULES:h,MAPPING_TARGETS:f}}).call(this,n(2))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var i=n(35),r=n(359);e.exports=n(43)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(396),r=n(90);e.exports=function(e){return i(r(e))}},function(e,t,n){var i=n(90);e.exports=function(e){return Object(i(e))}},function(e,t,n){"use strict";var i=n(550),r=n(827),o=Object.prototype.toString;function a(e){return"[object Array]"===o.call(e)}function s(e){return null!==e&&"object"==typeof e}function l(e){return"[object Function]"===o.call(e)}function c(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:r,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function n(n,i){"object"==typeof t[i]&&"object"==typeof n?t[i]=e(t[i],n):t[i]=n}for(var i=0,r=arguments.length;i<r;i++)c(arguments[i],n);return t},extend:function(e,t,n){return c(t,function(t,r){e[r]=n&&"function"==typeof t?i(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";n.d(t,"a",function(){return M}),n.d(t,"b",function(){return L});var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(1),d=n.n(u),h=n(13),f=n(26),p=n(95),m=n(58),g=n(32),_=n(70),v=n(49),y=l.a.Model.extend({defaults:{inputs:null,values:null}}),b=l.a.Model.extend({defaults:{tool:null,tree_data:null},initialize:function(e){var t=this;this.get("tool").get("inputs").each(function(e){e.on("change:min change:max change:num_samples",function(e){e.get("in_ptree")&&t.set_tree_data()},t),e.on("change:in_ptree",function(e){e.get("in_ptree")?t.add_param(e):t.remove_param(e),t.set_tree_data()},t)}),e.config&&r.a.each(e.config,function(e){var n=t.get("tool").get("inputs").find(function(t){return t.get("name")===e.name});t.add_param(n),n.set(e)})},add_param:function(e){e.get("ptree_index")||(e.set("in_ptree",!0),e.set("ptree_index",this.get_tree_params().length))},remove_param:function(e){e.set("in_ptree",!1),e.set("ptree_index",null),r()(this.get_tree_params()).each(function(e,t){e.set("ptree_index",t+1)})},set_tree_data:function(){var e=r.a.map(this.get_tree_params(),function(e){return{param:e,samples:e.get_samples()}}),t=0;this.set("tree_data",{name:"Root",id:t++,children:0!==e.length?function e(n,i){var o=n[i],a=o.param,s=(a.get("label"),o.samples);return n.length-1===i?r.a.map(s,function(e){return{id:t++,name:e,param:a,value:e}}):r.a.map(s,function(r){return{id:t++,name:r,param:a,value:r,children:e(n,i+1)}})}(e,0):null})},get_tree_params:function(){return r()(this.get("tool").get("inputs").where({in_ptree:!0})).sortBy(function(e){return e.get("ptree_index")})},get_num_leaves:function(){return this.get_tree_params().reduce(function(e,t){return e*t.get_samples().length},1)},get_node_settings:function(e){var t=this.get("tool").get_inputs_dict(),n=e.parent;if(n)for(;0!==n.depth;)t[n.param.get("name")]=n.value,n=n.parent;var i=this,o=function e(t,n){return t.param&&(n[t.param.get("name")]=t.value),t.children?r.a.flatten(r.a.map(t.children,function(t){return e(t,r.a.clone(n))})):new y({inputs:i.get("tool").get("inputs"),values:n})}(e,t);return r.a.isArray(o)||(o=[o]),o},get_connected_nodes:function(e){for(var t=[],n=e.parent;n;)t.push(n),n=n.parent;return r.a.flatten([t,function e(t){return t.children?r.a.flatten([t,r.a.map(t.children,function(t){return e(t)})]):t}(e)])},get_leaf:function(e){for(var t=this.get("tree_data"),n=function(t){return r.a.find(t,function(t){return e[t.param.get("name")]===t.value})};t.children;)t=n(t.children);return t},toJSON:function(){return this.get_tree_params().map(function(e){return{name:e.get("name"),min:e.get("min"),max:e.get("max"),num_samples:e.get("num_samples")}})}}),w=l.a.Model.extend({defaults:{track:null,mode:"Pack",settings:null,regions:null},initialize:function(e){if(this.set("regions",e.regions),e.track){var t=r.a.extend({data_url:"".concat(Object(c.a)(),"dummy1"),converted_datasets_state_url:"".concat(Object(c.a)(),"dummy2")},e.track);this.set("track",p.a.object_from_template(t,{},null))}},same_settings:function(e){var t=this.get("settings"),n=e.get("settings");for(var i in t)if(!n[i]||t[i]!==n[i])return!1;return!0},toJSON:function(){return{track:this.get("track").to_dict(),settings:this.get("settings"),regions:this.get("regions")}}}),k=l.a.Collection.extend({model:w}),M=f.a.Visualization.extend({defaults:r.a.extend({},f.a.Visualization.prototype.defaults,{dataset:null,tool:null,parameter_tree:null,regions:null,tracks:null,default_mode:"Pack"}),initialize:function(e){this.set("dataset",new g.a(e.dataset)),this.set("tool",new m.a.Tool(e.tool)),this.set("regions",new f.a.GenomeRegionCollection(e.regions)),this.set("tracks",new k(e.tracks));var t=this.get("tool");this.set("tool_with_samplable_inputs",t),t.remove_inputs(["data","hidden_data","conditional","text"]),this.set("parameter_tree",new b({tool:t,config:e.tree_config}))},add_track:function(e){this.get("tracks").add(e)},toJSON:function(){return{id:this.get("id"),title:"Parameter exploration for dataset '".concat(this.get("dataset").get("name"),"'"),type:"sweepster",dataset_id:this.get("dataset").id,tool_id:this.get("tool").id,regions:this.get("regions").toJSON(),tree_config:this.get("parameter_tree").toJSON(),tracks:this.get("tracks").toJSON()}}}),x=l.a.View.extend({tagName:"tr",TILE_LEN:250,initialize:function(e){this.canvas_manager=e.canvas_manager,this.render(),this.model.on("change:track change:mode",this.draw_tiles,this)},render:function(){var e=this.model.get("settings"),t=e.get("values"),n=a()("<td/>").addClass("settings").appendTo(this.$el),i=a()("<div/>").addClass("track-info").hide().appendTo(n);i.append(a()("<div/>").css("font-weight","bold").text("Track Settings")),e.get("inputs").each(function(e){i.append("".concat(e.get("label"),": ").concat(t[e.get("name")],"<br/>"))});var r=this,o=(a()("<button/>").appendTo(i).text("Run on complete dataset").click(function(){i.toggle(),r.trigger("run_on_dataset",e)}),v.a.create_icon_buttons_menu([{title:d()("Settings"),icon_class:"gear track-settings",on_click:function(){i.toggle()}},{title:d()("Remove"),icon_class:"cross-circle",on_click:function(){r.$el.remove(),a()(".tooltip").remove()}}]));n.prepend(o.$el),this.model.get("regions").each(function(){r.$el.append(a()("<td/>").addClass("tile").html(a()("<img/>").attr("src","".concat(Object(c.a)(),"images/loading_large_white_bg.gif"))))}),this.model.get("track")&&this.draw_tiles()},draw_tiles:function(){var e=this,t=this.model.get("track"),n=this.model.get("regions"),i=this.$el.find("td.tile");t&&a.a.when(t.data_manager.data_is_ready()).then(function(r){n.each(function(n,r){var o=n.length()/e.TILE_LEN,s=1/o,l=e.model.get("mode");a.a.when(t.data_manager.get_data(n,l,o,{})).then(function(o){var c=e.canvas_manager.new_canvas();c.width=e.TILE_LEN,c.height=t.get_canvas_height(o,l,s,c.width),t.draw_tile(o,c.getContext("2d"),l,n,s),a()(i[r]).empty().append(c)})})})}}),C=l.a.View.extend({number_input_template:'<div class="form-row-input sweep"><input class="min" type="text" size="6" value="<%= min %>"> - <input class="max" type="text" size="6" value="<%= max %>"> samples: <input class="num_samples" type="text" size="1" value="<%= num_samples %>"></div>',select_input_template:'<div class="form-row-input sweep"><%= options %></div>',initialize:function(e){this.$el=e.tool_row,this.render()},render:function(){var e=this.model,t=(e.get("type"),this.$el.find(".form-row-input")),n=null;if(t.find(":input").change(function(){e.set("value",a()(this).val())}),e instanceof m.a.IntegerToolParameter)n=a()(r.a.template(this.number_input_template)(this.model.toJSON()));else if(e instanceof m.a.SelectToolParameter){var i=r.a.map(this.$el.find("select option"),function(e){return a()(e).val()}).join(", ");n=a()(r.a.template(this.select_input_template)({options:i}))}n.insertAfter(t);var o=this,s=v.a.create_icon_buttons_menu([{title:d()("Add parameter to tree"),icon_class:"plus-button",on_click:function(){e.set("in_ptree",!0),t.hide(),n.show(),a()(this).hide(),o.$el.find(".icon-button.toggle").show()}},{title:d()("Remove parameter from tree"),icon_class:"toggle",on_click:function(){e.set("in_ptree",!1),n.hide(),t.show(),a()(this).hide(),o.$el.find(".icon-button.plus-button").show()}}],{});this.$el.prepend(s.$el),e.get("in_ptree")?(t.hide(),o.$el.find(".icon-button.plus-button").hide()):(o.$el.find(".icon-button.toggle").hide(),n.hide()),r.a.each(["min","max","num_samples"],function(t){n.find(".".concat(t)).change(function(){e.set(t,parseFloat(a()(this).val()))})})}}),S=l.a.View.extend({className:"tree-design",initialize:function(e){this.render()},render:function(){var e=new m.a.ToolFormView({model:this.model.get("tool")});e.render(),this.$el.append(e.$el);var t=this.model.get("tool").get("inputs");this.$el.find(".form-row").not(".form-actions").each(function(e){new C({model:t.at(e),tool_row:a()(this)})})}}),T=l.a.View.extend({className:"tool-parameter-tree",initialize:function(e){this.model.on("change:tree_data",this.render,this)},render:function(){this.$el.children().remove();var e=this.model.get_tree_params();if(e.length){this.width=100*(2+e.length),this.height=15*this.model.get_num_leaves();var t=this,n=h.layout.cluster().size([this.height,this.width-160]),i=h.svg.diagonal().projection(function(e){return[e.y,e.x]}),o=n.nodes(this.model.get("tree_data")),s=r.a.uniq(r.a.pluck(o,"y"));r.a.each(e,function(e,n){var i=s[n+1],r=a()("#center").position().left;t.$el.append(a()("<div>").addClass("label").text(e.get("label")).css("left",i+r))});var l=h.select(this.$el[0]).append("svg").attr("width",this.width).attr("height",this.height+30).append("g").attr("transform","translate(40, 20)"),c=(l.selectAll("path.link").data(n.links(o)).enter().append("path").attr("class","link").attr("d",i),l.selectAll("g.node").data(o).enter().append("g").attr("class","node").attr("transform",function(e){return"translate(".concat(e.y,",").concat(e.x,")")}).on("mouseover",function(e){var n=r.a.pluck(t.model.get_connected_nodes(e),"id");c.filter(function(e){return void 0!==r.a.find(n,function(t){return t===e.id})}).style("fill","#f00")}).on("mouseout",function(){c.style("fill","#000")}));c.append("circle").attr("r",9),c.append("text").attr("dx",function(e){return e.children?-12:12}).attr("dy",3).attr("text-anchor",function(e){return e.children?"end":"start"}).text(function(e){return e.name})}}}),L=l.a.View.extend({className:"Sweepster",helpText:"<div><h4>Getting Started</h4><ol><li>Create a parameter tree by using the icons next to the tool's parameter names to add or remove parameters.<li>Adjust the tree by using parameter inputs to select min, max, and number of samples<li>Run the tool with different settings by clicking on tree nodes</ol></div>",initialize:function(e){this.canvas_manager=new f.a.CanvasManager(this.$el.parents("body")),this.tool_param_tree_view=new T({model:this.model.get("parameter_tree")}),this.track_collection_container=a()("<table/>").addClass("tracks"),this.model.get("parameter_tree").on("change:tree_data",this.handle_node_clicks,this);var t=this;this.model.get("tracks").each(function(e){e.get("track").view=t}),this.config=_.a.ConfigSettingCollection.from_models_and_saved_values([{key:"name",label:"Name",type:"text",default_value:""},{key:"a_color",label:"A Color",type:"color",default_value:"#FF0000"},{key:"c_color",label:"C Color",type:"color",default_value:"#00FF00"},{key:"g_color",label:"G Color",type:"color",default_value:"#0000FF"},{key:"t_color",label:"T Color",type:"color",default_value:"#FF00FF"},{key:"n_color",label:"N Color",type:"color",default_value:"#AAAAAA"},{key:"block_color",label:"Block color",type:"color"},{key:"reverse_strand_color",label:"Antisense strand color",type:"color"}],{})},render:function(){var e=new S({model:this.model.get("parameter_tree")});a()("#left").append(e.$el);var t=this,n=t.model.get("regions"),i=a()("<tr/>").appendTo(this.track_collection_container);n.each(function(e){i.append(a()("<th>").text(e.toString()))}),i.children().first().attr("colspan",2);var o=a()("<div>").addClass("tiles");a()("#right").append(o.append(this.track_collection_container)),t.model.get("tracks").each(function(e){t.add_track(e)});var s=a()(this.helpText).addClass("help"),l=v.a.create_icon_buttons_menu([{title:d()("Close"),icon_class:"cross-circle",on_click:function(){a()(".tooltip").remove(),s.remove()}}]);s.prepend(l.$el.css("float","right")),a()("#center").append(s),this.tool_param_tree_view.render(),a()("#center").append(this.tool_param_tree_view.$el),this.handle_node_clicks();var u=v.a.create_icon_buttons_menu([{icon_class:"chevron-expand",title:"Set display mode"},{icon_class:"cross-circle",title:d()("Close"),on_click:function(){window.top.location="".concat(Object(c.a)(),"visualizations/list")}}],{tooltip_config:{placement:"bottom"}}),h={};r.a.each(["Squish","Pack"],function(e){h[e]=function(){t.model.set("default_mode",e),t.model.get("tracks").each(function(t){t.set("mode",e)})}}),make_popupmenu(u.$el.find(".chevron-expand"),h),u.$el.attr("style","float: right"),a()("#right .unified-panel-header-inner").append(u.$el)},get_base_color:function(e){return this.config.get_value("".concat(e.toLowerCase(),"_color"))||this.config.get_value("n_color")},run_tool_on_dataset:function(e){var t=this.model.get("tool"),n=t.get("name"),i=this.model.get("dataset");t.set_input_values(e.get("values")),a.a.when(t.rerun(i)).then(function(e){}),show_modal("Running ".concat(n," on complete dataset"),"".concat(n," is running on dataset '").concat(i.get("name"),"'. Outputs are in the dataset's history."),{Ok:function(){hide_modal()}})},add_track:function(e){var t=this,n=this.model.get("parameter_tree");t.model.add_track(e);var i=new x({model:e,canvas_manager:t.canvas_manager});return i.on("run_on_dataset",t.run_tool_on_dataset,t),t.track_collection_container.append(i.$el),i.$el.hover(function(){var i=n.get_leaf(e.get("settings").get("values")),o=r.a.pluck(n.get_connected_nodes(i),"id");h.select(t.tool_param_tree_view.$el[0]).selectAll("g.node").filter(function(e){return void 0!==r.a.find(o,function(t){return t===e.id})}).style("fill","#f00")},function(){h.select(t.tool_param_tree_view.$el[0]).selectAll("g.node").style("fill","#000")}),e},handle_node_clicks:function(){var e=this,t=this.model.get("parameter_tree"),n=this.model.get("regions");h.select(this.tool_param_tree_view.$el[0]).selectAll("g.node").on("click",function(i,o){var s=e.model.get("tool"),l=e.model.get("dataset"),c=t.get_node_settings(i),u=a.a.Deferred();c.length>=10?show_modal("Whoa there cowboy!","You clicked on a node to try ".concat(e.model.get("tool").get("name")," with ").concat(c.length," different combinations of settings. You can only run 10 jobs at a time."),{Ok:function(){hide_modal(),u.resolve(!1)}}):u.resolve(!0),a.a.when(u).then(function(t){if(t){var i=r.a.map(c,function(t){var i=new w({settings:t,regions:n,mode:e.model.get("default_mode")});return e.add_track(i),i});r.a.each(i,function(t,i){setTimeout(function(){s.set_input_values(t.get("settings").get("values")),a.a.when(s.rerun(l,n)).then(function(n){var i=n.first(),r=i.get("track_config");r.dataset=i,r.tool=null,r.prefs=e.config.to_key_value_dict();var o=p.a.object_from_template(r,e,null);o.init_for_tool_data(),t.set("track",o)})},1e4*i)})}})})}})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var i=n(13);function r(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()-t,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function o(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()-t,e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function a(t,n,a,s){var l,c=t,u=[],d=function(){var e=new Date;return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),0,0)}();for(l=0;l<24;l++)u.push(o(d,l));var h=[];for(l=0;l<30;l++)h.push(r(d,l));var f=60,p=50,m=60,g=0;"hours"==a?g=12.5:"days"==a&&(g=10);var _,v=300+m+30,y=1.75;_=0!==i.max(c)?150/i.max(c):1;var b=150+f+p;e(".charts").css("height",b*y);var w=i.select("#".concat(n)).attr("width",v).attr("height",b).attr("preserveAspectRatio","xMidYMin").attr("viewBox","0 0 ".concat(v," ").concat(b)).on("click",function(){var e=i.select(this).attr("class");e=e.split(" "),i.selectAll(".".concat(e[0])).filter(".".concat(e[1])).style("cursor","zoom-in").transition().duration(750).attr("height",b).attr("width",v),i.select(this).style("cursor","default").transition().duration(750).attr("height",b*y).attr("width",v*y)}),k=w.selectAll("g").data(c).enter().append("g").attr("transform",function(e,t){var n=m;return"translate(".concat(n+=+t*g,",").concat(f,")")}).on("mouseenter",function(e){for(var t=1,n=e;n>=10;)n/=10,t++;var r=4*t+10;i.select(i.event.target.parentElement).select(".tool_tip").select("text").attr("transform","translate( ".concat(m-5,", ").concat(150-e*_+f+10," )")).attr("visibility","visible").text(e),i.select(i.event.target.parentElement).select(".tool_tip").attr("width","".concat(r,"px")).attr("height","15px").select("rect").attr("transform","translate( ".concat(m-r,", ").concat(150-e*_+f," )")).attr("width","".concat(r,"px")).attr("height","15px").attr("fill","#ebd9b2")}).on("mouseleave",function(e){i.select(i.event.target.parentElement).select(".tool_tip").select("text").attr("visibility","hidden"),i.select(i.event.target.parentElement).select(".tool_tip").select("rect").attr("width","0").attr("height","0").attr("fill","").text(e)});w.append("g").append("text").attr("class","title").attr("text-anchor","end").attr("transform",function(){return"translate( ".concat(300,",15 )")}).text(s),w.append("g").attr("class","axis").append("path").attr("class","x").attr("d",function(){var e=f+150,t=m+300,n=e;return"M".concat(m," ").concat(e," L ").concat(t," ").concat(n)});var M=i.scale.linear().range([150,0]),x=i.svg.axis().scale(M).orient("left").tickFormat(function(e){return i.round(e*i.max(c),0)});w.append("g").attr("class","y axis").attr("id","y_".concat(n)).attr("text-anchor","end").attr("transform","translate( ".concat(m,",").concat(f,")")).call(x).select(".domain"),w.append("g").append("text").attr("class","ax_title").attr("transform",function(){var e=i.select("#y_".concat(n)).node(),t=m-e.getBoundingClientRect().width-5,r=f+e.getBoundingClientRect().height/2-30;return"translate(".concat(t,",").concat(r,")rotate(-90)")}).text("Number of Jobs"),k.append("rect").attr("y",function(e){return 150-e*_}).attr("height",function(e){return e*_}).attr("width",g-1);var C=!1;if("hours"==a){k.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",3).attr("stroke","black").attr("stroke-width",1).attr("pointer-events","none").attr("transform",function(){return"translate( ".concat(g/2,", ").concat(150,")")}),k.append("text").attr("fill","rgb(0,0,0)").attr("transform","translate( 10, ".concat(160," )")).text(function(e,t){return u[t].getHours()<10?"0".concat(String(u[t].getHours())):u[t].getHours()});var S="";C=!1,k.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",function(e,t){var n=0;return u[t].getDate()!=S&&(C?n=20:(n=27,C=!0),S=u[t].getDate()),n}).attr("stroke","black").attr("stroke-width",1).attr("pointer-events","none").attr("transform",function(){return"translate( 0, ".concat(150,")")}),S="";var T="";C=!1,k.append("text").attr("fill","rgb(0,0,0)").attr("pointer-events","none").text(function(e,t){var n="";return u[t].getDate()!=T&&(n=String(u[t].toLocaleString("en-us",{month:"long"})),n+=" ".concat(String(u[t].getDate())),T=u[t].getDate()),n}).attr("transform",function(e,t){var n=150,r=i.select(this).node().getBBox().width;return u[t].getDate()!=S&&(C?n+=18:(n+=26,C=!0),S=u[t].getDate()),"translate( ".concat(r+2,", ").concat(n," )")})}else if("days"==a){k.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",3).attr("stroke","black").attr("stroke-width",1).attr("pointer-events","none").attr("transform",function(){return"translate( ".concat(g/2,", ").concat(150,")")}),k.append("text").attr("fill","rgb(0,0,0)").attr("transform","translate( 9, ".concat(160," )")).text(function(e,t){return h[t].getDate()<10?"0".concat(String(h[t].getDate())):h[t].getDate()});var L="";C=!1,k.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",function(e,t){var n=0;return h[t].getMonth()!=L&&(C?n=20:(n=27,C=!0),L=h[t].getMonth()),n}).attr("stroke","black").attr("stroke-width",1).attr("pointer-events","none").attr("transform",function(){return"translate( 0, ".concat(150,")")}),L="";var E="";C=!1,k.append("text").attr("fill","rgb(0,100,0)").attr("pointer-events","none").text(function(e,t){var n="";return h[t].getMonth()!=E&&(n=String(h[t].toLocaleString("en-us",{month:"long"})),n+=" ".concat(String(h[t].getFullYear())),E=h[t].getMonth()),n}).attr("transform",function(e,t){var n=150,r=i.select(this).node().getBBox().width;return h[t].getMonth()!=L&&(C?n+=18:(n+=26,C=!0),L=h[t].getMonth()),"translate( ".concat(r+2,", ").concat(n," )")})}w.append("g").attr("class","tool_tip").append("rect"),w.select(".tool_tip").append("text"),"jc_dy_chart"!=n&&"jc_hr_chart"!=n||i.select("#".concat(n)).attr("height",b*y).attr("width",v*y).style("cursor","default")}function s(e,t,n){var r=e,o=1.75,a=60,s=60,l=150+a+50,c=300+s+30,u=i.scale.linear().domain([0,i.max(r)]).range([0,300]);r=i.layout.histogram().bins(u.ticks(20))(r);for(var d,h=[],f=0;f<r.length;f++)h.push(r[f].length);d=0!==i.max(r)?150/i.max(h):1;var p=i.scale.linear().domain([0,i.max(r,function(e){return e.y})]).range([150,0]);var m=i.select("#".concat(t)).attr("viewBox","0 0 ".concat(c," ").concat(l)).attr("width",c).attr("height",l).attr("preserveAspectRatio","xMidYMin").on("click",function(){var e=i.select(this).attr("class");e=e.split(" "),i.selectAll(".".concat(e[0])).filter(".".concat(e[1])).style("cursor","zoom-in").transition().duration(750).attr("height",l).attr("width",c),i.select(this).style("cursor","default").transition().duration(750).attr("height",l*o).attr("width",c*o)});m.append("g").append("text").attr("class","title").attr("transform",function(){return"translate( ".concat(300,",15 )")}).text(n);var g,_=m.selectAll(".bar").data(r).enter().append("g").attr("class","bar").attr("transform",function(e){return"translate(".concat(+u(e.x)+s,",").concat(+p(e.y)+a,")")}).on("mouseenter",function(e){for(var t=0,n=e.length;n>=1;)n/=10,t++;var r=4*t+10;i.select(i.event.target.parentElement).select(".tool_tip").select("text").attr("transform","translate( ".concat(s-5,", ").concat(150-e.length*d+a+10," )")).attr("visibility","visible").text(e.length),i.select(i.event.target.parentElement).select(".tool_tip").attr("width","".concat(r,"px")).attr("height","15px").select("rect").attr("transform","translate( ".concat(s-r,", ").concat(150-e.length*d+a," )")).attr("width","".concat(r,"px")).attr("height","15px").attr("fill","#ebd9b2")}).on("mouseleave",function(){i.select(i.event.target.parentElement).select(".tool_tip").select("text").attr("visibility","hidden"),i.select(i.event.target.parentElement).select(".tool_tip").select("rect").attr("width","0").attr("height","0").attr("fill","")});g=void 0===r[0]?1:u(r[0].dx),_.append("rect").attr("x",1).attr("width",g-1).attr("height",function(e){return 150-p(e.y)});var v=i.svg.axis().scale(u).orient("bottom").tickFormat(function(e){var t=Math.floor(e/60),n=Math.floor(e-60*t);return t<10&&(t="0".concat(t)),n<10&&(n="0".concat(n)),"".concat(t,":").concat(n)});m.append("g").attr("class","x axis").attr("id","x_".concat(t)).attr("transform","translate( ".concat(s,",").concat(150+a,")")).call(v),m.append("g").append("text").attr("class","ax_title").attr("transform",function(){var e=i.select("#x_".concat(t)).node(),n=s+e.getBoundingClientRect().width/2+30,r=a+150+e.getBoundingClientRect().height+10;return"translate(".concat(n,",").concat(r,")")}).text("ETA - hrs:mins");var y=i.svg.axis().scale(p).orient("left");m.append("g").attr("class","y axis").attr("id","y_".concat(t)).attr("transform","translate( ".concat(s,",").concat(a,")")).call(y),m.append("g").append("text").attr("class","ax_title").attr("transform",function(){var e=i.select("#y_".concat(t)).node(),n=s-e.getBoundingClientRect().width-5,r=a+e.getBoundingClientRect().height/2-30;return"translate(".concat(n,",").concat(r,")rotate(-90)")}).text("Number of Jobs"),m.append("g").attr("class","tool_tip").append("rect"),m.select(".tool_tip").append("text")}}).call(this,n(0))},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(456),d=n(37),h=n(346),f=n(471),p=n(368),m=n(8),g=n(72),_=window.localStorage.getItem("historyContentsLimitPerPageDefault")||500,v=u.a.PaginatedCollection,y=v.extend(m.a.LoggableMixin).extend({_logNamespace:"history",limitPerPage:_,limitPerProgressiveFetch:_,order:"hid",url:function(){return"".concat(this.urlRoot,"/").concat(this.historyId,"/contents")},initialize:function(e,t){this.on({"sync add":this.trackJobStates}),t=t||{},this.urlRoot="".concat(Object(c.a)(),"api/histories"),v.prototype.initialize.call(this,e,t),this.history=t.history||null,this.setHistoryId(t.historyId||null),this.includeDeleted=t.includeDeleted||this.includeDeleted,this.includeHidden=t.includeHidden||this.includeHidden,this.model.prototype.idAttribute="type_id"},trackJobStates:function(){var e=this;this.each(function(t){if(!t.has("job_states_summary")&&"dataset_collection"===t.attributes.history_content_type){var n=t.attributes.job_source_type,i=t.attributes.job_source_id;if(n&&e.jobStateSummariesCollection){e.jobStateSummariesCollection.add({id:i,model:n,history_id:e.history_id,collection_id:t.attributes.id});var r=e.jobStateSummariesCollection.get(i);t.jobStatesSummary=r}}})},model:function(e,t){return"dataset"===e.history_content_type?new d.a.HistoryDatasetAssociation(e,t):"dataset_collection"===e.history_content_type?new h.a.HistoryDatasetCollection(e,t):{validationError:"Unknown history_content_type: ".concat(e.history_content_type)}},stopPolling:function(){this.jobStateSummariesCollection&&(this.jobStateSummariesCollection.active=!1,this.jobStateSummariesCollection.clearUpdateTimeout())},setHistoryId:function(e){this.stopPolling(),this.historyId=e,e&&(this._setUpWebStorage(),this.jobStateSummariesCollection=new p.a.JobStatesSummaryCollection,this.jobStateSummariesCollection.historyId=e,this.jobStateSummariesCollection.monitor())},_setUpWebStorage:function(e){return this.storage=new f.a.HistoryPrefs({id:f.a.HistoryPrefs.historyStorageKey(this.historyId)}),this.trigger("new-storage",this.storage,this),this.on({"include-deleted":function(e){this.storage.includeDeleted(e)},"include-hidden":function(e){this.storage.includeHidden(e)}}),this.includeDeleted=this.storage.includeDeleted()||!1,this.includeHidden=this.storage.includeHidden()||!1,this},comparators:r.a.extend(r.a.clone(v.prototype.comparators),{name:m.a.buildComparator("name",{ascending:!0}),"name-dsc":m.a.buildComparator("name",{ascending:!1}),hid:m.a.buildComparator("hid",{ascending:!1}),"hid-asc":m.a.buildComparator("hid",{ascending:!0})}),running:function(){return this.filter(function(e){return!e.inReadyState()})},runningAndActive:function(){return this.filter(function(e){return!e.inReadyState()&&e.get("visible")&&!e.get("deleted")})},getByHid:function(e){return this.findWhere({hid:e})},haveDetails:function(){return this.all(function(e){return e.hasDetails()})},hidden:function(){return this.filter(function(e){return e.hidden()})},deleted:function(){return this.filter(function(e){return e.get("deleted")})},visibleAndUndeleted:function(){return this.filter(function(e){return e.get("visible")&&!e.get("deleted")})},setIncludeDeleted:function(e,t){if(r.a.isBoolean(e)&&e!==this.includeDeleted){if(this.includeDeleted=e,r.a.result(t,"silent"))return;this.trigger("include-deleted",e,this)}},setIncludeHidden:function(e,t){if(r.a.isBoolean(e)&&e!==this.includeHidden){if(this.includeHidden=e,t=t||{},r.a.result(t,"silent"))return;this.trigger("include-hidden",e,this)}},fetch:function(e){if(e=e||{},this.historyId&&!e.details){var t=f.a.HistoryPrefs.get(this.historyId).toJSON();r.a.isEmpty(t.expandedIds)||(e.details=r.a.values(t.expandedIds).join(","))}return v.prototype.fetch.call(this,e)},_buildFetchData:function(e){return r.a.extend(v.prototype._buildFetchData.call(this,e),{v:"dev"})},_fetchParams:v.prototype._fetchParams.concat(["v","details"]),_buildFetchFilters:function(e){var t=v.prototype._buildFetchFilters.call(this,e)||{},n={};return this.includeDeleted||(n.deleted=!1,n.purged=!1),this.includeHidden||(n.visible=!0),r.a.defaults(t,n)},getTotalItemCount:function(){return this.history.contentsShown()},fetchUpdated:function(e,t){return e&&((t=t||{filters:{}}).remove=!1,t.filters={"update_time-ge":e.toISOString(),visible:""}),this.fetch(t)},fetchDeleted:function(e){var t=this;return(e=e||{}).filters=r.a.extend(e.filters,{deleted:!0,purged:void 0}),e.remove=!1,this.trigger("fetching-deleted",this),this.fetch(e).always(function(){t.trigger("fetching-deleted-done",t)})},fetchHidden:function(e){var t=this;return(e=e||{}).filters=r.a.extend(e.filters,{visible:!1}),e.remove=!1,this.trigger("fetching-hidden",this),this.fetch(e).always(function(){t.trigger("fetching-hidden-done",t)})},fetchAllDetails:function(e){return(e=e||{}).data=r.a.extend(e.data||{},{details:"all"}),this.fetch(e)},_filterAndUpdate:function(e,t){var n=this,i=this.model.prototype.idAttribute,r=[t];return this.fetch({filters:e,remove:!1}).then(function(e){return e=e.reduce(function(e,t,r){var o=n.get(t[i]);return o?e.concat(o):e},[]),n.ajaxQueue("save",r,e)})},ajaxQueue:function(e,t,n){return n=n||this.models,new g.a.AjaxQueue(n.slice().reverse().map(function(n,i){var o=r.a.isString(e)?n[e]:e;return function(){return o.apply(n,t)}})).deferred},_recursivelyFetch:function(e,t,n,i,o){var a=this;o=o||0;var s=r.a.extend(r.a.clone(e),{view:"summary",keys:t,limit:i,offset:o,reset:0===o,remove:!1});r.a.defer(function(){a.fetch.call(a,s).fail(n.reject).done(function(r){n.notify(r,i,o),r.length!==i?(a.allFetched=!0,n.resolve(r,i,o)):a._recursivelyFetch(e,t,n,i,o+i)})})},progressivelyFetchDetails:function(e){e=e||{};var t=a.a.Deferred();return this._recursivelyFetch(e,d.a.HistoryDatasetAssociation.prototype.searchAttributes.join(","),t,e.limitPerCall||this.limitPerProgressiveFetch),t},isCopyable:function(e){return r.a.isObject(e)&&e.id&&r.a.contains(["HistoryDatasetAssociation","HistoryDatasetCollectionAssociation"],e.model_class)},copy:function(e){var t,n,i;r.a.isString(e)?(t=e,i="hda",n="dataset"):(t=e.id,i={HistoryDatasetAssociation:"hda",LibraryDatasetDatasetAssociation:"ldda",HistoryDatasetCollectionAssociation:"hdca"}[e.model_class]||"hda",n="hdca"===i?"dataset_collection":"dataset");var o=this,s=a.a.ajax(this.url(),{method:"POST",contentType:"application/json",data:JSON.stringify({content:t,source:i,type:n})}).done(function(e){o.add([e],{parse:!0})}).fail(function(e,r,a){o.trigger("error",o,s,{},"Error copying contents",{type:n,id:t,source:i})});return s},createHDCA:function(e,t,n,i,r,o){return void 0===r&&(r=!0),this.model({history_content_type:"dataset_collection",collection_type:t,history_id:this.historyId,name:n,hide_source_items:i||!1,copy_elements:r,element_identifiers:e}).save(o)},haveSearchDetails:function(){return this.allFetched&&this.all(function(e){return r.a.has(e.attributes,"annotation")})},matches:function(e){return this.filter(function(t){return t.matches(e)})},clone:function(){var e=l.a.Collection.prototype.clone.call(this);return e.historyId=this.historyId,e},toString:function(){return["HistoryContents(",[this.historyId,this.length].join(),")"].join("")}})},function(e,t,n){"use strict";(function(e,i){var r=n(394),o=n(402),a=n(8),s=n(1),l=n.n(s),c=r.a.DatasetListItemEdit,u=c.extend({className:"".concat(c.prototype.className," history-content"),_fetchModelDetails:function(){return this.model.inReadyState()&&!this.model.hasDetails()?this.model.fetch({silent:!0}):this.model.has("rerunnable")?e.when():this.model.fetch({silent:!0,data:{keys:["rerunnable","creating_job"].join(",")}})},events:i.extend(i.clone(c.prototype.events),{"click .unhide-link":function(e){return this.model.unhide(),!1}}),toString:function(){var e=this.model?"".concat(this.model):"(no model)";return"HDAListItemEdit(".concat(e,")")}});u.prototype.templates=function(){var e=i.extend({},c.prototype.templates.warnings,{hidden:a.a.wrapTemplate(["<% if( !dataset.visible ){ %>",'<div class="hidden-msg warningmessagesmall">',l()("This dataset has been hidden"),'<br /><a class="unhide-link" a href="javascript:void(0);">',l()("Unhide it"),"</a>","</div>","<% } %>"],"dataset")});return i.extend({},c.prototype.templates,{titleBar:o.a.HDAListItemView.prototype.templates.titleBar,warnings:e})}(),t.a={HDAListItemEdit:u}}).call(this,n(0),n(2))},function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(4),a=n(6);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var l=r.a.Collection.extend({url:function(){return"".concat(Object(o.a)(),"api/webhooks")}}),c=r.a.View.extend({el:"#webhook-view",initialize:function(e){var t=this,n=e.toolId||"",i=e.toolVersion||"";this.$el.attr("tool_id",n),this.$el.attr("tool_version",i),(new l).fetch({success:function(n){e.type&&n.reset(u(n,e.type)),n.length>0&&t.render(function(e){var t=e.pluck("weight"),n=t.reduce(function(e,t){return e+t}),i=new Map;t.forEach(function(e,t){i.set(t,parseFloat((e/n).toFixed(2)))});var r=[],o=!0,a=!1,l=void 0;try{for(var c,u=i[Symbol.iterator]();!(o=(c=u.next()).done);o=!0)for(var d=s(c.value,2),h=d[0],f=d[1],p=0;p<100*f;p++)r.push(h)}catch(e){a=!0,l=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw l}}return e.at(r[Math.floor(Math.random()*r.length)])}(n))}})},render:function(e){var t=e.toJSON();return this.$el.html('<div id="'.concat(t.id,'"></div>')),a.a.appendScriptStyle(t),this}});function u(e,t){return e.models.filter(function(e){var n=e.get("type");return!!n&&-1!==n.indexOf(t)})}t.a={WebhookView:c,load:function(e){(new l).fetch({async:void 0===e.async||e.async,success:function(t){e.type&&t.reset(u(t,e.type)),e.callback(t)}})}}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(2),a=n.n(o),s=n(3),l=n.n(s),c=n(42),u=n(5),d=l.a.Model.extend({initialize:function(e){var t=this.get("key");this.set("id",t);var n=a.a.find([{key:"name",label:"Name",type:"text",default_value:""},{key:"color",label:"Color",type:"color",default_value:null},{key:"min_value",label:"Min Value",type:"float",default_value:null},{key:"max_value",label:"Max Value",type:"float",default_value:null},{key:"mode",type:"string",default_value:this.mode,hidden:!0},{key:"height",type:"int",default_value:32,hidden:!0},{key:"pos_color",label:"Positive Color",type:"color",default_value:"#FF8C00"},{key:"neg_color",label:"Negative Color",type:"color",default_value:"#4169E1"},{key:"block_color",label:"Block color",type:"color",default_value:null},{key:"label_color",label:"Label color",type:"color",default_value:"black"},{key:"show_insertions",label:"Show insertions",type:"bool",default_value:!1},{key:"show_counts",label:"Show summary counts",type:"bool",default_value:!0},{key:"reverse_strand_color",label:"Antisense strand color",type:"color",default_value:null},{key:"show_differences",label:"Show differences only",type:"bool",default_value:!0}],function(e){return e.key===t});n&&this.set(a.a.extend({},n,e)),void 0===this.get("value")&&void 0!==this.get("default_value")&&(this.set_value(this.get("default_value")),this.get("value")||"color"!==this.get("type")||this.set("value",c.a.get_random_color()))},set_value:function(e,t){var n=this.get("type");"float"===n?e=parseFloat(e):"int"===n&&(e=parseInt(e,10)),this.set({value:e},t)}}),h=l.a.Collection.extend({model:d,to_key_value_dict:function(){var e={};return this.each(function(t){e[t.get("key")]=t.get("value")}),e},get_value:function(e){var t=this.get(e);if(t)return t.get("value")},set_value:function(e,t,n){var i=this.get(e);if(i)return i.set_value(t,n)},set_default_value:function(e,t){var n=this.get(e);if(n)return n.set("default_value",t)}},{from_models_and_saved_values:function(e,t){return t&&(e=a.a.map(e,function(e){return a.a.extend({},e,{value:t[e.key]})})),new h(e)}}),f=l.a.View.extend({className:"config-settings-view",render:function(){var e=this.$el;return this.collection.each(function(t,n){if(!t.get("hidden")){var i="param_".concat(n),o=t.get("type"),s=t.get("value"),l=r()("<div class='form-row' />").appendTo(e);if(l.append(r()("<label />").attr("for",i).text("".concat(t.get("label"),":"))),"bool"===o)l.append(r()('<input type="checkbox" />').attr("id",i).attr("name",i).attr("checked",s));else if("text"===o)l.append(r()('<input type="text"/>').attr("id",i).val(s).click(function(){r()(this).select()}));else if("select"===o){var u=r()("<select />").attr("id",i);a.a.each(t.get("options"),function(e){r()("<option/>").text(e.label).attr("value",e.value).appendTo(u)}),u.val(s),l.append(u)}else if("color"===o){var d=r()("<div/>").appendTo(l),h=r()("<input />").attr("id",i).attr("name",i).val(s).css("float","left").appendTo(d).click(function(e){r()(".tooltip").removeClass("in");var t=r()(this).siblings(".tooltip").addClass("in");t.css({left:r()(this).position().left+r()(this).width()+5,top:r()(this).position().top-r()(t).height()/2+r()(this).height()/2}).show(),t.click(function(e){e.stopPropagation()}),r()(document).bind("click.color-picker",function(){t.hide(),r()(document).unbind("click.color-picker")}),e.stopPropagation()}),f=r()("<a href='javascript:void(0)'/>").addClass("icon-button arrow-circle").appendTo(d).attr("title","Set new random color").tooltip(),p=r()("<div class='tooltip right' style='position: absolute;' />").appendTo(d).hide(),m=r()("<div class='tooltip-inner' style='text-align: inherit'></div>").appendTo(p);r()("<div class='tooltip-arrow'></div>").appendTo(p);var g=r.a.farbtastic(m,{width:100,height:100,callback:h,color:s});d.append(r()("<div/>").css("clear","both")),function(e){f.click(function(){e.setColor(c.a.get_random_color())})}(g)}else l.append(r()("<input />").attr("id",i).attr("name",i).val(s));t.help&&l.append(r()("<div class='help'/>").text(t.help))}}),this},render_in_modal:function(e){var t=this,n=Object(u.getGalaxyInstance)(),i=function(){n.modal.hide(),r()(window).unbind("keypress.check_enter_esc")},o=function(){n.modal.hide(),r()(window).unbind("keypress.check_enter_esc"),t.update_from_form()};r()(window).bind("keypress.check_enter_esc",function(e){27===(e.keyCode||e.which)?i():13===(e.keyCode||e.which)&&o()}),0===this.$el.children().length&&this.render(),n.modal.show({title:e||"Configure",body:this.$el,buttons:{Cancel:i,OK:o}})},update_from_form:function(){var e=this;this.collection.each(function(t,n){if(!t.get("hidden")){var i="param_".concat(n),r=e.$el.find("#".concat(i)).val();"bool"===t.get("type")&&(r=e.$el.find("#".concat(i)).is(":checked")),t.set_value(r)}})}});t.a={ConfigSetting:d,ConfigSettingCollection:h,ConfigSettingCollectionView:f}},function(e,t,n){"use strict";var i=n(21);e.exports=function(e,t){return!!e&&i(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){"use strict";(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var u=function(){function t(n){s(this,t),this.deferred=e.Deferred(),this.queue=[],this.responses=[],this.numToProcess=0,this.running=!1,this.init(n||[]),this.start()}return c(t,[{key:"init",value:function(e){var t=this;e.forEach(function(e){t.add(e)})}},{key:"add",value:function(e){var t=this,n=this.queue.length;return this.numToProcess+=1,this.queue.push(function(){var i=n,r=e();r.done(function(e){t.deferred.notify({curr:i,total:t.numToProcess,response:e})}),r.always(function(e){t.responses.push(e),t.queue.length?t.queue.shift()():t.stop()})}),this}},{key:"start",value:function(){return this.queue.length&&(this.running=!0,this.queue.shift()()),this}},{key:"stop",value:function(t,n){return this.running=!1,this.queue=[],t?this.deferred.reject(n):this.deferred.resolve(this.responses),this.numToProcess=0,this.deferred=e.Deferred(),this}},{key:"done",value:function(e){return this.deferred.done(e)}},{key:"fail",value:function(e){return this.deferred.fail(e)}},{key:"always",value:function(e){return this.deferred.always(e)}},{key:"progress",value:function(e){return this.deferred.progress(e)}}],[{key:"create",value:function(e){return new t(e).deferred}}]),t}(),d=function(e){function t(e){var n;return s(this,t),(n=i(this,o(t).call(this,e))).names={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,u),c(t,[{key:"add",value:function(e){if(!e.hasOwnProperty("name")||!e.hasOwnProperty("fn"))throw new Error('NamedAjaxQueue.add requires an object with both "name" and "fn": '.concat(JSON.stringify(e)));if(!this.names.hasOwnProperty(e.name))return this.names[e.name]=!0,r(o(t.prototype),"add",this).call(this,e.fn)}},{key:"clear",value:function(){return this.names={},this}}],[{key:"create",value:function(e){return new t(e).deferred}}]),t}();t.a={AjaxQueue:u,NamedAjaxQueue:d}}).call(this,n(0))},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(1),l=n.n(s),c=n(5),u=l()("Please contact a Galaxy administrator if the problem persists."),d=l()("An error occurred while updating information with the server."),h=l()("The following information can assist the developers in finding the source of the error:");function f(e,t,n){if(e){var i=Object(c.getGalaxyInstance)();if(e=l()(e),t=l()(t)||l()("Error:"),i&&i.modal)return function(e,t,n){var i=Object(c.getGalaxyInstance)();return i.modal.show({title:t,body:e,closing_events:!0,buttons:{Ok:function(){i.modal.hide()}}}),i.modal.$el.addClass("error-modal"),n&&(i.modal.$(".error-details").add(i.modal.$('button:contains("Details")')).remove(),a()("<div/>").addClass("error-details").hide().appendTo(i.modal.$(".modal-content")).append([a()("<p/>").text(h),a()("<pre/>").text(JSON.stringify(n,null,"  "))]),a()('<button id="button-1" class="float-left">'.concat(l()("Details"),"</button>")).appendTo(i.modal.$(".buttons")).click(function(){i.modal.$(".error-details").toggle()})),i.modal}(e,t,n);alert("".concat(t,"\n\n").concat(e)),console.log("error details:",JSON.stringify(n))}}t.a={errorModal:f,offlineErrorModal:function(){return f(l()("You appear to be offline. Please check your connection and try again."),l()("Offline?"))},badGatewayErrorModal:function(){return f("".concat(l()("Galaxy is currently unreachable. Please try again in a few minutes.")," ").concat(u),l()("Cannot connect to Galaxy"))},ajaxErrorModal:function(e,t,n,i,o){return i=i||d,f(i+=" ".concat(u),o=o||l()("An error occurred"),function(e,t,n){var i=Object(c.getGalaxyInstance)();return{raven:r.a.result(window.Raven,"lastEventId"),userAgent:navigator.userAgent,onLine:navigator.onLine,version:r.a.result(i.config,"version_major"),xhr:r.a.omit(t,r.a.functions(t)),options:r.a.omit(n,"xhr"),url:r.a.result(i.lastAjax,"url"),data:r.a.result(i.lastAjax,"data"),model:r.a.result(e,"toJSON","".concat(e)),user:r.a.omit(r.a.result(i.user,"toJSON"),"email")}}(e,t,n))}}},function(e,t,n){"use strict";(function(e){var i=n(3),r=n(2),o=n(6),a=n(57),s=i.View.extend({initialize:function(e){var t=this;this.model=e&&e.model||new i.Model({visible:!0,data:[],id:o.a.uid(),error_text:"No options available.",wait_text:"Please wait...",multiple:!1,optional:!1,onchange:function(){}}).set(e),this.listenTo(this.model,"change:value",this._changeValue,this),this.listenTo(this.model,"change:wait",this._changeWait,this),this.listenTo(this.model,"change:data",this._changeData,this),this.listenTo(this.model,"change:visible",this._changeVisible,this),this.on("change",function(){t.model.get("onchange")(t.value())}),this.render()},render:function(){var t=this;this.$el.empty().removeClass().addClass("ui-options").append(this.$message=e("<div/>").addClass("mt-2")).append(this.$menu=e("<div/>").addClass("ui-options-menu")).append(this.$options=e(this._template())),this.all_button=null,this.model.get("multiple")&&(this.all_button=new a.a.ButtonCheck({onclick:function(){t.$("input").prop("checked",0!==t.all_button.value()),t.value(t._getValue()),t.trigger("change")}}),this.$menu.append(this.all_button.$el)),this._changeData(),this._changeWait(),this._changeVisible()},update:function(e){e.data&&this.model.set("data",e.data)},_changeData:function(){var t=this;this.$options.empty(),this._templateOptions?this.$options.append(this._templateOptions(this.model.get("data"))):r.each(this.model.get("data"),function(n){t.$options.append(e(t._templateOption(n)).addClass("ui-option").tooltip({title:n.tooltip||"",placement:"bottom"}))}),this.$("input").on("change",function(){t.value(t._getValue()),t.trigger("change")}),this._changeValue(),this._changeWait()},_changeVisible:function(){this.$el[this.model.get("visible")?"show":"hide"]()},_changeWait:function(){this.model.get("wait")?0===this.length()&&(this._messageShow(this.model.get("wait_text"),"info"),this.$options.hide(),this.$menu.hide()):0===this.length()?(this._messageShow(this.model.get("error_text"),"danger"),this.$options.hide(),this.$menu.hide()):(this.$message.hide(),this.$options.css("display","inline-block"),this.$menu.show())},_changeValue:function(){this._setValue(this.model.get("value")),null!==this._getValue()||this.model.get("multiple")||this.model.get("optional")||this._setValue(this.first()),this.all_button&&this.all_button.value(e.isArray(this._getValue())?this._getValue().length:0,this.length())},value:function(e){return void 0!==e&&this.model.set("value",e),this._getValue()},first:function(){var e=this.$("input").first();return e.length>0?e.val():null},wait:function(){this.model.set("wait",!0)},unwait:function(){this.model.set("wait",!1)},length:function(){return this.$(".ui-option").length},_setValue:function(t){var n=this;if(void 0!==t&&(this.$("input").prop("checked",!1),null!==t)){var i=e.isArray(t)?t:[t];r.each(i,function(e){n.$('input[value="'.concat(e,'"]')).first().prop("checked",!0)})}},_getValue:function(){var t=[];return this.$(":checked").each(function(){t.push(e(this).val())}),o.a.isEmpty(t)?null:this.model.get("multiple")?t:t[0]},_messageShow:function(e,t){this.$message.show().removeClass().addClass("alert alert-".concat(t)).html(e)},_template:function(){return e("<div/>").addClass("ui-options-list")}}),l=s.extend({_templateOption:function(t){var n=o.a.uid();return e("<div/>").addClass("ui-option").append(e("<input/>").attr({id:n,type:this.model.get("type"),name:this.model.id,value:t.value})).append(e("<label/>").addClass("ui-options-label").attr("for",n).html(t.label))}}),c={};c.View=l.extend({initialize:function(e){e.type="radio",l.prototype.initialize.call(this,e)}});var u={};u.View=l.extend({initialize:function(e){e.type="checkbox",e.multiple=!0,l.prototype.initialize.call(this,e)}});var d={};d.View=s.extend({initialize:function(e){s.prototype.initialize.call(this,e)},_setValue:function(e){void 0!==e&&(this.$("input").prop("checked",!1),this.$("label").removeClass("active"),this.$('[value="'.concat(e,'"]')).prop("checked",!0).closest("label").addClass("active"))},_templateOption:function(t){var n=e("<label/>").addClass("btn btn-secondary");return t.icon&&n.append(e("<i/>").addClass("fa").addClass(t.icon).addClass(!t.label&&"no-padding")),n.append(e("<input/>").attr({type:"radio",name:this.model.id,value:t.value}).hide()),t.label&&n.append(t.label),n},_template:function(){return e("<div/>").addClass("btn-group ui-radiobutton")}}),t.a={Base:s,BaseIcons:l,Radio:c,RadioButton:d,Checkbox:u}}).call(this,n(0))},function(e,t,n){var i=n(397),r=n(359),o=n(62),a=n(96),s=n(60),l=n(521),c=Object.getOwnPropertyDescriptor;t.f=n(43)?c:function(e,t){if(e=o(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return r(!i.f.call(e,t),e[t])}},function(e,t,n){var i=n(12),r=n(44),o=n(21);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],a={};a[e]=t(n),i(i.S+i.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var i=n(87),r=n(396),o=n(63),a=n(45),s=n(734);e.exports=function(e,t){var n=1==e,l=2==e,c=3==e,u=4==e,d=6==e,h=5==e||d,f=t||s;return function(t,s,p){for(var m,g,_=o(t),v=r(_),y=i(s,p,3),b=a(v.length),w=0,k=n?f(t,b):l?f(t,0):void 0;b>w;w++)if((h||w in v)&&(g=y(m=v[w],w,_),e))if(n)k[w]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:k.push(m)}else if(u)return!1;return d?-1:c||u?u:k}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lookupOrAppend=function(e,t){return function(n){if(e.hasOwnProperty(n))return e[n];if(!t)throw new Error("I do not know how to modify the following string: "+n+". Change your TeX file or submit a feature request at https://github.com/digitalheir/tex-to-unicode/issues.");return n+t}}},function(e,t,n){"use strict";n(2);var i=n(3),r=n.n(i),o=n(4),a=n(8),s=n(1),l=n.n(s),c=r.a.Model.extend(a.a.LoggableMixin).extend({_logNamespace:"user",urlRoot:function(){return"".concat(Object(o.a)(),"api/users")},defaults:{id:null,username:"(".concat(l()("anonymous user"),")"),email:"",total_disk_usage:0,nice_total_disk_usage:"",quota_percent:null,is_admin:!1},initialize:function(e){this.log("User.initialize:",e),this.on("loaded",function(e,t){this.log("".concat(this," has loaded:"),e,t)}),this.on("change",function(e,t){this.log("".concat(this," has changed:"),e,t.changes)})},isAnonymous:function(){return!this.get("email")},isAdmin:function(){return this.get("is_admin")},loadFromApi:function(e,t){e=e||c.CURRENT_ID_STR;var n=this,i=(t=t||{}).success;return t.success=function(e,t){n.trigger("loaded",e,t),i&&i(e,t)},e===c.CURRENT_ID_STR&&(t.url="".concat(this.urlRoot,"/").concat(c.CURRENT_ID_STR)),r.a.Model.prototype.fetch.call(this,t)},clearSessionStorage:function(){for(var e in sessionStorage)0===e.indexOf("history:")?sessionStorage.removeItem(e):"history-panel"===e&&sessionStorage.removeItem(e)},toString:function(){var e=[this.get("username")];return this.get("id")&&(e.unshift(this.get("id")),e.push(this.get("email"))),"User(".concat(e.join(":"),")")}});c.CURRENT_ID_STR="current",c.getCurrentUserFromApi=function(e){var t=new c;return t.loadFromApi(c.CURRENT_ID_STR,e),t};r.a.Collection.extend(a.a.LoggableMixin).extend({model:c,urlRoot:function(){return"".concat(Object(o.a)(),"api/users")}});t.a={User:c}},function(e,t,n){"use strict";n.r(t),function(e){for(
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.14.4
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var n="undefined"!=typeof window&&"undefined"!=typeof document,i=["Edge","Trident","Firefox"],r=0,o=0;o<i.length;o+=1)if(n&&navigator.userAgent.indexOf(i[o])>=0){r=1;break}var a=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},r))}};function s(e){return e&&"[object Function]"==={}.toString.call(e)}function l(e,t){if(1!==e.nodeType)return[];var n=getComputedStyle(e,null);return t?n[t]:n}function c(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function u(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=l(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?e:u(c(e))}var d=n&&!(!window.MSInputMethodContext||!document.documentMode),h=n&&/MSIE 10/.test(navigator.userAgent);function f(e){return 11===e?d:10===e?h:d||h}function p(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,n=e.offsetParent;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TD","TABLE"].indexOf(n.nodeName)&&"static"===l(n,"position")?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function m(e){return null!==e.parentNode?m(e.parentNode):e}function g(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,r=n?t:e,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var a=o.commonAncestorContainer;if(e!==a&&t!==a||i.contains(r))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||p(e.firstElementChild)===e)}(a)?a:p(a);var s=m(e);return s.host?g(s.host,t):g(e,m(t).host)}function _(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var i=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||i)[t]}return e[t]}function v(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+i+"Width"],10)}function y(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],f(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function b(e){var t=e.body,n=e.documentElement,i=f(10)&&getComputedStyle(n);return{height:y("Height",t,n,i),width:y("Width",t,n,i)}}var w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},k=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),M=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function C(e){return x({},e,{right:e.left+e.width,bottom:e.top+e.height})}function S(e){var t={};try{if(f(10)){t=e.getBoundingClientRect();var n=_(e,"top"),i=_(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}else t=e.getBoundingClientRect()}catch(e){}var r={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?b(e.ownerDocument):{},a=o.width||e.clientWidth||r.right-r.left,s=o.height||e.clientHeight||r.bottom-r.top,c=e.offsetWidth-a,u=e.offsetHeight-s;if(c||u){var d=l(e);c-=v(d,"x"),u-=v(d,"y"),r.width-=c,r.height-=u}return C(r)}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=f(10),r="HTML"===t.nodeName,o=S(e),a=S(t),s=u(e),c=l(t),d=parseFloat(c.borderTopWidth,10),h=parseFloat(c.borderLeftWidth,10);n&&r&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var p=C({top:o.top-a.top-d,left:o.left-a.left-h,width:o.width,height:o.height});if(p.marginTop=0,p.marginLeft=0,!i&&r){var m=parseFloat(c.marginTop,10),g=parseFloat(c.marginLeft,10);p.top-=d-m,p.bottom-=d-m,p.left-=h-g,p.right-=h-g,p.marginTop=m,p.marginLeft=g}return(i&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=_(t,"top"),r=_(t,"left"),o=n?-1:1;return e.top+=i*o,e.bottom+=i*o,e.left+=r*o,e.right+=r*o,e}(p,t)),p}function L(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&"none"===l(t,"transform");)t=t.parentElement;return t||document.documentElement}function E(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=r?L(e):g(e,t);if("viewport"===i)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=T(e,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:_(n),s=t?0:_(n,"left");return C({top:a-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:r,height:o})}(a,r);else{var s=void 0;"scrollParent"===i?"BODY"===(s=u(c(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===i?e.ownerDocument.documentElement:i;var d=T(s,a,r);if("HTML"!==s.nodeName||function e(t){var n=t.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===l(t,"position")||e(c(t)))}(a))o=d;else{var h=b(e.ownerDocument),f=h.height,p=h.width;o.top+=d.top-d.marginTop,o.bottom=f+d.top,o.left+=d.left-d.marginLeft,o.right=p+d.left}}var m="number"==typeof(n=n||0);return o.left+=m?n:n.left||0,o.top+=m?n:n.top||0,o.right-=m?n:n.right||0,o.bottom-=m?n:n.bottom||0,o}function D(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=E(n,i,o,r),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map(function(e){return x({key:e},s[e],{area:function(e){return e.width*e.height}(s[e])})}).sort(function(e,t){return t.area-e.area}),c=l.filter(function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function O(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return T(n,i?L(t):g(t,n),i)}function A(e){var t=getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom),i=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function Y(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function R(e,t,n){n=n.split("-")[0];var i=A(e),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return r[a]=t[a]+t[l]/2-i[l]/2,r[s]=n===s?t[s]-i[c]:t[Y(s)],r}function j(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function P(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var i=j(e,function(e){return e[t]===n});return e.indexOf(i)}(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&s(n)&&(t.offsets.popper=C(t.offsets.popper),t.offsets.reference=C(t.offsets.reference),t=n(t,e))}),t}function N(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function H(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var r=t[i],o=r?""+r+n:e;if(void 0!==document.body.style[o])return o}return null}function I(e){var t=e.ownerDocument;return t?t.defaultView:window}function F(e,t,n,i){n.updateBound=i,I(e).addEventListener("resize",n.updateBound,{passive:!0});var r=u(e);return function e(t,n,i,r){var o="BODY"===t.nodeName,a=o?t.ownerDocument.defaultView:t;a.addEventListener(n,i,{passive:!0}),o||e(u(a.parentNode),n,i,r),r.push(a)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function $(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function(e,t){return I(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}(this.reference,this.state))}function W(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function z(e,t){Object.keys(t).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&W(t[n])&&(i="px"),e.style[n]=t[n]+i})}function B(e,t,n){var i=j(e,function(e){return e.name===t}),r=!!i&&e.some(function(e){return e.name===n&&e.enabled&&e.order<i.order});if(!r){var o="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var V=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],U=V.slice(3);function q(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=U.indexOf(e),i=U.slice(n+1).concat(U.slice(0,n));return t?i.reverse():i}var G={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function J(e,t,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=a.indexOf(j(a,function(e){return-1!==e.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(c=c.map(function(e,i){var r=(1===i?!o:o)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,i){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],a=r[2];if(!o)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=i}return C(s)[t]/100*o}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(e,r,t,n)})})).forEach(function(e,t){e.forEach(function(n,i){W(n)&&(r[t]+=n*("-"===e[i-1]?-1:1))})}),r}var K={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var r=e.offsets,o=r.reference,a=r.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:M({},l,o[l]),end:M({},l,o[l]+o[c]-a[c])};e.offsets.popper=x({},a,u[i])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,i=e.placement,r=e.offsets,o=r.popper,a=r.reference,s=i.split("-")[0],l=void 0;return l=W(+n)?[+n,0]:J(n,o,a,s),"left"===s?(o.top+=l[0],o.left-=l[1]):"right"===s?(o.top+=l[0],o.left+=l[1]):"top"===s?(o.left+=l[0],o.top-=l[1]):"bottom"===s&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||p(e.instance.popper);e.instance.reference===n&&(n=p(n));var i=H("transform"),r=e.instance.popper.style,o=r.top,a=r.left,s=r[i];r.top="",r.left="",r[i]="";var l=E(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);r.top=o,r.left=a,r[i]=s,t.boundaries=l;var c=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),M({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(i=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),M({},n,i)}};return c.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=x({},u,d[t](e))}),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,i=t.reference,r=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(r),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[s]<o(i[l])&&(e.offsets.popper[l]=o(i[l])-n[c]),n[l]>o(i[s])&&(e.offsets.popper[l]=o(i[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!B(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],o=e.offsets,a=o.popper,s=o.reference,c=-1!==["left","right"].indexOf(r),u=c?"height":"width",d=c?"Top":"Left",h=d.toLowerCase(),f=c?"left":"top",p=c?"bottom":"right",m=A(i)[u];s[p]-m<a[h]&&(e.offsets.popper[h]-=a[h]-(s[p]-m)),s[h]+m>a[p]&&(e.offsets.popper[h]+=s[h]+m-a[p]),e.offsets.popper=C(e.offsets.popper);var g=s[h]+s[u]/2-m/2,_=l(e.instance.popper),v=parseFloat(_["margin"+d],10),y=parseFloat(_["border"+d+"Width"],10),b=g-e.offsets.popper[h]-v-y;return b=Math.max(Math.min(a[u]-m,b),0),e.arrowElement=i,e.offsets.arrow=(M(n={},h,Math.round(b)),M(n,f,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(N(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=E(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),i=e.placement.split("-")[0],r=Y(i),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case G.FLIP:a=[i,r];break;case G.CLOCKWISE:a=q(i);break;case G.COUNTERCLOCKWISE:a=q(i,!0);break;default:a=t.behavior}return a.forEach(function(s,l){if(i!==s||a.length===l+1)return e;i=e.placement.split("-")[0],r=Y(i);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,h="left"===i&&d(c.right)>d(u.left)||"right"===i&&d(c.left)<d(u.right)||"top"===i&&d(c.bottom)>d(u.top)||"bottom"===i&&d(c.top)<d(u.bottom),f=d(c.left)<d(n.left),p=d(c.right)>d(n.right),m=d(c.top)<d(n.top),g=d(c.bottom)>d(n.bottom),_="left"===i&&f||"right"===i&&p||"top"===i&&m||"bottom"===i&&g,v=-1!==["top","bottom"].indexOf(i),y=!!t.flipVariations&&(v&&"start"===o&&f||v&&"end"===o&&p||!v&&"start"===o&&m||!v&&"end"===o&&g);(h||_||y)&&(e.flipped=!0,(h||_)&&(i=a[l+1]),y&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=i+(o?"-"+o:""),e.offsets.popper=x({},e.offsets.popper,R(e.instance.popper,e.offsets.reference,e.placement)),e=P(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,r=i.popper,o=i.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return r[a?"left":"top"]=o[n]-(s?r[a?"width":"height"]:0),e.placement=Y(t),e.offsets.popper=C(r),e}},hide:{order:800,enabled:!0,fn:function(e){if(!B(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=j(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,r=e.offsets.popper,o=j(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:t.gpuAcceleration,s=p(e.instance.popper),l=S(s),c={position:r.position},u={left:Math.floor(r.left),top:Math.round(r.top),bottom:Math.round(r.bottom),right:Math.floor(r.right)},d="bottom"===n?"top":"bottom",h="right"===i?"left":"right",f=H("transform"),m=void 0,g=void 0;if(g="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-l.height+u.bottom:u.top,m="right"===h?"HTML"===s.nodeName?-s.clientWidth+u.right:-l.width+u.right:u.left,a&&f)c[f]="translate3d("+m+"px, "+g+"px, 0)",c[d]=0,c[h]=0,c.willChange="transform";else{var _="bottom"===d?-1:1,v="right"===h?-1:1;c[d]=g*_,c[h]=m*v,c.willChange=d+", "+h}var y={"x-placement":e.placement};return e.attributes=x({},y,e.attributes),e.styles=x({},c,e.styles),e.arrowStyles=x({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return z(e.instance.popper,e.styles),function(e,t){Object.keys(t).forEach(function(n){!1!==t[n]?e.setAttribute(n,t[n]):e.removeAttribute(n)})}(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&z(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,r){var o=O(r,t,e,n.positionFixed),a=D(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),z(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},X=function(){function e(t,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=a(this.update.bind(this)),this.options=x({},e.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(x({},e.Defaults.modifiers,r.modifiers)).forEach(function(t){i.options.modifiers[t]=x({},e.Defaults.modifiers[t]||{},r.modifiers?r.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return x({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&s(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return k(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=O(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=D(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=R(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=P(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,N(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[H("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=F(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return $.call(this)}}]),e}();X.Utils=("undefined"!=typeof window?window:e).PopperUtils,X.placements=V,X.Defaults=K,t.default=X}.call(this,n(39))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=r.a;function a(e,t){var n=this;return t=r.a.extend({cover:!1},t||{}),n.show=function(i,r,a){return i=i||"loading...",r=r||"fast",e.parent().find(".loading-indicator").remove(),n.$indicator=function(){var n=['<div class="loading-indicator">','<div class="loading-indicator-text">','<span class="fa fa-spinner fa-spin fa-lg"></span>','<span class="loading-indicator-message">loading...</span>',"</div>","</div>"].join("\n"),i=o(n).hide().css(t.css||{position:"fixed"});return i.children(".loading-indicator-text"),t.cover?(i.css({"z-index":2,top:e.css("top"),bottom:e.css("bottom"),left:e.css("left"),right:e.css("right"),opacity:.5,"background-color":"white","text-align":"center"}),i.children(".loading-indicator-text").css({"margin-top":"20px"})):i.children(".loading-indicator-text").css({margin:"12px 0px 0px 10px",opacity:"0.85",color:"grey"}).children(".loading-indicator-message").css({margin:"0px 8px 0px 0px","font-style":"italic"}),i}().insertBefore(e),n.message(i),n.$indicator.fadeIn(r,a),n},n.message=function(e){n.$indicator.find("i").text(e)},n.hide=function(e,t){return e=e||"fast",n.$indicator&&n.$indicator.length?n.$indicator.fadeOut(e,function(){n.$indicator.remove(),t&&t()}):t&&t(),n},n}t.a={LoadingIndicator:a,markViewAsLoading:function(e){e.setElement(o('<div><div class="loading"></div></div>')),new a(e.$(".loading")).show()}}},function(e,t,n){"use strict";(function(e){var n=e.Model.extend({defaults:{extension:"auto",genome:"?",url_paste:"",status:"init",info:null,file_name:"",file_mode:"",file_size:0,file_type:null,file_path:"",file_data:null,percentage:0,space_to_tab:!1,to_posix_lines:!0,enabled:!0},reset:function(e){this.clear().set(this.defaults).set(e)}}),i=e.Collection.extend({model:n});t.a={Model:n,Collection:i}}).call(this,n(3))},function(e,t,n){"use strict";var i={};n.r(i),n.d(i,"Alert",function(){return m}),n.d(i,"Badge",function(){return Y}),n.d(i,"Breadcrumb",function(){return F}),n.d(i,"Button",function(){return ge}),n.d(i,"ButtonToolbar",function(){return Se}),n.d(i,"ButtonGroup",function(){return be}),n.d(i,"Card",function(){return rt}),n.d(i,"Carousel",function(){return gt}),n.d(i,"Collapse",function(){return Kt}),n.d(i,"Dropdown",function(){return pn}),n.d(i,"Embed",function(){return _n}),n.d(i,"Form",function(){return xn}),n.d(i,"FormGroup",function(){return En}),n.d(i,"FormInput",function(){return Zn}),n.d(i,"FormTextarea",function(){return ii}),n.d(i,"FormFile",function(){return si}),n.d(i,"FormCheckbox",function(){return zn}),n.d(i,"FormRadio",function(){return Gn}),n.d(i,"FormSelect",function(){return di}),n.d(i,"Image",function(){return pi}),n.d(i,"InputGroup",function(){return Re}),n.d(i,"Jumbotron",function(){return vi}),n.d(i,"Layout",function(){return Rt}),n.d(i,"Link",function(){return wi}),n.d(i,"ListGroup",function(){return Li}),n.d(i,"Media",function(){return Yi}),n.d(i,"Modal",function(){return Ui}),n.d(i,"Nav",function(){return er}),n.d(i,"Navbar",function(){return cr}),n.d(i,"Pagination",function(){return mr}),n.d(i,"PaginationNav",function(){return br}),n.d(i,"Popover",function(){return Qr}),n.d(i,"Progress",function(){return no}),n.d(i,"Table",function(){return fo}),n.d(i,"Tabs",function(){return vo}),n.d(i,"Tooltip",function(){return wo});var r={};n.r(r),n.d(r,"Toggle",function(){return qt}),n.d(r,"Modal",function(){return zi}),n.d(r,"Scrollspy",function(){return Fo}),n.d(r,"Tooltip",function(){return Jo}),n.d(r,"Popover",function(){return ra});var o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(){for(var e,t,n={},i=arguments.length;i--;)for(var r=0,a=Object.keys(arguments[i]);r<a.length;r++)switch(e=a[r]){case"class":case"style":case"directives":Array.isArray(n[e])||(n[e]=[]),n[e]=n[e].concat(arguments[i][e]);break;case"staticClass":if(!arguments[i][e])break;void 0===n[e]&&(n[e]=""),n[e]&&(n[e]+=" "),n[e]+=arguments[i][e].trim();break;case"on":case"nativeOn":n[e]||(n[e]={});for(var s=0,l=Object.keys(arguments[i][e]||{});s<l.length;s++)t=l[s],n[e][t]?n[e][t]=[].concat(n[e][t],arguments[i][e][t]):n[e][t]=arguments[i][e][t];break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":n[e]||(n[e]={}),n[e]=o({},arguments[i][e],n[e]);break;case"slot":case"key":case"ref":case"tag":case"show":case"keepAlive":default:n[e]||(n[e]=arguments[i][e])}return n}var s={functional:!0,props:{disabled:{type:Boolean,default:!1},ariaLabel:{type:String,default:"Close"},textVariant:{type:String,default:null}},render:function(e,t){var n=t.props,i=t.data,r=(t.listeners,t.slots),o={staticClass:"close",class:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},"text-"+n.textVariant,n.textVariant),attrs:{type:"button",disabled:n.disabled,"aria-label":n.ariaLabel?String(n.ariaLabel):null},on:{click:function(e){n.disabled&&e instanceof Event&&(e.stopPropagation(),e.preventDefault())}}};return r().default||(o.domProps={innerHTML:"&times;"}),e("button",a(i,o),r().default)}};n(427);function l(e,t,n){e._bootstrap_vue_components_=e._bootstrap_vue_components_||{};var i=e._bootstrap_vue_components_[t];return!i&&n&&t&&(e._bootstrap_vue_components_[t]=!0,e.component(t,n)),i}function c(e,t){for(var n in t)l(e,n,t[n])}function u(e,t,n){e._bootstrap_vue_directives_=e._bootstrap_vue_directives_||{};var i=e._bootstrap_vue_directives_[t];return!i&&n&&t&&(e._bootstrap_vue_directives_[t]=!0,e.directive(t,n)),i}function d(e,t){for(var n in t)u(e,n,t[n])}function h(e){"undefined"!=typeof window&&window.Vue&&window.Vue.use(e)}var f={bAlert:{components:{bButtonClose:s},render:function(e){if(!this.localShow)return e(!1);var t=e(!1);this.dismissible&&(t=e("b-button-close",{attrs:{"aria-label":this.dismissLabel},on:{click:this.dismiss}},[this.$slots.dismiss]));var n=e("div",{class:this.classObject,attrs:{role:"alert","aria-live":"polite","aria-atomic":!0}},[t,this.$slots.default]);return this.fade?e("transition",{props:{name:"fade",appear:!0}},[n]):n},model:{prop:"show",event:"input"},data:function(){return{countDownTimerId:null,dismissed:!1}},computed:{classObject:function(){return["alert",this.alertVariant,this.dismissible?"alert-dismissible":""]},alertVariant:function(){return"alert-"+this.variant},localShow:function(){return!this.dismissed&&(this.countDownTimerId||this.show)}},props:{variant:{type:String,default:"info"},dismissible:{type:Boolean,default:!1},dismissLabel:{type:String,default:"Close"},show:{type:[Boolean,Number],default:!1},fade:{type:Boolean,default:!1}},watch:{show:function(){this.showChanged()}},mounted:function(){this.showChanged()},destroyed:function(){this.clearCounter()},methods:{dismiss:function(){this.clearCounter(),this.dismissed=!0,this.$emit("dismissed"),this.$emit("input",!1),"number"==typeof this.show?(this.$emit("dismiss-count-down",0),this.$emit("input",0)):this.$emit("input",!1)},clearCounter:function(){this.countDownTimerId&&(clearInterval(this.countDownTimerId),this.countDownTimerId=null)},showChanged:function(){var e=this;if(this.clearCounter(),this.dismissed=!1,!0!==this.show&&!1!==this.show&&null!==this.show&&0!==this.show){var t=this.show;this.countDownTimerId=setInterval(function(){t<1?e.dismiss():(t--,e.$emit("dismiss-count-down",t),e.$emit("input",t))},1e3)}}}}},p={install:function(e){c(e,f)}};h(p);var m=p;"function"!=typeof Object.assign&&(Object.assign=function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n}),Object.is||(Object.is=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t});var g=Object.assign,_=(Object.getOwnPropertyNames,Object.keys),v=Object.defineProperties,y=Object.defineProperty,b=(Object.freeze,Object.getOwnPropertyDescriptor,Object.getOwnPropertySymbols,Object.getPrototypeOf,Object.create);Object.isFrozen,Object.is;Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},n=Math.pow(2,53)-1,i=function(e){return Math.min(Math.max(function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e),0),n)};return function(e){var n=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var r=arguments.length>1?arguments[1]:void 0,o=void 0;if(void 0!==r){if(!t(r))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}for(var a=i(n.length),s=t(this)?Object(new this(a)):new Array(a),l=0,c=void 0;l<a;)c=n[l],s[l]=r?void 0===o?r(c,l):r.call(o,c,l):c,l+=1;return s.length=a,s}}()),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=t[r];if(e.call(i,o,r,t))return o;r++}}}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var w=Array.from,k=Array.isArray,M=function(e,t){return-1!==e.indexOf(t)};function x(){return Array.prototype.concat.apply([],arguments)}function C(e){return e}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C;return(k(e)?e.slice():_(e)).reduce(function(e,i){return e[n(i)]=t[i],e},{})}var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function L(){return{href:{type:String,default:null},rel:{type:String,default:null},target:{type:String,default:"_self"},active:{type:Boolean,default:!1},activeClass:{type:String,default:"active"},append:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},event:{type:[String,Array],default:"click"},exact:{type:Boolean,default:!1},exactActiveClass:{type:String,default:"active"},replace:{type:Boolean,default:!1},routerTag:{type:String,default:"a"},to:{type:[String,Object],default:null}}}L();var E={functional:!0,props:L(),render:function(e,t){var n=t.props,i=t.data,r=t.parent,o=t.children,s=function(e,t){return Boolean(t.$router)&&e.to&&!e.disabled?"router-link":"a"}(n,r),l=function(e){var t=e.target,n=e.rel;return"_blank"===t&&null===n?"noopener":n||null}(n),c=function(e,t){e.disabled;var n=e.href,i=e.to;if("router-link"!==t){if(n)return n;if(i){if("string"==typeof i)return i;if("object"===(void 0===i?"undefined":T(i))&&"string"==typeof i.path)return i.path}return"#"}}(n,s),u="router-link"===s?"nativeOn":"on",d=(i[u]||{}).click,h={click:function(e){var t=e.disabled,n=e.tag,i=e.href,r=e.suppliedHandler,o=e.parent,a="router-link"===n;return function(e){t&&e instanceof Event?(e.stopPropagation(),e.stopImmediatePropagation()):(o.$root.$emit("clicked::link",e),a&&e.target.__vue__&&e.target.__vue__.$emit("click",e),"function"==typeof r&&r.apply(void 0,arguments)),(!a&&"#"===i||t)&&e.preventDefault()}}({tag:s,href:c,disabled:n.disabled,suppliedHandler:d,parent:r})},f=a(i,{class:[n.active?n.exact?n.exactActiveClass:n.activeClass:null,{disabled:n.disabled}],attrs:{rel:l,href:c,target:n.target,tabindex:n.disabled?"-1":i.attrs?i.attrs.tabindex:null,"aria-disabled":"a"===s&&n.disabled?"true":null},props:g(n,{tag:n.routerTag})});return f.attrs.href||delete f.attrs.href,f[u]=g(f[u]||{},h),e(s,f,o)}},D=L();delete D.href.default,delete D.to.default;var O={bBadge:{functional:!0,props:g(D,{tag:{type:String,default:"span"},variant:{type:String,default:"secondary"},pill:{type:Boolean,default:!1}}),render:function(e,t){var n=t.props,i=t.data,r=t.children;return e(n.href||n.to?E:n.tag,a(i,{staticClass:"badge",class:[n.variant?"badge-"+n.variant:"badge-secondary",{"badge-pill":Boolean(n.pill),active:n.active,disabled:n.disabled}],props:S(D,n)}),r)}}},A={install:function(e){c(e,O)}};h(A);var Y=A,R=g(L(),{text:{type:String,default:null},active:{type:Boolean,default:!1},href:{type:String,default:"#"},ariaCurrent:{type:String,default:"location"}}),j={functional:!0,props:R,render:function(e,t){var n=t.props,i=t.data,r=t.children,o=n.active?"span":E,s={props:S(R,n)};return n.active?s.attrs={"aria-current":n.ariaCurrent}:s.attrs={href:n.href},e(o,a(i,s),r||n.text)}},P={functional:!0,props:g({},R,{text:{type:String,default:null},href:{type:String,default:null}}),render:function(e,t){var n=t.props,i=t.data,r=t.children;return e("li",a(i,{staticClass:"breadcrumb-item",class:{active:n.active},attrs:{role:"presentation"}}),[e(j,{props:n},r)])}},N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H={bBreadcrumb:{functional:!0,props:{items:{type:Array,default:null}},render:function(e,t){var n=t.props,i=t.data,r=t.children;if(k(n.items)){var o=!1;r=n.items.map(function(t,i){"object"!==(void 0===t?"undefined":N(t))&&(t={text:t});var r=t.active;return r&&(o=!0),r||o||(r=i+1===n.items.length),e(P,{props:g({},t,{active:r})})})}return e("ol",a(i,{staticClass:"breadcrumb"}),r)}},bBreadcrumbItem:P,bBreadcrumbLink:j},I={install:function(e){c(e,H)}};h(I);var F=I,$=function(e){return e&&e.nodeType===Node.ELEMENT_NODE},W=function(e){return $(e)&&document.body.contains(e)&&e.getBoundingClientRect().height>0&&e.getBoundingClientRect().width>0},z=function(e){return!$(e)||e.disabled||e.classList.contains("disabled")||Boolean(e.getAttribute("disabled"))},B=function(e){return $(e)&&e.offsetHeight},V=function(e,t){return $(t)||(t=document),w(t.querySelectorAll(e))},U=function(e,t){return $(t)||(t=document),t.querySelector(e)||null},q=function(e,t){if(!$(e))return!1;var n=Element.prototype;return(n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector||function(e){for(var t=V(e,this.document||this.ownerDocument),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}).call(e,t)},G=function(e,t){if(!$(t))return null;var n=(Element.prototype.closest||function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(q(t,e))return t;t=t.parentElement}while(null!==t);return null}).call(t,e);return n===t?null:n},J=function(e,t){t&&$(e)&&e.classList.add(t)},K=function(e,t){t&&$(e)&&e.classList.remove(t)},X=function(e,t){return!(!t||!$(e))&&e.classList.contains(t)},Q=function(e,t,n){t&&$(e)&&e.setAttribute(t,n)},Z=function(e,t){t&&$(e)&&e.removeAttribute(t)},ee=function(e,t){return t&&$(e)?e.getAttribute(t):null},te=function(e,t){return t&&$(e)?e.hasAttribute(t):null},ne=function(e){return $(e)?e.getBoundingClientRect():null},ie=function(e){return $(e)?window.getComputedStyle(e):{}},re=function(e){if($(e)){if(!e.getClientRects().length)return{top:0,left:0};var t=ne(e),n=e.ownerDocument.defaultView;return{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}}},oe=function(e){if($(e)){var t={top:0,left:0},n=void 0,i=void 0;if("fixed"===ie(e).position)n=ne(e);else{n=re(e);var r=e.ownerDocument;for(i=e.offsetParent||r.documentElement;i&&(i===r.body||i===r.documentElement)&&"static"===ie(i).position;)i=i.parentNode;i&&i!==e&&i.nodeType===Node.ELEMENT_NODE&&((t=re(i)).top+=parseFloat(ie(i).borderTopWidth),t.left+=parseFloat(ie(i).borderLeftWidth))}return{top:n.top-t.top-parseFloat(ie(e).marginTop),left:n.left-t.left-parseFloat(ie(e).marginLeft)}}},ae=function(e,t,n){e&&e.addEventListener&&e.addEventListener(t,n)},se=function(e,t,n){e&&e.removeEventListener&&e.removeEventListener(t,n)};function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ce={block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:String,default:null},variant:{type:String,default:null},type:{type:String,default:"button"},pressed:{type:Boolean,default:null}},ue=L();delete ue.href.default,delete ue.to.default;var de=_(ue);function he(e){"focusin"===e.type?J(e.target,"focus"):"focusout"===e.type&&K(e.target,"focus")}var fe={functional:!0,props:g(ue,ce),render:function(e,t){var n,i=t.props,r=t.data,o=t.listeners,s=t.children,l=Boolean(i.href||i.to),c="boolean"==typeof i.pressed,u={click:function(e){i.disabled&&e instanceof Event?(e.stopPropagation(),e.preventDefault()):c&&x(o["update:pressed"]).forEach(function(e){"function"==typeof e&&e(!i.pressed)})}};c&&(u.focusin=he,u.focusout=he);var d={staticClass:"btn",class:[i.variant?"btn-"+i.variant:"btn-secondary",(n={},le(n,"btn-"+i.size,Boolean(i.size)),le(n,"btn-block",i.block),le(n,"disabled",i.disabled),le(n,"active",i.pressed),n)],props:l?S(de,i):null,attrs:{type:l?null:i.type,disabled:l?null:i.disabled,"data-toggle":c?"button":null,"aria-pressed":c?String(i.pressed):null,tabindex:i.disabled&&l?"-1":r.attrs?r.attrs.tabindex:null},on:u};return e(l?E:"button",a(r,d),s)}},pe={bButton:fe,bBtn:fe,bButtonClose:s,bBtnClose:s},me={install:function(e){c(e,pe)}};h(me);var ge=me;var _e={functional:!0,props:{vertical:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(e){return M(["sm","","lg"],e)}},tag:{type:String,default:"div"},ariaRole:{type:String,default:"group"}},render:function(e,t){var n=t.props,i=t.data,r=t.children;return e(n.tag,a(i,{class:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({"btn-group":!n.vertical,"btn-group-vertical":n.vertical},"btn-group-"+n.size,Boolean(n.size)),attrs:{role:n.ariaRole}}),r)}},ve={bButtonGroup:_e,bBtnGroup:_e},ye={install:function(e){c(e,ve)}};h(ye);var be=ye,we={SPACE:32,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,PAGEUP:33,PAGEDOWN:34,HOME:36,END:35},ke=[".btn:not(.disabled):not([disabled]):not(.dropdown-item)",".form-control:not(.disabled):not([disabled])","select:not(.disabled):not([disabled])",'input[type="checkbox"]:not(.disabled)','input[type="radio"]:not(.disabled)'].join(","),Me={render:function(e){return e("div",{class:this.classObject,attrs:{role:"toolbar",tabindex:this.keyNav?"0":null},on:{focusin:this.onFocusin,keydown:this.onKeydown}},[this.$slots.default])},computed:{classObject:function(){return["btn-toolbar",this.justify&&!this.vertical?"justify-content-between":""]}},props:{justify:{type:Boolean,default:!1},keyNav:{type:Boolean,default:!1}},methods:{onFocusin:function(e){e.target===this.$el&&(e.preventDefault(),e.stopPropagation(),this.focusFirst(e))},onKeydown:function(e){if(this.keyNav){var t=e.keyCode,n=e.shiftKey;t===we.UP||t===we.LEFT?(e.preventDefault(),e.stopPropagation(),n?this.focusFirst(e):this.focusNext(e,!0)):t!==we.DOWN&&t!==we.RIGHT||(e.preventDefault(),e.stopPropagation(),n?this.focusLast(e):this.focusNext(e,!1))}},setItemFocus:function(e){this.$nextTick(function(){e.focus()})},focusNext:function(e,t){var n=this.getItems();if(!(n.length<1)){var i=n.indexOf(e.target);t&&i>0?i--:!t&&i<n.length-1&&i++,i<0&&(i=0),this.setItemFocus(n[i])}},focusFirst:function(e){var t=this.getItems();t.length>0&&this.setItemFocus(t[0])},focusLast:function(e){var t=this.getItems();t.length>0&&this.setItemFocus([t.length-1])},getItems:function(){var e=V(ke,this.$el);return e.forEach(function(e){e.tabIndex=-1}),e.filter(function(e){return W(e)})}},mounted:function(){this.keyNav&&this.getItems()}},xe={bButtonToolbar:Me,bBtnToolbar:Me},Ce={install:function(e){c(e,xe)}};h(Ce);var Se=Ce,Te={props:{tag:{type:String,default:"div"}},functional:!0,render:function(e,t){var n=t.props,i=t.data,r=t.children;return e(n.tag,a(i,{staticClass:"input-group-text"}),r)}},Le=function(e){return{id:{type:String,default:null},tag:{type:String,default:"div"},append:{type:Boolean,default:e},isText:{type:Boolean,default:!1}}},Ee={functional:!0,props:Le(!1),render:function(e,t){var n=t.props,i=t.data,r=t.children;return e(n.tag,a(i,{staticClass:"input-group-"+(n.append?"append":"prepend"),attrs:{id:n.id}}),n.isText?[e(Te,r)]:r)}},De={functional:!0,props:Le(!1),render:Ee.render},Oe={functional:!0,props:Le(!0),render:Ee.render};var Ae={bInputGroup:{functional:!0,props:{id:{type:String,default:null},size:{type:String,default:null},prepend:{type:String,default:null},append:{type:String,default:null},tag:{type:String,default:"div"}},render:function(e,t){var n=t.props,i=t.data,r=(0,t.slots)(),o=[];return n.prepend&&o.push(e(De,[e(Te,{domProps:{innerHTML:n.prepend}})])),r.prepend&&o.push(e(De,r.prepend)),o.push(r.default),n.append&&o.push(e(Oe,[e(Te,{domProps:{innerHTML:n.append}})])),r.append&&o.push(e(Oe,r.append)),e(n.tag,a(i,{staticClass:"input-group",class:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},"input-group-"+n.size,Boolean(n.size)),attrs:{id:n.id||null,role:"group"}}),o)}},bInputGroupAddon:Ee,bInputGroupPrepend:De,bInputGroupAppend:Oe,bInputGroupText:Te},Ye={install:function(e){c(e,Ae)}};h(Ye);var Re=Ye;function je(e){return"string"!=typeof e&&(e=String(e)),e.charAt(0).toUpperCase()+e.slice(1)}function Pe(e,t){return e+je(t)}function Ne(e,t){return function(e){return"string"!=typeof e&&(e=String(e)),e.charAt(0).toLowerCase()+e.slice(1)}(t.replace(e,""))}var He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C;if(k(e))return e.map(t);var n={};for(var i in e)e.hasOwnProperty(i)&&("object"===(void 0===i?"undefined":He(i))?n[t(i)]=g({},e[i]):n[t(i)]=e[i]);return n}var Fe={props:{tag:{type:String,default:"div"},bgVariant:{type:String,default:null},borderVariant:{type:String,default:null},textVariant:{type:String,default:null}}};function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var We=g({},Ie(Fe.props,Pe.bind(null,"body")),{bodyClass:{type:[String,Object,Array],default:null},title:{type:String,default:null},titleTag:{type:String,default:"h4"},subTitle:{type:String,default:null},subTitleTag:{type:String,default:"h6"},overlay:{type:Boolean,default:!1}}),ze={functional:!0,props:We,render:function(e,t){var n,i=t.props,r=t.data,o=t.slots,s=[];return i.title&&s.push(e(i.titleTag,{staticClass:"card-title",domProps:{innerHTML:i.title}})),i.subTitle&&s.push(e(i.subTitleTag,{staticClass:"card-subtitle mb-2 text-muted",domProps:{innerHTML:i.subTitle}})),s.push(o().default),e(i.bodyTag,a(r,{staticClass:"card-body",class:[(n={"card-img-overlay":i.overlay},$e(n,"bg-"+i.bodyBgVariant,Boolean(i.bodyBgVariant)),$e(n,"border-"+i.bodyBorderVariant,Boolean(i.bodyBorderVariant)),$e(n,"text-"+i.bodyTextVariant,Boolean(i.bodyTextVariant)),n),i.bodyClass||{}]}),s)}};function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve=g({},Ie(Fe.props,Pe.bind(null,"header")),{header:{type:String,default:null},headerClass:{type:[String,Object,Array],default:null}}),Ue={functional:!0,props:Ve,render:function(e,t){var n,i=t.props,r=t.data,o=(t.slots,t.children);return e(i.headerTag,a(r,{staticClass:"card-header",class:[i.headerClass,(n={},Be(n,"bg-"+i.headerBgVariant,Boolean(i.headerBgVariant)),Be(n,"border-"+i.headerBorderVariant,Boolean(i.headerBorderVariant)),Be(n,"text-"+i.headerTextVariant,Boolean(i.headerTextVariant)),n)]}),o||[e("div",{domProps:{innerHTML:i.header}})])}};function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ge=g({},Ie(Fe.props,Pe.bind(null,"footer")),{footer:{type:String,default:null},footerClass:{type:[String,Object,Array],default:null}}),Je={functional:!0,props:Ge,render:function(e,t){var n,i=t.props,r=t.data,o=(t.slots,t.children);return e(i.footerTag,a(r,{staticClass:"card-footer",class:[i.footerClass,(n={},qe(n,"bg-"+i.footerBgVariant,Boolean(i.footerBgVariant)),qe(n,"border-"+i.footerBorderVariant,Boolean(i.footerBorderVariant)),qe(n,"text-"+i.footerTextVariant,Boolean(i.footerTextVariant)),n)]}),o||[e("div",{domProps:{innerHTML:i.footer}})])}},Ke={src:{type:String,default:null,required:!0},alt:{type:String,default:null},top:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},fluid:{type:Boolean,default:!1}},Xe={functional:!0,props:Ke,render:function(e,t){var n=t.props,i=t.data,r=(t.slots,"card-img");return n.top?r+="-top":n.bottom&&(r+="-bottom"),e("img",a(i,{staticClass:r,class:{"img-fluid":n.fluid},attrs:{src:n.src,alt:n.alt}}))}};function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze=Ie(Ke,Pe.bind(null,"img"));Ze.imgSrc.required=!1;var et=g({},We,Ve,Ge,Ze,Ie(Fe.props),{align:{type:String,default:null},noBody:{type:Boolean,default:!1}}),tt={tag:{type:String,default:"div"},deck:{type:Boolean,default:!1},columns:{type:Boolean,default:!1}},nt={bCard:{functional:!0,props:et,render:function(e,t){var n,i=t.props,r=t.data,o=t.slots,s=(t.children,[]),l=o(),c=i.imgSrc?e(Xe,{props:S(Ze,i,Ne.bind(null,"img"))}):null;return c&&(!i.imgTop&&i.imgBottom||s.push(c)),(i.header||l.header)&&s.push(e(Ue,{props:S(Ve,i)},l.header)),i.noBody?s.push(l.default):s.push(e(ze,{props:S(We,i)},l.default)),(i.footer||l.footer)&&s.push(e(Je,{props:S(Ge,i)},l.footer)),c&&i.imgBottom&&s.push(c),e(i.tag,a(r,{staticClass:"card",class:(n={},Qe(n,"text-"+i.align,Boolean(i.align)),Qe(n,"bg-"+i.bgVariant,Boolean(i.bgVariant)),Qe(n,"border-"+i.borderVariant,Boolean(i.borderVariant)),Qe(n,"text-"+i.textVariant,Boolean(i.textVariant)),n)}),s)}},bCardHeader:Ue,bCardBody:ze,bCardFooter:Je,bCardImg:Xe,bCardGroup:{functional:!0,props:tt,render:function(e,t){var n=t.props,i=t.data,r=t.children,o="card-group";return n.columns&&(o="card-columns"),n.deck&&(o="card-deck"),e(n.tag,a(i,{staticClass:o}),r)}}},it={install:function(e){c(e,nt)}};h(it);var rt=it;function ot(e,t,n){var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,r=window.addEventListener;if(e=e?e.$el||e:null,!$(e))return null;var o=null;return i?(o=new i(function(e){for(var n=!1,i=0;i<e.length&&!n;i++){var r=e[i],o=r.type,a=r.target;"characterData"===o&&a.nodeType===Node.TEXT_NODE?n=!0:"attributes"===o?n=!0:"childList"===o&&(r.addedNodes.length>0||r.removedNodes.length>0)&&(n=!0)}n&&t()})).observe(e,g({childList:!0,subtree:!0},n)):r&&(e.addEventListener("DOMNodeInserted",t,!1),e.addEventListener("DOMNodeRemoved",t,!1)),o}var at={props:{id:{type:String,default:null}},methods:{safeId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.id||this.localId_||null;return t?(e=String(e).replace(/\s+/g,"_"))?t+"_"+e:t:null}},computed:{localId_:function(){if(!this.$isServer&&!this.id&&void 0!==this._uid)return"__BVID__"+this._uid}}},st={next:{dirClass:"carousel-item-left",overlayClass:"carousel-item-next"},prev:{dirClass:"carousel-item-right",overlayClass:"carousel-item-prev"}},lt={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend oTransitionEnd",transition:"transitionend"};var ct={mixins:[at],render:function(e){var t=this,n=e("div",{ref:"inner",class:["carousel-inner"],attrs:{id:this.safeId("__BV_inner_"),role:"list"}},[this.$slots.default]),i=e(!1);this.controls&&(i=[e("a",{class:["carousel-control-prev"],attrs:{href:"#",role:"button","aria-controls":this.safeId("__BV_inner_")},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.prev()},keydown:function(e){var n=e.keyCode;n!==we.SPACE&&n!==we.ENTER||(e.preventDefault(),e.stopPropagation(),t.prev())}}},[e("span",{class:["carousel-control-prev-icon"],attrs:{"aria-hidden":"true"}}),e("span",{class:["sr-only"]},[this.labelPrev])]),e("a",{class:["carousel-control-next"],attrs:{href:"#",role:"button","aria-controls":this.safeId("__BV_inner_")},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.next()},keydown:function(e){var n=e.keyCode;n!==we.SPACE&&n!==we.ENTER||(e.preventDefault(),e.stopPropagation(),t.next())}}},[e("span",{class:["carousel-control-next-icon"],attrs:{"aria-hidden":"true"}}),e("span",{class:["sr-only"]},[this.labelNext])])]);var r=e("ol",{class:["carousel-indicators"],directives:[{name:"show",rawName:"v-show",value:this.indicators,expression:"indicators"}],attrs:{id:this.safeId("__BV_indicators_"),"aria-hidden":this.indicators?"false":"true","aria-label":this.labelIndicators,"aria-owns":this.safeId("__BV_inner_")}},this.slides.map(function(n,i){return e("li",{key:"slide_"+i,class:{active:i===t.index},attrs:{role:"button",id:t.safeId("__BV_indicator_"+(i+1)+"_"),tabindex:t.indicators?"0":"-1","aria-current":i===t.index?"true":"false","aria-label":t.labelGotoSlide+" "+(i+1),"aria-describedby":t.slides[i].id||null,"aria-controls":t.safeId("__BV_inner_")},on:{click:function(e){t.setSlide(i)},keydown:function(e){var n=e.keyCode;n!==we.SPACE&&n!==we.ENTER||(e.preventDefault(),e.stopPropagation(),t.setSlide(i))}}})}));return e("div",{class:["carousel","slide"],style:{background:this.background},attrs:{role:"region",id:this.safeId(),"aria-busy":this.isSliding?"true":"false"},on:{mouseenter:this.pause,mouseleave:this.restart,focusin:this.pause,focusout:this.restart,keydown:function(e){var n=e.keyCode;n!==we.LEFT&&n!==we.RIGHT||(e.preventDefault(),e.stopPropagation(),t[n===we.LEFT?"prev":"next"]())}}},[n,i,r])},data:function(){return{index:this.value||0,isSliding:!1,intervalId:null,transitionEndEvent:null,slides:[],direction:null}},props:{labelPrev:{type:String,default:"Previous Slide"},labelNext:{type:String,default:"Next Slide"},labelGotoSlide:{type:String,default:"Goto Slide"},labelIndicators:{type:String,default:"Select a slide to display"},interval:{type:Number,default:5e3},indicators:{type:Boolean,default:!1},controls:{type:Boolean,default:!1},imgWidth:{type:[Number,String]},imgHeight:{type:[Number,String]},background:{type:String},value:{type:Number,default:0}},computed:{isCycling:function(){return Boolean(this.intervalId)}},methods:{setSlide:function(e){var t=this;if("undefined"==typeof document||!document.visibilityState||!document.hidden){var n=this.slides.length;0!==n&&(this.isSliding?this.$once("sliding-end",function(){return t.setSlide(e)}):(e=Math.floor(e),this.index=e>=n?0:e>=0?e:n-1))}},prev:function(){this.direction="prev",this.setSlide(this.index-1)},next:function(){this.direction="next",this.setSlide(this.index+1)},pause:function(){this.isCycling&&(clearInterval(this.intervalId),this.intervalId=null,this.slides[this.index]&&(this.slides[this.index].tabIndex=0))},start:function(){var e=this;this.interval&&!this.isCycling&&(this.slides.forEach(function(e){e.tabIndex=-1}),this.intervalId=setInterval(function(){e.next()},Math.max(1e3,this.interval)))},restart:function(e){this.$el.contains(document.activeElement)||this.start()},updateSlides:function(){this.pause(),this.slides=V(".carousel-item",this.$refs.inner);var e=this.slides.length,t=Math.max(0,Math.min(Math.floor(this.index),e-1));this.slides.forEach(function(n,i){var r=i+1;i===t?J(n,"active"):K(n,"active"),Q(n,"aria-current",i===t?"true":"false"),Q(n,"aria-posinset",String(r)),Q(n,"aria-setsize",String(e)),n.tabIndex=-1}),this.setSlide(t),this.start()},calcDirection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e?st[e]:n>t?st.next:st.prev}},watch:{value:function(e,t){e!==t&&this.setSlide(e)},interval:function(e,t){e!==t&&(e?(this.pause(),this.start()):this.pause())},index:function(e,t){var n=this;if(e!==t&&!this.isSliding){var i=this.calcDirection(this.direction,t,e),r=this.slides[t],o=this.slides[e];if(r&&o){this.isSliding=!0,this.$emit("sliding-start",e),this.$emit("input",this.index),o.classList.add(i.overlayClass),B(o),J(r,i.dirClass),J(o,i.dirClass);var a=!1,s=function t(s){if(!a){if(a=!0,n.transitionEndEvent)n.transitionEndEvent.split(/\s+/).forEach(function(e){se(r,e,t)});n._animationTimeout=null,K(o,i.dirClass),K(o,i.overlayClass),J(o,"active"),K(r,"active"),K(r,i.dirClass),K(r,i.overlayClass),Q(r,"aria-current","false"),Q(o,"aria-current","true"),Q(r,"aria-hidden","true"),Q(o,"aria-hidden","false"),r.tabIndex=-1,o.tabIndex=-1,n.isCycling||(o.tabIndex=0,n.$nextTick(function(){o.focus()})),n.isSliding=!1,n.direction=null,n.$nextTick(function(){return n.$emit("sliding-end",e)})}};if(this.transitionEndEvent)this.transitionEndEvent.split(/\s+/).forEach(function(e){ae(r,e,s)});this._animationTimeout=setTimeout(s,650)}}}},created:function(){this._animationTimeout=null},mounted:function(){this.transitionEndEvent=function(e){for(var t in lt)if(void 0!==e.style[t])return lt[t];return null}(this.$el)||null,this.updateSlides(),ot(this.$refs.inner,this.updateSlides.bind(this),{subtree:!1,childList:!0,attributes:!0,attributeFilter:["id"]})},beforeDestroy:function(){clearInterval(this.intervalId),clearTimeout(this._animationTimeout),this.intervalId=null,this._animationTimeout=null}};function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dt='<svg width="%{w}" height="%{h}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 %{w} %{h}" preserveAspectRatio="none"><rect width="100%" height="100%" style="fill:%{f};"></rect></svg>';var ht={functional:!0,props:{src:{type:String,default:null},alt:{type:String,default:null},width:{type:[Number,String],default:null},height:{type:[Number,String],default:null},block:{type:Boolean,default:!1},fluid:{type:Boolean,default:!1},fluidGrow:{type:Boolean,default:!1},rounded:{type:[Boolean,String],default:!1},thumbnail:{type:Boolean,default:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1},center:{type:Boolean,default:!1},blank:{type:Boolean,default:!1},blankColor:{type:String,default:"transparent"}},render:function(e,t){var n,i=t.props,r=t.data,o=i.src,s=parseInt(i.width,10)?parseInt(i.width,10):null,l=parseInt(i.height,10)?parseInt(i.height,10):null,c=null,u=i.block;return i.blank&&(!l&&Boolean(s)?l=s:!s&&Boolean(l)&&(s=l),s||l||(s=1,l=1),o=function(e,t,n){return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(dt.replace("%{w}",String(e)).replace("%{h}",String(t)).replace("%{f}",n))}(s,l,i.blankColor||"transparent")),i.left?c="float-left":i.right?c="float-right":i.center&&(c="mx-auto",u=!0),e("img",a(r,{attrs:{src:o,alt:i.alt,width:s?String(s):null,height:l?String(l):null},class:(n={"img-thumbnail":i.thumbnail,"img-fluid":i.fluid||i.fluidGrow,"w-100":i.fluidGrow,rounded:""===i.rounded||!0===i.rounded},ut(n,"rounded-"+i.rounded,"string"==typeof i.rounded&&""!==i.rounded),ut(n,c,Boolean(c)),ut(n,"d-block",u),n)}))}};var ft=function(e){console.warn("[Bootstrap-Vue warn]: "+e)},pt={bCarousel:ct,bCarouselSlide:{components:{bImg:ht},mixins:[at],render:function(e){var t=this.$slots,n=t.img;n||!this.imgSrc&&!this.imgBlank||(n=e("b-img",{props:{fluidGrow:!0,block:!0,src:this.imgSrc,blank:this.imgBlank,blankColor:this.imgBlankColor,width:this.computedWidth,height:this.computedHeight,alt:this.imgAlt}}));var i=e(this.contentTag,{class:this.contentClasses},[this.caption?e(this.captionTag,{domProps:{innerHTML:this.caption}}):e(!1),this.text?e(this.textTag,{domProps:{innerHTML:this.text}}):e(!1),t.default]);return e("div",{class:["carousel-item"],style:{background:this.background},attrs:{id:this.safeId(),role:"listitem"}},[n,i])},props:{imgSrc:{type:String,default:function(){return this&&this.src?(ft("b-carousel-slide: prop 'src' has been deprecated. Use 'img-src' instead"),this.src):null}},src:{type:String},imgAlt:{type:String},imgWidth:{type:[Number,String]},imgHeight:{type:[Number,String]},imgBlank:{type:Boolean,default:!1},imgBlankColor:{type:String,default:"transparent"},contentVisibleUp:{type:String},contentTag:{type:String,default:"div"},caption:{type:String},captionTag:{type:String,default:"h3"},text:{type:String},textTag:{type:String,default:"p"},background:{type:String}},computed:{contentClasses:function(){return["carousel-caption",this.contentVisibleUp?"d-none":"",this.contentVisibleUp?"d-"+this.contentVisibleUp+"-block":""]},computedWidth:function(){return this.imgWidth||this.$parent.imgWidth},computedHeight:function(){return this.imgHeight||this.$parent.imgHeight}}}},mt={install:function(e){c(e,pt)}};h(mt);var gt=mt,_t={functional:!0,props:{tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(e,t){var n=t.props,i=t.data,r=t.children;return e(n.tag,a(i,{class:{container:!n.fluid,"container-fluid":n.fluid}}),r)}};function vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yt=["start","end","center"],bt={functional:!0,props:{tag:{type:String,default:"div"},noGutters:{type:Boolean,default:!1},alignV:{type:String,default:null,validator:function(e){return M(yt.concat(["baseline","stretch"]),e)}},alignH:{type:String,default:null,validator:function(e){return M(yt.concat(["between","around"]),e)}},alignContent:{type:String,default:null,validator:function(e){return M(yt.concat(["between","around","stretch"]),e)}}},render:function(e,t){var n,i=t.props,r=t.data,o=t.children;return e(i.tag,a(r,{staticClass:"row",class:(n={"no-gutters":i.noGutters},vt(n,"align-items-"+i.alignV,i.alignV),vt(n,"justify-content-"+i.alignH,i.alignH),vt(n,"align-content-"+i.alignContent,i.alignContent),n)}),o)}};function wt(e,t){return t+(e?je(e):"")}function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mt(){return{type:[String,Number],default:null}}var xt=function(e){var t=b(null);return function(){var n=JSON.stringify(arguments);return t[n]=t[n]||e.apply(null,arguments)}}(function(e,t,n){var i=e;if(!1!==n&&null!==n&&void 0!==n)return t&&(i+="-"+t),"col"!==e||""!==n&&!0!==n?(i+="-"+n).toLowerCase():i.toLowerCase()}),Ct=["sm","md","lg","xl"],St=Ct.reduce(function(e,t){return e[t]={type:[Boolean,String,Number],default:!1},e},b(null)),Tt=Ct.reduce(function(e,t){return e[wt(t,"offset")]=Mt(),e},b(null)),Lt=Ct.reduce(function(e,t){return e[wt(t,"order")]=Mt(),e},b(null)),Et=g(b(null),{col:_(St),offset:_(Tt),order:_(Lt)}),Dt=g({},St,Tt,Lt,{tag:{type:String,default:"div"},col:{type:Boolean,default:!1},cols:Mt(),offset:Mt(),order:Mt(),alignSelf:{type:String,default:null,validator:function(e){return M(["auto","start","end","center","baseline","stretch"],e)}}}),Ot={functional:!0,props:{tag:{type:String,default:"div"}},render:function(e,t){var n=t.props,i=t.data,r=t.children;return e(n.tag,a(i,{staticClass:"form-row"}),r)}},At={bContainer:_t,bRow:bt,bCol:{functional:!0,props:Dt,render:function(e,t){var n,i=t.props,r=t.data,o=t.children,s=[];for(var l in Et)for(var c=Et[l],u=0;u<c.length;u++){var d=xt(l,c[u].replace(l,""),i[c[u]]);d&&s.push(d)}return s.push((kt(n={col:i.col||0===s.length&&!i.cols},"col-"+i.cols,i.cols),kt(n,"offset-"+i.offset,i.offset),kt(n,"order-"+i.order,i.order),kt(n,"align-self-"+i.alignSelf,i.alignSelf),n)),e(i.tag,a(r,{class:s}),o)}},bFormRow:Ot},Yt={install:function(e){c(e,At)}};h(Yt);var Rt=Yt;var jt="__BV_root_listeners__",Pt={methods:{listenOnRoot:function(e,t){return this[jt]&&k(this[jt])||(this[jt]=[]),this[jt].push({event:e,callback:t}),this.$root.$on(e,t),this},emitOnRoot:function(e){for(var t,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return(t=this.$root).$emit.apply(t,[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i))),this}},beforeDestroy:function(){if(this[jt]&&k(this[jt]))for(;this[jt].length>0;){var e=this[jt].shift(),t=e.event,n=e.callback;this.$root.$off(t,n)}}},Nt={mixins:[Pt],render:function(e){var t=e(this.tag,{class:this.classObject,directives:[{name:"show",value:this.show}],attrs:{id:this.id||null},on:{click:this.clickHandler}},[this.$slots.default]);return e("transition",{props:{enterClass:"",enterActiveClass:"collapsing",enterToClass:"",leaveClass:"",leaveActiveClass:"collapsing",leaveToClass:""},on:{enter:this.onEnter,afterEnter:this.onAfterEnter,leave:this.onLeave,afterLeave:this.onAfterLeave}},[t])},data:function(){return{show:this.visible,transitioning:!1}},model:{prop:"visible",event:"input"},props:{id:{type:String,required:!0},isNav:{type:Boolean,default:!1},accordion:{type:String,default:null},visible:{type:Boolean,default:!1},tag:{type:String,default:"div"}},watch:{visible:function(e){e!==this.show&&(this.show=e)},show:function(e,t){e!==t&&this.emitState()}},computed:{classObject:function(){return{"navbar-collapse":this.isNav,collapse:!this.transitioning,show:this.show&&!this.transitioning}}},methods:{toggle:function(){this.show=!this.show},onEnter:function(e){e.style.height=0,B(e),e.style.height=e.scrollHeight+"px",this.transitioning=!0,this.$emit("show")},onAfterEnter:function(e){e.style.height=null,this.transitioning=!1,this.$emit("shown")},onLeave:function(e){e.style.height="auto",e.style.display="block",e.style.height=e.getBoundingClientRect().height+"px",B(e),this.transitioning=!0,e.style.height=0,this.$emit("hide")},onAfterLeave:function(e){e.style.height=null,this.transitioning=!1,this.$emit("hidden")},emitState:function(){this.$emit("input",this.show),this.$root.$emit("bv::collapse::state",this.id,this.show),this.accordion&&this.show&&this.$root.$emit("bv::collapse::accordion",this.id,this.accordion)},clickHandler:function(e){var t=e.target;this.isNav&&t&&"block"===getComputedStyle(this.$el).display&&(X(t,"nav-link")||X(t,"dropdown-item"))&&(this.show=!1)},handleToggleEvt:function(e){e===this.id&&this.toggle()},handleAccordionEvt:function(e,t){this.accordion&&t===this.accordion&&(e===this.id?this.show||this.toggle():this.show&&this.toggle())},handleResize:function(){this.show="block"===getComputedStyle(this.$el).display}},created:function(){this.listenOnRoot("bv::toggle::collapse",this.handleToggleEvt),this.listenOnRoot("bv::collapse::accordion",this.handleAccordionEvt)},mounted:function(){this.isNav&&"undefined"!=typeof document&&(window.addEventListener("resize",this.handleResize,!1),window.addEventListener("orientationchange",this.handleResize,!1),this.handleResize()),this.emitState()},beforeDestroy:function(){this.isNav&&"undefined"!=typeof document&&(window.removeEventListener("resize",this.handleResize,!1),window.removeEventListener("orientationchange",this.handleResize,!1))}},Ht={hover:!0,click:!0,focus:!0},It="__BV_boundEventListeners__",Ft=function(e,t,n,i){var r=_(t.modifiers||{}).filter(function(e){return!Ht[e]});t.value&&r.push(t.value);var o=function(){i({targets:r,vnode:e})};return _(Ht).forEach(function(i){if(n[i]||t.modifiers[i]){e.elm.addEventListener(i,o);var r=e.elm[It]||{};r[i]=r[i]||[],r[i].push(o),e.elm[It]=r}}),r},$t=Ft,Wt="undefined"!=typeof window,zt={click:!0},Bt="__BV_toggle__",Vt={bToggle:{bind:function(e,t,n){var i=$t(n,t,zt,function(e){var t=e.targets,n=e.vnode;t.forEach(function(e){n.context.$root.$emit("bv::toggle::collapse",e)})});Wt&&n.context&&i.length>0&&(Q(e,"aria-controls",i.join(" ")),Q(e,"aria-expanded","false"),"BUTTON"!==e.tagName&&Q(e,"role","button"),e[Bt]=function(t,n){-1!==i.indexOf(t)&&(Q(e,"aria-expanded",n?"true":"false"),n?K(e,"collapsed"):J(e,"collapsed"))},n.context.$root.$on("bv::collapse::state",e[Bt]))},unbind:function(e,t,n){e[Bt]&&(n.context.$root.$off("bv::collapse::state",e[Bt]),e[Bt]=null)}}},Ut={install:function(e){d(e,Vt)}};h(Ut);var qt=Ut,Gt={bCollapse:Nt},Jt={install:function(e){c(e,Gt),e.use(qt)}};h(Jt);var Kt=Jt,Xt=n(80),Qt={mounted:function(){"undefined"!=typeof document&&document.documentElement.addEventListener("click",this._clickOutListener)},beforeDestroy:function(){"undefined"!=typeof document&&document.documentElement.removeEventListener("click",this._clickOutListener)},methods:{_clickOutListener:function(e){this.$el.contains(e.target)||this.clickOutListener&&this.clickOutListener()}}},Zt=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var en=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new TypeError("Failed to construct '"+this.constructor.name+"'. 1 argument required, "+arguments.length+" given.");g(this,e.defaults(),n,{type:t}),v(this,{type:{enumerable:!0,configurable:!1,writable:!1},cancelable:{enumerable:!0,configurable:!1,writable:!1},nativeEvent:{enumerable:!0,configurable:!1,writable:!1},target:{enumerable:!0,configurable:!1,writable:!1},relatedTarget:{enumerable:!0,configurable:!1,writable:!1},vueTarget:{enumerable:!0,configurable:!1,writable:!1}});var i=!1;this.preventDefault=function(){this.cancelable&&(i=!0)},y(this,"defaultPrevented",{enumerable:!0,get:function(){return i}})}return Zt(e,null,[{key:"defaults",value:function(){return{type:"",cancelable:!0,nativeEvent:null,target:null,relatedTarget:null,vueTarget:null}}}]),e}();var tn="top-start",nn="top-end",rn="bottom-start",on="bottom-end",an={mixins:[Qt,Pt],props:{disabled:{type:Boolean,default:!1},text:{type:String,default:""},dropup:{type:Boolean,default:!1},right:{type:Boolean,default:!1},offset:{type:[Number,String],default:0},noFlip:{type:Boolean,default:!1},popperOpts:{type:Object,default:function(){}}},data:function(){return{visible:!1,inNavbar:null,visibleChangePrevented:!1}},created:function(){this._popper=null},mounted:function(){this.listenOnRoot("bv::dropdown::shown",this.rootCloseListener),this.listenOnRoot("clicked::link",this.rootCloseListener),this.listenOnRoot("bv::link::clicked",this.rootCloseListener)},deactivated:function(){this.visible=!1,this.setTouchStart(!1),this.removePopper()},beforeDestroy:function(){this.visible=!1,this.setTouchStart(!1),this.removePopper()},watch:{visible:function(e,t){if(this.visibleChangePrevented)this.visibleChangePrevented=!1;else if(e!==t){var n=e?"show":"hide",i=new en(n,{cancelable:!0,vueTarget:this,target:this.$refs.menu,relatedTarget:null});if(this.emitEvent(i),i.defaultPrevented)return this.visibleChangePrevented=!0,void(this.visible=t);"show"===n?this.showMenu():this.hideMenu()}},disabled:function(e,t){e!==t&&e&&this.visible&&(this.visible=!1)}},computed:{toggler:function(){return this.$refs.toggle.$el||this.$refs.toggle}},methods:{emitEvent:function(e){var t=e.type;this.$emit(t,e),this.emitOnRoot("bv::dropdown::"+t,e)},showMenu:function(){if(!this.disabled){if(this.emitOnRoot("bv::dropdown::shown",this),null===this.inNavbar&&this.isNav&&(this.inNavbar=Boolean(G(".navbar",this.$el))),!this.inNavbar)if(void 0===Xt.default)ft("b-dropdown: Popper.js not found. Falling back to CSS positioning.");else{var e=this.dropup&&this.right||this.split?this.$el:this.$refs.toggle;e=e.$el||e,this.createPopper(e)}this.setTouchStart(!0),this.$emit("shown"),this.$nextTick(this.focusFirstItem)}},hideMenu:function(){this.setTouchStart(!1),this.emitOnRoot("bv::dropdown::hidden",this),this.$emit("hidden"),this.removePopper()},createPopper:function(e){this.removePopper(),this._popper=new Xt.default(e,this.$refs.menu,this.getPopperConfig())},removePopper:function(){this._popper&&this._popper.destroy(),this._popper=null},getPopperConfig:function(){var e=rn;this.dropup&&this.right?e=nn:this.dropup?e=tn:this.right&&(e=on);var t={placement:e,modifiers:{offset:{offset:this.offset||0},flip:{enabled:!this.noFlip}}};return this.boundary&&(t.modifiers.preventOverflow={boundariesElement:this.boundary}),g(t,this.popperOpts||{})},setTouchStart:function(e){var t=this;"ontouchstart"in document.documentElement&&w(document.body.children).forEach(function(n){e?ae("mouseover",t._noop):se("mouseover",t._noop)})},_noop:function(){},rootCloseListener:function(e){e!==this&&(this.visible=!1)},clickOutListener:function(){this.visible=!1},show:function(){this.disabled||(this.visible=!0)},hide:function(){this.disabled||(this.visible=!1)},toggle:function(e){var t=(e=e||{}).type,n=e.keyCode;"click"!==t&&("keydown"!==t||n!==we.ENTER&&n!==we.SPACE&&n!==we.DOWN)||(this.disabled?this.visible=!1:(this.$emit("toggle",e),e.defaultPrevented||(e.preventDefault(),e.stopPropagation(),this.visible=!this.visible)))},click:function(e){this.disabled?this.visible=!1:this.$emit("click",e)},onKeydown:function(e){var t=e.keyCode;t===we.ESC?this.onEsc(e):t===we.TAB?this.onTab(e):t===we.DOWN?this.focusNext(e,!1):t===we.UP&&this.focusNext(e,!0)},onEsc:function(e){this.visible&&(this.visible=!1,e.preventDefault(),e.stopPropagation(),this.$nextTick(this.focusToggler))},onTab:function(e){this.visible&&(this.visible=!1)},onFocusOut:function(e){this.$refs.menu.contains(e.relatedTarget)||(this.visible=!1)},onMouseOver:function(e){var t=e.target;t.classList.contains("dropdown-item")&&!t.disabled&&!t.classList.contains("disabled")&&t.focus&&t.focus()},focusNext:function(e,t){var n=this;this.visible&&(e.preventDefault(),e.stopPropagation(),this.$nextTick(function(){var i=n.getItems();if(!(i.length<1)){var r=i.indexOf(e.target);t&&r>0?r--:!t&&r<i.length-1&&r++,r<0&&(r=0),n.focusItem(r,i)}}))},focusItem:function(e,t){var n=t.find(function(t,n){return n===e});n&&"-1"!==ee(n,"tabindex")&&n.focus()},getItems:function(){return function(e){return(e||[]).filter(W)}(V(".dropdown-item:not(.disabled):not([disabled])",this.$refs.menu))},getFirstItem:function(){return this.getItems()[0]||null},focusFirstItem:function(){var e=this.getFirstItem();e&&this.focusItem(0,[e])},focusToggler:function(){var e=this.toggler;e&&e.focus&&e.focus()}}},sn=(n(428),{mixins:[at,an],components:{bButton:fe},render:function(e){var t=e(!1);this.split&&(t=e("b-button",{ref:"button",props:{disabled:this.disabled,variant:this.variant,size:this.size},attrs:{id:this.safeId("_BV_button_")},on:{click:this.click}},[this.$slots["button-content"]||this.$slots.text||this.text]));var n=e("b-button",{ref:"toggle",class:this.toggleClasses,props:{variant:this.variant,size:this.size,disabled:this.disabled},attrs:{id:this.safeId("_BV_toggle_"),"aria-haspopup":"true","aria-expanded":this.visible?"true":"false"},on:{click:this.toggle,keydown:this.toggle}},[this.split?e("span",{class:["sr-only"]},[this.toggleText]):this.$slots["button-content"]||this.$slots.text||this.text]),i=e("div",{ref:"menu",class:this.menuClasses,attrs:{role:this.role,"aria-labelledby":this.safeId(this.split?"_BV_button_":"_BV_toggle_")},on:{mouseover:this.onMouseOver,keydown:this.onKeydown}},[this.$slots.default]);return e("div",{attrs:{id:this.safeId()},class:this.dropdownClasses},[t,n,i])},props:{split:{type:Boolean,default:!1},toggleText:{type:String,default:"Toggle Dropdown"},size:{type:String,default:null},variant:{type:String,default:null},menuClass:{type:[String,Array],default:null},toggleClass:{type:[String,Array],default:null},noCaret:{type:Boolean,default:!1},role:{type:String,default:"menu"},boundary:{type:[String,Object],default:"scrollParent"}},computed:{dropdownClasses:function(){var e="";return"scrollParent"===this.boundary&&this.boundary||(e="position-static"),["btn-group","b-dropdown","dropdown",this.dropup?"dropup":"",this.visible?"show":"",e]},menuClasses:function(){return["dropdown-menu",{"dropdown-menu-right":this.right,show:this.visible},this.menuClass]},toggleClasses:function(){return[{"dropdown-toggle":!this.noCaret||this.split,"dropdown-toggle-split":this.split},this.toggleClass]}}}),ln={functional:!0,props:L(),render:function(e,t){var n=t.props,i=t.data,r=t.children;return e(E,a(i,{props:n,staticClass:"dropdown-item",attrs:{role:"menuitem"}}),r)}},cn={functional:!0,props:{disabled:{type:Boolean,default:!1}},render:function(e,t){var n=t.props,i=t.data,r=t.parent,o=t.children;return e("button",a(i,{props:n,staticClass:"dropdown-item",attrs:{role:"menuitem",type:"button",disabled:n.disabled},on:{click:function(e){r.$root.$emit("clicked::link",e)}}}),o)}},un={functional:!0,props:{id:{type:String,default:null},tag:{type:String,default:"h6"}},render:function(e,t){var n=t.props,i=t.data,r=t.children;return e(n.tag,a(i,{staticClass:"dropdown-header",attrs:{id:n.id||null}}),r)}},dn={functional:!0,props:{tag:{type:String,default:"div"}},render:function(e,t){var n=t.props,i=t.data;return e(n.tag,a(i,{staticClass:"dropdown-divider",attrs:{role:"separator"}}))}},hn={bDropdown:sn,bDd:sn,bDropdownItem:ln,bDdItem:ln,bDropdownItemButton:cn,bDropdownItemBtn:cn,bDdItemButton:cn,bDdItemBtn:cn,bDropdownHeader:un,bDdHeader:un,bDropdownDivider:dn,bDdDivider:dn},fn={install:function(e){c(e,hn)}};h(fn);var pn=fn;var mn={bEmbed:{functional:!0,props:{type:{type:String,default:"iframe",validator:function(e){return M(["iframe","embed","video","object","img","b-img","b-img-lazy"],e)}},tag:{type:String,default:"div"},aspect:{type:String,default:"16by9"}},render:function(e,t){var n=t.props,i=t.data,r=t.children;return e(n.tag,{ref:i.ref,staticClass:"embed-responsive",class:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},"embed-responsive-"+n.aspect,Boolean(n.aspect))},[e(n.type,a(i,{ref:"",staticClass:"embed-responsive-item"}),r)])}}},gn={install:function(e){c(e,mn)}};h(gn);var _n=gn,vn={functional:!0,props:{id:{type:String,default:null},inline:{type:Boolean,default:!1},novalidate:{type:Boolean,default:!1},validated:{type:Boolean,default:!1}},render:function(e,t){var n=t.props,i=t.data,r=t.children;return e("form",a(i,{class:{"form-inline":n.inline,"was-validated":n.validated},attrs:{id:n.id,novalidate:n.novalidate}}),r)}};var yn={functional:!0,props:{id:{type:String,default:null},tag:{type:String,default:"small"},textVariant:{type:String,default:"muted"},inline:{type:Boolean,default:!1}},render:function(e,t){var n=t.props,i=t.data,r=t.children;return e(n.tag,a(i,{class:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({"form-text":!n.inline},"text-"+n.textVariant,Boolean(n.textVariant)),attrs:{id:n.id}}),r)}},bn={functional:!0,props:{id:{type:String,default:null},tag:{type:String,default:"div"},forceShow:{type:Boolean,default:!1}},render:function(e,t){var n=t.props,i=t.data,r=t.children;return e(n.tag,a(i,{staticClass:"invalid-feedback",class:{"d-block":n.forceShow},attrs:{id:n.id}}),r)}},wn={functional:!0,props:{id:{type:String,default:null},tag:{type:String,default:"div"},forceShow:{type:Boolean,default:!1}},render:function(e,t){var n=t.props,i=t.data,r=t.children;return e(n.tag,a(i,{staticClass:"valid-feedback",class:{"d-block":n.forceShow},attrs:{id:n.id}}),r)}},kn={bForm:vn,bFormRow:Ot,bFormText:yn,bFormInvalidFeedback:bn,bFormFeedback:bn,bFormValidFeedback:wn},Mn={install:function(e){c(e,kn)}};h(Mn);var xn=Mn,Cn={props:{state:{type:[Boolean,String],default:null}},computed:{computedState:function(){var e=this.state;return!0===e||"valid"===e||!1!==e&&"invalid"!==e&&null},stateClass:function(){var e=this.computedState;return!0===e?"is-valid":!1===e?"is-invalid":null}}},Sn={mixins:[at,Cn],components:{bFormRow:Ot,bFormText:yn,bFormInvalidFeedback:bn,bFormValidFeedback:wn},render:function(e){var t=this.$slots,n=e(!1);if(this.hasLabel){var i=t.label,r=this.labelFor?"label":"legend",o=i?{}:{innerHTML:this.label},a={id:this.labelId,for:this.labelFor||null},s=this.labelFor||this.labelSrOnly?{}:{click:this.legendClick};this.horizontal?this.labelSrOnly?(i=e(r,{class:["sr-only"],attrs:a,domProps:o},i),n=e("div",{class:this.labelLayoutClasses},[i])):n=e(r,{class:[this.labelLayoutClasses,this.labelClasses],attrs:a,domProps:o,on:s},i):n=e(r,{class:this.labelSrOnly?["sr-only"]:this.labelClasses,attrs:a,domProps:o,on:s},i)}else this.horizontal&&(n=e("div",{class:this.labelLayoutClasses}));var l=e(!1);if(this.hasInvalidFeedback){var c={};t["invalid-feedback"]||t.feedback||(c={innerHTML:this.invalidFeedback||this.feedback||""}),l=e("b-form-invalid-feedback",{props:{id:this.invalidFeedbackId,forceShow:!1===this.computedState},attrs:{role:"alert","aria-live":"assertive","aria-atomic":"true"},domProps:c},t["invalid-feedback"]||t.feedback)}var u=e(!1);if(this.hasValidFeedback){var d=t["valid-feedback"]?{}:{innerHTML:this.validFeedback||""};u=e("b-form-valid-feedback",{props:{id:this.validFeedbackId,forceShow:!0===this.computedState},attrs:{role:"alert","aria-live":"assertive","aria-atomic":"true"},domProps:d},t["valid-feedback"])}var h=e(!1);if(this.hasDescription){var f=t.description?{}:{innerHTML:this.description||""};h=e("b-form-text",{attrs:{id:this.descriptionId},domProps:f},t.description)}var p=e("div",{ref:"content",class:this.inputLayoutClasses,attrs:this.labelFor?{}:{role:"group","aria-labelledby":this.labelId}},[t.default,l,u,h]);return e(this.labelFor?"div":"fieldset",{class:this.groupClasses,attrs:{id:this.safeId(),disabled:this.disabled,role:"group","aria-invalid":!1===this.computedState?"true":null,"aria-labelledby":this.labelId,"aria-describedby":this.labelFor?null:this.describedByIds}},this.horizontal?[e("b-form-row",{},[n,p])]:[n,p])},props:{horizontal:{type:Boolean,default:!1},labelCols:{type:[Number,String],default:3,validator:function(e){return Number(e)>=1&&Number(e)<=11||(ft("b-form-group: label-cols must be a value between 1 and 11"),!1)}},breakpoint:{type:String,default:"sm"},labelTextAlign:{type:String,default:null},label:{type:String,default:null},labelFor:{type:String,default:null},labelSize:{type:String,default:null},labelSrOnly:{type:Boolean,default:!1},labelClass:{type:[String,Array],default:null},description:{type:String,default:null},invalidFeedback:{type:String,default:null},feedback:{type:String,default:null},validFeedback:{type:String,default:null},validated:{type:Boolean,default:!1}},computed:{groupClasses:function(){return["b-form-group","form-group",this.validated?"was-validated":null,this.stateClass]},labelClasses:function(){return["col-form-label",this.labelSize?"col-form-label-"+this.labelSize:null,this.labelTextAlign?"text-"+this.labelTextAlign:null,this.horizontal?null:"pt-0",this.labelClass]},labelLayoutClasses:function(){return[this.horizontal?"col-"+this.breakpoint+"-"+this.labelCols:null]},inputLayoutClasses:function(){return[this.horizontal?"col-"+this.breakpoint+"-"+(12-Number(this.labelCols)):null]},hasLabel:function(){return this.label||this.$slots.label},hasDescription:function(){return this.description||this.$slots.description},hasInvalidFeedback:function(){return!0!==this.computedState&&(this.invalidFeedback||this.feedback||this.$slots["invalid-feedback"]||this.$slots.feedback)},hasValidFeedback:function(){return!1!==this.computedState&&(this.validFeedback||this.$slots["valid-feedback"])},labelId:function(){return this.hasLabel?this.safeId("_BV_label_"):null},descriptionId:function(){return this.hasDescription?this.safeId("_BV_description_"):null},invalidFeedbackId:function(){return this.hasInvalidFeedback?this.safeId("_BV_feedback_invalid_"):null},validFeedbackId:function(){return this.hasValidFeedback?this.safeId("_BV_feedback_valid_"):null},describedByIds:function(){return[this.descriptionId,this.invalidFeedbackId,this.validFeedbackId].filter(function(e){return e}).join(" ")||null}},watch:{describedByIds:function(e,t){e!==t&&this.setInputDescribedBy(e,t)}},methods:{legendClick:function(e){var t=e.target?e.target.tagName:"";if(!/^(input|select|textarea|label)$/i.test(t)){var n=V("input:not(:disabled),textarea:not(:disabled),select:not(:disabled)",this.$refs.content).filter(W);n[0]&&n[0].focus&&n[0].focus()}},setInputDescribedBy:function(e,t){if(this.labelFor&&"undefined"!=typeof document){var n=U("#"+this.labelFor,this.$refs.content);if(n){var i="aria-describedby",r=(ee(n,i)||"").split(/\s+/);t=(t||"").split(/\s+/),(r=r.filter(function(e){return-1===t.indexOf(e)}).concat(e||"").join(" ").trim())?Q(n,i,r):Z(n,i)}}}},mounted:function(){var e=this;this.$nextTick(function(){e.setInputDescribedBy(e.describedByIds)})}},Tn={bFormGroup:Sn,bFormFieldset:Sn},Ln={install:function(e){c(e,Tn)}};h(Ln);var En=Ln,Dn={data:function(){return{localChecked:this.checked,hasFocus:!1}},model:{prop:"checked",event:"input"},props:{value:{},checked:{},buttonVariant:{type:String,default:null}},computed:{computedLocalChecked:{get:function(){return this.is_Child?this.$parent.localChecked:this.localChecked},set:function(e){this.is_Child?this.$parent.localChecked=e:this.localChecked=e}},is_Child:function(){return Boolean(this.$parent&&this.$parent.is_RadioCheckGroup)},is_Disabled:function(){return Boolean(this.is_Child&&this.$parent.disabled||this.disabled)},is_Required:function(){return Boolean(this.is_Child?this.$parent.required:this.required)},is_Plain:function(){return Boolean(this.is_Child?this.$parent.plain:this.plain)},is_Custom:function(){return!this.is_Plain},get_Size:function(){return this.is_Child?this.$parent.size:this.size},get_State:function(){return this.is_Child&&"boolean"==typeof this.$parent.get_State?this.$parent.get_State:this.computedState},get_StateClass:function(){return"boolean"==typeof this.get_State?this.get_State?"is-valid":"is-invalid":""},is_Stacked:function(){return Boolean(this.is_Child&&this.$parent.stacked)},is_Inline:function(){return!this.is_Stacked},is_ButtonMode:function(){return Boolean(this.is_Child&&this.$parent.buttons)},get_ButtonVariant:function(){return this.buttonVariant||(this.is_Child?this.$parent.buttonVariant:null)||"secondary"},get_Name:function(){return(this.is_Child?this.$parent.name||this.$parent.safeId():this.name)||null},buttonClasses:function(){return["btn","btn-"+this.get_ButtonVariant,this.get_Size?"btn-"+this.get_Size:"",this.is_Disabled?"disabled":"",this.is_Checked?"active":"",this.hasFocus?"focus":""]}},methods:{handleFocus:function(e){this.is_ButtonMode&&e.target&&("focus"===e.type?this.hasFocus=!0:"blur"===e.type&&(this.hasFocus=!1))}}},On={props:{name:{type:String},id:{type:String},disabled:{type:Boolean},required:{type:Boolean,default:!1}}},An={props:{size:{type:String,default:null}},computed:{sizeFormClass:function(){return[this.size?"form-control-"+this.size:null]},sizeBtnClass:function(){return[this.size?"btn-"+this.size:null]}}},Yn={computed:{custom:function(){return!this.plain}},props:{plain:{type:Boolean,default:!1}}},Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function jn(e){return null!==e&&"object"===(void 0===e?"undefined":Rn(e))}var Pn=function e(t,n){if(t===n)return!0;var i=jn(t),r=jn(n);if(!i||!r)return!i&&!r&&String(t)===String(n);try{var o=k(t),a=k(n);if(o&&a)return t.length===n.length&&t.every(function(t,i){return e(t,n[i])});if(o||a)return!1;var s=_(t),l=_(n);return s.length===l.length&&s.every(function(i){return e(t[i],n[i])})}catch(e){return!1}},Nn={mixins:[at,Dn,On,An,Cn,Yn],render:function(e){var t=this,n=e("input",{ref:"check",class:[this.is_ButtonMode?"":this.is_Plain?"form-check-input":"custom-control-input",this.get_StateClass],directives:[{name:"model",rawName:"v-model",value:this.computedLocalChecked,expression:"computedLocalChecked"}],attrs:{id:this.safeId(),type:"checkbox",name:this.get_Name,disabled:this.is_Disabled,required:this.is_Required,autocomplete:"off","true-value":this.value,"false-value":this.uncheckedValue,"aria-required":this.is_Required?"true":null},domProps:{value:this.value,checked:this.is_Checked},on:{focus:this.handleFocus,blur:this.handleFocus,change:this.emitChange,__c:function(e){var n=t.computedLocalChecked,i=e.target;if(k(n)){var r=t.value,o=t._i(n,r);i.checked?o<0&&(t.computedLocalChecked=n.concat([r])):o>-1&&(t.computedLocalChecked=n.slice(0,o).concat(n.slice(o+1)))}else t.computedLocalChecked=i.checked?t.value:t.uncheckedValue}}}),i=e(this.is_ButtonMode?"span":"label",{class:this.is_ButtonMode?null:this.is_Plain?"form-check-label":"custom-control-label",attrs:{for:this.is_ButtonMode?null:this.safeId()}},[this.$slots.default]);return this.is_ButtonMode?e("label",{class:[this.buttonClasses]},[n,i]):e("div",{class:[this.is_Plain?"form-check":this.labelClasses,{"form-check-inline":this.is_Plain&&!this.is_Stacked},{"custom-control-inline":!this.is_Plain&&!this.is_Stacked}]},[n,i])},props:{value:{default:!0},uncheckedValue:{default:!1},indeterminate:{type:Boolean,default:!1}},computed:{labelClasses:function(){return["custom-control","custom-checkbox",this.get_Size?"form-control-"+this.get_Size:"",this.get_StateClass]},is_Checked:function(){var e=this.computedLocalChecked;if(k(e)){for(var t=0;t<e.length;t++)if(Pn(e[t],this.value))return!0;return!1}return Pn(e,this.value)}},watch:{computedLocalChecked:function(e,t){Pn(e,t)||(this.$emit("input",e),this.$emit("update:indeterminate",this.$refs.check.indeterminate))},checked:function(e,t){this.is_Child||Pn(e,t)||(this.computedLocalChecked=e)},indeterminate:function(e,t){this.setIndeterminate(e)}},methods:{emitChange:function(e){var t=e.target.checked;this.is_Child||k(this.computedLocalChecked)?(this.$emit("change",t?this.value:null),this.is_Child&&this.$parent.$emit("change",this.computedLocalChecked)):this.$emit("change",t?this.value:this.uncheckedValue),this.$emit("update:indeterminate",this.$refs.check.indeterminate)},setIndeterminate:function(e){this.is_Child||k(this.computedLocalChecked)||(this.$refs.check.indeterminate=e,this.$emit("update:indeterminate",this.$refs.check.indeterminate))}},mounted:function(){this.setIndeterminate(this.indeterminate)}};function Hn(e){return e&&"[object Object]"==={}.toString.call(e)}var In={props:{options:{type:[Array,Object],default:function(){return[]}},valueField:{type:String,default:"value"},textField:{type:String,default:"text"},disabledField:{type:String,default:"disabled"}},computed:{formOptions:function(){var e=this.options,t=this.valueField,n=this.textField,i=this.disabledField;return k(e)?e.map(function(e){return Hn(e)?{value:e[t],text:String(e[n]),disabled:e[i]||!1}:{value:e,text:String(e),disabled:!1}}):_(e).map(function(r){var o=e[r]||{};if(Hn(o)){var a=o[t],s=o[n];return{value:void 0===a?r:a,text:void 0===s?r:String(s),disabled:o[i]||!1}}return{value:r,text:String(o),disabled:!1}})}}},Fn={mixins:[at,On,An,Cn,Yn,In],components:{bFormCheckbox:Nn},render:function(e){var t=this,n=this.$slots,i=this.formOptions.map(function(n,i){return e("b-form-checkbox",{key:"check_"+i+"_opt",props:{id:t.safeId("_BV_check_"+i+"_opt_"),name:t.name,value:n.value,required:t.name&&t.required,disabled:n.disabled}},[e("span",{domProps:{innerHTML:n.text}})])});return e("div",{class:this.groupClasses,attrs:{id:this.safeId(),role:"group",tabindex:"-1","aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid}},[n.first,i,n.default])},data:function(){return{localChecked:this.checked||[],is_RadioCheckGroup:!0}},model:{prop:"checked",event:"input"},props:{checked:{type:[String,Number,Object,Array,Boolean],default:null},validated:{type:Boolean,default:!1},ariaInvalid:{type:[Boolean,String],default:!1},stacked:{type:Boolean,default:!1},buttons:{type:Boolean,default:!1},buttonVariant:{type:String,default:"secondary"}},watch:{checked:function(e,t){this.localChecked=this.checked},localChecked:function(e,t){this.$emit("input",e)}},computed:{groupClasses:function(){return this.buttons?["btn-group-toggle",this.stacked?"btn-group-vertical":"btn-group",this.size?"btn-group-"+this.size:"",this.validated?"was-validated":""]:[this.sizeFormClass,this.stacked&&this.custom?"custom-controls-stacked":"",this.validated?"was-validated":""]},computedAriaInvalid:function(){return!0===this.ariaInvalid||"true"===this.ariaInvalid||""===this.ariaInvalid?"true":!1===this.get_State?"true":null},get_State:function(){return this.computedState}}},$n={bFormCheckbox:Nn,bCheckbox:Nn,bCheck:Nn,bFormCheckboxGroup:Fn,bCheckboxGroup:Fn,bCheckGroup:Fn},Wn={install:function(e){c(e,$n)}};h(Wn);var zn=Wn,Bn={mixins:[at,Dn,On,Cn],render:function(e){var t=this,n=e("input",{ref:"radio",class:[this.is_ButtonMode?"":this.is_Plain?"form-check-input":"custom-control-input",this.get_StateClass],directives:[{name:"model",rawName:"v-model",value:this.computedLocalChecked,expression:"computedLocalChecked"}],attrs:{id:this.safeId(),type:"radio",name:this.get_Name,required:this.get_Name&&this.is_Required,disabled:this.is_Disabled,autocomplete:"off"},domProps:{value:this.value,checked:Pn(this.computedLocalChecked,this.value)},on:{focus:this.handleFocus,blur:this.handleFocus,change:this.emitChange,__c:function(e){t.computedLocalChecked=t.value}}}),i=e(this.is_ButtonMode?"span":"label",{class:this.is_ButtonMode?null:this.is_Plain?"form-check-label":"custom-control-label",attrs:{for:this.is_ButtonMode?null:this.safeId()}},[this.$slots.default]);return this.is_ButtonMode?e("label",{class:[this.buttonClasses]},[n,i]):e("div",{class:[this.is_Plain?"form-check":this.labelClasses,{"form-check-inline":this.is_Plain&&!this.is_Stacked},{"custom-control-inline":!this.is_Plain&&!this.is_Stacked}]},[n,i])},watch:{checked:function(e,t){this.computedLocalChecked=e},computedLocalChceked:function(e,t){this.$emit("input",this.computedLocalChceked)}},computed:{is_Checked:function(){return Pn(this.value,this.computedLocalChecked)},labelClasses:function(){return[this.get_Size?"form-control-"+this.get_Size:"","custom-control","custom-radio",this.get_StateClass]}},methods:{emitChange:function(e){var t=e.target.checked;this.$emit("change",t?this.value:null),this.is_Child&&this.$parent.$emit("change",this.computedLocalChecked)}}},Vn={mixins:[at,On,An,Cn,Yn,In],components:{bFormRadio:Bn},render:function(e){var t=this,n=this.$slots,i=this.formOptions.map(function(n,i){return e("b-form-radio",{key:"radio_"+i+"_opt",props:{id:t.safeId("_BV_radio_"+i+"_opt_"),name:t.name,value:n.value,required:Boolean(t.name&&t.required),disabled:n.disabled}},[e("span",{domProps:{innerHTML:n.text}})])});return e("div",{class:this.groupClasses,attrs:{id:this.safeId(),role:"radiogroup",tabindex:"-1","aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid}},[n.first,i,n.default])},data:function(){return{localChecked:this.checked,is_RadioCheckGroup:!0}},model:{prop:"checked",event:"input"},props:{checked:{type:[String,Object,Number,Boolean],default:null},validated:{type:Boolean,default:!1},ariaInvalid:{type:[Boolean,String],default:!1},stacked:{type:Boolean,default:!1},buttons:{type:Boolean,default:!1},buttonVariant:{type:String,default:"secondary"}},watch:{checked:function(e,t){this.localChecked=this.checked},localChecked:function(e,t){this.$emit("input",e)}},computed:{groupClasses:function(){return this.buttons?["btn-group-toggle",this.stacked?"btn-group-vertical":"btn-group",this.size?"btn-group-"+this.size:"",this.validated?"was-validated":""]:[this.sizeFormClass,this.stacked&&this.custom?"custom-controls-stacked":"",this.validated?"was-validated":""]},computedAriaInvalid:function(){return!0===this.ariaInvalid||"true"===this.ariaInvalid||""===this.ariaInvalid?"true":!1===this.get_State?"true":null},get_State:function(){return this.computedState}}},Un={bFormRadio:Bn,bRadio:Bn,bFormRadioGroup:Vn,bRadioGroup:Vn},qn={install:function(e){c(e,Un)}};h(qn);var Gn=qn,Jn=(n(429),["text","password","email","number","url","tel","search","range","color","date","time","datetime","datetime-local","month","week"]),Kn={mixins:[at,On,An,Cn],render:function(e){return e("input",{ref:"input",class:this.inputClass,attrs:{id:this.safeId(),name:this.name,type:this.localType,disabled:this.disabled,required:this.required,readonly:this.readonly||this.plaintext,placeholder:this.placeholder,autocomplete:this.autocomplete||null,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid,value:this.value},on:{input:this.onInput,change:this.onChange}})},props:{value:{default:null},type:{type:String,default:"text",validator:function(e){return M(Jn,e)}},ariaInvalid:{type:[Boolean,String],default:!1},readonly:{type:Boolean,default:!1},plaintext:{type:Boolean,default:!1},autocomplete:{type:String,default:null},placeholder:{type:String,default:null},formatter:{type:Function},lazyFormatter:{type:Boolean,default:!1}},computed:{localType:function(){return M(Jn,this.type)?this.type:"text"},inputClass:function(){return[this.plaintext?"form-control-plaintext":"form-control",this.sizeFormClass,this.stateClass]},computedAriaInvalid:function(){return this.ariaInvalid&&"false"!==this.ariaInvalid?!0===this.ariaInvalid?"true":this.ariaInvalid:!1===this.computedState?"true":null}},mounted:function(){if(this.value){var e=this.format(this.value,null);this.setValue(e)}},watch:{value:function(e){if(this.lazyFormatter)this.setValue(e);else{var t=this.format(e,null);this.setValue(t)}}},methods:{format:function(e,t){return this.formatter?this.formatter(e,t):e},setValue:function(e){this.$emit("input",e),this.$refs.input.value=e},onInput:function(e){var t=e.target.value;if(this.lazyFormatter)this.setValue(t);else{var n=this.format(t,e);this.setValue(n)}},onChange:function(e){var t=this.format(e.target.value,e);this.setValue(t),this.$emit("change",t)},focus:function(){this.disabled||this.$el.focus()}}},Xn={bFormInput:Kn,bInput:Kn},Qn={install:function(e){c(e,Xn)}};h(Qn);var Zn=Qn,ei={mixins:[at,On,An,Cn],render:function(e){var t=this;return e("textarea",{ref:"input",class:this.inputClass,style:this.inputStyle,directives:[{name:"model",rawName:"v-model",value:this.localValue,expression:"localValue"}],domProps:{value:this.value},attrs:{id:this.safeId(),name:this.name,disabled:this.disabled,placeholder:this.placeholder,required:this.required,autocomplete:this.autocomplete||null,readonly:this.readonly||this.plaintext,rows:this.rowsCount,wrap:this.wrap||null,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid},on:{input:function(e){t.localValue=e.target.value}}})},data:function(){return{localValue:this.value}},props:{value:{type:String,default:""},ariaInvalid:{type:[Boolean,String],default:!1},readonly:{type:Boolean,default:!1},plaintext:{type:Boolean,default:!1},autocomplete:{type:String,default:null},placeholder:{type:String,default:null},rows:{type:[Number,String],default:null},maxRows:{type:[Number,String],default:null},wrap:{type:String,default:"soft"},noResize:{type:Boolean,default:!1}},computed:{rowsCount:function(){var e=parseInt(this.rows,10)||1,t=parseInt(this.maxRows,10)||0,n=(this.localValue||"").toString().split("\n").length;return t?Math.min(t,Math.max(e,n)):Math.max(e,n)},inputClass:function(){return[this.plaintext?"form-control-plaintext":"form-control",this.sizeFormClass,this.stateClass]},inputStyle:function(){return{width:this.plaintext?"100%":null,resize:this.noResize?"none":null}},computedAriaInvalid:function(){return this.ariaInvalid&&"false"!==this.ariaInvalid?!0===this.ariaInvalid?"true":this.ariaInvalid:!1===this.computedState?"true":null}},watch:{value:function(e,t){e!==t&&(this.localValue=e)},localValue:function(e,t){e!==t&&this.$emit("input",e)}},methods:{focus:function(){this.disabled||this.$el.focus()}}},ti={bFormTextarea:ei,bTextarea:ei},ni={install:function(e){c(e,ti)}};h(ni);var ii=ni,ri={mixins:[at,On,Cn,Yn],render:function(e){var t=e("input",{ref:"input",class:[{"form-control-file":this.plain,"custom-file-input":this.custom,focus:this.custom&&this.hasFocus},this.stateClass],attrs:{type:"file",id:this.safeId(),name:this.name,disabled:this.disabled,required:this.required,capture:this.capture||null,accept:this.accept||null,multiple:this.multiple,webkitdirectory:this.directory,"aria-required":this.required?"true":null,"aria-describedby":this.plain?null:this.safeId("_BV_file_control_")},on:{change:this.onFileChange,focusin:this.focusHandler,focusout:this.focusHandler}});if(this.plain)return t;var n=e("label",{class:["custom-file-label",this.dragging?"dragging":null],attrs:{id:this.safeId("_BV_file_control_")}},this.selectLabel);return e("div",{class:["custom-file","b-form-file",this.stateClass],attrs:{id:this.safeId("_BV_file_outer_")},on:{dragover:this.dragover}},[t,n])},data:function(){return{selectedFile:null,dragging:!1,hasFocus:!1}},props:{accept:{type:String,default:""},capture:{type:Boolean,default:!1},placeholder:{type:String,default:void 0},multiple:{type:Boolean,default:!1},directory:{type:Boolean,default:!1},noTraverse:{type:Boolean,default:!1},noDrop:{type:Boolean,default:!1}},computed:{selectLabel:function(){return this.selectedFile&&0!==this.selectedFile.length?this.multiple?1===this.selectedFile.length?this.selectedFile[0].name:this.selectedFile.map(function(e){return e.name}).join(", "):this.selectedFile.name:this.placeholder}},watch:{selectedFile:function(e,t){e!==t&&(!e&&this.multiple?this.$emit("input",[]):this.$emit("input",e))}},methods:{focusHandler:function(e){this.plain||"focusout"===e.type?this.hasFocus=!1:this.hasFocus=!0},reset:function(){try{this.$refs.input.value=""}catch(e){}this.$refs.input.type="",this.$refs.input.type="file",this.selectedFile=this.multiple?[]:null},onFileChange:function(e){var t=this;this.$emit("change",e);var n=e.dataTransfer&&e.dataTransfer.items;if(!n||this.noTraverse)this.setFiles(e.target.files||e.dataTransfer.files);else{for(var i=[],r=0;r<n.length;r++){var o=n[r].webkitGetAsEntry();o&&i.push(this.traverseFileTree(o))}Promise.all(i).then(function(e){t.setFiles(w(e))})}},setFiles:function(e){if(e)if(this.multiple){for(var t=[],n=0;n<e.length;n++)e[n].type.match(this.accept)&&t.push(e[n]);this.selectedFile=t}else this.selectedFile=e[0];else this.selectedFile=null},dragover:function(e){e.preventDefault(),e.stopPropagation(),!this.noDrop&&this.custom&&(this.dragging=!0,e.dataTransfer.dropEffect="copy")},dragleave:function(e){e.preventDefault(),e.stopPropagation(),this.dragging=!1},drop:function(e){e.preventDefault(),e.stopPropagation(),this.noDrop||(this.dragging=!1,e.dataTransfer.files&&e.dataTransfer.files.length>0&&this.onFileChange(e))},traverseFileTree:function(e,t){var n=this;return new Promise(function(i){t=t||"",e.isFile?e.file(function(e){e.$path=t,i(e)}):e.isDirectory&&e.createReader().readEntries(function(r){for(var o=[],a=0;a<r.length;a++)o.push(n.traverseFileTree(r[a],t+e.name+"/"));Promise.all(o).then(function(e){i(w(e))})})})}}},oi={bFormFile:ri,bFile:ri},ai={install:function(e){c(e,oi)}};h(ai);var si=ai,li={mixins:[at,On,An,Cn,Yn,In],render:function(e){var t=this,n=this.$slots,i=this.formOptions.map(function(t,n){return e("option",{key:"option_"+n+"_opt",attrs:{disabled:Boolean(t.disabled)},domProps:{innerHTML:t.text,value:t.value}})});return e("select",{ref:"input",class:this.inputClass,directives:[{name:"model",rawName:"v-model",value:this.localValue,expression:"localValue"}],attrs:{id:this.safeId(),name:this.name,multiple:this.multiple||null,size:this.computedSelectSize,disabled:this.disabled,required:this.required,"aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid},on:{change:function(e){var n=e.target,i=w(n.options).filter(function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});t.localValue=n.multiple?i:i[0],t.$emit("change",t.localValue)}}},[n.first,i,n.default])},data:function(){return{localValue:this.value}},watch:{value:function(e,t){this.localValue=e},localValue:function(e,t){this.$emit("input",this.localValue)}},props:{value:{},multiple:{type:Boolean,default:!1},selectSize:{type:Number,default:0},ariaInvalid:{type:[Boolean,String],default:!1}},computed:{computedSelectSize:function(){return this.plain||0!==this.selectSize?this.selectSize:null},inputClass:function(){return["form-control",this.stateClass,this.sizeFormClass,this.plain?null:"custom-select",this.plain||!this.size?null:"custom-select-"+this.size]},computedAriaInvalid:function(){return!0===this.ariaInvalid||"true"===this.ariaInvalid?"true":"is-invalid"===this.stateClass?"true":null}}},ci={bFormSelect:li,bSelect:li},ui={install:function(e){c(e,ci)}};h(ui);var di=ui,hi={bImg:ht,bImgLazy:{components:{bImg:ht},render:function(e){return e("b-img",{props:{src:this.computedSrc,alt:this.alt,blank:this.computedBlank,blankColor:this.blankColor,width:this.computedWidth,height:this.computedHeight,fluid:this.fluid,fluidGrow:this.fluidGrow,block:this.block,thumbnail:this.thumbnail,rounded:this.rounded,left:this.left,right:this.right,center:this.center}})},data:function(){return{isShown:!1,scrollTimeout:null}},props:{src:{type:String,default:null,required:!0},alt:{type:String,default:null},width:{type:[Number,String],default:null},height:{type:[Number,String],default:null},blankSrc:{type:String,default:null},blankColor:{type:String,default:"transparent"},blankWidth:{type:[Number,String],default:null},blankHeight:{type:[Number,String],default:null},fluid:{type:Boolean,default:!1},fluidGrow:{type:Boolean,default:!1},block:{type:Boolean,default:!1},thumbnail:{type:Boolean,default:!1},rounded:{type:[Boolean,String],default:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1},center:{type:Boolean,default:!1},offset:{type:[Number,String],default:360},throttle:{type:[Number,String],default:100}},computed:{computedSrc:function(){return!this.blankSrc||this.isShown?this.src:this.blankSrc},computedBlank:function(){return!(this.isShown||this.blankSrc)},computedWidth:function(){return this.isShown?this.width:this.blankWidth||this.width},computedHeight:function(){return this.isShown?this.height:this.blankHeight||this.height}},mounted:function(){this.setListeners(!0),this.checkView()},activated:function(){this.setListeners(!0),this.checkView()},deactivated:function(){this.setListeners(!1)},beforeDdestroy:function(){this.setListeners(!1)},methods:{setListeners:function(e){clearTimeout(this.scrollTimer),this.scrollTimeout=null;var t=window;e?(ae(t,"scroll",this.onScroll),ae(t,"resize",this.onScroll),ae(t,"orientationchange",this.onScroll)):(se(t,"scroll",this.onScroll),se(t,"resize",this.onScroll),se(t,"orientationchange",this.onScroll))},checkView:function(){if(W(this.$el)){var e=parseInt(this.offset,10)||0,t=document.documentElement,n=0-e,i=0-e,r=t.clientHeight+e,o=t.clientWidth+e,a=ne(this.$el);a.right>=n&&a.bottom>=i&&a.left<=o&&a.top<=r&&(this.isShown=!0,this.setListeners(!1))}},onScroll:function(){this.isShown?this.setListeners(!1):(clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(this.checkView,parseInt(this.throttle,10)||100))}}}},fi={install:function(e){c(e,hi)}};h(fi);var pi=fi;function mi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gi={bJumbotron:{functional:!0,props:{fluid:{type:Boolean,default:!1},containerFluid:{type:Boolean,default:!1},header:{type:String,default:null},headerTag:{type:String,default:"h1"},headerLevel:{type:[Number,String],default:"3"},lead:{type:String,default:null},leadTag:{type:String,default:"p"},tag:{type:String,default:"div"},bgVariant:{type:String,default:null},borderVariant:{type:String,default:null},textVariant:{type:String,default:null}},render:function(e,t){var n,i=t.props,r=t.data,o=[],s=(0,t.slots)();return(i.header||s.header)&&o.push(e(i.headerTag,{class:mi({},"display-"+i.headerLevel,Boolean(i.headerLevel))},s.header||i.header)),(i.lead||s.lead)&&o.push(e(i.leadTag,{staticClass:"lead"},s.lead||i.lead)),s.default&&o.push(s.default),i.fluid&&(o=[e(_t,{props:{fluid:i.containerFluid}},o)]),e(i.tag,a(r,{staticClass:"jumbotron",class:(n={"jumbotron-fluid":i.fluid},mi(n,"text-"+i.textVariant,Boolean(i.textVariant)),mi(n,"bg-"+i.bgVariant,Boolean(i.bgVariant)),mi(n,"border-"+i.borderVariant,Boolean(i.borderVariant)),mi(n,"border",Boolean(i.borderVariant)),n)}),o)}}},_i={install:function(e){c(e,gi)}};h(_i);var vi=_i,yi={bLink:E},bi={install:function(e){c(e,yi)}};h(bi);var wi=bi,ki={functional:!0,props:{tag:{type:String,default:"div"},flush:{type:Boolean,default:!1}},render:function(e,t){var n=t.props,i=t.data,r=t.children,o={staticClass:"list-group",class:{"list-group-flush":n.flush}};return e(n.tag,a(i,o),r)}};function Mi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xi=["a","router-link","button","b-link"],Ci=L();delete Ci.href.default,delete Ci.to.default;var Si={bListGroup:ki,bListGroupItem:{functional:!0,props:g({tag:{type:String,default:"div"},action:{type:Boolean,default:null},button:{type:Boolean,default:null},variant:{type:String,default:null}},Ci),render:function(e,t){var n,i=t.props,r=t.data,o=t.children,s=i.button?"button":i.href||i.to?E:i.tag,l=Boolean(i.href||i.to||i.action||i.button||M(xi,i.tag));return e(s,a(r,{staticClass:"list-group-item",class:(n={},Mi(n,"list-group-item-"+i.variant,Boolean(i.variant)),Mi(n,"list-group-item-action",l),Mi(n,"active",i.active),Mi(n,"disabled",i.disabled),n),attrs:"button"===s&&i.disabled?{disabled:!0}:{},props:i.button?{}:S(Ci,i)}),o)}}},Ti={install:function(e){c(e,Si)}};h(Ti);var Li=Ti,Ei={functional:!0,props:{tag:{type:String,default:"div"}},render:function(e,t){var n=t.props,i=t.data,r=t.children;return e(n.tag,a(i,{staticClass:"media-body"}),r)}};var Di={functional:!0,props:{tag:{type:String,default:"div"},verticalAlign:{type:String,default:"top"}},render:function(e,t){var n=t.props,i=t.data,r=t.children;return e(n.tag,a(i,{staticClass:"d-flex",class:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},"align-self-"+n.verticalAlign,n.verticalAlign)}),r)}},Oi={bMedia:{functional:!0,props:{tag:{type:String,default:"div"},rightAlign:{type:Boolean,default:!1},verticalAlign:{type:String,default:"top"},noBody:{type:Boolean,default:!1}},render:function(e,t){var n=t.props,i=t.data,r=t.slots,o=t.children,s=n.noBody?o:[],l=r();return n.noBody||(l.aside&&!n.rightAlign&&s.push(e(Di,{staticClass:"mr-3",props:{verticalAlign:n.verticalAlign}},l.aside)),s.push(e(Ei,l.default)),l.aside&&n.rightAlign&&s.push(e(Di,{staticClass:"ml-3",props:{verticalAlign:n.verticalAlign}},l.aside))),e(n.tag,a(i,{staticClass:"media"}),s)}},bMediaAside:Di,bMediaBody:Ei},Ai={install:function(e){c(e,Oi)}};h(Ai);var Yi=Ai;function Ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ji=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Pi=".sticky-top",Ni=".navbar-toggler",Hi={subtree:!0,childList:!0,characterData:!0,attributes:!0,attributeFilter:["style","class"]},Ii={mixins:[at,Pt],components:{bBtn:fe,bBtnClose:s},render:function(e){var t=this,n=this.$slots,i=e(!1);if(!this.hideHeader){var r=n["modal-header"];if(!r){var o=e(!1);this.hideHeaderClose||(o=e("b-btn-close",{props:{disabled:this.is_transitioning,ariaLabel:this.headerCloseLabel,textVariant:this.headerTextVariant},on:{click:function(e){t.hide("header-close")}}},[n["modal-header-close"]])),r=[e(this.titleTag,{class:["modal-title"]},[n["modal-title"]||this.title]),o]}i=e("header",{ref:"header",class:this.headerClasses,attrs:{id:this.safeId("__BV_modal_header_")}},[r])}var a=e("div",{ref:"body",class:this.bodyClasses,attrs:{id:this.safeId("__BV_modal_body_")}},[n.default]),s=e(!1);if(!this.hideFooter){var l=n["modal-footer"];if(!l){var c=e(!1);this.okOnly||(c=e("b-btn",{props:{variant:this.cancelVariant,size:this.buttonSize,disabled:this.cancelDisabled||this.busy||this.is_transitioning},on:{click:function(e){t.hide("cancel")}}},[n["modal-cancel"]||this.cancelTitle])),l=[c,e("b-btn",{props:{variant:this.okVariant,size:this.buttonSize,disabled:this.okDisabled||this.busy||this.is_transitioning},on:{click:function(e){t.hide("ok")}}},[n["modal-ok"]||this.okTitle])]}s=e("footer",{ref:"footer",class:this.footerClasses,attrs:{id:this.safeId("__BV_modal_footer_")}},[l])}var u=e("div",{ref:"content",class:["modal-content"],attrs:{tabindex:"-1",role:"document","aria-labelledby":this.hideHeader?null:this.safeId("__BV_modal_header_"),"aria-describedby":this.safeId("__BV_modal_body_")},on:{focusout:this.onFocusout,click:function(e){e.stopPropagation(),t.$root.$emit("bv::dropdown::shown")}}},[i,a,s]),d=e("div",{class:this.dialogClasses},[u]),h=e("div",{ref:"modal",class:this.modalClasses,directives:[{name:"show",rawName:"v-show",value:this.is_visible,expression:"is_visible"}],attrs:{id:this.safeId(),role:"dialog","aria-hidden":this.is_visible?null:"true"},on:{click:this.onClickOut,keydown:this.onEsc}},[d]);h=e("transition",{props:{enterClass:"",enterToClass:"",enterActiveClass:"",leaveClass:"",leaveActiveClass:"",leaveToClass:""},on:{"before-enter":this.onBeforeEnter,enter:this.onEnter,"after-enter":this.onAfterEnter,"before-leave":this.onBeforeLeave,leave:this.onLeave,"after-leave":this.onAfterLeave}},[h]);var f=e(!1);this.hideBackdrop||!this.is_visible&&!this.is_transitioning||(f=e("div",{class:this.backdropClasses,attrs:{id:this.safeId("__BV_modal_backdrop_")}}));var p=e(!1);return this.is_hidden||(p=e("div",{attrs:{id:this.safeId("__BV_modal_outer_")}},[h,f])),e("div",{},[p])},data:function(){return{is_hidden:this.lazy||!1,is_visible:!1,is_transitioning:!1,is_show:!1,is_block:!1,scrollbarWidth:0,isBodyOverflowing:!1,return_focus:this.returnFocus||null}},model:{prop:"visible",event:"change"},props:{title:{type:String,default:""},titleTag:{type:String,default:"h5"},size:{type:String,default:"md"},centered:{type:Boolean,default:!1},buttonSize:{type:String,default:""},noFade:{type:Boolean,default:!1},noCloseOnBackdrop:{type:Boolean,default:!1},noCloseOnEsc:{type:Boolean,default:!1},noEnforceFocus:{type:Boolean,default:!1},headerBgVariant:{type:String,default:null},headerBorderVariant:{type:String,default:null},headerTextVariant:{type:String,default:null},headerClass:{type:[String,Array],default:null},bodyBgVariant:{type:String,default:null},bodyTextVariant:{type:String,default:null},modalClass:{type:[String,Array],default:null},bodyClass:{type:[String,Array],default:null},footerBgVariant:{type:String,default:null},footerBorderVariant:{type:String,default:null},footerTextVariant:{type:String,default:null},footerClass:{type:[String,Array],default:null},hideHeader:{type:Boolean,default:!1},hideFooter:{type:Boolean,default:!1},hideHeaderClose:{type:Boolean,default:!1},hideBackdrop:{type:Boolean,default:!1},okOnly:{type:Boolean,default:!1},okDisabled:{type:Boolean,default:!1},cancelDisabled:{type:Boolean,default:!1},visible:{type:Boolean,default:!1},returnFocus:{default:null},headerCloseLabel:{type:String,default:"Close"},cancelTitle:{type:String,default:"Cancel"},okTitle:{type:String,default:"OK"},cancelVariant:{type:String,default:"secondary"},okVariant:{type:String,default:"primary"},lazy:{type:Boolean,default:!1},busy:{type:Boolean,default:!1}},computed:{modalClasses:function(){return["modal",{fade:!this.noFade,show:this.is_show,"d-block":this.is_block},this.modalClass]},dialogClasses:function(){var e;return["modal-dialog",(e={},Ri(e,"modal-"+this.size,Boolean(this.size)),Ri(e,"modal-dialog-centered",this.centered),e)]},backdropClasses:function(){return["modal-backdrop",{fade:!this.noFade,show:this.is_show||this.noFade}]},headerClasses:function(){var e;return["modal-header",(e={},Ri(e,"bg-"+this.headerBgVariant,Boolean(this.headerBgVariant)),Ri(e,"text-"+this.headerTextVariant,Boolean(this.headerTextVariant)),Ri(e,"border-"+this.headerBorderVariant,Boolean(this.headerBorderVariant)),e),this.headerClass]},bodyClasses:function(){var e;return["modal-body",(e={},Ri(e,"bg-"+this.bodyBgVariant,Boolean(this.bodyBgVariant)),Ri(e,"text-"+this.bodyTextVariant,Boolean(this.bodyTextVariant)),e),this.bodyClass]},footerClasses:function(){var e;return["modal-footer",(e={},Ri(e,"bg-"+this.footerBgVariant,Boolean(this.footerBgVariant)),Ri(e,"text-"+this.footerTextVariant,Boolean(this.footerTextVariant)),Ri(e,"border-"+this.footerBorderVariant,Boolean(this.footerBorderVariant)),e),this.footerClass]}},watch:{visible:function(e,t){e!==t&&this[e?"show":"hide"]()}},methods:{show:function(){if(!this.is_visible){var e=new en("show",{cancelable:!0,vueTarget:this,target:this.$refs.modal,relatedTarget:null});this.emitEvent(e),e.defaultPrevented||this.is_visible||(X(document.body,"modal-open")?this.$root.$once("bv::modal::hidden",this.doShow):this.doShow())}},hide:function(e){if(this.is_visible){var t=new en("hide",{cancelable:!0,vueTarget:this,target:this.$refs.modal,relatedTarget:null,isOK:e||null,trigger:e||null,cancel:function(){ft("b-modal: evt.cancel() is deprecated. Please use evt.preventDefault()."),this.preventDefault()}});"ok"===e?this.$emit("ok",t):"cancel"===e&&this.$emit("cancel",t),this.emitEvent(t),!t.defaultPrevented&&this.is_visible&&(this._observer&&(this._observer.disconnect(),this._observer=null),this.is_visible=!1,this.$emit("change",!1))}},doShow:function(){var e=this;this.is_hidden=!1,this.$nextTick(function(){e.is_visible=!0,e.$emit("change",!0),e._observer=ot(e.$refs.content,e.adjustDialog.bind(e),Hi)})},onBeforeEnter:function(){this.is_transitioning=!0,this.checkScrollbar(),this.setScrollbar(),this.adjustDialog(),J(document.body,"modal-open"),this.setResizeEvent(!0)},onEnter:function(){this.is_block=!0,this.$refs.modal.scrollTop=0},onAfterEnter:function(){var e=this;this.is_show=!0,this.is_transitioning=!1,this.$nextTick(function(){e.focusFirst();var t=new en("shown",{cancelable:!1,vueTarget:e,target:e.$refs.modal,relatedTarget:null});e.emitEvent(t)})},onBeforeLeave:function(){this.is_transitioning=!0,this.setResizeEvent(!1)},onLeave:function(){this.is_show=!1},onAfterLeave:function(){var e=this;this.is_block=!1,this.resetAdjustments(),this.resetScrollbar(),this.is_transitioning=!1,K(document.body,"modal-open"),this.$nextTick(function(){e.is_hidden=e.lazy||!1,e.returnFocusTo();var t=new en("hidden",{cancelable:!1,vueTarget:e,target:e.lazy?null:e.$refs.modal,relatedTarget:null});e.emitEvent(t)})},emitEvent:function(e){var t=e.type;this.$emit(t,e),this.$root.$emit("bv::modal::"+t,e)},onClickOut:function(e){this.is_visible&&!this.noCloseOnBackdrop&&this.hide("backdrop")},onEsc:function(e){e.keyCode===we.ESC&&this.is_visible&&!this.noCloseOnEsc&&this.hide("esc")},onFocusout:function(e){var t=this.$refs.content;!this.noEnforceFocus&&this.is_visible&&t&&!t.contains(e.relatedTarget)&&t.focus()},setResizeEvent:function(e){var t=this;["resize","orientationchange"].forEach(function(n){e?ae(window,n,t.adjustDialog):se(window,n,t.adjustDialog)})},showHandler:function(e,t){e===this.id&&(this.return_focus=t||null,this.show())},hideHandler:function(e){e===this.id&&this.hide()},modalListener:function(e){e.vueTarget!==this&&this.hide()},focusFirst:function(){if("undefined"!=typeof document){var e=this.$refs.content,t=this.$refs.modal,n=document.activeElement;n&&e&&e.contains(n)||e&&(t&&(t.scrollTop=0),e.focus())}},returnFocusTo:function(){var e=this.returnFocus||this.return_focus||null;"string"==typeof e&&(e=U(e)),e&&(e=e.$el||e,W(e)&&e.focus())},getScrollbarWidth:function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",document.body.appendChild(e),this.scrollbarWidth=e.getBoundingClientRect().width-e.clientWidth,document.body.removeChild(e)},adjustDialog:function(){if(this.is_visible){var e=this.$refs.modal,t=e.scrollHeight>document.documentElement.clientHeight;!this.isBodyOverflowing&&t&&(e.style.paddingLeft=this.scrollbarWidth+"px"),this.isBodyOverflowing&&!t&&(e.style.paddingRight=this.scrollbarWidth+"px")}},resetAdjustments:function(){var e=this.$refs.modal;e&&(e.style.paddingLeft="",e.style.paddingRight="")},checkScrollbar:function(){var e=ne(document.body);this.isBodyOverflowing=e.left+e.right<window.innerWidth},setScrollbar:function(){if(this.isBodyOverflowing){var e=window.getComputedStyle,t=document.body,n=this.scrollbarWidth;V(ji).forEach(function(t){var i=t.style.paddingRight,r=e(t).paddingRight||0;Q(t,"data-padding-right",i),t.style.paddingRight=parseFloat(r)+n+"px"}),V(Pi).forEach(function(t){var i=t.style.marginRight,r=e(t).marginRight||0;Q(t,"data-margin-right",i),t.style.marginRight=parseFloat(r)-n+"px"}),V(Ni).forEach(function(t){var i=t.style.marginRight,r=e(t).marginRight||0;Q(t,"data-margin-right",i),t.style.marginRight=parseFloat(r)+n+"px"});var i=t.style.paddingRight,r=e(t).paddingRight;Q(t,"data-padding-right",i),t.style.paddingRight=parseFloat(r)+n+"px"}},resetScrollbar:function(){V(ji).forEach(function(e){te(e,"data-padding-right")&&(e.style.paddingRight=ee(e,"data-padding-right")||"",Z(e,"data-padding-right"))}),V(Pi+", "+Ni).forEach(function(e){te(e,"data-margin-right")&&(e.style.marginRight=ee(e,"data-margin-right")||"",Z(e,"data-margin-right"))});var e=document.body;te(e,"data-padding-right")&&(e.style.paddingRight=ee(e,"data-padding-right")||"",Z(e,"data-padding-right"))}},created:function(){this._observer=null},mounted:function(){this.getScrollbarWidth(),this.listenOnRoot("bv::show::modal",this.showHandler),this.listenOnRoot("bv::hide::modal",this.hideHandler),this.listenOnRoot("bv::modal::show",this.modalListener),!0===this.visible&&this.show()},beforeDestroy:function(){this._observer&&(this._observer.disconnect(),this._observer=null),this.setResizeEvent(!1),K(document.body,"modal-open"),this.resetAdjustments(),this.resetScrollbar()}},Fi={click:!0},$i={bModal:{bind:function(e,t,n){Ft(n,t,Fi,function(e){var t=e.targets,n=e.vnode;t.forEach(function(e){n.context.$root.$emit("bv::show::modal",e,n.elm)})}),"BUTTON"!==e.tagName&&Q(e,"role","button")},unbind:function(e,t,n){!function(e,t,n){_(Ht).forEach(function(i){if(n[i]||t.modifiers[i]){var r=e.elm[It]&&e.elm[It][i];r&&(r.forEach(function(t){return e.elm.removeEventListener(i,t)}),delete e.elm[It][i])}})}(n,t,Fi),"BUTTON"!==e.tagName&&Z(e,"role")}}},Wi={install:function(e){d(e,$i)}};h(Wi);var zi=Wi,Bi={bModal:Ii},Vi={install:function(e){c(e,Bi),e.use(zi)}};h(Vi);var Ui=Vi,qi={functional:!0,props:{tag:{type:String,default:"ul"},fill:{type:Boolean,default:!1},justified:{type:Boolean,default:!1},tabs:{type:Boolean,default:!1},pills:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},isNavBar:{type:Boolean,default:!1}},render:function(e,t){var n=t.props,i=t.data,r=t.children;return n.isNavBar&&ft("b-nav: Prop 'is-nav-bar' is deprecated. Please use component '<b-navbar-nav>' instead."),e(n.tag,a(i,{class:{nav:!n.isNavBar,"navbar-nav":n.isNavBar,"nav-tabs":n.tabs&&!n.isNavBar,"nav-pills":n.pills&&!n.isNavBar,"flex-column":n.vertical&&!n.isNavBar,"nav-fill":n.fill,"nav-justified":n.justified}}),r)}},Gi=L(),Ji={tag:{type:String,default:"span"}},Ki={functional:!0,props:{id:{type:String,default:null}},render:function(e,t){var n=t.props,i=t.data,r=t.children;return e(vn,a(i,{attrs:{id:n.id},props:{inline:!0}}),r)}},Xi={mixins:[at,an],render:function(e){var t=e("a",{class:this.toggleClasses,ref:"toggle",attrs:{href:"#",id:this.safeId("_BV_button_"),disabled:this.disabled,"aria-haspopup":"true","aria-expanded":this.visible?"true":"false"},on:{click:this.toggle,keydown:this.toggle}},[this.$slots["button-content"]||this.$slots.text||e("span",{domProps:{innerHTML:this.text}})]),n=e("div",{class:this.menuClasses,ref:"menu",attrs:{"aria-labelledby":this.safeId("_BV_button_")},on:{mouseover:this.onMouseOver,keydown:this.onKeydown}},[this.$slots.default]);return e("li",{attrs:{id:this.safeId()},class:this.dropdownClasses},[t,n])},computed:{isNav:function(){return!0},dropdownClasses:function(){return["nav-item","b-nav-dropdown","dropdown",this.dropup?"dropup":"",this.visible?"show":""]},toggleClasses:function(){return["nav-link",this.noCaret?"":"dropdown-toggle",this.disabled?"disabled":"",this.extraToggleClasses?this.extraToggleClasses:""]},menuClasses:function(){return["dropdown-menu",this.right?"dropdown-menu-right":"dropdown-menu-left",this.visible?"show":"",this.extraMenuClasses?this.extraMenuClasses:""]}},props:{noCaret:{type:Boolean,default:!1},extraToggleClasses:{type:String,default:""},extraMenuClasses:{type:String,default:""},role:{type:String,default:"menu"}}},Qi={bNav:qi,bNavItem:{functional:!0,props:Gi,render:function(e,t){var n=t.props,i=t.data,r=t.children;return e("li",a(i,{staticClass:"nav-item"}),[e(E,{staticClass:"nav-link",props:n},r)])}},bNavText:{functional:!0,props:Ji,render:function(e,t){var n=t.props,i=t.data,r=t.children;return e(n.tag,a(i,{staticClass:"navbar-text"}),r)}},bNavForm:Ki,bNavItemDropdown:Xi,bNavItemDd:Xi,bNavDropdown:Xi,bNavDd:Xi},Zi={install:function(e){c(e,Qi),e.use(pn)}};h(Zi);var er=Zi;function tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nr={functional:!0,props:{tag:{type:String,default:"nav"},type:{type:String,default:"light"},variant:{type:String},toggleable:{type:[Boolean,String],default:!1},toggleBreakpoint:{type:String,default:null},fixed:{type:String},sticky:{type:Boolean,default:!1}},render:function(e,t){var n,i=t.props,r=t.data,o=t.children,s=i.toggleBreakpoint||(!0===i.toggleable?"sm":i.toggleable)||"sm";return e(i.tag,a(r,{staticClass:"navbar",class:(n={},tr(n,"navbar-"+i.type,Boolean(i.type)),tr(n,"bg-"+i.variant,Boolean(i.variant)),tr(n,"fixed-"+i.fixed,Boolean(i.fixed)),tr(n,"sticky-top",i.sticky),tr(n,"navbar-expand-"+s,!1!==i.toggleable),n)}),o)}},ir={functional:!0,props:{tag:{type:String,default:"ul"},fill:{type:Boolean,default:!1},justified:{type:Boolean,default:!1}},render:function(e,t){var n=t.props,i=t.data,r=t.children;return e(n.tag,a(i,{staticClass:"navbar-nav",class:{"nav-fill":n.fill,"nav-justified":n.justified}}),r)}},rr=L();rr.href.default=void 0,rr.to.default=void 0;var or=g(rr,{tag:{type:String,default:"div"}}),ar={mixins:[Pt],render:function(e){return e("button",{class:["navbar-toggler"],attrs:{type:"button","aria-label":this.label,"aria-controls":this.target,"aria-expanded":this.toggleState?"true":"false"},on:{click:this.onClick}},[this.$slots.default||e("span",{class:["navbar-toggler-icon"]})])},data:function(){return{toggleState:!1}},props:{label:{type:String,default:"Toggle navigation"},target:{type:String,required:!0}},methods:{onClick:function(){this.$root.$emit("bv::toggle::collapse",this.target)},handleStateEvt:function(e,t){e===this.target&&(this.toggleState=t)}},created:function(){this.listenOnRoot("bv::collapse::state",this.handleStateEvt)}},sr={bNavbar:nr,bNavbarNav:ir,bNavbarBrand:{functional:!0,props:or,render:function(e,t){var n=t.props,i=t.data,r=t.children,o=Boolean(n.to||n.href);return e(o?E:n.tag,a(i,{staticClass:"navbar-brand",props:o?S(rr,n):{}}),r)}},bNavbarToggle:ar,bNavToggle:ar},lr={install:function(e){c(e,sr),e.use(er),e.use(Kt),e.use(pn)}};h(lr);var cr=lr,ur=function(e){return Array.apply(null,{length:e})};var dr={disabled:{type:Boolean,default:!1},value:{type:Number,default:1},limit:{type:Number,default:5},size:{type:String,default:"md"},align:{type:String,default:"left"},hideGotoEndButtons:{type:Boolean,default:!1},ariaLabel:{type:String,default:"Pagination"},labelFirstPage:{type:String,default:"Goto first page"},firstText:{type:String,default:"&laquo;"},labelPrevPage:{type:String,default:"Goto previous page"},prevText:{type:String,default:"&lsaquo;"},labelNextPage:{type:String,default:"Goto next page"},nextText:{type:String,default:"&rsaquo;"},labelLastPage:{type:String,default:"Goto last page"},lastText:{type:String,default:"&raquo;"},labelPage:{type:String,default:"Goto page"},hideEllipsis:{type:Boolean,default:!1},ellipsisText:{type:String,default:"&hellip;"}},hr={components:{bLink:E},data:function(){return{showFirstDots:!1,showLastDots:!1,currentPage:this.value}},props:dr,render:function(e){var t=this,n=[],i=function(n,i,r,o){return o=o||n,t.disabled||t.isActive(o)?e("li",{class:["page-item","disabled"],attrs:{role:"none presentation","aria-hidden":"true"}},[e("span",{class:["page-link"],domProps:{innerHTML:r}})]):e("li",{class:["page-item"],attrs:{role:"none presentation"}},[e("b-link",{class:["page-link"],props:t.linkProps(n),attrs:{role:"menuitem",tabindex:"-1","aria-label":i,"aria-controls":t.ariaControls||null},on:{click:function(e){t.onClick(n,e)},keydown:function(e){e.keyCode===we.SPACE&&(e.preventDefault(),t.onClick(n,e))}}},[e("span",{attrs:{"aria-hidden":"true"},domProps:{innerHTML:r}})])])},r=function(){return e("li",{class:["page-item","disabled","d-none","d-sm-flex"],attrs:{role:"separator"}},[e("span",{class:["page-link"],domProps:{innerHTML:t.ellipsisText}})])};n.push(this.hideGotoEndButtons?e(!1):i(1,this.labelFirstPage,this.firstText)),n.push(i(this.currentPage-1,this.labelPrevPage,this.prevText,1)),n.push(this.showFirstDots?r():e(!1)),this.pageList.forEach(function(i){var r=void 0,o=t.makePage(i.number);if(t.disabled)r=e("span",{class:["page-link"],domProps:{innerHTML:o}});else{var a=t.isActive(i.number);r=e("b-link",{class:t.pageLinkClasses(i),props:t.linkProps(i.number),attrs:{role:"menuitemradio",tabindex:a?"0":"-1","aria-controls":t.ariaControls||null,"aria-label":t.labelPage+" "+i.number,"aria-checked":a?"true":"false","aria-posinset":i.number,"aria-setsize":t.numberOfPages},domProps:{innerHTML:o},on:{click:function(e){t.onClick(i.number,e)},keydown:function(e){e.keyCode===we.SPACE&&(e.preventDefault(),t.onClick(i.number,e))}}})}n.push(e("li",{key:i.number,class:t.pageItemClasses(i),attrs:{role:"none presentation"}},[r]))}),n.push(this.showLastDots?r():e(!1)),n.push(i(this.currentPage+1,this.labelNextPage,this.nextText,this.numberOfPages)),n.push(this.hideGotoEndButtons?e(!1):i(this.numberOfPages,this.labelLastPage,this.lastText));var o=e("ul",{ref:"ul",class:["pagination","b-pagination",this.btnSize,this.alignment],attrs:{role:"menubar","aria-disabled":this.disabled?"true":"false","aria-label":this.ariaLabel||null},on:{keydown:function(e){var n=e.keyCode,i=e.shiftKey;n===we.LEFT?(e.preventDefault(),i?t.focusFirst():t.focusPrev()):n===we.RIGHT&&(e.preventDefault(),i?t.focusLast():t.focusNext())}}},n);return this.isNav?e("nav",{},[o]):o},watch:{currentPage:function(e,t){e!==t&&this.$emit("input",e)},value:function(e,t){e!==t&&(this.currentPage=e)}},computed:{btnSize:function(){return this.size?"pagination-"+this.size:""},alignment:function(){return"center"===this.align?"justify-content-center":"end"===this.align||"right"===this.align?"justify-content-end":""},pageList:function(){this.currentPage>this.numberOfPages?this.currentPage=this.numberOfPages:this.currentPage<1&&(this.currentPage=1),this.showFirstDots=!1,this.showLastDots=!1;var e=this.limit,t=1;this.numberOfPages<=this.limit?e=this.numberOfPages:this.currentPage<this.limit-1&&this.limit>3?this.hideEllipsis||(e=this.limit-1,this.showLastDots=!0):this.numberOfPages-this.currentPage+2<this.limit&&this.limit>3?(this.hideEllipsis||(this.showFirstDots=!0,e=this.limit-1),t=this.numberOfPages-e+1):(this.limit>3&&!this.hideEllipsis&&(this.showFirstDots=!0,this.showLastDots=!0,e=this.limit-2),t=this.currentPage-Math.floor(e/2)),t<1?t=1:t>this.numberOfPages-e&&(t=this.numberOfPages-e+1);var n=function(e,t){return ur(t).map(function(t,n){return{number:n+e,className:null}})}(t,e);if(n.length>3){var i=this.currentPage-t;if(0===i)for(var r=3;r<n.length;r++)n[r].className="d-none d-sm-flex";else if(i===n.length-1)for(var o=0;o<n.length-3;o++)n[o].className="d-none d-sm-flex";else{for(var a=0;a<i-1;a++)n[a].className="d-none d-sm-flex";for(var s=n.length-1;s>i+1;s--)n[s].className="d-none d-sm-flex"}}return n}},methods:{isActive:function(e){return e===this.currentPage},pageItemClasses:function(e){return["page-item",this.disabled?"disabled":"",this.isActive(e.number)?"active":"",e.className]},pageLinkClasses:function(e){return["page-link",this.disabled?"disabled":"",this.isActive(e.number)?"btn-primary":""]},getButtons:function(){return V("a.page-link",this.$el).filter(function(e){return W(e)})},setBtnFocus:function(e){this.$nextTick(function(){e.focus()})},focusCurrent:function(){var e=this,t=this.getButtons().find(function(t){return parseInt(ee(t,"aria-posinset"),10)===e.currentPage});t&&t.focus?this.setBtnFocus(t):this.focusFirst()},focusFirst:function(){var e=this.getButtons().find(function(e){return!z(e)});e&&e.focus&&e!==document.activeElement&&this.setBtnFocus(e)},focusLast:function(){var e=this.getButtons().reverse().find(function(e){return!z(e)});e&&e.focus&&e!==document.activeElement&&this.setBtnFocus(e)},focusPrev:function(){var e=this.getButtons(),t=e.indexOf(document.activeElement);t>0&&!z(e[t-1])&&e[t-1].focus&&this.setBtnFocus(e[t-1])},focusNext:function(){var e=this.getButtons(),t=e.indexOf(document.activeElement);t<e.length-1&&!z(e[t+1])&&e[t+1].focus&&this.setBtnFocus(e[t+1])}}},fr={bPagination:{mixins:[hr],props:{perPage:{type:Number,default:20},totalRows:{type:Number,default:20},ariaControls:{type:String,default:null}},computed:{numberOfPages:function(){var e=Math.ceil(this.totalRows/this.perPage);return e<1?1:e}},methods:{onClick:function(e,t){var n=this;e>this.numberOfPages?e=this.numberOfPages:e<1&&(e=1),this.currentPage=e,this.$nextTick(function(){var e=t.target;W(e)&&n.$el.contains(e)&&e.focus?e.focus():n.focusCurrent()}),this.$emit("change",this.currentPage)},makePage:function(e){return e},linkProps:function(e){return{href:"#"}}}}},pr={install:function(e){c(e,fr)}};h(pr);var mr=pr,gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_r=function(e){var t=L();return e=x(e),_(t).reduce(function(n,i){return M(e,i)&&(n[i]=t[i]),n},{})}("activeClass"),vr={bPaginationNav:{mixins:[hr],props:g({numberOfPages:{type:Number,default:1},baseUrl:{type:String,default:"/"},useRouter:{type:Boolean,default:!1},linkGen:{type:Function,default:null},pageGen:{type:Function,default:null}},_r),computed:{isNav:function(){return!0}},methods:{onClick:function(e,t){this.currentPage=e},makePage:function(e){return this.pageGen&&"function"==typeof this.pageGen?this.pageGen(e):e},makeLink:function(e){if(this.linkGen&&"function"==typeof this.linkGen)return this.linkGen(e);var t=""+this.baseUrl+e;return this.useRouter?{path:t}:t},linkProps:function(e){var t=this.makeLink(e),n={href:"string"==typeof t?t:void 0,target:this.target||null,rel:this.rel||null,disabled:this.disabled};return(this.useRouter||"object"===(void 0===t?"undefined":gr(t)))&&(n=g(n,{to:t,exact:this.exact,activeClass:this.activeClass,exactActiveClass:this.exactActiveClass,append:this.append,replace:this.replace})),n}}}},yr={install:function(e){c(e,vr)}};h(yr);var br=yr,wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kr=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var Mr=new RegExp("\\bbs-tooltip\\S+","g"),xr={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOPLEFT:"top",TOPRIGHT:"top",RIGHTTOP:"right",RIGHTBOTTOM:"right",BOTTOMLEFT:"bottom",BOTTOMRIGHT:"bottom",LEFTTOP:"left",LEFTBOTTOM:"left"},Cr={AUTO:0,TOPLEFT:-1,TOP:0,TOPRIGHT:1,RIGHTTOP:-1,RIGHT:0,RIGHTBOTTOM:1,BOTTOMLEFT:-1,BOTTOM:0,BOTTOMRIGHT:1,LEFTTOP:-1,LEFT:0,LEFTBOTTOM:1},Sr="show",Tr="out",Lr="fade",Er="show",Dr=".tooltip-inner",Or=".arrow",Ar={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,placement:"top",offset:0,arrowPadding:6,container:!1,fallbackPlacement:"flip",callbacks:{},boundary:"scrollParent"},Yr={WebkitTransition:["webkitTransitionEnd"],MozTransition:["transitionend"],OTransition:["otransitionend","oTransitionEnd"],transition:["transitionend"]},Rr=1;var jr=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$isEnabled=!0,this.$fadeTimeout=null,this.$hoverTimeout=null,this.$visibleInterval=null,this.$hoverState="",this.$activeTrigger={},this.$popper=null,this.$element=t,this.$tip=null,this.$id=function(e){return"__BV_"+e+"_"+Rr+++"__"}(this.constructor.NAME),this.$root=i||null,this.$routeWatcher=null,this.$forceHide=this.forceHide.bind(this),this.$doHide=this.doHide.bind(this),this.$doShow=this.doShow.bind(this),this.$doDisable=this.doDisable.bind(this),this.$doEnable=this.doEnable.bind(this),this.updateConfig(n)}return kr(e,[{key:"updateConfig",value:function(e){var t=g({},this.constructor.Default,e);e.delay&&"number"==typeof e.delay&&(t.delay={show:e.delay,hide:e.delay}),e.title&&"number"==typeof e.title&&(t.title=e.title.toString()),e.content&&"number"==typeof e.content&&(t.content=e.content.toString()),this.fixTitle(),this.$config=t,this.unListen(),this.listen()}},{key:"destroy",value:function(){this.unListen(),this.setWhileOpenListeners(!1),clearTimeout(this.$hoverTimeout),this.$hoverTimeout=null,clearTimeout(this.$fadeTimeout),this.$fadeTimeout=null,this.$popper&&this.$popper.destroy(),this.$popper=null,this.$tip&&this.$tip.parentElement&&this.$tip.parentElement.removeChild(this.$tip),this.$tip=null,this.$id=null,this.$isEnabled=null,this.$root=null,this.$element=null,this.$config=null,this.$hoverState=null,this.$activeTrigger=null,this.$forceHide=null,this.$doHide=null,this.$doShow=null,this.$doDisable=null,this.$doEnable=null}},{key:"enable",value:function(){var e=new en("enabled",{cancelable:!1,target:this.$element,relatedTarget:null});this.$isEnabled=!0,this.emitEvent(e)}},{key:"disable",value:function(){var e=new en("disabled",{cancelable:!1,target:this.$element,relatedTarget:null});this.$isEnabled=!1,this.emitEvent(e)}},{key:"toggle",value:function(e){this.$isEnabled&&(e?(this.$activeTrigger.click=!this.$activeTrigger.click,this.isWithActiveTrigger()?this.enter(null):this.leave(null)):X(this.getTipElement(),Er)?this.leave(null):this.enter(null))}},{key:"show",value:function(){var e=this;if(document.body.contains(this.$element)&&W(this.$element)){var t=this.getTipElement();if(this.fixTitle(),this.setContent(t),this.isWithContent(t)){Q(t,"id",this.$id),this.addAriaDescribedby(),this.$config.animation?J(t,Lr):K(t,Lr);var n=this.getPlacement(),i=this.constructor.getAttachment(n);this.addAttachmentClass(i);var r=new en("show",{cancelable:!0,target:this.$element,relatedTarget:t});if(this.emitEvent(r),r.defaultPrevented)this.$tip=null;else{var o=this.getContainer();document.body.contains(t)||o.appendChild(t),this.removePopper(),this.$popper=new Xt.default(this.$element,t,this.getPopperConfig(n,t));this.setWhileOpenListeners(!0),J(t,Er),this.transitionOnce(t,function(){e.$config.animation&&e.fixTransition(t);var n=e.$hoverState;e.$hoverState=null,n===Tr&&e.leave(null);var i=new en("shown",{cancelable:!1,target:e.$element,relatedTarget:t});e.emitEvent(i)})}}else this.$tip=null}}},{key:"visibleCheck",value:function(e){var t=this;clearInterval(this.$visibleInterval),this.$visibleInterval=null,e&&(this.$visibleInterval=setInterval(function(){var e=t.getTipElement();e&&!W(t.$element)&&X(e,Er)&&t.forceHide()},100))}},{key:"setWhileOpenListeners",value:function(e){this.setModalListener(e),this.visibleCheck(e),this.setRouteWatcher(e),this.setOnTouchStartListener(e),e&&/(focus|blur)/.test(this.$config.trigger)?ae(this.$tip,"focusout",this):se(this.$tip,"focusout",this)}},{key:"forceHide",value:function(){this.$tip&&X(this.$tip,Er)&&(this.setWhileOpenListeners(!1),clearTimeout(this.$hoverTimeout),this.$hoverTimeout=null,this.$hoverState="",this.hide(null,!0))}},{key:"hide",value:function(e,t){var n=this,i=this.$tip;if(i){var r=new en("hide",{cancelable:!t,target:this.$element,relatedTarget:i});if(this.emitEvent(r),!r.defaultPrevented){this.setWhileOpenListeners(!1),t&&K(i,Lr),K(i,Er),this.$activeTrigger.click=!1,this.$activeTrigger.focus=!1,this.$activeTrigger.hover=!1,this.transitionOnce(i,function(){n.$hoverState!==Sr&&i.parentNode&&(i.parentNode.removeChild(i),n.removeAriaDescribedby(),n.removePopper(),n.$tip=null),e&&e();var t=new en("hidden",{cancelable:!1,target:n.$element,relatedTarget:null});n.emitEvent(t)}),this.$hoverState=""}}}},{key:"emitEvent",value:function(e){var t=e.type;this.$root&&this.$root.$emit&&this.$root.$emit("bv::"+this.constructor.NAME+"::"+t,e);var n=this.$config.callbacks||{};"function"==typeof n[t]&&n[t](e)}},{key:"getContainer",value:function(){var e=this.$config.container,t=document.body;return!1===e?G(".modal-content",this.$element)||t:U(e,t)||t}},{key:"addAriaDescribedby",value:function(){var e=ee(this.$element,"aria-describedby")||"";e=e.split(/\s+/).concat(this.$id).join(" ").trim(),Q(this.$element,"aria-describedby",e)}},{key:"removeAriaDescribedby",value:function(){var e=this,t=ee(this.$element,"aria-describedby")||"";(t=t.split(/\s+/).filter(function(t){return t!==e.$id}).join(" ").trim())?Q(this.$element,"aria-describedby",t):Z(this.$element,"aria-describedby")}},{key:"removePopper",value:function(){this.$popper&&this.$popper.destroy(),this.$popper=null}},{key:"transitionOnce",value:function(e,t){var n=this,i=this.getTransitionEndEvents(),r=!1;clearTimeout(this.$fadeTimeout),this.$fadeTimeout=null;var o=function o(){r||(r=!0,clearTimeout(n.$fadeTimeout),n.$fadeTimeout=null,i.forEach(function(t){se(e,t,o)}),t())};X(e,Lr)?(i.forEach(function(t){ae(e,t,o)}),this.$fadeTimeout=setTimeout(o,150)):o()}},{key:"getTransitionEndEvents",value:function(){for(var e in Yr)if(void 0!==this.$element.style[e])return Yr[e];return[]}},{key:"update",value:function(){null!==this.$popper&&this.$popper.scheduleUpdate()}},{key:"isWithContent",value:function(e){return!!(e=e||this.$tip)&&Boolean((U(Dr,e)||{}).innerHTML)}},{key:"addAttachmentClass",value:function(e){J(this.getTipElement(),"bs-tooltip-"+e)}},{key:"getTipElement",value:function(){return this.$tip||(this.$tip=this.compileTemplate(this.$config.template)||this.compileTemplate(this.constructor.Default.template)),this.$tip.tabIndex=-1,this.$tip}},{key:"compileTemplate",value:function(e){if(!e||"string"!=typeof e)return null;var t=document.createElement("div");t.innerHTML=e.trim();var n=t.firstElementChild?t.removeChild(t.firstElementChild):null;return t=null,n}},{key:"setContent",value:function(e){this.setElementContent(U(Dr,e),this.getTitle()),K(e,Lr),K(e,Er)}},{key:"setElementContent",value:function(e,t){if(e){var n=this.$config.html;"object"===(void 0===t?"undefined":wr(t))&&t.nodeType?n?t.parentElement!==e&&(e.innerHtml="",e.appendChild(t)):e.innerText=t.innerText:e[n?"innerHTML":"innerText"]=t}}},{key:"getTitle",value:function(){var e=this.$config.title||"";return"function"==typeof e&&(e=e(this.$element)),"object"===(void 0===e?"undefined":wr(e))&&e.nodeType&&!e.innerHTML.trim()&&(e=""),"string"==typeof e&&(e=e.trim()),e||(e=(e=ee(this.$element,"title")||ee(this.$element,"data-original-title")||"").trim()),e}},{key:"listen",value:function(){var e=this,t=this.$config.trigger.trim().split(/\s+/),n=this.$element;this.setRootListener(!0),t.forEach(function(t){"click"===t?ae(n,"click",e):"focus"===t?(ae(n,"focusin",e),ae(n,"focusout",e)):"blur"===t?ae(n,"focusout",e):"hover"===t&&(ae(n,"mouseenter",e),ae(n,"mouseleave",e))},this)}},{key:"unListen",value:function(){var e=this;["click","focusin","focusout","mouseenter","mouseleave"].forEach(function(t){se(e.$element,t,e)},this),this.setRootListener(!1)}},{key:"handleEvent",value:function(e){if(!z(this.$element)&&this.$isEnabled){var t=e.type,n=e.target,i=e.relatedTarget,r=this.$element,o=this.$tip;if("click"===t)this.toggle(e);else if("focusin"===t||"mouseenter"===t)this.enter(e);else if("focusout"===t){if(o&&r&&r.contains(n)&&o.contains(i))return;if(o&&r&&o.contains(n)&&r.contains(i))return;if(o&&o.contains(n)&&o.contains(i))return;if(r&&r.contains(n)&&r.contains(i))return;this.leave(e)}else"mouseleave"===t&&this.leave(e)}}},{key:"setRouteWatcher",value:function(e){var t=this;e?(this.setRouteWatcher(!1),this.$root&&Boolean(this.$root.$route)&&(this.$routeWatcher=this.$root.$watch("$route",function(e,n){e!==n&&t.forceHide()}))):this.$routeWatcher&&(this.$routeWatcher(),this.$routeWatcher=null)}},{key:"setModalListener",value:function(e){G(".modal-content",this.$element)&&this.$root&&this.$root[e?"$on":"$off"]("bv::modal::hidden",this.$forceHide)}},{key:"setRootListener",value:function(e){this.$root&&(this.$root[e?"$on":"$off"]("bv::hide::"+this.constructor.NAME,this.$doHide),this.$root[e?"$on":"$off"]("bv::show::"+this.constructor.NAME,this.$doShow),this.$root[e?"$on":"$off"]("bv::disable::"+this.constructor.NAME,this.$doDisable),this.$root[e?"$on":"$off"]("bv::enable::"+this.constructor.NAME,this.$doEnable))}},{key:"doHide",value:function(e){e?this.$element&&this.$element.id&&this.$element.id===e&&this.hide():this.forceHide()}},{key:"doShow",value:function(e){e?e&&this.$element&&this.$element.id&&this.$element.id===e&&this.show():this.show()}},{key:"doDisable",value:function(e){e?this.$element&&this.$element.id&&this.$element.id===e&&this.disable():this.disable()}},{key:"doEnable",value:function(e){e?this.$element&&this.$element.id&&this.$element.id===e&&this.enable():this.enable()}},{key:"setOnTouchStartListener",value:function(e){var t=this;"ontouchstart"in document.documentElement&&w(document.body.children).forEach(function(n){e?ae(n,"mouseover",t._noop):se(n,"mouseover",t._noop)})}},{key:"_noop",value:function(){}},{key:"fixTitle",value:function(){var e=this.$element,t=wr(ee(e,"data-original-title"));(ee(e,"title")||"string"!==t)&&(Q(e,"data-original-title",ee(e,"title")||""),Q(e,"title",""))}},{key:"enter",value:function(e){var t=this;e&&(this.$activeTrigger["focusin"===e.type?"focus":"hover"]=!0),X(this.getTipElement(),Er)||this.$hoverState===Sr?this.$hoverState=Sr:(clearTimeout(this.$hoverTimeout),this.$hoverState=Sr,this.$config.delay&&this.$config.delay.show?this.$hoverTimeout=setTimeout(function(){t.$hoverState===Sr&&t.show()},this.$config.delay.show):this.show())}},{key:"leave",value:function(e){var t=this;e&&(this.$activeTrigger["focusout"===e.type?"focus":"hover"]=!1,"focusout"===e.type&&/blur/.test(this.$config.trigger)&&(this.$activeTrigger.click=!1,this.$activeTrigger.hover=!1)),this.isWithActiveTrigger()||(clearTimeout(this.$hoverTimeout),this.$hoverState=Tr,this.$config.delay&&this.$config.delay.hide?this.$hoverTimeout=setTimeout(function(){t.$hoverState===Tr&&t.hide()},this.$config.delay.hide):this.hide())}},{key:"getPopperConfig",value:function(e,t){var n=this;return{placement:this.constructor.getAttachment(e),modifiers:{offset:{offset:this.getOffset(e,t)},flip:{behavior:this.$config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.$config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&n.handlePopperPlacementChange(e)},onUpdate:function(e){n.handlePopperPlacementChange(e)}}}},{key:"getOffset",value:function(e,t){if(!this.$config.offset){var n=U(Or,t),i=parseFloat(ie(n).width)+parseFloat(this.$config.arrowPadding);switch(Cr[e.toUpperCase()]){case 1:return"+50%p - "+i+"px";case-1:return"-50%p + "+i+"px";default:return 0}}return this.$config.offset}},{key:"getPlacement",value:function(){var e=this.$config.placement;return"function"==typeof e?e.call(this,this.$tip,this.$element):e}},{key:"isWithActiveTrigger",value:function(){for(var e in this.$activeTrigger)if(this.$activeTrigger[e])return!0;return!1}},{key:"cleanTipClass",value:function(){var e=this.getTipElement(),t=e.className.match(Mr);null!==t&&t.length>0&&t.forEach(function(t){K(e,t)})}},{key:"handlePopperPlacementChange",value:function(e){this.cleanTipClass(),this.addAttachmentClass(this.constructor.getAttachment(e.placement))}},{key:"fixTransition",value:function(e){var t=this.$config.animation||!1;null===ee(e,"x-placement")&&(K(e,Lr),this.$config.animation=!1,this.hide(),this.show(),this.$config.animation=t)}}],[{key:"getAttachment",value:function(e){return xr[e.toUpperCase()]}},{key:"Default",get:function(){return Ar}},{key:"NAME",get:function(){return"tooltip"}}]),e}(),Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var Hr=new RegExp("\\bbs-popover\\S+","g"),Ir=g({},jr.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Fr="fade",$r="show",Wr=".popover-header",zr=".popover-body",Br=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,jr),Nr(t,[{key:"isWithContent",value:function(e){if(!(e=e||this.$tip))return!1;var t=Boolean((U(Wr,e)||{}).innerHTML),n=Boolean((U(zr,e)||{}).innerHTML);return t||n}},{key:"addAttachmentClass",value:function(e){J(this.getTipElement(),"bs-popover-"+e)}},{key:"setContent",value:function(e){this.setElementContent(U(Wr,e),this.getTitle()),this.setElementContent(U(zr,e),this.getContent()),K(e,Fr),K(e,$r)}},{key:"cleanTipClass",value:function(){var e=this.getTipElement(),t=e.className.match(Hr);null!==t&&t.length>0&&t.forEach(function(t){K(e,t)})}},{key:"getTitle",value:function(){var e=this.$config.title||"";return"function"==typeof e&&(e=e(this.$element)),"object"===(void 0===e?"undefined":Pr(e))&&e.nodeType&&!e.innerHTML.trim()&&(e=""),"string"==typeof e&&(e=e.trim()),e||(e=(e=ee(this.$element,"title")||ee(this.$element,"data-original-title")||"").trim()),e}},{key:"getContent",value:function(){var e=this.$config.content||"";return"function"==typeof e&&(e=e(this.$element)),"object"===(void 0===e?"undefined":Pr(e))&&e.nodeType&&!e.innerHTML.trim()&&(e=""),"string"==typeof e&&(e=e.trim()),e}}],[{key:"Default",get:function(){return Ir}},{key:"NAME",get:function(){return"popover"}}]),t}(),Vr="undefined"==typeof window?Object:window.HTMLElement,Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qr={top:"top",topleft:"topleft",topright:"topright",right:"right",righttop:"righttop",rightbottom:"rightbottom",bottom:"bottom",bottomleft:"bottomleft",bottomright:"bottomright",left:"left",lefttop:"lefttop",leftbottom:"leftbottom",auto:"auto"},Gr={subtree:!0,childList:!0,characterData:!0,attributes:!0,attributeFilter:["class","style"]},Jr={props:{target:{type:[String,Object,Vr,Function]},delay:{type:[Number,Object,String],default:0},offset:{type:[Number,String],default:0},noFade:{type:Boolean,default:!1},container:{type:String,default:null},boundary:{type:[String,Object],default:"scrollParent"},show:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},watch:{show:function(e,t){e!==t&&(e?this.onOpen():this.onClose())},disabled:function(e,t){e!==t&&(e?this.onDisable():this.onEnable())}},created:function(){this._toolpop=null,this._obs_title=null,this._obs_content=null},mounted:function(){var e=this;this.$nextTick(function(){e.createToolpop()&&(e.disabled&&e.onDisable(),e.$on("open",e.onOpen),e.$on("close",e.onClose),e.$on("disable",e.onDisable),e.$on("enable",e.onEnable),e.setObservers(!0),e.show&&e.onOpen())})},updated:function(){this._toolpop&&this._toolpop.updateConfig(this.getConfig())},activated:function(){this.setObservers(!0)},deactivated:function(){this._toolpop&&(this.setObservers(!1),this._toolpop.hide())},beforeDestroy:function(){this.$off("open",this.onOpen),this.$off("close",this.onClose),this.$off("disable",this.onDisable),this.$off("enable",this.onEnable),this.setObservers(!1),this.bringItBack(),this._toolpop&&(this._toolpop.destroy(),this._toolpop=null)},computed:{baseConfig:function(){var e=this.container,t="object"===Ur(this.delay)?this.delay:parseInt(this.delay,10)||0;return{title:(this.title||"").trim()||"",content:(this.content||"").trim()||"",placement:qr[this.placement]||"auto",container:!!e&&(/^#/.test(e)?e:"#"+e),boundary:this.boundary,delay:t||0,offset:this.offset||0,animation:!this.noFade,trigger:k(this.triggers)?this.triggers.join(" "):this.triggers,callbacks:{show:this.onShow,shown:this.onShown,hide:this.onHide,hidden:this.onHidden,enabled:this.onEnabled,disabled:this.onDisabled}}}},methods:{getConfig:function(){var e=g({},this.baseConfig);return this.$refs.title&&this.$refs.title.innerHTML.trim()&&(e.title=this.$refs.title,e.html=!0),this.$refs.content&&this.$refs.content.innerHTML.trim()&&(e.content=this.$refs.content,e.html=!0),e},onOpen:function(){this._toolpop&&this._toolpop.show()},onClose:function(e){this._toolpop?this._toolpop.hide(e):"function"==typeof e&&e()},onDisable:function(){this._toolpop&&this._toolpop.disable()},onEnable:function(){this._toolpop&&this._toolpop.enable()},updatePosition:function(){this._toolpop&&this._toolpop.update()},getTarget:function(){var e=this.target;return"function"==typeof e&&(e=e()),"string"==typeof e?function(e){return document.getElementById(/^#/.test(e)?e.slice(1):e)||null}(e):"object"===(void 0===e?"undefined":Ur(e))&&$(e.$el)?e.$el:"object"===(void 0===e?"undefined":Ur(e))&&$(e)?e:null},onShow:function(e){this.$emit("show",e)},onShown:function(e){this.setObservers(!0),this.$emit("update:show",!0),this.$emit("shown",e)},onHide:function(e){this.$emit("hide",e)},onHidden:function(e){this.setObservers(!1),this.bringItBack(),this.$emit("update:show",!1),this.$emit("hidden",e)},onEnabled:function(e){e&&"enabled"===e.type&&(this.$emit("update:disabled",!1),this.$emit("disabled"))},onDisabled:function(e){e&&"disabled"===e.type&&(this.$emit("update:disabled",!0),this.$emit("enabled"))},bringItBack:function(){this.$el&&this.$refs.title&&this.$el.appendChild(this.$refs.title),this.$el&&this.$refs.content&&this.$el.appendChild(this.$refs.content)},setObservers:function(e){e?(this.$refs.title&&(this._obs_title=ot(this.$refs.title,this.updatePosition.bind(this),Gr)),this.$refs.content&&(this._obs_content=ot(this.$refs.content,this.updatePosition.bind(this),Gr))):(this._obs_title&&(this._obs_title.disconnect(),this._obs_title=null),this._obs_content&&(this._obs_content.disconnect(),this._obs_content=null))}}},Kr={bPopover:{mixins:[Jr],render:function(e){return e("div",{class:["d-none"],style:{display:"none"},attrs:{"aria-hidden":!0}},[e("div",{ref:"title"},this.$slots.title),e("div",{ref:"content"},this.$slots.default)])},data:function(){return{}},props:{title:{type:String,default:""},content:{type:String,default:""},triggers:{type:[String,Array],default:"click"},placement:{type:String,default:"right"}},methods:{createToolpop:function(){var e=this.getTarget();return e?this._toolpop=new Br(e,this.getConfig(),this.$root):(this._toolpop=null,ft("b-popover: 'target' element not found!")),this._toolpop}}}},Xr={install:function(e){c(e,Kr)}};h(Xr);var Qr=Xr,Zr={render:function(e){var t=e(!1);return this.$slots.default?t=this.$slots.default:this.label?t=e("span",{domProps:{innerHTML:this.label}}):this.computedShowProgress?t=this.progress.toFixed(this.computedPrecision):this.computedShowValue&&(t=this.value.toFixed(this.computedPrecision)),e("div",{class:this.progressBarClasses,style:this.progressBarStyles,attrs:{role:"progressbar","aria-valuemin":"0","aria-valuemax":this.computedMax.toString(),"aria-valuenow":this.value.toFixed(this.computedPrecision)}},[t])},computed:{progressBarClasses:function(){return["progress-bar",this.computedVariant?"bg-"+this.computedVariant:"",this.computedStriped||this.computedAnimated?"progress-bar-striped":"",this.computedAnimated?"progress-bar-animated":""]},progressBarStyles:function(){return{width:this.value/this.computedMax*100+"%"}},progress:function(){var e=Math.pow(10,this.computedPrecision);return Math.round(100*e*this.value/this.computedMax)/e},computedMax:function(){return"number"==typeof this.max?this.max:this.$parent.max||100},computedVariant:function(){return this.variant||this.$parent.variant},computedPrecision:function(){return"number"==typeof this.precision?this.precision:this.$parent.precision||0},computedStriped:function(){return"boolean"==typeof this.striped?this.striped:this.$parent.striped||!1},computedAnimated:function(){return"boolean"==typeof this.animated?this.animated:this.$parent.animated||!1},computedShowProgress:function(){return"boolean"==typeof this.showProgress?this.showProgress:this.$parent.showProgress||!1},computedShowValue:function(){return"boolean"==typeof this.showValue?this.showValue:this.$parent.showValue||!1}},props:{value:{type:Number,default:0},label:{type:String,default:null},max:{type:Number,default:null},precision:{type:Number,default:null},variant:{type:String,default:null},striped:{type:Boolean,default:null},animated:{type:Boolean,default:null},showProgress:{type:Boolean,default:null},showValue:{type:Boolean,default:null}}},eo={bProgress:{components:{bProgressBar:Zr},render:function(e){var t=this.$slots.default;return t||(t=e("b-progress-bar",{props:{value:this.value,max:this.max,precision:this.precision,variant:this.variant,animated:this.animated,striped:this.striped,showProgress:this.showProgress,showValue:this.showValue}})),e("div",{class:["progress"],style:this.progressHeight},[t])},props:{variant:{type:String,default:null},striped:{type:Boolean,default:!1},animated:{type:Boolean,default:!1},height:{type:String,default:null},precision:{type:Number,default:0},showProgress:{type:Boolean,default:!1},showValue:{type:Boolean,default:!1},max:{type:Number,default:100},value:{type:Number,default:0}},computed:{progressHeight:function(){return{height:this.height||null}}}},bProgressBar:Zr},to={install:function(e){c(e,eo)}};h(to);var no=to,io=n(468),ro=n.n(io),oo=n(409),ao=n.n(oo);n(430);var so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function lo(e){return e?e instanceof Object?_(e).map(function(t){return lo(e[t])}).join(" "):String(e):""}function co(e,t){var n=null;return"string"==typeof t?n={key:e,label:t}:"function"==typeof t?n={key:e,formatter:t}:"object"===(void 0===t?"undefined":so(t))?(n=g({},t)).key=n.key||e:!1!==t&&(n={key:e}),n}var uo={bTable:{mixins:[at,Pt],render:function(e){var t=this,n=this.$slots,i=this.$scopedSlots,r=this.computedFields,o=this.computedItems,a=e(!1);if(this.caption||n["table-caption"]){var s={style:this.captionStyles};n["table-caption"]||(s.domProps={innerHTML:this.caption}),a=e("caption",s,n["table-caption"])}var l=n["table-colgroup"]?e("colgroup",{},n["table-colgroup"]):e(!1),c=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.map(function(r,o){var a={key:r.key,class:t.fieldClasses(r),style:r.thStyle||{},attrs:{tabindex:r.sortable?"0":null,abbr:r.headerAbbr||null,title:r.headerTitle||null,"aria-colindex":String(o+1),"aria-label":r.sortable?t.localSortDesc&&t.localSortBy===r.key?t.labelSortAsc:t.labelSortDesc:null,"aria-sort":r.sortable&&t.localSortBy===r.key?t.localSortDesc?"descending":"ascending":null},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.headClicked(e,r)},keydown:function(e){var n=e.keyCode;n!==we.ENTER&&n!==we.SPACE||(e.stopPropagation(),e.preventDefault(),t.headClicked(e,r))}}},s=n&&i["FOOT_"+r.key]?i["FOOT_"+r.key]:i["HEAD_"+r.key];return s?s=[s({label:r.label,column:r.key,field:r})]:a.domProps={innerHTML:r.label},e("th",a,s)})},u=e(!1);!0!==this.isStacked&&(u=e("thead",{class:this.headClasses},[e("tr",{class:this.theadTrClass},c(!1))]));var d=e(!1);this.footClone&&!0!==this.isStacked&&(d=e("tfoot",{class:this.footClasses},[e("tr",{class:this.tfootTrClass},c(!0))]));var h=[];if(i["top-row"]&&!0!==this.isStacked?h.push(e("tr",{key:"top-row",class:["b-table-top-row",this.tbodyTrClass]},[i["top-row"]({columns:r.length,fields:r})])):h.push(e(!1)),o.forEach(function(n,o){var a=i["row-details"],s=Boolean(n._showDetails&&a),l=s?t.safeId("_details_"+o+"_"):null,c=function(){a&&t.$set(n,"_showDetails",!n._showDetails)},u=r.map(function(r,a){var s={key:"row-"+o+"-cell-"+a,class:t.tdClasses(r,n),attrs:t.tdAttrs(r,n,a),domProps:{}},l=void 0;if(i[r.key])l=[i[r.key]({item:n,index:o,field:r,unformatted:ao()(n,r.key),value:t.getFormattedValue(n,r),toggleDetails:c,detailsShowing:Boolean(n._showDetails)})],t.isStacked&&(l=[e("div",{},[l])]);else{var u=t.getFormattedValue(n,r);l=t.isStacked?[e("div",u)]:u}return e(r.isRowHeader?"th":"td",s,l)}),d=null;if(t.currentPage&&t.perPage&&t.perPage>0&&(d=(t.currentPage-1)*t.perPage+o+1),h.push(e("tr",{key:"row-"+o,class:[t.rowClasses(n),{"b-table-has-details":s}],attrs:{"aria-describedby":l,"aria-rowindex":d,role:t.isStacked?"row":null},on:{click:function(e){t.rowClicked(e,n,o)},dblclick:function(e){t.rowDblClicked(e,n,o)},mouseenter:function(e){t.rowHovered(e,n,o)}}},u)),s){var f={colspan:String(r.length)},p={id:l};t.isStacked&&(f.role="cell",p.role="row");var m=e("td",{attrs:f},[a({item:n,index:o,fields:r,toggleDetails:c})]);h.push(e("tr",{key:"details-"+o,class:["b-table-details",t.tbodyTrClass],attrs:p},[m]))}else a&&h.push(e(!1))}),!this.showEmpty||o&&0!==o.length)h.push(e(!1));else{var f=this.filter?n.emptyfiltered:n.empty;f||(f=e("div",{class:["text-center","my-2"],domProps:{innerHTML:this.filter?this.emptyFilteredText:this.emptyText}})),f=e("td",{attrs:{colspan:String(r.length),role:this.isStacked?"cell":null}},[e("div",{attrs:{role:"alert","aria-live":"polite"}},[f])]),h.push(e("tr",{key:"empty-row",class:["b-table-empty-row",this.tbodyTrClass],attrs:this.isStacked?{role:"row"}:{}},[f]))}i["bottom-row"]&&!0!==this.isStacked?h.push(e("tr",{key:"bottom-row",class:["b-table-bottom-row",this.tbodyTrClass]},[i["bottom-row"]({columns:r.length,fields:r})])):h.push(e(!1));var p=e("tbody",{class:this.bodyClasses,attrs:this.isStacked?{role:"rowgroup"}:{}},h),m=e("table",{class:this.tableClasses,attrs:{id:this.safeId(),role:this.isStacked?"table":null,"aria-busy":this.computedBusy?"true":"false","aria-colcount":String(r.length),"aria-rowcount":this.$attrs["aria-rowcount"]||this.items.length>this.perPage?this.items.length:null}},[a,l,u,d,p]);return this.isResponsive?e("div",{class:this.responsiveClass},[m]):m},data:function(){return{localSortBy:this.sortBy||"",localSortDesc:this.sortDesc||!1,localItems:[],filteredItems:[],localBusy:!1}},props:{items:{type:[Array,Function],default:function(){return[]}},fields:{type:[Object,Array],default:null},sortBy:{type:String,default:null},sortDesc:{type:Boolean,default:!1},sortDirection:{type:String,default:"asc",validator:function(e){return M(["asc","desc","last"],e)}},caption:{type:String,default:null},captionTop:{type:Boolean,default:!1},striped:{type:Boolean,default:!1},bordered:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},dark:{type:Boolean,default:function(){return!(!this||"boolean"!=typeof this.inverse)&&(ft("b-table: prop 'inverse' has been deprecated. Use 'dark' instead"),this.dark)}},inverse:{type:Boolean,default:null},hover:{type:Boolean,default:!1},small:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},footClone:{type:Boolean,default:!1},responsive:{type:[Boolean,String],default:!1},stacked:{type:[Boolean,String],default:!1},headVariant:{type:String,default:""},footVariant:{type:String,default:""},theadClass:{type:[String,Array],default:null},theadTrClass:{type:[String,Array],default:null},tbodyClass:{type:[String,Array],default:null},tbodyTrClass:{type:[String,Array],default:null},tfootClass:{type:[String,Array],default:null},tfootTrClass:{type:[String,Array],default:null},perPage:{type:Number,default:0},currentPage:{type:Number,default:1},filter:{type:[String,RegExp,Function],default:null},sortCompare:{type:Function,default:null},noLocalSorting:{type:Boolean,default:!1},noProviderPaging:{type:Boolean,default:!1},noProviderSorting:{type:Boolean,default:!1},noProviderFiltering:{type:Boolean,default:!1},noSortReset:{type:Boolean,default:!1},busy:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}},labelSortAsc:{type:String,default:"Click to sort Ascending"},labelSortDesc:{type:String,default:"Click to sort Descending"},showEmpty:{type:Boolean,default:!1},emptyText:{type:String,default:"There are no records to show"},emptyFilteredText:{type:String,default:"There are no records matching your request"},apiUrl:{type:String,default:""}},watch:{items:function(e,t){t!==e&&this._providerUpdate()},context:function(e,t){Pn(e,t)||this.$emit("context-changed",e)},filteredItems:function(e,t){this.localFiltering&&e.length!==t.length&&this.$emit("filtered",e)},sortDesc:function(e,t){e!==this.localSortDesc&&(this.localSortDesc=e||!1)},localSortDesc:function(e,t){e!==t&&(this.$emit("update:sortDesc",e),this.noProviderSorting||this._providerUpdate())},sortBy:function(e,t){e!==this.localSortBy&&(this.localSortBy=e||null)},localSortBy:function(e,t){e!==t&&(this.$emit("update:sortBy",e),this.noProviderSorting||this._providerUpdate())},perPage:function(e,t){t===e||this.noProviderPaging||this._providerUpdate()},currentPage:function(e,t){t===e||this.noProviderPaging||this._providerUpdate()},filter:function(e,t){t===e||this.noProviderFiltering||this._providerUpdate()},localBusy:function(e,t){e!==t&&this.$emit("update:busy",e)}},mounted:function(){var e=this;this.localSortBy=this.sortBy,this.localSortDesc=this.sortDesc,this.hasProvider&&this._providerUpdate(),this.listenOnRoot("bv::refresh::table",function(t){t!==e.id&&t!==e||e._providerUpdate()})},computed:{isStacked:function(){return""===this.stacked||this.stacked},isResponsive:function(){var e=""===this.responsive||this.responsive;return!this.isStacked&&e},responsiveClass:function(){return!0===this.isResponsive?"table-responsive":this.isResponsive?"table-responsive-"+this.responsive:""},tableClasses:function(){return["table","b-table",this.striped?"table-striped":"",this.hover?"table-hover":"",this.dark?"table-dark":"",this.bordered?"table-bordered":"",this.small?"table-sm":"",this.outlined?"border":"",this.fixed?"b-table-fixed":"",!0===this.isStacked?"b-table-stacked":this.isStacked?"b-table-stacked-"+this.stacked:""]},headClasses:function(){return[this.headVariant?"thead-"+this.headVariant:"",this.theadClass]},bodyClasses:function(){return[this.tbodyClass]},footClasses:function(){var e=this.footVariant||this.headVariant||null;return[e?"thead-"+e:"",this.tfootClass]},captionStyles:function(){return this.captionTop?{captionSide:"top"}:{}},hasProvider:function(){return this.items instanceof Function},localFiltering:function(){return!this.hasProvider||this.noProviderFiltering},localSorting:function(){return this.hasProvider?this.noProviderSorting:!this.noLocalSorting},localPaging:function(){return!this.hasProvider||this.noProviderPaging},context:function(){return{perPage:this.perPage,currentPage:this.currentPage,filter:this.filter,sortBy:this.localSortBy,sortDesc:this.localSortDesc,apiUrl:this.apiUrl}},computedFields:function(){var e=this,t=[];if(k(this.fields)?this.fields.filter(function(e){return e}).forEach(function(e){if("string"==typeof e)t.push({key:e,label:ro()(e)});else if("object"===(void 0===e?"undefined":so(e))&&e.key&&"string"==typeof e.key)t.push(g({},e));else if("object"===(void 0===e?"undefined":so(e))&&1===_(e).length){var n=_(e)[0],i=co(n,e[n]);i&&t.push(i)}}):this.fields&&"object"===so(this.fields)&&_(this.fields).length>0&&_(this.fields).forEach(function(n){var i=co(n,e.fields[n]);i&&t.push(i)}),0===t.length&&this.computedItems.length>0){var n=this.computedItems[0],i=["_rowVariant","_cellVariants","_showDetails"];_(n).forEach(function(e){i.includes(e)||t.push({key:e,label:ro()(e)})})}var r={};return t.filter(function(e){return!r[e.key]&&(r[e.key]=!0,e.label="string"==typeof e.label?e.label:ro()(e.key),!0)})},computedItems:function(){var e=this.perPage,t=this.currentPage,n=this.filter,i=this.localSortBy,r=this.localSortDesc,o=this.sortCompare,a=this.localFiltering,s=this.localSorting,l=this.localPaging,c=this.hasProvider?this.localItems:this.items;if(!c)return this.$nextTick(this._providerUpdate),[];if(c=c.slice(),n&&a)if(n instanceof Function)c=c.filter(n);else{var u=void 0;u=n instanceof RegExp?n:new RegExp(".*"+n+".*","ig"),c=c.filter(function(e){var t=u.test(function(e){return e instanceof Object?lo(_(e).reduce(function(t,n){return/^_/.test(n)||(t[n]=e[n]),t},{})):""}(e));return u.lastIndex=0,t})}return a&&(this.filteredItems=c.slice()),i&&s&&(c=function(e,t){return e.map(function(e,t){return[t,e]}).sort(function(e,t){return this(e[1],t[1])||e[0]-t[0]}.bind(t)).map(function(e){return e[1]})}(c,function(e,t){var n=null;return"function"==typeof o&&(n=o(e,t,i)),null!==n&&void 0!==n||(n=function(e,t,n){return"number"==typeof e[n]&&"number"==typeof t[n]?(e[n]<t[n]?-1:e[n]>t[n]&&1)||0:lo(e[n]).localeCompare(lo(t[n]),void 0,{numeric:!0})}(e,t,i)),(n||0)*(r?-1:1)})),Boolean(e)&&l&&(c=c.slice((t-1)*e,t*e)),this.$emit("input",c),c},computedBusy:function(){return this.busy||this.localBusy}},methods:{keys:_,fieldClasses:function(e){return[e.sortable?"sorting":"",e.sortable&&this.localSortBy===e.key?"sorting_"+(this.localSortDesc?"desc":"asc"):"",e.variant?"table-"+e.variant:"",e.class?e.class:"",e.thClass?e.thClass:""]},tdClasses:function(e,t){var n="";return t._cellVariants&&t._cellVariants[e.key]&&(n=(this.dark?"bg":"table")+"-"+t._cellVariants[e.key]),[e.variant&&!n?(this.dark?"bg":"table")+"-"+e.variant:"",n,e.class?e.class:"",this.getTdValues(t,e.key,e.tdClass,"")]},tdAttrs:function(e,t,n){var i={};return i["aria-colindex"]=String(n+1),this.isStacked&&(i["data-label"]=e.label,e.isRowHeader?i.role="rowheader":i.role="cell"),g({},i,this.getTdValues(t,e.key,e.tdAttr,{}))},rowClasses:function(e){return[e._rowVariant?(this.dark?"bg":"table")+"-"+e._rowVariant:"",this.tbodyTrClass]},rowClicked:function(e,t,n){this.stopIfBusy(e)||this.$emit("row-clicked",t,n,e)},rowDblClicked:function(e,t,n){this.stopIfBusy(e)||this.$emit("row-dblclicked",t,n,e)},rowHovered:function(e,t,n){this.stopIfBusy(e)||this.$emit("row-hovered",t,n,e)},headClicked:function(e,t){var n=this;if(!this.stopIfBusy(e)){var i=!1,r=function(){var e=t.sortDirection||n.sortDirection;"asc"===e?n.localSortDesc=!1:"desc"===e&&(n.localSortDesc=!0)};t.sortable?(t.key===this.localSortBy?this.localSortDesc=!this.localSortDesc:(this.localSortBy=t.key,r()),i=!0):this.localSortBy&&!this.noSortReset&&(this.localSortBy=null,r(),i=!0),this.$emit("head-clicked",t.key,t,e),i&&this.$emit("sort-changed",this.context)}},stopIfBusy:function(e){return!!this.computedBusy&&(e.preventDefault(),e.stopPropagation(),!0)},refresh:function(){this.hasProvider&&this._providerUpdate()},_providerSetLocal:function(e){this.localItems=e&&e.length>0?e.slice():[],this.localBusy=!1,this.$emit("refreshed"),this.emitOnRoot("table::refreshed",this.id),this.id&&this.emitOnRoot("bv::table::refreshed",this.id)},_providerUpdate:function(){var e=this;if(!this.computedBusy&&this.hasProvider){this.localBusy=!0;var t=this.items(this.context,this._providerSetLocal);t&&t.then&&"function"==typeof t.then?t.then(function(t){e._providerSetLocal(t)}):this._providerSetLocal(t)}},getTdValues:function(e,t,n,i){var r=this.$parent;if(n){if("function"==typeof n)return n(ao()(e,t),t,e);if("string"==typeof n&&"function"==typeof r[n]){var o=ao()(e,t);return r[n](o,t,e)}return n}return i},getFormattedValue:function(e,t){var n=t.key,i=t.formatter,r=this.$parent,o=ao()(e,n);return i&&("function"==typeof i?o=i(o,n,e):"string"==typeof i&&"function"==typeof r[i]&&(o=r[i](o,n,e))),o}}}},ho={install:function(e){c(e,uo)}};h(ho);var fo=ho;function po(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mo={name:"bTabButtonHelper",props:{content:{type:[String,Array],default:""},href:{type:String,default:"#"},posInSet:{type:Number,default:null},setSize:{type:Number,default:null},controls:{type:String,default:null},id:{type:String,default:null},active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},linkClass:{default:null},itemClass:{default:null},noKeyNav:{type:Boolean,default:!1}},render:function(e){var t=e("a",{class:["nav-link",{active:this.active,disabled:this.disabled},this.linkClass],attrs:{role:"tab",tabindex:this.noKeyNav?null:"-1",href:this.href,id:this.id,disabled:this.disabled,"aria-selected":this.active?"true":"false","aria-setsize":this.setSize,"aria-posinset":this.posInSet,"aria-controls":this.controls},on:{click:this.handleClick,keydown:this.handleClick}},this.content);return e("li",{class:["nav-item",this.itemClass],attrs:{role:"presentation"}},[t])},methods:{handleClick:function(e){function t(){e.preventDefault(),e.stopPropagation()}"click"!==e.type&&this.noKeyNav||(this.disabled?t():"click"!==e.type&&e.keyCode!==we.ENTER&&e.keyCode!==we.SPACE||(t(),this.$emit("click",e)))}}},go={bTabs:{mixins:[at],render:function(e){var t,n=this,i=this.tabs,r=i.map(function(t,r){return e(mo,{key:r,props:{content:t.$slots.title||t.title,href:t.href,id:t.controlledBy||n.safeId("_BV_tab_"+(r+1)+"_"),active:t.localActive,disabled:t.disabled,setSize:i.length,posInSet:r+1,controls:n.safeId("_BV_tab_container_"),linkClass:t.titleLinkClass,itemClass:t.titleItemClass,noKeyNav:n.noKeyNav},on:{click:function(e){n.setTab(r)}}})}),o=e("ul",{class:["nav",(t={},po(t,"nav-"+this.navStyle,!this.noNavStyle),po(t,"card-header-"+this.navStyle,this.card&&!this.vertical),po(t,"card-header",this.card&&this.vertical),po(t,"h-100",this.card&&this.vertical),po(t,"flex-column",this.vertical),po(t,"border-bottom-0",this.vertical),po(t,"rounded-0",this.vertical),po(t,"small",this.small),t),this.navClass],attrs:{role:"tablist",tabindex:this.noKeyNav?null:"0",id:this.safeId("_BV_tab_controls_")},on:{keydown:this.onKeynav}},[r,this.$slots.tabs]);o=e("div",{class:[{"card-header":this.card&&!this.vertical&&!(this.end||this.bottom),"card-footer":this.card&&!this.vertical&&(this.end||this.bottom),"col-auto":this.vertical},this.navWrapperClass]},[o]);var a=void 0;a=i&&i.length?e(!1):e("div",{class:["tab-pane","active",{"card-body":this.card}]},this.$slots.empty);var s=e("div",{ref:"tabsContainer",class:["tab-content",{col:this.vertical},this.contentClass],attrs:{id:this.safeId("_BV_tab_container_")}},[this.$slots.default,a]);return e(this.tag,{class:["tabs",{row:this.vertical,"no-gutters":this.vertical&&this.card}],attrs:{id:this.safeId()}},[this.end||this.bottom?s:e(!1),[o],this.end||this.bottom?e(!1):s])},data:function(){return{currentTab:this.value,tabs:[]}},props:{tag:{type:String,default:"div"},card:{type:Boolean,default:!1},small:{type:Boolean,default:!1},value:{type:Number,default:null},pills:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},end:{type:Boolean,default:!1},noFade:{type:Boolean,default:!1},noNavStyle:{type:Boolean,default:!1},noKeyNav:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},contentClass:{type:[String,Array,Object],default:null},navClass:{type:[String,Array,Object],default:null},navWrapperClass:{type:[String,Array,Object],default:null}},watch:{currentTab:function(e,t){e!==t&&(this.$root.$emit("changed::tab",this,e,this.tabs[e]),this.$emit("input",e),this.tabs[e].$emit("click"))},value:function(e,t){if(e!==t){"number"!=typeof t&&(t=0);var n=e<t?-1:1;this.setTab(e,!1,n)}}},computed:{fade:function(){return!this.noFade},navStyle:function(){return this.pills?"pills":"tabs"}},methods:{sign:function(e){return 0===e?0:e>0?1:-1},onKeynav:function(e){if(!this.noKeyNav){var t=e.keyCode,n=e.shiftKey;t===we.UP||t===we.LEFT?(i(),n?this.setTab(0,!1,1):this.previousTab()):t!==we.DOWN&&t!==we.RIGHT||(i(),n?this.setTab(this.tabs.length-1,!1,-1):this.nextTab())}function i(){e.preventDefault(),e.stopPropagation()}},nextTab:function(){this.setTab(this.currentTab+1,!1,1)},previousTab:function(){this.setTab(this.currentTab-1,!1,-1)},setTab:function(e,t,n){var i=this;if(n=this.sign(n||0),e=e||0,t||e!==this.currentTab){var r=this.tabs[e];r?r.disabled?n&&this.setTab(e+n,t,n):(this.tabs.forEach(function(e){e===r?i.$set(e,"localActive",!0):i.$set(e,"localActive",!1)}),this.currentTab=e):this.$emit("input",this.currentTab)}},updateTabs:function(){this.tabs=this.$children.filter(function(e){return e._isTab});var e=null;if(this.tabs.forEach(function(t,n){t.localActive&&!t.disabled&&(e=n)}),null===e){if(this.currentTab>=this.tabs.length)return void this.setTab(this.tabs.length-1,!0,-1);this.tabs[this.currentTab]&&!this.tabs[this.currentTab].disabled&&(e=this.currentTab)}null===e&&this.tabs.forEach(function(t,n){t.disabled||null!==e||(e=n)}),this.setTab(e||0,!0,0)}},mounted:function(){this.updateTabs(),ot(this.$refs.tabsContainer,this.updateTabs.bind(this),{subtree:!1})}},bTab:{mixins:[at],render:function(e){var t=e(!1);return!this.localActive&&this.computedLazy||(t=e(this.tag,{ref:"panel",class:this.tabClasses,directives:[{name:"show",value:this.localActive}],attrs:{role:"tabpanel",id:this.safeId(),"aria-hidden":this.localActive?"false":"true","aria-expanded":this.localActive?"true":"false","aria-lablelledby":this.controlledBy||null}},[this.$slots.default])),e("transition",{props:{mode:"out-in"},on:{beforeEnter:this.beforeEnter,beforeLeave:this.beforeLeave}},[t])},methods:{beforeEnter:function(){var e=this;window.requestAnimationFrame(function(){e.show=!0})},beforeLeave:function(){this.show=!1}},data:function(){return{localActive:this.active&&!this.disabled,show:!1}},mounted:function(){this.show=this.localActive},computed:{tabClasses:function(){return["tab-pane",this.$parent&&this.$parent.card&&!this.noBody?"card-body":"",this.show?"show":"",this.computedFade?"fade":"",this.disabled?"disabled":"",this.localActive?"active":""]},controlledBy:function(){return this.buttonId||this.safeId("__BV_tab_button__")},computedFade:function(){return this.$parent.fade},computedLazy:function(){return this.$parent.lazy},_isTab:function(){return!0}},props:{active:{type:Boolean,default:!1},tag:{type:String,default:"div"},buttonId:{type:String,default:""},title:{type:String,default:""},titleItemClass:{type:[String,Array,Object],default:null},titleLinkClass:{type:[String,Array,Object],default:null},headHtml:{type:String,default:null},disabled:{type:Boolean,default:!1},noBody:{type:Boolean,default:!1},href:{type:String,default:"#"}}}},_o={install:function(e){c(e,go)}};h(_o);var vo=_o,yo={bTooltip:{mixins:[Jr],render:function(e){return e("div",{class:["d-none"],style:{display:"none"},attrs:{"aria-hidden":!0}},[e("div",{ref:"title"},this.$slots.default)])},data:function(){return{}},props:{title:{type:String,default:""},triggers:{type:[String,Array],default:"hover focus"},placement:{type:String,default:"top"}},methods:{createToolpop:function(){var e=this.getTarget();return e?this._toolpop=new jr(e,this.getConfig(),this.$root):(this._toolpop=null,ft("b-tooltip: 'target' element not found!")),this._toolpop}}}},bo={install:function(e){c(e,yo)}};h(bo);var wo=bo,ko=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var Mo={element:"body",offset:10,method:"auto",throttle:75},xo={element:"(string|element|component)",offset:"number",method:"string",throttle:"number"},Co="dropdown-item",So="active",To={ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown, .dropup",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},Lo="offset",Eo="position",Do=/^#[^/!]+/,Oo=["webkitTransitionEnd","transitionend","otransitionend","oTransitionEnd"];function Ao(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}var Yo=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$el=t,this.$scroller=null,this.$selector=[To.NAV_LINKS,To.LIST_ITEMS,To.DROPDOWN_ITEMS].join(","),this.$offsets=[],this.$targets=[],this.$activeTarget=null,this.$scrollHeight=0,this.$resizeTimeout=null,this.$obs_scroller=null,this.$obs_targets=null,this.$root=i||null,this.$config=null,this.updateConfig(n)}return ko(e,[{key:"updateConfig",value:function(e,t){this.$scroller&&(this.unlisten(),this.$scroller=null);var n=g({},this.constructor.Default,e);if(t&&(this.$root=t),function(e,t,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i],o=t[i],a=o&&$(o)?"element":Ao(o);a=o&&o._isVue?"component":a,new RegExp(r).test(a)||ft(e+': Option "'+i+'" provided type "'+a+'", but expected type "'+r+'"')}}(this.constructor.Name,n,this.constructor.DefaultType),this.$config=n,this.$root){var i=this;this.$root.$nextTick(function(){i.listen()})}else this.listen()}},{key:"dispose",value:function(){this.unlisten(),clearTimeout(this.$resizeTimeout),this.$resizeTimeout=null,this.$el=null,this.$config=null,this.$scroller=null,this.$selector=null,this.$offsets=null,this.$targets=null,this.$activeTarget=null,this.$scrollHeight=null}},{key:"listen",value:function(){var e=this,t=this.getScroller();t&&"BODY"!==t.tagName&&ae(t,"scroll",this),ae(window,"scroll",this),ae(window,"resize",this),ae(window,"orientationchange",this),Oo.forEach(function(t){ae(window,t,e)}),this.setObservers(!0),this.handleEvent("refresh")}},{key:"unlisten",value:function(){var e=this,t=this.getScroller();this.setObservers(!1),t&&"BODY"!==t.tagName&&se(t,"scroll",this),se(window,"scroll",this),se(window,"resize",this),se(window,"orientationchange",this),Oo.forEach(function(t){se(window,t,e)})}},{key:"setObservers",value:function(e){var t=this;this.$obs_scroller&&(this.$obs_scroller.disconnect(),this.$obs_scroller=null),this.$obs_targets&&(this.$obs_targets.disconnect(),this.$obs_targets=null),e&&(this.$obs_targets=ot(this.$el,function(){t.handleEvent("mutation")},{subtree:!0,childList:!0,attributes:!0,attributeFilter:["href"]}),this.$obs_scroller=ot(this.getScroller(),function(){t.handleEvent("mutation")},{subtree:!0,childList:!0,characterData:!0,attributes:!0,attributeFilter:["id","style","class"]}))}},{key:"handleEvent",value:function(e){var t="string"==typeof e?e:e.type,n=this;"scroll"===t?(this.$obs_scroller||this.listen(),this.process()):/(resize|orientationchange|mutation|refresh)/.test(t)&&(n.$resizeTimeout||(n.$resizeTimeout=setTimeout(function(){n.refresh(),n.process(),n.$resizeTimeout=null},n.$config.throttle)))}},{key:"refresh",value:function(){var e=this,t=this.getScroller();if(t){var n=t!==t.window?Eo:Lo,i="auto"===this.$config.method?n:this.$config.method,r=i===Eo?oe:re,o=i===Eo?this.getScrollTop():0;return this.$offsets=[],this.$targets=[],this.$scrollHeight=this.getScrollHeight(),V(this.$selector,this.$el).map(function(e){return ee(e,"href")}).filter(function(e){return Do.test(e||"")}).map(function(e){var n=U(e,t);return W(n)?{offset:parseInt(r(n).top,10)+o,target:e}:null}).filter(function(e){return e}).sort(function(e,t){return e.offset-t.offset}).reduce(function(t,n){return t[n.target]||(e.$offsets.push(n.offset),e.$targets.push(n.target),t[n.target]=!0),t},{}),this}}},{key:"process",value:function(){var e=this.getScrollTop()+this.$config.offset,t=this.getScrollHeight(),n=this.$config.offset+t-this.getOffsetHeight();if(this.$scrollHeight!==t&&this.refresh(),e>=n){var i=this.$targets[this.$targets.length-1];this.$activeTarget!==i&&this.activate(i)}else{if(this.$activeTarget&&e<this.$offsets[0]&&this.$offsets[0]>0)return this.$activeTarget=null,void this.clear();for(var r=this.$offsets.length;r--;){this.$activeTarget!==this.$targets[r]&&e>=this.$offsets[r]&&(void 0===this.$offsets[r+1]||e<this.$offsets[r+1])&&this.activate(this.$targets[r])}}}},{key:"getScroller",value:function(){if(this.$scroller)return this.$scroller;var e=this.$config.element;return e?($(e.$el)?e=e.$el:"string"==typeof e&&(e=U(e)),e?(this.$scroller="BODY"===e.tagName?window:e,this.$scroller):null):null}},{key:"getScrollTop",value:function(){var e=this.getScroller();return e===window?e.pageYOffset:e.scrollTop}},{key:"getScrollHeight",value:function(){return this.getScroller().scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"getOffsetHeight",value:function(){var e=this.getScroller();return e===window?window.innerHeight:ne(e).height}},{key:"activate",value:function(e){var t=this;this.$activeTarget=e,this.clear();var n=V(this.$selector.split(",").map(function(t){return t+'[href="'+e+'"]'}).join(","),this.$el);n.forEach(function(e){if(X(e,Co)){var n=G(To.DROPDOWN,e);n&&t.setActiveState(U(To.DROPDOWN_TOGGLE,n),!0),t.setActiveState(e,!0)}else{t.setActiveState(e,!0),q(e.parentElement,To.NAV_ITEMS)&&t.setActiveState(e.parentElement,!0);for(var i=e;i;){var r=(i=G(To.NAV_LIST_GROUP,i))?i.previousElementSibling:null;q(r,To.NAV_LINKS+", "+To.LIST_ITEMS)&&t.setActiveState(r,!0),q(r,To.NAV_ITEMS)&&(t.setActiveState(U(To.NAV_LINKS,r),!0),t.setActiveState(r,!0))}}}),n&&n.length>0&&this.$root&&this.$root.$emit("bv::scrollspy::activate",e,n)}},{key:"clear",value:function(){var e=this;V(this.$selector+", "+To.NAV_ITEMS,this.$el).filter(function(e){return X(e,So)}).forEach(function(t){return e.setActiveState(t,!1)})}},{key:"setActiveState",value:function(e,t){e&&(t?J(e,So):K(e,So))}}],[{key:"Name",get:function(){return"v-b-scrollspy"}},{key:"Default",get:function(){return Mo}},{key:"DefaultType",get:function(){return xo}}]),e}(),Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jo=!("undefined"!=typeof window),Po="__BV_ScrollSpy__";function No(e,t,n){if(!jo){var i=function(e){var t={};return e.arg&&(t.element="#"+e.arg),_(e.modifiers).forEach(function(e){/^\d+$/.test(e)?t.offset=parseInt(e,10):/^(auto|position|offset)$/.test(e)&&(t.method=e)}),"string"==typeof e.value?t.element=e.value:"number"==typeof e.value?t.offset=Math.round(e.value):"object"===Ro(e.value)&&_(e.value).filter(function(e){return Boolean(Yo.DefaultType[e])}).forEach(function(n){t[n]=e.value[n]}),t}(t);return e[Po]?e[Po].updateConfig(i,n.context.$root):e[Po]=new Yo(e,i,n.context.$root),e[Po]}}var Ho={bScrollspy:{bind:function(e,t,n){No(e,t,n)},inserted:function(e,t,n){No(e,t,n)},update:function(e,t,n){No(e,t,n)},componentUpdated:function(e,t,n){No(e,t,n)},unbind:function(e){jo||function(e){e[Po]&&(e[Po].dispose(),e[Po]=null)}(e)}}},Io={install:function(e){d(e,Ho)}};h(Io);var Fo=Io,$o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wo="undefined"!=typeof window&&"undefined"!=typeof document,zo="__BV_ToolTip__",Bo={focus:!0,hover:!0,click:!0,blur:!0};function Vo(e){var t={};"string"==typeof e.value?t.title=e.value:"function"==typeof e.value?t.title=e.value:"object"===$o(e.value)&&(t=g(e.value)),e.arg&&(t.container="#"+e.arg),_(e.modifiers).forEach(function(e){if(/^html$/.test(e))t.html=!0;else if(/^nofade$/.test(e))t.animation=!1;else if(/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/.test(e))t.placement=e;else if(/^(window|viewport)$/.test(e))t.boundary=e;else if(/^d\d+$/.test(e)){var n=parseInt(e.slice(1),10)||0;n&&(t.delay=n)}else if(/^o-?\d+$/.test(e)){var i=parseInt(e.slice(1),10)||0;i&&(t.offset=i)}});var n={};return("string"==typeof t.trigger?t.trigger.trim().split(/\s+/):[]).forEach(function(e){Bo[e]&&(n[e]=!0)}),_(Bo).forEach(function(t){e.modifiers[t]&&(n[t]=!0)}),t.trigger=_(n).join(" "),"blur"===t.trigger&&(t.trigger="focus"),t.trigger||delete t.trigger,t}function Uo(e,t,n){Wo&&(Xt.default?e[zo]?e[zo].updateConfig(Vo(t)):e[zo]=new jr(e,Vo(t),n.context.$root):ft("v-b-tooltip: Popper.js is required for tooltips to work"))}var qo={bTooltip:{bind:function(e,t,n){Uo(e,t,n)},inserted:function(e,t,n){Uo(e,t,n)},update:function(e,t,n){t.value!==t.oldValue&&Uo(e,t,n)},componentUpdated:function(e,t,n){t.value!==t.oldValue&&Uo(e,t,n)},unbind:function(e){!function(e){Wo&&e[zo]&&(e[zo].destroy(),e[zo]=null,delete e[zo])}(e)}}},Go={install:function(e){d(e,qo)}};h(Go);var Jo=Go,Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo="undefined"!=typeof window&&"undefined"!=typeof document,Qo="__BV_PopOver__",Zo={focus:!0,hover:!0,click:!0,blur:!0};function ea(e){var t={};"string"==typeof e.value?t.content=e.value:"function"==typeof e.value?t.content=e.value:"object"===Ko(e.value)&&(t=g(e.value)),e.arg&&(t.container="#"+e.arg),_(e.modifiers).forEach(function(e){if(/^html$/.test(e))t.html=!0;else if(/^nofade$/.test(e))t.animation=!1;else if(/^(auto|top(left|right)?|bottom(left|right)?|left(top|bottom)?|right(top|bottom)?)$/.test(e))t.placement=e;else if(/^(window|viewport)$/.test(e))t.boundary=e;else if(/^d\d+$/.test(e)){var n=parseInt(e.slice(1),10)||0;n&&(t.delay=n)}else if(/^o-?\d+$/.test(e)){var i=parseInt(e.slice(1),10)||0;i&&(t.offset=i)}});var n={};return("string"==typeof t.trigger?t.trigger.trim().split(/\s+/):[]).forEach(function(e){Zo[e]&&(n[e]=!0)}),_(Zo).forEach(function(t){e.modifiers[t]&&(n[t]=!0)}),t.trigger=_(n).join(" "),"blur"===t.trigger&&(t.trigger="focus"),t.trigger||delete t.trigger,t}function ta(e,t,n){Xo&&(Xt.default?e[Qo]?e[Qo].updateConfig(ea(t)):e[Qo]=new Br(e,ea(t),n.context.$root):ft("v-b-popover: Popper.js is required for popovers to work"))}var na={bPopover:{bind:function(e,t,n){ta(e,t,n)},inserted:function(e,t,n){ta(e,t,n)},update:function(e,t,n){t.value!==t.oldValue&&ta(e,t,n)},componentUpdated:function(e,t,n){t.value!==t.oldValue&&ta(e,t,n)},unbind:function(e){!function(e){Xo&&e[Qo]&&(e[Qo].destroy(),e[Qo]=null,delete e[Qo])}(e)}}},ia={install:function(e){d(e,na)}};h(ia);var ra=ia,oa={install:function(e){if(!e._bootstrap_vue_installed){for(var t in e._bootstrap_vue_installed=!0,i)e.use(i[t]);for(var n in r)e.use(r[n])}}};h(oa);t.a=oa},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(3),a=n.n(o),s=n(2),l=n.n(s),c=n(4),u=n(5),d=n(1),h=n.n(d),f=n(590),p=n(69),m=n(6),g={Collection:a.a.Collection.extend({model:a.a.Model.extend({defaults:{visible:!0,target:"_parent"}}),fetch:function(e){e=e||{},this.reset();var t=Object(u.getGalaxyInstance)(),n=new f.a;this.add(n.render()),this.add({id:"analysis",title:h()("Analyze Data"),url:"",tooltip:h()("Analysis home view"),target:"__use_router__"}),this.add({id:"workflow",title:h()("Workflow"),tooltip:h()("Chain tools into workflows"),disabled:!t.user.id,url:"workflows/list",target:"__use_router__"}),this.add({id:"visualization",title:h()("Visualize"),tooltip:h()("Visualize datasets"),disabled:!t.user.id,menu:[{title:h()("Create Visualization"),url:"visualizations",target:"__use_router__"},{title:h()("Interactive Environments"),url:"visualization/gie_list",target:"galaxy_main"}]}),this.add({id:"shared",title:h()("Shared Data"),url:"library/index",tooltip:h()("Access published resources"),menu:[{title:h()("Data Libraries"),url:"library/list"},{title:h()("Histories"),url:"histories/list_published",target:"__use_router__"},{title:h()("Workflows"),url:"workflows/list_published",target:"__use_router__"},{title:h()("Visualizations"),url:"visualizations/list_published",target:"__use_router__"},{title:h()("Pages"),url:"pages/list_published",target:"__use_router__"}]}),p.a.load({type:"masthead",callback:function(e){r()(document).ready(function(){e.each(function(e){var t=e.toJSON();if(t.activate){var n={id:t.id,icon:t.config.icon,url:t.config.url,tooltip:t.config.tooltip,onclick:t.config.function&&new Function(t.config.function)},i=Object(u.getGalaxyInstance)();i.page?i.page.masthead.collection.add(n):i.masthead&&i.masthead.collection.add(n),m.a.appendScriptStyle(t)}})})}}),t.user.get("is_admin")&&this.add({id:"admin",title:h()("Admin"),url:"admin",tooltip:h()("Administer this Galaxy"),cls:"admin-only"});var i={id:"help",title:h()("Help"),tooltip:h()("Support, contact, and community"),menu:[{title:h()("Support"),url:e.support_url,target:"_blank"},{title:h()("Search"),url:e.search_url,target:"_blank"},{title:h()("Mailing Lists"),url:e.mailing_lists,target:"_blank"},{title:h()("Videos"),url:e.screencasts_url,target:"_blank"},{title:h()("Wiki"),url:e.wiki_url,target:"_blank"},{title:h()("How to Cite Galaxy"),url:e.citation_url,target:"_blank"},{title:h()("Interactive Tours"),url:"tours"}]};e.terms_url&&i.menu.push({title:h()("Terms and Conditions"),url:e.terms_url,target:"_blank"}),e.biostar_url&&i.menu.unshift({title:h()("Ask a question"),url:"biostar/biostar_question_redirect",target:"_blank"}),e.biostar_url&&i.menu.unshift({title:h()("Galaxy Biostar"),url:e.biostar_url_redirect,target:"_blank"}),e.helpsite_url&&i.menu.unshift({title:h()("Galaxy Help"),url:e.helpsite_url,target:"_blank"}),this.add(i);var o={};return o=t.user.id?{id:"user",title:h()("User"),cls:"loggedin-only",tooltip:h()("Account and saved data"),menu:[{title:"".concat(h()("Logged in as")," ").concat(t.user.get("email"))},{title:h()("Preferences"),url:"user",target:"__use_router__"},{title:h()("Custom Builds"),url:"custom_builds",target:"__use_router__"},{title:h()("Logout"),url:"user/logout?session_csrf_token=".concat(t.session_csrf_token),target:"_top",divider:!0},{title:h()("Saved Datasets"),url:"datasets/list",target:"__use_router__"},{title:h()("Saved Histories"),url:"histories/list",target:"__use_router__"},{title:h()("Saved Pages"),url:"pages/list",target:"__use_router__"},{title:h()("Saved Visualizations"),url:"visualizations/list",target:"__use_router__"}]}:e.allow_user_creation?{id:"user",title:h()("Login or Register"),cls:"loggedout-only",tooltip:h()("Account registration or login"),menu:[{title:h()("Login"),url:"user/login",target:"galaxy_main",noscratchbook:!0},{title:h()("Register"),url:"user/create",target:"galaxy_main",noscratchbook:!0}]}:{id:"user",title:h()("Login"),cls:"loggedout-only",tooltip:h()("Login"),url:"user/login",target:"galaxy_main",noscratchbook:!0},this.add(o),(new r.a.Deferred).resolve().promise()}}),Tab:a.a.View.extend({initialize:function(e){this.model=e.model,this.setElement(this._template()),this.$link=this.$(".nav-link"),this.$note=this.$(".nav-note"),this.$menu=this.$(".dropdown-menu"),this.listenTo(this.model,"change",this.render,this)},events:{"click .nav-link":"_toggleClick"},render:function(){var e=this;return r()(".tooltip").remove(),this.$el.removeClass().addClass(this.model.get("disabled")&&"disabled").addClass(this.model.get("active")&&"active").addClass(this.model.get("menu")&&"dropdown").attr("id",this.model.id).css({visibility:this.model.get("visible")?"visible":"hidden"}),this.model.set("url",this._formatUrl(this.model.get("url"))),this.$note.html(this.model.get("note")||"").removeClass().addClass("nav-note").addClass(this.model.get("note_cls")).css({display:this.model.get("show_note")?"block":"none"}),this.$link.html(this.model.get("title")||"").removeClass().addClass("nav-link").addClass(this.model.get("cls")).addClass(this.model.get("icon")&&"nav-icon fa ".concat(this.model.get("icon"))).addClass(this.model.get("menu")&&"dropdown-toggle").addClass(this.model.get("toggle")&&"toggle").attr("target",this.model.get("target")).attr("href",this.model.get("url")).attr("title",this.model.get("tooltip")).tooltip("dispose"),this.model.get("tooltip")&&this.$link.tooltip({placement:"bottom"}),this.model.get("menu")&&this.model.get("show_menu")?(this.$menu.show(),r()("#dd-helper").show().off().on("click",function(){r()("#dd-helper").hide(),e.model.set("show_menu",!1)})):(this.$menu.hide(),r()("#dd-helper").hide()),this.$menu.empty().removeClass(),this.model.get("menu")&&(l.a.each(this.model.get("menu"),function(t){e.$menu.append(e._buildMenuItem(t)),t.divider&&e.$menu.append(r()("<div/>").addClass("dropdown-divider"))}),this.$menu.addClass("dropdown-menu"),this.$link.append(r()("<b/>").addClass("caret"))),this},_buildMenuItem:function(e){var t=this;return(e=l.a.defaults(e||{},{title:"",url:"",target:"_parent",noscratchbook:!1})).url=this._formatUrl(e.url),r()("<a/>").addClass("dropdown-item").attr("href",e.url).attr("target",e.target).html(e.title).on("click",function(n){if(n.preventDefault(),t.model.set("show_menu",!1),e.onclick)e.onclick();else{var i=Object(u.getGalaxyInstance)();if("__use_router__"==e.target&&void 0!==i.page)i.page.router.executeUseRouter(e.url);else try{i.frame.add(e)}catch(e){console.warn("Missing frame element on galaxy instance",e)}}})},buildLink:function(e,t){return r()("<div/>").append(r()("<a/>").attr("href",Object(c.a)()+t).html(e)).html()},_toggleClick:function(e){var t=this,n=this.model;if(e.preventDefault(),r()(".tooltip").hide(),n.trigger("dispatch",function(e){n.id!==e.id&&e.get("menu")&&e.set("show_menu",!1)}),n.get("disabled"))this.$link.popover&&this.$link.popover("dispose"),this.$link.popover({html:!0,placement:"bottom",content:"Please ".concat(this.buildLink("login","user/login?use_panels=True")," or ").concat(this.buildLink("register","user/create?use_panels=True")," to use this feature.")}).popover("show"),window.setTimeout(function(){t.$link.popover("dispose")},3e3);else if(n.get("menu"))n.set("show_menu",!0);else if(n.get("onclick"))n.get("onclick")();else{var i=Object(u.getGalaxyInstance)();"__use_router__"==n.attributes.target&&void 0!==i.page?i.page.router.executeUseRouter(n.attributes.url):i.frame.add(n.attributes)}},_formatUrl:function(e){return"string"==typeof e&&-1===e.indexOf("//")&&"/"!=e.charAt(0)?Object(c.a)()+e:e},_template:function(){return'\n            <li class="nav-item">\n                <a class="nav-link"/>\n                <div class="nav-note"/>\n                <div class="dropdown-menu"/>\n            </li>'}})},_=a.a.View.extend({initialize:function(e){this.model=e&&e.model||new a.a.Model(e),this.setElement(r()("<div/>").addClass("corner frame")),this.$el.append(r()("<div/>").addClass("f-header corner").append(r()("<div/>").addClass("f-title")).append(r()("<div/>").addClass("f-icon f-close fa fa-close").tooltip({title:h()("Close"),placement:"bottom"}))).append(r()("<div/>").addClass("f-content")).append(r()("<div/>").addClass("f-resize f-icon corner fa fa-expand").tooltip({title:"Resize"})).append(r()("<div/>").addClass("f-cover")),this.$header=this.$(".f-header"),this.$title=this.$(".f-title"),this.$content=this.$(".f-content"),this.render(),this.listenTo(this.model,"change",this.render,this)},render:function(){var e=this,t=this.model.attributes;this.$title.html(l.a.escape(t.title)||""),this.$header.find(".f-icon-left").remove(),l.a.each(t.menu,function(t){var n=r()("<div/>").addClass("f-icon-left").addClass(t.icon);l.a.isFunction(t.disabled)&&t.disabled()?n.attr("disabled",!0):n.on("click",function(){t.onclick(e)}).tooltip({title:t.tooltip||"",placement:"bottom"}),e.$header.append(n)}),t.url?this.$content.html(r()("<iframe/>").addClass("f-iframe").attr("scrolling","auto").attr("src","".concat(t.url+(-1===t.url.indexOf("?")?"?":"&"),"widget=True"))):t.content&&(l.a.isFunction(t.content)?t.content(e.$content):e.$content.html(t.content))}}),v={View:a.a.View.extend({defaultOptions:{frame:{cols:6,rows:3},rows:1e3,cell:130,margin:5,scroll:5,top_min:40,frame_max:9,visible:!0},cols:0,top:0,top_max:0,frame_z:0,frame_counter:0,frame_uid:0,frame_list:{},frame_shadow:null,visible:!1,event:{},initialize:function(e){var t=this;this.options=l.a.defaults(e||{},this.defaultOptions),this.visible=this.options.visible,this.top=this.top_max=this.options.top_min,this.setElement(r()("<div/>").addClass("galaxy-frame").append(r()("<div/>").addClass("frame-background")).append(r()("<div/>").addClass("frame-menu frame-scroll-up fa fa-chevron-up fa-2x")).append(r()("<div/>").addClass("frame-menu frame-scroll-down fa fa-chevron-down fa-2x"))),this.frame_shadow=new a.a.View({el:r()("<div/>").addClass("corner frame-shadow")}),this.$el.append(this.frame_shadow.$el),this._frameInit(this.frame_shadow,"#frame-shadow"),this._frameResize(this.frame_shadow,{width:0,height:0}),this.frame_list["#frame-shadow"]=this.frame_shadow,this.visible?this.show():this.hide(),this._panelRefresh(),r()(window).resize(function(){t.visible&&t._panelRefresh()})},render:function(){this.$(".frame-scroll-up")[this.top!=this.options.top_min?"show":"hide"](),this.$(".frame-scroll-down")[this.top!=this.top_max?"show":"hide"]()},add:function(e){var t=Object(u.getGalaxyInstance)();if(this.frame_counter>=this.options.frame_max)t.modal.show({title:h()("Warning"),body:"You have reached the maximum number of allowed frames (".concat(this.options.frame_max,")."),buttons:{Close:function(){t.modal.hide()}}});else{var n="#frame-".concat(this.frame_uid++);if(0!==r()(n).length)t.modal.show({title:h()("Error"),body:"This frame already exists. This page might contain multiple frame managers.",buttons:{Close:function(){t.modal.hide()}}});else{this.top=this.options.top_min;var i=new _(e);this.$el.append(i.$el),e.width=this._toPixelCoord("width",this.options.frame.cols),e.height=this._toPixelCoord("height",this.options.frame.rows),this.frame_z=parseInt(i.$el.css("z-index")),this.frame_list[n]=i,this.frame_counter++,this._frameInit(i,n),this._frameResize(i,{width:e.width,height:e.height}),this._frameInsert(i,{top:0,left:0},!0),this.visible||this.show(),this.trigger("add")}}},del:function(e){var t=this,n=e.$el;n.fadeOut("fast",function(){n.remove(),delete t.frame_list[e.id],t.frame_counter--,t._panelRefresh(!0),t._panelAnimationComplete(),t.trigger("remove")})},show:function(){this.visible=!0,this.$el.fadeIn("fast"),this.trigger("show")},hide:function(){this.event.type||(this.visible=!1,this.$el.fadeOut("fast",function(){r()(this).hide()}),this.trigger("hide"))},length:function(){return this.frame_counter},events:{mousemove:"_eventFrameMouseMove",mouseup:"_eventFrameMouseUp",mouseleave:"_eventFrameMouseUp",mousewheel:"_eventPanelScroll",DOMMouseScroll:"_eventPanelScroll","mousedown .frame":"_eventFrameMouseDown","mousedown .frame-background":"_eventHide","mousedown .frame-scroll-up":"_eventPanelScroll_up","mousedown .frame-scroll-down":"_eventPanelScroll_down","mousedown .f-close":"_eventFrameClose"},_eventFrameMouseDown:function(e){r()(".tooltip").hide(),this.event.type||((r()(e.target).hasClass("f-header")||r()(e.target).hasClass("f-title"))&&(this.event.type="drag"),r()(e.target).hasClass("f-resize")&&(this.event.type="resize"),this.event.type&&(e.preventDefault(),this.event.target=this._frameIdentify(e.target),this.event.xy={x:e.originalEvent.pageX,y:e.originalEvent.pageY},this._frameDragStart(this.event.target)))},_eventFrameMouseMove:function(e){if(this.event.type){var t={x:e.originalEvent.pageX,y:e.originalEvent.pageY},n={x:t.x-this.event.xy.x,y:t.y-this.event.xy.y};this.event.xy=t;var i=this._frameScreen(this.event.target);if("resize"==this.event.type){i.width+=n.x,i.height+=n.y;var r=this.options.cell-this.options.margin-1;i.width=Math.max(i.width,r),i.height=Math.max(i.height,r),this._frameResize(this.event.target,i),i.width=this._toGridCoord("width",i.width)+1,i.height=this._toGridCoord("height",i.height)+1,i.width=this._toPixelCoord("width",i.width),i.height=this._toPixelCoord("height",i.height),this._frameResize(this.frame_shadow,i),this._frameInsert(this.frame_shadow,{top:this._toGridCoord("top",i.top),left:this._toGridCoord("left",i.left)})}else if("drag"==this.event.type){i.left+=n.x,i.top+=n.y,this._frameOffset(this.event.target,i);var o={top:this._toGridCoord("top",i.top),left:this._toGridCoord("left",i.left)};0!==o.left&&o.left++,this._frameInsert(this.frame_shadow,o)}}},_eventFrameMouseUp:function(e){this.event.type&&(this._frameDragStop(this.event.target),this.event.type=null)},_eventFrameClose:function(e){this.event.type||(e.preventDefault(),this.del(this._frameIdentify(e.target)))},_eventHide:function(e){this.event.type||this.hide()},_eventPanelScroll:function(e){!this.event.type&&this.visible&&(0!==r()(e.srcElement).parents(".frame").length?e.stopPropagation():(e.preventDefault(),this._panelScroll(e.originalEvent.detail?e.originalEvent.detail:e.originalEvent.wheelDelta/-3)))},_eventPanelScroll_up:function(e){this.event.type||(e.preventDefault(),this._panelScroll(-this.options.scroll))},_eventPanelScroll_down:function(e){this.event.type||(e.preventDefault(),this._panelScroll(this.options.scroll))},_frameIdentify:function(e){return this.frame_list["#".concat(r()(e).closest(".frame").attr("id"))]},_frameDragStart:function(e){this._frameFocus(e,!0);var t=this._frameScreen(e);this._frameResize(this.frame_shadow,t),this._frameGrid(this.frame_shadow,e.grid_location),e.grid_location=null,this.frame_shadow.$el.show(),r()(".f-cover").show()},_frameDragStop:function(e){this._frameFocus(e,!1);var t=this._frameScreen(this.frame_shadow);this._frameResize(e,t),this._frameGrid(e,this.frame_shadow.grid_location,!0),this.frame_shadow.grid_location=null,this.frame_shadow.$el.hide(),r()(".f-cover").hide(),this._panelAnimationComplete()},_toGridCoord:function(e,t){var n="width"==e||"height"==e?1:-1;return"top"==e&&(t-=this.top),parseInt((t+n*this.options.margin)/this.options.cell,10)},_toPixelCoord:function(e,t){var n="width"==e||"height"==e?1:-1,i=t*this.options.cell-n*this.options.margin;return"top"==e&&(i+=this.top),i},_toGrid:function(e){return{top:this._toGridCoord("top",e.top),left:this._toGridCoord("left",e.left),width:this._toGridCoord("width",e.width),height:this._toGridCoord("height",e.height)}},_toPixel:function(e){return{top:this._toPixelCoord("top",e.top),left:this._toPixelCoord("left",e.left),width:this._toPixelCoord("width",e.width),height:this._toPixelCoord("height",e.height)}},_isCollision:function(e){function t(e,t){return!(e.left>t.left+t.width-1||e.left+e.width-1<t.left||e.top>t.top+t.height-1||e.top+e.height-1<t.top)}for(var n in this.frame_list){var i=this.frame_list[n];if(null!==i.grid_location&&t(e,i.grid_location))return!0}return!1},_locationRank:function(e){return e.top*this.cols+e.left},_panelRefresh:function(e){this.cols=parseInt(r()(window).width()/this.options.cell,10)+1,this._frameInsert(null,null,e)},_panelAnimationComplete:function(){var e=this;r()(".frame").promise().done(function(){e._panelScroll(0,!0)})},_panelScroll:function(e,t){var n=this.top-this.options.scroll*e;if(n=Math.max(n,this.top_max),n=Math.min(n,this.options.top_min),this.top!=n){for(var i in this.frame_list){var r=this.frame_list[i];if(null!==r.grid_location){var o={top:r.screen_location.top-(this.top-n),left:r.screen_location.left};this._frameOffset(r,o,t)}}this.top=n}this.render()},_frameInit:function(e,t){e.id=t,e.screen_location={},e.grid_location={},e.grid_rank=null,e.$el.attr("id",t.substring(1))},_frameInsert:function(e,t,n){var i=this,o=[];e&&(e.grid_location=null,o.push([e,this._locationRank(t)])),l.a.each(this.frame_list,function(e){null!==e.grid_location&&(e.grid_location=null,o.push([e,e.grid_rank]))}),o.sort(function(e,t){return e[1]<t[1]?-1:e[1]>t[1]?1:0}),l.a.each(o,function(e){i._framePlace(e[0],n)}),this.top_max=0,l.a.each(this.frame_list,function(e){null!==e.grid_location&&(i.top_max=Math.max(i.top_max,e.grid_location.top+e.grid_location.height))}),this.top_max=r()(window).height()-this.top_max*this.options.cell-2*this.options.margin,this.top_max=Math.min(this.top_max,this.options.top_min),this.render()},_framePlace:function(e,t){e.grid_location=null;for(var n=this._toGrid(this._frameScreen(e)),i=!1,r=0;r<this.options.rows;r++){for(var o=0;o<Math.max(1,this.cols-n.width);o++)if(n.top=r,n.left=o,!this._isCollision(n)){i=!0;break}if(i)break}i?this._frameGrid(e,n,t):console.log("Grid dimensions exceeded.")},_frameFocus:function(e,t){e.$el.css("z-index",this.frame_z+(t?1:0))},_frameOffset:function(e,t,n){if(e.screen_location.left=t.left,e.screen_location.top=t.top,n){this._frameFocus(e,!0);var i=this;e.$el.animate({top:t.top,left:t.left},"fast",function(){i._frameFocus(e,!1)})}else e.$el.css({top:t.top,left:t.left})},_frameResize:function(e,t){e.$el.css({width:t.width,height:t.height}),e.screen_location.width=t.width,e.screen_location.height=t.height},_frameGrid:function(e,t,n){e.grid_location=t,this._frameOffset(e,this._toPixel(t),n),e.grid_rank=this._locationRank(t)},_frameScreen:function(e){var t=e.screen_location;return{top:t.top,left:t.left,width:t.width,height:t.height}}})},y=n(32),b=n(26),w=n(40),k=a.a.View.extend({initialize:function(e){var t=this;e=e||{},this.frames=new v.View({visible:!1}),this.setElement(this.frames.$el),this.active=!1,this.buttonActive=e.collection.add({id:"enable-scratchbook",icon:"fa-th",tooltip:h()("Enable/Disable Scratchbook"),onclick:function(){t.active=!t.active,t.buttonActive.set({toggle:t.active,show_note:t.active,note_cls:t.active&&"fa fa-check"}),t.active||t.frames.hide()},onbeforeunload:function(){if(t.frames.length()>0)return"You opened ".concat(t.frames.length()," frame(s) which will be lost.")}}),this.buttonLoad=e.collection.add({id:"show-scratchbook",icon:"fa-eye",tooltip:h()("Show/Hide Scratchbook"),show_note:!0,visible:!1,onclick:function(e){t.frames.visible?t.frames.hide():t.frames.show()}}),this.frames.on("add remove",function(){t.frames.visible&&0===t.frames.length()&&t.frames.hide(),t.buttonLoad.set({note:t.frames.length(),visible:t.frames.length()>0})}).on("show hide ",function(){t.buttonLoad.set({toggle:t.frames.visible,icon:t.frames.visible?"fa-eye":"fa-eye-slash"})}),this.history_cache={}},addDataset:function(e){var t=this,n=null,i=Object(u.getGalaxyInstance)();if(i&&i.currHistoryPanel){var r=i.currHistoryPanel.collection.historyId;this.history_cache[r]={name:i.currHistoryPanel.model.get("name"),dataset_ids:[]},i.currHistoryPanel.collection.each(function(e){!e.get("deleted")&&e.get("visible")&&t.history_cache[r].dataset_ids.push(e.get("id"))})}var o=function(e,n){if(e){var i=t.history_cache[e.get("history_id")];if(i&&i.dataset_ids){var r=i.dataset_ids,o=r.indexOf(e.get("id"));if(-1!==o&&o+n>=0&&o+n<r.length)return r[o+n]}}},a=function(e,i,r){var a=o(e,i);a?t._loadDataset(a,function(e,t){n=e,r.model.set(t)}):r.model.trigger("change")};this._loadDataset(e,function(e,i){n=e,t.add(l.a.extend({menu:[{icon:"fa fa-chevron-circle-left",tooltip:h()("Previous in History"),onclick:function(e){a(n,-1,e)},disabled:function(){return!o(n,-1)}},{icon:"fa fa-chevron-circle-right",tooltip:h()("Next in History"),onclick:function(e){a(n,1,e)},disabled:function(){return!o(n,1)}}]},i))})},_loadDataset:function(e,t){var n=this,i=new y.a({id:e});r.a.when(i.fetch()).then(function(){var r=l.a.find(["tabular","interval"],function(e){return-1!==i.get("data_type").indexOf(e)}),o=i.get("name"),a=n.history_cache[i.get("history_id")];a&&(o="".concat(a.name,": ").concat(o)),t(i,r?{title:o,url:null,content:Object(y.d)({model:new y.c(i.toJSON()),embedded:!0,height:"100%"}).$el}:{title:o,url:"".concat(Object(c.a)(),"datasets/").concat(e,"/display/?preview=True"),content:null})})},addTrackster:function(e){var t=this,n=new b.a.Visualization({id:e});r.a.when(n.fetch()).then(function(){var e=new w.a(Object(c.a)()),i={title:n.get("name"),type:"other",content:function(t){var i={container:t,name:n.get("title"),id:n.id,dbkey:n.get("dbkey"),stand_alone:!1},r=n.get("latest_revision"),o=r.config.view.drawables;l.a.each(o,function(e){e.dataset={hda_ldda:e.hda_ldda,id:e.dataset_id}}),e.create_visualization(i,r.config.viewport,r.config.view.drawables,r.config.bookmarks,!1)}};t.add(i)})},add:function(e){if("_blank"==e.target)window.open(e.url);else if("_top"==e.target||"_parent"==e.target||"_self"==e.target)window.location=e.url;else if(!this.active||e.noscratchbook){var t=r()(window.parent.document).find("#galaxy_main");"galaxy_main"==e.target||"center"==e.target?0===t.length?window.location=this._build_url(e.url,{use_panels:!0}):t.attr("src",e.url):window.location=e.url}else e.url=this._build_url(e.url,{hide_panels:!0,hide_masthead:!0}),this.frames.add(e)},_build_url:function(e,t){if(e)return e+=-1==e.indexOf("?")?"?":"&",e+=r.a.param(t,!0)}}),M=n(591),x=a.a.View.extend({initialize:function(e){var t=Object(u.getGalaxyInstance)(),n=this;this.options=e,this.setElement(this._template()),this.$navbarBrandLink=this.$(".navbar-brand"),this.$navbarBrandImage=this.$(".navbar-brand-image"),this.$navbarBrandTitle=this.$(".navbar-brand-title"),this.$navbarTabs=this.$(".navbar-nav"),this.$quoteMeter=this.$(".quota-meter-container"),this.collection=new g.Collection,this.collection.on("add",function(e){n.$navbarTabs.append(new g.Tab({model:e}).render().$el)}).on("reset",function(){n.$navbarTabs.empty()}).on("dispatch",function(e){n.collection.each(function(t){e(t)})}).fetch(this.options),this.highlight(e.active_view),t.frame=this.frame=new k({collection:this.collection}),t.quotaMeter=this.quotaMeter=new M.a.UserQuotaMeter({model:t.user,el:this.$quoteMeter}),r()(window).on("click",function(e){var t=r()(e.target).closest("a[download]");1==t.length&&(0===r()("iframe[id=download]").length&&r()("body").append(r()("<iframe/>").attr("id","download").hide()),r()("iframe[id=download]").attr("src",t.attr("href")),e.preventDefault())}).on("beforeunload",function(){var e="";if(n.collection.each(function(t){var n=t.get("onbeforeunload")&&t.get("onbeforeunload")();n&&(e+="".concat(n," "))}),""!==e)return e})},render:function(){return this.$navbarBrandTitle.html("Galaxy ".concat(this.options.brand&&"/ ".concat(this.options.brand)||"")),this.$navbarBrandLink.attr("href",this.options.logo_url),this.$navbarBrandImage.attr("src",this.options.logo_src),this.quotaMeter.render(),this},highlight:function(e){this.collection.forEach(function(t){t.set("active",t.id==e)})},_template:function(){return'\n            <nav id="masthead" class="navbar navbar-expand justify-content-center navbar-dark">\n                <a class="navbar-brand">\n                    <img class="navbar-brand-image"/>\n                    <span class="navbar-brand-title"/>\n                </a>\n                <ul class="navbar-nav"/>\n                <div class="quota-meter-container"/>\n            </nav>'}});t.a={View:x}},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(48),l=n(94),c=n(8),u=n(1),d=n.n(u),h=s.a.extend({className:"".concat(s.a.prototype.className," dataset-collection"),id:function(){return["dataset_collection",this.model.get("id")].join("-")},initialize:function(e){this.linkTarget=e.linkTarget||"_blank",this.hasUser=e.hasUser,s.a.prototype.initialize.call(this,e)},_setUpListeners:function(){s.a.prototype._setUpListeners.call(this),this.listenTo(this.model,"change",function(e,t){r.a.has(e.changed,"deleted")?this.render():r.a.has(e.changed,"element_count")&&this.$("> .title-bar .subtitle").replaceWith(this._renderSubtitle())})},_renderSubtitle:function(){return a()(this.templates.subtitle(this.model.toJSON(),this))},_getFoldoutPanelOptions:function(){var e=s.a.prototype._getFoldoutPanelOptions.call(this);return r.a.extend(e,{linkTarget:this.linkTarget,hasUser:this.hasUser})},$selector:function(){return this.$("> .selector")},toString:function(){var e=this.model?"".concat(this.model):"(no model)";return"DCListItemView(".concat(e,")")}});h.prototype.templates=function(){var e=r.a.extend({},s.a.prototype.templates.warnings,{error:c.a.wrapTemplate(["<% if( model.error ){ %>",'<div class="errormessagesmall">',d()("There was an error getting the data for this collection"),": <%- model.error %>","</div>","<% } %>"]),purged:c.a.wrapTemplate(["<% if( model.purged ){ %>",'<div class="purged-msg warningmessagesmall">',d()("This collection has been deleted and removed from disk"),"</div>","<% } %>"]),deleted:c.a.wrapTemplate(["<% if( model.deleted && !model.purged ){ %>",'<div class="deleted-msg warningmessagesmall">',d()("This collection has been deleted"),"</div>","<% } %>"])}),t=c.a.wrapTemplate(['<div class="title-bar clear" tabindex="0">','<div class="title">','<span class="name"><%- collection.element_identifier || collection.name %></span>',"</div>",'<div class="subtitle"></div>',"</div>"],"collection"),n=c.a.wrapTemplate(['<div class="subtitle">','<% var countText = collection.element_count? ( collection.element_count + " " ) : ""; %>','<%        if( collection.collection_type === "list" ){ %>',d()("a list of <%- countText %>datasets"),'<% } else if( collection.collection_type === "paired" ){ %>',d()("a pair of datasets"),'<% } else if( collection.collection_type === "list:paired" ){ %>',d()("a list of <%- countText %>dataset pairs"),'<% } else if( collection.collection_type === "list:list" ){ %>',d()("a list of <%- countText %>dataset lists"),"<% } %>","</div>"],"collection");return r.a.extend({},s.a.prototype.templates,{warnings:e,titleBar:t,subtitle:n})}();var f=s.b.extend({className:"".concat(s.b.prototype.className," dataset-collection-element"),initialize:function(e){e.logger&&(this.logger=this.model.logger=e.logger),this.log("DCEListItemView.initialize:",e),s.b.prototype.initialize.call(this,e)},toString:function(){var e=this.model?"".concat(this.model):"(no model)";return"DCEListItemView(".concat(e,")")}});f.prototype.templates=function(){var e=c.a.wrapTemplate(['<div class="title-bar clear" tabindex="0">','<div class="title">','<span class="name"><%- element.element_identifier %></span>',"</div>",'<div class="subtitle"></div>',"</div>"],"element");return r.a.extend({},s.b.prototype.templates,{titleBar:e})}();var p=l.a.extend({className:"".concat(l.a.prototype.className," dataset-collection-element"),initialize:function(e){e.logger&&(this.logger=this.model.logger=e.logger),this.log("DatasetDCEListItemView.initialize:",e),l.a.prototype.initialize.call(this,e)},_fetchModelDetails:function(){return this.model.inReadyState()&&!this.model.hasDetails()?this.model.fetch({silent:!0}):a.a.when()},toString:function(){var e=this.model?"".concat(this.model):"(no model)";return"DatasetDCEListItemView(".concat(e,")")}});p.prototype.templates=function(){var e=c.a.wrapTemplate(['<div class="title-bar clear" tabindex="0">','<span class="state-icon"></span>','<div class="title">','<span class="name"><%- element.element_identifier %></span>',"</div>","</div>"],"element");return r.a.extend({},l.a.prototype.templates,{titleBar:e})}();var m=h.extend({className:"".concat(h.prototype.className," dataset-collection-element"),_swapNewRender:function(e){h.prototype._swapNewRender.call(this,e);var t=this.model.get("state")||"ok";return this.$el.addClass("state-".concat(t)),this.$el},toString:function(){var e=this.model?"".concat(this.model):"(no model)";return"NestedDCDCEListItemView(".concat(e,")")}});t.a={DCListItemView:h,DCEListItemView:f,DatasetDCEListItemView:p,NestedDCDCEListItemView:m}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(3),a=n.n(o),s=n(4),l=n(25),c=n(11),u=a.a.View.extend({initialize:function(e){this.model=new a.a.Model(e),this.url=this.model.get("url"),this.redirect=this.model.get("redirect"),e&&e.active_tab&&(this.active_tab=e.active_tab),this.setElement("<div/>"),this.render()},render:function(){var e=this;r.a.ajax({url:Object(s.a)()+this.url,type:"GET"}).done(function(t){var n=r.a.extend({},e.model.attributes,t),i=new l.a({title:n.title,title_id:n.title_id,message:n.message,status:n.status||"warning",icon:n.icon,initial_errors:!0,errors:n.errors,inputs:n.inputs,buttons:{submit:new c.a.Button({tooltip:n.submit_tooltip,title:n.submit_title||"Save",icon:n.submit_icon||"fa-save",cls:"btn btn-primary",onclick:function(){e._submit(i)}})}});e.$el.empty().append(i.$el)}).fail(function(t){e.$el.empty().append(new c.a.Message({message:"Failed to load resource ".concat(e.url,"."),status:"danger",persistent:!0}).$el)})},_submit:function(e){var t=this;r.a.ajax({url:Object(s.a)()+t.url,data:JSON.stringify(e.data.create()),type:"PUT",contentType:"application/json"}).done(function(n){var i={};n.id?i.id=n.id:i={message:n.message,status:"success",persistent:!1},t.redirect?window.location="".concat(Object(s.a)()+t.redirect,"?").concat(r.a.param(i)):(e.data.matchModel(n,function(t,n){e.field_list[n].value(t.value)}),t._showMessage(e,n.message))}).fail(function(n){t._showMessage(e,{message:n.responseJSON.err_msg,status:"danger",persistent:!1})})},_showMessage:function(e,t){e.$el.parents().filter(function(){return-1!=["auto","scroll"].indexOf(r()(this).css("overflow"))}).first().animate({scrollTop:0},500),e.message.update(t)}});t.a={View:u}},function(e,t,n){var i=n(88);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){"use strict";if(n(43)){var i=n(361),r=n(23),o=n(21),a=n(12),s=n(423),l=n(500),c=n(87),u=n(378),d=n(359),h=n(61),f=n(379),p=n(91),m=n(45),g=n(546),_=n(363),v=n(96),y=n(60),b=n(415),w=n(24),k=n(63),M=n(493),x=n(364),C=n(366),S=n(365).f,T=n(495),L=n(360),E=n(30),D=n(77),O=n(413),A=n(420),Y=n(497),R=n(375),j=n(417),P=n(377),N=n(496),H=n(538),I=n(35),F=n(75),$=I.f,W=F.f,z=r.RangeError,B=r.TypeError,V=r.Uint8Array,U=Array.prototype,q=l.ArrayBuffer,G=l.DataView,J=D(0),K=D(2),X=D(3),Q=D(4),Z=D(5),ee=D(6),te=O(!0),ne=O(!1),ie=Y.values,re=Y.keys,oe=Y.entries,ae=U.lastIndexOf,se=U.reduce,le=U.reduceRight,ce=U.join,ue=U.sort,de=U.slice,he=U.toString,fe=U.toLocaleString,pe=E("iterator"),me=E("toStringTag"),ge=L("typed_constructor"),_e=L("def_constructor"),ve=s.CONSTR,ye=s.TYPED,be=s.VIEW,we=D(1,function(e,t){return Se(A(e,e[_e]),t)}),ke=o(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),Me=!!V&&!!V.prototype.set&&o(function(){new V(1).set({})}),xe=function(e,t){var n=p(e);if(n<0||n%t)throw z("Wrong offset!");return n},Ce=function(e){if(w(e)&&ye in e)return e;throw B(e+" is not a typed array!")},Se=function(e,t){if(!(w(e)&&ge in e))throw B("It is not a typed array constructor!");return new e(t)},Te=function(e,t){return Le(A(e,e[_e]),t)},Le=function(e,t){for(var n=0,i=t.length,r=Se(e,i);i>n;)r[n]=t[n++];return r},Ee=function(e,t,n){$(e,t,{get:function(){return this._d[n]}})},De=function(e){var t,n,i,r,o,a,s=k(e),l=arguments.length,u=l>1?arguments[1]:void 0,d=void 0!==u,h=T(s);if(void 0!=h&&!M(h)){for(a=h.call(s),i=[],t=0;!(o=a.next()).done;t++)i.push(o.value);s=i}for(d&&l>2&&(u=c(u,arguments[2],2)),t=0,n=m(s.length),r=Se(this,n);n>t;t++)r[t]=d?u(s[t],t):s[t];return r},Oe=function(){for(var e=0,t=arguments.length,n=Se(this,t);t>e;)n[e]=arguments[e++];return n},Ae=!!V&&o(function(){fe.call(new V(1))}),Ye=function(){return fe.apply(Ae?de.call(Ce(this)):Ce(this),arguments)},Re={copyWithin:function(e,t){return H.call(Ce(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Q(Ce(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return N.apply(Ce(this),arguments)},filter:function(e){return Te(this,K(Ce(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(Ce(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Ce(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){J(Ce(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Ce(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Ce(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(Ce(this),arguments)},lastIndexOf:function(e){return ae.apply(Ce(this),arguments)},map:function(e){return we(Ce(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Ce(this),arguments)},reduceRight:function(e){return le.apply(Ce(this),arguments)},reverse:function(){for(var e,t=Ce(this).length,n=Math.floor(t/2),i=0;i<n;)e=this[i],this[i++]=this[--t],this[t]=e;return this},some:function(e){return X(Ce(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ue.call(Ce(this),e)},subarray:function(e,t){var n=Ce(this),i=n.length,r=_(e,i);return new(A(n,n[_e]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,m((void 0===t?i:_(t,i))-r))}},je=function(e,t){return Te(this,de.call(Ce(this),e,t))},Pe=function(e){Ce(this);var t=xe(arguments[1],1),n=this.length,i=k(e),r=m(i.length),o=0;if(r+t>n)throw z("Wrong length!");for(;o<r;)this[t+o]=i[o++]},Ne={entries:function(){return oe.call(Ce(this))},keys:function(){return re.call(Ce(this))},values:function(){return ie.call(Ce(this))}},He=function(e,t){return w(e)&&e[ye]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ie=function(e,t){return He(e,t=v(t,!0))?d(2,e[t]):W(e,t)},Fe=function(e,t,n){return!(He(e,t=v(t,!0))&&w(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?$(e,t,n):(e[t]=n.value,e)};ve||(F.f=Ie,I.f=Fe),a(a.S+a.F*!ve,"Object",{getOwnPropertyDescriptor:Ie,defineProperty:Fe}),o(function(){he.call({})})&&(he=fe=function(){return ce.call(this)});var $e=f({},Re);f($e,Ne),h($e,pe,Ne.values),f($e,{slice:je,set:Pe,constructor:function(){},toString:he,toLocaleString:Ye}),Ee($e,"buffer","b"),Ee($e,"byteOffset","o"),Ee($e,"byteLength","l"),Ee($e,"length","e"),$($e,me,{get:function(){return this[ye]}}),e.exports=function(e,t,n,l){var c=e+((l=!!l)?"Clamped":"")+"Array",d="get"+e,f="set"+e,p=r[c],_=p||{},v=p&&C(p),y=!p||!s.ABV,k={},M=p&&p.prototype,T=function(e,n){$(e,n,{get:function(){return function(e,n){var i=e._d;return i.v[d](n*t+i.o,ke)}(this,n)},set:function(e){return function(e,n,i){var r=e._d;l&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[f](n*t+r.o,i,ke)}(this,n,e)},enumerable:!0})};y?(p=n(function(e,n,i,r){u(e,p,c,"_d");var o,a,s,l,d=0,f=0;if(w(n)){if(!(n instanceof q||"ArrayBuffer"==(l=b(n))||"SharedArrayBuffer"==l))return ye in n?Le(p,n):De.call(p,n);o=n,f=xe(i,t);var _=n.byteLength;if(void 0===r){if(_%t)throw z("Wrong length!");if((a=_-f)<0)throw z("Wrong length!")}else if((a=m(r)*t)+f>_)throw z("Wrong length!");s=a/t}else s=g(n),o=new q(a=s*t);for(h(e,"_d",{b:o,o:f,l:a,e:s,v:new G(o)});d<s;)T(e,d++)}),M=p.prototype=x($e),h(M,"constructor",p)):o(function(){p(1)})&&o(function(){new p(-1)})&&j(function(e){new p,new p(null),new p(1.5),new p(e)},!0)||(p=n(function(e,n,i,r){var o;return u(e,p,c),w(n)?n instanceof q||"ArrayBuffer"==(o=b(n))||"SharedArrayBuffer"==o?void 0!==r?new _(n,xe(i,t),r):void 0!==i?new _(n,xe(i,t)):new _(n):ye in n?Le(p,n):De.call(p,n):new _(g(n))}),J(v!==Function.prototype?S(_).concat(S(v)):S(_),function(e){e in p||h(p,e,_[e])}),p.prototype=M,i||(M.constructor=p));var L=M[pe],E=!!L&&("values"==L.name||void 0==L.name),D=Ne.values;h(p,ge,!0),h(M,ye,c),h(M,be,!0),h(M,_e,p),(l?new p(1)[me]==c:me in M)||$(M,me,{get:function(){return c}}),k[c]=p,a(a.G+a.W+a.F*(p!=_),k),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o(function(){_.of.call(p,1)}),c,{from:De,of:Oe}),"BYTES_PER_ELEMENT"in M||h(M,"BYTES_PER_ELEMENT",t),a(a.P,c,Re),P(c),a(a.P+a.F*Me,c,{set:Pe}),a(a.P+a.F*!E,c,Ne),i||M.toString==he||(M.toString=he),a(a.P+a.F*o(function(){new p(1).slice()}),c,{slice:je}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!o(function(){M.toLocaleString.call([1,2])})),c,{toLocaleString:Ye}),R[c]=E?L:D,i||E||h(M,pe,D)}}else e.exports=function(){}},function(e,t,n){"use strict";(function(e,n,i,r){var o=e.Model.extend({initialize:function(e){this.app=e},checksum:function(){var e="",t=this;return this.app.section.$el.find(".section-row").each(function(){var i=n(this).attr("id"),r=t.app.field_list[i];r&&(e+="".concat(i,":").concat(JSON.stringify(r.value&&r.value()),":").concat(r.collapsed,":").concat(r.connected,";"))}),e},create:function(){var e=this,t={};this._iterate(this.app.section.$el,t);var n={};function i(t,i,r){e.flat_dict[t]=i,n[t]=r,e.app.element_list[i]&&e.app.element_list[i].$el.attr("tour_id",t)}return this.flat_dict={},function t(n,r){for(var o in r){var s=r[o];if(s.input){var l=s.input,c=n;switch(""!==n&&(c+="|"),c+=l.name,l.type){case"repeat":var u=[],d=null;for(var h in s){var f=h.indexOf("section-");-1!=f&&(f+="section-".length,u.push(parseInt(h.substr(f))),d||(d=h.substr(0,f)))}for(var p in u.sort(function(e,t){return e-t}),o=0,u)t("".concat(c,"_").concat(o++),s[d+u[p]]);break;case"conditional":var m=e.app.field_list[l.id].value();i("".concat(c,"|").concat(l.test_param.name),l.id,m);var g=a(l,m);-1!=g&&t(c,r["".concat(l.id,"-section-").concat(g)]);break;case"section":t(!l.flat&&c||"",s);break;default:var _=e.app.field_list[l.id];if(_&&_.value&&(m=_.value(),(void 0===l.ignore||l.ignore!=m)&&(_.connected?m={__class__:"ConnectedValue"}:_.collapsed&&l.collapsible_value&&(m=l.collapsible_value),i(c,l.id,m),l.payload)))for(var v in l.payload)i(v,l.id,l.payload[v])}}}}("",t),n},match:function(e){return this.flat_dict&&this.flat_dict[e]},matchCase:function(e,t){return a(e,t)},matchModel:function(e,t){var n=this;s(e.inputs,function(e,i){n.flat_dict[i]&&t(e,n.flat_dict[i])})},matchResponse:function(e){var t={},n=this;return function e(i,r){if("string"==typeof r){var o=n.flat_dict[i];o&&(t[o]=r)}else for(var a in r){var s=a;if(""!==i){var l="|";r instanceof Array&&(l="_"),s=i+l+s}e(s,r[a])}}("",e),t},_iterate:function(e,t){var i=this;n(e).children().each(function(){var e=n(this).attr("id");if(n(this).hasClass("section-row")){var r=i.app.input_list[e];t[e]=r&&{input:r}||{},i._iterate(this,t[e])}else i._iterate(this,t)})}}),a=function(e,t){for(var n in"boolean"==e.test_param.type&&(t="true"==t?e.test_param.truevalue||"true":e.test_param.falsevalue||"false"),e.cases)if(e.cases[n].value==t)return n;return-1},s=function e(t,o,s,l){for(var c in l=n.extend({},l),i.each(t,function(e){e&&e.type&&e.name&&(l[e.name]=e)}),t){var u=t[c];u.name=u.name||c;var d=s?"".concat(s,"|").concat(u.name):u.name;switch(u.type){case"repeat":i.each(u.cache,function(t,n){e(t,o,"".concat(d,"_").concat(n),l)});break;case"conditional":if(u.test_param){o(u.test_param,"".concat(d,"|").concat(u.test_param.name),l);var h=a(u,u.test_param.value);-1!=h?e(u.cases[h].inputs,o,d,l):r.emit.debug("form-data::visitInputs() - Invalid case for ".concat(d,"."))}else r.emit.debug("form-data::visitInputs() - Conditional test parameter missing for ".concat(d,"."));break;case"section":e(u.inputs,o,d,l);break;default:o(u,d,l)}}};t.a={Manager:o,visitInputs:s}}).call(this,n(3),n(0),n(2),n(5).monitor)},function(e,t,n){"use strict";n.d(t,"a",function(){return _});var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(5),u=n(48),d=n(16),h=n(41),f=n(8),p=n(1),m=n.n(p),g=u.c.ListItemView,_=g.extend({_logNamespace:"dataset",className:"".concat(g.prototype.className," dataset"),id:function(){return["dataset",this.model.get("id")].join("-")},initialize:function(e){e.logger&&(this.logger=this.model.logger=e.logger),this.log("".concat(this,".initialize:"),e),g.prototype.initialize.call(this,e),this.linkTarget=e.linkTarget||"_blank"},_setUpListeners:function(){g.prototype._setUpListeners.call(this);var e=this;return e.listenTo(e.model,{change:function(t){e.model.changedAttributes().state&&e.model.inReadyState()&&e.expanded&&!e.model.hasDetails()?e.model.fetch({silent:!0}).done(function(){e.render()}):r.a.has(t.changed,"tags")&&1===r.a.keys(t.changed).length?e.$(".nametags").html(e._renderNametags()):e.render()}})},_fetchModelDetails:function(){return this.model.inReadyState()&&!this.model.hasDetails()?this.model.fetch({silent:!0}):a.a.when()},remove:function(e,t){var n=this;e=e||this.fxSpeed,this.$el.fadeOut(e,function(){l.a.View.prototype.remove.call(n),t&&t.call(n)})},_swapNewRender:function(e){return g.prototype._swapNewRender.call(this,e),this.model.has("state")&&this.$el.addClass("state-".concat(this.model.get("state"))),this.$el},_renderPrimaryActions:function(){return[this._renderDisplayButton()]},_renderDisplayButton:function(){var e=this.model.get("state");if(e===d.a.NOT_VIEWABLE||e===d.a.DISCARDED||!this.model.get("accessible"))return null;var t={target:this.linkTarget,classes:"display-btn"};if(this.model.get("purged"))t.disabled=!0,t.title=m()("Cannot display datasets removed from disk");else if(e===d.a.UPLOAD)t.disabled=!0,t.title=m()("This dataset must finish uploading before it can be viewed");else if(e===d.a.NEW)t.disabled=!0,t.title=m()("This dataset is not yet viewable");else{t.title=m()("View data"),t.href=this.model.urls.display;var n=this;t.onclick=function(e){var t=Object(c.getGalaxyInstance)();t.frame&&t.frame.active&&(t.frame.addDataset(n.model.get("id")),e.preventDefault())}}return t.faIcon="fa-eye",Object(h.a)(t)},_renderDetails:function(){if(this.model.get("state")===d.a.NOT_VIEWABLE)return a()(this.templates.noAccess(this.model.toJSON(),this));var e=g.prototype._renderDetails.call(this);return e.find(".actions .left").empty().append(this._renderSecondaryActions()),e.find(".summary").html(this._renderSummary()).prepend(this._renderDetailMessages()),e.find(".display-applications").html(this._renderDisplayApplications()),this._setUpBehaviors(e),e},_renderSummary:function(){var e=this.model.toJSON(),t=this.templates.summaries[e.state];return(t=t||this.templates.summaries.unknown)(e,this)},_renderDetailMessages:function(){var e=this,t=a()('<div class="detail-messages"></div>'),n=e.model.toJSON();return r.a.each(e.templates.detailMessages,function(i){t.append(a()(i(n,e)))}),t},_renderDisplayApplications:function(){return this.model.isDeletedOrPurged()?"":[this.templates.displayApplications(this.model.get("display_apps"),this),this.templates.displayApplications(this.model.get("display_types"),this)].join("")},_renderSecondaryActions:function(){switch(this.debug("_renderSecondaryActions"),this.model.get("state")){case d.a.NOT_VIEWABLE:return[];case d.a.OK:case d.a.FAILED_METADATA:case d.a.ERROR:return[this._renderDownloadButton(),this._renderShowParamsButton()]}return[this._renderShowParamsButton()]},_renderShowParamsButton:function(){return Object(h.a)({title:m()("View details"),classes:"params-btn",href:this.model.urls.show_params,target:this.linkTarget,faIcon:"fa-info-circle",onclick:function(e){var t=Object(c.getGalaxyInstance)();t.frame&&t.frame.active&&(t.frame.add({title:m()("Dataset details"),url:this.href}),e.preventDefault(),e.stopPropagation())}})},_renderDownloadButton:function(){return this.model.get("purged")||!this.model.hasData()?null:r.a.isEmpty(this.model.get("meta_files"))?a()('\n                <a class="download-btn icon-btn" href="'.concat(this.model.urls.download,'" title="').concat(m()("Download"),'">\n                    <span class="fa fa-floppy-o"></span>\n                </a>')):this._renderMetaFileDownloadButton()},_renderMetaFileDownloadButton:function(){var e=this.model.urls;return a()('\n                <div class="metafile-dropdown dropdown">\n                    <a class="download-btn icon-btn" href="'.concat(e.download,'" data-toggle="dropdown" title="').concat(m()("Download"),'">\n                        <span class="fa fa-floppy-o"></span>\n                    </a>\n                    <ul class="dropdown-menu" role="menu">\n                        <li>\n                            <a href="').concat(e.download,'">\n                                ').concat(m()("Download dataset"),"\n                            </a>\n                        </li>\n                        ").concat(r.a.map(this.model.get("meta_files"),function(t){return'<li>\n                                    <a href="'.concat(e.meta_download+t.file_type,'">\n                                        ').concat(m()("Download")," ").concat(t.file_type,"\n                                    </a>\n                                </li>")}),"\n                    </ul>\n                </div>"))},_renderNametags:function(){return r.a.template(["<% _.each(_.sortBy(_.uniq(tags), function(x) { return x }), function(tag){ %>",'<% if (tag.indexOf("name:") == 0){ %>','<span class="badge badge-primary badge-tags"><%- tag.slice(5) %></span>',"<% } %>","<% }); %>"].join(""))({tags:this.model.get("tags")})},events:r.a.extend(r.a.clone(g.prototype.events),{"click .display-btn":function(e){this.trigger("display",this,e)},"click .params-btn":function(e){this.trigger("params",this,e)},"click .download-btn":function(e){this.trigger("download",this,e)}}),toString:function(){var e=this.model?"".concat(this.model):"(no model)";return"DatasetListItemView(".concat(e,")")}});_.prototype.templates=function(){var e=r.a.extend({},g.prototype.templates.warnings,{failed_metadata:f.a.wrapTemplate(['<% if( model.state === "failed_metadata" ){ %>','<div class="warningmessagesmall">',m()("An error occurred setting the metadata for this dataset"),"</div>","<% } %>"]),error:f.a.wrapTemplate(["<% if( model.error ){ %>",'<div class="errormessagesmall">',m()("There was an error getting the data for this dataset"),": <%- model.error %>","</div>","<% } %>"]),purged:f.a.wrapTemplate(["<% if( model.purged ){ %>",'<div class="purged-msg warningmessagesmall">',m()("This dataset has been deleted and removed from disk"),"</div>","<% } %>"]),deleted:f.a.wrapTemplate(["<% if( model.deleted && !model.purged ){ %>",'<div class="deleted-msg warningmessagesmall">',m()("This dataset has been deleted"),"</div>","<% } %>"])}),t=f.a.wrapTemplate(['<div class="details">','<div class="summary"></div>','<div class="actions clear">','<div class="left"></div>','<div class="right"></div>',"</div>","<% if( !dataset.deleted && !dataset.purged ){ %>",'<div class="tags-display"></div>','<div class="annotation-display"></div>','<div class="display-applications"></div>',"<% if( dataset.peek ){ %>",'<pre class="dataset-peek"><%= dataset.peek %></pre>',"<% } %>","<% } %>","</div>"],"dataset"),n=f.a.wrapTemplate(['<div class="details">','<div class="summary">',m()("You do not have permission to view this dataset"),"</div>","</div>"],"dataset"),i={};i[d.a.OK]=i[d.a.FAILED_METADATA]=f.a.wrapTemplate(["<% if( dataset.misc_blurb ){ %>",'<div class="blurb">','<span class="value"><%- dataset.misc_blurb %></span>',"</div>","<% } %>","<% if( dataset.file_ext ){ %>",'<div class="datatype">','<label class="prompt">',m()("format"),"</label>",'<span class="value"><%- dataset.file_ext %></span>',"</div>","<% } %>","<% if( dataset.metadata_dbkey ){ %>",'<div class="dbkey">','<label class="prompt">',m()("database"),"</label>",'<span class="value">',"<%- dataset.metadata_dbkey %>","</span>","</div>","<% } %>","<% if( dataset.misc_info ){ %>",'<div class="info">','<span class="value"><%- dataset.misc_info %></span>',"</div>","<% } %>"],"dataset"),i[d.a.NEW]=f.a.wrapTemplate(["<div>",m()("This is a new dataset and not all of its data are available yet"),"</div>"],"dataset"),i[d.a.NOT_VIEWABLE]=f.a.wrapTemplate(["<div>",m()("You do not have permission to view this dataset"),"</div>"],"dataset"),i[d.a.DISCARDED]=f.a.wrapTemplate(["<div>",m()("The job creating this dataset was cancelled before completion"),"</div>"],"dataset"),i[d.a.QUEUED]=f.a.wrapTemplate(["<div>",m()("This job is waiting to run"),"</div>"],"dataset"),i[d.a.RUNNING]=f.a.wrapTemplate(["<div>",m()("This job is currently running"),"</div>"],"dataset"),i[d.a.UPLOAD]=f.a.wrapTemplate(["<div>",m()("This dataset is currently uploading"),"</div>"],"dataset"),i[d.a.SETTING_METADATA]=f.a.wrapTemplate(["<div>",m()("Metadata is being auto-detected"),"</div>"],"dataset"),i[d.a.PAUSED]=f.a.wrapTemplate(["<div>",m()('This job is paused. Use the "Resume Paused Jobs" in the history menu to resume'),"</div>",'<div class="info"><%- dataset.misc_info %></div>'],"dataset"),i[d.a.ERROR]=f.a.wrapTemplate(["<% if( !dataset.purged ){ %>","<div><%- dataset.misc_blurb %></div>","<% } %>",'<span class="help-text">',m()("An error occurred with this dataset"),":</span>",'<div class="job-error-text"><%- dataset.misc_info %></div>'],"dataset"),i[d.a.EMPTY]=f.a.wrapTemplate(["<div>",m()("No data"),": <i><%- dataset.misc_blurb %></i></div>"],"dataset"),i.unknown=f.a.wrapTemplate(['<div>Error: unknown dataset state: "<%- dataset.state %>"</div>'],"dataset");var o={resubmitted:f.a.wrapTemplate(["<% if( model.resubmitted ){ %>",'<div class="resubmitted-msg infomessagesmall">',m()("The job creating this dataset has been resubmitted"),"</div>","<% } %>"])},a=f.a.wrapTemplate(["<% _.each( apps, function( app ){ %>",'<div class="display-application">','<span class="display-application-location"><%- app.label %></span> ','<span class="display-application-links">',"<% _.each( app.links, function( link ){ %>",'<a target="<%- link.target %>" href="<%- link.href %>">',"<% print( _l( link.text ) ); %>","</a> ","<% }); %>","</span>","</div>","<% }); %>"],"apps");return r.a.extend({},g.prototype.templates,{warnings:e,details:t,noAccess:n,summaries:i,detailMessages:o,displayApplications:a})}(),t.b={DatasetListItemView:_}},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(5),d=n(1),h=n.n(d),f=n(26),p=n(583),m=n(42),g=n(33),_=function(e,t){this.slot=e,this.feature=t},v=function(e,t,n,i){this.slots={},this.start_end_dct={},this.w_scale=e,this.mode=t,this.include_label="Pack"===t,this.max_rows=n,this.measureText=i};(0,g.extend)(v.prototype,{_get_draw_coords:function(e){var t=Math.floor(e[1]*this.w_scale),n=Math.ceil(e[2]*this.w_scale),i=e[3];if(void 0!==i&&this.include_label){var r=this.measureText(i).width+7;t-r>=0?t-=r:n+=r}return[t,n]},_find_slot:function(e){for(var t=e[0],n=e[1],i=0;i<=this.max_rows;i++){var r=!1,o=this.start_end_dct[i];if(void 0!==o)for(var a=0,s=o.length;a<s;a++){var l=o[a];if(n>l[0]&&t<l[1]){r=!0;break}}if(!r)return i}return-1},slot_features:function(e){for(var t,n,i=this.start_end_dct,r=[],o=0,a=0,s=e.length;a<s;a++){n=(t=e[a])[0];var l=this.slots[n];if(l){if(t[1]<l.feature[1]||l.feature[2]<t[2])for(var c=this._get_draw_coords(l.feature),u=this._get_draw_coords(t),d=this.start_end_dct[l.slot],h=0;h<d.length;h++){var f=d[h];f[0]===c[0]&&f[1]===c[1]&&(d[h]=u)}o=Math.max(o,this.slots[n].slot)}else r.push(a)}for(var p=0,m=r.length;p<m;p++){n=(t=e[r[p]])[0];var g=this._get_draw_coords(t),v=this._find_slot(g);v>=0&&(void 0===i[v]&&(i[v]=[]),i[v].push(g),this.slots[n]=new _(v,t),o=Math.max(o,v))}return o+1}});var y=v;function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function T(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}var L=1001,E=1002,D=1003,O=1004,A=1005,Y=1006;function R(e,t){var n=e[0],i=e[1],r=t[0],o=t[1];return n<r?i<=r?L:i<=o?D:E:n>o?Y:i<=o?A:O}function j(e,t){var n=R(e,t);return n!==L&&n!==Y}function P(e,t,n,i){var r=t-i/2,o=t+i/2,a=n-Math.sqrt(3*i/2);e.beginPath(),e.moveTo(r,a),e.lineTo(o,a),e.lineTo(t,n),e.lineTo(r,a),e.strokeStyle=this.fillStyle,e.fill(),e.stroke(),e.closePath()}var N=function(){function e(t){C(this,e),this.default_val=t||1}return T(e,[{key:"gen_val",value:function(e){return this.default_val}}]),e}(),H=function(){function e(t,n,i,r,o){C(this,e),this.data=t,this.default_prefs={},this.view_start=n,this.view_end=i,this.prefs=g.extend({},this.default_prefs,r),this.mode=o}return T(e,[{key:"draw",value:function(e,t,n,i){}},{key:"get_start_draw_pos",value:function(e,t){return this._chrom_pos_to_draw_pos(e,t,-.5)}},{key:"get_end_draw_pos",value:function(e,t){return this._chrom_pos_to_draw_pos(e,t,.5)}},{key:"get_draw_pos",value:function(e,t){return this._chrom_pos_to_draw_pos(e,t,0)}},{key:"_chrom_pos_to_draw_pos",value:function(e,t,n){return Math.floor(t*(Math.max(0,e-this.view_start)+n))}}],[{key:"default_prefs",get:function(){return{}}}]),e}(),I=function(e){function t(e,n,i,r,o){return C(this,t),w(this,k(t).call(this,e,n,i,r,o))}return M(t,H),T(t,[{key:"draw",value:function(e,t,n,i){var r=!1,o=this.prefs.min_value,a=this.prefs.max_value,s=a-o,l=n,c=this.view_start,u=this.mode,d=this.data;e.save();var h,f,p,m=Math.round(n+o/s*n);"Intensity"!==u&&(e.fillStyle="#aaa",e.fillRect(0,m,t,1)),e.beginPath(),p=d.length>1?g.map(d.slice(0,-1),function(e,t){return Math.ceil((d[t+1][0]-d[t][0])*i)}):[10];for(var _,v=this.prefs.block_color||this.prefs.color,y=parseInt(v.slice(1),16),b=(16711680&y)>>16,w=(65280&y)>>8,k=255&y,M=!1,x=!1,C=0,S=d.length;C<S;C++)if(e.fillStyle=e.strokeStyle=v,M=x=!1,_=p[C],h=Math.floor((d[C][0]-c-.5)*i),null!==(f=d[C][1])){if(f<o?(x=!0,f=o):f>a&&(M=!0,f=a),"Histogram"===u)f=Math.round(f/s*l),e.fillRect(h,m,_,-f);else if("Intensity"===u){var T=(f-o)/s,L=Math.round(b+(255-b)*(1-T)),E=Math.round(w+(255-w)*(1-T)),D=Math.round(k+(255-k)*(1-T));e.fillStyle="rgb(".concat(L,",").concat(E,",").concat(D,")"),e.fillRect(h,0,_,l)}else f=Math.round(l-(f-o)/s*l),r?e.lineTo(h,f):(r=!0,"Filled"===u?(e.moveTo(h,l),e.lineTo(h,f)):e.moveTo(h,f));var O;if(e.fillStyle=this.prefs.overflow_color,M||x)"Histogram"===u||"Intensity"===u?O=_:(h-=2,O=4),M&&e.fillRect(h,0,O,3),x&&e.fillRect(h,l-3,O,3);e.fillStyle=v}else r&&"Filled"===u&&e.lineTo(h,l),r=!1;"Filled"===u?(r&&(e.lineTo(h,m),e.lineTo(0,m)),e.fill()):e.stroke(),e.restore()}}],[{key:"default_prefs",get:function(){return{min_value:void 0,max_value:void 0,mode:"Histogram",color:"#000",overflow_color:"#F66"}}}]),t}(),F=function(){function e(t){C(this,e),this.feature_positions={},this.slot_height=t,this.translation=0,this.y_translation=0}return T(e,[{key:"map_feature_data",value:function(e,t,n,i){this.feature_positions[t]||(this.feature_positions[t]=[]),this.feature_positions[t].push({data:e,x_start:n,x_end:i})}},{key:"get_feature_data",value:function(e,t){var n,i=Math.floor((t-this.y_translation)/this.slot_height);if(!this.feature_positions[i])return null;e+=this.translation;for(var r=0;r<this.feature_positions[i].length;r++)if(e>=(n=this.feature_positions[i][r]).x_start&&e<=n.x_end)return n.data}}]),e}(),$=function(e){function t(e,n,i,r,o,a,s){var l;return C(this,t),(l=w(this,k(t).call(this,e,n,i,r,o))).alpha_scaler=a||new N,l.height_scaler=s||new N,l.max_label_length=200,l}return M(t,H),T(t,[{key:"get_required_height",value:function(e,t){var n=this.get_row_height(),i=n,r=this.mode;return"no_detail"!==r&&"Squish"!==r&&"Pack"!==r||(n=e*i),n+this.get_top_padding(t)}},{key:"get_top_padding",value:function(e){return 0}},{key:"draw",value:function(e,t,n,i,r){e.save(),e.fillStyle=this.prefs.block_color,e.textAlign="right";for(var o,a=this.get_row_height(),s=new F(a),l=[],c=0,u=this.data.length;c<u;c++){var d=this.data[c],h=d[0],f=d[1],p=d[2],m=r&&void 0!==r[h]?r[h].slot:null;("Dense"===this.mode||null!==m)&&f<this.view_end&&p>this.view_start&&(o=this.draw_element(e,this.mode,d,m,this.view_start,this.view_end,i,a,t),s.map_feature_data(d,m,o[0],o[1]),(f<this.view_start||p>this.view_end)&&l.push(d))}return e.restore(),s.y_translation=this.get_top_padding(t),new function e(t){C(this,e),this.incomplete_features=t.incomplete_features,this.feature_mapper=t.feature_mapper}({incomplete_features:l,feature_mapper:s})}},{key:"draw_element",value:function(e,t,n,i,r,o,a,s,l){return[0,0]}}],[{key:"default_prefs",get:function(){return{block_color:"#FFF",connector_color:"#FFF"}}}]),t}(),W=function(e){function t(e,n,i,r,o,a,s){var l;return C(this,t),(l=w(this,k(t).call(this,e,n,i,r,o,a,s))).draw_background_connector=!0,l.draw_individual_connectors=!1,l}return M(t,$),T(t,[{key:"get_row_height",value:function(){var e=this.mode;return"Dense"===e?10:"no_detail"===e?3:"Squish"===e?5:10}},{key:"draw_element",value:function(e,t,n,i,r,o,a,s,l){var c=n[1],u=n[2],d=n[3],h=n[4],f=Math.floor(Math.max(0,(c-r-.5)*a)),p=Math.ceil(Math.min(l,Math.max(0,(u-r-.5)*a))),m=f,g=p,_=("Dense"===t?0:0+i)*s+this.get_top_padding(l),v=null,y=null,b=h&&"+"!==h&&"."!==h?this.prefs.reverse_strand_color:this.prefs.block_color,w=this.prefs.label_color;if(e.globalAlpha=this.alpha_scaler.gen_val(n),"Dense"===t&&(i=1),"no_detail"===t)e.fillStyle=b,e.fillRect(f,_+5,p-f,1);else{var k,M,x=n[5],C=n[6],S=n[7],T=!0;if(x&&C&&(v=Math.floor(Math.max(0,(x-r)*a)),y=Math.ceil(Math.min(l,Math.max(0,(C-r)*a)))),"Squish"===t?(k=1,M=3,T=!1):(k=5,M=9),S){var L,E;"Squish"===t||"Dense"===t?(L=_+Math.floor(1.5)+1,E=1):h?(L=_,E=M):(L+=2.5,E=1),this.draw_background_connector&&("Squish"===t||"Dense"===t?e.fillStyle="#ccc":h?"+"===h?e.fillStyle=e.canvas.manager.get_pattern("right_strand"):"-"===h&&(e.fillStyle=e.canvas.manager.get_pattern("left_strand")):e.fillStyle="#ccc",e.fillRect(f,L,p-f,E));for(var D=0,O=S.length;D<O;D++){var A,Y,R=S[D],j=Math.floor(Math.max(0,(R[0]-r-.5)*a)),P=Math.ceil(Math.min(l,Math.max((R[1]-r-.5)*a)));if(!(j>P)){if(e.fillStyle=b,e.fillRect(j,_+(M-k)/2+1,P-j,k),void 0!==v&&C>x&&!(j>y||P<v)){var N=Math.max(j,v),H=Math.min(P,y);e.fillRect(N,_+1,H-N,M),1===S.length&&"Pack"===t&&("+"===h?e.fillStyle=e.canvas.manager.get_pattern("right_strand_inv"):"-"===h&&(e.fillStyle=e.canvas.manager.get_pattern("left_strand_inv")),N+14<H&&(N+=2,H-=2),e.fillRect(N,_+1,H-N,M))}this.draw_individual_connectors&&A&&this.draw_connector(e,A,Y,j,P,_),A=j,Y=P}}if("Pack"===t){e.globalAlpha=1,e.fillStyle="white";var I=this.height_scaler.gen_val(n),F=Math.ceil(M*I),$=Math.round((M-F)/2);1!==I&&(e.fillRect(f,L+1,p-f,$),e.fillRect(f,L+M-$+1,p-f,$))}}else e.fillStyle=b,e.fillRect(f,_+1,p-f,M),h&&T&&("+"===h?e.fillStyle=e.canvas.manager.get_pattern("right_strand_inv"):"-"===h&&(e.fillStyle=e.canvas.manager.get_pattern("left_strand_inv")),e.fillRect(f,_+1,p-f,M));e.globalAlpha=1,d&&"Pack"===t&&c>r&&(e.fillStyle=w,0===r&&f-e.measureText(d).width<0?(e.textAlign="left",e.fillText(d,p+2,_+8,this.max_label_length),g+=e.measureText(d).width+2):(e.textAlign="right",e.fillText(d,f-2,_+8,this.max_label_length),m-=e.measureText(d).width+2))}return e.globalAlpha=1,[m,g]}}]),t}(),z=function(e){function t(e,n,i,r,o,a,s,l,c){var u;return C(this,t),(u=w(this,k(t).call(this,e,n,i,r,o,a,s))).ref_seq=l?l.data:null,u.base_color_fn=c,u}return M(t,$),T(t,[{key:"get_row_height",value:function(){var e,t=this.mode;return"Dense"===t?e=10:"Squish"===t?e=5:(e=10,this.prefs.show_insertions&&(e*=2)),e}},{key:"_parse_cigar",value:function(e){var t=[[0,0]],n=t[0],i=0,r=g.map(e.match(/[0-9]+[MIDNSHP=X]/g),function(e){var r=parseInt(e.slice(0,-1),10),o=e.slice(-1);return"N"===o?0!==n[1]&&(n=[i+r,i+r],t.push(n)):-1==="ISHP".indexOf(o)&&(n[1]+=r,i+=r),["MIDNSHP=X".indexOf(o),r]});return{blocks:t,cigar:r}}},{key:"draw_read",value:function(e,t,n,i,r,o,a,s,l,c){var u=function(e,t,n){return-1!=="M=NXD".indexOf(t)&&(e+=n),e},d=function(e,t,n){return-1!=="IX".indexOf(t)&&(e+=n),e},h=function(e){return Math.floor(Math.max(0,(e-r-.5)*n))};e.textAlign="center";var f,p,m,g,_,v,y=[r,o],b=0,w=0,k=Math.round(n/2),M=e.canvas.manager.char_width_px,x="+"===l?this.prefs.detail_block_color:this.prefs.reverse_strand_color,C="Pack"===t,S=C?9:3,T=i+1,L=new J(e,S,n,t),Y=[],N=this._parse_cigar(s);s=N.cigar,f=N.blocks;for(var H=0;H<f.length;H++){var I=f[H];j([a+I[0],a+I[1]],y)&&((p=h(a+I[0]))===(m=h(a+I[1]))&&(m+=1),e.fillStyle=x,e.fillRect(p,T,m-p,S))}for(var F=0,$=s.length;F<$;F++){var W=s[F],z="MIDNSHP=X"[W[0]],B=W[1],V=a+b;if(p=h(V),m=h(V+B),j([V,V+B],y))switch(p===m&&(m+=1),z){case"H":case"S":case"P":break;case"M":b+=B;break;case"=":case"X":var U="";"X"===z?U=c.slice(w,w+B):this.ref_seq&&(U=this.ref_seq.slice(Math.max(0,V-r),Math.min(V-r+B,o-r)));for(var q=Math.max(V,r),G=0;G<U.length;G++)if(U&&!this.prefs.show_differences||"X"===z){var K=Math.floor(Math.max(0,(q+G-r)*n));e.fillStyle=this.base_color_fn(U[G]),C&&n>M?e.fillText(U[G],K,i+9):n>.05&&e.fillRect(K-k,T,Math.max(1,Math.round(n)),S)}"X"===z&&(w+=B),b+=B;break;case"N":e.fillStyle="#ccc",e.fillRect(p,T+(S-1)/2,m-p,1),b+=B;break;case"D":L.draw_deletion(p,T,B),b+=B;break;case"I":var X=p-k;if(j([V,V+B],y)){var Q=c.slice(w,w+B);if(this.prefs.show_insertions){var Z=p-(m-p)/2;if(("Pack"===t||"Auto"===this.mode)&&void 0!==c&&n>M){switch(e.fillStyle="yellow",e.fillRect(Z-k,i-9,m-p,9),Y[Y.length]={type:"triangle",data:[X,i+4,5]},e.fillStyle="#ccc",R([V,V+B],y)){case D:Q=Q.slice(r-V);break;case O:Q=Q.slice(0,V-o);break;case A:break;case E:Q=Q.slice(r-V,V-o)}for(var ee=0,te=Q.length;ee<te;ee++){var ne=Math.floor(Math.max(0,(V+ee-r)*n));e.fillText(Q[ee],ne-(m-p)/2,i)}}else e.fillStyle="yellow",e.fillRect(Z,i+("Dense"!==this.mode?2:5),m-p,"Dense"!==t?3:9)}else("Pack"===t||"Auto"===this.mode)&&void 0!==c&&n>M&&Y.push({type:"text",data:[Q.length,X,i+9]})}w+=B}else b=u(b,z,B),w=d(w,z,B)}e.fillStyle="yellow";for(var ie=0;ie<Y.length;ie++)_=(g=Y[ie]).type,v=g.data,"text"===_?(e.save(),e.font="bold ".concat(e.font),e.fillText(v[0],v[1],v[2]),e.restore()):"triangle"===_&&P(e,v[0],v[1],v[2])}},{key:"draw_element",value:function(e,t,n,i,r,o,a,s,l){var c=n[1],u=n[2],d=n[3],h=Math.floor(Math.max(-.5*a,(c-r-.5)*a)),f=Math.ceil(Math.min(l,Math.max(0,(u-r-.5)*a))),p=("Dense"===t?0:0+i)*s,m="Pack"===t?9:3;if(n[5]instanceof Array){var g=!0;n[4][1]>=r&&n[4][0]<=o&&n[4][2]?this.draw_read(e,t,a,p,r,o,n[4][0],n[4][2],n[4][3],n[4][4]):g=!1,n[5][1]>=r&&n[5][0]<=o&&n[5][2]?this.draw_read(e,t,a,p,r,o,n[5][0],n[5][2],n[5][3],n[5][4]):g=!1;var _=Math.ceil(Math.min(l,Math.max(-.5*a,(n[4][1]-r-.5)*a))),v=Math.floor(Math.max(-.5*a,(n[5][0]-r-.5)*a));if(g&&v>_){e.fillStyle="#ccc";var y=p+1+(m-1)/2;!function(e,t,n,i,r,o){void 0===o&&(o=4);var a,s=i-t,l=r-n,c=Math.floor(Math.sqrt(s*s+l*l)/o),u=s/c,d=l/c;for(a=0;a<c;a++,t+=u,n+=d)a%2==0&&e.fillRect(t,n,o,1)}(e,_,y,v,y)}}else this.draw_read(e,t,a,p,r,o,c,n[4],n[5],n[6]);return"Pack"===t&&c>=r&&"."!==d&&(e.fillStyle=this.prefs.label_color,0===r&&h-e.measureText(d).width<0?(e.textAlign="left",e.fillText(d,f+2,p+9,this.max_label_length)):(e.textAlign="right",e.fillText(d,h-2,p+9,this.max_label_length))),[0,0]}}]),t}(),B=function(e){function t(e,n,i,r,o,a,s){var l;return C(this,t),(l=w(this,k(t).call(this,e,n,i,r,o,a,s))).longest_feature_length=l.calculate_longest_feature_length(),l.draw_background_connector=!1,l.draw_individual_connectors=!0,l}return M(t,W),T(t,[{key:"calculate_longest_feature_length",value:function(){for(var e=0,t=0,n=this.data.length;t<n;t++){var i=this.data[t],r=i[1],o=i[2];e=Math.max(e,o-r)}return e}},{key:"get_top_padding",value:function(e){var t=e/(this.view_end-this.view_start);return Math.min(128,Math.ceil(this.longest_feature_length/2*t))}},{key:"draw_connector",value:function(e,t,n,i,r,o){var a=(n+i)/2;i-a>0&&(e.beginPath(),e.arc(a,o,i-a,Math.PI,0),e.stroke())}}]),t}(),V=function(){function e(t,n){C(this,e),Array.isArray(t)?this.rgb=t:6==t.length?this.rgb=t.match(/.{2}/g).map(function(e){return parseInt(e,16)}):7==t.length?this.rgb=t.substring(1,7).match(/.{2}/g).map(function(e){return parseInt(e,16)}):this.rgb=t.split("").map(function(e){return parseInt(e+e,16)}),this.alpha="number"==typeof n?n:1}return T(e,[{key:"eval",value:function(){return this}},{key:"toCSS",value:function(){return this.alpha<1?"rgba(".concat(this.rgb.map(function(e){return Math.round(e)}).concat(this.alpha).join(", "),")"):"#".concat(this.rgb.map(function(e){return 1===(e=((e=Math.round(e))>255?255:e<0?0:e).toString(16)).length?"0".concat(e):e}).join(""))}},{key:"toHSL",value:function(){var e,t,n=this.rgb[0]/255,i=this.rgb[1]/255,r=this.rgb[2]/255,o=this.alpha,a=Math.max(n,i,r),s=Math.min(n,i,r),l=(a+s)/2,c=a-s;if(a===s)e=t=0;else{switch(t=l>.5?c/(2-a-s):c/(a+s),a){case n:e=(i-r)/c+(i<r?6:0);break;case i:e=(r-n)/c+2;break;case r:e=(n-i)/c+4}e/=6}return{h:360*e,s:t,l:l,a:o}}},{key:"toARGB",value:function(){var e=[Math.round(255*this.alpha)].concat(this.rgb);return"#".concat(e.map(function(e){return 1===(e=((e=Math.round(e))>255?255:e<0?0:e).toString(16)).length?"0".concat(e):e}).join(""))}},{key:"mix",value:function(t,n){var i=n,r=2*i-1,o=this.toHSL().a-t.toHSL().a,a=((r*o==-1?r:(r+o)/(1+r*o))+1)/2,s=1-a;return new e([this.rgb[0]*a+t.rgb[0]*s,this.rgb[1]*a+t.rgb[1]*s,this.rgb[2]*a+t.rgb[2]*s],this.alpha*i+t.alpha*(1-i))}}]),e}(),U=function(){function e(t,n,i,r){C(this,e),this.start_color=new V(t),this.end_color=new V(n),this.start_value=i,this.end_value=r,this.value_range=r-i}return T(e,[{key:"map_value",value:function(e){return e=Math.max(e,this.start_value),e=((e=Math.min(e,this.end_value))-this.start_value)/this.value_range,this.start_color.mix(this.end_color,1-e).toCSS()}}]),e}(),q=function(){function e(t,n,i,r,o){C(this,e),this.positive_ramp=new U(n,i,0,o),this.negative_ramp=new U(n,t,0,-r),this.start_value=r,this.end_value=o}return T(e,[{key:"map_value",value:function(e){return e=Math.max(e,this.start_value),(e=Math.min(e,this.end_value))>=0?this.positive_ramp.map_value(e):this.negative_ramp.map_value(-e)}}]),e}(),G=function(e){function t(e,n,i,r,o){var a,s,l;if(C(this,t),void 0===(a=w(this,k(t).call(this,e,n,i,r,o))).prefs.min_value){var c=1/0;for(s=0,l=a.data.length;s<l;s++)c=Math.min(c,a.data[s][6]);a.prefs.min_value=c}if(void 0===a.prefs.max_value){var u=-1/0;for(s=0,l=a.data.length;s<l;s++)u=Math.max(u,a.data[s][6]);a.prefs.max_value=u}return a}return M(t,H),T(t,[{key:"draw",value:function(e,t,n,i){var r,o,a,s,l,c,u=this.prefs.min_value,d=this.prefs.max_value,h=this.view_start,f=1/Math.sqrt(2),p=new q(this.prefs.neg_color,"#FFFFFF",this.prefs.pos_color,u,d),m=function(e){return(e-h)*i};e.save(),e.rotate(-45*Math.PI/180),e.scale(f,f);for(var g=0,_=this.data.length;g<_;g++)o=m((r=this.data[g])[1]),a=m(r[2]),s=m(r[4]),l=m(r[5]),c=r[6],e.fillStyle=p.map_value(c),e.fillRect(o,s,a-o,l-s);e.restore()}}],[{key:"default_prefs",get:function(){return{min_value:void 0,max_value:void 0,mode:"Heatmap",pos_color:"#FF8C00",neg_color:"#4169E1"}}}]),t}(),J=function(){function e(t,n,i,r){C(this,e),this.ctx=t,this.row_height=n,this.px_per_base=i,this.draw_details=("Pack"===r||"Auto"===r)&&i>=t.canvas.manager.char_width_px,this.delete_details_thickness=.2}return T(e,[{key:"draw_deletion",value:function(e,t,n){this.ctx.fillStyle="black";var i=(this.draw_details?this.delete_details_thickness:1)*this.row_height;t+=.5*(this.row_height-i),this.ctx.fillRect(e,t,n*this.px_per_base,i)}}]),e}(),K={Scaler:N,LinePainter:I,LinkedFeaturePainter:W,ReadPainter:z,ArcLinkedFeaturePainter:B,DiagonalHeatmapPainter:G,VariantPainter:function(e){function t(e,n,i,r,o,a){var s;return C(this,t),(s=w(this,k(t).call(this,e,n,i,r,o))).base_color_fn=a,s.divider_height=1,s}return M(t,H),T(t,[{key:"get_row_height",value:function(){var e=this.mode;return"Dense"===e?10:"Squish"===e?5:10}},{key:"get_required_height",value:function(e){var t=this.prefs.summary_height;return e>1&&this.prefs.show_sample_data&&(t+=this.divider_height+e*this.get_row_height()),t}},{key:"draw",value:function(e,t,n,i){e.save();var r,o,a,s,l,c,u,d,h,f,p,m=function(e,t){var n=e.length,i=t.length,r=0,o=1,a=null;return"-"===t?(a="deletion",o=e.length):0===e.indexOf(t)&&n>i?(a="deletion",o=n-i,r=i):0===t.indexOf(e)&&n<i&&(a="insertion",o=i-n,r=i),null!==a?{type:a,start:r,len:o}:{}},_=Math.max(1,Math.floor(i)),v=this.data.length?this.data[0][7].split(",").length:0,y="Squish"===this.mode?5:10,b=i<.1?y:"Squish"===this.mode?3:9,w=!0,k=new J(e,y,i,this.mode);1===v&&(y=b=i<e.canvas.manager.char_width_px?this.prefs.summary_height:y,k.row_height=y,w=!1),this.prefs.show_sample_data&&w&&(e.fillStyle="#F3F3F3",e.globalAlpha=1,e.fillRect(0,this.prefs.summary_height-this.divider_height,t,this.divider_height)),e.textAlign="center";for(var M=0;M<this.data.length;M++)if(o=(r=this.data[M])[1],a=r[3],s=[r[4].split(",")],l=r[7].split(","),c=r.slice(8),s=g.map(g.flatten(s),function(e){var t={type:"snp",value:e,start:0},n=m(a,e);return g.extend(t,n)}),!(o<this.view_start||o>this.view_end)){if(w)for(e.fillStyle="#999999",e.globalAlpha=1,p=0;p<s.length;p++)for(d=this.get_start_draw_pos(o+s[p].start,i),e.fillRect(d,0,_,this.prefs.summary_height),h=this.prefs.summary_height,p=0;p<s.length;p++){e.fillStyle="deletion"===s[p].type?"black":this.base_color_fn(s[p].value);var x=c/l.length,C=Math.ceil(this.prefs.summary_height*x);e.fillRect(d,h-C,_,C),h-=C}if(this.prefs.show_sample_data)for(h=w?this.prefs.summary_height+this.divider_height:0,p=0;p<l.length;p++,h+=y)if(u=null,(f=l[p]?l[p].split(/\/|\|/):["0","0"])[0]===f[1]?"."===f[0]||"0"!==f[0]&&(u=s[parseInt(f[0],10)-1],e.globalAlpha=1):(u="0"!==f[0]?f[0]:f[1],u=s[parseInt(u,10)-1],e.globalAlpha=.5),u)if(d=this.get_start_draw_pos(o+u.start,i),"snp"===u.type){var S=u.value;e.fillStyle=this.base_color_fn(S),k.draw_details?e.fillText(S,this.get_draw_pos(o,i),h+y):e.fillRect(d,h+1,_,b)}else"deletion"===u.type&&k.draw_deletion(d,h+1,u.len)}e.restore()}}]),t}()},X=n(410),Q=n(32),Z=n(58),ee=n(70),te=n(584),ne={BBIDataManager:f.a.GenomeDataManager.extend({load_data:function(e,t,n,i){var r=a.a.Deferred();this.set_data(e,r);var o="".concat(Object(c.a)(),"datasets/").concat(this.get("dataset").id,"/display"),s=this;new a.a.Deferred;return a.a.when(te.makeBwg(o)).then(function(t,n){a.a.when(t.readWigData(e.get("chrom"),e.get("start"),e.get("end"))).then(function(t){var n=[],i={max:Number.MIN_VALUE};t.forEach(function(e){i.max!==e.min-1&&(n.push([i.max+1,0]),n.push([e.min-2,0])),n.push([e.min-1,e.score]),n.push([e.max,e.score]),i=e});var o={data:n,region:e,dataset_type:"bigwig"};s.set_data(e,o),r.resolve(o)})}),r}})},ie=(n(381),r.a.extend),re={};function oe(e,t){re[e.attr("id")]=t}function ae(e,t,n,i){re[e.attr("id")]=i,e.bind("drag",{handle:".".concat(t),relative:!0},function(e,t){var n,i,r,o,s,l=a()(this).parent(),c=l.children(".track,.group"),u=re[a()(this).attr("id")];if(0!==(i=a()(this).parents(".group")).length){o=(r=i.position().top)+i.outerHeight();var d=re[i.attr("id")];if(t.offsetY<r)return a()(this).insertBefore(i),d.remove_drawable(u),void d.container.add_drawable_before(u,d);if(t.offsetY>o)return a()(this).insertAfter(i),d.remove_drawable(u),void d.container.add_drawable(u)}for(i=null,s=0;s<c.length;s++)if(o=(r=(n=a()(c.get(s))).position().top)+n.outerHeight(),n.is(".group")&&this!==n.get(0)&&t.offsetY>=r&&t.offsetY<=o)return t.offsetY-r<o-t.offsetY?n.find(".content-div").prepend(this):n.find(".content-div").append(this),u.container&&u.container.remove_drawable(u),void re[n.attr("id")].add_drawable(u);for(s=0;s<c.length&&(n=a()(c.get(s)),!(t.offsetY<n.position().top)||n.hasClass("reference-track")||n.hasClass("intro"));s++);s===c.length?this!==c.get(s-1)&&(l.append(this),re[l.attr("id")].move_drawable(u,s)):this!==c.get(s)&&(a()(this).insertBefore(c.get(s)),re[l.attr("id")].move_drawable(u,t.deltaY>0?s-1:s))}).bind("dragstart",function(){a()(this).addClass("dragging")}).bind("dragend",function(){a()(this).removeClass("dragging")})}var se="A converter for this dataset is not installed. Please check your datatypes_conf.xml file.",le=["Histogram","Line","Filled","Intensity"];function ce(e,t){t||(t=0);var n=Math.pow(10,t);return Math.round(e*n)/n}var ue=function e(t,n,i){if(e.id_counter||(e.id_counter=0),this.id=e.id_counter++,this.view=t,this.container=n,this.drag_handle_class=i.drag_handle_class,this.is_overview=!1,this.action_icons={},this.config=ee.a.ConfigSettingCollection.from_models_and_saved_values(this.build_config_params(),i.prefs),this.config.get_value("name")||this.config.set_value("name",i.name),this.config_onchange&&this.config.on("change",this.config_onchange,this),this.container_div=this.build_container_div(),this.header_div=null,!1!==i.header){var r=new p.a.TrackHeaderView({model:this,id:this.id});this.header_div=r.$el,this.container_div.append(this.header_div);var o=r.icons_div;this.action_icons=r.action_icons,this.container_div.hover(function(){o.show()},function(){o.hide()})}};ue.prototype.action_icons_def=[{name:"toggle_icon",title:"Hide/show content",css_class:"toggle",on_click_fn:function(e){e.config.get_value("content_visible")?(e.action_icons.toggle_icon.addClass("toggle-expand").removeClass("toggle"),e.hide_contents(),e.config.set_value("content_visible",!1)):(e.action_icons.toggle_icon.addClass("toggle").removeClass("toggle-expand"),e.config.set_value("content_visible",!0),e.show_contents())}},{name:"settings_icon",title:h()("Edit settings"),css_class:"gear",on_click_fn:function(e){new ee.a.ConfigSettingCollectionView({collection:e.config}).render_in_modal("Configure Track")}},{name:"remove_icon",title:h()("Remove"),css_class:"remove-icon",on_click_fn:function(e){a()(".tooltip").remove(),e.remove()}}],ie(ue.prototype,{config_params:[{key:"name",label:"Name",type:"text",default_value:""},{key:"content_visible",type:"bool",default_value:!0,hidden:!0}],build_config_params:function(){return this.config_params},config_onchange:function(){},init:function(){},changed:function(){this.view.changed()},can_draw:function(){return!(!this.enabled||!this.config.get_value("content_visible"))},request_draw:function(){},_draw:function(e){},to_dict:function(){},set_name:function(e){this.old_name=this.config.get_value("name"),this.config.set_value("name",e)},revert_name:function(){this.old_name&&this.config.set_value("name",this.old_name)},remove:function(){this.changed(),this.container.remove_drawable(this);var e=this.view;this.container_div.hide(0,function(){a()(this).remove(),e.update_intro_div()})},build_container_div:function(){},update_icons:function(){},hide_contents:function(){},show_contents:function(){},get_drawables:function(){}});var de=function(e,t,n){ue.call(this,e,t,n),this.obj_type=n.obj_type,this.drawables=[]};ie(de.prototype,ue.prototype,{unpack_drawables:function(e){var t;this.drawables=[];for(var n=0;n<e.length;n++)t=Ae(e[n],this.view,this),this.add_drawable(t)},init:function(){for(var e=0;e<this.drawables.length;e++)this.drawables[e].init()},_draw:function(e){for(var t=0;t<this.drawables.length;t++)this.drawables[t]._draw(e)},to_dict:function(){for(var e=[],t=0;t<this.drawables.length;t++)e.push(this.drawables[t].to_dict());return{prefs:this.config.to_key_value_dict(),obj_type:this.obj_type,drawables:e}},add_drawable:function(e){this.drawables.push(e),e.container=this,this.changed()},add_drawable_before:function(e,t){this.changed();var n=this.drawables.indexOf(t);return-1!==n&&(this.drawables.splice(n,0,e),!0)},replace_drawable:function(e,t,n){var i=this.drawables.indexOf(e);return-1!==i&&(this.drawables[i]=t,n&&e.container_div.replaceWith(t.container_div),this.changed()),i},remove_drawable:function(e){var t=this.drawables.indexOf(e);return-1!==t&&(this.drawables.splice(t,1),e.container=null,this.changed(),!0)},move_drawable:function(e,t){var n=this.drawables.indexOf(e);return-1!==n&&(this.drawables.splice(n,1),this.drawables.splice(t,0,e),this.changed(),!0)},get_drawables:function(){return this.drawables},get_tracks:function(e){for(var t,n=this.drawables.slice(0),i=[];0!==n.length;)(t=n.shift())instanceof e?i.push(t):t.drawables&&(n=n.concat(t.drawables));return i}});var he=function(e,t,n){if(ie(n,{obj_type:"DrawableGroup",drag_handle_class:"group-handle"}),de.call(this,e,t,n),this.content_div=a()("<div/>").addClass("content-div").attr("id","group_".concat(this.id,"_content_div")).appendTo(this.container_div),oe(this.container_div,this),oe(this.content_div,this),ae(this.container_div,this.drag_handle_class,0,this),this.filters_manager=new X.a.FiltersManager(this),this.header_div.after(this.filters_manager.parent_div),this.filters_manager.parent_div.after(a()("<div style='clear: both'/>")),this.saved_filters_managers=[],"drawables"in n&&this.unpack_drawables(n.drawables),"filters"in n){var i=this.filters_manager;this.filters_manager=new X.a.FiltersManager(this,n.filters),i.parent_div.replaceWith(this.filters_manager.parent_div),n.filters.visible&&this.setup_multitrack_filtering()}};ie(he.prototype,ue.prototype,de.prototype,{action_icons_def:[ue.prototype.action_icons_def[0],ue.prototype.action_icons_def[1],{name:"composite_icon",title:h()("Show composite track"),css_class:"layers-stack",on_click_fn:function(e){a()(".tooltip").remove(),e.show_composite_track()}},{name:"filters_icon",title:h()("Filters"),css_class:"ui-slider-050",on_click_fn:function(e){e.filters_manager.visible()?(e.filters_manager.clear_filters(),e._restore_filter_managers()):(e.setup_multitrack_filtering(),e.request_draw({clear_tile_cache:!0})),e.filters_manager.toggle()}},ue.prototype.action_icons_def[2]],build_container_div:function(){var e=a()("<div/>").addClass("group").attr("id","group_".concat(this.id));return this.container&&this.container.content_div.append(e),e},hide_contents:function(){this.tiles_div.hide()},show_contents:function(){this.tiles_div.show(),this.request_draw()},update_icons:function(){var e=this.drawables.length;if(0===e)this.action_icons.composite_icon.hide(),this.action_icons.filters_icon.hide();else if(1===e)this.action_icons.composite_icon.toggle(this.drawables[0]instanceof xe),this.action_icons.filters_icon.hide();else{var t,n,i,r=this.drawables[0].get_type(),o=0;for(t=0;t<e&&(i=this.drawables[t]).get_type()===r;t++)i instanceof Le&&o++;if(this.drawables[0]instanceof Se?this.action_icons.composite_icon.show():(this.action_icons.composite_icon.hide(),a()(".tooltip").remove()),o>1&&o===this.drawables.length){var s,l={};for(i=this.drawables[0],n=0;n<i.filters_manager.filters.length;n++)l[(s=i.filters_manager.filters[n]).name]=[s];for(t=1;t<this.drawables.length;t++)for(i=this.drawables[t],n=0;n<i.filters_manager.filters.length;n++)(s=i.filters_manager.filters[n]).name in l&&l[s.name].push(s);for(var c in this.filters_manager.remove_all(),l){var u=l[c];if(u.length===o){var d=new X.a.NumberFilter({name:u[0].name,index:u[0].index});this.filters_manager.add_filter(d)}}this.action_icons.filters_icon.toggle(this.filters_manager.filters.length>0)}else this.action_icons.filters_icon.hide()}},_restore_filter_managers:function(){for(var e=0;e<this.drawables.length;e++)this.drawables[e].filters_manager=this.saved_filters_managers[e];this.saved_filters_managers=[]},setup_multitrack_filtering:function(){if(this.filters_manager.filters.length>0){this.saved_filters_managers=[];for(var e=0;e<this.drawables.length;e++){var t=this.drawables[e];this.saved_filters_managers.push(t.filters_manager),t.filters_manager=this.filters_manager}}this.filters_manager.init_filters()},show_composite_track:function(){var e=new xe(this.view,this.view,{name:this.config.get_value("name"),drawables:this.drawables});this.container.replace_drawable(this,e,!0),e.request_draw()},add_drawable:function(e){de.prototype.add_drawable.call(this,e),this.update_icons()},remove_drawable:function(e){de.prototype.remove_drawable.call(this,e),this.update_icons()},to_dict:function(){this.filters_manager.visible()&&this._restore_filter_managers();var e=ie(de.prototype.to_dict.call(this),{filters:this.filters_manager.to_dict()});return this.filters_manager.visible()&&this.setup_multitrack_filtering(),e},request_draw:function(e){r.a.each(this.drawables,function(t){t.request_draw(e)})}});var fe=l.a.View.extend({initialize:function(e){ie(e,{obj_type:"View"}),de.call(this,"View",e.container,e),this.chrom=null,this.vis_id=e.vis_id,this.dbkey=e.dbkey,this.stand_alone=void 0===e.stand_alone||e.stand_alone,this.label_tracks=[],this.tracks_to_be_redrawn=[],this.max_low=0,this.max_high=0,this.zoom_factor=3,this.min_separation=30,this.has_changes=!1,this.load_chroms_deferred=null,this.render(),this.canvas_manager=new f.a.CanvasManager(this.container.get(0).ownerDocument),this.reset(),this.config=ee.a.ConfigSettingCollection.from_models_and_saved_values([{key:"name",label:"Name",type:"text",default_value:""},{key:"a_color",label:"A Color",type:"color",default_value:"#FF0000"},{key:"c_color",label:"C Color",type:"color",default_value:"#00FF00"},{key:"g_color",label:"G Color",type:"color",default_value:"#0000FF"},{key:"t_color",label:"T Color",type:"color",default_value:"#FF00FF"},{key:"n_color",label:"N Color",type:"color",default_value:"#AAAAAA"}],{name:e.name})},render:function(){this.requested_redraw=!1;var e=this.container,t=this;this.top_container=a()("<div/>").addClass("top-container").appendTo(e),this.browser_content_div=a()("<div/>").addClass("content").appendTo(e),this.bottom_container=a()("<div/>").addClass("bottom-container").appendTo(e),this.top_labeltrack=a()("<div/>").addClass("top-labeltrack").appendTo(this.top_container),this.viewport_container=a()("<div/>").addClass("viewport-container").attr("id","viewport-container").appendTo(this.browser_content_div),this.content_div=this.viewport_container,oe(this.viewport_container,t),this.intro_div=a()("<div/>").addClass("intro").appendTo(this.viewport_container),a()("<div/>").text("Add Datasets to Visualization").addClass("action-button").appendTo(this.intro_div).click(function(){f.a.select_datasets({dbkey:t.dbkey},function(e){r.a.each(e,function(e){t.add_drawable(Ae(e,t,t))})})}),this.nav_container=a()("<div/>").addClass("trackster-nav-container").prependTo(this.top_container),this.nav=a()("<div/>").addClass("trackster-nav").appendTo(this.nav_container),this.stand_alone&&(this.nav_container.addClass("stand-alone"),this.nav.addClass("stand-alone")),this.overview=a()("<div/>").addClass("overview").appendTo(this.bottom_container),this.overview_viewport=a()("<div/>").addClass("overview-viewport").appendTo(this.overview),this.overview_close=a()("<a/>").attr("title","Close overview").addClass("icon-button overview-close tooltip").hide().appendTo(this.overview_viewport),this.overview_highlight=a()("<div/>").addClass("overview-highlight").hide().appendTo(this.overview_viewport),this.overview_box_background=a()("<div/>").addClass("overview-boxback").appendTo(this.overview_viewport),this.overview_box=a()("<div/>").addClass("overview-box").appendTo(this.overview_viewport),this.default_overview_height=this.overview_box.height(),this.nav_controls=a()("<div/>").addClass("nav-controls").appendTo(this.nav),this.chrom_select=a()("<select/>").attr({name:"chrom"}).addClass("chrom-nav").append("<option value=''>Loading</option>").appendTo(this.nav_controls);this.nav_input=a()("<input/>").addClass("nav-input").hide().bind("keyup focusout",function(e){"focusout"!==e.type&&13!==(e.keyCode||e.which)&&27!==(e.keyCode||e.which)||(27!==(e.keyCode||e.which)&&t.go_to(a()(this).val()),a()(this).hide(),a()(this).val(""),t.location_span.show(),t.chrom_select.show()),e.stopPropagation()}).appendTo(this.nav_controls),this.location_span=a()("<span/>").addClass("location").attr("title","Click to change location").tooltip({placement:"bottom"}).appendTo(this.nav_controls),this.location_span.click(function(){t.location_span.hide(),t.chrom_select.hide(),t.nav_input.val("".concat(t.chrom,":").concat(t.low,"-").concat(t.high)),t.nav_input.css("display","inline-block"),t.nav_input.select(),t.nav_input.focus(),t.nav_input.autocomplete({source:function(e,n){var i=[],r=a.a.map(t.get_tracks(Le),function(t){return t.data_manager.search_features(e.term).success(function(e){i=i.concat(e)})});a.a.when.apply(a.a,r).done(function(){n(a.a.map(i,function(e){return{label:e[0],value:e[1]}}))})},minLength:2})}),void 0!==this.vis_id&&(this.hidden_input=a()("<input/>").attr("type","hidden").val(this.vis_id).appendTo(this.nav_controls)),this.zo_link=a()("<a/>").attr("id","zoom-out").attr("title","Zoom out").tooltip({placement:"bottom"}).click(function(){t.zoom_out()}).appendTo(this.nav_controls),this.zi_link=a()("<a/>").attr("id","zoom-in").attr("title","Zoom in").tooltip({placement:"bottom"}).click(function(){t.zoom_in()}).appendTo(this.nav_controls),this.load_chroms_deferred=this.load_chroms({low:0}),this.chrom_select.bind("change",function(){t.change_chrom(t.chrom_select.val())}),this.browser_content_div.click(function(e){a()(this).find("input").trigger("blur")}),this.browser_content_div.bind("dblclick",function(e){t.zoom_in(e.pageX,this.viewport_container)}),this.overview_box.bind("dragstart",function(e,t){this.current_x=t.offsetX}).bind("drag",function(e,n){var i=n.offsetX-this.current_x;this.current_x=n.offsetX;var r=Math.round(i/t.viewport_container.width()*(t.max_high-t.max_low));t.move_delta(-r)}),this.overview_close.click(function(){t.reset_overview()}),this.viewport_container.bind("draginit",function(e,n){if(e.clientX>t.viewport_container.width()-16)return!1}).bind("dragstart",function(e,n){n.original_low=t.low,n.current_height=e.clientY,n.current_x=n.offsetX}).bind("drag",function(e,n){var i=a()(this),r=n.offsetX-n.current_x,o=i.scrollTop()-(e.clientY-n.current_height);i.scrollTop(o),n.current_height=e.clientY,n.current_x=n.offsetX;var s=Math.round(r/t.viewport_container.width()*(t.high-t.low));t.move_delta(s)}),this.top_labeltrack.bind("dragstart",function(e,n){return a()("<div/>").addClass("zoom-area").css("height",t.browser_content_div.height()+t.top_labeltrack.height()+1).appendTo(a()(this))}).bind("drag",function(e,n){a()(n.proxy).css({left:Math.min(e.pageX,n.startX)-t.container.offset().left,width:Math.abs(e.pageX-n.startX)});var i=Math.min(e.pageX,n.startX)-t.container.offset().left,r=Math.max(e.pageX,n.startX)-t.container.offset().left,o=t.high-t.low,s=t.viewport_container.width();t.update_location(Math.round(i/s*o)+t.low,Math.round(r/s*o)+t.low)}).bind("dragend",function(e,n){var i=Math.min(e.pageX,n.startX),r=Math.max(e.pageX,n.startX),o=t.high-t.low,s=t.viewport_container.width(),l=t.low;t.low=Math.round(i/s*o)+l,t.high=Math.round(r/s*o)+l,a()(n.proxy).remove(),t.request_redraw()}),this.add_label_track(new Me(this,{content_div:this.top_labeltrack})),a()(window).bind("resize",function(){this.resize_timer&&window.clearTimeout(this.resize_timer),this.resize_timer=window.setTimeout(function(){t.resize_window()},500)}),a()(document).bind("redraw",function(){t.redraw()}),this.reset(),a()(window).trigger("resize")},get_base_color:function(e){return this.config.get_value("".concat(e.toLowerCase(),"_color"))||this.config.get_value("n_color")}});ie(fe.prototype,de.prototype,{changed:function(){this.has_changes=!0},update_intro_div:function(){this.intro_div.toggle(0===this.drawables.length)},trigger_navigate:function(e,t,n,i){var r=this;this.timer&&window.clearTimeout(this.timer),i?this.timer=window.setTimeout(function(){r.trigger("navigate","".concat(e,":").concat(t,"-").concat(n))},500):this.trigger("navigate","".concat(e,":").concat(t,"-").concat(n))},update_location:function(e,t){this.location_span.text("".concat(m.a.commatize(e)," - ").concat(m.a.commatize(t))),this.nav_input.val("".concat(this.chrom,":").concat(m.a.commatize(e),"-").concat(m.a.commatize(t)));var n=this.chrom_select.val();""!==n&&this.trigger_navigate(n,this.low,this.high,!0)},load_chroms:function(e){var t=this;e.num=100;var n=a.a.Deferred();return a.a.ajax({url:"".concat(Object(c.a)(),"api/genomes/").concat(this.dbkey),data:e,dataType:"json",success:function(e){if(0!==e.chrom_info.length){if(e.reference){var i=new Ce(t);t.add_label_track(i),t.reference_track=i}t.chrom_data=e.chrom_info,t.chrom_select.html(""),t.chrom_select.append(a()('<option value="">Select Chrom/Contig</option>'));for(var r=0,o=t.chrom_data.length;r<o;r++){var s=t.chrom_data[r].chrom,l=a()("<option>");l.text(s),l.val(s),t.chrom_select.append(l)}e.prev_chroms&&t.chrom_select.append(a()('<option value="previous">Previous '.concat(100,"</option>"))),e.next_chroms&&t.chrom_select.append(a()('<option value="next">Next '.concat(100,"</option>"))),t.chrom_start_index=e.start_index,n.resolve(e.chrom_info)}},error:function(){alert("Could not load chroms for this dbkey: ".concat(this.dbkey))}}),n},change_chrom:function(e,t,n){var i=this;if(i.chrom_data){if(e&&"None"!==e)if("previous"!==e)if("next"!==e){var r=a.a.grep(i.chrom_data,function(t,n){return t.chrom===e})[0];if(void 0!==r){if(e!==i.chrom){i.chrom=e,i.chrom_select.val(i.chrom),i.max_high=r.len-1,i.reset();for(var o=0,s=i.drawables.length;o<s;o++){var l=i.drawables[o];l.init&&l.init()}i.reference_track&&i.reference_track.init()}void 0===t&&void 0===n?(i.low=0,i.high=i.max_high):(i.low=void 0!==t?Math.max(t,0):0,void 0===n?(i.low=Math.max(i.low-15,0),i.high=i.low+30):i.high=Math.min(n,i.max_high)),i.request_redraw()}else i.load_chroms({chrom:e},function(){i.change_chrom(e,t,n)})}else i.load_chroms({low:this.chrom_start_index+100});else i.load_chroms({low:this.chrom_start_index-100})}else i.load_chroms_deferred.then(function(){i.change_chrom(e,t,n)})},go_to:function(e){var t=(e=(e=e.replace(/,/g,"")).replace(/:|-/g," ")).split(/\s+/),n=t[0],i=t[1]?parseInt(t[1],10):void 0,r=t[2]?parseInt(t[2],10):void 0;this.change_chrom(n,i,r)},move_fraction:function(e){var t=this.high-this.low;this.move_delta(e*t)},move_delta:function(e){var t=this,n=t.high-t.low;t.low-e<t.max_low?(t.low=t.max_low,t.high=t.max_low+n):t.high-e>t.max_high?(t.high=t.max_high,t.low=t.max_high-n):(t.high-=e,t.low-=e),t.request_redraw({data_fetch:!1}),this.redraw_on_move_fn&&window.clearTimeout(this.redraw_on_move_fn),this.redraw_on_move_fn=window.setTimeout(function(){t.request_redraw()},200);var i=t.chrom_select.val();this.trigger_navigate(i,t.low,t.high,!0)},add_drawable:function(e){de.prototype.add_drawable.call(this,e),e.init(),this.changed(),this.update_intro_div();var t=this;e.config.on("change",function(){t.changed()})},add_label_track:function(e){e.view=this,e.init(),this.label_tracks.push(e)},remove_drawable:function(e,t){if(de.prototype.remove_drawable.call(this,e),t){var n=this;e.container_div.hide(0,function(){a()(this).remove(),n.update_intro_div()})}},reset:function(){this.low=this.max_low,this.high=this.max_high,this.viewport_container.find(".yaxislabel").remove()},request_redraw:function(e,t){var n=this,i=t?[t]:n.drawables;r.a.each(i,function(t){var i=r.a.find(n.tracks_to_be_redrawn,function(e){return e[0]===t});i?i[1]=e:n.tracks_to_be_redrawn.push([t,e])}),this.requested_redraw||(window.requestAnimationFrame(function(){n._redraw()}),this.requested_redraw=!0)},_redraw:function(){this.requested_redraw=!1;var e=this.low,t=this.high;e<this.max_low&&(e=this.max_low),t>this.max_high&&(t=this.max_high);var n=this.high-this.low;0!==this.high&&n<this.min_separation&&(t=e+this.min_separation),this.low=Math.floor(e),this.high=Math.ceil(t),this.update_location(this.low,this.high),this.resolution_px_b=this.viewport_container.width()/(this.high-this.low);var i=this.low/(this.max_high-this.max_low)*this.overview_viewport.width()||0,o=(this.high-this.low)/(this.max_high-this.max_low)*this.overview_viewport.width()||0;this.overview_box.css({left:i,width:Math.max(13,o)}).show(),o<13&&this.overview_box.css("left",i-(13-o)/2),this.overview_highlight&&this.overview_highlight.css({left:i,width:o}),r.a.each(this.tracks_to_be_redrawn,function(e){var t=e[0],n=e[1];t&&t._draw(n)}),this.tracks_to_be_redrawn=[],r.a.each(this.label_tracks,function(e){e._draw()})},zoom_in:function(e,t){if(!(0===this.max_high||this.high-this.low<=this.min_separation)){var n=this.high-this.low,i=n/2+this.low,r=n/this.zoom_factor/2;e&&(i=e/this.viewport_container.width()*(this.high-this.low)+this.low),this.low=Math.round(i-r),this.high=Math.round(i+r),this.changed(),this.request_redraw()}},zoom_out:function(){if(0!==this.max_high){var e=this.high-this.low,t=e/2+this.low,n=e*this.zoom_factor/2;this.low=Math.round(t-n),this.high=Math.round(t+n),this.changed(),this.request_redraw()}},resize_viewport:function(){this.viewport_container.height(this.container.height()-this.top_container.height()-this.bottom_container.height())},resize_window:function(){this.resize_viewport(),this.request_redraw()},set_overview:function(e){if(this.overview_drawable){if(this.overview_drawable.dataset.id===e.dataset.id)return;this.overview_viewport.find(".track").remove()}var t=e.copy({content_div:this.overview_viewport}),n=this;t.header_div.hide(),t.is_overview=!0,n.overview_drawable=t,this.overview_drawable.postdraw_actions=function(){n.overview_highlight.show().height(n.overview_drawable.content_div.height()),n.overview_viewport.height(n.overview_drawable.content_div.height()+n.overview_box.outerHeight()),n.overview_close.show(),n.resize_window()},n.overview_drawable.request_draw(),this.changed()},reset_overview:function(){a()(".tooltip").remove(),this.overview_viewport.find(".track-tile").remove(),this.overview_viewport.height(this.default_overview_height),this.overview_box.height(this.default_overview_height),this.overview_close.hide(),this.overview_highlight.hide(),this.resize_window(),this.overview_drawable=null}});var pe=Z.a.Tool.extend({defaults:{track:null},initialize:function(e){Z.a.Tool.prototype.initialize.call(this,e);var t=!0;void 0!==e.tool_state&&void 0!==e.tool_state.hidden&&(t=e.tool_state.hidden),this.set("hidden",t),this.remove_inputs(["data","hidden_data","conditional"])},state_dict:function(e){return r.a.extend(this.get_inputs_dict(),{hidden:!this.is_visible()})}}),me=l.a.View.extend({events:{"change :input":"update_value"},render:function(){var e=this.$el.addClass("param-row"),t=this.model;a()("<div>").addClass("param-label").text(t.get("label")).appendTo(e),a()("<div/>").addClass("param-input").html(t.get("html")).appendTo(e).find(":input").val(t.get("value")),a()("<div style='clear: both;'/>").appendTo(e)},update_value:function(e){this.model.set_value(a()(e.target).val())}}),ge=l.a.View.extend({initialize:function(e){this.model.on("change:hidden",this.set_visible,this)},render:function(){var e=this,t=this.model,n=this.$el.addClass("dynamic-tool").hide();n.bind("drag",function(e){e.stopPropagation()}).click(function(e){e.stopPropagation()}).bind("dblclick",function(e){e.stopPropagation()}).keydown(function(e){e.stopPropagation()}),a()("<div class='tool-name'>").appendTo(n).text(t.get("name")),t.get("inputs").each(function(e){var t=new me({model:e});t.render(),n.append(t.$el)}),n.find("input").click(function(){a()(this).select()});var i=a()("<div>").addClass("param-row").appendTo(n),r=a()("<input type='submit'>").attr("value","Run on complete dataset").appendTo(i);a()("<input type='submit'>").attr("value","Run on visible region").appendTo(i).click(function(){e.run_on_region()}),r.click(function(){e.run_on_dataset()}),t.is_visible()&&this.$el.show()},set_visible:function(){this.$el.toggle(this.model.is_visible())},update_params:function(){for(var e=0;e<this.params.length;e++)this.params[e].update_value()},run_on_dataset:function(){var e=this.model,t=Object(u.getGalaxyInstance)();this.run({target_dataset_id:this.model.get("track").dataset.id,action:"rerun",tool_id:e.id},null,function(n){t.modal.show({title:"".concat(e.get("name")," is Running"),body:"".concat(e.get("name")," is running on the complete dataset. Tool outputs are in dataset's history."),buttons:{Close:function(){t.modal.hide()}}})})},run_on_region:function(){var e,t=this.model.get("track"),n=this.model,i=new f.a.GenomeRegion({chrom:t.view.chrom,start:t.view.low,end:t.view.high}),r={target_dataset_id:t.dataset.id,action:"rerun",tool_id:n.id,regions:[i.toJSON()]},o=n.get("name")+t.tool_region_and_parameters_str(i);if(t.container===t.view){var a=new he(t.view,t.view,{name:t.config.get_value("name")}),s=t.container.replace_drawable(t,a,!1);a.container_div.insertBefore(t.view.content_div.children()[s]),a.add_drawable(t),t.container_div.appendTo(a.content_div),e=a}else e=t.container;var l=new t.constructor(t.view,e,{name:o,hda_ldda:"hda"});l.init_for_tool_data(),l.change_mode(t.mode),l.set_filters_manager(t.filters_manager.copy(l)),l.update_icons(),e.add_drawable(l),l.tiles_div.text("Starting job."),this.run(r,l,function(e){l.set_dataset(new Q.a(e)),l.tiles_div.text("Running job."),l.init()})},run:function(e,t,n){e.inputs=this.model.get_inputs_dict();var i=new m.a.ServerStateDeferred({ajax_settings:{url:"".concat(Object(c.a)(),"api/tools"),data:JSON.stringify(e),dataType:"json",contentType:"application/json",type:"POST"},interval:2e3,success_fn:function(e){return"pending"!==e}});a.a.when(i.go()).then(function(e){"no converter"===e?(t.container_div.addClass("error"),t.content_div.text(se)):e.error?(t.container_div.addClass("error"),t.content_div.text("Tool cannot be rerun: "+e.message)):n(e)})}}),_e=function(e,t){K.Scaler.call(this,t),this.filter=e};_e.prototype.gen_val=function(e){return this.filter.high===Number.MAX_VALUE||this.filter.low===-Number.MAX_VALUE||this.filter.low===this.filter.high?this.default_val:(parseFloat(e[this.filter.index])-this.filter.low)/(this.filter.high-this.filter.low)};var ve=function(e,t,n,i,r){this.track=e,this.region=t,this.low=t.get("start"),this.high=t.get("end"),this.w_scale=n,this.canvas=i,this.html_elt=a()("<div class='track-tile'/>").append(i),this.data=r,this.stale=!1};ve.prototype.predisplay_actions=function(){};var ye=function(e,t,n,i,r){ve.call(this,e,t,n,i,r)};ye.prototype.predisplay_actions=function(){};var be=function(e,t,n,i,r,o,a,s,l,c,u){ve.call(this,e,t,n,i,r),this.mode=o,this.all_slotted=s,this.feature_mapper=l,this.has_icons=!1,this.incomplete_features=c,this.other_tiles_features_drawn={},this.seq_data=u};ie(be.prototype,ve.prototype),be.prototype.predisplay_actions=function(){};var we=function(e,t,n){ie(n,{drag_handle_class:"draghandle"}),ue.call(this,e,t,n),this.dataset=null,n.dataset&&(this.dataset=n.dataset instanceof l.a.Model?n.dataset:new Q.a(n.dataset)),this.dataset_check_type="converted_datasets_state",this.data_url_extra_params={},this.data_query_wait="data_query_wait"in n?n.data_query_wait:5e3,this.data_manager="data_manager"in n?n.data_manager:new f.a.GenomeDataManager({dataset:this.dataset,genome:new f.a.Genome({key:e.dbkey,chroms_info:{chrom_info:e.chrom_data}}),data_mode_compatible:this.data_and_mode_compatible,can_subset:this.can_subset}),this.min_height_px=16,this.max_height_px=800,this.visible_height_px=this.config.get_value("height"),this.content_div=a()("<div class='track-content'>").appendTo(this.container_div),this.container&&(this.container.content_div.append(this.container_div),"resize"in n&&!n.resize||this.add_resize_handle())};ie(we.prototype,ue.prototype,{action_icons_def:[{name:"mode_icon",title:h()("Set display mode"),css_class:"chevron-expand",on_click_fn:function(){}},ue.prototype.action_icons_def[0],{name:"overview_icon",title:h()("Set as overview"),css_class:"application-dock-270",on_click_fn:function(e){e.view.set_overview(e)}},ue.prototype.action_icons_def[1],{name:"filters_icon",title:h()("Filters"),css_class:"ui-slider-050",on_click_fn:function(e){e.filters_manager.visible()?e.filters_manager.clear_filters():e.filters_manager.init_filters(),e.filters_manager.toggle()}},{name:"tools_icon",title:h()("Tool"),css_class:"hammer",on_click_fn:function(e){e.tool.toggle(),e.tool.is_visible()?e.set_name(e.config.get_value("name")+e.tool_region_and_parameters_str()):e.revert_name(),a()(".tooltip").remove()}},{name:"param_space_viz_icon",title:h()("Tool parameter space visualization"),css_class:"arrow-split",on_click_fn:function(e){var t=Object(u.getGalaxyInstance)(),n="\n                    <strong>Tool</strong>:".concat(e.tool.get("name"),"<br/>\n                    <strong>Dataset</strong>:").concat(e.config.get_value("name"),'<br/>\n                    <strong>Region(s)</strong>:\n                        <select name="regions">\n                            <option value="cur">current viewing area</option>\n                            <option value="bookmarks">bookmarks</option>\n                            <option value="both">current viewing area and bookmarks</option>\n                        </select>\n                    ');t.modal.show({title:"Visualize tool parameter space and output from different parameter settings?",body:n,buttons:{No:function(){t.modal.hide(),a()(window).unbind("keypress.check_enter_esc")},Yes:function(){var n,i=a()('select[name="regions"] option:selected').val(),o=new f.a.GenomeRegion({chrom:(void 0).view.chrom,start:(void 0).view.low,end:(void 0).view.high}),s=r.a.map(a()(".bookmark"),function(e){return new f.a.GenomeRegion({from_str:a()(e).children(".position").text()})});n="cur"===i?[o]:"bookmarks"===i?s:[o].concat(s),t.modal.hide(),window.top.location.href="".concat(Object(c.a)(),"visualization/sweepster?").concat(a.a.param({dataset_id:e.dataset.id,hda_ldda:e.dataset.get("hda_ldda"),regions:JSON.stringify(new l.a.Collection(n).toJSON())}))}}})}},ue.prototype.action_icons_def[2]],can_draw:function(){return this.dataset&&ue.prototype.can_draw.call(this)},build_container_div:function(){return a()("<div/>").addClass("track").attr("id","track_".concat(this.id))},set_dataset:function(e){this.dataset=e,this.data_manager.set("dataset",e)},on_resize:function(){this.request_draw({clear_tile_cache:!0})},add_resize_handle:function(){var e=this,t=!1,n=!1,i=a()("<div class='track-resize'>");a()(e.container_div).hover(function(){e.config.get_value("content_visible")&&(t=!0,i.show())},function(){t=!1,n||i.hide()}),i.hide().bind("dragstart",function(t,i){n=!0,i.original_height=a()(e.content_div).height()}).bind("drag",function(t,n){var i=Math.min(Math.max(n.original_height+n.deltaY,e.min_height_px),e.max_height_px);a()(e.tiles_div).css("height",i),e.visible_height_px=e.max_height_px===i?0:i,e.on_resize()}).bind("dragend",function(r,o){e.tile_cache.clear(),n=!1,t||i.hide(),e.config.set_value("height",e.visible_height_px),e.changed()}).appendTo(e.container_div)},hide_contents:function(){this.tiles_div.hide(),this.container_div.find(".yaxislabel, .track-resize").hide()},show_contents:function(){this.tiles_div.show(),this.container_div.find(".yaxislabel, .track-resize").show(),this.request_draw()},get_type:function(){return this instanceof Me?"LabelTrack":this instanceof Ce?"ReferenceTrack":this instanceof Se?"LineTrack":this instanceof De?"ReadTrack":this instanceof Ee?"VariantTrack":this instanceof xe?"CompositeTrack":this instanceof Le?"FeatureTrack":""},show_message:function(e){return this.tiles_div.remove(),a()("<span/>").addClass("message").html(e).appendTo(this.content_div)},init:function(e){var t=this;if(t.enabled=!1,t.tile_cache.clear(),t.data_manager.clear(),t.content_div.children().remove(),t.container_div.removeClass("nodata error pending"),t.tiles_div=a()("<div/>").addClass("tiles").appendTo(t.content_div),t.dataset.id){var n=a.a.Deferred(),i={hda_ldda:t.dataset.get("hda_ldda"),data_type:this.dataset_check_type,chrom:t.view.chrom,retry:e};return a.a.getJSON(this.dataset.url(),i,function(e){if(e&&"error"!==e&&"error"!==e.kind)"no converter"===e?(t.container_div.addClass("error"),t.show_message(se)):"no data"===e||void 0!==e.data&&(null===e.data||0===e.data.length)?(t.container_div.addClass("nodata"),t.show_message("No data for this chrom/contig.")):"pending"===e?(t.container_div.addClass("pending"),t.show_message("Preparing data. This can take a while for a large dataset. If the visualization is saved and closed, preparation will continue in the background."),window.setTimeout(function(){t.init()},t.data_query_wait)):"data"!==e&&"data"!==e.status||(e.valid_chroms&&(t.valid_chroms=e.valid_chroms,t.update_icons()),t.tiles_div.text("Ready for display"),t.view.chrom?(t.tiles_div.text(""),t.tiles_div.css("height","".concat(t.visible_height_px,"px")),t.enabled=!0,a.a.when.apply(a.a,t.predraw_init()).done(function(){n.resolve(),t.container_div.removeClass("nodata error pending"),t.request_draw()})):n.resolve());else{t.container_div.addClass("error");var i=t.show_message("Cannot display dataset due to an error. ");e.message&&(i.append(a()("<a href='javascript:void(0);'></a>").text("View error").click(function(){var t=Object(u.getGalaxyInstance)();t.modal.show({title:h()("Trackster Error"),body:"<pre>".concat(e.message,"</pre>"),buttons:{Close:function(){t.modal.hide()}}})})),i.append(a()("<span/>").text(" ")),i.append(a()("<a href='javascript:void(0);'></a>").text("Try again").click(function(){t.init(!0)})))}}),this.update_icons(),n}},predraw_init:function(){var e=this;return a.a.getJSON(e.dataset.url(),{data_type:"data",stats:!0,chrom:e.view.chrom,low:0,high:e.view.max_high,hda_ldda:e.dataset.get("hda_ldda")},function(t){var n=t.data;if(n&&void 0!==n.min&&void 0!==n.max){var i=n.min,r=n.max;i=Math.floor(Math.min(0,Math.max(i,n.mean-2*n.sd))),r=Math.ceil(Math.max(0,Math.min(r,n.mean+2*n.sd))),e.config.set_default_value("min_value",i),e.config.set_default_value("max_value",r),e.config.set_value("min_value",i),e.config.set_value("max_value",r)}})},get_drawables:function(){return this}});var ke=function(e,t,n){we.call(this,e,t,n);if(ae(this.container_div,this.drag_handle_class,0,this),this.filters_manager=new X.a.FiltersManager(this,"filters"in n?n.filters:null),this.data_manager.set("filters_manager",this.filters_manager),this.filters_available=!1,this.tool=n.tool?new pe(r.a.extend(n.tool,{track:this,tool_state:n.tool_state})):null,this.tile_cache=new f.a.Cache(10),this.left_offset=0,this.header_div&&(this.set_filters_manager(this.filters_manager),this.tool)){var i=new ge({model:this.tool});i.render(),this.dynamic_tool_div=i.$el,this.header_div.after(this.dynamic_tool_div)}this.tiles_div=a()("<div/>").addClass("tiles").appendTo(this.content_div),this.config.get_value("content_visible")||this.tiles_div.hide(),this.overlay_div=a()("<div/>").addClass("overlay").appendTo(this.content_div),n.mode&&this.change_mode(n.mode)};ie(ke.prototype,ue.prototype,we.prototype,{action_icons_def:we.prototype.action_icons_def.concat([{name:"show_more_rows_icon",title:"To minimize track height, not all feature rows are displayed. Click to display more rows.",css_class:"exclamation",on_click_fn:function(e){a()(".tooltip").remove(),e.slotters[e.view.resolution_px_b].max_rows*=2,e.request_draw({clear_tile_cache:!0})},hide:!0}]),copy:function(e){var t=this.to_dict();ie(t,{data_manager:this.data_manager});var n=new this.constructor(this.view,e,t);return n.change_mode(this.mode),n.enabled=this.enabled,n},set_filters_manager:function(e){this.filters_manager=e,this.header_div.after(this.filters_manager.parent_div)},to_dict:function(){return{track_type:this.get_type(),dataset:{id:this.dataset.id,hda_ldda:this.dataset.get("hda_ldda")},prefs:this.config.to_key_value_dict(),mode:this.mode,filters:this.filters_manager.to_dict(),tool_state:this.tool?this.tool.state_dict():{}}},set_min_max:function(){var e=this;return a.a.getJSON(e.dataset.url(),{data_type:"data",stats:!0,chrom:e.view.chrom,low:0,high:e.view.max_high,hda_ldda:e.dataset.get("hda_ldda")},function(t){var n=t.data;if(isNaN(parseFloat(e.config.get_value("min_value")))||isNaN(parseFloat(e.config.get_value("max_value")))){var i=n.min,r=n.max;i=Math.floor(Math.min(0,Math.max(i,n.mean-2*n.sd))),r=Math.ceil(Math.max(0,Math.min(r,n.mean+2*n.sd))),e.config.set_value("min_value",i),e.config.set_value("max_value",r)}})},change_mode:function(e){return this.mode=e,this.config.set_value("mode",e),"Auto"===e&&this.data_manager.clear(),this.request_draw({clear_tile_cache:!0}),this.action_icons.mode_icon.attr("title","Set display mode (now: ".concat(this.mode,")")),this},update_icons:function(){this.action_icons.filters_icon.toggle(this.filters_available),this.action_icons.tools_icon.toggle(null!==this.tool),this.action_icons.param_space_viz_icon.toggle(null!==this.tool)},_gen_tile_cache_key:function(e,t){return"".concat(e,"_").concat(t)},request_draw:function(e){e&&e.clear_tile_cache&&this.tile_cache.clear(),this.view.request_redraw(e,this)},before_draw:function(){this.max_height_px=0},_draw:function(e){var t=this;if(this.can_draw()){var n=e&&e.clear_after,i=this.view.low,o=this.view.high,s=this.view.container.width(),l=this.view.resolution_px_b,c=1/l;this.is_overview&&(i=this.view.max_low,o=this.view.max_high,c=1/(l=s/(this.view.max_high-this.view.max_low))),this.before_draw(),this.tiles_div.children().addClass("remove");for(var u,d,h=Math.floor(400*c),p=Math.floor(i/h),m=[],g=[];p*h<o;)u=new f.a.GenomeRegion({chrom:this.view.chrom,start:p*h,end:Math.min((p+1)*h,this.view.max_high)}),d=this.draw_helper(u,l,e),m.push(d),a.a.when(d).then(function(e){g.push(e)}),p+=1;n||this.tiles_div.children(".remove").removeClass("remove").remove(),a.a.when.apply(a.a,m).then(function(){t.tiles_div.children(".remove").remove(),0!==(g=r.a.filter(g,function(e){return null!==e})).length&&t.postdraw_actions(g,s,l,n)})}},_add_yaxis_label:function(e,t){var n=this,i="max"===e?"top":"bottom",r="max"===e?"max":"min",o="max"===e?"max_value":"min_value",s=this.container_div.find(".yaxislabel.".concat(i)),l=ce(this.config.get_value(o),1);t=t||function(){n.request_draw({clear_tile_cache:!0})},0!==s.length?s.text(l):(s=a()("<div/>").text(l).make_text_editable({num_cols:12,on_finish:function(e){a()(".tooltip").remove(),this.config.set_value(o,ce(e,1)),t()},help_text:"Set ".concat(r," value")}).addClass("yaxislabel ".concat(i)).css("color",this.config.get_value("label_color")),this.container_div.prepend(s))},postdraw_actions:function(e,t,n,i){var o=this;r.a.filter(e,function(e){return e instanceof ye}).length>0?(this.max_height_px=0,r.a.each(e,function(e){e instanceof ye||(e.html_elt.remove(),o.draw_helper(e.region,n,{force:!0,mode:"Coverage"}))}),this._add_yaxis_label("max")):(this.container_div.find(".yaxislabel").remove(),r.a.find(e,function(e){return e.has_icons})&&r.a.each(e,function(e){e.has_icons||e.html_elt.css("padding-top",20)}))},get_mode:function(e){return this.mode},update_auto_mode:function(e){},_get_drawables:function(){return[this]},draw_helper:function(e,t,n){var i=this;n||(n={});var o=n.force,s=n.mode||this.mode,l=1/t,c=this._get_drawables(),u=this._gen_tile_cache_key(t,e),d=o?void 0:this.tile_cache.get_elt(u);if(d)return function(e){return e&&"track"in e}(d)&&this.show_tile(d,t),d;if(!1===n.data_fetch)return null;var h=function(){var t=r.a.find(le,function(e){return e===s})?"Coverage":s,n=r.a.map(c,function(n){return n.data_manager.get_data(e,t,l,i.data_url_extra_params)});return i.view.reference_track&&n.push(i.view.reference_track.data_manager.get_data(e,s,l,i.view.reference_track.data_url_extra_params)),n},f=a.a.Deferred();return this.tile_cache.set_elt(u,f),a.a.when.apply(a.a,h()).then(function(){var o,s=h(),l=s;if(r.a.find(s,function(e){return m.a.is_deferred(e)}))return i.tile_cache.set_elt(u,void 0),void a.a.when(i.draw_helper(e,t,n)).then(function(e){f.resolve(e)});i.view.reference_track&&(o=i.view.reference_track.data_manager.subset_entry(s.pop(),e));var d=[],p=[];r.a.each(c,function(e,n){var i=l[n];"Auto"===e.mode&&(e.mode=e.get_mode(i),e.update_auto_mode(e.mode)),d.push(e.mode),p.push(e.get_canvas_height(i,e.mode,t,b))});var g,_=i.view.canvas_manager.new_canvas(),v=e.get("start"),y=e.get("end"),b=Math.ceil((y-v)*t)+i.left_offset,w=r.a.max(p);_.width=b,_.height=n.height||w;var k=_.getContext("2d");k.translate(i.left_offset,0),c.length>1&&(k.globalAlpha=.5,k.globalCompositeOperation="source-over"),r.a.each(c,function(n,i){g=n.draw_tile(l[i],k,d[i],e,t,o)}),void 0!==g&&(i.tile_cache.set_elt(u,g),i.show_tile(g,t)),f.resolve(g)}),f},get_canvas_height:function(e,t,n,i){return this.visible_height_px},_draw_line_track_tile:function(e,t,n,i,o){-1!==[void 0,null].indexOf(this.config.get_value("min_value"))&&this.config.set_value("min_value",0),-1!==[void 0,null,0].indexOf(this.config.get_value("max_value"))&&this.config.set_value("max_value",r.a.max(r.a.map(e.data,function(e){return e[1]}))||0);var a=t.canvas;return new K.LinePainter(e.data,i.get("start"),i.get("end"),this.config.to_key_value_dict(),n).draw(t,a.width,a.height,o),new ye(this,i,o,a,e.data)},draw_tile:function(e,t,n,i,r,o){},show_tile:function(e,t){var n=e.html_elt;e.predisplay_actions();var i=Math.round((e.low-(this.is_overview?this.view.max_low:this.view.low))*t);this.left_offset&&(i-=this.left_offset),n.css("left",i),n.hasClass("remove")?n.removeClass("remove"):this.tiles_div.append(n),n.css("height","auto"),this.max_height_px=Math.max(this.max_height_px,n.height()-2),n.parent().children().css("height","".concat(this.max_height_px,"px"));var r=this.max_height_px;0!==this.visible_height_px&&(r=Math.min(this.max_height_px,this.visible_height_px)),this.tiles_div.css("height","".concat(r,"px"))},tool_region_and_parameters_str:function(e){var t=void 0!==e?e.toString():"all",n=r.a.values(this.tool.get_inputs_dict()).join(", ");return" - region=[".concat(t,"], parameters=[").concat(n,"]")},data_and_mode_compatible:function(e,t){return"Auto"===t||("Coverage"===t?"bigwig"===e.dataset_type:"bigwig"!==e.dataset_type&&"no_detail"!==e.extra_info)},can_subset:function(e){return!e.message&&"no_detail"!==e.extra_info&&("bigwig"!==e.dataset_type||e.data[1][0]-e.data[0][0]==1)},init_for_tool_data:function(){this.data_manager.set("data_type","raw_data"),this.data_query_wait=1e3,this.dataset_check_type="state"}});var Me=function(e,t){we.call(this,e,t,{resize:!1,header:!1}),this.container_div.addClass("label-track")};ie(Me.prototype,we.prototype,{init:function(){this.enabled=!0},predraw_init:function(){},_draw:function(e){for(var t=this.view,n=t.high-t.low,i=Math.floor(Math.pow(10,Math.floor(Math.log(n)/Math.log(10)))),r=Math.floor(t.low/i)*i,o=this.view.container.width(),s=a()("<div/>").addClass("label-container");r<t.high;){var l=Math.floor((r-t.low)/n*o);s.append(a()("<div/>").addClass("pos-label").text(m.a.commatize(r)).css({left:l})),r+=i}this.content_div.children(":first").remove(),this.content_div.append(s)}});var xe=function(e,t,n){if(ke.call(this,e,t,n),this.drawables=[],"drawables"in n){for(var i,o=0;o<n.drawables.length;o++)i=n.drawables[o],this.drawables[o]=Ae(i,e,null),i.left_offset>this.left_offset&&(this.left_offset=i.left_offset);this.enabled=!0}r.a.each(this.drawables,function(e){(e instanceof Le||e instanceof De)&&e.change_mode("Coverage")}),this.update_icons(),this.obj_type="CompositeTrack"};ie(xe.prototype,ke.prototype,{display_modes:le,build_config_params:function(){return r.a.union(ue.prototype.config_params,[{key:"min_value",label:"Min Value",type:"float",default_value:void 0},{key:"max_value",label:"Max Value",type:"float",default_value:void 0},{key:"mode",type:"string",default_value:this.mode,hidden:!0},{key:"height",type:"int",default_value:30,hidden:!0}])},action_icons_def:[{name:"composite_icon",title:h()("Show individual tracks"),css_class:"layers-stack",on_click_fn:function(e){a()(".tooltip").remove(),e.show_group()}}].concat(ke.prototype.action_icons_def),to_dict:de.prototype.to_dict,add_drawable:de.prototype.add_drawable,unpack_drawables:de.prototype.unpack_drawables,config_onchange:function(){this.set_name(this.config.get_value("name")),this.request_draw({clear_tile_cache:!0})},on_resize:function(){var e=this.visible_height_px;r.a.each(this.drawables,function(t){t.visible_height_px=e}),we.prototype.on_resize.call(this)},change_mode:function(e){ke.prototype.change_mode.call(this,e);for(var t=0;t<this.drawables.length;t++)this.drawables[t].change_mode(e)},init:function(){for(var e=[],t=0;t<this.drawables.length;t++)e.push(this.drawables[t].init());var n=this;a.a.when.apply(a.a,e).then(function(){n.enabled=!0,n.request_draw()})},update_icons:function(){this.action_icons.filters_icon.hide(),this.action_icons.tools_icon.hide(),this.action_icons.param_space_viz_icon.hide()},can_draw:ue.prototype.can_draw,_get_drawables:function(){return this.drawables},show_group:function(){for(var e,t=new he(this.view,this.container,{name:this.config.get_value("name")}),n=0;n<this.drawables.length;n++)(e=this.drawables[n]).update_icons(),t.add_drawable(e),e.container=t,t.content_div.append(e.container_div);this.container.replace_drawable(this,t,!0),t.request_draw({clear_tile_cache:!0})},before_draw:function(){var e=r.a.min(r.a.map(this.drawables,function(e){return e.config.get_value("min_value")})),t=r.a.max(r.a.map(this.drawables,function(e){return e.config.get_value("max_value")}));this.config.set_value("min_value",e),this.config.set_value("max_value",t),r.a.each(this.drawables,function(n){n.config.set_value("min_value",e),n.config.set_value("max_value",t)})},update_all_min_max:function(){var e=this.config.get_value("min_value"),t=this.config.get_value("max_value");r.a.each(this.drawables,function(n){n.config.set_value("min_value",e),n.config.set_value("max_value",t)}),this.request_draw({clear_tile_cache:!0})},postdraw_actions:function(e,t,n,i){var r,o=-1;for(r=0;r<e.length;r++){var a=e[r].html_elt.find("canvas").height();a>o&&(o=a)}for(r=0;r<e.length;r++){var s=e[r];s.html_elt.find("canvas").height()!==o&&(this.draw_helper(s.region,n,{force:!0,height:o}),s.html_elt.remove())}var l=this,c=function(){l.update_all_min_max()};this._add_yaxis_label("min",c),this._add_yaxis_label("max",c)}});var Ce=function(e){ke.call(this,e,{content_div:e.top_labeltrack},{resize:!1,header:!1}),this.left_offset=e.canvas_manager.char_width_px,this.container_div.addClass("reference-track"),this.data_url="".concat(Object(c.a)(),"api/genomes/").concat(this.view.dbkey),this.data_url_extra_params={reference:!0},this.data_manager=new f.a.GenomeReferenceDataManager({data_url:this.data_url,can_subset:this.can_subset}),this.hide_contents()};ie(Ce.prototype,ue.prototype,ke.prototype,{build_config_params:function(){return r.a.union(ue.prototype.config_params,[{key:"height",type:"int",default_value:13,hidden:!0}])},init:function(){this.data_manager.clear(),this.enabled=!0},predraw_init:function(){},can_draw:ue.prototype.can_draw,draw_helper:function(e,t,n){var i,r=this.tiles_div.is(":visible"),o=null;return t>this.view.canvas_manager.char_width_px?(this.tiles_div.show(),i=!0,o=ke.prototype.draw_helper.call(this,e,t,n)):(i=!1,this.tiles_div.hide()),r!==i&&this.view.resize_viewport(),o},can_subset:function(e){return!0},draw_tile:function(e,t,n,i,r){var o=this.data_manager.subset_entry(e,i),a=o.data,s=t.canvas;t.font=t.canvas.manager.default_font,t.textAlign="center";for(var l=0,c=a.length;l<c;l++)t.fillStyle=this.view.get_base_color(a[l]),t.fillText(a[l],Math.floor(l*r),10);return new ve(this,i,r,s,o)}});var Se=function(e,t,n){this.mode="Histogram",ke.call(this,e,t,n),this.left_offset=30;var i=this;a.a.when(function(e){var t=a.a.Deferred();return a.a.ajax({type:"HEAD",url:e,beforeSend:function(e){e.setRequestHeader("Range","bytes=0-10")},success:function(e,n,i){t.resolve(206===i.status)}}),t}("".concat(Object(c.a)(),"datasets/").concat(this.dataset.id,"/display"))).then(function(e){e&&(i.data_manager=new ne.BBIDataManager({dataset:i.dataset}))})};ie(Se.prototype,ue.prototype,ke.prototype,{display_modes:le,build_config_params:function(){return r.a.union(ue.prototype.config_params,[{key:"color",label:"Color",type:"color"},{key:"min_value",label:"Min Value",type:"float",default_value:void 0},{key:"max_value",label:"Max Value",type:"float",default_value:void 0},{key:"mode",type:"string",default_value:this.mode,hidden:!0},{key:"height",type:"int",default_value:30,hidden:!0}])},config_onchange:function(){this.set_name(this.config.get_value("name")),this.request_draw({clear_tile_cache:!0})},before_draw:function(){},draw_tile:function(e,t,n,i,r){return this._draw_line_track_tile(e,t,n,i,r)},can_subset:function(e){return e.data[1][0]-e.data[0][0]==1},postdraw_actions:function(e,t,n,i){this._add_yaxis_label("max"),this._add_yaxis_label("min")}});var Te=function(e,t,n){this.mode="Heatmap",ke.call(this,e,t,n)};ie(Te.prototype,ue.prototype,ke.prototype,{display_modes:["Heatmap"],build_config_params:function(){return r.a.union(ue.prototype.config_params,[{key:"pos_color",label:"Positive Color",type:"color",default_value:"#FF8C00"},{key:"neg_color",label:"Negative Color",type:"color",default_value:"#4169E1"},{key:"min_value",label:"Min Value",type:"int",default_value:void 0},{key:"max_value",label:"Max Value",type:"int",default_value:void 0},{key:"mode",type:"string",default_value:this.mode,hidden:!0},{key:"height",type:"int",default_value:500,hidden:!0}])},config_onchange:function(){this.set_name(this.config.get_value("name")),this.request_draw({clear_tile_cache:!0})},predraw_init:function(){return a.a.getJSON(this.dataset.url(),{data_type:"data",stats:!0,chrom:this.view.chrom,low:0,high:this.view.max_high,hda_ldda:this.dataset.get("hda_ldda")},function(e){})},draw_tile:function(e,t,n,i,r){var o=t.canvas;return new K.DiagonalHeatmapPainter(e.data,i.get("start"),i.get("end"),this.config.to_key_value_dict(),n).draw(t,o.width,o.height,r),new ve(this,i,r,o,e.data)}});var Le=function(e,t,n){ke.call(this,e,t,n),this.container_div.addClass("feature-track"),this.summary_draw_height=30,this.slotters={},this.start_end_dct={},this.left_offset=200,this.set_painter_from_config()};ie(Le.prototype,ue.prototype,ke.prototype,{display_modes:["Auto","Coverage","Dense","Squish","Pack"],build_config_params:function(){return r.a.union(ue.prototype.config_params,[{key:"block_color",label:"Block color",type:"color"},{key:"reverse_strand_color",label:"Antisense strand color",type:"color"},{key:"label_color",label:"Label color",type:"color",default_value:"black"},{key:"show_counts",label:"Show summary counts",type:"bool",default_value:!0,help:"Show the number of items in each bin when drawing summary histogram"},{key:"min_value",label:"Histogram minimum",type:"float",default_value:void 0,help:"clear value to set automatically"},{key:"max_value",label:"Histogram maximum",type:"float",default_value:void 0,help:"clear value to set automatically"},{key:"connector_style",label:"Connector style",type:"select",default_value:"fishbones",options:[{label:"Line with arrows",value:"fishbone"},{label:"Arcs",value:"arcs"}]},{key:"mode",type:"string",default_value:this.mode,hidden:!0},{key:"height",type:"int",default_value:0,hidden:!0}])},config_onchange:function(){this.set_name(this.config.get_value("name")),this.set_painter_from_config(),this.request_draw({clear_tile_cache:!0})},set_painter_from_config:function(){"arcs"===this.config.get_value("connector_style")?this.painter=K.ArcLinkedFeaturePainter:this.painter=K.LinkedFeaturePainter},postdraw_actions:function(e,t,n,i){var o=this;if(ke.prototype.postdraw_actions.call(this,e,t,n,i),0===r.a.filter(e,function(e){return e instanceof ye}).length){var s={};r.a.each(r.a.pluck(e,"incomplete_features"),function(e){r.a.each(e,function(e){s[e[0]]=e})}),r.a.each(e,function(e){var t=r.a.omit(s,r.a.map(e.incomplete_features,function(e){return e[0]}));if(t=r.a.omit(t,r.a.keys(e.other_tiles_features_drawn)),0!==r.a.size(t)){var n={data:r.a.values(t)},i=o.view.canvas_manager.new_canvas(),l=i.getContext("2d");i.height=Math.max(e.canvas.height,o.get_canvas_height(n,e.mode,e.w_scale,100)),i.width=e.canvas.width,l.drawImage(e.canvas,0,0),l.translate(o.left_offset,0);var c=o.draw_tile(n,l,e.mode,e.region,e.w_scale,e.seq_data);a()(e.canvas).replaceWith(a()(c.canvas)),e.canvas=i,r.a.extend(e.other_tiles_features_drawn,s)}})}if(this.filters_manager){var l,c=this.filters_manager.filters;for(l=0;l<c.length;l++)c[l].update_ui_elt();for(var u,d,h=!1,f=0;f<e.length;f++)if(e[f].data.length)for(u=e[f].data[0],l=0;l<c.length;l++)if((d=c[l]).applies_to(u)&&d.min!==d.max){h=!0;break}this.filters_available!==h&&(this.filters_available=h,this.filters_available||this.filters_manager.hide(),this.update_icons())}if(e[0]instanceof be){for(var p=!0,m=0;m<e.length;m++)if(!e[m].all_slotted){p=!1;break}this.action_icons.show_more_rows_icon.toggle(!p)}else this.action_icons.show_more_rows_icon.hide()},update_auto_mode:function(e){"Auto"===this.mode&&("no_detail"===e&&(e="feature spans"),this.action_icons.mode_icon.attr("title","Set display mode (now: Auto/".concat(e,")")))},incremental_slots:function(e,t,n){var i=this.view.canvas_manager.dummy_context,r=this.slotters[e];return r&&r.mode===n||(r=new y(e,n,100,function(e){return i.measureText(e)}),this.slotters[e]=r),r.slot_features(t)},get_mode:function(e){return"no_detail"===e.extra_info||this.is_overview?"no_detail":this.view.high-this.view.low>12e3?"Squish":"Pack"},get_canvas_height:function(e,t,n,i){if("Coverage"===t||"bigwig"===e.dataset_type)return this.summary_draw_height;var r=this.incremental_slots(n,e.data,t),o=new this.painter(null,null,null,this.config.to_key_value_dict(),t);return Math.max(this.min_height_px,o.get_required_height(r,i))},draw_tile:function(e,t,n,i,r,o,a){var s=this,l=t.canvas,c=i.get("start"),u=i.get("end"),d=this.left_offset;if("bigwig"===e.dataset_type)return this._draw_line_track_tile(e,t,n,i,r);var h=[],f=this.slotters[r].slots,p=!0;if(e.data)for(var m=this.filters_manager.filters,g=0,_=e.data.length;g<_;g++){for(var v,y=e.data[g],b=!1,w=0,k=m.length;w<k;w++)if((v=m[w]).update_attrs(y),!v.keep(y)){b=!0;break}b||(h.push(y),y[0]in f||(p=!1))}var M=this.filters_manager.alpha_filter?new _e(this.filters_manager.alpha_filter):null,x=this.filters_manager.height_filter?new _e(this.filters_manager.height_filter):null,C=new this.painter(h,c,u,this.config.to_key_value_dict(),n,M,x,o,function(e){return s.view.get_base_color(e)}),S=null,T=null;if(t.fillStyle=this.config.get_value("block_color"),t.font=t.canvas.manager.default_font,t.textAlign="right",e.data){var L=C.draw(t,l.width,l.height,r,f);S=L.feature_mapper,T=L.incomplete_features,S.translation=-d}return a?void 0:new be(s,i,r,l,e.data,n,e.message,p,S,T,o)}});var Ee=function(e,t,n){ke.call(this,e,t,n),this.painter=K.VariantPainter,this.summary_draw_height=30,this.left_offset=30};ie(Ee.prototype,ue.prototype,ke.prototype,{display_modes:["Auto","Coverage","Dense","Squish","Pack"],build_config_params:function(){return r.a.union(ue.prototype.config_params,[{key:"color",label:"Histogram color",type:"color"},{key:"show_sample_data",label:"Show sample data",type:"bool",default_value:!0},{key:"show_labels",label:"Show summary and sample labels",type:"bool",default_value:!0},{key:"summary_height",label:"Locus summary height",type:"float",default_value:20},{key:"mode",type:"string",default_value:this.mode,hidden:!0},{key:"height",type:"int",default_value:0,hidden:!0}])},config_onchange:function(){this.set_name(this.config.get_value("name")),this.request_draw({clear_tile_cache:!0})},draw_tile:function(e,t,n,i,r){if("bigwig"===e.dataset_type)return this._draw_line_track_tile(e,t,"Histogram",i,r);var o=this.view;return new this.painter(e.data,i.get("start"),i.get("end"),this.config.to_key_value_dict(),n,function(e){return o.get_base_color(e)}).draw(t,t.canvas.width,t.canvas.height,r),new ve(this,i,r,t.canvas,e.data)},get_canvas_height:function(e,t,n,i){if("bigwig"===e.dataset_type)return this.summary_draw_height;var r=this.dataset.get_metadata("sample_names")?this.dataset.get_metadata("sample_names").length:0;return 0===r&&0!==e.data.length&&(r=null===(r=e.data[0][7].match(/,/g))?1:r.length+1),new this.painter(null,null,null,this.config.to_key_value_dict(),t).get_required_height(r)},predraw_init:function(){var e=[we.prototype.predraw_init.call(this)];return this.dataset.get_metadata("sample_names")||e.push(this.dataset.fetch()),e},postdraw_actions:function(e,t,n,i){ke.prototype.postdraw_actions.call(this,e,t,n,i);var o=r.a.filter(e,function(e){return e instanceof ye}),s=this.dataset.get_metadata("sample_names");if(0===o.length&&this.config.get_value("show_labels")&&s&&s.length>1){var l;if(0===this.container_div.find(".yaxislabel.variant").length&&(l=this.config.get_value("summary_height")/2,this.tiles_div.prepend(a()("<div/>").text("Summary").addClass("yaxislabel variant top").css({"font-size":"".concat(l,"px"),top:"".concat((this.config.get_value("summary_height")-l)/2,"px")})),this.config.get_value("show_sample_data"))){var c=s.join("<br/>");this.tiles_div.prepend(a()("<div/>").html(c).addClass("yaxislabel variant top sample").css({top:this.config.get_value("summary_height")}))}l="".concat("Squish"===this.mode?5:10,"px"),a()(this.tiles_div).find(".sample").css({"font-size":l,"line-height":l}),a()(this.tiles_div).find(".yaxislabel").css("color",this.config.get_value("label_color"))}else this.container_div.find(".yaxislabel.variant").remove()}});var De=function(e,t,n){Le.call(this,e,t,n),this.painter=K.ReadPainter,this.update_icons()};ie(De.prototype,ue.prototype,ke.prototype,Le.prototype,{build_config_params:function(){return r.a.union(ue.prototype.config_params,[{key:"block_color",label:"Histogram color",type:"color"},{key:"detail_block_color",label:"Sense strand block color",type:"color",default_value:"#AAAAAA"},{key:"reverse_strand_color",label:"Antisense strand block color",type:"color",default_value:"#DDDDDD"},{key:"label_color",label:"Label color",type:"color",default_value:"black"},{key:"show_insertions",label:"Show insertions",type:"bool",default_value:!1},{key:"show_differences",label:"Show differences only",type:"bool",default_value:!0},{key:"show_counts",label:"Show summary counts",type:"bool",default_value:!0},{key:"mode",type:"string",default_value:this.mode,hidden:!0},{key:"min_value",label:"Histogram minimum",type:"float",default_value:void 0,help:"clear value to set automatically"},{key:"max_value",label:"Histogram maximum",type:"float",default_value:void 0,help:"clear value to set automatically"},{key:"height",type:"int",default_value:0,hidden:!0}])},config_onchange:function(){this.set_name(this.config.get_value("name")),this.request_draw({clear_tile_cache:!0})}});var Oe={CompositeTrack:xe,DrawableGroup:he,DiagonalHeatmapTrack:Te,FeatureTrack:Le,LineTrack:Se,ReadTrack:De,VariantTrack:Ee,VcfTrack:Ee},Ae=function(e,t,n){if("copy"in e)return e.copy(n);var i=e.obj_type;return i||(i=e.track_type),new Oe[i](t,n,e)};t.a={TracksterView:fe,DrawableGroup:he,LineTrack:Se,FeatureTrack:Le,DiagonalHeatmapTrack:Te,ReadTrack:De,VariantTrack:Ee,CompositeTrack:xe,object_from_template:Ae}},function(e,t,n){var i=n(24);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var i=n(360)("meta"),r=n(24),o=n(60),a=n(35).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(21)(function(){return l(Object.preventExtensions({}))}),u=function(e){a(e,i,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,i)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[i].i},getWeak:function(e,t){if(!o(e,i)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[i].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!o(e,i)&&u(e),e}}},function(e,t,n){!function(e){"use strict";e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},i=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},o=function(e){return function(t,n,o,a){var s=i(t),l=r[e][i(t)];return 2===s&&(l=l[n?0:1]),l.replace(/%d/i,t)}},a=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar",{months:a,monthsShort:a,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-dz",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اثنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"أح_إث_ثلا_أر_خم_جم_سب".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-kw",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:12}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},r=function(e){return function(t,r,o,a){var s=n(t),l=i[e][n(t)];return 2===s&&(l=l[r?0:1]),l.replace(/%d/i,t)}},o=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar-ly",{months:o,monthsShort:o,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};e.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:0,doy:6}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"birneçə saniyyə",ss:"%d saniyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecə|səhər|gündüz|axşam/,isPM:function(e){return/^(gündüz|axşam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gecə":e<12?"səhər":e<17?"gündüz":"axşam"},dayOfMonthOrdinalParse:/\d{1,2}-(ıncı|inci|nci|üncü|ncı|uncu)/,ordinal:function(e){if(0===e)return e+"-ıncı";var n=e%10,i=e%100-n,r=e>=100?100:null;return e+(t[n]||t[i]||t[r])},week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var i={ss:t?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:t?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:t?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"};return"m"===n?t?"хвіліна":"хвіліну":"h"===n?t?"гадзіна":"гадзіну":e+" "+function(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}(i[n],+e)}e.defineLocale("be",{months:{format:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_"),standalone:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_")},monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:{format:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_"),standalone:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),isFormat:/\[ ?[Вв] ?(?:мінулую|наступную)? ?\] ?dddd/},weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:t,mm:t,h:t,hh:t,d:"дзень",dd:t,M:"месяц",MM:t,y:"год",yy:t},meridiemParse:/ночы|раніцы|дня|вечара/,isPM:function(e){return/^(дня|вечара)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночы":e<12?"раніцы":e<17?"дня":"вечара"},dayOfMonthOrdinalParse:/\d{1,2}-(і|ы|га)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-ы":e+"-і";case"D":return e+"-га";default:return e}},week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",ss:"%d секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mɛkalo_Zuwɛnkalo_Zuluyekalo_Utikalo_Sɛtanburukalo_ɔkutɔburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_Mɛ_Zuw_Zul_Uti_Sɛt_ɔku_Now_Des".split("_"),weekdays:"Kari_Ntɛnɛn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Ntɛ_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm"},calendar:{sameDay:"[Bi lɛrɛ] LT",nextDay:"[Sini lɛrɛ] LT",nextWeek:"dddd [don lɛrɛ] LT",lastDay:"[Kunu lɛrɛ] LT",lastWeek:"dddd [tɛmɛnen lɛrɛ] LT",sameElse:"L"},relativeTime:{future:"%s kɔnɔ",past:"a bɛ %s bɔ",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lɛrɛ kelen",hh:"lɛrɛ %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},n={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};e.defineLocale("bn",{months:"জানুয়ারী_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব_মার্চ_এপ্র_মে_জুন_জুল_আগ_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গ_বুধ_বৃহঃ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",ss:"%d সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/রাত|সকাল|দুপুর|বিকাল|রাত/,meridiemHour:function(e,t){return 12===e&&(e=0),"রাত"===t&&e>=4||"দুপুর"===t&&e<5||"বিকাল"===t?e+12:e},meridiem:function(e,t,n){return e<4?"রাত":e<10?"সকাল":e<17?"দুপুর":e<20?"বিকাল":"রাত"},week:{dow:0,doy:6}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"},n={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"};e.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",ss:"%d སྐར་ཆ།",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(e){return e.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/མཚན་མོ|ཞོགས་ཀས|ཉིན་གུང|དགོང་དག|མཚན་མོ/,meridiemHour:function(e,t){return 12===e&&(e=0),"མཚན་མོ"===t&&e>=4||"ཉིན་གུང"===t&&e<5||"དགོང་དག"===t?e+12:e},meridiem:function(e,t,n){return e<4?"མཚན་མོ":e<10?"ཞོགས་ཀས":e<17?"ཉིན་གུང":e<20?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}})}(n(10))},function(e,t,n){!function(e){"use strict";function t(e,t,n){return e+" "+function(e,t){return 2===t?function(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}(e):e}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:function(e){switch(function e(t){return t>9?e(t%10):t}(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(añ|vet)/,ordinal:function(e){var t=1===e?"añ":"vet";return e+t},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var i=e+" ";switch(n){case"ss":return i+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return i+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return i+=1===e?"dan":"dana";case"MM":return i+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return i+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("ca",{months:{standalone:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de març_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";var t="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),n="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_");function i(e){return e>1&&e<5&&1!=~~(e/10)}function r(e,t,n,r){var o=e+" ";switch(n){case"s":return t||r?"pár sekund":"pár sekundami";case"ss":return t||r?o+(i(e)?"sekundy":"sekund"):o+"sekundami";case"m":return t?"minuta":r?"minutu":"minutou";case"mm":return t||r?o+(i(e)?"minuty":"minut"):o+"minutami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?o+(i(e)?"hodiny":"hodin"):o+"hodinami";case"d":return t||r?"den":"dnem";case"dd":return t||r?o+(i(e)?"dny":"dní"):o+"dny";case"M":return t||r?"měsíc":"měsícem";case"MM":return t||r?o+(i(e)?"měsíce":"měsíců"):o+"měsíci";case"y":return t||r?"rok":"rokem";case"yy":return t||r?o+(i(e)?"roky":"let"):o+"lety"}}e.defineLocale("cs",{months:t,monthsShort:n,monthsParse:function(e,t){var n,i=[];for(n=0;n<12;n++)i[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return i}(t,n),shortMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(n),longMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(t),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("cv",{months:"кӑрлач_нарӑс_пуш_ака_май_ҫӗртме_утӑ_ҫурла_авӑн_юпа_чӳк_раштав".split("_"),monthsShort:"кӑр_нар_пуш_ака_май_ҫӗр_утӑ_ҫур_авн_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кӗҫнерникун_эрнекун_шӑматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кӗҫ_эрн_шӑм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кҫ_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ]",LLL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm",LLLL:"dddd, YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ӗнер] LT [сехетре]",nextWeek:"[Ҫитес] dddd LT [сехетре]",lastWeek:"[Иртнӗ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){var t=/сехет$/i.exec(e)?"рен":/ҫул$/i.exec(e)?"тан":"ран";return e+t},past:"%s каялла",s:"пӗр-ик ҫеккунт",ss:"%d ҫеккунт",m:"пӗр минут",mm:"%d минут",h:"пӗр сехет",hh:"%d сехет",d:"пӗр кун",dd:"%d кун",M:"пӗр уйӑх",MM:"%d уйӑх",y:"пӗр ҫул",yy:"%d ҫул"},dayOfMonthOrdinalParse:/\d{1,2}-мӗш/,ordinal:"%d-мӗш",week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,n="";return t>20?n=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(n=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][t]),e+n},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"på dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}e.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}e.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}e.defineLocale("de-ch",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";var t=["ޖެނުއަރީ","ފެބްރުއަރީ","މާރިޗު","އޭޕްރީލު","މޭ","ޖޫން","ޖުލައި","އޯގަސްޓު","ސެޕްޓެމްބަރު","އޮކްޓޯބަރު","ނޮވެމްބަރު","ޑިސެމްބަރު"],n=["އާދިއްތަ","ހޯމަ","އަންގާރަ","ބުދަ","ބުރާސްފަތި","ހުކުރު","ހޮނިހިރު"];e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"އާދި_ހޯމަ_އަން_ބުދަ_ބުރާ_ހުކު_ހޮނި".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/މކ|މފ/,isPM:function(e){return"މފ"===e},meridiem:function(e,t,n){return e<12?"މކ":"މފ"},calendar:{sameDay:"[މިއަދު] LT",nextDay:"[މާދަމާ] LT",nextWeek:"dddd LT",lastDay:"[އިއްޔެ] LT",lastWeek:"[ފާއިތުވި] dddd LT",sameElse:"L"},relativeTime:{future:"ތެރޭގައި %s",past:"ކުރިން %s",s:"ސިކުންތުކޮޅެއް",ss:"d% ސިކުންތު",m:"މިނިޓެއް",mm:"މިނިޓު %d",h:"ގަޑިއިރެއް",hh:"ގަޑިއިރު %d",d:"ދުވަހެއް",dd:"ދުވަސް %d",M:"މަހެއް",MM:"މަސް %d",y:"އަހަރެއް",yy:"އަހަރު %d"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:7,doy:12}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,n){return e>11?n?"μμ":"ΜΜ":n?"πμ":"ΠΜ"},isPM:function(e){return"μ"===(e+"").toLowerCase()[0]},meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],i=t&&t.hours();return function(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}(n)&&(n=n.apply(t)),n.replace("{}",i%12==1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",ss:"%d δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},dayOfMonthOrdinalParse:/\d{1,2}η/,ordinal:"%dη",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"dimanĉo_lundo_mardo_merkredo_ĵaŭdo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_ĵaŭ_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_ĵa_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"antaŭ %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"MMMM [de] D [de] YYYY",LLL:"MMMM [de] D [de] YYYY h:mm A",LLLL:"dddd, MMMM [de] D [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:0,doy:6}})}(n(10))},function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={s:["mõne sekundi","mõni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["ühe minuti","üks minut"],mm:[e+" minuti",e+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[e+" tunni",e+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[e+" kuu",e+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[e+" aasta",e+" aastat"]};return t?r[n][2]?r[n][2]:r[n][1]:i?r[n][0]:r[n][1]}e.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d päeva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},n={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};e.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(e){return/بعد از ظهر/.test(e)},meridiem:function(e,t,n){return e<12?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چند ثانیه",ss:"ثانیه d%",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(e){return e.replace(/[۰-۹]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},dayOfMonthOrdinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}})}(n(10))},function(e,t,n){!function(e){"use strict";var t="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),n=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",t[7],t[8],t[9]];function i(e,i,r,o){var a="";switch(r){case"s":return o?"muutaman sekunnin":"muutama sekunti";case"ss":return o?"sekunnin":"sekuntia";case"m":return o?"minuutin":"minuutti";case"mm":a=o?"minuutin":"minuuttia";break;case"h":return o?"tunnin":"tunti";case"hh":a=o?"tunnin":"tuntia";break;case"d":return o?"päivän":"päivä";case"dd":a=o?"päivän":"päivää";break;case"M":return o?"kuukauden":"kuukausi";case"MM":a=o?"kuukauden":"kuukautta";break;case"y":return o?"vuoden":"vuosi";case"yy":a=o?"vuoden":"vuotta"}return a=function(e,i){return e<10?i?n[e]:t[e]:e}(e,o)+" "+a}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",ss:"%d sekundir",m:"ein minutt",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaði",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ch",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Màrt","An Giblean","An Cèitean","An t-Ògmhios","An t-Iuchar","An Lùnastal","An t-Sultain","An Dàmhair","An t-Samhain","An Dùbhlachd"],monthsShort:["Faoi","Gear","Màrt","Gibl","Cèit","Ògmh","Iuch","Lùn","Sult","Dàmh","Samh","Dùbh"],monthsParseExact:!0,weekdays:["Didòmhnaich","Diluain","Dimàirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["Dò","Lu","Mà","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-màireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-dè aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mìos",MM:"%d mìosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){var t=1===e?"d":e%10==2?"na":"mh";return e+t},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuño_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xuñ._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mércores_xoves_venres_sábado".split("_"),weekdaysShort:"dom._lun._mar._mér._xov._ven._sáb.".split("_"),weekdaysMin:"do_lu_ma_mé_xo_ve_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={s:["thodde secondanim","thodde second"],ss:[e+" secondanim",e+" second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka horan","ek hor"],hh:[e+" horanim",e+" hor"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return t?r[n][0]:r[n][1]}e.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokalli"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokalli":e<16?"donparam":e<20?"sanje":"rati"}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={1:"૧",2:"૨",3:"૩",4:"૪",5:"૫",6:"૬",7:"૭",8:"૮",9:"૯",0:"૦"},n={"૧":"1","૨":"2","૩":"3","૪":"4","૫":"5","૬":"6","૭":"7","૮":"8","૯":"9","૦":"0"};e.defineLocale("gu",{months:"જાન્યુઆરી_ફેબ્રુઆરી_માર્ચ_એપ્રિલ_મે_જૂન_જુલાઈ_ઑગસ્ટ_સપ્ટેમ્બર_ઑક્ટ્બર_નવેમ્બર_ડિસેમ્બર".split("_"),monthsShort:"જાન્યુ._ફેબ્રુ._માર્ચ_એપ્રિ._મે_જૂન_જુલા._ઑગ._સપ્ટે._ઑક્ટ્._નવે._ડિસે.".split("_"),monthsParseExact:!0,weekdays:"રવિવાર_સોમવાર_મંગળવાર_બુધ્વાર_ગુરુવાર_શુક્રવાર_શનિવાર".split("_"),weekdaysShort:"રવિ_સોમ_મંગળ_બુધ્_ગુરુ_શુક્ર_શનિ".split("_"),weekdaysMin:"ર_સો_મં_બુ_ગુ_શુ_શ".split("_"),longDateFormat:{LT:"A h:mm વાગ્યે",LTS:"A h:mm:ss વાગ્યે",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm વાગ્યે",LLLL:"dddd, D MMMM YYYY, A h:mm વાગ્યે"},calendar:{sameDay:"[આજ] LT",nextDay:"[કાલે] LT",nextWeek:"dddd, LT",lastDay:"[ગઇકાલે] LT",lastWeek:"[પાછલા] dddd, LT",sameElse:"L"},relativeTime:{future:"%s મા",past:"%s પેહલા",s:"અમુક પળો",ss:"%d સેકંડ",m:"એક મિનિટ",mm:"%d મિનિટ",h:"એક કલાક",hh:"%d કલાક",d:"એક દિવસ",dd:"%d દિવસ",M:"એક મહિનો",MM:"%d મહિનો",y:"એક વર્ષ",yy:"%d વર્ષ"},preparse:function(e){return e.replace(/[૧૨૩૪૫૬૭૮૯૦]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/રાત|બપોર|સવાર|સાંજ/,meridiemHour:function(e,t){return 12===e&&(e=0),"રાત"===t?e<4?e:e+12:"સવાર"===t?e:"બપોર"===t?e>=10?e:e+12:"સાંજ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"રાત":e<10?"સવાર":e<17?"બપોર":e<20?"સાંજ":"રાત"},week:{dow:0,doy:6}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY HH:mm",LLLL:"dddd, D [ב]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",ss:"%d שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){return 2===e?"שעתיים":e+" שעות"},d:"יום",dd:function(e){return 2===e?"יומיים":e+" ימים"},M:"חודש",MM:function(e){return 2===e?"חודשיים":e+" חודשים"},y:"שנה",yy:function(e){return 2===e?"שנתיים":e%10==0&&10!==e?e+" שנה":e+" שנים"}},meridiemParse:/אחה"צ|לפנה"צ|אחרי הצהריים|לפני הצהריים|לפנות בוקר|בבוקר|בערב/i,isPM:function(e){return/^(אחה"צ|אחרי הצהריים|בערב)$/.test(e)},meridiem:function(e,t,n){return e<5?"לפנות בוקר":e<10?"בבוקר":e<12?n?'לפנה"צ':"לפני הצהריים":e<18?n?'אחה"צ':"אחרי הצהריים":"בערב"}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.defineLocale("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",ss:"%d सेकंड",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/रात|सुबह|दोपहर|शाम/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात"===t?e<4?e:e+12:"सुबह"===t?e:"दोपहर"===t?e>=10?e:e+12:"शाम"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"रात":e<10?"सुबह":e<17?"दोपहर":e<20?"शाम":"रात"},week:{dow:0,doy:6}})}(n(10))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var i=e+" ";switch(n){case"ss":return i+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return i+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return i+=1===e?"dan":"dana";case"MM":return i+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return i+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("hr",{months:{format:"siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";var t="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");function n(e,t,n,i){var r=e;switch(n){case"s":return i||t?"néhány másodperc":"néhány másodperce";case"ss":return r+(i||t)?" másodperc":" másodperce";case"m":return"egy"+(i||t?" perc":" perce");case"mm":return r+(i||t?" perc":" perce");case"h":return"egy"+(i||t?" óra":" órája");case"hh":return r+(i||t?" óra":" órája");case"d":return"egy"+(i||t?" nap":" napja");case"dd":return r+(i||t?" nap":" napja");case"M":return"egy"+(i||t?" hónap":" hónapja");case"MM":return r+(i||t?" hónap":" hónapja");case"y":return"egy"+(i||t?" év":" éve");case"yy":return r+(i||t?" év":" éve")}return""}function i(e){return(e?"":"[múlt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return i.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return i.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("hy-am",{months:{format:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_"),standalone:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_")},monthsShort:"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_"),weekdays:"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_"),weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., HH:mm",LLLL:"dddd, D MMMM YYYY թ., HH:mm"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",ss:"%d վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/գիշերվա|առավոտվա|ցերեկվա|երեկոյան/,isPM:function(e){return/^(ցերեկվա|երեկոյան)$/.test(e)},meridiem:function(e){return e<4?"գիշերվա":e<12?"առավոտվա":e<17?"ցերեկվա":"երեկոյան"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(ին|րդ)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-ին":e+"-րդ";default:return e}},week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";function t(e){return e%100==11||e%10!=1}function n(e,n,i,r){var o=e+" ";switch(i){case"s":return n||r?"nokkrar sekúndur":"nokkrum sekúndum";case"ss":return t(e)?o+(n||r?"sekúndur":"sekúndum"):o+"sekúnda";case"m":return n?"mínúta":"mínútu";case"mm":return t(e)?o+(n||r?"mínútur":"mínútum"):n?o+"mínúta":o+"mínútu";case"hh":return t(e)?o+(n||r?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":r?"dag":"degi";case"dd":return t(e)?n?o+"dagar":o+(r?"daga":"dögum"):n?o+"dagur":o+(r?"dag":"degi");case"M":return n?"mánuður":r?"mánuð":"mánuði";case"MM":return t(e)?n?o+"mánuðir":o+(r?"mánuði":"mánuðum"):n?o+"mánuður":o+(r?"mánuð":"mánuði");case"y":return n||r?"ár":"ári";case"yy":return t(e)?o+(n||r?"ár":"árum"):o+(n||r?"ár":"ári")}}e.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 HH:mm dddd",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日 HH:mm dddd"},meridiemParse:/午前|午後/i,isPM:function(e){return"午後"===e},meridiem:function(e,t,n){return e<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}日/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",ss:"%d秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("ka",{months:{standalone:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),format:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")},monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:{standalone:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),format:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_"),isFormat:/(წინა|შემდეგ)/},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return/(წამი|წუთი|საათი|წელი)/.test(e)?e.replace(/ი$/,"ში"):e+"ში"},past:function(e){return/(წამი|წუთი|საათი|დღე|თვე)/.test(e)?e.replace(/(ი|ე)$/,"ის უკან"):/წელი/.test(e)?e.replace(/წელი$/,"წლის უკან"):void 0},s:"რამდენიმე წამი",ss:"%d წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},dayOfMonthOrdinalParse:/0|1-ლი|მე-\d{1,2}|\d{1,2}-ე/,ordinal:function(e){return 0===e?e:1===e?e+"-ლი":e<20||e<=100&&e%20==0||e%100==0?"მე-"+e:e+"-ე"},week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={0:"-ші",1:"-ші",2:"-ші",3:"-ші",4:"-ші",5:"-ші",6:"-шы",7:"-ші",8:"-ші",9:"-шы",10:"-шы",20:"-шы",30:"-шы",40:"-шы",50:"-ші",60:"-шы",70:"-ші",80:"-ші",90:"-шы",100:"-ші"};e.defineLocale("kk",{months:"қаңтар_ақпан_наурыз_сәуір_мамыр_маусым_шілде_тамыз_қыркүйек_қазан_қараша_желтоқсан".split("_"),monthsShort:"қаң_ақп_нау_сәу_мам_мау_шіл_там_қыр_қаз_қар_жел".split("_"),weekdays:"жексенбі_дүйсенбі_сейсенбі_сәрсенбі_бейсенбі_жұма_сенбі".split("_"),weekdaysShort:"жек_дүй_сей_сәр_бей_жұм_сен".split("_"),weekdaysMin:"жк_дй_сй_ср_бй_жм_сн".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгін сағат] LT",nextDay:"[Ертең сағат] LT",nextWeek:"dddd [сағат] LT",lastDay:"[Кеше сағат] LT",lastWeek:"[Өткен аптаның] dddd [сағат] LT",sameElse:"L"},relativeTime:{future:"%s ішінде",past:"%s бұрын",s:"бірнеше секунд",ss:"%d секунд",m:"бір минут",mm:"%d минут",h:"бір сағат",hh:"%d сағат",d:"бір күн",dd:"%d күн",M:"бір ай",MM:"%d ай",y:"бір жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(ші|шы)/,ordinal:function(e){var n=e%10,i=e>=100?100:null;return e+(t[e]||t[n]||t[i])},week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("km",{months:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysMin:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ថ្ងៃនេះ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",ss:"%d វិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={1:"೧",2:"೨",3:"೩",4:"೪",5:"೫",6:"೬",7:"೭",8:"೮",9:"೯",0:"೦"},n={"೧":"1","೨":"2","೩":"3","೪":"4","೫":"5","೬":"6","೭":"7","೮":"8","೯":"9","೦":"0"};e.defineLocale("kn",{months:"ಜನವರಿ_ಫೆಬ್ರವರಿ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂಬರ್_ಅಕ್ಟೋಬರ್_ನವೆಂಬರ್_ಡಿಸೆಂಬರ್".split("_"),monthsShort:"ಜನ_ಫೆಬ್ರ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂಬ_ಅಕ್ಟೋಬ_ನವೆಂಬ_ಡಿಸೆಂಬ".split("_"),monthsParseExact:!0,weekdays:"ಭಾನುವಾರ_ಸೋಮವಾರ_ಮಂಗಳವಾರ_ಬುಧವಾರ_ಗುರುವಾರ_ಶುಕ್ರವಾರ_ಶನಿವಾರ".split("_"),weekdaysShort:"ಭಾನು_ಸೋಮ_ಮಂಗಳ_ಬುಧ_ಗುರು_ಶುಕ್ರ_ಶನಿ".split("_"),weekdaysMin:"ಭಾ_ಸೋ_ಮಂ_ಬು_ಗು_ಶು_ಶ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[ಇಂದು] LT",nextDay:"[ನಾಳೆ] LT",nextWeek:"dddd, LT",lastDay:"[ನಿನ್ನೆ] LT",lastWeek:"[ಕೊನೆಯ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ನಂತರ",past:"%s ಹಿಂದೆ",s:"ಕೆಲವು ಕ್ಷಣಗಳು",ss:"%d ಸೆಕೆಂಡುಗಳು",m:"ಒಂದು ನಿಮಿಷ",mm:"%d ನಿಮಿಷ",h:"ಒಂದು ಗಂಟೆ",hh:"%d ಗಂಟೆ",d:"ಒಂದು ದಿನ",dd:"%d ದಿನ",M:"ಒಂದು ತಿಂಗಳು",MM:"%d ತಿಂಗಳು",y:"ಒಂದು ವರ್ಷ",yy:"%d ವರ್ಷ"},preparse:function(e){return e.replace(/[೧೨೩೪೫೬೭೮೯೦]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/ರಾತ್ರಿ|ಬೆಳಿಗ್ಗೆ|ಮಧ್ಯಾಹ್ನ|ಸಂಜೆ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ರಾತ್ರಿ"===t?e<4?e:e+12:"ಬೆಳಿಗ್ಗೆ"===t?e:"ಮಧ್ಯಾಹ್ನ"===t?e>=10?e:e+12:"ಸಂಜೆ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ರಾತ್ರಿ":e<10?"ಬೆಳಿಗ್ಗೆ":e<17?"ಮಧ್ಯಾಹ್ನ":e<20?"ಸಂಜೆ":"ರಾತ್ರಿ"},dayOfMonthOrdinalParse:/\d{1,2}(ನೇ)/,ordinal:function(e){return e+"ನೇ"},week:{dow:0,doy:6}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",ss:"%d초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"},dayOfMonthOrdinalParse:/\d{1,2}(일|월|주)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"일";case"M":return e+"월";case"w":case"W":return e+"주";default:return e}},meridiemParse:/오전|오후/,isPM:function(e){return"오후"===e},meridiem:function(e,t,n){return e<12?"오전":"오후"}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={0:"-чү",1:"-чи",2:"-чи",3:"-чү",4:"-чү",5:"-чи",6:"-чы",7:"-чи",8:"-чи",9:"-чу",10:"-чу",20:"-чы",30:"-чу",40:"-чы",50:"-чү",60:"-чы",70:"-чи",80:"-чи",90:"-чу",100:"-чү"};e.defineLocale("ky",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),weekdays:"Жекшемби_Дүйшөмбү_Шейшемби_Шаршемби_Бейшемби_Жума_Ишемби".split("_"),weekdaysShort:"Жек_Дүй_Шей_Шар_Бей_Жум_Ише".split("_"),weekdaysMin:"Жк_Дй_Шй_Шр_Бй_Жм_Иш".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгүн саат] LT",nextDay:"[Эртең саат] LT",nextWeek:"dddd [саат] LT",lastDay:"[Кече саат] LT",lastWeek:"[Өткен аптанын] dddd [күнү] [саат] LT",sameElse:"L"},relativeTime:{future:"%s ичинде",past:"%s мурун",s:"бирнече секунд",ss:"%d секунд",m:"бир мүнөт",mm:"%d мүнөт",h:"бир саат",hh:"%d саат",d:"бир күн",dd:"%d күн",M:"бир ай",MM:"%d ай",y:"бир жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(чи|чы|чү|чу)/,ordinal:function(e){var n=e%10,i=e>=100?100:null;return e+(t[e]||t[n]||t[i])},week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?r[n][0]:r[n][1]}function n(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10,i=e/10;return n(0===t?i:t)}if(e<1e4){for(;e>=10;)e/=10;return n(e)}return n(e/=1e3)}e.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return n(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return n(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Méint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("lo",{months:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),monthsShort:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),weekdays:"ອາທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysShort:"ທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysMin:"ທ_ຈ_ອຄ_ພ_ພຫ_ສກ_ສ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ວັນdddd D MMMM YYYY HH:mm"},meridiemParse:/ຕອນເຊົ້າ|ຕອນແລງ/,isPM:function(e){return"ຕອນແລງ"===e},meridiem:function(e,t,n){return e<12?"ຕອນເຊົ້າ":"ຕອນແລງ"},calendar:{sameDay:"[ມື້ນີ້ເວລາ] LT",nextDay:"[ມື້ອື່ນເວລາ] LT",nextWeek:"[ວັນ]dddd[ໜ້າເວລາ] LT",lastDay:"[ມື້ວານນີ້ເວລາ] LT",lastWeek:"[ວັນ]dddd[ແລ້ວນີ້ເວລາ] LT",sameElse:"L"},relativeTime:{future:"ອີກ %s",past:"%sຜ່ານມາ",s:"ບໍ່ເທົ່າໃດວິນາທີ",ss:"%d ວິນາທີ",m:"1 ນາທີ",mm:"%d ນາທີ",h:"1 ຊົ່ວໂມງ",hh:"%d ຊົ່ວໂມງ",d:"1 ມື້",dd:"%d ມື້",M:"1 ເດືອນ",MM:"%d ເດືອນ",y:"1 ປີ",yy:"%d ປີ"},dayOfMonthOrdinalParse:/(ທີ່)\d{1,2}/,ordinal:function(e){return"ທີ່"+e}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={ss:"sekundė_sekundžių_sekundes",m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"};function n(e,t,n,i){return t?r(n)[0]:i?r(n)[1]:r(n)[2]}function i(e){return e%10==0||e>10&&e<20}function r(e){return t[e].split("_")}function o(e,t,o,a){var s=e+" ";return 1===e?s+n(0,t,o[0],a):t?s+(i(e)?r(o)[1]:r(o)[0]):a?s+r(o)[1]:s+(i(e)?r(o)[1]:r(o)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegužė_birželis_liepa_rugpjūtis_rugsėjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadienį_pirmadienį_antradienį_trečiadienį_ketvirtadienį_penktadienį_šeštadienį".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:function(e,t,n,i){return t?"kelios sekundės":i?"kelių sekundžių":"kelias sekundes"},ss:o,m:n,mm:o,h:n,hh:o,d:n,dd:o,M:n,MM:o,y:n,yy:o},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={ss:"sekundes_sekundēm_sekunde_sekundes".split("_"),m:"minūtes_minūtēm_minūte_minūtes".split("_"),mm:"minūtes_minūtēm_minūte_minūtes".split("_"),h:"stundas_stundām_stunda_stundas".split("_"),hh:"stundas_stundām_stunda_stundas".split("_"),d:"dienas_dienām_diena_dienas".split("_"),dd:"dienas_dienām_diena_dienas".split("_"),M:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),MM:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function i(e,i,r){return e+" "+n(t[r],e,i)}function r(e,i,r){return n(t[r],e,i)}e.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pēc %s",past:"pirms %s",s:function(e,t){return t?"dažas sekundes":"dažām sekundēm"},ss:i,m:r,mm:i,h:r,hh:i,d:r,dd:i,M:r,MM:i,y:r,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var r=t.words[i];return 1===i.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedjelje] [u] LT","[prošlog] [ponedjeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srijede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("mi",{months:"Kohi-tāte_Hui-tanguru_Poutū-te-rangi_Paenga-whāwhā_Haratua_Pipiri_Hōngoingoi_Here-turi-kōkā_Mahuru_Whiringa-ā-nuku_Whiringa-ā-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hōngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rātapu_Mane_Tūrei_Wenerei_Tāite_Paraire_Hātarei".split("_"),weekdaysShort:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),weekdaysMin:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hēkona ruarua",ss:"%d hēkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"[Во] dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"после %s",past:"пред %s",s:"неколку секунди",ss:"%d секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",M:"месец",MM:"%d месеци",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),monthsParseExact:!0,weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -നു",LLLL:"dddd, D MMMM YYYY, A h:mm -നു"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",ss:"%d സെക്കൻഡ്",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/രാത്രി|രാവിലെ|ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി/i,meridiemHour:function(e,t){return 12===e&&(e=0),"രാത്രി"===t&&e>=4||"ഉച്ച കഴിഞ്ഞ്"===t||"വൈകുന്നേരം"===t?e+12:e},meridiem:function(e,t,n){return e<4?"രാത്രി":e<12?"രാവിലെ":e<17?"ഉച്ച കഴിഞ്ഞ്":e<20?"വൈകുന്നേരം":"രാത്രി"}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};function i(e,t,n,i){var r="";if(t)switch(n){case"s":r="काही सेकंद";break;case"ss":r="%d सेकंद";break;case"m":r="एक मिनिट";break;case"mm":r="%d मिनिटे";break;case"h":r="एक तास";break;case"hh":r="%d तास";break;case"d":r="एक दिवस";break;case"dd":r="%d दिवस";break;case"M":r="एक महिना";break;case"MM":r="%d महिने";break;case"y":r="एक वर्ष";break;case"yy":r="%d वर्षे"}else switch(n){case"s":r="काही सेकंदां";break;case"ss":r="%d सेकंदां";break;case"m":r="एका मिनिटा";break;case"mm":r="%d मिनिटां";break;case"h":r="एका तासा";break;case"hh":r="%d तासां";break;case"d":r="एका दिवसा";break;case"dd":r="%d दिवसां";break;case"M":r="एका महिन्या";break;case"MM":r="%d महिन्यां";break;case"y":r="एका वर्षा";break;case"yy":r="%d वर्षां"}return r.replace(/%d/i,e)}e.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm वाजता",LLLL:"dddd, D MMMM YYYY, A h:mm वाजता"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%sमध्ये",past:"%sपूर्वी",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/रात्री|सकाळी|दुपारी|सायंकाळी/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात्री"===t?e<4?e:e+12:"सकाळी"===t?e:"दुपारी"===t?e>=10?e:e+12:"सायंकाळी"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"रात्री":e<10?"सकाळी":e<17?"दुपारी":e<20?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_Ġunju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diċembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_Ġun_Lul_Aww_Set_Ott_Nov_Diċ".split("_"),weekdays:"Il-Ħadd_It-Tnejn_It-Tlieta_L-Erbgħa_Il-Ħamis_Il-Ġimgħa_Is-Sibt".split("_"),weekdaysShort:"Ħad_Tne_Tli_Erb_Ħam_Ġim_Sib".split("_"),weekdaysMin:"Ħa_Tn_Tl_Er_Ħa_Ġi_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Għada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-bieraħ fil-]LT",lastWeek:"dddd [li għadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f’ %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siegħa",hh:"%d siegħat",d:"ġurnata",dd:"%d ġranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"},n={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"};e.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",ss:"%d စက္ကန့်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(e){return e.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),monthsParseExact:!0,weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आ._सो._मं._बु._बि._शु._श.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aको h:mm बजे",LLLL:"dddd, D MMMM YYYY, Aको h:mm बजे"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/राति|बिहान|दिउँसो|साँझ/,meridiemHour:function(e,t){return 12===e&&(e=0),"राति"===t?e<4?e:e+12:"बिहान"===t?e:"दिउँसो"===t?e>=10?e:e+12:"साँझ"===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"राति":e<12?"बिहान":e<16?"दिउँसो":e<20?"साँझ":"राति"},calendar:{sameDay:"[आज] LT",nextDay:"[भोलि] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडि",s:"केही क्षण",ss:"%d सेकेण्ड",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:0,doy:6}})}(n(10))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={1:"੧",2:"੨",3:"੩",4:"੪",5:"੫",6:"੬",7:"੭",8:"੮",9:"੯",0:"੦"},n={"੧":"1","੨":"2","੩":"3","੪":"4","੫":"5","੬":"6","੭":"7","੮":"8","੯":"9","੦":"0"};e.defineLocale("pa-in",{months:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),monthsShort:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),weekdays:"ਐਤਵਾਰ_ਸੋਮਵਾਰ_ਮੰਗਲਵਾਰ_ਬੁਧਵਾਰ_ਵੀਰਵਾਰ_ਸ਼ੁੱਕਰਵਾਰ_ਸ਼ਨੀਚਰਵਾਰ".split("_"),weekdaysShort:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),weekdaysMin:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),longDateFormat:{LT:"A h:mm ਵਜੇ",LTS:"A h:mm:ss ਵਜੇ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ਵਜੇ",LLLL:"dddd, D MMMM YYYY, A h:mm ਵਜੇ"},calendar:{sameDay:"[ਅਜ] LT",nextDay:"[ਕਲ] LT",nextWeek:"dddd, LT",lastDay:"[ਕਲ] LT",lastWeek:"[ਪਿਛਲੇ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ਵਿੱਚ",past:"%s ਪਿਛਲੇ",s:"ਕੁਝ ਸਕਿੰਟ",ss:"%d ਸਕਿੰਟ",m:"ਇਕ ਮਿੰਟ",mm:"%d ਮਿੰਟ",h:"ਇੱਕ ਘੰਟਾ",hh:"%d ਘੰਟੇ",d:"ਇੱਕ ਦਿਨ",dd:"%d ਦਿਨ",M:"ਇੱਕ ਮਹੀਨਾ",MM:"%d ਮਹੀਨੇ",y:"ਇੱਕ ਸਾਲ",yy:"%d ਸਾਲ"},preparse:function(e){return e.replace(/[੧੨੩੪੫੬੭੮੯੦]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/ਰਾਤ|ਸਵੇਰ|ਦੁਪਹਿਰ|ਸ਼ਾਮ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ਰਾਤ"===t?e<4?e:e+12:"ਸਵੇਰ"===t?e:"ਦੁਪਹਿਰ"===t?e>=10?e:e+12:"ਸ਼ਾਮ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ਰਾਤ":e<10?"ਸਵੇਰ":e<17?"ਦੁਪਹਿਰ":e<20?"ਸ਼ਾਮ":"ਰਾਤ"},week:{dow:0,doy:6}})}(n(10))},function(e,t,n){!function(e){"use strict";var t="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");function i(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function r(e,t,n){var r=e+" ";switch(n){case"ss":return r+(i(e)?"sekundy":"sekund");case"m":return t?"minuta":"minutę";case"mm":return r+(i(e)?"minuty":"minut");case"h":return t?"godzina":"godzinę";case"hh":return r+(i(e)?"godziny":"godzin");case"MM":return r+(i(e)?"miesiące":"miesięcy");case"yy":return r+(i(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,i){return e?""===i?"("+n[e.month()]+"|"+t[e.month()]+")":/D MMMM/.test(i)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_śr_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedzielę o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W środę o] LT";case 6:return"[W sobotę o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:r,m:r,mm:r,h:r,hh:r,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:r,y:"rok",yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº"})}(n(10))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var i=" ";return(e%100>=20||e>=100&&e%100==0)&&(i=" de "),e+i+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[n]}e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",ss:t,m:"un minut",mm:t,h:"o oră",hh:t,d:"o zi",dd:t,M:"o lună",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var i={ss:t?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:t?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===n?t?"минута":"минуту":e+" "+function(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}(i[n],+e)}var n=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i];e.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В следующее] dddd [в] LT";case 1:case 2:case 4:return"[В следующий] dddd [в] LT";case 3:case 5:case 6:return"[В следующую] dddd [в] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",ss:t,m:t,mm:t,h:"час",hh:t,d:"день",dd:t,M:"месяц",MM:t,y:"год",yy:t},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночи":e<12?"утра":e<17?"дня":"вечера"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";var t=["جنوري","فيبروري","مارچ","اپريل","مئي","جون","جولاءِ","آگسٽ","سيپٽمبر","آڪٽوبر","نومبر","ڊسمبر"],n=["آچر","سومر","اڱارو","اربع","خميس","جمع","ڇنڇر"];e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[اڄ] LT",nextDay:"[سڀاڻي] LT",nextWeek:"dddd [اڳين هفتي تي] LT",lastDay:"[ڪالهه] LT",lastWeek:"[گزريل هفتي] dddd [تي] LT",sameElse:"L"},relativeTime:{future:"%s پوء",past:"%s اڳ",s:"چند سيڪنڊ",ss:"%d سيڪنڊ",m:"هڪ منٽ",mm:"%d منٽ",h:"هڪ ڪلاڪ",hh:"%d ڪلاڪ",d:"هڪ ڏينهن",dd:"%d ڏينهن",M:"هڪ مهينو",MM:"%d مهينا",y:"هڪ سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("se",{months:"ođđajagemánnu_guovvamánnu_njukčamánnu_cuoŋománnu_miessemánnu_geassemánnu_suoidnemánnu_borgemánnu_čakčamánnu_golggotmánnu_skábmamánnu_juovlamánnu".split("_"),monthsShort:"ođđj_guov_njuk_cuo_mies_geas_suoi_borg_čakč_golg_skáb_juov".split("_"),weekdays:"sotnabeaivi_vuossárga_maŋŋebárga_gaskavahkku_duorastat_bearjadat_lávvardat".split("_"),weekdaysShort:"sotn_vuos_maŋ_gask_duor_bear_láv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geažes",past:"maŋit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mánnu",MM:"%d mánut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("si",{months:"ජනවාරි_පෙබරවාරි_මාර්තු_අප්‍රේල්_මැයි_ජූනි_ජූලි_අගෝස්තු_සැප්තැම්බර්_ඔක්තෝබර්_නොවැම්බර්_දෙසැම්බර්".split("_"),monthsShort:"ජන_පෙබ_මාර්_අප්_මැයි_ජූනි_ජූලි_අගෝ_සැප්_ඔක්_නොවැ_දෙසැ".split("_"),weekdays:"ඉරිදා_සඳුදා_අඟහරුවාදා_බදාදා_බ්‍රහස්පතින්දා_සිකුරාදා_සෙනසුරාදා".split("_"),weekdaysShort:"ඉරි_සඳු_අඟ_බදා_බ්‍රහ_සිකු_සෙන".split("_"),weekdaysMin:"ඉ_ස_අ_බ_බ්‍ර_සි_සෙ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [වැනි] dddd, a h:mm:ss"},calendar:{sameDay:"[අද] LT[ට]",nextDay:"[හෙට] LT[ට]",nextWeek:"dddd LT[ට]",lastDay:"[ඊයේ] LT[ට]",lastWeek:"[පසුගිය] dddd LT[ට]",sameElse:"L"},relativeTime:{future:"%sකින්",past:"%sකට පෙර",s:"තත්පර කිහිපය",ss:"තත්පර %d",m:"මිනිත්තුව",mm:"මිනිත්තු %d",h:"පැය",hh:"පැය %d",d:"දිනය",dd:"දින %d",M:"මාසය",MM:"මාස %d",y:"වසර",yy:"වසර %d"},dayOfMonthOrdinalParse:/\d{1,2} වැනි/,ordinal:function(e){return e+" වැනි"},meridiemParse:/පෙර වරු|පස් වරු|පෙ.ව|ප.ව./,isPM:function(e){return"ප.ව."===e||"පස් වරු"===e},meridiem:function(e,t,n){return e>11?n?"ප.ව.":"පස් වරු":n?"පෙ.ව.":"පෙර වරු"}})}(n(10))},function(e,t,n){!function(e){"use strict";var t="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),n="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");function i(e){return e>1&&e<5}function r(e,t,n,r){var o=e+" ";switch(n){case"s":return t||r?"pár sekúnd":"pár sekundami";case"ss":return t||r?o+(i(e)?"sekundy":"sekúnd"):o+"sekundami";case"m":return t?"minúta":r?"minútu":"minútou";case"mm":return t||r?o+(i(e)?"minúty":"minút"):o+"minútami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?o+(i(e)?"hodiny":"hodín"):o+"hodinami";case"d":return t||r?"deň":"dňom";case"dd":return t||r?o+(i(e)?"dni":"dní"):o+"dňami";case"M":return t||r?"mesiac":"mesiacom";case"MM":return t||r?o+(i(e)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return t||r?"rok":"rokom";case"yy":return t||r?o+(i(e)?"roky":"rokov"):o+"rokmi"}}e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r=e+" ";switch(n){case"s":return t||i?"nekaj sekund":"nekaj sekundami";case"ss":return r+=1===e?t?"sekundo":"sekundi":2===e?t||i?"sekundi":"sekundah":e<5?t||i?"sekunde":"sekundah":"sekund";case"m":return t?"ena minuta":"eno minuto";case"mm":return r+=1===e?t?"minuta":"minuto":2===e?t||i?"minuti":"minutama":e<5?t||i?"minute":"minutami":t||i?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return r+=1===e?t?"ura":"uro":2===e?t||i?"uri":"urama":e<5?t||i?"ure":"urami":t||i?"ur":"urami";case"d":return t||i?"en dan":"enim dnem";case"dd":return r+=1===e?t||i?"dan":"dnem":2===e?t||i?"dni":"dnevoma":t||i?"dni":"dnevi";case"M":return t||i?"en mesec":"enim mesecem";case"MM":return r+=1===e?t||i?"mesec":"mesecem":2===e?t||i?"meseca":"mesecema":e<5?t||i?"mesece":"meseci":t||i?"mesecev":"meseci";case"y":return t||i?"eno leto":"enim letom";case"yy":return r+=1===e?t||i?"leto":"letom":2===e?t||i?"leti":"letoma":e<5?t||i?"leta":"leti":t||i?"let":"leti"}}e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejšnjo] [nedeljo] [ob] LT";case 3:return"[prejšnjo] [sredo] [ob] LT";case 6:return"[prejšnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",ss:"%d sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var r=t.words[i];return 1===i.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["секунда","секунде","секунди"],m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var r=t.words[i];return 1===i.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};e.defineLocale("sr-cyrl",{months:"јануар_фебруар_март_април_мај_јун_јул_август_септембар_октобар_новембар_децембар".split("_"),monthsShort:"јан._феб._мар._апр._мај_јун_јул_авг._сеп._окт._нов._дец.".split("_"),monthsParseExact:!0,weekdays:"недеља_понедељак_уторак_среда_четвртак_петак_субота".split("_"),weekdaysShort:"нед._пон._уто._сре._чет._пет._суб.".split("_"),weekdaysMin:"не_по_ут_ср_че_пе_су".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){return["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"дан",dd:t.translate,M:"месец",MM:t.translate,y:"годину",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"e":1===t?"a":2===t?"a":"e";return e+n},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={1:"௧",2:"௨",3:"௩",4:"௪",5:"௫",6:"௬",7:"௭",8:"௮",9:"௯",0:"௦"},n={"௧":"1","௨":"2","௩":"3","௪":"4","௫":"5","௬":"6","௭":"7","௮":"8","௯":"9","௦":"0"};e.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",ss:"%d விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},dayOfMonthOrdinalParse:/\d{1,2}வது/,ordinal:function(e){return e+"வது"},preparse:function(e){return e.replace(/[௧௨௩௪௫௬௭௮௯௦]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/யாமம்|வைகறை|காலை|நண்பகல்|எற்பாடு|மாலை/,meridiem:function(e,t,n){return e<2?" யாமம்":e<6?" வைகறை":e<10?" காலை":e<14?" நண்பகல்":e<18?" எற்பாடு":e<22?" மாலை":" யாமம்"},meridiemHour:function(e,t){return 12===e&&(e=0),"யாமம்"===t?e<2?e:e+12:"வைகறை"===t||"காலை"===t?e:"நண்பகல்"===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("te",{months:"జనవరి_ఫిబ్రవరి_మార్చి_ఏప్రిల్_మే_జూన్_జూలై_ఆగస్టు_సెప్టెంబర్_అక్టోబర్_నవంబర్_డిసెంబర్".split("_"),monthsShort:"జన._ఫిబ్ర._మార్చి_ఏప్రి._మే_జూన్_జూలై_ఆగ._సెప్._అక్టో._నవ._డిసె.".split("_"),monthsParseExact:!0,weekdays:"ఆదివారం_సోమవారం_మంగళవారం_బుధవారం_గురువారం_శుక్రవారం_శనివారం".split("_"),weekdaysShort:"ఆది_సోమ_మంగళ_బుధ_గురు_శుక్ర_శని".split("_"),weekdaysMin:"ఆ_సో_మం_బు_గు_శు_శ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[నేడు] LT",nextDay:"[రేపు] LT",nextWeek:"dddd, LT",lastDay:"[నిన్న] LT",lastWeek:"[గత] dddd, LT",sameElse:"L"},relativeTime:{future:"%s లో",past:"%s క్రితం",s:"కొన్ని క్షణాలు",ss:"%d సెకన్లు",m:"ఒక నిమిషం",mm:"%d నిమిషాలు",h:"ఒక గంట",hh:"%d గంటలు",d:"ఒక రోజు",dd:"%d రోజులు",M:"ఒక నెల",MM:"%d నెలలు",y:"ఒక సంవత్సరం",yy:"%d సంవత్సరాలు"},dayOfMonthOrdinalParse:/\d{1,2}వ/,ordinal:"%dవ",meridiemParse:/రాత్రి|ఉదయం|మధ్యాహ్నం|సాయంత్రం/,meridiemHour:function(e,t){return 12===e&&(e=0),"రాత్రి"===t?e<4?e:e+12:"ఉదయం"===t?e:"మధ్యాహ్నం"===t?e>=10?e:e+12:"సాయంత్రం"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"రాత్రి":e<10?"ఉదయం":e<17?"మధ్యాహ్నం":e<20?"సాయంత్రం":"రాత్రి"},week:{dow:0,doy:6}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juniu_Juliu_Augustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Aug_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sexta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sext_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Sex_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutus %d",h:"horas ida",hh:"horas %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),monthsParseExact:!0,weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(e){return"หลังเที่ยง"===e},meridiem:function(e,t,n){return e<12?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",ss:"%d วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";var t="pagh_wa’_cha’_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e,n,i,r){var o=function(e){var n=Math.floor(e%1e3/100),i=Math.floor(e%100/10),r=e%10,o="";return n>0&&(o+=t[n]+"vatlh"),i>0&&(o+=(""!==o?" ":"")+t[i]+"maH"),r>0&&(o+=(""!==o?" ":"")+t[r]),""===o?"pagh":o}(e);switch(i){case"ss":return o+" lup";case"mm":return o+" tup";case"hh":return o+" rep";case"dd":return o+" jaj";case"MM":return o+" jar";case"yy":return o+" DIS"}}e.defineLocale("tlh",{months:"tera’ jar wa’_tera’ jar cha’_tera’ jar wej_tera’ jar loS_tera’ jar vagh_tera’ jar jav_tera’ jar Soch_tera’ jar chorgh_tera’ jar Hut_tera’ jar wa’maH_tera’ jar wa’maH wa’_tera’ jar wa’maH cha’".split("_"),monthsShort:"jar wa’_jar cha’_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa’maH_jar wa’maH wa’_jar wa’maH cha’".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa’leS] LT",nextWeek:"LLL",lastDay:"[wa’Hu’] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu’":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:n,m:"wa’ tup",mm:n,h:"wa’ rep",hh:n,d:"wa’ jaj",dd:n,M:"wa’ jar",MM:n,y:"wa’ DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};e.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},dayOfMonthOrdinalParse:/\d{1,2}'(inci|nci|üncü|ncı|uncu|ıncı)/,ordinal:function(e){if(0===e)return e+"'ıncı";var n=e%10,i=e%100-n,r=e>=100?100:null;return e+(t[n]||t[i]||t[r])},week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n míut","'iens míut"],mm:[e+" míuts",e+" míuts"],h:["'n þora","'iensa þora"],hh:[e+" þoras",e+" þoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return i?r[n][0]:t?r[n][0]:r[n][1]}e.defineLocale("tzl",{months:"Januar_Fevraglh_Març_Avrïu_Mai_Gün_Julia_Guscht_Setemvar_Listopäts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gün_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Súladi_Lúneçi_Maitzi_Márcuri_Xhúadi_Viénerçi_Sáturi".split("_"),weekdaysShort:"Súl_Lún_Mai_Már_Xhú_Vié_Sát".split("_"),weekdaysMin:"Sú_Lú_Ma_Má_Xh_Vi_Sá".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi à] LT",nextDay:"[demà à] LT",nextWeek:"dddd [à] LT",lastDay:"[ieiri à] LT",lastWeek:"[sür el] dddd [lasteu à] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",ss:"%d ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(10))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var i={ss:t?"секунда_секунди_секунд":"секунду_секунди_секунд",mm:t?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:t?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};return"m"===n?t?"хвилина":"хвилину":"h"===n?t?"година":"годину":e+" "+function(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}(i[n],+e)}function n(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}e.defineLocale("uk",{months:{format:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),standalone:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_")},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:function(e,t){var n={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")};if(!e)return n.nominative;var i=/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative";return n[i][e.day()]},weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"},calendar:{sameDay:n("[Сьогодні "),nextDay:n("[Завтра "),lastDay:n("[Вчора "),nextWeek:n("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[Минулої] dddd [").call(this);case 1:case 2:case 4:return n("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",ss:t,m:t,mm:t,h:"годину",hh:t,d:"день",dd:t,M:"місяць",MM:t,y:"рік",yy:t},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(e){return/^(дня|вечора)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночі":e<12?"ранку":e<17?"дня":"вечора"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";var t=["جنوری","فروری","مارچ","اپریل","مئی","جون","جولائی","اگست","ستمبر","اکتوبر","نومبر","دسمبر"],n=["اتوار","پیر","منگل","بدھ","جمعرات","جمعہ","ہفتہ"];e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[آج بوقت] LT",nextDay:"[کل بوقت] LT",nextWeek:"dddd [بوقت] LT",lastDay:"[گذشتہ روز بوقت] LT",lastWeek:"[گذشتہ] dddd [بوقت] LT",sameElse:"L"},relativeTime:{future:"%s بعد",past:"%s قبل",s:"چند سیکنڈ",ss:"%d سیکنڈ",m:"ایک منٹ",mm:"%d منٹ",h:"ایک گھنٹہ",hh:"%d گھنٹے",d:"ایک دن",dd:"%d دن",M:"ایک ماہ",MM:"%d ماہ",y:"ایک سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("uz",{months:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",ss:"%d фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",ss:"%d giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("x-pseudo",{months:"J~áñúá~rý_F~ébrú~árý_~Márc~h_Áp~ríl_~Máý_~Júñé~_Júl~ý_Áú~gúst~_Sép~témb~ér_Ó~ctób~ér_Ñ~óvém~bér_~Décé~mbér".split("_"),monthsShort:"J~áñ_~Féb_~Már_~Ápr_~Máý_~Júñ_~Júl_~Áúg_~Sép_~Óct_~Ñóv_~Déc".split("_"),monthsParseExact:!0,weekdays:"S~úñdá~ý_Mó~ñdáý~_Túé~sdáý~_Wéd~ñésd~áý_T~húrs~dáý_~Fríd~áý_S~átúr~dáý".split("_"),weekdaysShort:"S~úñ_~Móñ_~Túé_~Wéd_~Thú_~Frí_~Sát".split("_"),weekdaysMin:"S~ú_Mó~_Tú_~Wé_T~h_Fr~_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~ódá~ý át] LT",nextDay:"[T~ómó~rró~w át] LT",nextWeek:"dddd [át] LT",lastDay:"[Ý~ést~érdá~ý át] LT",lastWeek:"[L~ást] dddd [át] LT",sameElse:"L"},relativeTime:{future:"í~ñ %s",past:"%s á~gó",s:"á ~féw ~sécó~ñds",ss:"%d s~écóñ~ds",m:"á ~míñ~úté",mm:"%d m~íñú~tés",h:"á~ñ hó~úr",hh:"%d h~óúrs",d:"á ~dáý",dd:"%d d~áýs",M:"á ~móñ~th",MM:"%d m~óñt~hs",y:"á ~ýéár",yy:"%d ý~éárs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("yo",{months:"Sẹ́rẹ́_Èrèlè_Ẹrẹ̀nà_Ìgbé_Èbibi_Òkùdu_Agẹmo_Ògún_Owewe_Ọ̀wàrà_Bélú_Ọ̀pẹ̀̀".split("_"),monthsShort:"Sẹ́r_Èrl_Ẹrn_Ìgb_Èbi_Òkù_Agẹ_Ògú_Owe_Ọ̀wà_Bél_Ọ̀pẹ̀̀".split("_"),weekdays:"Àìkú_Ajé_Ìsẹ́gun_Ọjọ́rú_Ọjọ́bọ_Ẹtì_Àbámẹ́ta".split("_"),weekdaysShort:"Àìk_Ajé_Ìsẹ́_Ọjr_Ọjb_Ẹtì_Àbá".split("_"),weekdaysMin:"Àì_Aj_Ìs_Ọr_Ọb_Ẹt_Àb".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Ònì ni] LT",nextDay:"[Ọ̀la ni] LT",nextWeek:"dddd [Ọsẹ̀ tón'bọ] [ni] LT",lastDay:"[Àna ni] LT",lastWeek:"dddd [Ọsẹ̀ tólọ́] [ni] LT",sameElse:"L"},relativeTime:{future:"ní %s",past:"%s kọjá",s:"ìsẹjú aayá die",ss:"aayá %d",m:"ìsẹjú kan",mm:"ìsẹjú %d",h:"wákati kan",hh:"wákati %d",d:"ọjọ́ kan",dd:"ọjọ́ %d",M:"osù kan",MM:"osù %d",y:"ọdún kan",yy:"ọdún %d"},dayOfMonthOrdinalParse:/ọjọ́\s\d{1,2}/,ordinal:"ọjọ́ %d",week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"下午"===t||"晚上"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var i=100*e+t;return i<600?"凌晨":i<900?"早上":i<1130?"上午":i<1230?"中午":i<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",ss:"%d 秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-hk",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var i=100*e+t;return i<600?"凌晨":i<900?"早上":i<1130?"上午":i<1230?"中午":i<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var i=100*e+t;return i<600?"凌晨":i<900?"早上":i<1130?"上午":i<1230?"中午":i<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}(n(10))},function(e,t,n){!function(e){"use strict";e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},i=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},o=function(e){return function(t,n,o,a){var s=i(t),l=r[e][i(t)];return 2===s&&(l=l[n?0:1]),l.replace(/%d/i,t)}},a=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar",{months:a,monthsShort:a,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-dz",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اثنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"أح_إث_ثلا_أر_خم_جم_سب".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-kw",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:12}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},r=function(e){return function(t,r,o,a){var s=n(t),l=i[e][n(t)];return 2===s&&(l=l[r?0:1]),l.replace(/%d/i,t)}},o=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar-ly",{months:o,monthsShort:o,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};e.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:0,doy:6}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"birneçə saniyə",ss:"%d saniyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecə|səhər|gündüz|axşam/,isPM:function(e){return/^(gündüz|axşam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gecə":e<12?"səhər":e<17?"gündüz":"axşam"},dayOfMonthOrdinalParse:/\d{1,2}-(ıncı|inci|nci|üncü|ncı|uncu)/,ordinal:function(e){if(0===e)return e+"-ıncı";var n=e%10,i=e%100-n,r=e>=100?100:null;return e+(t[n]||t[i]||t[r])},week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var i={ss:t?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:t?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:t?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"};return"m"===n?t?"хвіліна":"хвіліну":"h"===n?t?"гадзіна":"гадзіну":e+" "+function(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}(i[n],+e)}e.defineLocale("be",{months:{format:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_"),standalone:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_")},monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:{format:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_"),standalone:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),isFormat:/\[ ?[Ууў] ?(?:мінулую|наступную)? ?\] ?dddd/},weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:t,mm:t,h:t,hh:t,d:"дзень",dd:t,M:"месяц",MM:t,y:"год",yy:t},meridiemParse:/ночы|раніцы|дня|вечара/,isPM:function(e){return/^(дня|вечара)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночы":e<12?"раніцы":e<17?"дня":"вечара"},dayOfMonthOrdinalParse:/\d{1,2}-(і|ы|га)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-ы":e+"-і";case"D":return e+"-га";default:return e}},week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",ss:"%d секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mɛkalo_Zuwɛnkalo_Zuluyekalo_Utikalo_Sɛtanburukalo_ɔkutɔburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_Mɛ_Zuw_Zul_Uti_Sɛt_ɔku_Now_Des".split("_"),weekdays:"Kari_Ntɛnɛn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Ntɛ_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm"},calendar:{sameDay:"[Bi lɛrɛ] LT",nextDay:"[Sini lɛrɛ] LT",nextWeek:"dddd [don lɛrɛ] LT",lastDay:"[Kunu lɛrɛ] LT",lastWeek:"dddd [tɛmɛnen lɛrɛ] LT",sameElse:"L"},relativeTime:{future:"%s kɔnɔ",past:"a bɛ %s bɔ",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lɛrɛ kelen",hh:"lɛrɛ %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},n={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};e.defineLocale("bn",{months:"জানুয়ারী_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব_মার্চ_এপ্র_মে_জুন_জুল_আগ_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গ_বুধ_বৃহঃ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",ss:"%d সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/রাত|সকাল|দুপুর|বিকাল|রাত/,meridiemHour:function(e,t){return 12===e&&(e=0),"রাত"===t&&e>=4||"দুপুর"===t&&e<5||"বিকাল"===t?e+12:e},meridiem:function(e,t,n){return e<4?"রাত":e<10?"সকাল":e<17?"দুপুর":e<20?"বিকাল":"রাত"},week:{dow:0,doy:6}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"},n={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"};e.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",ss:"%d སྐར་ཆ།",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(e){return e.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/མཚན་མོ|ཞོགས་ཀས|ཉིན་གུང|དགོང་དག|མཚན་མོ/,meridiemHour:function(e,t){return 12===e&&(e=0),"མཚན་མོ"===t&&e>=4||"ཉིན་གུང"===t&&e<5||"དགོང་དག"===t?e+12:e},meridiem:function(e,t,n){return e<4?"མཚན་མོ":e<10?"ཞོགས་ཀས":e<17?"ཉིན་གུང":e<20?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}})}(n(9))},function(e,t,n){!function(e){"use strict";function t(e,t,n){return e+" "+function(e,t){return 2===t?function(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}(e):e}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:function(e){switch(function e(t){return t>9?e(t%10):t}(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(añ|vet)/,ordinal:function(e){var t=1===e?"añ":"vet";return e+t},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var i=e+" ";switch(n){case"ss":return i+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return i+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return i+=1===e?"dan":"dana";case"MM":return i+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return i+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("ca",{months:{standalone:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de març_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";var t="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),n="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_");function i(e){return e>1&&e<5&&1!=~~(e/10)}function r(e,t,n,r){var o=e+" ";switch(n){case"s":return t||r?"pár sekund":"pár sekundami";case"ss":return t||r?o+(i(e)?"sekundy":"sekund"):o+"sekundami";case"m":return t?"minuta":r?"minutu":"minutou";case"mm":return t||r?o+(i(e)?"minuty":"minut"):o+"minutami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?o+(i(e)?"hodiny":"hodin"):o+"hodinami";case"d":return t||r?"den":"dnem";case"dd":return t||r?o+(i(e)?"dny":"dní"):o+"dny";case"M":return t||r?"měsíc":"měsícem";case"MM":return t||r?o+(i(e)?"měsíce":"měsíců"):o+"měsíci";case"y":return t||r?"rok":"rokem";case"yy":return t||r?o+(i(e)?"roky":"let"):o+"lety"}}e.defineLocale("cs",{months:t,monthsShort:n,monthsParse:function(e,t){var n,i=[];for(n=0;n<12;n++)i[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return i}(t,n),shortMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(n),longMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(t),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("cv",{months:"кӑрлач_нарӑс_пуш_ака_май_ҫӗртме_утӑ_ҫурла_авӑн_юпа_чӳк_раштав".split("_"),monthsShort:"кӑр_нар_пуш_ака_май_ҫӗр_утӑ_ҫур_авн_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кӗҫнерникун_эрнекун_шӑматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кӗҫ_эрн_шӑм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кҫ_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ]",LLL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm",LLLL:"dddd, YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ӗнер] LT [сехетре]",nextWeek:"[Ҫитес] dddd LT [сехетре]",lastWeek:"[Иртнӗ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){var t=/сехет$/i.exec(e)?"рен":/ҫул$/i.exec(e)?"тан":"ран";return e+t},past:"%s каялла",s:"пӗр-ик ҫеккунт",ss:"%d ҫеккунт",m:"пӗр минут",mm:"%d минут",h:"пӗр сехет",hh:"%d сехет",d:"пӗр кун",dd:"%d кун",M:"пӗр уйӑх",MM:"%d уйӑх",y:"пӗр ҫул",yy:"%d ҫул"},dayOfMonthOrdinalParse:/\d{1,2}-мӗш/,ordinal:"%d-мӗш",week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,n="";return t>20?n=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(n=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][t]),e+n},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"på dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}e.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}e.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}e.defineLocale("de-ch",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";var t=["ޖެނުއަރީ","ފެބްރުއަރީ","މާރިޗު","އޭޕްރީލު","މޭ","ޖޫން","ޖުލައި","އޯގަސްޓު","ސެޕްޓެމްބަރު","އޮކްޓޯބަރު","ނޮވެމްބަރު","ޑިސެމްބަރު"],n=["އާދިއްތަ","ހޯމަ","އަންގާރަ","ބުދަ","ބުރާސްފަތި","ހުކުރު","ހޮނިހިރު"];e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"އާދި_ހޯމަ_އަން_ބުދަ_ބުރާ_ހުކު_ހޮނި".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/މކ|މފ/,isPM:function(e){return"މފ"===e},meridiem:function(e,t,n){return e<12?"މކ":"މފ"},calendar:{sameDay:"[މިއަދު] LT",nextDay:"[މާދަމާ] LT",nextWeek:"dddd LT",lastDay:"[އިއްޔެ] LT",lastWeek:"[ފާއިތުވި] dddd LT",sameElse:"L"},relativeTime:{future:"ތެރޭގައި %s",past:"ކުރިން %s",s:"ސިކުންތުކޮޅެއް",ss:"d% ސިކުންތު",m:"މިނިޓެއް",mm:"މިނިޓު %d",h:"ގަޑިއިރެއް",hh:"ގަޑިއިރު %d",d:"ދުވަހެއް",dd:"ދުވަސް %d",M:"މަހެއް",MM:"މަސް %d",y:"އަހަރެއް",yy:"އަހަރު %d"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:7,doy:12}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,n){return e>11?n?"μμ":"ΜΜ":n?"πμ":"ΠΜ"},isPM:function(e){return"μ"===(e+"").toLowerCase()[0]},meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],i=t&&t.hours();return function(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}(n)&&(n=n.apply(t)),n.replace("{}",i%12==1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",ss:"%d δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},dayOfMonthOrdinalParse:/\d{1,2}η/,ordinal:"%dη",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"dimanĉo_lundo_mardo_merkredo_ĵaŭdo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_ĵaŭ_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_ĵa_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"antaŭ %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"MMMM [de] D [de] YYYY",LLL:"MMMM [de] D [de] YYYY h:mm A",LLLL:"dddd, MMMM [de] D [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:0,doy:6}})}(n(9))},function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={s:["mõne sekundi","mõni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["ühe minuti","üks minut"],mm:[e+" minuti",e+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[e+" tunni",e+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[e+" kuu",e+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[e+" aasta",e+" aastat"]};return t?r[n][2]?r[n][2]:r[n][1]:i?r[n][0]:r[n][1]}e.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d päeva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},n={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};e.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(e){return/بعد از ظهر/.test(e)},meridiem:function(e,t,n){return e<12?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چند ثانیه",ss:"ثانیه d%",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(e){return e.replace(/[۰-۹]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},dayOfMonthOrdinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}})}(n(9))},function(e,t,n){!function(e){"use strict";var t="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),n=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",t[7],t[8],t[9]];function i(e,i,r,o){var a="";switch(r){case"s":return o?"muutaman sekunnin":"muutama sekunti";case"ss":return o?"sekunnin":"sekuntia";case"m":return o?"minuutin":"minuutti";case"mm":a=o?"minuutin":"minuuttia";break;case"h":return o?"tunnin":"tunti";case"hh":a=o?"tunnin":"tuntia";break;case"d":return o?"päivän":"päivä";case"dd":a=o?"päivän":"päivää";break;case"M":return o?"kuukauden":"kuukausi";case"MM":a=o?"kuukauden":"kuukautta";break;case"y":return o?"vuoden":"vuosi";case"yy":a=o?"vuoden":"vuotta"}return a=function(e,i){return e<10?i?n[e]:t[e]:e}(e,o)+" "+a}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",ss:"%d sekundir",m:"ein minutt",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaði",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ch",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Màrt","An Giblean","An Cèitean","An t-Ògmhios","An t-Iuchar","An Lùnastal","An t-Sultain","An Dàmhair","An t-Samhain","An Dùbhlachd"],monthsShort:["Faoi","Gear","Màrt","Gibl","Cèit","Ògmh","Iuch","Lùn","Sult","Dàmh","Samh","Dùbh"],monthsParseExact:!0,weekdays:["Didòmhnaich","Diluain","Dimàirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["Dò","Lu","Mà","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-màireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-dè aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mìos",MM:"%d mìosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){var t=1===e?"d":e%10==2?"na":"mh";return e+t},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuño_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xuñ._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mércores_xoves_venres_sábado".split("_"),weekdaysShort:"dom._lun._mar._mér._xov._ven._sáb.".split("_"),weekdaysMin:"do_lu_ma_mé_xo_ve_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={s:["thodde secondanim","thodde second"],ss:[e+" secondanim",e+" second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka horan","ek hor"],hh:[e+" horanim",e+" horam"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return t?r[n][0]:r[n][1]}e.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokalli"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokalli":e<16?"donparam":e<20?"sanje":"rati"}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={1:"૧",2:"૨",3:"૩",4:"૪",5:"૫",6:"૬",7:"૭",8:"૮",9:"૯",0:"૦"},n={"૧":"1","૨":"2","૩":"3","૪":"4","૫":"5","૬":"6","૭":"7","૮":"8","૯":"9","૦":"0"};e.defineLocale("gu",{months:"જાન્યુઆરી_ફેબ્રુઆરી_માર્ચ_એપ્રિલ_મે_જૂન_જુલાઈ_ઑગસ્ટ_સપ્ટેમ્બર_ઑક્ટ્બર_નવેમ્બર_ડિસેમ્બર".split("_"),monthsShort:"જાન્યુ._ફેબ્રુ._માર્ચ_એપ્રિ._મે_જૂન_જુલા._ઑગ._સપ્ટે._ઑક્ટ્._નવે._ડિસે.".split("_"),monthsParseExact:!0,weekdays:"રવિવાર_સોમવાર_મંગળવાર_બુધ્વાર_ગુરુવાર_શુક્રવાર_શનિવાર".split("_"),weekdaysShort:"રવિ_સોમ_મંગળ_બુધ્_ગુરુ_શુક્ર_શનિ".split("_"),weekdaysMin:"ર_સો_મં_બુ_ગુ_શુ_શ".split("_"),longDateFormat:{LT:"A h:mm વાગ્યે",LTS:"A h:mm:ss વાગ્યે",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm વાગ્યે",LLLL:"dddd, D MMMM YYYY, A h:mm વાગ્યે"},calendar:{sameDay:"[આજ] LT",nextDay:"[કાલે] LT",nextWeek:"dddd, LT",lastDay:"[ગઇકાલે] LT",lastWeek:"[પાછલા] dddd, LT",sameElse:"L"},relativeTime:{future:"%s મા",past:"%s પેહલા",s:"અમુક પળો",ss:"%d સેકંડ",m:"એક મિનિટ",mm:"%d મિનિટ",h:"એક કલાક",hh:"%d કલાક",d:"એક દિવસ",dd:"%d દિવસ",M:"એક મહિનો",MM:"%d મહિનો",y:"એક વર્ષ",yy:"%d વર્ષ"},preparse:function(e){return e.replace(/[૧૨૩૪૫૬૭૮૯૦]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/રાત|બપોર|સવાર|સાંજ/,meridiemHour:function(e,t){return 12===e&&(e=0),"રાત"===t?e<4?e:e+12:"સવાર"===t?e:"બપોર"===t?e>=10?e:e+12:"સાંજ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"રાત":e<10?"સવાર":e<17?"બપોર":e<20?"સાંજ":"રાત"},week:{dow:0,doy:6}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY HH:mm",LLLL:"dddd, D [ב]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",ss:"%d שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){return 2===e?"שעתיים":e+" שעות"},d:"יום",dd:function(e){return 2===e?"יומיים":e+" ימים"},M:"חודש",MM:function(e){return 2===e?"חודשיים":e+" חודשים"},y:"שנה",yy:function(e){return 2===e?"שנתיים":e%10==0&&10!==e?e+" שנה":e+" שנים"}},meridiemParse:/אחה"צ|לפנה"צ|אחרי הצהריים|לפני הצהריים|לפנות בוקר|בבוקר|בערב/i,isPM:function(e){return/^(אחה"צ|אחרי הצהריים|בערב)$/.test(e)},meridiem:function(e,t,n){return e<5?"לפנות בוקר":e<10?"בבוקר":e<12?n?'לפנה"צ':"לפני הצהריים":e<18?n?'אחה"צ':"אחרי הצהריים":"בערב"}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.defineLocale("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",ss:"%d सेकंड",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/रात|सुबह|दोपहर|शाम/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात"===t?e<4?e:e+12:"सुबह"===t?e:"दोपहर"===t?e>=10?e:e+12:"शाम"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"रात":e<10?"सुबह":e<17?"दोपहर":e<20?"शाम":"रात"},week:{dow:0,doy:6}})}(n(9))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var i=e+" ";switch(n){case"ss":return i+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return i+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return i+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return i+=1===e?"dan":"dana";case"MM":return i+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return i+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}e.defineLocale("hr",{months:{format:"siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";var t="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");function n(e,t,n,i){var r=e;switch(n){case"s":return i||t?"néhány másodperc":"néhány másodperce";case"ss":return r+(i||t)?" másodperc":" másodperce";case"m":return"egy"+(i||t?" perc":" perce");case"mm":return r+(i||t?" perc":" perce");case"h":return"egy"+(i||t?" óra":" órája");case"hh":return r+(i||t?" óra":" órája");case"d":return"egy"+(i||t?" nap":" napja");case"dd":return r+(i||t?" nap":" napja");case"M":return"egy"+(i||t?" hónap":" hónapja");case"MM":return r+(i||t?" hónap":" hónapja");case"y":return"egy"+(i||t?" év":" éve");case"yy":return r+(i||t?" év":" éve")}return""}function i(e){return(e?"":"[múlt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return i.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return i.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("hy-am",{months:{format:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_"),standalone:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_")},monthsShort:"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_"),weekdays:"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_"),weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., HH:mm",LLLL:"dddd, D MMMM YYYY թ., HH:mm"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",ss:"%d վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/գիշերվա|առավոտվա|ցերեկվա|երեկոյան/,isPM:function(e){return/^(ցերեկվա|երեկոյան)$/.test(e)},meridiem:function(e){return e<4?"գիշերվա":e<12?"առավոտվա":e<17?"ցերեկվա":"երեկոյան"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(ին|րդ)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-ին":e+"-րդ";default:return e}},week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";function t(e){return e%100==11||e%10!=1}function n(e,n,i,r){var o=e+" ";switch(i){case"s":return n||r?"nokkrar sekúndur":"nokkrum sekúndum";case"ss":return t(e)?o+(n||r?"sekúndur":"sekúndum"):o+"sekúnda";case"m":return n?"mínúta":"mínútu";case"mm":return t(e)?o+(n||r?"mínútur":"mínútum"):n?o+"mínúta":o+"mínútu";case"hh":return t(e)?o+(n||r?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":r?"dag":"degi";case"dd":return t(e)?n?o+"dagar":o+(r?"daga":"dögum"):n?o+"dagur":o+(r?"dag":"degi");case"M":return n?"mánuður":r?"mánuð":"mánuði";case"MM":return t(e)?n?o+"mánuðir":o+(r?"mánuði":"mánuðum"):n?o+"mánuður":o+(r?"mánuð":"mánuði");case"y":return n||r?"ár":"ári";case"yy":return t(e)?o+(n||r?"ár":"árum"):o+(n||r?"ár":"ári")}}e.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiemParse:/午前|午後/i,isPM:function(e){return"午後"===e},meridiem:function(e,t,n){return e<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:function(e){return e.week()<this.week()?"[来週]dddd LT":"dddd LT"},lastDay:"[昨日] LT",lastWeek:function(e){return this.week()<e.week()?"[先週]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}日/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",ss:"%d秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("ka",{months:{standalone:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),format:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")},monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:{standalone:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),format:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_"),isFormat:/(წინა|შემდეგ)/},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return/(წამი|წუთი|საათი|წელი)/.test(e)?e.replace(/ი$/,"ში"):e+"ში"},past:function(e){return/(წამი|წუთი|საათი|დღე|თვე)/.test(e)?e.replace(/(ი|ე)$/,"ის წინ"):/წელი/.test(e)?e.replace(/წელი$/,"წლის წინ"):void 0},s:"რამდენიმე წამი",ss:"%d წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},dayOfMonthOrdinalParse:/0|1-ლი|მე-\d{1,2}|\d{1,2}-ე/,ordinal:function(e){return 0===e?e:1===e?e+"-ლი":e<20||e<=100&&e%20==0||e%100==0?"მე-"+e:e+"-ე"},week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={0:"-ші",1:"-ші",2:"-ші",3:"-ші",4:"-ші",5:"-ші",6:"-шы",7:"-ші",8:"-ші",9:"-шы",10:"-шы",20:"-шы",30:"-шы",40:"-шы",50:"-ші",60:"-шы",70:"-ші",80:"-ші",90:"-шы",100:"-ші"};e.defineLocale("kk",{months:"қаңтар_ақпан_наурыз_сәуір_мамыр_маусым_шілде_тамыз_қыркүйек_қазан_қараша_желтоқсан".split("_"),monthsShort:"қаң_ақп_нау_сәу_мам_мау_шіл_там_қыр_қаз_қар_жел".split("_"),weekdays:"жексенбі_дүйсенбі_сейсенбі_сәрсенбі_бейсенбі_жұма_сенбі".split("_"),weekdaysShort:"жек_дүй_сей_сәр_бей_жұм_сен".split("_"),weekdaysMin:"жк_дй_сй_ср_бй_жм_сн".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгін сағат] LT",nextDay:"[Ертең сағат] LT",nextWeek:"dddd [сағат] LT",lastDay:"[Кеше сағат] LT",lastWeek:"[Өткен аптаның] dddd [сағат] LT",sameElse:"L"},relativeTime:{future:"%s ішінде",past:"%s бұрын",s:"бірнеше секунд",ss:"%d секунд",m:"бір минут",mm:"%d минут",h:"бір сағат",hh:"%d сағат",d:"бір күн",dd:"%d күн",M:"бір ай",MM:"%d ай",y:"бір жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(ші|шы)/,ordinal:function(e){var n=e%10,i=e>=100?100:null;return e+(t[e]||t[n]||t[i])},week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={1:"១",2:"២",3:"៣",4:"៤",5:"៥",6:"៦",7:"៧",8:"៨",9:"៩",0:"០"},n={"១":"1","២":"2","៣":"3","៤":"4","៥":"5","៦":"6","៧":"7","៨":"8","៩":"9","០":"0"};e.defineLocale("km",{months:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),weekdaysMin:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/ព្រឹក|ល្ងាច/,isPM:function(e){return"ល្ងាច"===e},meridiem:function(e,t,n){return e<12?"ព្រឹក":"ល្ងាច"},calendar:{sameDay:"[ថ្ងៃនេះ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",ss:"%d វិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},dayOfMonthOrdinalParse:/ទី\d{1,2}/,ordinal:"ទី%d",preparse:function(e){return e.replace(/[១២៣៤៥៦៧៨៩០]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={1:"೧",2:"೨",3:"೩",4:"೪",5:"೫",6:"೬",7:"೭",8:"೮",9:"೯",0:"೦"},n={"೧":"1","೨":"2","೩":"3","೪":"4","೫":"5","೬":"6","೭":"7","೮":"8","೯":"9","೦":"0"};e.defineLocale("kn",{months:"ಜನವರಿ_ಫೆಬ್ರವರಿ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂಬರ್_ಅಕ್ಟೋಬರ್_ನವೆಂಬರ್_ಡಿಸೆಂಬರ್".split("_"),monthsShort:"ಜನ_ಫೆಬ್ರ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂ_ಅಕ್ಟೋ_ನವೆಂ_ಡಿಸೆಂ".split("_"),monthsParseExact:!0,weekdays:"ಭಾನುವಾರ_ಸೋಮವಾರ_ಮಂಗಳವಾರ_ಬುಧವಾರ_ಗುರುವಾರ_ಶುಕ್ರವಾರ_ಶನಿವಾರ".split("_"),weekdaysShort:"ಭಾನು_ಸೋಮ_ಮಂಗಳ_ಬುಧ_ಗುರು_ಶುಕ್ರ_ಶನಿ".split("_"),weekdaysMin:"ಭಾ_ಸೋ_ಮಂ_ಬು_ಗು_ಶು_ಶ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[ಇಂದು] LT",nextDay:"[ನಾಳೆ] LT",nextWeek:"dddd, LT",lastDay:"[ನಿನ್ನೆ] LT",lastWeek:"[ಕೊನೆಯ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ನಂತರ",past:"%s ಹಿಂದೆ",s:"ಕೆಲವು ಕ್ಷಣಗಳು",ss:"%d ಸೆಕೆಂಡುಗಳು",m:"ಒಂದು ನಿಮಿಷ",mm:"%d ನಿಮಿಷ",h:"ಒಂದು ಗಂಟೆ",hh:"%d ಗಂಟೆ",d:"ಒಂದು ದಿನ",dd:"%d ದಿನ",M:"ಒಂದು ತಿಂಗಳು",MM:"%d ತಿಂಗಳು",y:"ಒಂದು ವರ್ಷ",yy:"%d ವರ್ಷ"},preparse:function(e){return e.replace(/[೧೨೩೪೫೬೭೮೯೦]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/ರಾತ್ರಿ|ಬೆಳಿಗ್ಗೆ|ಮಧ್ಯಾಹ್ನ|ಸಂಜೆ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ರಾತ್ರಿ"===t?e<4?e:e+12:"ಬೆಳಿಗ್ಗೆ"===t?e:"ಮಧ್ಯಾಹ್ನ"===t?e>=10?e:e+12:"ಸಂಜೆ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ರಾತ್ರಿ":e<10?"ಬೆಳಿಗ್ಗೆ":e<17?"ಮಧ್ಯಾಹ್ನ":e<20?"ಸಂಜೆ":"ರಾತ್ರಿ"},dayOfMonthOrdinalParse:/\d{1,2}(ನೇ)/,ordinal:function(e){return e+"ನೇ"},week:{dow:0,doy:6}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",ss:"%d초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"},dayOfMonthOrdinalParse:/\d{1,2}(일|월|주)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"일";case"M":return e+"월";case"w":case"W":return e+"주";default:return e}},meridiemParse:/오전|오후/,isPM:function(e){return"오후"===e},meridiem:function(e,t,n){return e<12?"오전":"오후"}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={0:"-чү",1:"-чи",2:"-чи",3:"-чү",4:"-чү",5:"-чи",6:"-чы",7:"-чи",8:"-чи",9:"-чу",10:"-чу",20:"-чы",30:"-чу",40:"-чы",50:"-чү",60:"-чы",70:"-чи",80:"-чи",90:"-чу",100:"-чү"};e.defineLocale("ky",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),weekdays:"Жекшемби_Дүйшөмбү_Шейшемби_Шаршемби_Бейшемби_Жума_Ишемби".split("_"),weekdaysShort:"Жек_Дүй_Шей_Шар_Бей_Жум_Ише".split("_"),weekdaysMin:"Жк_Дй_Шй_Шр_Бй_Жм_Иш".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгүн саат] LT",nextDay:"[Эртең саат] LT",nextWeek:"dddd [саат] LT",lastDay:"[Кече саат] LT",lastWeek:"[Өткен аптанын] dddd [күнү] [саат] LT",sameElse:"L"},relativeTime:{future:"%s ичинде",past:"%s мурун",s:"бирнече секунд",ss:"%d секунд",m:"бир мүнөт",mm:"%d мүнөт",h:"бир саат",hh:"%d саат",d:"бир күн",dd:"%d күн",M:"бир ай",MM:"%d ай",y:"бир жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(чи|чы|чү|чу)/,ordinal:function(e){var n=e%10,i=e>=100?100:null;return e+(t[e]||t[n]||t[i])},week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?r[n][0]:r[n][1]}function n(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10,i=e/10;return n(0===t?i:t)}if(e<1e4){for(;e>=10;)e/=10;return n(e)}return n(e/=1e3)}e.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return n(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return n(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Méint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("lo",{months:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),monthsShort:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),weekdays:"ອາທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysShort:"ທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysMin:"ທ_ຈ_ອຄ_ພ_ພຫ_ສກ_ສ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ວັນdddd D MMMM YYYY HH:mm"},meridiemParse:/ຕອນເຊົ້າ|ຕອນແລງ/,isPM:function(e){return"ຕອນແລງ"===e},meridiem:function(e,t,n){return e<12?"ຕອນເຊົ້າ":"ຕອນແລງ"},calendar:{sameDay:"[ມື້ນີ້ເວລາ] LT",nextDay:"[ມື້ອື່ນເວລາ] LT",nextWeek:"[ວັນ]dddd[ໜ້າເວລາ] LT",lastDay:"[ມື້ວານນີ້ເວລາ] LT",lastWeek:"[ວັນ]dddd[ແລ້ວນີ້ເວລາ] LT",sameElse:"L"},relativeTime:{future:"ອີກ %s",past:"%sຜ່ານມາ",s:"ບໍ່ເທົ່າໃດວິນາທີ",ss:"%d ວິນາທີ",m:"1 ນາທີ",mm:"%d ນາທີ",h:"1 ຊົ່ວໂມງ",hh:"%d ຊົ່ວໂມງ",d:"1 ມື້",dd:"%d ມື້",M:"1 ເດືອນ",MM:"%d ເດືອນ",y:"1 ປີ",yy:"%d ປີ"},dayOfMonthOrdinalParse:/(ທີ່)\d{1,2}/,ordinal:function(e){return"ທີ່"+e}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={ss:"sekundė_sekundžių_sekundes",m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"};function n(e,t,n,i){return t?r(n)[0]:i?r(n)[1]:r(n)[2]}function i(e){return e%10==0||e>10&&e<20}function r(e){return t[e].split("_")}function o(e,t,o,a){var s=e+" ";return 1===e?s+n(0,t,o[0],a):t?s+(i(e)?r(o)[1]:r(o)[0]):a?s+r(o)[1]:s+(i(e)?r(o)[1]:r(o)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegužė_birželis_liepa_rugpjūtis_rugsėjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadienį_pirmadienį_antradienį_trečiadienį_ketvirtadienį_penktadienį_šeštadienį".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:function(e,t,n,i){return t?"kelios sekundės":i?"kelių sekundžių":"kelias sekundes"},ss:o,m:n,mm:o,h:n,hh:o,d:n,dd:o,M:n,MM:o,y:n,yy:o},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={ss:"sekundes_sekundēm_sekunde_sekundes".split("_"),m:"minūtes_minūtēm_minūte_minūtes".split("_"),mm:"minūtes_minūtēm_minūte_minūtes".split("_"),h:"stundas_stundām_stunda_stundas".split("_"),hh:"stundas_stundām_stunda_stundas".split("_"),d:"dienas_dienām_diena_dienas".split("_"),dd:"dienas_dienām_diena_dienas".split("_"),M:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),MM:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function i(e,i,r){return e+" "+n(t[r],e,i)}function r(e,i,r){return n(t[r],e,i)}e.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pēc %s",past:"pirms %s",s:function(e,t){return t?"dažas sekundes":"dažām sekundēm"},ss:i,m:r,mm:i,h:r,hh:i,d:r,dd:i,M:r,MM:i,y:r,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var r=t.words[i];return 1===i.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedjelje] [u] LT","[prošlog] [ponedjeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srijede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("mi",{months:"Kohi-tāte_Hui-tanguru_Poutū-te-rangi_Paenga-whāwhā_Haratua_Pipiri_Hōngoingoi_Here-turi-kōkā_Mahuru_Whiringa-ā-nuku_Whiringa-ā-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hōngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rātapu_Mane_Tūrei_Wenerei_Tāite_Paraire_Hātarei".split("_"),weekdaysShort:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),weekdaysMin:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hēkona ruarua",ss:"%d hēkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"[Во] dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"после %s",past:"пред %s",s:"неколку секунди",ss:"%d секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",M:"месец",MM:"%d месеци",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),monthsParseExact:!0,weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -നു",LLLL:"dddd, D MMMM YYYY, A h:mm -നു"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",ss:"%d സെക്കൻഡ്",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/രാത്രി|രാവിലെ|ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി/i,meridiemHour:function(e,t){return 12===e&&(e=0),"രാത്രി"===t&&e>=4||"ഉച്ച കഴിഞ്ഞ്"===t||"വൈകുന്നേരം"===t?e+12:e},meridiem:function(e,t,n){return e<4?"രാത്രി":e<12?"രാവിലെ":e<17?"ഉച്ച കഴിഞ്ഞ്":e<20?"വൈകുന്നേരം":"രാത്രി"}})}(n(9))},function(e,t,n){!function(e){"use strict";function t(e,t,n,i){switch(n){case"s":return t?"хэдхэн секунд":"хэдхэн секундын";case"ss":return e+(t?" секунд":" секундын");case"m":case"mm":return e+(t?" минут":" минутын");case"h":case"hh":return e+(t?" цаг":" цагийн");case"d":case"dd":return e+(t?" өдөр":" өдрийн");case"M":case"MM":return e+(t?" сар":" сарын");case"y":case"yy":return e+(t?" жил":" жилийн");default:return e}}e.defineLocale("mn",{months:"Нэгдүгээр сар_Хоёрдугаар сар_Гуравдугаар сар_Дөрөвдүгээр сар_Тавдугаар сар_Зургадугаар сар_Долдугаар сар_Наймдугаар сар_Есдүгээр сар_Аравдугаар сар_Арван нэгдүгээр сар_Арван хоёрдугаар сар".split("_"),monthsShort:"1 сар_2 сар_3 сар_4 сар_5 сар_6 сар_7 сар_8 сар_9 сар_10 сар_11 сар_12 сар".split("_"),monthsParseExact:!0,weekdays:"Ням_Даваа_Мягмар_Лхагва_Пүрэв_Баасан_Бямба".split("_"),weekdaysShort:"Ням_Дав_Мяг_Лха_Пүр_Баа_Бям".split("_"),weekdaysMin:"Ня_Да_Мя_Лх_Пү_Ба_Бя".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY оны MMMMын D",LLL:"YYYY оны MMMMын D HH:mm",LLLL:"dddd, YYYY оны MMMMын D HH:mm"},meridiemParse:/ҮӨ|ҮХ/i,isPM:function(e){return"ҮХ"===e},meridiem:function(e,t,n){return e<12?"ҮӨ":"ҮХ"},calendar:{sameDay:"[Өнөөдөр] LT",nextDay:"[Маргааш] LT",nextWeek:"[Ирэх] dddd LT",lastDay:"[Өчигдөр] LT",lastWeek:"[Өнгөрсөн] dddd LT",sameElse:"L"},relativeTime:{future:"%s дараа",past:"%s өмнө",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2} өдөр/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" өдөр";default:return e}}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};function i(e,t,n,i){var r="";if(t)switch(n){case"s":r="काही सेकंद";break;case"ss":r="%d सेकंद";break;case"m":r="एक मिनिट";break;case"mm":r="%d मिनिटे";break;case"h":r="एक तास";break;case"hh":r="%d तास";break;case"d":r="एक दिवस";break;case"dd":r="%d दिवस";break;case"M":r="एक महिना";break;case"MM":r="%d महिने";break;case"y":r="एक वर्ष";break;case"yy":r="%d वर्षे"}else switch(n){case"s":r="काही सेकंदां";break;case"ss":r="%d सेकंदां";break;case"m":r="एका मिनिटा";break;case"mm":r="%d मिनिटां";break;case"h":r="एका तासा";break;case"hh":r="%d तासां";break;case"d":r="एका दिवसा";break;case"dd":r="%d दिवसां";break;case"M":r="एका महिन्या";break;case"MM":r="%d महिन्यां";break;case"y":r="एका वर्षा";break;case"yy":r="%d वर्षां"}return r.replace(/%d/i,e)}e.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm वाजता",LLLL:"dddd, D MMMM YYYY, A h:mm वाजता"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%sमध्ये",past:"%sपूर्वी",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/रात्री|सकाळी|दुपारी|सायंकाळी/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात्री"===t?e<4?e:e+12:"सकाळी"===t?e:"दुपारी"===t?e>=10?e:e+12:"सायंकाळी"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"रात्री":e<10?"सकाळी":e<17?"दुपारी":e<20?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_Ġunju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diċembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_Ġun_Lul_Aww_Set_Ott_Nov_Diċ".split("_"),weekdays:"Il-Ħadd_It-Tnejn_It-Tlieta_L-Erbgħa_Il-Ħamis_Il-Ġimgħa_Is-Sibt".split("_"),weekdaysShort:"Ħad_Tne_Tli_Erb_Ħam_Ġim_Sib".split("_"),weekdaysMin:"Ħa_Tn_Tl_Er_Ħa_Ġi_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Għada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-bieraħ fil-]LT",lastWeek:"dddd [li għadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f’ %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siegħa",hh:"%d siegħat",d:"ġurnata",dd:"%d ġranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"},n={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"};e.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",ss:"%d စက္ကန့်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(e){return e.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),monthsParseExact:!0,weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आ._सो._मं._बु._बि._शु._श.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aको h:mm बजे",LLLL:"dddd, D MMMM YYYY, Aको h:mm बजे"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/राति|बिहान|दिउँसो|साँझ/,meridiemHour:function(e,t){return 12===e&&(e=0),"राति"===t?e<4?e:e+12:"बिहान"===t?e:"दिउँसो"===t?e>=10?e:e+12:"साँझ"===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"राति":e<12?"बिहान":e<16?"दिउँसो":e<20?"साँझ":"राति"},calendar:{sameDay:"[आज] LT",nextDay:"[भोलि] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडि",s:"केही क्षण",ss:"%d सेकेण्ड",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:0,doy:6}})}(n(9))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,i){return e?/-MMM-/.test(i)?n[e.month()]:t[e.month()]:t},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={1:"੧",2:"੨",3:"੩",4:"੪",5:"੫",6:"੬",7:"੭",8:"੮",9:"੯",0:"੦"},n={"੧":"1","੨":"2","੩":"3","੪":"4","੫":"5","੬":"6","੭":"7","੮":"8","੯":"9","੦":"0"};e.defineLocale("pa-in",{months:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),monthsShort:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),weekdays:"ਐਤਵਾਰ_ਸੋਮਵਾਰ_ਮੰਗਲਵਾਰ_ਬੁਧਵਾਰ_ਵੀਰਵਾਰ_ਸ਼ੁੱਕਰਵਾਰ_ਸ਼ਨੀਚਰਵਾਰ".split("_"),weekdaysShort:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),weekdaysMin:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),longDateFormat:{LT:"A h:mm ਵਜੇ",LTS:"A h:mm:ss ਵਜੇ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ਵਜੇ",LLLL:"dddd, D MMMM YYYY, A h:mm ਵਜੇ"},calendar:{sameDay:"[ਅਜ] LT",nextDay:"[ਕਲ] LT",nextWeek:"[ਅਗਲਾ] dddd, LT",lastDay:"[ਕਲ] LT",lastWeek:"[ਪਿਛਲੇ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ਵਿੱਚ",past:"%s ਪਿਛਲੇ",s:"ਕੁਝ ਸਕਿੰਟ",ss:"%d ਸਕਿੰਟ",m:"ਇਕ ਮਿੰਟ",mm:"%d ਮਿੰਟ",h:"ਇੱਕ ਘੰਟਾ",hh:"%d ਘੰਟੇ",d:"ਇੱਕ ਦਿਨ",dd:"%d ਦਿਨ",M:"ਇੱਕ ਮਹੀਨਾ",MM:"%d ਮਹੀਨੇ",y:"ਇੱਕ ਸਾਲ",yy:"%d ਸਾਲ"},preparse:function(e){return e.replace(/[੧੨੩੪੫੬੭੮੯੦]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/ਰਾਤ|ਸਵੇਰ|ਦੁਪਹਿਰ|ਸ਼ਾਮ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ਰਾਤ"===t?e<4?e:e+12:"ਸਵੇਰ"===t?e:"ਦੁਪਹਿਰ"===t?e>=10?e:e+12:"ਸ਼ਾਮ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ਰਾਤ":e<10?"ਸਵੇਰ":e<17?"ਦੁਪਹਿਰ":e<20?"ਸ਼ਾਮ":"ਰਾਤ"},week:{dow:0,doy:6}})}(n(9))},function(e,t,n){!function(e){"use strict";var t="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");function i(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function r(e,t,n){var r=e+" ";switch(n){case"ss":return r+(i(e)?"sekundy":"sekund");case"m":return t?"minuta":"minutę";case"mm":return r+(i(e)?"minuty":"minut");case"h":return t?"godzina":"godzinę";case"hh":return r+(i(e)?"godziny":"godzin");case"MM":return r+(i(e)?"miesiące":"miesięcy");case"yy":return r+(i(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,i){return e?""===i?"("+n[e.month()]+"|"+t[e.month()]+")":/D MMMM/.test(i)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_śr_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedzielę o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W środę o] LT";case 6:return"[W sobotę o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:r,m:r,mm:r,h:r,hh:r,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:r,y:"rok",yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº"})}(n(9))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var i=" ";return(e%100>=20||e>=100&&e%100==0)&&(i=" de "),e+i+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[n]}e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",ss:t,m:"un minut",mm:t,h:"o oră",hh:t,d:"o zi",dd:t,M:"o lună",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var i={ss:t?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:t?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===n?t?"минута":"минуту":e+" "+function(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}(i[n],+e)}var n=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i];e.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},calendar:{sameDay:"[Сегодня, в] LT",nextDay:"[Завтра, в] LT",lastDay:"[Вчера, в] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В следующее] dddd, [в] LT";case 1:case 2:case 4:return"[В следующий] dddd, [в] LT";case 3:case 5:case 6:return"[В следующую] dddd, [в] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd, [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd, [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd, [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",ss:t,m:t,mm:t,h:"час",hh:t,d:"день",dd:t,M:"месяц",MM:t,y:"год",yy:t},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночи":e<12?"утра":e<17?"дня":"вечера"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";var t=["جنوري","فيبروري","مارچ","اپريل","مئي","جون","جولاءِ","آگسٽ","سيپٽمبر","آڪٽوبر","نومبر","ڊسمبر"],n=["آچر","سومر","اڱارو","اربع","خميس","جمع","ڇنڇر"];e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[اڄ] LT",nextDay:"[سڀاڻي] LT",nextWeek:"dddd [اڳين هفتي تي] LT",lastDay:"[ڪالهه] LT",lastWeek:"[گزريل هفتي] dddd [تي] LT",sameElse:"L"},relativeTime:{future:"%s پوء",past:"%s اڳ",s:"چند سيڪنڊ",ss:"%d سيڪنڊ",m:"هڪ منٽ",mm:"%d منٽ",h:"هڪ ڪلاڪ",hh:"%d ڪلاڪ",d:"هڪ ڏينهن",dd:"%d ڏينهن",M:"هڪ مهينو",MM:"%d مهينا",y:"هڪ سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("se",{months:"ođđajagemánnu_guovvamánnu_njukčamánnu_cuoŋománnu_miessemánnu_geassemánnu_suoidnemánnu_borgemánnu_čakčamánnu_golggotmánnu_skábmamánnu_juovlamánnu".split("_"),monthsShort:"ođđj_guov_njuk_cuo_mies_geas_suoi_borg_čakč_golg_skáb_juov".split("_"),weekdays:"sotnabeaivi_vuossárga_maŋŋebárga_gaskavahkku_duorastat_bearjadat_lávvardat".split("_"),weekdaysShort:"sotn_vuos_maŋ_gask_duor_bear_láv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geažes",past:"maŋit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mánnu",MM:"%d mánut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("si",{months:"ජනවාරි_පෙබරවාරි_මාර්තු_අප්‍රේල්_මැයි_ජූනි_ජූලි_අගෝස්තු_සැප්තැම්බර්_ඔක්තෝබර්_නොවැම්බර්_දෙසැම්බර්".split("_"),monthsShort:"ජන_පෙබ_මාර්_අප්_මැයි_ජූනි_ජූලි_අගෝ_සැප්_ඔක්_නොවැ_දෙසැ".split("_"),weekdays:"ඉරිදා_සඳුදා_අඟහරුවාදා_බදාදා_බ්‍රහස්පතින්දා_සිකුරාදා_සෙනසුරාදා".split("_"),weekdaysShort:"ඉරි_සඳු_අඟ_බදා_බ්‍රහ_සිකු_සෙන".split("_"),weekdaysMin:"ඉ_ස_අ_බ_බ්‍ර_සි_සෙ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [වැනි] dddd, a h:mm:ss"},calendar:{sameDay:"[අද] LT[ට]",nextDay:"[හෙට] LT[ට]",nextWeek:"dddd LT[ට]",lastDay:"[ඊයේ] LT[ට]",lastWeek:"[පසුගිය] dddd LT[ට]",sameElse:"L"},relativeTime:{future:"%sකින්",past:"%sකට පෙර",s:"තත්පර කිහිපය",ss:"තත්පර %d",m:"මිනිත්තුව",mm:"මිනිත්තු %d",h:"පැය",hh:"පැය %d",d:"දිනය",dd:"දින %d",M:"මාසය",MM:"මාස %d",y:"වසර",yy:"වසර %d"},dayOfMonthOrdinalParse:/\d{1,2} වැනි/,ordinal:function(e){return e+" වැනි"},meridiemParse:/පෙර වරු|පස් වරු|පෙ.ව|ප.ව./,isPM:function(e){return"ප.ව."===e||"පස් වරු"===e},meridiem:function(e,t,n){return e>11?n?"ප.ව.":"පස් වරු":n?"පෙ.ව.":"පෙර වරු"}})}(n(9))},function(e,t,n){!function(e){"use strict";var t="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),n="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");function i(e){return e>1&&e<5}function r(e,t,n,r){var o=e+" ";switch(n){case"s":return t||r?"pár sekúnd":"pár sekundami";case"ss":return t||r?o+(i(e)?"sekundy":"sekúnd"):o+"sekundami";case"m":return t?"minúta":r?"minútu":"minútou";case"mm":return t||r?o+(i(e)?"minúty":"minút"):o+"minútami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?o+(i(e)?"hodiny":"hodín"):o+"hodinami";case"d":return t||r?"deň":"dňom";case"dd":return t||r?o+(i(e)?"dni":"dní"):o+"dňami";case"M":return t||r?"mesiac":"mesiacom";case"MM":return t||r?o+(i(e)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return t||r?"rok":"rokom";case"yy":return t||r?o+(i(e)?"roky":"rokov"):o+"rokmi"}}e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r=e+" ";switch(n){case"s":return t||i?"nekaj sekund":"nekaj sekundami";case"ss":return r+=1===e?t?"sekundo":"sekundi":2===e?t||i?"sekundi":"sekundah":e<5?t||i?"sekunde":"sekundah":"sekund";case"m":return t?"ena minuta":"eno minuto";case"mm":return r+=1===e?t?"minuta":"minuto":2===e?t||i?"minuti":"minutama":e<5?t||i?"minute":"minutami":t||i?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return r+=1===e?t?"ura":"uro":2===e?t||i?"uri":"urama":e<5?t||i?"ure":"urami":t||i?"ur":"urami";case"d":return t||i?"en dan":"enim dnem";case"dd":return r+=1===e?t||i?"dan":"dnem":2===e?t||i?"dni":"dnevoma":t||i?"dni":"dnevi";case"M":return t||i?"en mesec":"enim mesecem";case"MM":return r+=1===e?t||i?"mesec":"mesecem":2===e?t||i?"meseca":"mesecema":e<5?t||i?"mesece":"meseci":t||i?"mesecev":"meseci";case"y":return t||i?"eno leto":"enim letom";case"yy":return r+=1===e?t||i?"leto":"letom":2===e?t||i?"leti":"letoma":e<5?t||i?"leta":"leti":t||i?"let":"leti"}}e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejšnjo] [nedeljo] [ob] LT";case 3:return"[prejšnjo] [sredo] [ob] LT";case 6:return"[prejšnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",ss:"%d sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var r=t.words[i];return 1===i.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={words:{ss:["секунда","секунде","секунди"],m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,i){var r=t.words[i];return 1===i.length?n?r[0]:r[1]:e+" "+t.correctGrammaticalCase(e,r)}};e.defineLocale("sr-cyrl",{months:"јануар_фебруар_март_април_мај_јун_јул_август_септембар_октобар_новембар_децембар".split("_"),monthsShort:"јан._феб._мар._апр._мај_јун_јул_авг._сеп._окт._нов._дец.".split("_"),monthsParseExact:!0,weekdays:"недеља_понедељак_уторак_среда_четвртак_петак_субота".split("_"),weekdaysShort:"нед._пон._уто._сре._чет._пет._суб.".split("_"),weekdaysMin:"не_по_ут_ср_че_пе_су".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){return["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"дан",dd:t.translate,M:"месец",MM:t.translate,y:"годину",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"e":1===t?"a":2===t?"a":"e";return e+n},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={1:"௧",2:"௨",3:"௩",4:"௪",5:"௫",6:"௬",7:"௭",8:"௮",9:"௯",0:"௦"},n={"௧":"1","௨":"2","௩":"3","௪":"4","௫":"5","௬":"6","௭":"7","௮":"8","௯":"9","௦":"0"};e.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",ss:"%d விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},dayOfMonthOrdinalParse:/\d{1,2}வது/,ordinal:function(e){return e+"வது"},preparse:function(e){return e.replace(/[௧௨௩௪௫௬௭௮௯௦]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/யாமம்|வைகறை|காலை|நண்பகல்|எற்பாடு|மாலை/,meridiem:function(e,t,n){return e<2?" யாமம்":e<6?" வைகறை":e<10?" காலை":e<14?" நண்பகல்":e<18?" எற்பாடு":e<22?" மாலை":" யாமம்"},meridiemHour:function(e,t){return 12===e&&(e=0),"யாமம்"===t?e<2?e:e+12:"வைகறை"===t||"காலை"===t?e:"நண்பகல்"===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("te",{months:"జనవరి_ఫిబ్రవరి_మార్చి_ఏప్రిల్_మే_జూన్_జూలై_ఆగస్టు_సెప్టెంబర్_అక్టోబర్_నవంబర్_డిసెంబర్".split("_"),monthsShort:"జన._ఫిబ్ర._మార్చి_ఏప్రి._మే_జూన్_జూలై_ఆగ._సెప్._అక్టో._నవ._డిసె.".split("_"),monthsParseExact:!0,weekdays:"ఆదివారం_సోమవారం_మంగళవారం_బుధవారం_గురువారం_శుక్రవారం_శనివారం".split("_"),weekdaysShort:"ఆది_సోమ_మంగళ_బుధ_గురు_శుక్ర_శని".split("_"),weekdaysMin:"ఆ_సో_మం_బు_గు_శు_శ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[నేడు] LT",nextDay:"[రేపు] LT",nextWeek:"dddd, LT",lastDay:"[నిన్న] LT",lastWeek:"[గత] dddd, LT",sameElse:"L"},relativeTime:{future:"%s లో",past:"%s క్రితం",s:"కొన్ని క్షణాలు",ss:"%d సెకన్లు",m:"ఒక నిమిషం",mm:"%d నిమిషాలు",h:"ఒక గంట",hh:"%d గంటలు",d:"ఒక రోజు",dd:"%d రోజులు",M:"ఒక నెల",MM:"%d నెలలు",y:"ఒక సంవత్సరం",yy:"%d సంవత్సరాలు"},dayOfMonthOrdinalParse:/\d{1,2}వ/,ordinal:"%dవ",meridiemParse:/రాత్రి|ఉదయం|మధ్యాహ్నం|సాయంత్రం/,meridiemHour:function(e,t){return 12===e&&(e=0),"రాత్రి"===t?e<4?e:e+12:"ఉదయం"===t?e:"మధ్యాహ్నం"===t?e>=10?e:e+12:"సాయంత్రం"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"రాత్రి":e<10?"ఉదయం":e<17?"మధ్యాహ్నం":e<20?"సాయంత్రం":"రాత్రి"},week:{dow:0,doy:6}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juñu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={0:"-ум",1:"-ум",2:"-юм",3:"-юм",4:"-ум",5:"-ум",6:"-ум",7:"-ум",8:"-ум",9:"-ум",10:"-ум",12:"-ум",13:"-ум",20:"-ум",30:"-юм",40:"-ум",50:"-ум",60:"-ум",70:"-ум",80:"-ум",90:"-ум",100:"-ум"};e.defineLocale("tg",{months:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"якшанбе_душанбе_сешанбе_чоршанбе_панҷшанбе_ҷумъа_шанбе".split("_"),weekdaysShort:"яшб_дшб_сшб_чшб_пшб_ҷум_шнб".split("_"),weekdaysMin:"яш_дш_сш_чш_пш_ҷм_шб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Имрӯз соати] LT",nextDay:"[Пагоҳ соати] LT",lastDay:"[Дирӯз соати] LT",nextWeek:"dddd[и] [ҳафтаи оянда соати] LT",lastWeek:"dddd[и] [ҳафтаи гузашта соати] LT",sameElse:"L"},relativeTime:{future:"баъди %s",past:"%s пеш",s:"якчанд сония",m:"як дақиқа",mm:"%d дақиқа",h:"як соат",hh:"%d соат",d:"як рӯз",dd:"%d рӯз",M:"як моҳ",MM:"%d моҳ",y:"як сол",yy:"%d сол"},meridiemParse:/шаб|субҳ|рӯз|бегоҳ/,meridiemHour:function(e,t){return 12===e&&(e=0),"шаб"===t?e<4?e:e+12:"субҳ"===t?e:"рӯз"===t?e>=11?e:e+12:"бегоҳ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"шаб":e<11?"субҳ":e<16?"рӯз":e<19?"бегоҳ":"шаб"},dayOfMonthOrdinalParse:/\d{1,2}-(ум|юм)/,ordinal:function(e){var n=e%10,i=e>=100?100:null;return e+(t[e]||t[n]||t[i])},week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),monthsParseExact:!0,weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(e){return"หลังเที่ยง"===e},meridiem:function(e,t,n){return e<12?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",ss:"%d วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";var t="pagh_wa’_cha’_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e,n,i,r){var o=function(e){var n=Math.floor(e%1e3/100),i=Math.floor(e%100/10),r=e%10,o="";return n>0&&(o+=t[n]+"vatlh"),i>0&&(o+=(""!==o?" ":"")+t[i]+"maH"),r>0&&(o+=(""!==o?" ":"")+t[r]),""===o?"pagh":o}(e);switch(i){case"ss":return o+" lup";case"mm":return o+" tup";case"hh":return o+" rep";case"dd":return o+" jaj";case"MM":return o+" jar";case"yy":return o+" DIS"}}e.defineLocale("tlh",{months:"tera’ jar wa’_tera’ jar cha’_tera’ jar wej_tera’ jar loS_tera’ jar vagh_tera’ jar jav_tera’ jar Soch_tera’ jar chorgh_tera’ jar Hut_tera’ jar wa’maH_tera’ jar wa’maH wa’_tera’ jar wa’maH cha’".split("_"),monthsShort:"jar wa’_jar cha’_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa’maH_jar wa’maH wa’_jar wa’maH cha’".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa’leS] LT",nextWeek:"LLL",lastDay:"[wa’Hu’] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu’":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:n,m:"wa’ tup",mm:n,h:"wa’ rep",hh:n,d:"wa’ jaj",dd:n,M:"wa’ jar",MM:n,y:"wa’ DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};e.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'ıncı";var i=e%10,r=e%100-i,o=e>=100?100:null;return e+(t[i]||t[r]||t[o])}},week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";function t(e,t,n,i){var r={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n míut","'iens míut"],mm:[e+" míuts",e+" míuts"],h:["'n þora","'iensa þora"],hh:[e+" þoras",e+" þoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return i?r[n][0]:t?r[n][0]:r[n][1]}e.defineLocale("tzl",{months:"Januar_Fevraglh_Març_Avrïu_Mai_Gün_Julia_Guscht_Setemvar_Listopäts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gün_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Súladi_Lúneçi_Maitzi_Márcuri_Xhúadi_Viénerçi_Sáturi".split("_"),weekdaysShort:"Súl_Lún_Mai_Már_Xhú_Vié_Sát".split("_"),weekdaysMin:"Sú_Lú_Ma_Má_Xh_Vi_Sá".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi à] LT",nextDay:"[demà à] LT",nextWeek:"dddd [à] LT",lastDay:"[ieiri à] LT",lastWeek:"[sür el] dddd [lasteu à] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",ss:"%d ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("ug-cn",{months:"يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر".split("_"),monthsShort:"يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر".split("_"),weekdays:"يەكشەنبە_دۈشەنبە_سەيشەنبە_چارشەنبە_پەيشەنبە_جۈمە_شەنبە".split("_"),weekdaysShort:"يە_دۈ_سە_چا_پە_جۈ_شە".split("_"),weekdaysMin:"يە_دۈ_سە_چا_پە_جۈ_شە".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-يىلىM-ئاينىڭD-كۈنى",LLL:"YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm",LLLL:"dddd، YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm"},meridiemParse:/يېرىم كېچە|سەھەر|چۈشتىن بۇرۇن|چۈش|چۈشتىن كېيىن|كەچ/,meridiemHour:function(e,t){return 12===e&&(e=0),"يېرىم كېچە"===t||"سەھەر"===t||"چۈشتىن بۇرۇن"===t?e:"چۈشتىن كېيىن"===t||"كەچ"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var i=100*e+t;return i<600?"يېرىم كېچە":i<900?"سەھەر":i<1130?"چۈشتىن بۇرۇن":i<1230?"چۈش":i<1800?"چۈشتىن كېيىن":"كەچ"},calendar:{sameDay:"[بۈگۈن سائەت] LT",nextDay:"[ئەتە سائەت] LT",nextWeek:"[كېلەركى] dddd [سائەت] LT",lastDay:"[تۆنۈگۈن] LT",lastWeek:"[ئالدىنقى] dddd [سائەت] LT",sameElse:"L"},relativeTime:{future:"%s كېيىن",past:"%s بۇرۇن",s:"نەچچە سېكونت",ss:"%d سېكونت",m:"بىر مىنۇت",mm:"%d مىنۇت",h:"بىر سائەت",hh:"%d سائەت",d:"بىر كۈن",dd:"%d كۈن",M:"بىر ئاي",MM:"%d ئاي",y:"بىر يىل",yy:"%d يىل"},dayOfMonthOrdinalParse:/\d{1,2}(-كۈنى|-ئاي|-ھەپتە)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-كۈنى";case"w":case"W":return e+"-ھەپتە";default:return e}},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var i={ss:t?"секунда_секунди_секунд":"секунду_секунди_секунд",mm:t?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:t?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"};return"m"===n?t?"хвилина":"хвилину":"h"===n?t?"година":"годину":e+" "+function(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}(i[n],+e)}function n(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}e.defineLocale("uk",{months:{format:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),standalone:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_")},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:function(e,t){var n={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")};if(!e)return n.nominative;var i=/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative";return n[i][e.day()]},weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"},calendar:{sameDay:n("[Сьогодні "),nextDay:n("[Завтра "),lastDay:n("[Вчора "),nextWeek:n("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[Минулої] dddd [").call(this);case 1:case 2:case 4:return n("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",ss:t,m:t,mm:t,h:"годину",hh:t,d:"день",dd:t,M:"місяць",MM:t,y:"рік",yy:t},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(e){return/^(дня|вечора)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночі":e<12?"ранку":e<17?"дня":"вечора"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";var t=["جنوری","فروری","مارچ","اپریل","مئی","جون","جولائی","اگست","ستمبر","اکتوبر","نومبر","دسمبر"],n=["اتوار","پیر","منگل","بدھ","جمعرات","جمعہ","ہفتہ"];e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[آج بوقت] LT",nextDay:"[کل بوقت] LT",nextWeek:"dddd [بوقت] LT",lastDay:"[گذشتہ روز بوقت] LT",lastWeek:"[گذشتہ] dddd [بوقت] LT",sameElse:"L"},relativeTime:{future:"%s بعد",past:"%s قبل",s:"چند سیکنڈ",ss:"%d سیکنڈ",m:"ایک منٹ",mm:"%d منٹ",h:"ایک گھنٹہ",hh:"%d گھنٹے",d:"ایک دن",dd:"%d دن",M:"ایک ماہ",MM:"%d ماہ",y:"ایک سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("uz",{months:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",ss:"%d фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",ss:"%d giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("x-pseudo",{months:"J~áñúá~rý_F~ébrú~árý_~Márc~h_Áp~ríl_~Máý_~Júñé~_Júl~ý_Áú~gúst~_Sép~témb~ér_Ó~ctób~ér_Ñ~óvém~bér_~Décé~mbér".split("_"),monthsShort:"J~áñ_~Féb_~Már_~Ápr_~Máý_~Júñ_~Júl_~Áúg_~Sép_~Óct_~Ñóv_~Déc".split("_"),monthsParseExact:!0,weekdays:"S~úñdá~ý_Mó~ñdáý~_Túé~sdáý~_Wéd~ñésd~áý_T~húrs~dáý_~Fríd~áý_S~átúr~dáý".split("_"),weekdaysShort:"S~úñ_~Móñ_~Túé_~Wéd_~Thú_~Frí_~Sát".split("_"),weekdaysMin:"S~ú_Mó~_Tú_~Wé_T~h_Fr~_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~ódá~ý át] LT",nextDay:"[T~ómó~rró~w át] LT",nextWeek:"dddd [át] LT",lastDay:"[Ý~ést~érdá~ý át] LT",lastWeek:"[L~ást] dddd [át] LT",sameElse:"L"},relativeTime:{future:"í~ñ %s",past:"%s á~gó",s:"á ~féw ~sécó~ñds",ss:"%d s~écóñ~ds",m:"á ~míñ~úté",mm:"%d m~íñú~tés",h:"á~ñ hó~úr",hh:"%d h~óúrs",d:"á ~dáý",dd:"%d d~áýs",M:"á ~móñ~th",MM:"%d m~óñt~hs",y:"á ~ýéár",yy:"%d ý~éárs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("yo",{months:"Sẹ́rẹ́_Èrèlè_Ẹrẹ̀nà_Ìgbé_Èbibi_Òkùdu_Agẹmo_Ògún_Owewe_Ọ̀wàrà_Bélú_Ọ̀pẹ̀̀".split("_"),monthsShort:"Sẹ́r_Èrl_Ẹrn_Ìgb_Èbi_Òkù_Agẹ_Ògú_Owe_Ọ̀wà_Bél_Ọ̀pẹ̀̀".split("_"),weekdays:"Àìkú_Ajé_Ìsẹ́gun_Ọjọ́rú_Ọjọ́bọ_Ẹtì_Àbámẹ́ta".split("_"),weekdaysShort:"Àìk_Ajé_Ìsẹ́_Ọjr_Ọjb_Ẹtì_Àbá".split("_"),weekdaysMin:"Àì_Aj_Ìs_Ọr_Ọb_Ẹt_Àb".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Ònì ni] LT",nextDay:"[Ọ̀la ni] LT",nextWeek:"dddd [Ọsẹ̀ tón'bọ] [ni] LT",lastDay:"[Àna ni] LT",lastWeek:"dddd [Ọsẹ̀ tólọ́] [ni] LT",sameElse:"L"},relativeTime:{future:"ní %s",past:"%s kọjá",s:"ìsẹjú aayá die",ss:"aayá %d",m:"ìsẹjú kan",mm:"ìsẹjú %d",h:"wákati kan",hh:"wákati %d",d:"ọjọ́ kan",dd:"ọjọ́ %d",M:"osù kan",MM:"osù %d",y:"ọdún kan",yy:"ọdún %d"},dayOfMonthOrdinalParse:/ọjọ́\s\d{1,2}/,ordinal:"ọjọ́ %d",week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"下午"===t||"晚上"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var i=100*e+t;return i<600?"凌晨":i<900?"早上":i<1130?"上午":i<1230?"中午":i<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",ss:"%d 秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-hk",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var i=100*e+t;return i<600?"凌晨":i<900?"早上":i<1130?"上午":i<1230?"中午":i<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}(n(9))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var i=100*e+t;return i<600?"凌晨":i<900?"早上":i<1130?"上午":i<1230?"中午":i<1800?"下午":"晚上"},calendar:{sameDay:"[今天] LT",nextDay:"[明天] LT",nextWeek:"[下]dddd LT",lastDay:"[昨天] LT",lastWeek:"[上]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}(n(9))},function(e,t,n){"use strict";(function(e,i){n.d(t,"a",function(){return p});var r=n(1),o=n.n(r),a=n(13),s=n(26),l=n(32),c=n(49),u=e.View.extend({className:"UserMenuBase",isAcceptableValue:function(e,t,n){var i=e.val(),r=e.attr("displayLabel")||e.attr("id").replace("phyloViz","");return function(e){return!isNaN(parseFloat(e))&&isFinite(e)}(i)?i>n?(alert("".concat(r," is too large.")),!1):!(i<t)||(alert("".concat(r," is too small.")),!1):(alert("".concat(r," is not a number!")),!1)},hasIllegalJsonCharacters:function(e){return-1!==e.val().search(/"|'|\\/)&&(alert("Named fields cannot contain these illegal characters: double quote(\"), single guote('), or back slash(\\). "),!0)}});function d(){var e=this,t=a.layout.hierarchy().sort(null).value(null),n=360,i="Linear",r=18,o=200,s=0,l=.5,c=50;return e.leafHeight=function(t){return void 0===t?r:(r=t,e)},e.layoutMode=function(t){return void 0===t?i:(i=t,e)},e.layoutAngle=function(t){return void 0===t?n:isNaN(t)||t<0||t>360?e:(n=t,e)},e.separation=function(t){return void 0===t?o:(o=t,e)},e.links=function(e){return a.layout.tree().links(e)},e.nodes=function(a,u){"[object Array]"===toString.call(a)&&(a=a[0]);var d=t.call(e,a,u),h=[],f=0,p=0;return window._d=a,window._nodes=d,d.forEach(function(e){f=e.depth>f?e.depth:f,h.push(e)}),h.forEach(function(e){e.children||(p+=1,e.depth=f)}),r="Circular"===i?n/p:r,s=0,function e(t,n,i,r){var a=t.children;var u=0;var d=t.dist||l;d=d>1?1:d;t.dist=d;t.y0=null!==r?r.y0+d*o:c;a?(a.forEach(function(r){r.parent=t,u+=e(r,n,i,t)}),t.x0=u/a.length):(t.x0=s*i,s+=1);t.x=t.x0;t.y=t.y0;return t.x0}(h[0],f,r,null),h},e}var h=s.a.Visualization.extend({defaults:{layout:"Linear",separation:250,leafHeight:18,type:"phyloviz",title:o()("Title"),scaleFactor:1,translate:[0,0],fontSize:12,selectedNode:null,nodeAttrChangedTime:0},initialize:function(e){this.set("dataset",new l.a({id:e.dataset_id}))},root:{},toggle:function(e){void 0!==e&&(e.children?(e._children=e.children,e.children=null):(e.children=e._children,e._children=null))},toggleAll:function(e){e.children&&0!==e.children.length&&(e.children.forEach(this.toggleAll),toggle(e))},getData:function(){return this.root},save:function(){!function e(t){delete t.parent;t._selected&&delete t._selected;t.children&&t.children.forEach(e);t._children&&t._children.forEach(e)}(this.root);var e=i.extend(!0,{},this.attributes);return e.selectedNode=null,show_message("Saving to Galaxy","progress"),i.ajax({url:this.url(),type:"POST",dataType:"json",data:{config:JSON.stringify(e),type:"phyloviz"},success:function(e){hide_modal()}})}}),f=e.View.extend({defaults:{nodeRadius:4.5},stdInit:function(e){this.model.on("change:separation change:leafHeight change:fontSize change:nodeAttrChangedTime",this.updateAndRender,this),this.vis=e.vis,this.i=0,this.maxDepth=-1,this.width=e.width,this.height=e.height},updateAndRender:function(e){a.select(".vis");e=e||this.model.root,this.renderNodes(e),this.renderLinks(e),this.addTooltips()},renderLinks:function(e){this.diagonal,this.duration,this.layoutMode;var t=this.vis.selectAll("g.completeLink").data(this.tree.links(this.nodes),function(e){return e.target.id}),n=function(e){e.pos0="".concat(e.source.y0," ").concat(e.source.x0),e.pos1="".concat(e.source.y0," ").concat(e.target.x0),e.pos2="".concat(e.target.y0," ").concat(e.target.x0)};t.enter().insert("svg:g","g.node").attr("class","completeLink").append("svg:path").attr("class","link").attr("d",function(e){return n(e),"M ".concat(e.pos0," L ").concat(e.pos1)}),t.transition().duration(500).select("path.link").attr("d",function(e){return n(e),"M ".concat(e.pos0," L ").concat(e.pos1," L ").concat(e.pos2)});t.exit().remove()},selectNode:function(e){a.selectAll("g.node").classed("selectedHighlight",function(t){return e.id===t.id&&(e._selected?(delete e._selected,!1):(e._selected=!0,!0))}),this.model.set("selectedNode",e),i("#phyloVizSelectedNodeName").val(e.name),i("#phyloVizSelectedNodeDist").val(e.dist),i("#phyloVizSelectedNodeAnnotation").val(e.annotation||"")},addTooltips:function(){i(".tooltip").remove(),i(".node").attr("data-original-title",function(){var e=this.__data__,t=e.annotation||"None";return e?"".concat(e.name?"".concat(e.name,"<br/>"):"","Dist: ").concat(e.dist," <br/>Annotation1: ").concat(t).concat(e.bootstrap?"<br/>Confidence level: ".concat(Math.round(100*e.bootstrap)):""):""}).tooltip({placement:"top",trigger:"hover"})}}).extend({initialize:function(e){this.margins=e.margins,this.layoutMode="Linear",this.stdInit(e),this.layout(),this.updateAndRender(this.model.root)},layout:function(){this.tree=(new d).layoutMode("Linear"),this.diagonal=a.svg.diagonal().projection(function(e){return[e.y,e.x]})},renderNodes:function(e){var t=this,n="".concat(t.model.get("fontSize"),"px");t.tree.separation(t.model.get("separation")).leafHeight(t.model.get("leafHeight"));var i=t.tree.separation(t.model.get("separation")).nodes(t.model.root),r=t.vis.selectAll("g.node").data(i,function(e){return e.name+e.id||(e.id=++t.i)});t.nodes=i,t.duration=500;var o=r.enter().append("svg:g").attr("class","node").on("dblclick",function(){a.event.stopPropagation()}).on("click",function(e){if(a.event.altKey)t.selectNode(e);else{if(e.children&&0===e.children.length)return;t.model.toggle(e),t.updateAndRender(e)}});"[object Array]"===toString.call(e)&&(e=e[0]),o.attr("transform",function(t){return"translate(".concat(e.y0,",").concat(e.x0,")")}),o.append("svg:circle").attr("r",1e-6).style("fill",function(e){return e._children?"lightsteelblue":"#fff"}),o.append("svg:text").attr("class","nodeLabel").attr("x",function(e){return e.children||e._children?-10:10}).attr("dy",".35em").attr("text-anchor",function(e){return e.children||e._children?"end":"start"}).style("fill-opacity",1e-6);var s=r.transition().duration(500);s.attr("transform",function(e){return"translate(".concat(e.y,",").concat(e.x,")")}),s.select("circle").attr("r",t.defaults.nodeRadius).style("fill",function(e){return e._children?"lightsteelblue":"#fff"}),s.select("text").style("fill-opacity",1).style("font-size",n).text(function(e){return e.name&&""!==e.name?e.name:e.bootstrap?Math.round(100*e.bootstrap):""});var l=r.exit().transition().duration(500).remove();l.select("circle").attr("r",1e-6),l.select("text").style("fill-opacity",1e-6),i.forEach(function(e){e.x0=e.x,e.y0=e.y})}}),p=e.View.extend({className:"phyloviz",initialize:function(e){var t=this;t.MIN_SCALE=.05,t.MAX_SCALE=5,t.MAX_DISPLACEMENT=500,t.margins=[10,60,10,80],t.width=i("#PhyloViz").width(),t.height=i("#PhyloViz").height(),t.radius=t.width,t.data=e.data,i(window).resize(function(){t.width=i("#PhyloViz").width(),t.height=i("#PhyloViz").height(),t.render()}),t.phyloTree=new h(e.config),t.phyloTree.root=t.data,t.zoomFunc=a.behavior.zoom().scaleExtent([t.MIN_SCALE,t.MAX_SCALE]),t.zoomFunc.translate(t.phyloTree.get("translate")),t.zoomFunc.scale(t.phyloTree.get("scaleFactor")),t.navMenu=new m(t),t.settingsMenu=new g({phyloTree:t.phyloTree}),t.nodeSelectionView=new _({phyloTree:t.phyloTree}),t.search=new v,setTimeout(function(){t.zoomAndPan()},1e3)},render:function(){var e=this;i("#PhyloViz").empty(),e.mainSVG=a.select("#PhyloViz").append("svg:svg").attr("width",e.width).attr("height",e.height).attr("pointer-events","all").call(e.zoomFunc.on("zoom",function(){e.zoomAndPan()})),e.boundingRect=e.mainSVG.append("svg:rect").attr("class","boundingRect").attr("width",e.width).attr("height",e.height).attr("stroke","black").attr("fill","white"),e.vis=e.mainSVG.append("svg:g").attr("class","vis"),e.layoutOptions={model:e.phyloTree,width:e.width,height:e.height,vis:e.vis,margins:e.margins},i("#title").text("Phylogenetic Tree from ".concat(e.phyloTree.get("title"),":"));new f(e.layoutOptions)},zoomAndPan:function(e){var t,n;void 0!==e&&(t=e.zoom,n=e.translate);var i,r=this.zoomFunc.scale(),o=this.zoomFunc.translate(),s="";switch(t){case"reset":r=1,o=[0,0];break;case"+":r*=1.1;break;case"-":r*=.9;break;default:"number"==typeof t?r=t:null!==a.event&&(r=a.event.scale)}if(!(r<this.MIN_SCALE||r>this.MAX_SCALE)){if(this.zoomFunc.scale(r),i="translate(".concat(this.margins[3],",").concat(this.margins[0],") scale(").concat(r,")"),null!==a.event)s="translate(".concat(a.event.translate,")");else{if(void 0!==n){var l=n.split(",")[0],c=n.split(",")[1];isNaN(l)||isNaN(c)||(o=[o[0]+parseFloat(l),o[1]+parseFloat(c)])}this.zoomFunc.translate(o),s="translate(".concat(o,")")}this.phyloTree.set("scaleFactor",r),this.phyloTree.set("translate",o),this.vis.attr("transform",s+i)}},reloadViz:function(){var e=this,t=i("#phylovizNexSelector :selected").val();i.getJSON(e.phyloTree.get("dataset").url(),{tree_index:t,data_type:"raw_data"},function(t){e.data=t.data,e.config=t,e.render()})}}),m=e.View.extend({initialize:function(e){var t=this;t.phylovizView=e,i("#panelHeaderRightBtns").empty(),i("#phyloVizNavBtns").empty(),i("#phylovizNexSelector").off(),t.initNavBtns(),t.initRightHeaderBtns(),i("#phylovizNexSelector").off().on("change",function(){t.phylovizView.reloadViz()})},initRightHeaderBtns:function(){var e=this,t=c.a.create_icon_buttons_menu([{icon_class:"gear",title:o()("PhyloViz Settings"),on_click:function(){i("#SettingsMenu").show(),e.settingsMenu.updateUI()}},{icon_class:"disk",title:o()("Save visualization"),on_click:function(){var t=i("#phylovizNexSelector option:selected").text();t&&e.phylovizView.phyloTree.set("title",t),e.phylovizView.phyloTree.save()}},{icon_class:"chevron-expand",title:"Search / Edit Nodes",on_click:function(){i("#nodeSelectionView").show()}},{icon_class:"information",title:o()("Phyloviz Help"),on_click:function(){window.open("https://galaxyproject.org/learn/visualization/phylogenetic-tree/")}}],{tooltip_config:{placement:"bottom"}});i("#panelHeaderRightBtns").append(t.$el)},initNavBtns:function(){var e=this,t=c.a.create_icon_buttons_menu([{icon_class:"zoom-in",title:o()("Zoom in"),on_click:function(){e.phylovizView.zoomAndPan({zoom:"+"})}},{icon_class:"zoom-out",title:o()("Zoom out"),on_click:function(){e.phylovizView.zoomAndPan({zoom:"-"})}},{icon_class:"arrow-circle",title:"Reset Zoom/Pan",on_click:function(){e.phylovizView.zoomAndPan({zoom:"reset"})}}],{tooltip_config:{placement:"bottom"}});i("#phyloVizNavBtns").append(t.$el)}}),g=u.extend({className:"Settings",initialize:function(e){var t=this;t.phyloTree=e.phyloTree,t.el=i("#SettingsMenu"),t.inputs={separation:i("#phyloVizTreeSeparation"),leafHeight:i("#phyloVizTreeLeafHeight"),fontSize:i("#phyloVizTreeFontSize")},i("#settingsCloseBtn").off().on("click",function(){t.el.hide()}),i("#phylovizResetSettingsBtn").off().on("click",function(){t.resetToDefaults()}),i("#phylovizApplySettingsBtn").off().on("click",function(){t.apply()})},apply:function(){var e=this;e.isAcceptableValue(e.inputs.separation,50,2500)&&e.isAcceptableValue(e.inputs.leafHeight,5,30)&&e.isAcceptableValue(e.inputs.fontSize,5,20)&&i.each(e.inputs,function(t,n){e.phyloTree.set(t,n.val())})},updateUI:function(){var e=this;i.each(e.inputs,function(t,n){n.val(e.phyloTree.get(t))})},resetToDefaults:function(){i(".tooltip").remove();var e=this;i.each(e.phyloTree.defaults,function(t,n){e.phyloTree.set(t,n)}),e.updateUI()},render:function(){}}),_=u.extend({className:"Settings",initialize:function(e){var t=this;t.el=i("#nodeSelectionView"),t.phyloTree=e.phyloTree,t.UI={enableEdit:i("#phylovizEditNodesCheck"),saveChanges:i("#phylovizNodeSaveChanges"),cancelChanges:i("#phylovizNodeCancelChanges"),name:i("#phyloVizSelectedNodeName"),dist:i("#phyloVizSelectedNodeDist"),annotation:i("#phyloVizSelectedNodeAnnotation")},t.valuesOfConcern={name:null,dist:null,annotation:null},i("#nodeSelCloseBtn").off().on("click",function(){t.el.hide()}),t.UI.saveChanges.off().on("click",function(){t.updateNodes()}),t.UI.cancelChanges.off().on("click",function(){t.cancelChanges()}),function(e){e.fn.enable=function(t){return e(this).each(function(){t?e(this).removeAttr("disabled"):e(this).attr("disabled","disabled")})}}(i),t.UI.enableEdit.off().on("click",function(){t.toggleUI()})},toggleUI:function(){var e=this,t=e.UI.enableEdit.is(":checked");t||e.cancelChanges(),i.each(e.valuesOfConcern,function(n,i){e.UI[n].enable(t)}),t?(e.UI.saveChanges.show(),e.UI.cancelChanges.show()):(e.UI.saveChanges.hide(),e.UI.cancelChanges.hide())},cancelChanges:function(){var e=this,t=e.phyloTree.get("selectedNode");t&&i.each(e.valuesOfConcern,function(n,i){e.UI[n].val(t[n])})},updateNodes:function(){var e=this,t=e.phyloTree.get("selectedNode");if(t){if(!e.isAcceptableValue(e.UI.dist,0,1)||e.hasIllegalJsonCharacters(e.UI.name)||e.hasIllegalJsonCharacters(e.UI.annotation))return;i.each(e.valuesOfConcern,function(n,i){t[n]=e.UI[n].val()}),e.phyloTree.set("nodeAttrChangedTime",new Date)}else alert("No node selected")}}),v=u.extend({initialize:function(){var e=this;i("#phyloVizSearchBtn").on("click",function(){var t=i("#phyloVizSearchTerm"),n=i("#phyloVizSearchCondition").val().split("-"),r=n[0],o=n[1];e.hasIllegalJsonCharacters(t),"dist"===r&&e.isAcceptableValue(t,0,1),e.searchTree(r,o,t.val())})},searchTree:function(e,t,n){a.selectAll("g.node").classed("searchHighlight",function(i){var r=i[e];if(void 0!==r&&null!==r)if("dist"===e)switch(t){case"greaterEqual":return r>=+n;case"lesserEqual":return r<=+n;default:return}else if("name"===e||"annotation"===e)return-1!==r.toLowerCase().indexOf(n.toLowerCase())})}})}).call(this,n(3),n(0))},function(e,t,n){"use strict";(function(e,i){n.d(t,"a",function(){return d});var r=n(1),o=n.n(r),a=(n(567),n(969),n(970),n(28)),s=window.WYMeditor,l={ITEM_HISTORY:"item_history",ITEM_DATASET:"item_dataset",ITEM_WORKFLOW:"item_workflow",ITEM_PAGE:"item_page",ITEM_VISUALIZATION:"item_visualization",DIALOG_HISTORY_LINK:"link_history",DIALOG_DATASET_LINK:"link_dataset",DIALOG_WORKFLOW_LINK:"link_workflow",DIALOG_PAGE_LINK:"link_page",DIALOG_VISUALIZATION_LINK:"link_visualization",DIALOG_EMBED_HISTORY:"embed_history",DIALOG_EMBED_DATASET:"embed_dataset",DIALOG_EMBED_WORKFLOW:"embed_workflow",DIALOG_EMBED_PAGE:"embed_page",DIALOG_EMBED_VISUALIZATION:"embed_visualization"};function c(e){var t,n,i,r;switch(e){case l.ITEM_HISTORY:t="History",n="Histories",i="history",r="History";break;case l.ITEM_DATASET:t="Dataset",n="Datasets",i="dataset",r="HistoryDatasetAssociation";break;case l.ITEM_WORKFLOW:t="Workflow",n="Workflows",i="workflow",r="StoredWorkflow";break;case l.ITEM_PAGE:t="Page",n="Pages",i="page",r="Page";break;case l.ITEM_VISUALIZATION:t="Visualization",n="Visualizations",i="visualization",r="Visualization"}var o="list_".concat(n.toLowerCase(),"_for_selection");return{singular:t,plural:n,controller:i,iclass:r,list_ajax_url:list_objects_url.replace("LIST_ACTION",o)}}function u(t,n,i){var r=set_accessible_url.replace("ITEM_CONTROLLER",t);e.ajax({type:"POST",url:r,data:{id:n,accessible:"True"},error:function(){alert("Making ".concat(i," accessible failed"))}})}function d(){e(document).ajaxError(function(e,t){var n=t.responseText||t.statusText||"Could not connect to server";return show_modal("Server error",n,{"Ignore error":hide_modal}),!1}),e("[name=page_content]").wymeditor({skin:"galaxy",basePath:editor_base_path,iframeBasePath:iframe_base_path,boxHtml:"<table class='wym_box' width='100%' height='100%'><tr><td><div class='wym_area_top'>".concat(s.TOOLS,"</div></td></tr><tr height='100%'><td><div class='wym_area_main' style='height: 100%;'>").concat(s.IFRAME).concat(s.STATUS,"</div></div></td></tr></table>"),toolsItems:[{name:"Bold",title:"Strong",css:"wym_tools_strong"},{name:"Italic",title:"Emphasis",css:"wym_tools_emphasis"},{name:"Superscript",title:o()("Superscript"),css:"wym_tools_superscript"},{name:"Subscript",title:o()("Subscript"),css:"wym_tools_subscript"},{name:"InsertOrderedList",title:"Ordered_List",css:"wym_tools_ordered_list"},{name:"InsertUnorderedList",title:"Unordered_List",css:"wym_tools_unordered_list"},{name:"Indent",title:"Indent",css:"wym_tools_indent"},{name:"Outdent",title:"Outdent",css:"wym_tools_outdent"},{name:"Undo",title:"Undo",css:"wym_tools_undo"},{name:"Redo",title:"Redo",css:"wym_tools_redo"},{name:"CreateLink",title:"Link",css:"wym_tools_link"},{name:"Unlink",title:"Unlink",css:"wym_tools_unlink"},{name:"InsertImage",title:"Image",css:"wym_tools_image"},{name:"InsertTable",title:"Table",css:"wym_tools_table"}]});var t=e.wymeditors(0),n=function(n){show_modal("Saving page","progress"),e.ajax({url:save_url,type:"POST",data:{id:page_id,content:t.xhtml(),annotations:JSON.stringify(new Object),_:"true"},success:function(){n()}})};e("#save-button").click(function(){n(function(){hide_modal()})}),e("#close-button").click(function(){window.document.location=page_list_url});var i=e("<div class='galaxy-page-editor-button'><a id='insert-galaxy-link' class='action-button popup' href='#'>Paragraph type</a></div>");e(".wym_area_top").append(i);var r={};e.each(t._options.containersItems,function(e,n){var i=n.name;r[n.title.replace("_"," ")]=function(){t.container(i)}}),make_popupmenu(i,r);var a=e("<div><a id='insert-galaxy-link' class='action-button popup' href='#'>Insert Link to Galaxy Object</a></div>").addClass("galaxy-page-editor-button");e(".wym_area_top").append(a),make_popupmenu(a,{"Insert History Link":function(){t.dialog(l.DIALOG_HISTORY_LINK)},"Insert Dataset Link":function(){t.dialog(l.DIALOG_DATASET_LINK)},"Insert Workflow Link":function(){t.dialog(l.DIALOG_WORKFLOW_LINK)},"Insert Page Link":function(){t.dialog(l.DIALOG_PAGE_LINK)},"Insert Visualization Link":function(){t.dialog(l.DIALOG_VISUALIZATION_LINK)}});var c=e("<div><a id='embed-galaxy-object' class='action-button popup' href='#'>Embed Galaxy Object</a></div>").addClass("galaxy-page-editor-button");e(".wym_area_top").append(c),make_popupmenu(c,{"Embed History":function(){t.dialog(l.DIALOG_EMBED_HISTORY)},"Embed Dataset":function(){t.dialog(l.DIALOG_EMBED_DATASET)},"Embed Workflow":function(){t.dialog(l.DIALOG_EMBED_WORKFLOW)},"Embed Visualization":function(){t.dialog(l.DIALOG_EMBED_VISUALIZATION)}})}s.editor.prototype.dialog=function(t,n,r){var o,d,h=this,f=h.uniqueStamp(),p=h.selected();t==s.DIALOG_LINK&&(p&&(e(h._options.hrefSelector).val(e(p).attr(s.HREF)),e(h._options.srcSelector).val(e(p).attr(s.SRC)),e(h._options.titleSelector).val(e(p).attr(s.TITLE)),e(h._options.altSelector).val(e(p).attr(s.ALT))),p&&(void 0==(o=e(p).attr("href"))&&(o=""),void 0==(d=e(p).attr("title"))&&(d="")),show_modal("Create Link","<div><div><label id='link_attribute_label'>URL <span style='float: right; font-size: 90%'><a href='#' id='set_link_id'>Create in-page anchor</a></span></label><br><input type='text' class='wym_href' value='".concat(o,"' size='40' /></div><div><label>Title</label><br><input type='text' class='wym_title' value='").concat(d,"' size='40' /></div><div>"),{"Make link":function(){var t=e(h._options.hrefSelector).val()||"",n=e(".wym_id").val()||"",i=e(h._options.titleSelector).val()||"";if(t||n){h._exec(s.CREATE_LINK,f);var r=e("a[href=".concat(f,"]"),h._doc.body);r.attr(s.HREF,t).attr(s.TITLE,i).attr("id",n),0===r.text().indexOf("wym-")&&r.text(i)}hide_modal()},Cancel:function(){hide_modal()}},{},function(){e("#set_link_id").click(function(){e("#link_attribute_label").text("ID/Name");var t=e(".wym_href");t.addClass("wym_id").removeClass("wym_href"),p&&t.val(e(p).attr("id")),e(this).remove()})}));if(t==s.DIALOG_IMAGE)return h._selected_image&&(e("".concat(h._options.dialogImageSelector," ").concat(h._options.srcSelector)).val(e(h._selected_image).attr(s.SRC)),e("".concat(h._options.dialogImageSelector," ").concat(h._options.titleSelector)).val(e(h._selected_image).attr(s.TITLE)),e("".concat(h._options.dialogImageSelector," ").concat(h._options.altSelector)).val(e(h._selected_image).attr(s.ALT))),void show_modal("Image","<div class='row'><label>URL</label><br><input type='text' class='wym_src' value='' size='40' /></div><div class='row'><label>Alt text</label><br><input type='text' class='wym_alt' value='' size='40' /></div><div class='row'><label>Title</label><br><input type='text' class='wym_title' value='' size='40' /></div>",{Insert:function(){var t=e(h._options.srcSelector).val();t.length>0&&(h._exec(s.INSERT_IMAGE,f),e("img[src$=".concat(f,"]"),h._doc.body).attr(s.SRC,t).attr(s.TITLE,e(h._options.titleSelector).val()).attr(s.ALT,e(h._options.altSelector).val())),hide_modal()},Cancel:function(){hide_modal()}});if(t==s.DIALOG_TABLE&&show_modal("Table","<div class='row'><label>Caption</label><br><input type='text' class='wym_caption' value='' size='40' /></div><div class='row'><label>Summary</label><br><input type='text' class='wym_summary' value='' size='40' /></div><div class='row'><label>Number Of Rows<br></label><input type='text' class='wym_rows' value='3' size='3' /></div><div class='row'><label>Number Of Cols<br></label><input type='text' class='wym_cols' value='2' size='3' /></div>",{Insert:function(){var t=e(h._options.rowsSelector).val(),n=e(h._options.colsSelector).val();if(t>0&&n>0){var i=h._doc.createElement(s.TABLE),r=null,o=e(h._options.captionSelector).val();i.createCaption().innerHTML=o;for(var a=0;a<t;a++){r=i.insertRow(a);for(var l=0;l<n;l++)r.insertCell(l)}e(i).attr("summary",e(h._options.summarySelector).val());var c=e(h.findUp(h.container(),s.MAIN_CONTAINERS)).get(0);c&&c.parentNode?e(c).after(i):e(h._doc.body).append(i)}hide_modal()},Cancel:function(){hide_modal()}}),t==l.DIALOG_HISTORY_LINK||t==l.DIALOG_DATASET_LINK||t==l.DIALOG_WORKFLOW_LINK||t==l.DIALOG_PAGE_LINK||t==l.DIALOG_VISUALIZATION_LINK){switch(t){case l.DIALOG_HISTORY_LINK:g=c(l.ITEM_HISTORY);break;case l.DIALOG_DATASET_LINK:g=c(l.ITEM_DATASET);break;case l.DIALOG_WORKFLOW_LINK:g=c(l.ITEM_WORKFLOW);break;case l.DIALOG_PAGE_LINK:g=c(l.ITEM_PAGE);break;case l.DIALOG_VISUALIZATION_LINK:g=c(l.ITEM_VISUALIZATION)}var m=new a.a({url_base:g.list_ajax_url,embedded:!0});i.modal.show({title:"Insert Link to ".concat(g.singular),body:e("<div/>").append(m.$el).append(e("<div/>").append('<input id="make-importable" type="checkbox" checked/>').append("Make the selected ".concat(g.plural.toLowerCase()," accessible so that they can viewed by everyone."))),closing_events:!0,buttons:{Insert:function(){var t=!1;null!=e("#make-importable:checked").val()&&(t=!0);new Array;m.$("input[name=id]:checked").each(function(){var n=e(this).val();t&&u(g.controller,n,g.singular);var i=(get_name_and_link_url+n).replace("ITEM_CONTROLLER",g.controller);e.getJSON(i,function(t){h._exec(s.CREATE_LINK,f);var i=e("a[href=".concat(f,"]"),h._doc.body).text();""==i||i==f?h.insert("<a href='".concat(t.link,"'>").concat(g.singular," '").concat(t.name,"'</a>")):e("a[href=".concat(f,"]"),h._doc.body).attr(s.HREF,t.link).attr(s.TITLE,g.singular+n)})}),i.modal.hide()},Close:function(){i.modal.hide()}}})}if(t==l.DIALOG_EMBED_HISTORY||t==l.DIALOG_EMBED_DATASET||t==l.DIALOG_EMBED_WORKFLOW||t==l.DIALOG_EMBED_PAGE||t==l.DIALOG_EMBED_VISUALIZATION){var g;switch(t){case l.DIALOG_EMBED_HISTORY:g=c(l.ITEM_HISTORY);break;case l.DIALOG_EMBED_DATASET:g=c(l.ITEM_DATASET);break;case l.DIALOG_EMBED_WORKFLOW:g=c(l.ITEM_WORKFLOW);break;case l.DIALOG_EMBED_PAGE:g=c(l.ITEM_PAGE);break;case l.DIALOG_EMBED_VISUALIZATION:g=c(l.ITEM_VISUALIZATION)}m=new a.a({url_base:g.list_ajax_url,embedded:!0});i.modal.show({title:"Insert Link to ".concat(g.singular),body:e("<div/>").append(m.$el).append(e("<div/>").append('<input id="make-importable" type="checkbox" checked/>').append("Make the selected ".concat(g.plural.toLowerCase()," accessible so that they can viewed by everyone."))),closing_events:!0,buttons:{Embed:function(){var t=!1;null!=e("#make-importable:checked").val()&&(t=!0),m.$("input[name=id]:checked").each(function(){var n=e(this),i=n.val(),r=n.closest("td").next("td").find("label").text();t&&u(g.controller,i,g.singular);var o=["<div id='","".concat(g.iclass,"-").concat(i),"' class='embedded-item ",g.singular.toLowerCase()," placeholder'>","<p class='title'>","Embedded Galaxy ",g.singular," '",r,"'","</p>","<p class='content'>","[Do not edit this block; Galaxy will fill it in with the annotated ",g.singular.toLowerCase()," when it is displayed.]","</p>","</div>"].join("");h.insert(o)}),i.modal.hide()},Close:function(){i.modal.hide()}}})}}}).call(this,n(0),n(5).monitor)},function(e,t,n){"use strict";(function(e,i){var r=n(50),o=(n(402),n(403),n(8),n(1)),a=n.n(o),s=r.a.HistoryView,l=s.extend({className:"".concat(s.prototype.className," annotated-history-panel"),_buildNewRender:function(){var e=s.prototype._buildNewRender.call(this);return this.renderHistoryAnnotation(e),e},renderHistoryAnnotation:function(e){var t=this.model.get("annotation");t&&e.find("> .controls .subtitle").text(t)},renderItems:function(t){t=t||this.$el,s.prototype.renderItems.call(this,t);var n=t.find("> .controls");n.find(".contents-container.headers").remove();e('<div class="contents-container headers"/>').append([e('<div class="history-content header"/>').text(a()("Dataset")),e('<div class="additional-info header"/>').text(a()("Annotation"))]).appendTo(n);return self.views},_renderItemView$el:function(t){return e('<div class="contents-container"/>').append([t.render(0).$el,e('<div class="additional-info"/>').text(t.model.get("annotation")||"")])},events:i.extend(i.clone(s.prototype.events),{"click .contents-container":function(t){t.stopPropagation(),e(t.currentTarget).find(".list-item .title-bar").click()},"click .icon-btn":function(t){t.stopPropagation();var n=e(t.currentTarget);n.length&&"dropdown"===n.attr("data-toggle")&&n.dropdown("toggle")}}),_clickSectionLink:function(t){var n=e(t.currentTarget).parent().parent().data("section");this.openSection(n)},toString:function(){return"AnnotatedHistoryView(".concat(this.model?this.model.get("name"):"",")")}});t.a={AnnotatedHistoryView:l}}).call(this,n(0),n(2))},function(e,t,n){"use strict";(function(e,i,r,o){var a=n(6),s=n(594),l=n(373),c=n(387);e.ajaxSettings.traditional=!0,t.a=i.View.extend({grid:null,initialize:function(e){this.grid=new s.a,this.dict_format=e.dict_format,this.title=e.title,this.title_id=e.title_id;var t=this;if(window.add_tag_to_grid_filter=function(e,n){var i=e+(void 0!==n&&""!==n?":".concat(n):"");r("#advanced-search").is(":visible")||(r("#standard-search").slideToggle("fast"),r("#advanced-search").slideToggle("fast")),t.add_filter_condition("tags",i)},this.dict_format)if(this.setElement("<div/>"),e.url_base&&!e.items){var n=e.url_data||{};o.each(e.filters,function(e,t){n["f-".concat(t)]=e}),r.ajax({url:"".concat(e.url_base,"?").concat(r.param(n)),success:function(n){n.embedded=e.embedded,n.filters=e.filters||{},t.init_grid(n)}})}else this.init_grid(e);else this.setElement("#grid-container"),this.init_grid(e);e.use_panels&&r("#center").css({padding:"10px",overflow:"auto"})},handle_refresh:function(e){e&&r.inArray("history",e)>-1&&window.top.Galaxy&&window.top.Galaxy.currHistoryPanel&&window.top.Galaxy.currHistoryPanel.loadCurrentHistory()},init_grid:function(e){this.grid.set(e);var t=this.grid.attributes;this.allow_title_display&&t.title&&a.a.setWindowTitle(t.title),this.handle_refresh(t.refresh_frames);var n=this.grid.get("url_base");if(n=n.replace(/^.*\/\/[^\/]+/,""),this.grid.set("url_base",n),this.$el.html(l.a.grid(t)),this.$el.find("#grid-table-header").html(l.a.header(t)),this.$el.find("#grid-table-body").html(l.a.body(t)),this.$el.find("#grid-table-footer").html(l.a.footer(t)),t.message){this.$el.find("#grid-message").html(l.a.message(t));var i=this;t.use_hide_message&&setTimeout(function(){i.$el.find("#grid-message").html("")},5e3)}this.init_grid_elements(),this.init_grid_controls(),window.init_refresh_on_change&&window.init_refresh_on_change()},init_grid_controls:function(){var e=this;this.$el.find(".operation-button").each(function(){r(this).off(),r(this).click(function(){return e.submit_operation(this),!1})}),this.$el.find("input[type=text]").each(function(){r(this).off(),r(this).click(function(){r(this).select()}).keyup(function(){r(this).css("font-style","normal")})}),this.$el.find(".sort-link").each(function(){r(this).off(),r(this).click(function(){return e.set_sort_condition(r(this).attr("sort_key")),!1})}),this.$el.find(".text-filter-form").each(function(){r(this).off(),r(this).submit(function(){var t=r(this).attr("column_key"),n=r("#input-".concat(t,"-filter")),i=n.val();return n.val(""),e.add_filter_condition(t,i),!1})}),this.$el.find(".text-filter-val > a").each(function(){r(this).off(),r(this).click(function(){return r(this).parent().remove(),e.remove_filter_condition(r(this).attr("filter_key"),r(this).attr("filter_val")),!1})}),this.$el.find(".categorical-filter > a").each(function(){r(this).off(),r(this).click(function(){return e.set_categorical_filter(r(this).attr("filter_key"),r(this).attr("filter_val")),!1})}),this.$el.find(".advanced-search-toggle").each(function(){r(this).off(),r(this).click(function(){return e.$el.find("#standard-search").slideToggle("fast"),e.$el.find("#advanced-search").slideToggle("fast"),!1})}),this.$el.find("#check_all").off(),this.$el.find("#check_all").on("click",function(){e.check_all_items()})},init_grid_elements:function(){this.$el.find(".grid").each(function(){var e=r(this).find("input.grid-row-select-checkbox"),t=r(this).find("span.grid-selected-count"),n=function(){t.text(r(e).filter(":checked").length)};r(e).each(function(){r(this).change(n)}),n()}),0!==this.$el.find(".community_rating_star").length&&this.$el.find(".community_rating_star").rating({});var e=this.grid.attributes,t=this;this.$el.find(".page-link > a").each(function(){r(this).click(function(){return t.set_page(r(this).attr("page_num")),!1})}),this.$el.find(".use-target").each(function(){r(this).click(function(){return t.execute({href:r(this).attr("href"),target:r(this).attr("target")}),!1})}),0!==e.items.length&&o.each(e.items,function(n,i){var r=t.$("#grid-".concat(n.encode_id,"-popup")).off(),a=new c.a(r);o.each(e.operations,function(e){t._add_operation(a,e,n)})})},_add_operation:function(e,t,n){var i=this,o=n.operation_config[t.label];o.allowed&&t.allow_popup&&e.addItem({html:t.label,href:o.url_args,target:o.target,confirmation_text:t.confirm,func:function(e){e.preventDefault();var o=r(e.target).html();t.onclick?t.onclick(n.encode_id):i.execute(this.findItemByHtml(o))}})},add_filter_condition:function(e,t){if(""===t)return!1;this.grid.add_filter(e,t,!0);var n=r(l.a.filter_element(e,t)),i=this;n.click(function(){r(this).remove(),i.remove_filter_condition(e,t)}),this.$el.find("#".concat(e,"-filtering-criteria")).append(n),this.go_page_one(),this.execute()},remove_filter_condition:function(e,t){this.grid.remove_filter(e,t),this.go_page_one(),this.execute()},set_sort_condition:function(e){var t=this.grid.get("sort_key"),n=e;-1!==t.indexOf(e)&&"-"!==t.substring(0,1)&&(n="-".concat(e)),this.$el.find(".sort-arrow").remove();var i="-"==n.substring(0,1)?"&uarr;":"&darr;",o=r("<span>".concat(i,"</span>")).addClass("sort-arrow");this.$el.find("#".concat(e,"-header")).append(o),this.grid.set("sort_key",n),this.go_page_one(),this.execute()},set_categorical_filter:function(e,t){var n=this.grid.get("categorical_filters")[e],i=this.grid.get("filters")[e],o=this;this.$el.find(".".concat(e,"-filter")).each(function(){var a=r.trim(r(this).text()),s=n[a][e];if(s==t)r(this).empty(),r(this).addClass("current-filter"),r(this).append(a);else if(s==i){r(this).empty();var l=r('<a href="#">'.concat(a,"</a>"));l.click(function(){o.set_categorical_filter(e,s)}),r(this).removeClass("current-filter"),r(this).append(l)}}),this.grid.add_filter(e,t),this.go_page_one(),this.execute()},set_page:function(e){var t=this;this.$el.find(".page-link").each(function(){var n,i=r(this).attr("id"),o=parseInt(i.split("-")[2],10),a=t.grid.get("cur_page");if(o===e)n=r(this).children().text(),r(this).empty(),r(this).addClass("inactive-link"),r(this).text(n);else if(o===a){n=r(this).text(),r(this).empty(),r(this).removeClass("inactive-link");var s=r('<a href="#">'.concat(n,"</a>"));s.click(function(){t.set_page(o)}),r(this).append(s)}}),"all"===e?this.grid.set("cur_page",e):this.grid.set("cur_page",parseInt(e,10)),this.execute()},submit_operation:function(e,t){var n=r(e).val();if(this.$el.find('input[name="id"]:checked').length<1)return!1;var i=o.findWhere(this.grid.attributes.operations,{label:n});i&&!t&&(t=i.confirm||"");var a=[];this.$el.find("input[name=id]:checked").each(function(){a.push(r(this).val())});var s={operation:n,id:a,confirmation_text:t};return"top"!=i.target&&"center"!=i.target||(s=o.extend(s,{href:i.href,target:i.target})),this.execute(s),!0},check_all_items:function(){var e=this.$(".grid-row-select-checkbox"),t=this.$("#check_all").prop("checked");o.each(e,function(e){r(e).prop("checked",t)}),this.init_grid_elements()},go_page_one:function(){var e=this.grid.get("cur_page");null!==e&&void 0!==e&&"all"!==e&&this.grid.set("cur_page",1)},execute:function(e){var t=null,n=null,i=null,o=null,a=null;if(e&&(n=e.href,i=e.operation,t=e.id,o=e.confirmation_text,a=e.target,void 0!==n&&-1!=n.indexOf("operation="))){var s=n.split("?");if(s.length>1)for(var l=s[1].split("&"),c=0;c<l.length;c++)-1!=l[c].indexOf("operation")?i=(i=l[c].split("=")[1]).replace(/\+/g," "):-1!=l[c].indexOf("id")&&(t=l[c].split("=")[1])}return i&&t?!(o&&""!==o&&"None"!=o&&"null"!=o&&!confirm(o))&&(i=i.toLowerCase(),this.grid.set({operation:i,item_ids:t}),"top"==a?window.top.location="".concat(n,"?").concat(r.param(this.grid.get_url_data())):"center"==a?r("#galaxy_main").attr("src","".concat(n,"?").concat(r.param(this.grid.get_url_data()))):this.grid.can_async_op(i)||this.dict_format?this.update_grid():this.go_to(a,n),!1):n?(this.go_to(a,n),!1):(this.grid.get("async")||this.dict_format?this.update_grid():this.go_to(a,n),!1)},go_to:function(e,t){var n=this.grid.get("async");this.grid.set("async",!1);var i=this.$el.find("#advanced-search").is(":visible");switch(this.grid.set("advanced_search",i),t||(t="".concat(this.grid.get("url_base"),"?").concat(r.param(this.grid.get_url_data()))),this.grid.set({operation:void 0,item_ids:void 0,async:n}),e){case"center":r("#galaxy_main").attr("src",t);break;case"top":window.top.location=t;break;default:window.location=t}},update_grid:function(){var e=this.grid.get("operation")?"POST":"GET";this.$el.find(".loading-elt-overlay").show();var t=this;r.ajax({type:e,url:t.grid.get("url_base"),data:t.grid.get_url_data(),error:function(){alert("Grid refresh failed")},success:function(e){var n=t.grid.get("embedded"),i=t.grid.get("insert"),o=t.$el.find("#advanced-search").is(":visible"),a=t.dict_format?e:r.parseJSON(e);a.embedded=n,a.insert=i,a.advanced_search=o,t.init_grid(a),t.$el.find(".loading-elt-overlay").hide()},complete:function(){t.grid.set({operation:void 0,item_ids:void 0})}})}})}).call(this,n(0),n(3),n(0),n(2))},function(e,t,n){"use strict";(function(e){var i=n(595),r=n(597),o=e.Router.extend({routes:{"":"groups",":group_id":"group_page"}}),a=e.View.extend({groupListView:null,groupDetailView:null,collection:null,initialize:function(){window.globalTS.groups=this,this.ts_router=new o,this.ts_router.on("route:groups",function(){window.globalTS.groups.groupListView=new i.a.GroupListView}),this.ts_router.on("route:group_page",function(e){window.globalTS.groups.groupDetailView=new r.a.GroupDetailView({group_id:e})}),e.history.start({pushState:!1})}});t.a={ToolshedGroups:a}}).call(this,n(3))},function(e,t,n){var i=n(971),r=[n(972),n(973),n(974),n(975)];e.exports=i.createStore(r,[])},function(e,t,n){"use strict";(function(e){var i=n(509),r=n(452),o=(n(1),r.a.HistoryContentMixin),a=i.a.DatasetCollection,s=a.extend(o).extend({defaults:e.extend(e.clone(a.prototype.defaults),{history_content_type:"dataset_collection",model_class:"HistoryDatasetCollectionAssociation"}),save:function(e,t){return this.isNew()&&((t=t||{}).url="".concat(this.urlRoot+this.get("history_id"),"/contents"),(e=e||{}).type="dataset_collection"),a.prototype.save.call(this,e,t)},toString:function(){return"History".concat(a.prototype.toString.call(this))}});t.a={HistoryDatasetCollection:s}}).call(this,n(2))},function(e,t,n){"use strict";(function(e){var i=n(3),r=i.View.extend({initialize:function(t){this.collection=new i.Collection,this.model=t&&t.model||new i.Model({onchange:null,visible:!0}).set(t),this.setElement(e(this._template())),this.$nav=this.$(".tab-navigation"),this.$content=this.$(".tab-content"),this.$el.on("click",function(){e(".tooltip").hide()}),this.render(),this.listenTo(this.model,"change",this.render,this),this.listenTo(this.collection,"add",this._add,this),this.listenTo(this.collection,"remove",this._remove,this),this.listenTo(this.collection,"change",this._change,this),this.listenTo(this.collection,"reset",this._reset,this),this.listenTo(this.collection,"add remove reset",this.render,this)},render:function(){var e=this.model.get("current");(e=this.$("#".concat(e)).length>0?e:this.first())&&(this.$nav.find(".nav-link.active").removeClass("active"),this.$content.children().removeClass("active"),this.$("#tab-".concat(e," .nav-link")).addClass("active"),this.$("#".concat(e)).addClass("active")),this.$el[this.model.get("visible")?"fadeIn":"fadeOut"]("fast"),this.$nav[this.size()>1?"show":"hide"]()},current:function(){return this.model.get("current")},show:function(e){e&&(this.model.set({current:e,visible:!0}),this.model.get("onchange")&&this.model.get("onchange")(e))},hide:function(){this.model.set("visible",!1)},first:function(){var e=this.collection.first();return e&&e.id},size:function(){return this.collection.length},add:function(e){this.collection.add(e)},del:function(e){this.collection.remove(e)},delAll:function(){this.collection.reset()},showTab:function(e){this.collection.get(e).set("hidden",!1)},hideTab:function(e){this.collection.get(e).set("hidden",!0)},_add:function(t){var n=this,i=t.attributes;this.$content.append(e("<div/>").attr("id",i.id).addClass("tab-pane").append(i.$el)),this.$nav.append(e(this._template_tab(i)).show().tooltip({title:i.tooltip||"",placement:"bottom",container:n.$el}).on("click",function(e){e.preventDefault(),n.show(i.id)})),1==this.size()&&this.show(i.id)},_remove:function(e){this.$("#tab-".concat(e.id)).remove(),this.$("#".concat(e.id)).remove()},_reset:function(){this.$nav.empty(),this.$content.empty()},_change:function(e){this.$("#tab-".concat(e.id))[e.get("hidden")?"hide":"show"]()},_template:function(){return e("<div/>").addClass("tabbable tabs-left").append(e("<ul/>").attr("style","display: flex").addClass("tab-navigation nav nav-tabs")).append(e("<div/>").addClass("tab-content"))},_template_tab:function(t){var n=e("<li/>").addClass("nav-item").attr("id","tab-".concat(t.id)).append(e("<a/>").addClass("nav-link").attr("id","tab-title-link-".concat(t.id))),i=n.find("a");return t.icon&&i.append(e("<i/>").addClass("fa").addClass(t.icon)),t.title&&i.append(e("<span/>").attr("id","tab-title-text-".concat(t.id)).addClass("tab-title-text ml-1").append(t.title)),n}});t.a={View:r}}).call(this,n(0))},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(5),d=n(1),h=n.n(d),f=n(20),p=n(26),m=n(6),g=n(70),_=n(49),v=(n(566),l.a.Model.extend({is_visible:function(e,t){var n=e.getBoundingClientRect(),i=a()("svg")[0].getBoundingClientRect();return!(n.right<0||n.left>i.right||n.bottom<0||n.top>i.bottom)}})),y={drawTicks:function(e,t,n,i,r){var o=e.append("g").selectAll("g").data(t).enter().append("g").selectAll("g").data(n).enter().append("g").attr("class","tick").attr("transform",function(e){return"rotate(".concat(180*e.angle/Math.PI-90,")translate(").concat(e.radius,",0)")}),a=[],s=[],l=function(e){return e.angle>Math.PI?"end":null};return r?(a=[0,0,0,-4],s=[4,0,"",".35em"],l=null):(a=[1,0,4,0],s=[0,4,".35em",""]),o.append("line").attr("x1",a[0]).attr("y1",a[1]).attr("x2",a[2]).attr("y1",a[3]).style("stroke","#000"),o.append("text").attr("x",s[0]).attr("y",s[1]).attr("dx",s[2]).attr("dy",s[3]).attr("text-anchor",l).attr("transform",i).text(function(e){return e.label})},formatNum:function(e,t){if(void 0===t&&(t=2),null===e)return null;var n=null;if(Math.abs(e)<1)n=e.toPrecision(t);else{var i=Math.round(e.toPrecision(t));(e=Math.abs(e))<1e3?n=i:e<1e6?n="".concat(Math.round((i/1e3).toPrecision(3)).toFixed(0),"K"):e<1e9&&(n="".concat(Math.round((i/1e6).toPrecision(3)).toFixed(0),"M"))}return n}},b=l.a.Model.extend({}),w=l.a.View.extend({className:"circster",initialize:function(e){this.genome=e.genome,this.label_arc_height=50,this.scale=1,this.circular_views=null,this.chords_views=null,this.model.get("drawables").on("add",this.add_track,this),this.model.get("drawables").on("remove",this.remove_track,this);var t=this.model.get("config");t.get("arc_dataset_height").on("change:value",this.update_track_bounds,this),t.get("track_gap").on("change:value",this.update_track_bounds,this)},get_circular_tracks:function(){return this.model.get("drawables").filter(function(e){return"DiagonalHeatmapTrack"!==e.get("track_type")})},get_chord_tracks:function(){return this.model.get("drawables").filter(function(e){return"DiagonalHeatmapTrack"===e.get("track_type")})},get_tracks_bounds:function(){var e=this.get_circular_tracks(),t=this.model.get("config").get_value("arc_dataset_height"),n=this.model.get("config").get_value("track_gap"),i=Math.min(this.$el.width(),this.$el.height())-20,o=i/2-e.length*(t+n)+n-this.label_arc_height,a=f.range(o,i/2,t+n);return r.a.map(a,function(e){return[e,e+t]})},render:function(){var e=this,t=e.$el.width(),n=e.$el.height(),i=this.get_circular_tracks(),r=this.get_chord_tracks(),o=e.model.get("config").get_value("total_gap"),a=this.get_tracks_bounds(),s=f.select(e.$el[0]).append("svg").attr("width",t).attr("height",n).attr("pointer-events","all").append("svg:g").call(f.behavior.zoom().on("zoom",function(){var t=f.event.scale;s.attr("transform","translate(".concat(f.event.translate,") scale(").concat(t,")")),e.scale!==t&&(e.zoom_drag_timeout&&clearTimeout(e.zoom_drag_timeout),e.zoom_drag_timeout=setTimeout(function(){},400))})).attr("transform","translate(".concat(t/2,",").concat(n/2,")")).append("svg:g").attr("class","tracks");this.circular_views=i.map(function(t,n){var i=new C({el:s.append("g")[0],track:t,radius_bounds:a[n],genome:e.genome,total_gap:o});return i.render(),i}),this.chords_views=r.map(function(t){var n=new S({el:s.append("g")[0],track:t,radius_bounds:a[0],genome:e.genome,total_gap:o});return n.render(),n});var l=this.circular_views[this.circular_views.length-1].radius_bounds[1],c=[l,l+this.label_arc_height];this.label_track_view=new M({el:s.append("g")[0],track:new b,radius_bounds:c,genome:e.genome,total_gap:o}),this.label_track_view.render()},add_track:function(e){var t=this.model.get("config").get_value("total_gap");if("DiagonalHeatmapTrack"===e.get("track_type")){var n=this.circular_views[0].radius_bounds,i=new S({el:f.select("g.tracks").append("g")[0],track:e,radius_bounds:n,genome:this.genome,total_gap:t});i.render(),this.chords_views.push(i)}else{var o=this.get_tracks_bounds();r.a.each(this.circular_views,function(e,t){e.update_radius_bounds(o[t])}),r.a.each(this.chords_views,function(e){e.update_radius_bounds(o[0])});var a=this.circular_views.length,s=new C({el:f.select("g.tracks").append("g")[0],track:e,radius_bounds:o[a],genome:this.genome,total_gap:t});s.render(),this.circular_views.push(s)}},remove_track:function(e,t,n){var i=this.circular_views[n.index];this.circular_views.splice(n.index,1),i.$el.remove();var o=this.get_tracks_bounds();r.a.each(this.circular_views,function(e,t){e.update_radius_bounds(o[t])})},update_track_bounds:function(){var e=this.get_tracks_bounds();r.a.each(this.circular_views,function(t,n){t.update_radius_bounds(e[n])}),r.a.each(this.chords_views,function(t){t.update_radius_bounds(e[0])})}}),k=l.a.View.extend({tagName:"g",initialize:function(e){this.bg_stroke="#ddd",this.loading_bg_fill="#ffc",this.bg_fill="#ddd",this.total_gap=e.total_gap,this.track=e.track,this.radius_bounds=e.radius_bounds,this.genome=e.genome,this.chroms_layout=this._chroms_layout(),this.data_bounds=[],this.scale=1,this.parent_elt=f.select(this.$el[0])},get_fill_color:function(){var e=this.track.get("config").get_value("block_color");return e||(e=this.track.get("config").get_value("color")),e},render:function(){var e=this.parent_elt,t=this.chroms_layout,n=f.svg.arc().innerRadius(this.radius_bounds[0]).outerRadius(this.radius_bounds[1]),i=e.selectAll("g").data(t).enter().append("svg:g").append("path").attr("d",n).attr("class","chrom-background").style("stroke",this.bg_stroke).style("fill",this.loading_bg_fill);i.append("title").text(function(e){return e.data.chrom});var r=this,o=r.track.get("data_manager"),s=!o||o.data_is_ready();a.a.when(s).then(function(){a.a.when(r._render_data(e)).then(function(){i.style("fill",r.bg_fill),r.render_labels()})})},render_labels:function(){},update_radius_bounds:function(e){this.radius_bounds=e;var t=f.svg.arc().innerRadius(this.radius_bounds[0]).outerRadius(this.radius_bounds[1]);this.parent_elt.selectAll("g>path.chrom-background").transition().duration(1e3).attr("d",t),this._transition_chrom_data(),this._transition_labels()},update_scale:function(e){var t=this.scale;if(this.scale=e,!(e<=t)){var n=this,i=new v;return this.parent_elt.selectAll("path.chrom-data").filter(function(e,t){return i.is_visible(this)}).each(function(t,i){var o,s=f.select(this),l=s.attr("chrom"),c=n.genome.get_chrom_region(l);n.track.get("data_manager").can_get_more_detailed_data(c)&&(o=n.track.get("data_manager").get_more_detailed_data(c,"Coverage",0,e),a.a.when(o).then(function(e){s.remove(),n._update_data_bounds();var t=r.a.find(n.chroms_layout,function(e){return e.data.chrom===l}),i=n.get_fill_color();n._render_chrom_data(n.parent_elt,t,e).style("stroke",i).style("fill",i)}))}),n}},_transition_chrom_data:function(){var e=this.track,t=this.chroms_layout,n=this.parent_elt.selectAll("g>path.chrom-data");if(n[0].length>0){var i=this;a.a.when(e.get("data_manager").get_genome_wide_data(this.genome)).then(function(o){var a=r.a.reject(r.a.map(o,function(e,n){var r=null,o=i._get_path_function(t[n],e);return o&&(r=o(e.data)),r}),function(e){return null===e}),s=e.get("config").get_value("color");n.each(function(e,t){f.select(this).transition().duration(1e3).style("stroke",s).style("fill",s).attr("d",a[t])})})}},_transition_labels:function(){},_update_data_bounds:function(e){this.data_bounds=e||this.get_data_bounds(this.track.get("data_manager").get_genome_wide_data(this.genome)),this._transition_chrom_data()},_render_data:function(e){var t=this,n=this.chroms_layout,i=this.track,o=a.a.Deferred();return a.a.when(i.get("data_manager").get_genome_wide_data(this.genome)).then(function(a){t.data_bounds=t.get_data_bounds(a),i.get("config").set_value("min_value",t.data_bounds[0],{silent:!0}),i.get("config").set_value("max_value",t.data_bounds[1],{silent:!0});var s=r.a.zip(n,a);r.a.each(s,function(n){var i=n[0],r=n[1];return t._render_chrom_data(e,i,r)});var l=t.get_fill_color();t.parent_elt.selectAll("path.chrom-data").style("stroke",l).style("fill",l),o.resolve(e)}),o},_render_chrom_data:function(e,t,n){},_get_path_function:function(e,t){},_chroms_layout:function(){var e=this.genome.get_chroms_info(),t=f.layout.pie().value(function(e){return e.len}).sort(null)(e),n=2*Math.PI*this.total_gap/e.length;return r.a.map(t,function(e,t){var i=e.endAngle-n;return e.endAngle=i>e.startAngle?i:e.startAngle,e})}}),M=k.extend({initialize:function(e){k.prototype.initialize.call(this,e),this.innerRadius=this.radius_bounds[0],this.radius_bounds[0]=this.radius_bounds[1],this.bg_stroke="#fff",this.bg_fill="#fff",this.min_arc_len=.05},_render_data:function(e){var t=this,n=e.selectAll("g");n.selectAll("path").attr("id",function(e){return"label-".concat(e.data.chrom)}),n.append("svg:text").filter(function(e){return e.endAngle-e.startAngle>t.min_arc_len}).attr("text-anchor","middle").append("svg:textPath").attr("class","chrom-label").attr("xlink:href",function(e){return"#label-".concat(e.data.chrom)}).attr("startOffset","25%").text(function(e){return e.data.chrom});var i=r.a.filter(this.chroms_layout,function(e){return e.endAngle-e.startAngle>t.min_arc_len});this.drawTicks(this.parent_elt,i,function(e){var n=(e.endAngle-e.startAngle)/e.value,i=f.range(0,e.value,25e6).map(function(i,r){return{radius:t.innerRadius,angle:i*n+e.startAngle,label:0===r?0:r%3?null:t.formatNum(i)}});return i.length<4&&(i[i.length-1].label=t.formatNum(Math.round((i[i.length-1].angle-e.startAngle)/n))),i},function(e){return e.angle>Math.PI?"rotate(180)translate(-16)":null})}});r.a.extend(M.prototype,y);var x=k.extend({initialize:function(e){k.prototype.initialize.call(this,e);var t=this.track.get("config");t.get("min_value").on("change:value",this._update_min_max,this),t.get("max_value").on("change:value",this._update_min_max,this),t.get("color").on("change:value",this._transition_chrom_data,this)},_update_min_max:function(){var e=this.track.get("config"),t=[e.get_value("min_value"),e.get_value("max_value")];this._update_data_bounds(t),this.parent_elt.selectAll(".min_max").text(function(e,n){return t[n]})},_quantile:function(e,t){return e.sort(f.ascending),f.quantile(e,t)},_render_chrom_data:function(e,t,n){var i=this._get_path_function(t,n);return i?e.datum(n.data).append("path").attr("class","chrom-data").attr("chrom",t.data.chrom).attr("d",i):null},_get_path_function:function(e,t){if("string"==typeof t||!t.data||0===t.data.length)return null;var n=f.scale.linear().domain(this.data_bounds).range(this.radius_bounds).clamp(!0),i=f.scale.linear().domain([0,t.data.length]).range([e.startAngle,e.endAngle]),r=f.svg.line.radial().interpolate("linear").radius(function(e){return n(e[1])}).angle(function(e,t){return i(t)});return f.svg.area.radial().interpolate(r.interpolate()).innerRadius(n(0)).outerRadius(r.radius()).angle(r.angle())},render_labels:function(){var e=this,t=this.drawTicks(this.parent_elt,[this.chroms_layout[0]],this._data_bounds_ticks_fn(),function(){return"rotate(90)"},!0).classed("min_max",!0);r.a.each(t,function(t){a()(t).click(function(){new g.a.ConfigSettingCollectionView({collection:e.track.get("config")}).render_in_modal("Configure Track")})})},_transition_labels:function(){if(0!==this.data_bounds.length){var e=this,t=r.a.filter(this.chroms_layout,function(e){return e.endAngle-e.startAngle>.08}),n=r.a.filter(t,function(e,t){return t%3==0}),i=r.a.flatten(r.a.map(n,function(t){return e._data_bounds_ticks_fn()(t)}));this.parent_elt.selectAll("g.tick").data(i).transition().attr("transform",function(e){return"rotate(".concat(180*e.angle/Math.PI-90,")translate(").concat(e.radius,",0)")})}},_data_bounds_ticks_fn:function(){var e=this;return function(t){return[{radius:e.radius_bounds[0],angle:t.startAngle,label:e.formatNum(e.data_bounds[0])},{radius:e.radius_bounds[1],angle:t.startAngle,label:e.formatNum(e.data_bounds[1])}]}},get_data_bounds:function(e){}});r.a.extend(x.prototype,y);var C=x.extend({get_data_bounds:function(e){var t=r.a.flatten(r.a.map(e,function(e){return e?r.a.map(e.data,function(e){return parseInt(e[1],10)||0}):0}));return[r.a.min(t),this._quantile(t,.98)||r.a.max(t)]}}),S=k.extend({render:function(){var e=this;a.a.when(e.track.get("data_manager").data_is_ready()).then(function(){a.a.when(e.track.get("data_manager").get_genome_wide_data(e.genome)).then(function(t){var n=[],i=e.genome.get_chroms_info();r.a.each(t,function(t,o){var a=i[o].chrom,s=r.a.map(t.data,function(t){var n=e._get_region_angle(a,t[1]),i=e._get_region_angle(t[3],t[4]);return{source:{startAngle:n,endAngle:n+.01},target:{startAngle:i,endAngle:i+.01}}});n=n.concat(s)}),e.parent_elt.append("g").attr("class","chord").selectAll("path").data(n).enter().append("path").style("fill",e.get_fill_color()).attr("d",f.svg.chord().radius(e.radius_bounds[0])).style("opacity",1)})})},update_radius_bounds:function(e){this.radius_bounds=e,this.parent_elt.selectAll("path").transition().attr("d",f.svg.chord().radius(this.radius_bounds[0]))},_get_region_angle:function(e,t){var n=r.a.find(this.chroms_layout,function(t){return t.data.chrom===e});return n.endAngle-(n.endAngle-n.startAngle)*(n.data.len-t)/n.data.len}}),T=l.a.View.extend({initialize:function(){m.a.cssLoadFile("static/style/circster.css");var e=new p.a.Genome(window.galaxy_config.app.genome),t=new p.a.GenomeVisualization(window.galaxy_config.app.viz_config);t.get("config").add([{key:"arc_dataset_height",label:"Arc Dataset Height",type:"int",value:25,view:"circster"},{key:"track_gap",label:"Gap Between Tracks",type:"int",value:5,view:"circster"},{key:"total_gap",label:"Gap [0-1]",type:"float",value:.4,view:"circster",hidden:!0}]),new w({el:a()("#center .unified-panel-body"),genome:e,model:t}).render(),a()("#center .unified-panel-header-inner").append("".concat(window.galaxy_config.app.viz_config.title," ").concat(window.galaxy_config.app.viz_config.dbkey));var n=_.a.create_icon_buttons_menu([{icon_class:"plus-button",title:h()("Add tracks"),on_click:function(){p.a.select_datasets({dbkey:t.get("dbkey")},function(e){t.add_tracks(e)})}},{icon_class:"gear",title:h()("Settings"),on_click:function(){new g.a.ConfigSettingCollectionView({collection:t.get("config")}).render_in_modal("Configure Visualization")}},{icon_class:"disk--arrow",title:h()("Save"),on_click:function(){var e=Object(u.getGalaxyInstance)();e.modal.show({title:h()("Saving..."),body:"progress"}),a.a.ajax({url:"".concat(Object(c.a)(),"visualization/save"),type:"POST",dataType:"json",data:{id:t.get("vis_id"),title:t.get("title"),dbkey:t.get("dbkey"),type:"trackster",vis_json:JSON.stringify(t)}}).success(function(n){e.modal.hide(),t.set("vis_id",n.vis_id)}).error(function(){e.modal.show({title:h()("Could Not Save"),body:"Could not save visualization. Please try again later.",buttons:{Cancel:function(){e.modal.hide()}}})})}},{icon_class:"cross-circle",title:h()("Close"),on_click:function(){window.top.location="".concat(Object(c.a)(),"visualizations/list")}}],{tooltip_config:{placement:"bottom"}});n.$el.attr("style","float: right"),a()("#center .unified-panel-header-inner").append(n.$el),a()(".menu-button").tooltip({placement:"bottom"})}});t.a={GalaxyApp:T}},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(5),d=n(1),h=n.n(d),f=n(31),p=n(370),m=n(368),g=n(47),_=n(73),v=n(8),y=n(72),b=(n(505),l.a.View.extend(v.a.LoggableMixin).extend({_logNamespace:"history",tagName:"div",className:"history-column flex-column flex-row-container",id:function(){return this.model?"history-column-".concat(this.model.get("id")):""},initialize:function(e){e=e||{},this.purgeAllowed=!r.a.isUndefined(e.purgeAllowed)&&e.purgeAllowed,this.panel=e.panel||this.createPanel(e),this.setUpListeners()},createPanel:function(e){return new p.a.HistoryViewEdit(r.a.defaults(e,{model:this.model,purgeAllowed:this.purgeAllowed,dragItems:!0,$scrollContainer:function(){return this.$el}}))},setUpListeners:function(){var e=this;this.once("rendered",function(){e.trigger("rendered:initial",e)}),this.setUpPanelListeners()},setUpPanelListeners:function(){var e=this;this.listenTo(this.panel,{rendered:function(){e.trigger("rendered",e)},"view:expanded view:rendered":function(e){e.$(".rerun-btn").off()}},this)},inView:function(e,t){var n=this.$el.offset().left;return!(n+this.$el.width()<e)&&!(n>t)},$panel:function(){return this.$(".history-panel")},render:function(e){e=void 0!==e?e:"fast";var t=this.model?this.model.toJSON():{};return this.$el.html(this.template(t)),this.renderPanel(e),this.panel.$el.css("display","flex"),this.setUpBehaviors(),this},setUpBehaviors:function(){},template:function(e){return e=r.a.extend(e||{},{isCurrentHistory:this.currentHistory}),a()('\n            <div class="panel-controls mb-1">\n                <div class="flex-row flex-column-container no-gutters justify-content-between">\n                    '.concat(this.controlsLeftTemplate({history:e,view:this}),"\n                    ").concat(this.controlsRightTemplate({history:e,view:this}),'\n                </div>\n            </div>\n            <div class="inner flex-row flex-column-container">\n                <div id="history-').concat(e.id,'" class="history-column history-panel flex-column"></div>\n            </div>'))},renderPanel:function(e){return e=void 0!==e?e:"fast",this.panel.setElement(this.$panel()).render(e),this.currentHistory&&this.panel.$list().before(this.panel._renderDropTargetHelp()),this},events:{"click .switch-to.btn":function(){this.model.setAsCurrent()},"click .delete-history":function(){var e=this;this.model._delete().done(function(t){e.render()})},"click .undelete-history":function(){var e=this;this.model.undelete().done(function(t){e.render()})},"click .purge-history":function(){var e=this;window.confirm(h()("This will permanently remove the data. Are you sure?"))&&this.model.purge().done(function(t){e.render()})},"click .copy-history":"copy"},copy:function(){Object(g.a)(this.model)},controlsLeftTemplate:r.a.template('\n        <div class="text-left col-8">\n            <% if( data.history.isCurrentHistory ){ %>\n                <strong class="current-label">\n                    '.concat(h()("Current History"),'\n                </strong>\n            <% } else { %>\n                <button class="switch-to btn btn-secondary">\n                    ').concat(h()("Switch to"),"\n                </button>\n            <% } %>\n        </div>"),{variable:"data"}),controlsRightTemplate:r.a.template('<div class="text-right col-4">\n            <% if( !data.history.purged ){ %>\n                <div class="panel-menu btn-group">\n                    <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown">\n                        <span class="caret"></span>\n                    </button>\n                    <ul class="dropdown-menu" role="menu">\n                        <% if( !data.history.deleted ){ %>\n                            <li><a href="javascript:void(0);" class="copy-history">\n                                '.concat(h()("Copy"),'\n                            </a></li>\n                            <li><a href="javascript:void(0);" class="delete-history">\n                                ').concat(h()("Delete"),'\n                            </a></li>\n                        <% } else /* if is deleted */ { %>\n                            <li><a href="javascript:void(0);" class="undelete-history">\n                                ').concat(h()("Undelete"),'\n                            </a></li>\n                        <% } %>\n                        <% if( data.view.purgeAllowed ){ %>\n                            <li><a href="javascript:void(0);" class="purge-history">\n                                ').concat(h()("Purge"),"\n                            </a></li>\n                        <% } %>\n                    </ul>\n                </div>\n            <% } %>\n        </div>"),{variable:"data"}),toString:function(){return"HistoryViewColumn(".concat(this.panel?this.panel:"",")")}})),w=l.a.View.extend(v.a.LoggableMixin).extend({_logNamespace:"history",className:"multi-panel-history",initialize:function(e){e=e||{},this.log("".concat(this,".init"),e),this.$el.addClass(this.className),this.options={columnWidth:312,borderWidth:1,columnGap:8,headerHeight:29,footerHeight:0,controlsHeight:20},this.perPage=e.perPage||10,this.hdaQueue=new y.a.NamedAjaxQueue([],!1),this.collection=null,this.columnMap={},this.columnOptions=e.columnOptions||{},this.historySearch=null,this.datasetSearch=null,this.setCollection(e.histories),this.setUpListeners()},setUpListeners:function(){var e=this;this.on("end-of-scroll",function(){e.collection.fetchMore()})},setCollection:function(e){return this.stopListening(this.collection),this.collection=e||new f.b,this.setUpCollectionListeners(),this.createColumns(),this.hdaQueue.clear(),this.trigger("new-collection",this),this},addModels:function(e,t,n){var i=this;return n=n||{},(e=r.a.isArray(e)?e:[e]).forEach(function(e){i.addColumn(e,!1)}),this},setUpCollectionListeners:function(){this.listenTo(this.collection,{error:this.errorHandler,add:this.addModels,"all-fetched":this._postFetchAll,"new-current":this.addAsCurrentColumn,"set-as-current":this.setCurrentHistory,"change:deleted change:purged":this.handleDeletedHistory,sort:function(){this.renderColumns(0)}})},_postFetchAll:function(e){if(this.$(".histories-loading-indicator").remove(),!this.historySearch){var t=this.$(".outer-middle");t.scrollLeft(t.scrollLeft()+24)}},setCurrentHistory:function(e){this.log("setCurrentHistory:",e);var t=r.a.findWhere(this.columnMap,{currentHistory:!0});t&&(t.currentHistory=!1,t.$el.height(""));var n=this.columnMap[this.collection.currentHistoryId];return n.currentHistory=!0,this.collection.sort(),this._recalcFirstColumnHeight(),n},handleDeletedHistory:function(e){if(e.get("deleted")||e.get("purged")){this.log("handleDeletedHistory",this.collection.includeDeleted,e);var t=this.columnMap[e.id];if(!t)return;t.model.id===this.collection.currentHistoryId||this.collection.includeDeleted||this.removeColumn(t)}},errorHandler:function(e,t,n){if(!t||0!==t.status||0!==t.readyState){if(this.error(e,t,n),r.a.isString(e)&&r.a.isString(t)){var i=e,o=t;return _.a.errorModal(i,o,n)}return t&&502===t.status?_.a.badGatewayErrorModal():_.a.ajaxErrorModal(e,t,n)}},_ajaxErrorHandler:function(){_.a.ajaxErrorModal.apply(null,r.a.toArray(arguments))},create:function(e){return this.collection.create({current:!0})},createColumns:function(e,t){var n=this;t=t||this.options.columnOptions,this.columnMap={},this.collection.each(function(e,i){n.columnMap[e.id]=n.createColumn(e,t)})},createColumn:function(e,t){var n=Object(u.getGalaxyInstance)();t=r.a.extend({},t,{model:e,purgeAllowed:n.config.allow_user_dataset_purge});var i=new b(t);return e.id===this.collection.currentHistoryId&&(i.currentHistory=!0),this.setUpColumnListeners(i),this.datasetSearch&&(i.panel.searchItems(this.datasetSearch),this.queueHdaFetchDetails(i)),i},addColumn:function(e,t){t=void 0===t||t;var n=this.createColumn(e);return this.columnMap[e.id]=n,t&&this.renderColumns(),n},addAsCurrentColumn:function(e,t,n){var i=this,r=this.addColumn(e,!1);return this.setCurrentHistory(e),r.once("rendered",function(){i.queueHdaFetch(r)}),r},removeColumn:function(e,t){var n=this;if(t=void 0===t||t,this.log("removeColumn",e),e){var i=this.options.columnWidth+this.options.columnGap;e.$el.fadeOut("fast",function(){t&&(a()(n).remove(),n.$(".middle").width(n.$(".middle").width()-i),n.checkColumnsInView(),n._recalcFirstColumnHeight()),n.stopListening(e.panel),n.stopListening(e),delete n.columnMap[e.model.id],e.remove()})}},setUpColumnListeners:function(e){var t=this;this.listenTo(e,{"in-view":this.queueHdaFetch}),this.listenTo(e.panel,{"view:draggable:dragstart":function(e,n,i,r){t._dropData=JSON.parse(e.dataTransfer.getData("text")),t.currentColumnDropTargetOn()},"view:draggable:dragend":function(e,n,i,r){t._dropData=null,t.currentColumnDropTargetOff()},"droptarget:drop":function(e,n,i){var r=t._dropData.filter(function(e){return i.model.contents.isCopyable(e)});t._dropData=null;var o=new y.a.NamedAjaxQueue;0!==i.model.contents.currentPage&&o.add({name:"fetch-front-page",fn:function(){return i.model.contents.fetchPage(0)}}),r.reverse().forEach(function(e){o.add({name:"copy-".concat(e.id),fn:function(){return i.model.contents.copy(e)}})}),o.start(),o.done(function(e){i.model.fetch()})}})},columnMapLength:function(){return Object.keys(this.columnMap).length},sortedFilteredColumns:function(e){return(e=e||this.filters)&&e.length?this.sortedColumns().filter(function(t,n){return t.currentHistory||r.a.every(e.map(function(e){return e.call(t)}))}):this.sortedColumns()},sortedColumns:function(){var e=this;return this.collection.map(function(t,n){return e.columnMap[t.id]})},render:function(e){return e=void 0!==e?e:this.fxSpeed,this.log("".concat(this,".render")),this.$el.html(this.mainTemplate),this.renderColumns(e),this.setUpBehaviors(),this.trigger("rendered",this),this},renderColumns:function(e){e=r.a.isNumber(e)?e:this.fxSpeed;var t=this.sortedFilteredColumns(),n=this.$(".middle").empty();return this._addColumns(t,e),this.collection.allFetched||n.append(this.loadingIndicatorTemplate),this.trigger("columns-rendered",t,this),(!this.datasetSearch||t.length>1)&&(this.checkColumnsInView(),this._recalcFirstColumnHeight()),t},_addColumns:function(e,t){t=r.a.isNumber(t)?t:this.fxSpeed;var n=this.$(".middle"),i=n.children(".history-column").length;n.width(this._calcMiddleWidth(e.length+i)),e.forEach(function(e,i){e.delegateEvents().render(t).$el.appendTo(n)})},_calcMiddleWidth:function(e){return e*(this.options.columnWidth+this.options.columnGap)+this.options.columnGap+16},queueHdaFetch:function(e){var t=e.model.contents;if(0===t.length&&e.model.contentsShown()){var n={silent:!0},i=r.a.values(t.storage.allExpanded()).join();i&&(n.details=i),this.hdaQueue.add({name:e.model.id,fn:function(){return t.fetchCurrentPage(n).done(function(){e.panel.renderItems()}).done(function(){m.a.FETCH_STATE_ON_ADD||t.jobStateSummariesCollection.fetch()})}}),this.hdaQueue.running||this.hdaQueue.start()}},queueHdaFetchDetails:function(e){var t=e.model.contents;!(0===t.length&&e.model.contentsShown())&&t.haveDetails()||(this.hdaQueue.add({name:e.model.id,fn:function(){return t.progressivelyFetchDetails().done(function(){e.panel._renderEmptyMessage()})}}),this.hdaQueue.running||this.hdaQueue.start())},renderInfo:function(e){return this.$(".header .header-info").text(e)},events:{"click .done.btn":"close","click .create-new.btn":"create","click #include-deleted":"_clickToggleDeletedHistories","click .order .set-order":"_chooseOrder","click #toggle-deleted":"_clickToggleDeletedDatasets","click #toggle-hidden":"_clickToggleHiddenDatasets"},close:function(e){window.location=Object(c.a)()},_clickToggleDeletedHistories:function(e){this.toggleDeletedHistories(a()(e.currentTarget).is(":checked")),this.toggleOptionsPopover()},toggleDeletedHistories:function(e){window.location="".concat(Object(c.a)(),e?"history/view_multiple?include_deleted_histories=True":"history/view_multiple")},_clickToggleDeletedDatasets:function(e){this.toggleDeletedDatasets(a()(e.currentTarget).is(":checked")),this.toggleOptionsPopover()},toggleDeletedDatasets:function(e){e=void 0!==e&&e,this.sortedFilteredColumns().forEach(function(t,n){r.a.delay(function(){t.panel.toggleShowDeleted(e,!1)},200*n)})},_clickToggleHiddenDatasets:function(e){this.toggleHiddenDatasets(a()(e.currentTarget).is(":checked")),this.toggleOptionsPopover()},toggleHiddenDatasets:function(e){e=void 0!==e&&e,this.sortedFilteredColumns().forEach(function(t,n){r.a.delay(function(){t.panel.toggleShowHidden(e,!1)},200*n)})},_chooseOrder:function(e){var t=this,n=this.collection,i=a()(e.currentTarget).data("order");this.$(".current-order").text(this.orderDescriptions[i]),this.toggleOptionsPopover(),n.setOrder(i);var r=n.slice(0,1);n.fetchFirst().done(function(){n.unshift(r,{silent:!0}),t.createColumns(),t.hdaQueue.clear(),t.render()}),this.once("columns-rendered",this._scrollLeft)},_scrollLeft:function(e){e=r.a.isNumber(e)?e:0,this.$(".outer-middle").scrollLeft(e)},setUpBehaviors:function(){var e=this;this._moreOptionsPopover(),this.$("#search-histories").searchInput({name:"search-histories",placeholder:h()("search histories"),onfirstsearch:function(t){e.$("#search-histories").searchInput("toggle-loading"),e.renderInfo(h()("loading all histories for search")),e.collection.fetchAll().done(function(){e.$("#search-histories").searchInput("toggle-loading"),e.renderInfo("")})},onsearch:function(t){e.historySearch=t,e.filters=[function(){return e.model.matchesAll(e.historySearch)}],e.renderColumns(0)},onclear:function(t){e.historySearch=null,e.filters=[],e.renderColumns(0)}}),this.$("#search-datasets").searchInput({name:"search-datasets",placeholder:h()("search all datasets"),onfirstsearch:function(t){e.hdaQueue.clear(),e.$("#search-datasets").searchInput("toggle-loading"),e.datasetSearch=t,e.sortedFilteredColumns().forEach(function(n){n.panel.searchItems(t),e.queueHdaFetchDetails(n)}),e.hdaQueue.progress(function(t){e.renderInfo([h()("searching"),t.curr+1,h()("of"),t.total].join(" "))}),e.hdaQueue.deferred.done(function(){e.renderInfo(""),e.$("#search-datasets").searchInput("toggle-loading")})},onsearch:function(t){e.datasetSearch=t,e.sortedFilteredColumns().forEach(function(e){e.panel.searchItems(t)})},onclear:function(t){e.datasetSearch=null,e.sortedFilteredColumns().forEach(function(e){e.panel.clearSearch()})}}),a()(window).resize(function(){e._recalcFirstColumnHeight()});var t=r.a.debounce(function(){var t=e._viewport();e.checkColumnsInView(t),e.checkForEndOfScroll(t)},100);this.$(".middle").parent().scroll(t)},_moreOptionsPopover:function(){return this.$(".open-more-options.btn").popover({container:".header",placement:"bottom",html:!0,content:a()(this.optionsPopoverTemplate(this))})},toggleOptionsPopover:function(e){this.$(".open-more-options.btn").popover("toggle")},_recalcFirstColumnHeight:function(){var e=this.$(".history-column").first(),t=this.$(".middle").height(),n=e.find(".panel-controls").height();e.height(t).find(".inner").height(t-n)},_viewport:function(){var e=this.$(".middle").parent(),t=e.offset().left;return{left:t,right:t+e.width()}},columnsInView:function(e){var t=e||this._viewport();return this.sortedFilteredColumns().filter(function(e){return e.currentHistory||e.inView(t.left,t.right)})},checkColumnsInView:function(){this.columnsInView().forEach(function(e){e.trigger("in-view",e)})},checkForEndOfScroll:function(e){e=e||this._viewport();var t=this.$(".middle");t.parent().scrollLeft()+e.right>=t.width()-16&&this.trigger("end-of-scroll")},currentColumnDropTargetOn:function(){var e=this.columnMap[this.collection.currentHistoryId];e&&(e.panel.dataDropped=function(e){},e.panel.dropTargetOn())},currentColumnDropTargetOff:function(){var e=this.columnMap[this.collection.currentHistoryId];e&&(e.panel.dataDropped=p.a.HistoryViewEdit.prototype.dataDrop,e.panel.dropTarget=!1,e.panel.$(".history-drop-target").remove())},toString:function(){return"MultiPanelColumns(".concat(this.columns?this.columns.length:0,")")},mainTemplate:'\n        <div class="header flex-column-container">\n            <div class="control-column control-column-left flex-column">\n                <div id="search-histories" class="search-control"></div>\n                <div id="search-datasets" class="search-control"></div>\n                <a class="open-more-options btn btn-secondary" tabindex="3">\n                    <span class="fa fa-ellipsis-h"></span>\n                </a>\n            </div>\n            <div class="control-column control-column-center flex-column">\n                <div class="header-info">\n                </div>\n            </div>\n            <div class="control-column control-column-right flex-column">\n                <button class="create-new btn btn-secondary" tabindex="4">\n                    '.concat(h()("Create new"),'\n                </button>\n            </div>\n        </div>\n        <div class="outer-middle flex-row flex-row-container">\n            <div class="middle flex-column-container flex-row"></div>\n        </div>\n        <div class="footer flex-column-container"></div>'),loadingIndicatorTemplate:'\n        <div class="histories-loading-indicator">\n            <span class="fa fa-spin fa-spinner"></span>\n            '.concat(h()("Loading histories")," ...\n        </div>"),orderDescriptions:{update_time:h()("most recent first"),"update_time-asc":h()("least recent first"),name:h()("name, a to z"),"name-dsc":h()("name, z to a"),size:h()("size, large to small"),"size-asc":h()("size, small to large")},optionsPopoverTemplate:r.a.template(['<div class="more-options d-flex flex-column">','<div class="order btn-group mb-2">','<button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown">',"".concat(h()("Order histories by")," "),'<span class="current-order"><%- view.orderDescriptions[ view.collection.order ] %></span> ','<span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">',"<% _.each( view.orderDescriptions, function( text, order ){ %>",'<li class="dropdown-item"><a href="javascript:void(0);" class="set-order" data-order="<%- order %>">',"<%- text %>","</a></li>","<% }); %>","</ul>","</div>",'<div class="checkbox"><label><input id="include-deleted" type="checkbox"','<%= view.collection.includeDeleted? " checked" : "" %>>',h()("Include deleted histories"),"</label></div>",'<div class="checkbox"><label><input id="toggle-deleted" type="checkbox">',h()("Include deleted datasets"),"</label></div>",'<div class="checkbox"><label><input id="toggle-hidden" type="checkbox">',h()("Include hidden datasets"),"</label></div>","</div>"].join(""),{variable:"view"})});t.a={MultiPanelColumns:w}},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(3),a=n.n(o),s=n(4),l=n(5),c=n(8),u=n(1),d=n.n(u),h=a.a.View.extend(c.a.LoggableMixin).extend(c.a.HiddenUntilActivatedViewMixin).extend({tagName:"div",className:"tags-display",select_width:"100%",events:{},initialize:function(e){this.show_editor=!1,!1===e.usePrompt?this.label="":this.label='<label class="prompt">'.concat(d()("Tags"),"</label>"),this.workflow_mode=e.workflow_mode||!1,this.workflow_mode&&(this.events.click="showEditor",this.events.keydown="keydownHandler"),this.hiddenUntilActivated(e.$activator,e)},render:function(){var e=this;return this.workflow_mode?this.$el.html(this._workflowTemplate()):this.$el.html(this._defaultTemplate()),this.$input().select2({placeholder:"Add tags",width:this.workflow_mode?this.width:this.select_width,tags:function(){return e._getTagsUsed()}}),this._setUpBehaviors(),this},_hashToName:function(e){return e.startsWith("#")?"name:".concat(e.slice(1)):e},_nameToHash:function(e){return e.startsWith("name:")&&(e="#".concat(e.slice(5))),e},_defaultTemplate:function(){return[this.label,this._renderEditor()].join("")},_workflowTemplate:function(){return[this.show_editor?this._renderEditor():this._renderTags()].join(" ")},keydownHandler:function(e){switch(e.which){case 27:this.hideEditor()}},showEditor:function(){this.show_editor=!0,this.render()},hideEditor:function(){this.show_editor=!1,this.render()},_renderEditor:function(){return'<input class="tags-input" value="'.concat(this.tagsToCSV(),'"/>')},_renderTags:function(){var e=this.model.get("tags"),t="".concat(Object(s.a)(),"static/images/fugue/tag--plus.png"),n=[];return r.a.each(e,function(e){e=0==e.indexOf("name:")?e.slice(5):e;var t='<span class="badge badge-primary badge-tags">'.concat(e,"</span>");n.push(t)}),0===n.length&&n.push("<img src=".concat(t,' class="add-tag-button" title="Add tags"/>')),n.join(" ")},tagsToCSV:function(){var e=this,t=this.model.get("tags");return!r.a.isArray(t)||r.a.isEmpty(t)?"":t.map(function(t){return r.a.escape(e._nameToHash(t))}).sort().join(",")},$input:function(){return this.$el.find("input.tags-input")},_getTagsUsed:function(){var e=Object(l.getGalaxyInstance)();return r.a.map(e.user.get("tags_used"),this._nameToHash)},_setUpBehaviors:function(){var e=this;this.$input().on("change",function(t){t.val=r.a.map(t.val,e._hashToName),e.model.save({tags:t.val}),t.added&&e._addNewTagToTagsUsed("".concat(t.added.text))})},_addNewTagToTagsUsed:function(e){var t=Object(l.getGalaxyInstance)(),n=t.user.get("tags_used");r.a.contains(n,e)||(n.push(e),n.sort(),t.user.set("tags_used",n))},remove:function(){this.$input.off(),this.stopListening(this.model),a.a.View.prototype.remove.call(this)},toString:function(){return["TagsEditor(","".concat(this.model),")"].join("")}});t.a={TagsEditor:h}},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(4),a=n(6),s={},l=function(e){var t=e.dataset_groups,n=e.dataset_id,i=[];t.each(function(e){r.a.each(e.get("__data_columns"),function(t,r){var o=e.get(r),a=u(n,o);-1!==i.indexOf(o)||s[a]||"auto"==o||"zero"==o||void 0===o||i.push(o)})}),0!==i.length?a.a.get({url:Object(o.a)()+"api/datasets/"+n,data:{data_type:"raw_data",provider:"dataset-column",indeces:i.toString()},success:function(t){for(var r=i.length,o=new Array(r),a=0;a<o.length;a++)o[a]=[];for(var l in t.data){var d=t.data[l];for(var h in d){var f=d[h];void 0!==f&&2147483647!=f&&h<r&&o[h].push(f)}}for(var p in console.debug("tabular-datasets::_fetch() - Fetching complete."),o){var m=i[p],g=u(n,m);s[g]=o[p]}c(e)}}):c(e)},c=function(e){var t=e.dataset_groups,n=e.dataset_id;console.debug("tabular-datasets::_fillFromCache() - Filling request from cache.");var i=0;t.each(function(e){r.a.each(e.get("__data_columns"),function(t,r){var o=e.get(r),a=u(n,o),l=s[a];l&&(i=Math.max(i,l.length))})}),0===i&&(console.debug("tabular-datasets::_fillFromCache() - No data available."),e.chart&&e.chart.state("failed","No data available."));var o=[];t.each(function(e,t){for(var n=a.a.merge({key:t+":"+e.get("key"),values:[]},e.attributes),r=0;r<i;r++)n.values[r]={x:parseInt(r)};o.push(n)}),t.each(function(e,t){var a=o[t].values;r.a.each(e.get("__data_columns"),function(t,r){var o=e.get(r);switch(o){case"auto":for(var l=0;l<i;l++)a[l][r]=parseInt(l);break;case"zero":for(var c=0;c<i;c++)a[c][r]=0;break;default:for(var d=u(n,o),h=s[d],f=0;f<i;f++){var p=a[f],m=h[f];isNaN(m)&&!t.is_label&&(m=0),p[r]=m}}})}),e.success(o)},u=function(e,t){return e+"__"+t};t.a={request:l,requestPanels:function(e){var t=e.process,n=e.chart,i=e.render,r=e.targets,o=e.dataset_id||e.chart.get("dataset_id"),a=e.dataset_groups||e.chart.groups;l({chart:n,dataset_id:o,dataset_groups:a,success:function(e){try{if(r.length==e.length){var o=!0;for(var a in e){var s=e[a];if(!i(r[a],[s])){o=!1;break}}o&&n.state("ok","Multi-panel chart drawn.")}else 1==r.length?i(r[0],e)&&n.state("ok","Chart drawn."):n.state("failed","Invalid panel count.");t.resolve()}catch(e){console.debug("FAILED: tabular-utilities::panelHelper() - "+e),n.state("failed",e),t.reject()}}})}}},function(e,t,n){"use strict";var i=n(2),r=n(20);function o(e,t){i.each(t,function(t){i.each(t.values,function(t,n){for(var i in e)t[i]=parseInt(n)})})}t.a={makeCategories:function(e,t){var n={},r=e[0].__data_columns;return i.each(t,function(e){r[e].is_label&&(n[e]=[])}),e&&e[0]&&i.each(e[0].values,function(e){for(var t in n)n[t].push(String(e[t]))}),o(n,e),{array:n}},makeUniqueCategories:function(e,t){var n={},r={},o={},a=e[0].__data_columns;for(var s in i.each(a,function(e,t){e.is_label&&(n[t]={},r[t]=[],o[t]=0)}),e){var l=e[s];for(var c in l.values){var u=l.values[c];for(var d in n){var h=String(u[d]);void 0===n[d][h]&&(n[d][h]=o[d],r[d].push(t?[o[d],h]:h),o[d]++)}}}for(var f in e){var p=e[f];for(var m in p.values){var g=p.values[m];for(var _ in n){var v=String(g[_]);g[_]=n[_][v]}}}return{categories:n,array:r,counter:o}},makeSeries:function(e,t){var n=[];for(var i in e){var r=e[i],o=[];for(var a in r.values){var s=[];if(t)for(var l in t){var c=t[l];s.push(r.values[a][c])}else for(var u in r.values[a])s.push(r.values[a][u]);o.push(s)}n.push(o)}return n},getDomains:function(e,t){function n(t,n){var i;for(var o in e){var a=r[t](e[o].values,function(e){return e[n]});i=void 0===i?a:Math[t](i,a)}return i}var i={};for(var o in t){var a=t[o];i[a]={min:n("min",a),max:n("max",a)}}return i},mapCategories:o,makeTickFormat:function(e){var t=e.type,n=e.precision,i=e.categories,o=e.formatter;if("hide"==t)o(function(){return""});else if("auto"==t)i&&o(function(e){return i[e]||""});else{var a=function(e){switch(t){case"s":var i=r.formatPrefix(e);return i.scale(e).toFixed()+i.symbol;default:return r.format("."+n+t)(e)}};o(i?function(e){var t=i[e];if(!t)return"";if(isNaN(t))return t;try{return a(t)}catch(e){return t}}:function(e){return a(e)})}},addZoom:function(e){var t=100,n=e.yAxis,i=e.xAxis,o=e.xDomain||i.scale().domain,a=e.yDomain||n.scale().domain,s=e.redraw,l=e.svg,c=i.scale(),u=n.scale(),d=c.domain().slice(),h=u.domain().slice(),f=r.behavior.zoom();function p(e,n){return e[0]=Math.min(Math.max(e[0],n[0]),n[1]-n[1]/t),e[1]=Math.max(n[0]+n[1]/t,Math.min(e[1],n[1])),e}return c.nice(),u.nice(),f.x(c).y(u).scaleExtent([1,t]).on("zoom",function(){a(p(u.domain(),h)),o(p(c.domain(),d)),s()}),l.call(f).on("dblclick.zoom",function(){o(d),a(h),s(),f.scale(1),f.translate([0,0])}),f}}},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(4),a=n(6),s=n(5),l=function e(t,n,i){a.a.request({type:"GET",url:Object(o.a)()+"api/datasets/"+t.get("dataset_id_job"),data:{},success:function(r){var o=!1;switch(r.state){case"ok":t.state("wait","Job completed successfully..."),n&&n(r),o=!0;break;case"error":t.state("failed","Job has failed. Please check the history for details."),i&&i(r),o=!0;break;case"running":t.state("wait","Your job is running in the background and you may close the browser tab. Results will be available in your saved visualizations list.")}o||window.setTimeout(function(){e(t,n,i)},1e3)}})},c=function(){var e=Object(s.getGalaxyInstance)();e&&e.currHistoryPanel&&e.currHistoryPanel.refreshContents()};t.a={request:function(e,t,n,i){e.state("wait","Requesting job results..."),e.get("modified")&&e.get("dataset_id_job")&&(a.a.request({type:"PUT",url:Object(o.a)()+"api/histories/none/contents/"+e.get("dataset_id_job"),data:{deleted:!0},success:function(){c()}}),e.set("dataset_id_job",null),e.set("modified",!1)),e.get("dataset_id_job")?l(e,n,i):(e.state("wait","Sending job request..."),a.a.request({type:"POST",url:Object(o.a)()+"api/tools",data:t,success:function(t){if(t.outputs&&0!==t.outputs.length){c();var r=t.outputs[0];e.state("wait","Your job has been queued. You may close the browser window. The job will run in the background."),e.set("dataset_id_job",r.id),e.save(),l(e,n,i)}else e.state("failed","Job submission failed. No response."),i&&i()},error:function(n){var r="";n&&n.message&&n.message.data&&n.message.data.input&&(r=n.message.data.input+"."),e.state("failed","This visualization requires the '"+t.tool_id+"' tool. Please make sure it is installed. "+r),i&&i()}}))},requestCharts:function(e,t){var n="",i="",o=0;for(var a in e.settings.attributes){var s=e.settings.get(a);r.a.each([[" ","&#32;"],[",","&#44;"],[":","&#58;"]],function(e){s=s.replace(new RegExp(e[0],"g"),e[1])}),n+=a+":"+s+", "}return n=n.substring(0,n.length-2),e.groups.each(function(e){o++,r.a.each(e.get("__data_columns"),function(t,n){i+=n+"_"+o+":"+(parseInt(e.get(n))+1)+", "})}),i=i.substring(0,i.length-2),{tool_id:"toolshed.g2.bx.psu.edu/repos/iuc/charts/charts/1.0.1",inputs:{input:{id:e.get("dataset_id"),src:"hda"},module:t,columns:i,settings:n}}}}},function(e,t,n){"use strict";(function(e,i){n(6);var r=n(51);t.a=e.View.extend({initialize:function(t){this.model=new e.Model(t),this.setElement("<div/>"),this.render()},render:function(){var e=this.model.attributes,t=i.findWhere(e.list,{id:e.extension});this.extension_popup&&this.extension_popup.remove(),this.extension_popup=new r.a({title:e.title,placement:e.placement||"bottom",container:e.$el}),this.extension_popup.show(this._templateDescription(t))},_templateDescription:function(e){if(e.description){var t=e.description;return e.description_url&&(t+='&nbsp;(<a href="'.concat(e.description_url,'" target="_blank">read more</a>)')),t}return"There is no description available for this file extension."}})}).call(this,n(3),n(2))},function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(5),a=n(2),s=n.n(a),l=n(1),c=n.n(l),u=n(52),d=n(34),h={ShedListView:i.View.extend({defaults:{tool_sheds:[{url:"https://toolshed.g2.bx.psu.edu/",name:"Galaxy Main Tool Shed"}]},initialize:function(e){this.options=a.defaults(this.options||{},this.defaults),this.model=new u.a.ShedsCollection,this.listenTo(this.model,"sync",this.render),this.model.fetch()},el:"#center",render:function(e){this.options=a.defaults(this.options||{},e,this.defaults);var t=this.templateToolshedList;this.$el.html(t({title:c()("Configured Galaxy Tool Sheds"),tool_sheds:this.model.models,queue:d.a.queueLength()}))},templateToolshedList:a.template(['<div class="unified-panel-header" id="panel_header" unselectable="on">','<div class="unified-panel-header-inner"><%= title %><a class="ml-auto" href="#/queue">Repository Queue (<%= queue %>)</a></div>',"</div>",'<div class="unified-panel-body" id="list_toolsheds">','<div class="form-row">','<table class="grid">',"<% _.each(tool_sheds, function(shed) { %>",'<tr class="libraryTitle">',"<td>",'<div style="float: left; margin-left: 1px;" class="menubutton split">','<a class="view-info shed-selector" href="#/categories/s/<%= shed.get("url") %>"><%= shed.get("name") %></a>',"</div>","</td>","</tr>","<% }); %>","</table>","</div>",'<div style="clear: both"></div>',"</div>"].join(""))})},f=n(0),p=n.n(f),m=n(4),g=(n(504),{CategoryView:r.a.View.extend({el:"#center",defaults:{tool_shed:"https://toolshed.g2.bx.psu.edu/"},initialize:function(e){var t=e.tool_shed.replace(/\//g,"%2f");this.options=s.a.defaults(this.options||e,this.defaults),this.model=new u.a.Categories,this.listenTo(this.model,"sync",this.render),this.model.url="".concat(this.model.url,"?tool_shed_url=").concat(this.options.tool_shed),this.model.tool_shed=t,this.model.fetch()},render:function(e){this.options=s.a.extend(this.options,e),this.options.categories=this.model.models,this.options.queue=d.a.queueLength();var t=this.templateCategoryList;this.$el.html(t(this.options)),p()("#center").css("overflow","auto"),this.bindEvents()},bindEvents:function(){var e=this;p()("#search_box").autocomplete({source:function(t,n){var i=e.model.tool_shed.replace(/%2f/g,"/"),r="".concat(Object(m.a)(),"api/tool_shed/search"),o={term:t.term,tool_shed_url:i};p.a.post(r,o,function(e){console.log(e);var t=d.a.shedParser(e);n(t)})},minLength:3,select:function(t,n){var i=n.item.value,o="repository/s/".concat(e.model.tool_shed,"/r/").concat(i);r.a.history.navigate(o,{trigger:!0,replace:!0})}})},templateCategoryList:s.a.template(['<style type="text/css">',".ui-autocomplete { background-color: #fff; }","li.ui-menu-item { list-style-type: none; }","</style>",'<div class="unified-panel-header" id="panel_header" unselectable="on">','<div class="unified-panel-header-inner" style="layout: inline;">Categories in <%= tool_shed.replace(/%2f/g, "/") %><a class="ml-auto" href="#/queue">Repository Queue (<%= queue %>)</a></div>',"</div>",'<div class="unified-panel-body" id="list_categories">','<div id="standard-search" style="height: 2em; margin: 1em;">','<span class="ui-widget" >','<input class="search-box-input" id="search_box" data-shedurl="<%= tool_shed.replace(/%2f/g, "/") %>" name="search" placeholder="Search repositories by name or id" size="60" type="text" />',"</span>","</div>",'<div style="clear: both; margin-top: 1em;">','<table class="grid">','<thead id="grid-table-header">',"<tr>","<th>Name</th>","<th>Description</th>","<th>Repositories</th>","</tr>","</thead>","<% _.each(categories, function(category) { %>","<tr>","<td>",'<a href="#/category/s/<%= tool_shed %>/c/<%= category.get("id") %>"><%= category.get("name") %></a>',"</td>",'<td><%= category.get("description") %></td>','<td><%= category.get("repositories") %></td>',"</tr>","<% }); %>","</table>","</div>","</div>"].join(""))})}),_={Category:r.a.View.extend({el:"#center",initialize:function(e){this.model=new u.a.CategoryCollection,this.listenTo(this.model,"sync",this.render);var t=e.tool_shed.replace(/\//g,"%2f");this.model.url+="?tool_shed_url=".concat(t,"&category_id=").concat(e.category_id),this.model.tool_shed=t,this.model.category=e.category_id,this.model.fetch()},render:function(e){this.options=s.a.extend(this.options,e);var t=this.templateCategoryContents;this.$el.html(t({category:this.model.models[0],tool_shed:this.model.tool_shed,queue:d.a.queueLength()})),p()("#center").css("overflow","auto"),this.bindEvents()},bindEvents:function(){var e=this;p()("#search_box").autocomplete({source:function(t,n){var i=e.model.tool_shed.replace(/%2f/g,"/"),r="".concat(Object(m.a)(),"api/tool_shed/search"),o={term:t.term,tool_shed_url:i};p.a.post(r,o,function(e){var t=d.a.shedParser(e);n(t)})},minLength:3,select:function(e,t){var n=t.item.value,i="repository/s/".concat(this.model.tool_shed,"/r/").concat(n);r.a.history.navigate(i,{trigger:!0,replace:!0})}})},templateCategoryContents:s.a.template(['<style type="text/css">',".ui-autocomplete { background-color: #fff; }","li.ui-menu-item { list-style-type: none; }","</style>",'<div class="unified-panel-header" id="panel_header" unselectable="on">','<div class="unified-panel-header-inner">Repositories in <%= category.get("name") %><a class="ml-auto" href="#/queue">Repository Queue (<%= queue %>)</a></div>',"</div>",'<div class="unified-panel-body" id="list_repositories">','<div id="standard-search" style="height: 2em; margin: 1em;">','<span class="ui-widget" >','<input class="search-box-input" id="search_box" name="search" data-shedurl="<%= tool_shed.replace(/%2f/g, "/") %>" placeholder="Search repositories by name or id" size="60" type="text" />',"</span>","</div>",'<div style="clear: both; margin-top: 1em;">','<table class="grid">','<thead id="grid-table-header">',"<tr>",'<th style="width: 10%;">Owner</th>','<th style="width: 15%;">Name</th>',"<th>Synopsis</th>",'<th style="width: 10%;">Type</th>',"</tr>","</thead>",'<% _.each(category.get("repositories"), function(repository) { %>',"<tr>","<td><%= repository.owner %></td>","<td>",'<div style="float: left; margin-left: 1px;" class="menubutton split">','<a href="#/repository/s/<%= tool_shed %>/r/<%= repository.id %>"><%= repository.name %></a>',"</div>","</td>","<td><%= repository.description %></td>","<td><%= repository.type %></td>","</tr>","<% }); %>","</table>","</div>","</div>"].join(""))})},v=(n(568),n(6)),y=n(27),b=n(25),w={RepoDetails:r.a.View.extend({el:"#center",initialize:function(e){this.options=s.a.defaults(this.options||{},this.defaults),this.model=new u.a.RepositoryCollection,this.listenTo(this.model,"sync",this.render);var t=e.tool_shed.replace(/\//g,"%2f");this.model.url+="?tool_shed_url=".concat(t,"&repository_id=").concat(e.repository_id),this.model.tool_shed_url=e.tool_shed.replace(/%2f/g,"/"),this.model.tool_shed=t,this.model.category=e.repository_id,this.model.fetch()},render:function(e){var t=this.templateRepoDetails,n=this.model.models[0];this.options={repository:n.get("repository"),tool_shed:this.model.tool_shed,queue:d.a.queueLength()};var i=Object.keys(this.options.repository.metadata).sort(function(e,t){return parseInt(e.split(":")[0]-t.split(":")[0])}),r={},o=this.options.repository.metadata;i.forEach(function(e){r[e]=o[e]}),this.options.repository.metadata=r,this.options.current_changeset=this.options.current_changeset||i[i.length-1],this.options.current_metadata=this.options.repository.metadata[this.options.current_changeset],this.options.current_metadata.tool_shed_url=this.model.tool_shed_url,this.options.tools=this.options.current_metadata.tools,this.options.repository_dependencies_template=this.templateRepoDependencies,this.options.repository_dependency_template=this.templateRepoDependency,this.options.tps_template_global_select=this.templateGlobalSectionSelect,this.options.tps_template_global_create=this.templateGlobalSectionCreate,this.options.tps_template_tool_select=this.templateToolSectionSelect,this.options.tps_template_tool_create=this.templateToolSectionCreate,this.options.panel_section_options=this.templatePanelSelectOptions,this.options.tool_dependencies=n.get("tool_dependencies"),this.options.shed_tool_conf=this.templateShedToolConf({shed_tool_confs:n.get("shed_conf")}),this.options.panel_section_dict=n.get("panel_section_dict"),this.options.api_url="".concat(Object(m.a)(),"api/tool_shed_repositories/install?async=True"),this.options=s.a.extend(this.options,e),this.$el.html(t(this.options)),this.checkInstalled(this.options.current_metadata),this.bindEvents(),p()("#center").css("overflow","auto")},bindEvents:function(){var e=this;p()("#changeset").on("change",function(){e.options.current_changeset=p()("#changeset").find("option:selected").text(),e.options.current_metadata=e.options.repository.metadata[e.options.current_changeset],e.checkInstalled(e.options.current_metadata),e.reDraw(e.options)}),p()("#tool_panel_section_select").on("change",function(){e.tpsSelection()}),p()("#install_repository").on("click",function(t){t.preventDefault();var n={};n.repositories=JSON.stringify([[p()("#install_repository").attr("data-tsrid"),p()("#changeset").find("option:selected").val()]]),n.tool_shed_repository_ids=JSON.stringify([p()("#install_repository").attr("data-tsrid")]),n.tool_shed_url=e.model.tool_shed_url,n.install_tool_dependencies=p()("#install_tool_dependencies").val(),n.install_repository_dependencies=p()("#install_repository_dependencies").val(),n.install_resolver_dependencies=p()("#install_resolver_dependencies").val(),n.tool_panel_section=JSON.stringify(e.panelSelect(n)),n.shed_tool_conf=p()("select[name='shed_tool_conf']").find("option:selected").val(),n.changeset=p()("#changeset").find("option:selected").val();var i=p()("#repository_installation").attr("action");e.prepareInstall(n,i)}),p()("#queue_install").on("click",function(t){e.options.current_changeset=p()("#changeset").find("option:selected").text(),e.options.current_metadata=e.options.repository.metadata[e.options.current_changeset];var n={};s.a.each(Object.keys(e.options.current_metadata),function(t){n[t]||(n[t]=e.options.current_metadata[t])}),n.install_tool_dependencies=p()("#install_tool_dependencies").val(),n.install_repository_dependencies=p()("#install_repository_dependencies").val(),n.install_resolver_dependencies=p()("#install_resolver_dependencies").val(),n.tool_panel_section=JSON.stringify(e.panelSelect({})),n.shed_tool_conf=p()("select[name='shed_tool_conf']").find("option:selected").val(),n.tool_shed_url=e.model.tool_shed_url,"/"==n.tool_shed_url.substr(-1)&&(n.tool_shed_url=n.tool_shed_url.substr(0,n.tool_shed_url.length-1)),d.a.addToQueue(n),e.checkInstalled(n)}),this.toolTPSSelectionEvents(),p()(function(){p()("#repository_dependencies").jstree()}),p()(".tool_form").on("click",function(t){var n=p()(t.target).attr("data-guid"),i=p()(t.target).attr("data-name"),r=p()(t.target).attr("data-desc"),o=e.model.tool_shed_url,a=p()("#repository_details").attr("data-tsrid"),s=p()("#changeset").find("option:selected").val(),l="".concat(Object(m.a)(),"api/tool_shed/tool_json"),c={guid:n,tool_shed_url:o,tsr_id:a,changeset:s};p.a.get(l,c,function(e){var t=new b.a(e);v.a.deepeach(e.inputs,function(e){e.type&&-1!=["data","data_collection"].indexOf(e.type)&&(e.type="hidden",e.info="Data input '".concat(e.name,"' (").concat(v.a.textify(e.extensions),")"))});var n=new y.a.View,o="<u>".concat(i,"</u> ").concat(r);n.show({closing_events:!0,title:o,body:t.$el,buttons:{Close:function(){n.hide()}}})})}),p()(".select-tps-button").on("click",function(t){var n=e.selectedChangeset(),i=t.target.attributes.getNamedItem("data-toolguid");e.showToolTPSSelect(i,n)}),p()(".create-tps-button").on("click",function(t){var n=e.selectedChangeset(),i=t.target.attributes.getNamedItem("data-toolguid");e.showToolTPSCreate(i,n)}),p()(".global-select-tps-button").on("click",function(){p()("#tool_panel_section").replaceWith(e.options.tps_template_global_select(e.options)),e.propagateTPS(),e.bindEvents()}),p()(".global-create-tps-button").on("click",function(){p()("#tool_panel_section").replaceWith(e.options.tps_template_global_create()),e.bindEvents()})},checkInstalled:function(e){var t=this,n={name:e.name,owner:e.owner},i=!1;p.a.get("".concat(Object(m.a)(),"api/tool_shed_repositories"),n,function(n){for(var r=0;r<n.length;r++){var o=n[r],a=!o.deleted&&!o.uninstalled,s=o.changeset_revision==e.changeset_revision||o.installed_changeset_revision==e.changeset_revision;o.name==e.repository.name&&o.owner==e.repository.owner&&a&&s&&(i=!0),i?(p()("#install_repository").prop("disabled",!0),p()("#install_repository").val("This revision is already installed")):(p()("#install_repository").prop("disabled",!1),p()("#install_repository").val("Install this revision"))}t.repoQueued(e)||i?(p()("#queue_install").hide(),p()("#queue_install").val("This revision is already in the queue")):(p()("#queue_install").show(),p()("#queue_install").val("Install this revision later"))})},panelSelect:function(e){var t={};return p()("#tool_panel_section_select").length?e.tool_panel_section_id=p()("#tool_panel_section_select").find("option:selected").val():e.new_tool_panel_section=p()("#new_tool_panel_section").val(),p()(".tool_panel_section_picker").each(function(){var e=p()(this).attr("name"),n=p()(this).attr("data-toolguid");t[n]="tool_panel_section_id"===e?{tool_panel_section:p()(this).find("option:selected").val(),action:"append"}:{tool_panel_section:p()(this).val(),action:"create"}}),t},reDraw:function(e){this.$el.empty(),this.render(e)},repoQueued:function(e){if(window.localStorage.repositories){var t,n=this.queueKey(e);return window.localStorage.repositories&&(t=JSON.parse(window.localStorage.repositories)),!(!t||!t.hasOwnProperty(n))}},queueKey:function(e){var t=this.model.tool_shed_url;return"/"==t.substr(-1)&&(t=t.substr(0,t.length-1)),"".concat(t,"|").concat(e.repository_id,"|").concat(e.changeset_revision)},tpsSelection:function(){var e=p()("#tool_panel_section_select").find("option:selected").val();p()('.tool_panel_section_picker[default="active"]').each(function(){p()(this).val(e)})},prepareInstall:function(e,t){var n=this;p.a.post(t,e,function(e){var t=JSON.parse(e);n.doInstall(t)})},doInstall:function(e){var t="".concat(Object(m.a)(),"admin_toolshed/install_repositories"),n=e.repositories,i="status/r/".concat(n.join("|"));p.a.post(t,e,function(e){console.log("Initializing repository installation succeeded")}),r.a.history.navigate(i,{trigger:!0,replace:!0})},selectedChangeset:function(){return p()("#changeset").find("option:selected").val()},showToolTPSCreate:function(e,t){var n=this,i=this.options.current_metadata.tools,r=d.a.toolByGuid(e,t,i),o="#tool_tps_"+r.clean;p()(o).empty(),p()(o).append(this.options.tps_template_tool_create({tool:r})),p()(".select-tps-button").click(function(e){var t=n.selectedChangeset(),i=e.target.attributes.getNamedItem("data-toolguid");n.showToolTPSSelect(i,t)}),this.bindEvents()},showToolTPSSelect:function(e,t){var n=this,i=this.options.current_metadata.tools,r=d.a.toolByGuid(e,t,i),o="#tool_tps_"+r.clean;p()(o).empty(),p()(o).append(this.options.tps_template_tool_select({tool:r,panel_section_dict:this.options.panel_section_dict,panel_section_options:this.options.panel_section_options})),p()(".create-tps-button").click(function(e){var t=n.selectedChangeset(),i=e.target.attributes.getNamedItem("data-toolguid");n.showToolTPSCreate(i,t)}),this.bindEvents()},propagateTPS:function(){p()("#tool_panel_section_select").change(function(){var e=p()("#tool_panel_section_select").find("option:selected").val();p()('.tool_panel_section_picker[default="active"]').each(function(t){t.val(e)})}),this.toolTPSSelectionEvents()},toolTPSSelectionEvents:function(){p()(".tool_panel_section_picker").on("change",function(e){var t=p()(e.target);t.find("option:selected").val()==p()("#tool_panel_section_select").find("option:selected").val()?t.attr("default","active"):t.removeAttr("default")})},templateRepoDetails:s.a.template(['<div class="unified-panel-header" id="panel_header" unselectable="on">','<div class="unified-panel-header-inner">Repository information for&nbsp;<strong><%= repository.name %></strong>&nbsp;from&nbsp;<strong><%= repository.owner %></strong><a class="ml-auto" href="#/queue">Repository Queue (<%= queue %>)</a></div>',"</div>",'<div class="unified-panel-body" id="repository_details" data-tsrid="<%= repository.id %>">','<form id="repository_installation" name="install_repository" method="post" action="<%= api_url %>">','<input type="hidden" id="repositories" name="<%= repository.id %>" value="ID" />','<input type="hidden" id="tool_shed_url" name="tool_shed_url" value="<%= tool_shed %>" />','<div class="toolForm">','<div class="toolFormTitle">Changeset</div>','<div class="toolFormBody changeset">','<select id="changeset" name="changeset" style="margin: 5px;">',"<% _.each(Object.keys(repository.metadata), function(changeset) { %>",'<% if (changeset == current_changeset) { var selected = "selected "; } else { var selected = ""; } %>','<option <%= selected %>value="<%= changeset.split(":")[1] %>"><%= changeset %></option>',"<% }); %>","</select>",'<input class="btn btn-primary preview-button" data-tsrid="<%= current_metadata.repository.id %>" type="submit" id="install_repository" name="install_repository" value="Install this revision now" />','<input class="btn btn-primary preview-button" type="button" id="queue_install" name="queue_install" value="Install this revision later" />','<div class="toolParamHelp" style="clear: both;">Please select a revision and review the settings below before installing.</div>',"</div>","</div>","<%= shed_tool_conf %>","<% if (current_metadata.has_repository_dependencies) { %>",'<div class="toolFormTitle">Repository dependencies for <strong id="current_changeset"><%= current_changeset %></strong></div>','<div class="toolFormBody">','<p id="install_repository_dependencies_checkbox">','<input type="checkbox" checked id="install_repository_dependencies" />','<label for="install_repository_dependencies">Install repository dependencies</label>',"</p>","<% current_metadata.repository_dependency_template = repository_dependency_template; %>",'<div class="tables container-table" id="repository_dependencies">','<div class="expandLink">','<a class="toggle_folder" data_target="repository_dependencies_table">',"Repository dependencies &ndash; <em>installation of these additional repositories is required</em>","</a>","</div>","<%= repository_dependencies_template(current_metadata) %>","</div>","</div>","<% } %>","<% if (current_metadata.includes_tool_dependencies) { %>",'<div class="toolFormTitle">Tool dependencies</div>','<div class="toolFormBody">','<p id="install_resolver_dependencies_checkbox">','<input type="checkbox" checked id="install_resolver_dependencies" />','<label for="install_resolver_dependencies">Install resolver dependencies</label>',"</p>",'<p id="install_tool_dependencies_checkbox">','<input type="checkbox" checked id="install_tool_dependencies" />','<label for="install_tool_dependencies">Install tool dependencies</label>',"</p>",'<div class="tables container-table" id="tool_dependencies">','<div class="expandLink">','<a class="toggle_folder" data_target="tool_dependencies_table">',"Tool dependencies &ndash; <em>repository tools require handling of these dependencies</em>","</a>","</div>",'<table class="tables container-table" id="tool_dependencies_table" border="0" cellpadding="2" cellspacing="2" width="100%">',"<thead>",'<tr style="display: table-row;" class="datasetRow" parent="0" id="libraryItem-rt-f9cad7b01a472135">','<th style="padding-left: 40px;">Name</th>',"<th>Version</th>","<th>Type</th>","</tr>","</thead>",'<tbody id="tool_deps">',"<% _.each(tool_dependencies[current_changeset], function(dependency) { %>",'<tr class="datasetRow tool_dependency_row" style="display: table-row;">','<td style="padding-left: 40px;">',"<%= dependency.name %></td>","<td><%= dependency.version %></td>","<td><%= dependency.type %></td>","</tr>","<% }); %>","</tbody>","</table>","</div>","</div>","<% } %>","<% if (current_metadata.includes_tools_for_display_in_tool_panel) { %>",'<div class="toolFormTitle">Tools &ndash; <em>click the name to preview the tool and use the pop-up menu to inspect all metadata</em></div>','<div class="toolFormBody">','<div class="tables container-table" id="tools_toggle">','<table class="tables container-table" id="valid_tools" border="0" cellpadding="2" cellspacing="2" width="100%">',"<thead>",'<tr style="display: table-row;" class="datasetRow" parent="0" id="libraryItem-rt-f9cad7b01a472135">','<th style="padding-left: 40px;">Name</th>',"<th>Description</th>","<th>Version</th>","<th><%= tps_template_global_select({panel_section_dict: panel_section_dict, panel_section_options: panel_section_options}) %></tr>","</thead>",'<tbody id="tools_in_repo">',"<% _.each(current_metadata.tools, function(tool) { %>",'<tr id="libraryItem-<%= tool.clean %>" class="tool_row" style="display: table-row;" style="width: 15%">','<td style="padding-left: 40px;">','<div id="tool-<%= tool.clean %>" class="menubutton split popup" style="float: left;">','<a class="tool_form view-info" data-toggle="modal" data-target="toolform_<%= tool.clean %>" data-clean="<%= tool.clean %>" data-guid="<%= tool.guid %>" data-name="<%= tool.name %>" data-desc="<%= tool.description %>"><%= tool["name"] %></a>',"</div>","</td>","<td><%= tool.description %></td>",'<td style="width: 15%"><%= tool.version %></td>','<td style="width: 35%" id="tool_tps_<%= tool.clean %>">',"<%= tps_template_tool_select({tool: tool, panel_section_dict: panel_section_dict, panel_section_options: panel_section_options}) %>","</td>","</tr>","<% }); %>","</tbody>","</table>","</div>","</div>","<% } %>","</form>","</div>"].join("")),templateRepoDependencies:s.a.template(['<div class="toolFormTitle">Repository Dependencies</div>','<div class="toolFormBody tables container-table" id="repository_dependencies">',"<ul>","<li>Repository installation requires the following","<% if (has_repository_dependencies) { %>","<% _.each(repository_dependencies, function(dependency) { %>","<% dependency.repository_dependency_template = repository_dependency_template; %>","<%= repository_dependency_template(dependency) %>","<% }); %>","<% } %>","</li>","</ul>","</div>"].join("")),templateRepoDependency:s.a.template(['<li id="metadata_<%= id %>" class="datasetRow repository_dependency_row">',"Repository <b><%= repository.name %></b> revision <b><%= changeset_revision %></b> owned by <b><%= repository.owner %></b>","<% if (has_repository_dependencies) { %>",'<ul class="child_dependencies">',"<% _.each(repository_dependencies, function(dependency) { %>","<% dependency.repository_dependency_template = repository_dependency_template; %>","<%= repository_dependency_template(dependency) %>","<% }); %>","</ul>","<% } %>","</li>"].join("")),templateShedToolConf:s.a.template(['<div class="toolFormTitle">Shed tool configuration file:</div>','<div class="toolFormBody">','<div class="form-row">','<select name="shed_tool_conf">',"<% _.each(shed_tool_confs.options, function(conf) { %>",'<option value="<%= conf.value %>"><%= conf.label %></option>',"<% }); %>","</select>",'<div class="toolParamHelp" style="clear: both;">Select the file whose <b>tool_path</b> setting you want used for installing repositories.</div>',"</div>","</div>"].join("")),templateToolDependency:s.a.template(["<% if (has_repository_dependencies) { %>","<% _.each(repository_dependencies, function(dependency) { %>","<% if (dependency.includes_tool_dependencies) { %>","<% dependency.tool_dependency_template = tool_dependency_template %>","<%= tool_dependency_template(dependency) %>","<% } %>","<% }); %>","<% } %>"].join("")),templateGlobalSectionCreate:s.a.template(['<div id="tool_panel_section">','<div class="form-row" id="new_tps">','<input id="new_tool_panel_section" name="new_tool_panel_section" type="textfield" value="" size="40"/>','<input class="btn btn-primary global-select-tps-button" type="button" id="select_existing" value="Select existing" />','<div class="toolParamHelp" style="clear: both;">',"Add a new tool panel section to contain the installed tools (optional).","</div>","</div>","</div>"].join("")),templateGlobalSectionSelect:s.a.template(['<div id="tool_panel_section">','<div class="toolFormTitle">Tool Panel Section</div>','<div class="toolFormBody">','<div class="tab-pane" id="select_tps">','<select name="<%= name %>" id="<%= panel_section_dict.id %>">',"<%= panel_section_options({sections: panel_section_dict.sections}) %>","</select>",'<input class="btn btn-primary global-create-tps-button" type="button" id="create_new" value="Create new" />','<div class="toolParamHelp" style="clear: both;">',"Select an existing tool panel section to contain the installed tools (optional).","</div>","</div>","</div>","</div>"].join("")),templateToolSectionCreate:s.a.template(['<div id="new_tps_<%= tool.clean %>" data-clean="<%= tool.clean %>" class="form-row">','<input data-toolguid="<%= tool.guid %>" class="tool_panel_section_picker" size="40" name="new_tool_panel_section" id="new_tool_panel_section_<%= tool.clean %>" type="text">','<input id="per_tool_select_<%= tool.clean %>" class="btn btn-primary select-tps-button" data-toolguid="<%= tool.guid %>" value="Select existing" id="select_existing_<%= tool.clean %>" type="button">',"</div>"].join("")),templateToolSectionSelect:s.a.template(['<div id="select_tps_<%= tool.clean %>" data-clean="<%= tool.clean %>" class="tps_creator">','<select default="active" style="width: 30em;" data-toolguid="<%= tool.guid %>" class="tool_panel_section_picker" name="tool_panel_section_id" id="tool_panel_section_select_<%= tool.clean %>">',"<%= panel_section_options({sections: panel_section_dict.sections}) %>","</select>",'<input id="per_tool_create_<%= tool.clean %>" data-clean="<%= tool.clean %>" class="btn btn-primary create-tps-button" data-toolguid="<%= tool.guid %>" value="Create new" id="create_new_<%= tool.clean %>" type="button">','<div style="clear: both;" class="toolParamHelp"></div>',"</div>"].join("")),templatePanelSelectOptions:s.a.template(["<% _.each(sections, function(section) { %>",'<option value="<%= section.id %>"><%= section.name %></option>',"<% }); %>"].join(""))})},k={RepoQueueView:r.a.View.extend({el:"#center",defaults:[],initialize:function(e){this.model=new u.a.RepoQueue,this.listenTo(this.model,"sync",this.render),this.model.fetch(),this.render()},render:function(e){var t=this.templateRepoQueue,n=this.model.models;this.$el.html(t({title:c()("Repository Installation Queue"),repositories:n,empty:c()("No repositories in queue."),queue:d.a.queueLength()})),p()("#center").css("overflow","auto"),this.bindEvents()},bindEvents:function(){var e=this;p()(".install_one").on("click",function(t){var n=e.loadFromQueue(p()(t.target).attr("data-repokey"));e.installFromQueue(n,p()(t.target).attr("data-repokey"))}),p()(".remove_one").on("click",function(e){var t=p()(e.target).attr("data-repokey"),n=JSON.parse(window.localStorage.repositories);if(n.hasOwnProperty(t)){var i=n[t].repository.id;delete n[t],p()("#queued_repository_".concat(i)).remove()}window.localStorage.repositories=JSON.stringify(n)}),p()("#clear_queue").on("click",function(){window.localStorage.repositories="{}"}),p()("#from_workflow").on("click",function(){r.a.history.navigate("workflows",{trigger:!0,replace:!0})})},installFromQueue:function(e,t){var n={};n.install_tool_dependencies=e.install_tool_dependencies,n.install_repository_dependencies=e.install_repository_dependencies,n.install_resolver_dependencies=e.install_resolver_dependencies,n.tool_panel_section=e.tool_panel_section,n.shed_tool_conf=e.shed_tool_conf,n.repositories=JSON.stringify([[e.repository.id,e.changeset_revision]]),n.tool_shed_repository_ids=JSON.stringify([e.repository.id]),n.tool_shed_url=t.split("|")[0],n.changeset=e.changeset_revision;var i="".concat(Object(m.a)(),"api/tool_shed_repositories/install?async=True");if(p()("#queued_repository_".concat(e.repository.id)).remove(),window.localStorage.repositories){void 0===t&&(t=d.a.queueKey(e));var o=JSON.parse(window.localStorage.repositories);o.hasOwnProperty(t)&&(delete o[t],window.localStorage.repositories=JSON.stringify(o))}p.a.post(i,n,function(e){var t=JSON.parse(e),n=t.repositories,i="status/r/".concat(n.join("|"));p.a.post("".concat(Object(m.a)(),"admin_toolshed/install_repositories"),t,function(e){console.log("Initializing repository installation succeeded")}),r.a.history.navigate(i,{trigger:!0,replace:!0})})},loadFromQueue:function(e){var t=JSON.parse(window.localStorage.repositories);return t.hasOwnProperty(e)?t[e]:this.defaults},templateRepoQueue:s.a.template(['<div class="unified-panel-header" id="panel_header" unselectable="on">','<div class="unified-panel-header-inner"><%= title %><a class="ml-auto" href="#/queue">Repository Queue (<%= queue %>)</a></div>',"</div>",'<div class="tab-pane" id="panel_header" id="repository_queue">','<table id="queued_repositories" class="grid" border="0" cellpadding="2" cellspacing="2" width="100%">','<thead id="grid-table-header">',"<tr>",'<th class="datasetRow">Name</th>','<th class="datasetRow">Owner</th>','<th class="datasetRow">Revision</th>','<th class="datasetRow">ToolShed</th>','<th class="datasetRow">Install</th>','<th class="datasetRow"><input class="btn btn-primary" type="submit" id="clear_queue" name="clear_queue" value="Clear queue" /></th>',"</tr>","</thead>","<tbody>","<% if (repositories.length > 0) { %>","<% _.each(repositories, function(repository) { %>",'<tr id="queued_repository_<%= repository.get("id") %>">','<td class="datasetRow"><%= repository.get("repository").name %></td>','<td class="datasetRow"><%= repository.get("repository").owner %></td>','<td class="datasetRow"><%= repository.get("changeset_revision") %></td>','<td class="datasetRow"><%= repository.get("tool_shed_url") %></td>','<td class="datasetRow">','<input class="btn btn-primary install_one" data-repokey="<%= repository.get("queue_key") %>" type="submit" id="install_repository_<%= repository.get("id") %>" name="install_repository" value="Install now" />',"</td>",'<td class="datasetRow">','<input class="btn btn-primary remove_one" data-repokey="<%= repository.get("queue_key") %>" type="submit" id="unqueue_repository_<%= repository.get("id") %>" name="unqueue_repository" value="Remove from queue" />',"</td>","</tr>","<% }); %>","<% } else { %>",'<tr><td colspan="6"><%= empty %></td></tr>',"<% } %>","</tbody>","</table>",'<input type="button" class="btn btn-primary" id="from_workflow" value="Add from workflow" />',"</div>"].join(""))})},M=n(589),x={Workflows:r.a.View.extend({el:"#center",defaults:[{}],initialize:function(e){this.model=new u.a.WorkflowTools,this.listenTo(this.model,"sync",this.render),this.model.fetch(),this.render()},render:function(e){var t=this.templateWorkflows,n=this.model.models;this.$el.html(t({title:c()("Workflows Missing Tools"),workflows:n,queue:d.a.queueLength()})),p()("#center").css("overflow","auto"),this.bindEvents()},bindEvents:function(){var e;p()(".show_wf_repo").on("click",function(t){var n=p()(t.target).attr("data-toolids"),i=p()(t.target).attr("data-shed"),o="".concat(Object(m.a)(),"api/tool_shed/repository"),a={tool_ids:n};p.a.get(o,a,function(t){e=t.repository.id;var n="repository/s/".concat(i.replace(/:/g,"%3a").replace(/\//g,"%2f"),"/r/").concat(t.repository.id);r.a.history.navigate(n,{trigger:!0,replace:!0})})}),p()(".queue_wf_repo").on("click",function(t){var n=p()(t.target),i=n.attr("data-toolids"),r=n.attr("data-shed"),o="".concat(Object(m.a)(),"api/tool_shed/repository"),a={tool_ids:i};p.a.get(o,a,function(t){e=t.repository.id,a={tool_shed_url:r,repository_id:e},p.a.get(o,a,function(e){var t=Object.keys(e.repository.metadata)[0],i=e.repository.metadata[t];i.tool_shed_url=r,d.a.addToQueue(i),n.remove()})})}),p()("#from_workflow").on("click",this.loadWorkflows)},templateWorkflows:s.a.template(['<div class="unified-panel-header" id="panel_header" unselectable="on">','<div class="unified-panel-header-inner"><%= title %><a class="ml-auto" href="#/queue">Repository Queue (<%= queue %>)</a></div>',"</div>",'<style type="text/css">',".workflow_names, .workflow_tools { list-style-type: none; } ul.workflow_tools, ul.workflow_names {  padding-left: 0px; }","</style>",'<table id="workflows_missing_tools" class="grid" border="0" cellpadding="2" cellspacing="2" width="100%">','<thead id="grid-table-header">',"<tr>",'<th class="datasetRow">Workflows</th>','<th class="datasetRow">Tool IDs</th>','<th class="datasetRow">Shed</th>','<th class="datasetRow">Name</th>','<th class="datasetRow">Owner</th>','<th class="datasetRow">Actions</th>',"</tr>","</thead>","<tbody>","<% _.each(workflows, function(workflow) { %>","<tr>",'<td class="datasetRow">','<ul class="workflow_names">','<% _.each(workflow.get("workflows"), function(name) { %>','<li class="workflow_names"><%= name %></li>',"<% }); %>","</ul>","</td>",'<td class="datasetRow">','<ul class="workflow_tools">','<% _.each(workflow.get("tools"), function(tool) { %>','<li class="workflow_tools"><%= tool %></li>',"<% }); %>","</ul>","</td>",'<td class="datasetRow"><%= workflow.get("shed") %></td>','<td class="datasetRow"><%= workflow.get("repository") %></td>','<td class="datasetRow"><%= workflow.get("owner") %></td>','<td class="datasetRow">','<ul class="workflow_tools">','<li class="workflow_tools">','<input type="button" class="show_wf_repo btn btn-primary" data-shed="<%= workflow.get("shed") %>" data-owner="<%= workflow.get("owner") %>" data-repo="<%= workflow.get("repository") %>" data-toolids="<%= workflow.get("tools").join(",") %>" value="Show Repository" /></li>',"</ul>","</td>","</tr>","<% }); %>","</ul>","</div>"].join(""))})},C=r.a.Router.extend({initialize:function(){this.routesHit=0,r.a.history.on("route",function(){this.routesHit++},this),this.bind("route",this.trackPageview)},routes:{"":"toolsheds",sheds:"toolsheds",queue:"queue",workflows:"workflows","status/r/:repositories":"status",status:"status","categories/s/:tool_shed":"categories","category/s/:tool_shed/c/:cateory_id":"repositories","repository/s/:tool_shed/r/:repository_id":"repository"},back:function(){this.routesHit>1?window.history.back():this.navigate("#",{trigger:!0,replace:!0})}}),S=r.a.View.extend({app_config:{known_views:["toolsheds","queue","status","categories","repositories","repository"]},initialize:function(){var e=Object(o.getGalaxyInstance)();e.admintoolshedapp=this,this.admin_toolshed_router=new C,this.admin_toolshed_router.on("route:queue",function(){e.admintoolshedapp.adminRepoQueueView=new k.RepoQueueView}),this.admin_toolshed_router.on("route:toolsheds",function(){e.admintoolshedapp.adminShedListView=new h.ShedListView}),this.admin_toolshed_router.on("route:categories",function(t){e.admintoolshedapp.adminShedCategoriesView=new g.CategoryView({tool_shed:t.replace(/\//g,"%2f")})}),this.admin_toolshed_router.on("route:repositories",function(t,n){e.admintoolshedapp.adminShedCategoryView=new _.Category({tool_shed:t.replace(/\//g,"%2f"),category_id:n})}),this.admin_toolshed_router.on("route:repository",function(t,n){e.admintoolshedapp.adminRepositoryView=new w.RepoDetails({tool_shed:t.replace(/\//g,"%2f"),repository_id:n})}),this.admin_toolshed_router.on("route:status",function(t){e.admintoolshedapp.adminRepoStatusView=new M.a.RepoStatus({repositories:t.split("|")})}),this.admin_toolshed_router.on("route:workflows",function(){e.admintoolshedapp.adminWorkflowsView=new x.Workflows}),r.a.history.start({pushState:!1})}});t.a={GalaxyApp:S}},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(5),d=n(1),h=n.n(d),f=n(6),p=n(404),m=n(7);function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var _=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.canvas_container=n,this.id_counter=0,this.nodes={},this.name=null,this.has_changes=!1,this.active_form_has_changes=!1,this.workflowOutputLabels={},this.workflow_version=0}return function(e,t,n){t&&g(e.prototype,t),n&&g(e,n)}(e,[{key:"canLabelOutputWith",value:function(e){return!e||!(e in this.workflowOutputLabels)}},{key:"registerOutputLabel",value:function(e){e&&(this.workflowOutputLabels[e]=!0)}},{key:"unregisterOutputLabel",value:function(e){e&&delete this.workflowOutputLabels[e]}},{key:"updateOutputLabel",value:function(e,t){e&&this.unregisterOutputLabel(e),this.canLabelOutputWith(t)||m.warning("Workflow contains duplicate workflow output labels ".concat(t,". This must be fixed before it can be saved.")),t&&this.registerOutputLabel(t)}},{key:"attemptUpdateOutputLabel",value:function(e,t,n){return!!this.canLabelOutputWith(n)&&(e.labelWorkflowOutput(t,n),e.nodeView.redrawWorkflowOutputs(),!0)}},{key:"create_node",value:function(e,t,n){var i=this.app.prebuildNode(e,t,n);return this.add_node(i),this.fit_canvas_to_nodes(),this.app.canvas_manager.draw_overview(),this.activate_node(i),i}},{key:"add_node",value:function(e){e.id=this.id_counter,e.element.attr("id","wf-node-step-".concat(e.id)),e.element.attr("node-label",e.label),this.id_counter++,this.nodes[e.id]=e,this.has_changes=!0,e.workflow=this}},{key:"remove_node",value:function(e){this.active_node==e&&this.clear_active_node(),delete this.nodes[e.id],this.has_changes=!0}},{key:"remove_all",value:function(){var e=this;a.a.each(this.nodes,function(t,n){n.destroy(),e.remove_node(n)})}},{key:"rectify_workflow_outputs",value:function(){var e=this,t=!1,n=!1;a.a.each(this.nodes,function(e,i){"tool"===i.type&&i.workflow_outputs&&i.workflow_outputs.length>0&&(t=!0),a.a.each(i.post_job_actions,function(e,t){"HideDatasetAction"===t.action_type&&(n=!0)})}),!1===t&&!1===n||a.a.each(this.nodes,function(n,i){var r=!1;null===i.post_job_actions&&(i.post_job_actions={},r=!0);var o=[];a.a.each(i.post_job_actions,function(e,t){"HideDatasetAction"==t.action_type&&o.push(e)}),o.length>0&&a.a.each(o,function(e,t){r=!0,delete i.post_job_actions[t]}),t&&a.a.each(i.output_terminals,function(e,t){if(!0===!i.isWorkflowOutput(t.name)){r=!0;var n={action_type:"HideDatasetAction",output_name:t.name,action_arguments:{}};i.post_job_actions["HideDatasetAction".concat(t.name)]=null,i.post_job_actions["HideDatasetAction".concat(t.name)]=n}}),e.active_node==i&&!0===r&&e.reload_active_node()})}},{key:"to_simple",value:function(){var e={};return a.a.each(this.nodes,function(t,n){var i={};a.a.each(n.input_terminals,function(e,t){i[t.name]=null;var n=[];a.a.each(t.connectors,function(e,r){if(r.handle1){var o={id:r.handle1.node.id,output_name:r.handle1.name},a=t.attributes.input.input_subworkflow_step_id;void 0!==a&&(o.input_subworkflow_step_id=a),n[e]=o,i[t.name]=n}})});var r={};n.post_job_actions&&a.a.each(n.post_job_actions,function(e,t){var n={action_type:t.action_type,output_name:t.output_name,action_arguments:t.action_arguments};r[t.action_type+t.output_name]=null,r[t.action_type+t.output_name]=n}),n.workflow_outputs||(n.workflow_outputs=[]);var o={id:n.id,type:n.type,content_id:n.content_id,tool_version:n.config_form?n.config_form.version:null,tool_state:n.tool_state,errors:n.errors,input_connections:i,position:a()(n.element).position(),annotation:n.annotation,post_job_actions:n.post_job_actions,uuid:n.uuid,label:n.label,workflow_outputs:n.workflow_outputs};e[n.id]=o}),{steps:e}}},{key:"from_simple",value:function(e,t){var n=void 0===t||t,i=this,r=0;n?i.name=e.name:r=Object.keys(i.nodes).length;var o=r,s=!1;i.workflow_version=e.version,a.a.each(e.steps,function(e,t){var l=i.app.prebuildNode(t.type,t.name,t.content_id);n||(t.uuid=null,a.a.each(t.workflow_outputs,function(e,t){t.uuid=null})),l.init_field_data(t),t.position&&l.element.css({top:t.position.top,left:t.position.left}),l.id=parseInt(t.id)+r,l.element.attr("id","wf-node-step-".concat(l.id)),l.element.attr("node-label",t.label),i.nodes[l.id]=l,o=Math.max(o,parseInt(e)+r),s||(l.workflow_outputs.length>0?s=!0:a.a.each(l.post_job_actions||[],function(e,t){"HideDatasetAction"===t.action_type&&(s=!0)}))}),i.id_counter=o+1,a.a.each(e.steps,function(e,t){var n=i.nodes[parseInt(e)+r];a.a.each(t.input_connections,function(e,t){t&&(a.a.isArray(t)||(t=[t]),a.a.each(t,function(t,o){var a=i.nodes[parseInt(o.id)+r],s=new p.a;s.connect(a.output_terminals[o.output_name],n.input_terminals[e]),s.redraw()}))}),s&&a.a.each(n.output_terminals,function(e,t){void 0===n.post_job_actions["HideDatasetAction".concat(t.name)]&&(n.addWorkflowOutput(t.name),a()(n.element).find(".callout-terminal.".concat(t.name.replace(/(?=[()])/g,"\\"))).find("icon").addClass("mark-terminal-active"),i.has_changes=!0)})})}},{key:"check_changes_in_active_form",value:function(){this.active_form_has_changes&&(this.has_changes=!0,a()("#right-content").find("form").submit(),this.active_form_has_changes=!1)}},{key:"reload_active_node",value:function(){if(this.active_node){var e=this.active_node;this.clear_active_node(),this.activate_node(e)}}},{key:"clear_active_node",value:function(){this.active_node&&(this.active_node.make_inactive(),this.active_node=null),document.activeElement.blur(),this.app.showAttributes()}},{key:"activate_node",value:function(e){this.active_node!=e&&(this.check_changes_in_active_form(),this.clear_active_node(),this.app.showForm(e.config_form,e),e.make_active(),this.active_node=e)}},{key:"node_changed",value:function(e,t){this.has_changes=!0,this.active_node==e&&t&&(this.check_changes_in_active_form(),this.app.showForm(e.config_form,e)),this.app.showWorkflowParameters()}},{key:"layout",value:function(){this.check_changes_in_active_form(),this.has_changes=!0;var e={},t={};a.a.each(this.nodes,function(n,i){void 0===e[n]&&(e[n]=0),void 0===t[n]&&(t[n]=[])}),a.a.each(this.nodes,function(n,i){a.a.each(i.input_terminals,function(n,r){a.a.each(r.connectors,function(n,r){var o=r.handle1.node;e[i.id]+=1,t[o.id].push(i.id)})})});for(var n=[];;){var i=[];for(var r in e)0===e[r]&&i.push(r);if(0===i.length)break;for(var o in n.push(i),i){var s=i[o];for(var l in delete e[s],t[s])e[t[s][l]]-=1}}if(!e.length){var c=this.nodes,u=80;a.a.each(n,function(e,t){t.sort(function(e,t){return a()(c[e].element).position().top-a()(c[t].element).position().top});var n=0,i=30;a.a.each(t,function(e,t){var r=c[t],o=a()(r.element);a()(o).css({top:i,left:u}),n=Math.max(n,a()(o).width()),i+=a()(o).height()+30}),u+=n+80}),a.a.each(c,function(e,t){t.redraw()})}}},{key:"bounds_for_all_nodes",value:function(){var e,t=1/0,n=-1/0,i=1/0,r=-1/0;return a.a.each(this.nodes,function(o,s){var l=a()(s.element);e=l.position(),t=Math.min(t,e.left),n=Math.max(n,e.left+l.width()),i=Math.min(i,e.top),r=Math.max(r,e.top+l.width())}),{xmin:t,xmax:n,ymin:i,ymax:r}}},{key:"fit_canvas_to_nodes",value:function(){function e(e,t){return Math.ceil(e/t)*t}function t(e,t){return e<t||e>3*t?-(e-(Math.ceil(e%t/t)+1)*t):0}var n=this.app.canvas_manager.canvasZoom,i=this.bounds_for_all_nodes(),r=this.canvas_container.position(),o=this.canvas_container.parent(),s=t(i.xmin,100),l=t(i.ymin,100);s=Math.max(s,r.left),l=Math.max(l,r.top);var c=r.left-s,u=r.top-l,d=e(i.xmax+100,100)+s,h=e(i.ymax+100,100)+l;d=Math.max(d,-c+o.width()),h=Math.max(h,-u+o.height()),this.canvas_container.css({left:c/n,top:u/n,width:d,height:h}),this.canvas_container.children().each(function(){var e=a()(this).position();a()(this).css("left",(e.left+s)/n),a()(this).css("top",(e.top+l)/n)})}}]),e}(),v=n(569),y=n(570),b=l.a.Model.extend({initialize:function(e,t){this.app=e,this.element=t.element,this.input_terminals={},this.output_terminals={},this.errors={},this.workflow_outputs=[]},getWorkflowOutput:function(e){return r.a.findWhere(this.workflow_outputs,{output_name:e})},isWorkflowOutput:function(e){return void 0!==this.getWorkflowOutput(e)},removeWorkflowOutput:function(e){for(;this.isWorkflowOutput(e);){var t=this.getWorkflowOutput(e);this.workflow_outputs.splice(r.a.indexOf(this.workflow_outputs,t),1)}},addWorkflowOutput:function(e,t){if(!this.isWorkflowOutput(e)){var n={output_name:e};return t&&(n.label=t),this.workflow_outputs.push(n),!0}return!1},labelWorkflowOutput:function(e,t){var n=!1,i=null;if(this.isWorkflowOutput(e)){var r=this.getWorkflowOutput(e);i=r.label,r.label=t,n=i!=t}else n=this.addWorkflowOutput(e,t);return n&&(this.app.workflow.updateOutputLabel(i,t),this.markChanged(),this.nodeView.redrawWorkflowOutputs()),n},connectedOutputTerminals:function(){return this._connectedTerminals(this.output_terminals)},_connectedTerminals:function(e){var t=[];return a.a.each(e,function(e,n){n.connectors.length>0&&t.push(n)}),t},hasConnectedOutputTerminals:function(){var e=this.output_terminals;for(var t in e)if(e[t].connectors.length>0)return!0;return!1},connectedMappedInputTerminals:function(){return this._connectedMappedTerminals(this.input_terminals)},hasConnectedMappedInputTerminals:function(){var e=this.input_terminals;for(var t in e){var n=e[t];if(n.connectors.length>0&&n.isMappedOver())return!0}return!1},_connectedMappedTerminals:function(e){var t=[];return a.a.each(e,function(e,n){n.mapOver().isCollection&&n.connectors.length>0&&t.push(n)}),t},mappedInputTerminals:function(){return this._mappedTerminals(this.input_terminals)},_mappedTerminals:function(e){var t=[];return a.a.each(e,function(e,n){n.mapOver().isCollection&&t.push(n)}),t},hasMappedOverInputTerminals:function(){var e=!1;return r.a.each(this.input_terminals,function(t){t.mapOver().isCollection&&(e=!0)}),e},redraw:function(){a.a.each(this.input_terminals,function(e,t){t.redraw()}),a.a.each(this.output_terminals,function(e,t){t.redraw()})},clone:function(){var e=this,t={name:this.name,label:this.label,annotation:this.annotation,post_job_actions:this.post_job_actions},n=this.app.workflow.create_node(this.type,this.name,this.content_id);f.a.request({type:"POST",url:"".concat(Object(c.a)(),"api/workflows/build_module"),data:{type:this.type,tool_id:this.content_id,tool_state:this.tool_state},success:function(i){var r=Object.assign({},i,t);n.init_field_data(r),n.update_field_data(r),e.app.workflow.activate_node(n)}})},destroy:function(){a.a.each(this.input_terminals,function(e,t){t.destroy()}),a.a.each(this.output_terminals,function(e,t){t.destroy()}),this.app.workflow.remove_node(this),a()(this.element).remove()},make_active:function(){a()(this.element).addClass("toolForm-active")},make_inactive:function(){var e=this.element.get(0);!function(t){t.removeChild(e),t.appendChild(e)}(e.parentNode),a()(e).removeClass("toolForm-active")},set_tool_version:function(){"tool"===this.type&&this.config_form&&(this.tool_version=this.config_form.version,this.content_id=this.config_form.id)},init_field_data:function(e){e.type&&(this.type=e.type),this.name=e.name,this.config_form=e.config_form,this.set_tool_version(),this.tool_state=e.tool_state,this.errors=e.errors,this.tooltip=e.tooltip?e.tooltip:"",this.annotation=e.annotation,this.post_job_actions=e.post_job_actions?e.post_job_actions:{},this.label=e.label,this.uuid=e.uuid,this.workflow_outputs=e.workflow_outputs?e.workflow_outputs:[];var t=new y.a({el:this.element[0],node:this});this.nodeView=t,a.a.each(e.inputs,function(e,n){t.addDataInput(n)}),e.inputs.length>0&&e.outputs.length>0&&t.addRule(),a.a.each(e.outputs,function(e,n){t.addDataOutput(n)}),t.render(),this.app.workflow.node_changed(this,!0)},update_field_data:function(e){var t=this,n=t.nodeView,i=[];if(a.a.each(n.outputViews,function(t,n){var o=n.output.name,a=e.outputs,s=!1;r.a.each(a,function(e){e.name==o&&(s=!0)}),!1===s&&i.push(o)}),r.a.each(i,function(e){r.a.each(n.outputViews[e].terminalElement.terminal.connectors,function(e){e&&e.destroy()}),n.outputViews[e].remove(),delete n.outputViews[e],delete t.output_terminals[e]}),a.a.each(t.workflow_outputs,function(e,n){n&&!t.output_terminals[n.output_name]&&t.workflow_outputs.splice(e,1)}),a.a.each(e.outputs,function(e,i){n.outputViews[i.name]?(t.output_terminals[i.name].datatypes=i.extensions,t.output_terminals[i.name].destroyInvalidConnections()):n.addDataOutput(i)}),this.tool_state=e.tool_state,this.config_form=e.config_form,this.set_tool_version(),this.errors=e.errors,this.annotation=e.annotation,this.label=e.label,"post_job_actions"in e){var o=e.post_job_actions;this.post_job_actions=o||{}}t.nodeView.renderToolErrors();var s=n.$("div.inputs"),l=n.newInputsDiv(),c={};r.a.each(e.inputs,function(e){var n=t.nodeView.addDataInput(e,l);c[e.name]=n}),r.a.each(r.a.difference(r.a.values(n.terminalViews),r.a.values(c)),function(e){e.el.terminal.destroy()}),n.terminalViews=c,t.nodeView.render();var u=e.outputs;1==u.length&&"collection_type"in u[0]&&n.updateDataOutput(u[0]),s.replaceWith(l),"workflow_outputs"in e&&(this.workflow_outputs=e.workflow_outputs?e.workflow_outputs:[]),this.markChanged(),this.redraw()},error:function(e){var t=a()(this.element).find(".toolFormBody");t.find("div").remove();var n="<div style='color: red; text-style: italic;'>".concat(e,"</div>");this.config_form=n,t.html(n),this.app.workflow.node_changed(this)},markChanged:function(){this.app.workflow.node_changed(this)}}),w=n(405),k=n(25),M=n(385);function x(e){var t=e.model.attributes,n=t.workflow,i=t.node;t.inputs.unshift({type:"text",name:"__annotation",label:"Annotation",fixed:!0,value:i.annotation,area:!0,help:"Add an annotation or notes to this step. Annotations are available when a workflow is viewed."}),t.inputs.unshift({type:"text",name:"__label",label:"Label",value:i.label,help:h()("Add a step label."),fixed:!0,onchange:function(t){var r=!1;for(var o in n.nodes){var a=n.nodes[o];if(a.label&&a.label==t&&a.id!=i.id){r=!0;break}}var s=e.data.match("__label");e.element_list[s].model.set("error_text",r&&"Duplicate label. Please fix this before saving the workflow."),e.trigger("change")}})}function C(e,t,n){var i=[],r=[],o=n.datatypes,a=n.node,s=n.workflow;for(var l in o)i.push({0:o[l],1:o[l]});for(var l in a.input_terminals)r.push({name:a.input_terminals[l].name,label:a.input_terminals[l].label});var c,u=function(e){var t='This action will rename the output dataset. Click <a href="https://galaxyproject.org/learn/advanced-workflow/variables/">here</a> for more information. Valid input variables are:';return t+="\n        <ul>\n            ".concat(e.map(function(e){return"<li><strong>".concat(e.name.replace(/\|/g,"."),"</strong>\n                                                         ").concat(e.label?"(".concat(e.label,")"):"","\n                                             </li>")}).join(""),"\n        </ul>\n    ")}(r);i.sort(function(e,t){return e.label>t.label?1:e.label<t.label?-1:0}),i.unshift({0:"Sequences",1:"Sequences"}),i.unshift({0:"Roadmaps",1:"Roadmaps"}),i.unshift({0:"Leave unchanged",1:"__empty__"});var d={title:"Configure Output: '".concat(t,"'"),type:"section",flat:!0,inputs:[{label:"Label",type:"text",value:(c=a.getWorkflowOutput(e))&&c.label||"",help:"This will provide a short name to describe the output - this must be unique across workflows.",onchange:function(t){s.attemptUpdateOutputLabel(a,e,t)}},{action:"RenameDatasetAction",pja_arg:"newname",label:"Rename dataset",type:"text",value:"",ignore:"",help:u},{action:"ChangeDatatypeAction",pja_arg:"newtype",label:"Change datatype",type:"select",ignore:"__empty__",value:"__empty__",options:i,help:"This action will change the datatype of the output to the indicated value."},{action:"TagDatasetAction",pja_arg:"tags",label:"Add Tags",type:"text",value:"",ignore:"",help:"This action will set tags for the dataset."},{action:"RemoveTagDatasetAction",pja_arg:"tags",label:"Remove Tags",type:"text",value:"",ignore:"",help:"This action will remove tags for the dataset."},{title:h()("Assign columns"),type:"section",flat:!0,inputs:[{action:"ColumnSetAction",pja_arg:"chromCol",label:"Chrom column",type:"integer",value:"",ignore:""},{action:"ColumnSetAction",pja_arg:"startCol",label:"Start column",type:"integer",value:"",ignore:""},{action:"ColumnSetAction",pja_arg:"endCol",label:"End column",type:"integer",value:"",ignore:""},{action:"ColumnSetAction",pja_arg:"strandCol",label:"Strand column",type:"integer",value:"",ignore:""},{action:"ColumnSetAction",pja_arg:"nameCol",label:"Name column",type:"integer",value:"",ignore:""}],help:"This action will set column assignments in the output dataset. Blank fields are ignored."}]};return function e(t,n,i,r){var o=r.node.post_job_actions;for(var a in(n=n||[]).push(t),t.inputs){var s=t.inputs[a];if(s.action){if(s.name="pja__".concat(i,"__").concat(s.action),s.pja_arg&&(s.name+="__".concat(s.pja_arg)),s.payload)for(var l in s.payload)s.payload["".concat(s.name,"__").concat(l)]=s.payload[l],delete s.payload[l];var c=o[s.action+i];if(c){for(var u in n)n[u].expanded=!0;s.pja_arg?s.value=c.action_arguments&&c.action_arguments[s.pja_arg]||s.value:s.value="true"}}s.inputs&&e(s,n.slice(0),i,r)}}(d,[],e,n),d}var S={Default:l.a.View.extend({initialize:function(e){var t=this,n=e.node;this.form=new k.a(f.a.merge(e,{onchange:function(){f.a.request({type:"POST",url:"".concat(Object(c.a)(),"api/workflows/build_module"),data:{id:n.id,type:n.type,content_id:n.content_id,inputs:t.form.data.create()},success:function(e){n.update_field_data(e)}})}})),x(this.form),this.form.render()}}),Tool:l.a.View.extend({initialize:function(e){var t=this,n=e.node;this.form=new M.a(f.a.merge(e,{text_enable:"Set in Advance",text_disable:"Set at Runtime",narrow:!0,initial_errors:!0,cls:"ui-portlet-section",initialmodel:function(e,n){t._customize(n),e.resolve()},buildmodel:function(e,t){t.model.get("postchange")(e,t)},postchange:function(e,i){var r=Object(u.getGalaxyInstance)(),o=i.model.attributes,s={tool_id:o.id,tool_version:o.version,type:"tool",inputs:a.a.extend(!0,{},i.data.create())};r.emit.debug("tool-form-workflow::postchange()","Sending current state.",s),f.a.request({type:"POST",url:"".concat(Object(c.a)(),"api/workflows/build_module"),data:s,success:function(o){i.model.set(o.config_form),t._customize(i),i.update(o.config_form),i.errors(o.config_form),n.update_field_data(o),r.emit.debug("tool-form-workflow::postchange()","Received new model.",o),e.resolve()},error:function(t){r.emit.debug("tool-form-workflow::postchange()","Refresh request failed.",t),e.reject()}})}}))},_customize:function(e){var t=e.model.attributes;f.a.deepeach(t.inputs,function(e){e.type&&(e.connectable=!0,-1!=["data","data_collection"].indexOf(e.type)?(e.type="hidden",e.info="Data input '".concat(e.name,"' (").concat(f.a.textify(e.extensions),")"),e.value={__class__:"RuntimeValue"}):e.fixed||(e.collapsible_value={__class__:"RuntimeValue"},e.is_workflow=e.options&&0===e.options.length||-1!=["integer","float"].indexOf(e.type)))}),f.a.deepeach(t.inputs,function(e){"conditional"===e.type&&(e.connectable=!1,e.test_param.collapsible_value=void 0)}),function(e){var t=e.model.attributes,n=t.inputs,i=t.node,r=i.post_job_actions,o=i.output_terminals&&Object.keys(i.output_terminals)[0];if(o)for(var a in n.push({name:"pja__".concat(o,"__EmailAction"),label:"Email notification",type:"boolean",value:String(Boolean(r["EmailAction".concat(o)])),ignore:"false",help:h()("An email notification will be sent when the job has completed."),payload:{host:window.location.host}}),n.push({name:"pja__".concat(o,"__DeleteIntermediatesAction"),label:"Output cleanup",type:"boolean",value:String(Boolean(r["DeleteIntermediatesAction".concat(o)])),ignore:"false",help:"Upon completion of this step, delete non-starred outputs from completed workflow steps if they are no longer required as inputs."}),i.output_terminals){var s=i.output_terminals[a].label||a;n.push(C(a,s,t))}}(e),x(e)}})},T=n(11),L=n(369);n(381);function E(e){var t=a()("#galaxy_tools").contents();0===t.length&&(t=a()(document),a()(this).removeClass("search_active"),t.find(".toolTitle").removeClass("search_match"),t.find(".toolSectionBody").hide(),t.find(".toolTitle").show(),t.find(".toolPanelLabel").show(),t.find(".toolSectionWrapper").each(function(){"recently_used_wrapper"!==a()(this).attr("id")?a()(this).show():a()(this).hasClass("user_pref_visible")&&a()(this).show()}),t.find("#search-no-results").hide(),t.find("#search-spinner").hide(),e&&t.find("#tool-search-query").val("search tools"))}window.workflow_globals=window.workflow_globals||{};t.a=l.a.View.extend({initialize:function(e){var t=window.workflow_globals.app=this;this.options=e,this.urls=e&&e.urls||{};var n=t.urls.workflow_index,i=function(e,n){if(show_message("Saving workflow","progress"),t.workflow.check_changes_in_active_form(),!t.workflow.has_changes)return hide_modal(),void(n&&n());t.workflow.rectify_workflow_outputs(),f.a.request({url:"".concat(Object(c.a)(),"api/workflows/").concat(t.options.id),type:"PUT",data:{workflow:t.workflow.to_simple()},success:function(e){var i=a()("<div/>").text(e.message);if(e.errors){i.addClass("warningmark");var r=a()("<ul/>");a.a.each(e.errors,function(e,t){a()("<li/>").text(t).appendTo(r)}),i.append(r)}else i.addClass("donemark");t.workflow.name=e.name,t.workflow.has_changes=!1,t.workflow.stored=!0,t.workflow.workflow_version=e.version,t.showWorkflowParameters(),t.build_version_select(),e.errors?window.show_modal("Saving workflow",i,{Ok:hide_modal}):(n&&n(),hide_modal())},error:function(e){window.show_modal("Saving workflow failed.",e.err_msg,{Ok:hide_modal})}})};a()("#search-clear-btn").click(function(){a()("#tool-search-query").val(""),E(!1)}),a()("#tool-search-query").click(function(){a()(this).focus(),a()(this).select()}).keyup(function(e){if(27==e.keyCode&&(this.value=""),a()(this).css("font-style","normal"),this.value.length<3)E(!1);else if(this.value!=this.lastValue){a()(this).addClass("search_active");var n=this.value;this.timer&&window.clearTimeout(this.timer),a()("#search-spinner").show(),this.timer=window.setTimeout(function(){a.a.get(t.urls.tool_search,{q:n},function(e){if(a()("#search-no-results").hide(),a()(".toolSectionWrapper").hide(),a()(".toolSectionWrapper").find(".toolTitle").hide(),0!==e.length){var t=a.a.map(e,function(e,t){return"link-".concat(e)});a()(t).each(function(e,t){a()("[id='".concat(t,"']")).parent().addClass("search_match"),a()("[id='".concat(t,"']")).parent().show().parent().parent().show().parent().show()}),a()(".toolPanelLabel").each(function(){for(var e=a()(this),t=e.next(),n=!0;0!==t.length&&t.hasClass("toolTitle");){if(t.is(":visible")){n=!1;break}t=t.next()}n&&e.hide()})}else a()("#search-no-results").show();a()("#search-spinner").hide()},"json")},400)}this.lastValue=this.value}),this.canvas_manager=window.workflow_globals.canvas_manager=new v.a(this,a()("#canvas-viewport"),a()("#overview")),this.reset(),this.datatypes=JSON.parse(a.a.ajax({url:"".concat(Object(c.a)(),"api/datatypes"),async:!1}).responseText),this.datatypes_mapping=JSON.parse(a.a.ajax({url:"".concat(Object(c.a)(),"api/datatypes/mapping"),async:!1}).responseText),this.ext_to_type=this.datatypes_mapping.ext_to_class_name,this.type_to_type=this.datatypes_mapping.class_to_classes,this.get_workflow_versions=function(){for(var e={},n=JSON.parse(a.a.ajax({url:"".concat(Object(c.a)(),"api/workflows/").concat(t.options.id,"/versions"),async:!1}).responseText),i=0;i<n.length;i++){var r=n[i],o="Version ".concat(r.version,", ").concat(r.steps," steps"),s=!1;i==t.workflow.workflow_version&&(o="".concat(o," (active)"),s=!0),e[o]={version:i,selected:s}}return e},this.build_version_select=function(){var e=this.get_workflow_versions();a()("#workflow-version-switch").empty(),a.a.each(e,function(e,t){a()("#workflow-version-switch").append(a()("<option></option>").html(e).val(t.version).selected(t.selected))}),a()("#workflow-version-switch").on("change",function(){if(a()("#workflow-version-switch").unbind("change"),this.value!=t.workflow.workflow_version){if(t.workflow&&t.workflow.has_changes)if(0==confirm("There are unsaved changes to your workflow which will be lost. Continue ?"))return void t.build_version_select();t.load_workflow(t.options.id,this.value)}})},this.load_workflow=function(e,i){this._workflowLoadAjax(e,i,{success:function(e){t.reset(),t.workflow.from_simple(e,!0),t.workflow.has_changes=!1,t.workflow.fit_canvas_to_nodes(),t.scroll_to_nodes(),t.canvas_manager.draw_overview(),t.build_version_select();var n="";r.a.each(e.steps,function(i,o){var a="";i.errors&&(a+="<li>".concat(i.errors,"</li>")),r.a.each(e.upgrade_messages[o],function(e){a+="<li>".concat(e,"</li>")}),a&&(n+="<li>Step ".concat(parseInt(o,10)+1,": ").concat(t.workflow.nodes[o].name,"<ul>").concat(a,"</ul></li>"))}),n?window.show_modal("Issues loading this workflow","Please review the following issues, possibly resulting from tool upgrades or changes.<p><ul>".concat(n,"</ul></p>"),{Continue:hide_modal}):hide_modal(),t.showWorkflowParameters()},error:function(e){window.show_modal("Loading workflow failed.",e.err_msg,{Ok:function(e){window.onbeforeunload=void 0,window.document.location=n}})},beforeSubmit:function(e){show_message("Loading workflow","progress")}})},this.load_workflow(t.options.id,t.options.version),window.make_popupmenu&&make_popupmenu(a()("#workflow-options-button"),{Save:i,"Save As":function(){var e=a()('<form><label style="display:inline-block; width: 100%;">Save as name: </label><input type="text" id="workflow_rename" style="width: 80%;" autofocus/><br><label style="display:inline-block; width: 100%;">Annotation: </label><input type="text" id="wf_annotation" style="width: 80%;" /></form>');window.show_modal("Save As a New Workflow",e,{OK:function(){var e=a()("#workflow_rename").val().length>0?a()("#workflow_rename").val():"SavedAs_".concat(t.workflow.name),n=a()("#wf_annotation").val().length>0?a()("#wf_annotation").val():"";a.a.ajax({url:t.urls.workflow_save_as,type:"POST",data:{workflow_name:e,workflow_annotation:n,workflow_data:function(){return JSON.stringify(t.workflow.to_simple())}}}).done(function(e){window.onbeforeunload=void 0,window.location="".concat(Object(c.a)(),"workflow/editor?id=").concat(e),hide_modal()}).fail(function(){hide_modal(),alert("Saving this workflow failed. Please contact this site's administrator.")})},Cancel:hide_modal})},Run:function(){window.location="".concat(Object(c.a)(),"workflows/run?id=").concat(t.options.id)},"Edit Attributes":function(){t.workflow.clear_active_node()},"Auto Re-layout":function(){t.workflow.layout(),t.workflow.fit_canvas_to_nodes(),t.scroll_to_nodes(),t.canvas_manager.draw_overview()},Download:{url:"".concat(Object(c.a)(),"api/workflows/").concat(t.options.id,"/download?format=json-download"),action:function(){}},Close:function(){if(t.workflow.check_changes_in_active_form(),t.workflow&&t.workflow.has_changes){var e=function(){window.onbeforeunload=void 0,window.document.location=t.urls.workflow_index};window.show_modal("Close workflow editor","There are unsaved changes to your workflow which will be lost.",{Cancel:hide_modal,"Save Changes":function(){i(null,e)}},{"Don't Save":e})}else window.document.location=t.urls.workflow_index}});var o=localStorage.getItem("overview-size");void 0!==o&&a()(".workflow-overview").css({width:o,height:o}),a()(".workflow-overview").bind("dragend",function(e,t){var n=a()(this).offsetParent(),i=n.offset(),r=Math.max(n.width()-(t.offsetX-i.left),n.height()-(t.offsetY-i.top));localStorage.setItem("overview-size","".concat(r,"px"))}),window.onbeforeunload=function(){if(t.workflow&&t.workflow.has_changes)return"There are unsaved changes to your workflow which will be lost."},this.options.workflows.length>0&&a()("#left").find(".toolMenu").append(this._buildToolPanelWorkflows()),a()("div.toolSectionBody").hide(),a()("div.toolSectionTitle > span").wrap("<a href='#'></a>");var s=null;a()("div.toolSectionTitle").each(function(){var e=a()(this).next("div.toolSectionBody");a()(this).click(function(){e.is(":hidden")?(s&&s.slideUp("fast"),s=e,e.slideDown("fast")):(e.slideUp("fast"),s=null)})}),Object(L.a)("workflow-name","workflow-name",t.urls.rename_async,"new_name"),a()("#workflow-tag").click(function(){return a()(".tag-area").click(),!1}),Object(L.a)("workflow-annotation","workflow-annotation",t.urls.annotate_async,"new_annotation",25,!0,4)},_buildToolPanelWorkflows:function(){var e=this,t=a()('<div class="toolSectionWrapper"><div class="toolSectionTitle"><a href="#"><span>Workflows</span></a></div><div class="toolSectionBody"><div class="toolSectionBg"/></div></div>');return r.a.each(this.options.workflows,function(n){if(n.id!==e.options.id){var i=new T.a.Button({icon:"fa fa-copy",cls:"ui-button-icon-plain",tooltip:h()("Copy and insert individual steps"),onclick:function(){var t=Object(u.getGalaxyInstance)();n.step_count<2?e.copy_into_workflow(n.id,n.name):t.modal.show({title:h()("Warning"),body:"This will copy ".concat(n.step_count," new steps into your workflow."),buttons:{Cancel:function(){t.modal.hide()},Copy:function(){t.modal.hide(),e.copy_into_workflow(n.id,n.name)}}})}}),r=a()("<a/>").attr("href","#").html(n.name).on("click",function(){e.add_node_for_subworkflow(n.latest_id,n.name)});t.find(".toolSectionBg").append(a()("<div/>").addClass("toolTitle").append(r).append(i.$el))}}),t},copy_into_workflow:function(e){var t=this;this._workflowLoadAjax(e,None,{success:function(e){t.workflow.from_simple(e,!1);var n="";a.a.each(e.upgrade_messages,function(e,i){n+="<li>Step ".concat(parseInt(e,10)+1,": ").concat(t.workflow.nodes[e].name,"<ul>"),a.a.each(i,function(e,t){n+="<li>".concat(t,"</li>")}),n+="</ul></li>"}),n?window.show_modal("Subworkflow embedded with changes","Problems were encountered loading this workflow (possibly a result of tool upgrades). Please review the following parameters and then save.<ul>".concat(n,"</ul>"),{Continue:hide_modal}):hide_modal()},beforeSubmit:function(e){show_message("Importing workflow","progress")}})},reset:function(){this.workflow&&this.workflow.remove_all(),this.workflow=window.workflow_globals.workflow=new _(this,a()("#canvas-container"))},scroll_to_nodes:function(){var e,t,n=a()("#canvas-viewport"),i=a()("#canvas-container");t=i.width()<n.width()?(n.width()-i.width())/2:0,e=i.height()<n.height()?(n.height()-i.height())/2:0,i.css({left:t,top:e})},_workflowLoadAjax:function(e,t,n){a.a.ajax(f.a.merge(n,{url:this.urls.load_workflow,data:{id:e,_:"true",version:t},dataType:"json",cache:!1}))},_moduleInitAjax:function(e,t){var n=this;f.a.request({type:"POST",url:"".concat(Object(c.a)(),"api/workflows/build_module"),data:t,success:function(t){var i=Object(u.getGalaxyInstance)();e.init_field_data(t),e.update_field_data(t),a.a.each(e.output_terminals,function(t,n){e.addWorkflowOutput(n.name),a()(e.element).find(".callout.".concat(n.name.replace(/(?=[()])/g,"\\"))).find("img").attr("src","".concat(i.root,"static/images/fugue/asterisk-small.png"))}),n.workflow.activate_node(e)}})},add_node_for_tool:function(e,t){var n=this.workflow.create_node("tool",t,e);this._moduleInitAjax(n,{type:"tool",tool_id:e,_:"true"})},add_node_for_subworkflow:function(e,t){var n=this.workflow.create_node("subworkflow",t,e);this._moduleInitAjax(n,{type:"subworkflow",content_id:e,_:"true"})},add_node_for_module:function(e,t){var n=this.workflow.create_node(e,t);this._moduleInitAjax(n,{type:e,_:"true"})},display_file_list:function(e){var t="<select id='node_data_list' name='node_data_list'>";for(var n in e.output_terminals)t+="<option value='".concat(n,"'>").concat(n,"</option>");return t+="</select>"},showWorkflowParameters:function(){var e=/\$\{.+?\}/g,t=[],n=a()("#workflow-parameters-container"),i=a()("#workflow-parameters-box"),r="",o=[];a.a.each(this.workflow.nodes,function(n,i){i.config_form&&i.config_form.inputs&&f.a.deepeach(i.config_form.inputs,function(t){if("string"==typeof t.value){var n=t.value.match(e);n&&(o=o.concat(n))}}),i.post_job_actions&&a.a.each(i.post_job_actions,function(t,n){n.action_arguments&&a.a.each(n.action_arguments,function(t,n){if("string"==typeof n){var i=n.match(e);i&&(o=o.concat(i))}})}),o&&a.a.each(o,function(e,n){-1===a.a.inArray(n,t)&&t.push(n)})}),t&&0!==t.length?(a.a.each(t,function(e,t){r+="<div>".concat(t.substring(2,t.length-1),"</div>")}),n.html(r),i.show()):(n.html(r),i.hide())},showAttributes:function(){a()(".right-content").hide(),a()("#edit-attributes").show()},showForm:function(e,t){var n="right-content",i="".concat(n,"-").concat(t.id),r=a()("#".concat(n)),o=Object(u.getGalaxyInstance)();if(e&&0===r.find("#".concat(i)).length){var s=a()('<div id="'.concat(i,'" class="').concat(n,'"/>'));if(e.node=t,e.workflow=this.workflow,e.datatypes=this.datatypes,e.icon=w.a[t.type],e.cls="ui-portlet-section",t){var l="tool"==t.type?"Tool":"Default";s.append(new S[l](e).form.$el),r.append(s)}else o.emit.debug("workflow-view::initialize()","Node not found in workflow.")}a()(".".concat(n)).hide(),r.find("#".concat(i)).show(),r.show(),r.scrollTop()},isSubType:function(e,t){return e=this.ext_to_type[e],t=this.ext_to_type[t],this.type_to_type[e]&&t in this.type_to_type[e]},prebuildNode:function(e,t,n){var i=this,r=a()("<div class='toolForm toolFormInCanvas'/>"),o=a()("<div class='toolFormTitle unselectable'><span class='nodeTitle'>".concat(t,"</div></div>"));!function(e,t){var n=w.a[t];if(n){var i=a()('<i class="icon fa">&nbsp;</i>').addClass(n);e.before(i)}}(o.find(".nodeTitle"),e),r.append(o),r.css("left",a()(window).scrollLeft()+20),r.css("top",a()(window).scrollTop()+20),r.append(a()("<div class='toolFormBody'></div>"));var s=new b(this,{element:r});s.type=e,s.content_id=n;var l="<div><img height='16' align='middle' src='".concat(Object(c.a)(),"static/images/loading_small_white_bg.gif'/> loading tool info...</div>");r.find(".toolFormBody").append(l);var u=a()("<div class='buttons' style='float: right;'></div>");"subworkflow"!==e&&u.append(a()("<div/>").addClass("fa-icon-button fa fa-files-o node-clone").click(function(e){s.clone()})),u.append(a()("<div/>").addClass("fa-icon-button fa fa-times node-destroy").click(function(e){s.destroy()})),r.appendTo("#canvas-container");var d=a()("#canvas-container").position(),h=a()("#canvas-container").parent(),f=r.width(),p=r.height();return r.css({left:-d.left+h.width()/2-f/2,top:-d.top+h.height()/2-p/2}),u.prependTo(r.find(".toolFormTitle")),f+=u.width()+10,r.css("width",f),r.bind("dragstart",function(){i.workflow.activate_node(s)}).bind("dragend",function(){i.workflow.node_changed(this),i.workflow.fit_canvas_to_nodes(),i.canvas_manager.draw_overview()}).bind("dragclickonly",function(){i.workflow.activate_node(s)}).bind("drag",function(e,t){var n=a()(this).offsetParent().offset(),r=(t.offsetX-n.left)/i.canvas_manager.canvasZoom,o=(t.offsetY-n.top)/i.canvas_manager.canvasZoom;a()(this).css({left:r,top:o}),a()(this).find(".terminal").each(function(){this.terminal.redraw()})}),s}})},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(3),a=n.n(o),s=n(4),l=n(5),c=n(386),u=n(27),d=n(11),h=n(6),f=n(2),p=n.n(f),m=a.a.Model.extend({defaults:{config:{}},urlRoot:function(){return Object(s.a)()+"api/visualizations"},initialize:function(e){p.a.isObject(e.config)&&p.a.isObject(this.defaults.config)&&p.a.defaults(e.config,this.defaults.config),this._setUpListeners()},_setUpListeners:function(){},set:function(e,t){if("config"===e){var n=this.get("config");p.a.isObject(n)&&(t=p.a.extend(p.a.clone(n),t))}return a.a.Model.prototype.set.call(this,e,t),this},toString:function(){var e=this.get("id")||"";return this.get("title")&&(e+=":".concat(this.get("title"))),"Visualization(".concat(e,")")}}),g=(a.a.Collection.extend({model:m,url:function(){return"".concat(Object(s.a)(),"api/visualizations")},initialize:function(e,t){t=t||{}},set:function(e,t){var n=this;e=p.a.map(e,function(e){var t=n.get(e.id);if(!t)return e;var i=t.toJSON();return p.a.extend(i,e),i}),a.a.Collection.prototype.set.call(this,e,t)},toString:function(){return["VisualizationCollection(",[this.historyId,this.length].join(),")"].join("")}}),o.Model.extend({defaults:{title:"",type:"",date:null,state:"",state_info:"",modified:!0,dataset_id:"",dataset_id_job:null},initialize:function(e,t){this.groups=new o.Collection,this.settings=new o.Model,this.visualization_id=t.visualization_id,this.visualization_name=t.visualization_name,this.dataset_id=t.dataset_id,this.chart_dict=t.chart_dict,console.debug("model::initialize() - Initialized with configuration:"),console.debug(t)},reset:function(){this.clear().set({title:"New Chart",dataset_id:this.dataset_id}),this.settings.clear(),this.groups.reset(),this.groups.add({id:h.a.uid()})},state:function(e,t){this.set({state:e,state_info:t}),this.trigger("set:state"),console.debug("model::state() - "+t+" ("+e+")")},serialize:function(){var e={attributes:this.attributes,settings:this.settings.attributes,groups:[]};return this.groups.each(function(t){e.groups.push(t.attributes)}),e},save:function(e){var t=this;e=e||{},this.chart_dict=this.serialize(),new m({id:this.visualization_id||void 0,type:this.visualization_name,title:this.get("title")||"",config:{dataset_id:this.dataset_id,chart_dict:this.chart_dict}}).save().then(function(n){n&&n.id?(t.visualization_id=n.id,e.success&&e.success(),console.debug("model::save() - Received visualization id: "+n.id)):(e.error&&e.error(),console.debug("model::save() - Unrecognized response. Saving may have failed."))}).fail(function(t){e.error&&e.error(),console.debug("model::save() - Saving failed.")}),console.debug("model::save() - Saving with configuration.")},load:function(e){var t=e||this.chart_dict;return t&&(console.debug("model::load() - Attempting to load with configuration:"),console.debug(t)),this.reset(),t&&t.attributes?(this.set(t.attributes),this.state("ok","Loading saved visualization..."),this.settings.set(t.settings),this.groups.reset(),this.groups.add(t.groups),this.set("modified",!1),this.trigger("load"),console.debug("model::load() - Loading chart model "+t.attributes.type+"."),!0):(this.set("modified",!0),this.trigger("load"),console.debug("model::load() - Visualization attributes unavailable."),!1)}})),_=n(598),v=n(602),y=n(603);t.a=a.a.View.extend({initialize:function(e){var t=this,n=Object(l.getGalaxyInstance)();this.modal=n&&n.modal?n.modal:new u.a.View,this.setElement(r()("<div/>").addClass("charts-client").append(r()("<div/>").addClass("charts-buttons")).append(r()("<div/>").addClass("charts-center")).append(r()("<div/>").addClass("charts-right"))),this.$center=this.$(".charts-center"),this.$right=this.$(".charts-right"),this.$buttons=this.$(".charts-buttons"),this.chart=new g({},e),this.chart.plugin=e.visualization_plugin,this.chart.plugin.specs=this.chart.plugin.specs||{},this.chart_load=e.chart_load,this.message=new d.a.Message,this.deferred=new c.a,this.viewer=new v.a(this),this.editor=new _.a(this),this.menu=new y.a(this),this.$center.append(this.viewer.$el),this.$right.append(this.message.$el).append(this.editor.$el),this.$buttons.append(this.menu.$el),r.a.ajax({url:"".concat(Object(s.a)(),"api/datasets/").concat(e.dataset_id)}).done(function(e){t.dataset=e,t.chart.load(),t.chart.trigger("redraw")}).fail(function(e){var n=e.responseJSON&&e.responseJSON.err_msg;t.errormessage=n||"Import failed for unkown reason."})}})},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(3),a=n.n(o),s=n(4),l=n(5),c=n(7),u=n.n(c),d=n(8),h=n(469),f=n(513),p=n(514),m=n(470),g=n(392),_=n(2),v=n.n(_),y=n(19),b=n(17),w={LibraryView:a.a.View.extend({el:"#center",model:null,options:{},events:{"click .toolbtn_save_permissions":"savePermissions"},initialize:function(e){this.options=v.a.extend(this.options,e),this.options.id&&this.fetchLibrary()},fetchLibrary:function(e){this.options=v.a.extend(this.options,e),this.model=new y.a.Library({id:this.options.id});var t=this;this.model.fetch({success:function(){t.options.show_permissions&&t.showPermissions()},error:function(e,t){var n=Object(l.getGalaxyInstance)();void 0!==t.responseJSON?u.a.error("".concat(t.responseJSON.err_msg," Click this to go back."),"",{onclick:function(){n.libraries.library_router.back()}}):u.a.error("An error occurred. Click this to go back.","",{onclick:function(){n.libraries.library_router.back()}})}})},showPermissions:function(e){this.options=v.a.extend(this.options,e),r()(".tooltip").remove(),void 0!==this.options.fetched_permissions&&(0===this.options.fetched_permissions.access_library_role_list.length?this.model.set({is_unrestricted:!0}):this.model.set({is_unrestricted:!1}));var t=!1,n=Object(l.getGalaxyInstance)();n.user&&(t=n.user.isAdmin());var i=this.templateLibraryPermissions();this.$el.html(i({library:this.model,is_admin:t}));var o=this;r.a.get("".concat(Object(s.a)(),"api/libraries/").concat(o.id,"/permissions?scope=current")).done(function(e){o.prepareSelectBoxes({fetched_permissions:e})}).fail(function(){u.a.error("An error occurred while attempting to fetch library permissions.")}),r()('#center [data-toggle="tooltip"]').tooltip({trigger:"hover"}),r()("#center").css("overflow","auto")},_serializeRoles:function(e){for(var t=[],n=0;n<e.length;n++)t.push("".concat(e[n][1],":").concat(e[n][0]));return t},prepareSelectBoxes:function(e){this.options=v.a.extend(this.options,e);var t=this.options.fetched_permissions,n=this._serializeRoles(t.access_library_role_list),i=this._serializeRoles(t.add_library_item_role_list),r=this._serializeRoles(t.manage_library_role_list),o=this._serializeRoles(t.modify_library_role_list);this.accessSelectObject=new b.a.View(this._createSelectOptions(this,"access_perm",n,!0)),this.addSelectObject=new b.a.View(this._createSelectOptions(this,"add_perm",i,!1)),this.manageSelectObject=new b.a.View(this._createSelectOptions(this,"manage_perm",r,!1)),this.modifySelectObject=new b.a.View(this._createSelectOptions(this,"modify_perm",o,!1))},_createSelectOptions:function(e,t,n,i){return i=!0===i&&i,{minimumInputLength:0,css:t,multiple:!0,placeholder:"Click to select a role",container:e.$el.find("#".concat(t)),ajax:{url:"".concat(Object(s.a)(),"api/libraries/").concat(e.id,"/permissions?scope=available&is_library_access=").concat(i),dataType:"json",quietMillis:100,data:function(e,t){return{q:e,page_limit:10,page:t}},results:function(e,t){var n=10*t<e.total;return{results:e.roles,more:n}}},formatResult:function(e){return"".concat(e.name," type: ").concat(e.type)},formatSelection:function(e){return e.name},initSelection:function(e,t){var n=[];r()(e.val().split(",")).each(function(){var e=this.split(":");n.push({id:e[0],name:e[1]})}),t(n)},initialData:n,dropdownCssClass:"bigdrop"}},makeDatasetPrivate:function(){var e=this;r.a.post("".concat(Object(s.a)(),"api/libraries/datasets/").concat(e.id,"/permissions?action=make_private")).done(function(t){e.model.set({is_unrestricted:!1}),e.showPermissions({fetched_permissions:t}),u.a.success("The dataset is now private to you.")}).fail(function(){u.a.error("An error occurred while attempting to make dataset private.")})},removeDatasetRestrictions:function(){var e=this;r.a.post("".concat(Object(s.a)(),"api/libraries/datasets/").concat(e.id,"/permissions?action=remove_restrictions")).done(function(t){e.model.set({is_unrestricted:!0}),e.showPermissions({fetched_permissions:t}),u.a.success("Access to this dataset is now unrestricted.")}).fail(function(){u.a.error("An error occurred while attempting to make dataset unrestricted.")})},_extractIds:function(e){for(var t=[],n=e.length-1;n>=0;n--)t.push(e[n].id);return t},savePermissions:function(e){var t=this,n=this._extractIds(this.accessSelectObject.$el.select2("data")),i=this._extractIds(this.addSelectObject.$el.select2("data")),o=this._extractIds(this.manageSelectObject.$el.select2("data")),a=this._extractIds(this.modifySelectObject.$el.select2("data"));r.a.post("".concat(Object(s.a)(),"api/libraries/").concat(t.id,"/permissions?action=set_permissions"),{"access_ids[]":n,"add_ids[]":i,"manage_ids[]":o,"modify_ids[]":a}).done(function(e){t.showPermissions({fetched_permissions:e}),u.a.success("Permissions saved.")}).fail(function(){u.a.error("An error occurred while attempting to set library permissions.")})},templateLibraryPermissions:function(){return v.a.template(['<div class="library_style_container">',"<div>",'<a href="#">','<button data-toggle="tooltip" data-placement="top" title="Go back to the list of Libraries" class="btn btn-secondary primary-button" type="button">','<span class="fa fa-list"/>',"&nbsp;Libraries","</button>","</a>","</div>","<h1>",'Library: <%= _.escape(library.get("name")) %>',"</h1>",'<div class="alert alert-warning">',"<% if (is_admin) { %>","You are logged in as an <strong>administrator</strong> therefore you can manage any library on this Galaxy instance. Please make sure you understand the consequences.","<% } else { %>","You can assign any number of roles to any of the following permission types. However please read carefully the implications of such actions.","<% }%>","</div>",'<div class="dataset_table">',"<h2>Library permissions</h2>","<h4>Roles that can access the library</h4>",'<div id="access_perm" class="access_perm roles-selection"/>','<div class="alert alert-info roles-selection">',"User with <strong>any</strong> of these roles can access this library. If there are no access roles set on the library it is considered <strong>unrestricted</strong>.","</div>","<h4>Roles that can manage permissions on this library</h4>",'<div id="manage_perm" class="manage_perm roles-selection"/>','<div class="alert alert-info roles-selection">',"User with <strong>any</strong> of these roles can manage permissions on this library (includes giving access).","</div>","<h4>Roles that can add items to this library</h4>",'<div id="add_perm" class="add_perm roles-selection"/>','<div class="alert alert-info roles-selection">',"User with <strong>any</strong> of these roles can add items to this library (folders and datasets).","</div>","<h4>Roles that can modify this library</h4>",'<div id="modify_perm" class="modify_perm roles-selection"/>','<div class="alert alert-info roles-selection">',"User with <strong>any</strong> of these roles can modify this library (name, synopsis, etc.).","</div>",'<button data-toggle="tooltip" data-placement="top" title="Save modifications made on this page" class="btn btn-secondary toolbtn_save_permissions primary-button" type="button">','<span class="fa fa-floppy-o"/>',"&nbsp;Save","</button>","</div>","</div>"].join(""))}})},k=n(588),M=a.a.Router.extend({initialize:function(){this.routesHit=0,a.a.history.on("route",function(){this.routesHit++},this),this.bind("route",this.trackPageview)},routes:{"":"libraries","page/:show_page":"libraries_page","library/:library_id/permissions":"library_permissions","folders/:folder_id/permissions":"folder_permissions","folders/:id":"folder_content","folders/:id/page/:show_page":"folder_page","folders/:folder_id/datasets/:dataset_id":"dataset_detail","folders/:folder_id/datasets/:dataset_id/permissions":"dataset_permissions","folders/:folder_id/datasets/:dataset_id/versions/:ldda_id":"dataset_version","folders/:folder_id/download/:format":"download","folders/:folder_id/import/:source":"import_datasets"},back:function(){this.routesHit>1?window.history.back():this.navigate("#",{trigger:!0,replace:!0})},trackPageview:function(){var e=a.a.history.getFragment();/^\//.test(e)||""==e||(e="/".concat(e)),"undefined"!=typeof ga&&ga("send","pageview","".concat(Object(s.a)(),"library/list").concat(e))}}),x=d.a.SessionStorageModel.extend({defaults:{with_deleted:!1,without_restricted:!1,sort_order:"asc",sort_by:"name",library_page_size:20,folder_page_size:15}}),C=a.a.View.extend({libraryToolbarView:null,libraryListView:null,library_router:null,libraryView:null,folderToolbarView:null,folderListView:null,datasetView:null,initialize:function(){var e=Object(l.getGalaxyInstance)();e.config.ga_code&&(!function(e,t,n,i,r,o,a){e.GoogleAnalyticsObject=r,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,o=t.createElement(n),a=t.getElementsByTagName(n)[0],o.async=1,o.src="//www.google-analytics.com/analytics.js",a.parentNode.insertBefore(o,a)}(window,document,"script",0,"ga"),ga("create",e.config.ga_code,"auto"),ga("send","pageview")),e.libraries=this,this.preferences=new x({id:"global-lib-prefs"}),this.library_router=new M,this.library_router.on("route:libraries",function(){e.libraries.libraryToolbarView&&e.libraries.libraryToolbarView.$el.unbind("click"),e.libraries.libraryToolbarView=new p.a.LibraryToolbarView,e.libraries.libraryListView=new f.a.LibraryListView}),this.library_router.on("route:libraries_page",function(t){null===e.libraries.libraryToolbarView?(e.libraries.libraryToolbarView=new p.a.LibraryToolbarView,e.libraries.libraryListView=new f.a.LibraryListView({show_page:t})):e.libraries.libraryListView.render({show_page:t})}),this.library_router.on("route:folder_content",function(t){e.libraries.folderToolbarView&&e.libraries.folderToolbarView.$el.unbind("click"),e.libraries.folderToolbarView=new m.a.FolderToolbarView({id:t}),e.libraries.folderListView=new h.a.FolderListView({id:t})}),this.library_router.on("route:folder_page",function(t,n){null===e.libraries.folderToolbarView?(e.libraries.folderToolbarView=new m.a.FolderToolbarView({id:t}),e.libraries.folderListView=new h.a.FolderListView({id:t,show_page:n})):e.libraries.folderListView.render({id:t,show_page:parseInt(n)})}),this.library_router.on("route:download",function(t,n){0===r()("#folder_list_body").find(":checked").length?(u.a.info("You must select at least one dataset to download"),e.libraries.library_router.navigate("folders/".concat(t),{trigger:!0,replace:!0})):(e.libraries.folderToolbarView.download(n),e.libraries.library_router.navigate("folders/".concat(t),{trigger:!1,replace:!0}))}),this.library_router.on("route:dataset_detail",function(t,n){e.libraries.datasetView&&e.libraries.datasetView.$el.unbind("click"),e.libraries.datasetView=new g.a.LibraryDatasetView({id:n,show_version:!1,show_permissions:!1})}),this.library_router.on("route:dataset_version",function(t,n,i){e.libraries.datasetView&&e.libraries.datasetView.$el.unbind("click"),e.libraries.datasetView=new g.a.LibraryDatasetView({id:n,ldda_id:i,show_version:!0})}),this.library_router.on("route:dataset_permissions",function(t,n){e.libraries.datasetView&&e.libraries.datasetView.$el.unbind("click"),e.libraries.datasetView=new g.a.LibraryDatasetView({id:n,show_permissions:!0})}),this.library_router.on("route:library_permissions",function(t){e.libraries.libraryView&&e.libraries.libraryView.$el.unbind("click"),e.libraries.libraryView=new w.LibraryView({id:t,show_permissions:!0})}),this.library_router.on("route:folder_permissions",function(t){e.libraries.folderView&&e.libraries.folderView.$el.unbind("click"),e.libraries.folderView=new k.a.FolderView({id:t,show_permissions:!0})}),this.library_router.on("route:import_datasets",function(t,n){e.libraries.folderToolbarView&&e.libraries.folderListView?e.libraries.folderToolbarView.showImportModal({source:n}):(e.libraries.folderToolbarView=new m.a.FolderToolbarView({id:t}),e.libraries.folderListView=new h.a.FolderListView({id:t}),e.libraries.folderToolbarView.showImportModal({source:n}))}),a.a.history.start({pushState:!1})}});t.a={GalaxyApp:C}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t){e.exports=!1},function(e,t,n){var i=n(523),r=n(480);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){var i=n(91),r=Math.max,o=Math.min;e.exports=function(e,t){return(e=i(e))<0?r(e+t,0):o(e,t)}},function(e,t,n){var i=n(29),r=n(524),o=n(480),a=n(479)("IE_PROTO"),s=function(){},l=function(){var e,t=n(476)("iframe"),i=o.length;for(t.style.display="none",n(482).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;i--;)delete l.prototype[o[i]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=i(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:r(n,t)}},function(e,t,n){var i=n(523),r=n(480).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){var i=n(60),r=n(63),o=n(479)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},,function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(4),a=(n(72),["new","queued","running"]),s=["error","deleted"],l=r.a.Model.extend({url:function(){return"".concat(Object(o.a)(),"api/histories/").concat(this.attributes.history_id,"/contents/dataset_collections/").concat(this.attributes.collection_id,"/jobs_summary")},hasDetails:function(){return this.has("populated_state")},new:function(){return!this.hasDetails()||"new"==this.get("populated_state")},errored:function(){return"error"===this.get("populated_state")||this.anyWithStates(s)},states:function(){return this.get("states")||{}},anyWithState:function(e){return(this.states()[e]||0)>0},anyWithStates:function(e){var t=this.states();for(var n in e)if((t[e[n]]||0)>0)return!0;return!1},numWithStates:function(e){var t=this.states(),n=0;for(var i in e)n+=t[e[i]]||0;return n},numInError:function(){return this.numWithStates(s)},running:function(){return this.anyWithState("running")},terminal:function(){return!this.new()&&!this.anyWithStates(a)},jobCount:function(){var e=this.states(),t=0;for(var n in e)t+=e[n];return t},toString:function(){return"JobStatesSummary(id=".concat(this.get("id"),")")}}),c=r.a.Collection.extend({model:l,initialize:function(){var e=this;this.on({add:function(t){e.active||t.fetch()}}),this.updateTimeoutId=null,this.active=!0},url:function(){var e=this.models.filter(function(e){return!e.terminal()}),t=e.map(function(e){return e.get("id")}).join(","),n=e.map(function(e){return e.get("model")}).join(",");return"".concat(Object(o.a)(),"api/histories/").concat(this.historyId,"/jobs_summary?ids=").concat(t,"&types=").concat(n)},monitor:function(){var e=this;if(this.clearUpdateTimeout(),this.active){var t=function(){e.updateTimeoutId=setTimeout(function(){e.monitor()},2e3)},n=this.models.filter(function(e){return!e.terminal()});n.length,n.length>0?this.fetch({remove:!1}).done(t):t()}},clearUpdateTimeout:function(){this.updateTimeoutId&&(clearTimeout(this.updateTimeoutId),this.updateTimeoutId=null)},toString:function(){return"JobStatesSummaryCollection()"}});t.a={JobStatesSummary:l,JobStatesSummaryCollection:c,FETCH_STATE_ON_ADD:!1,NON_TERMINAL_STATES:a,ERROR_STATES:s}},function(e,t,n){"use strict";var i=n(0),r=n.n(i).a;t.a=function(e,t,n,i,o,a,s,l,c){void 0===o&&(o=30),void 0===s&&(s=4),r("#".concat(e)).off().click(function(){if(!(r("#renaming-active").length>0)){var e,u=r("#".concat(t)),d=u.text();(e=a?r("<textarea></textarea>").attr({rows:s,cols:o}).text(r.trim(d)):r("<input type='text'></input>").attr({value:r.trim(d),size:o})).attr("id","renaming-active"),e.blur(function(){r(this).remove(),u.show(),c&&c(e)}),e.keyup(function(o){if(27===o.keyCode)r(this).trigger("blur");else if(13===o.keyCode){var a={};a[i]=r(this).val(),r(this).trigger("blur"),r.ajax({url:n,data:a,error:function(){alert("Text editing for elt ".concat(t," failed"))},success:function(t){""!==t?u.text(t):u.html("<em>None</em>"),c&&c(e)}})}}),l&&l(e),u.hide(),e.insertAfter(u),e.focus(),e.select()}})}},function(e,t,n){"use strict";(function(e){var i=n(0),r=n.n(i),o=n(2),a=n.n(o),s=n(5),l=n(50),c=n(37),u=n(68),d=n(592),h=n(350),f=n(459),p=n(53),m=n(454),g=n(455),_=n(41),v=n(8),y=n(1),b=n.n(y),w=(n(381),l.a.HistoryView),k=w.extend({HDAViewClass:u.a.HDAListItemEdit,HDCAViewClass:d.a.HDCAListItemEdit,initialize:function(e){e=e||{},w.prototype.initialize.call(this,e),this.tagsEditor=null,this.dragItems=!0,this.annotationEditor=null,this.purgeAllowed=e.purgeAllowed||!1,this.annotationEditorShown=e.annotationEditorShown||!1,this.tagsEditorShown=e.tagsEditorShown||!1},_setUpListeners:function(){return w.prototype._setUpListeners.call(this),this.on({"droptarget:drop":function(e,t){this.dataDropped(t),this.dropTargetOff()},"view:attached view:removed":function(){this._renderCounts()},"search:loading-progress":this._renderSearchProgress,"search:searching":this._renderSearchFindings})},_setUpModelListeners:function(){return w.prototype._setUpModelListeners.call(this),this.listenTo(this.model,"change:size",this.updateHistoryDiskSize),this},_setUpCollectionListeners:function(){return w.prototype._setUpCollectionListeners.call(this),this.listenTo(this.collection,{"change:deleted":this._handleItemDeletedChange,"change:visible":this._handleItemVisibleChange,"change:purged":function(e){this.model.fetch()},"fetching-deleted":function(e){this.$("> .controls .deleted-count").html("<i>".concat(b()("loading..."),"</i>"))},"fetching-hidden":function(e){this.$("> .controls .hidden-count").html("<i>".concat(b()("loading..."),"</i>"))},"fetching-deleted-done fetching-hidden-done":this._renderCounts}),this},_buildNewRender:function(){var e=Object(s.getGalaxyInstance)(),t=w.prototype._buildNewRender.call(this);return this.model?(e&&e.user&&e.user.id&&e.user.id===this.model.get("user_id")&&(this._renderTags(t),this._renderAnnotation(t)),t):t},updateHistoryDiskSize:function(){this.$(".history-size").text(this.model.get("nice_size"))},renderItems:function(e){var t=w.prototype.renderItems.call(this,e);return this.searchFor?this._renderSearchFindings(e):this._renderCounts(e),t},_renderCounts:function(t){t=t instanceof e?t:this.$el;var n=this.templates.counts(this.model.toJSON(),this);return t.find("> .controls .subtitle").html(n)},_renderTags:function(e){var t=this;this.tagsEditor=new h.a.TagsEditor({model:this.model,el:e.find(".controls .tags-display"),onshowFirstTime:function(){this.render()},onshow:function(){t.toggleHDATagEditors(!0,t.fxSpeed)},onhide:function(){t.toggleHDATagEditors(!1,t.fxSpeed)},$activator:Object(_.a)({title:b()("Edit history tags"),classes:"history-tag-btn",faIcon:"fa-tags",tooltipConfig:{placement:"top"}}).appendTo(e.find(".controls .actions"))})},_renderAnnotation:function(e){var t=this;this.annotationEditor=new f.a.AnnotationEditor({model:this.model,el:e.find(".controls .annotation-display"),onshowFirstTime:function(){this.render()},onshow:function(){t.toggleHDAAnnotationEditors(!0,t.fxSpeed)},onhide:function(){t.toggleHDAAnnotationEditors(!1,t.fxSpeed)},$activator:Object(_.a)({title:b()("Edit history annotation"),classes:"history-annotate-btn",faIcon:"fa-comment",tooltipConfig:{placement:"top"}}).appendTo(e.find(".controls .actions"))})},_setUpBehaviors:function(e){var t=Object(s.getGalaxyInstance)();if(e=e||this.$el,w.prototype._setUpBehaviors.call(this,e),this.model&&t.user&&!t.user.isAnonymous()&&t.user.id===this.model.get("user_id")){var n=this;e.find("> .controls .name").attr("title",b()("Click to rename history")).tooltip({placement:"bottom"}).make_text_editable({on_finish:function(e){var t=n.model.get("name");e&&e!==t?(n.$el.find("> .controls .name").text(e),n.model.save({name:e}).fail(function(){n.$el.find("> .controls .name").text(n.model.previous("name"))})):n.$el.find("> .controls .name").text(t)}})}},multiselectActions:function(){var e=this,t=[{html:b()("Hide datasets"),func:function(){var t=c.a.HistoryDatasetAssociation.prototype.hide;e.getSelectedModels().ajaxQueue(t)}},{html:b()("Unhide datasets"),func:function(){var t=c.a.HistoryDatasetAssociation.prototype.unhide;e.getSelectedModels().ajaxQueue(t)}},{html:b()("Delete datasets"),func:function(){var t=c.a.HistoryDatasetAssociation.prototype.delete;e.getSelectedModels().ajaxQueue(t)}},{html:b()("Undelete datasets"),func:function(){var t=c.a.HistoryDatasetAssociation.prototype.undelete;e.getSelectedModels().ajaxQueue(t)}}];return e.purgeAllowed&&t.push({html:b()("Permanently delete datasets"),func:function(){if(window.confirm(b()("This will permanently remove the data in your datasets. Are you sure?"))){var t=c.a.HistoryDatasetAssociation.prototype.purge,n=e.getSelectedModels(),i=n.filter(function(e){return"dataset"==e.get("history_content_type")});n.ajaxQueue(t,{},i)}}}),t=t.concat(e._collectionActions())},_collectionActions:function(){var e=this;return[{html:b()("Build Dataset List"),func:function(){return e.buildCollection("list")}},{html:b()("Build Dataset Pair"),func:function(){return e.buildCollection("paired")}},{html:b()("Build List of Dataset Pairs"),func:function(){return e.buildCollection("list:paired")}},{html:b()("Build Collection from Rules"),func:function(){return e.buildCollection("rules")}}]},buildCollection:function(e,t,n){var i,r=this;t=t||r.getSelectedModels(),n=n||!1,"list"==e?i=p.a.createListCollection:"paired"==e?i=m.a.createPairCollection:"list:paired"==e?i=g.a.createListOfPairsCollection:e.startsWith("rules")?i=p.a.createCollectionViaRules:console.warn("Unknown collectionType encountered ".concat(e)),i(t,n).done(function(){r.model.refresh()})},_getItemViewOptions:function(e){var t=w.prototype._getItemViewOptions.call(this,e);return a.a.extend(t,{purgeAllowed:this.purgeAllowed,tagsEditorShown:this.tagsEditor&&!this.tagsEditor.hidden,annotationEditorShown:this.annotationEditor&&!this.annotationEditor.hidden}),t},_handleItemDeletedChange:function(e){e.get("deleted")?this._handleItemDeletion(e):this._handleItemUndeletion(e),this._renderCounts()},_handleItemDeletion:function(e){var t=this.model.get("contents_active");t.deleted+=1,t.active-=1,this.model.contents.includeDeleted||this.removeItemView(e),this.model.set("contents_active",t)},_handleItemUndeletion:function(e){var t=this.model.get("contents_active");t.deleted-=1,this.model.contents.includeDeleted||(t.active-=1),this.model.set("contents_active",t)},_handleItemVisibleChange:function(e){e.hidden()?this._handleItemHidden(e):this._handleItemUnhidden(e),this._renderCounts()},_handleItemHidden:function(e){var t=this.model.get("contents_active");t.hidden+=1,t.active-=1,this.model.contents.includeHidden||this.removeItemView(e),this.model.set("contents_active",t)},_handleItemUnhidden:function(e){var t=this.model.get("contents_active");t.hidden-=1,this.model.contents.includeHidden||(t.active-=1),this.model.set("contents_active",t)},toggleHDATagEditors:function(e,t){a.a.each(this.views,function(n){n.tagsEditor&&n.tagsEditor.toggle(e,t)})},toggleHDAAnnotationEditors:function(e,t){a.a.each(this.views,function(n){n.annotationEditor&&n.annotationEditor.toggle(e,t)})},events:a.a.extend(a.a.clone(w.prototype.events),{"click .show-selectors-btn":"toggleSelectors","click .toggle-deleted-link":function(e){this.toggleShowDeleted()},"click .toggle-hidden-link":function(e){this.toggleShowHidden()}}),_renderSearchProgress:function(e,t){var n=e+t;return this.$("> .controls .subtitle").html(["<i>",b()("Searching "),n,"/",this.model.contentsShown(),"</i>"].join(""))},_renderSearchFindings:function(t){t=t instanceof e?t:this.$el;var n=this.templates.found(this.model.toJSON(),this);return t.find("> .controls .subtitle").html(n),this},dropTargetOn:function(){if(this.dropTarget)return this;this.dropTarget=!0;var e={dragenter:a.a.bind(this.dragenter,this),dragover:a.a.bind(this.dragover,this),dragleave:a.a.bind(this.dragleave,this),drop:a.a.bind(this.drop,this)},t=this._renderDropTarget();for(var n in this.$list().before([this._renderDropTargetHelp(),t]),e)e.hasOwnProperty(n)&&t.get(0).addEventListener(n,e[n]);return this},_renderDropTarget:function(){return this.$(".history-drop-target").remove(),r()("<div/>").addClass("history-drop-target")},_renderDropTargetHelp:function(){return this.$(".history-drop-target-help").remove(),r()("<div/>").addClass("history-drop-target-help").text(b()("Drag datasets here to copy them to the current history"))},dropTargetOff:function(){if(!this.dropTarget)return this;this.dropTarget=!1;var e=this.$(".history-drop-target").get(0);for(var t in this._dropHandlers)this._dropHandlers.hasOwnProperty(t)&&e.off(t,this._dropHandlers[t]);return this.$(".history-drop-target").remove(),this.$(".history-drop-target-help").remove(),this},dropTargetToggle:function(){return this.dropTarget?this.dropTargetOff():this.dropTargetOn(),this},dragenter:function(e){e.preventDefault(),e.stopPropagation(),this.$(".history-drop-target").css("border","2px solid black")},dragover:function(e){e.preventDefault(),e.stopPropagation()},dragleave:function(e){e.preventDefault(),e.stopPropagation(),this.$(".history-drop-target").css("border","1px dashed black")},drop:function(e){e.preventDefault();var t=e.dataTransfer,n=t.getData("text");t.dropEffect="move";try{n=JSON.parse(n)}catch(e){this.warn("error parsing JSON from drop:",n)}return this.trigger("droptarget:drop",e,n,this),!1},dataDropped:function(t){var n=this;return a.a.isObject(t)&&"HistoryDatasetAssociation"===t.model_class&&t.id?0!==this.contents.currentPage?this.contents.fetchPage(0).then(function(){return n.model.contents.copy(t.id)}):this.model.contents.copy(t.id):e.when()},toString:function(){return"HistoryViewEdit(".concat(this.model?this.model.get("name"):"",")")}});k.prototype.templates=function(){var e=v.a.wrapTemplate(["<% var shown = Math.max( view.views.length, history.contents_active.active ) %>","<% if( shown ){ %>",'<span class="shown-count">',"<%- shown %> ",b()("shown"),"</span>","<% } %>","<% if( history.contents_active.deleted ){ %>",'<span class="deleted-count">',"<% if( view.model.contents.includeDeleted ){ %>",'<a class="toggle-deleted-link" href="javascript:void(0);">',b()("hide deleted"),"</a>","<% } else { %>","<%- history.contents_active.deleted %> ",'<a class="toggle-deleted-link" href="javascript:void(0);">',b()("deleted"),"</a>","<% } %>","</span>","<% } %>","<% if( history.contents_active.hidden ){ %>",'<span class="hidden-count">',"<% if( view.model.contents.includeHidden ){ %>",'<a class="toggle-hidden-link" href="javascript:void(0);">',b()("hide hidden"),"</a>","<% } else { %>","<%- history.contents_active.hidden %> ",'<a class="toggle-hidden-link" href="javascript:void(0);">',b()("hidden"),"</a>","<% } %>","</span>","<% } %>"],"history"),t=v.a.wrapTemplate([b()("Found")," <%- view.views.length %>, ","<% if( history.contents_active.deleted ){ %>","<% if( view.model.contents.includeDeleted ){ %>",'<a class="toggle-deleted-link" href="javascript:void(0);">',b()("hide deleted"),"</a>, ","<% } else { %>",'<a class="toggle-deleted-link" href="javascript:void(0);">',b()("show deleted"),"</a>, ","<% } %>","<% } %>","<% if( history.contents_active.hidden ){ %>","<% if( view.model.contents.includeHidden ){ %>",'<a class="toggle-hidden-link" href="javascript:void(0);">',b()("hide hidden"),"</a>","<% } else { %>",'<a class="toggle-hidden-link" href="javascript:void(0);">',b()("show hidden"),"</a>","<% } %>","<% } %>"],"history");return a.a.extend(a.a.clone(w.prototype.templates),{counts:e,found:t})}(),t.a={HistoryViewEdit:k}}).call(this,n(0))},function(e,t,n){"use strict";(function(e,i,r){var o=n(54),a=n(404);window.workflow_globals=window.workflow_globals||{};var s=e.View.extend({tagName:"div",className:"fa-icon-button fa fa-folder-o",initialize:function(e){this.$el.tooltip({delay:500,title:"Run tool in parallel over collection"}),this.model.bind("change",i.bind(this.render,this))},render:function(){this.model.mapOver.isCollection?this.$el.show():this.$el.hide()}}),l=s.extend({events:{click:"onClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},onMouseEnter:function(e){var t=this.model;!t.terminal.connected()&&t.mapOver.isCollection&&this.$el.css("color","red")},onMouseLeave:function(e){this.$el.css("color","black")},onClick:function(e){var t=this.model;!t.terminal.connected()&&t.mapOver.isCollection&&t.terminal.resetMapping()}}),c=e.View.extend({setupMappingView:function(e){var t=new this.terminalMappingClass({terminal:e}),n=new this.terminalMappingViewClass({model:t});n.render(),e.terminalMappingView=n,this.terminalMappingView=n},terminalElements:function(){return this.terminalMappingView?[this.terminalMappingView.el,this.el]:[this.el]}}),u=c.extend({className:"terminal input-terminal",initialize:function(e){var t=e.node,n=e.input,i=n.name,o="node-".concat(t.cid,"-input-").concat(i),a=this.terminalForInput(n);a.multiple||this.setupMappingView(a),this.el.terminal=a,this.$el.attr("input-name",i),this.$el.attr("id",o),this.$el.append(r("<icon/>")),this.id=o,a.node=t,a.name=i,a.label=n.label,t.input_terminals[i]=a},events:{dropinit:"onDropInit",dropstart:"onDropStart",dropend:"onDropEnd",drop:"onDrop",hover:"onHover"},onDropInit:function(e,t){var n=this.el.terminal;return r(t.drag).hasClass("output-terminal")&&n.canAccept(t.drag.terminal)},onDropStart:function(e,t){t.proxy.terminal&&(t.proxy.terminal.connectors[0].inner_color="#BBFFBB")},onDropEnd:function(e,t){t.proxy.terminal&&(t.proxy.terminal.connectors[0].inner_color="#FFFFFF")},onDrop:function(e,t){var n=this.el.terminal;new a.a(t.drag.terminal,n).redraw()},onHover:function(){var e=this.el,t=e.terminal;if(t.connectors.length>0){var n=r("<div/>").addClass("delete-terminal").click(function(){r.each(t.connectors,function(e,t){t&&t.destroy()}),n.remove()}).on("mouseleave",function(){n.remove()});r(e).parent().append(n)}}}),d=u.extend({terminalMappingClass:o.a.TerminalMapping,terminalMappingViewClass:l,terminalForInput:function(e){return new o.a.InputTerminal({element:this.el,input:e})}}),h=u.extend({terminalMappingClass:o.a.TerminalMapping,terminalMappingViewClass:l,terminalForInput:function(e){return new o.a.InputParameterTerminal({element:this.el,input:e})}}),f=u.extend({terminalMappingClass:o.a.TerminalMapping,terminalMappingViewClass:l,terminalForInput:function(e){return new o.a.InputCollectionTerminal({element:this.el,input:e})}}),p=c.extend({className:"terminal output-terminal",initialize:function(e){var t=e.node,n=e.output,i=n.name,o="node-".concat(t.cid,"-output-").concat(i),a=this.terminalForOutput(n);this.setupMappingView(a),this.el.terminal=a,this.$el.attr("output-name",i),this.$el.attr("id",o),this.$el.append(r("<icon/>")),a.node=t,a.name=i,a.label=n.label,t.output_terminals[i]=a},events:{drag:"onDrag",dragstart:"onDragStart",dragend:"onDragEnd"},onDrag:function(e,t){var n=function(){var e=window.workflow_globals.canvas_manager.canvasZoom,n=r(t.proxy).offsetParent().offset(),i=t.offsetX-n.left,o=t.offsetY-n.top;r(t.proxy).css({left:i/e,top:o/e}),t.proxy.terminal.redraw(),window.workflow_globals.canvas_manager.update_viewport_overlay()};n(),r("#canvas-container").get(0).scroll_panel.test(e,n)},onDragStart:function(e,t){r(t.available).addClass("input-terminal-active"),window.workflow_globals.workflow.check_changes_in_active_form();var n=r("<div class='drag-terminal'/>").appendTo("#canvas-container").get(0);n.terminal=new o.a.OutputTerminal({element:n});var i=new a.a;return i.dragging=!0,i.connect(this.el.terminal,n.terminal),n},onDragEnd:function(e,t){var n=t.proxy.terminal.connectors[0];n&&n.destroy(),r(t.proxy).remove(),r(t.available).removeClass("input-terminal-active"),r("#canvas-container").get(0).scroll_panel.stop()}}),m=p.extend({terminalMappingClass:o.a.TerminalMapping,terminalMappingViewClass:s,terminalForOutput:function(e){var t=e.extensions;return new o.a.OutputTerminal({element:this.el,datatypes:t})}}),g=p.extend({terminalMappingClass:o.a.TerminalMapping,terminalMappingViewClass:s,terminalForOutput:function(e){var t=e.collection_type,n=e.collection_type_source;return new o.a.OutputCollectionTerminal({element:this.el,collection_type:t,collection_type_source:n,datatypes:e.extensions})}}),_=p.extend({terminalMappingClass:o.a.TerminalMapping,terminalMappingViewClass:s,terminalForOutput:function(e){e.collection_type,e.collection_type_source;return new o.a.OutputCollectionTerminal({element:this.el,type:e.type})}});t.a={InputTerminalView:d,InputParameterTerminalView:h,OutputTerminalView:m,OutputParameterTerminalView:_,InputCollectionTerminalView:f,OutputCollectionTerminalView:g}}).call(this,n(3),n(2),n(0))},function(e,t,n){"use strict";(function(e){var i=n(6),r=n(2);t.a={grid:function(e){var t;return t=e.embedded?this.grid_header(e)+this.grid_table(e):'\n                <div class="loading-elt-overlay"></div>\n                <table class="grid-table">\n                    <tr>\n                        <td width="75%">'.concat(this.grid_header(e),'</td>\n                        <td></td>\n                        <td></td>\n                    </tr>\n                    <tr>\n                        <td width="100%" id="grid-message" valign="top"></td>\n                        <td></td>\n                        <td></td>\n                    </tr>\n                </table>\n                ').concat(this.grid_table(e),"\n            "),e.info_text&&(t+='<br><div class="toolParamHelp" style="clear: both;">'.concat(e.info_text,"</div>")),t},grid_table:function(){return'\n            <form method="post" onsubmit="return false;">\n                <table id="grid-table" class="grid">\n                    <thead id="grid-table-header"></thead>\n                    <tbody id="grid-table-body"></tbody>\n                    <tfoot id="grid-table-footer"></tfoot>\n                </table>\n            </form>'},grid_header:function(e){var t='<div class="grid-header">';if(!e.embedded){var n="";e.title_id&&(n+=' id="'.concat(e.title_id,'"')),t+="<h2".concat(n,">").concat(e.title,"</h2>")}if(e.global_actions){t+='<ul class="manage-table-actions">';var i=e.global_actions.length>=3;i&&(t+='<li><a class="action-button" id="popup-global-actions" class="menubutton">Actions</a></li><div popupmenu="popup-global-actions">');var r=!0,o=!1,a=void 0;try{for(var s,l=e.global_actions[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;t+='<li><a class="action-button use-target" target="'.concat(c.target,'" href="').concat(c.url_args,'" onclick="return false;" >').concat(c.label,"</a></li>")}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}i&&(t+="</div>"),t+="</ul>"}return e.insert&&(t+=e.insert),t+=this.grid_filters(e),t+="</div>"},header:function(e){var t="<tr>";e.show_item_checkboxes&&(t+="<th>",e.items.length>0&&(t+='<input type="checkbox" id="check_all" name=select_all_checkbox value="true"><input type="hidden" name=select_all_checkbox value="true">'),t+="</th>");var n=!0,i=!1,r=void 0;try{for(var o,a=e.columns[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.visible&&(t+='<th id="'.concat(s.key,'-header">'),s.sortable?t+='<a href="javascript:void(0)" class="sort-link" sort_key="'.concat(s.key,'">').concat(s.label,"</a>"):t+=s.label,t+='<span class="sort-arrow">'.concat(s.extra,"</span></th>"))}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return t+="</tr>"},body:function(t){var n="";0===t.items.length&&(n+='<tr><td colspan="100"><em>No Items</em></td></tr>');var i=!0,r=!1,o=void 0;try{for(var a,s=t.items[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n+="<tr ",t.current_item_id==l.id&&(n+='class="current"'),n+=">",t.show_item_checkboxes&&(n+='<td style="width: 1.5em;"><input type="checkbox" name="id" value="'.concat(l.encode_id,'" id="').concat(l.encode_id,'" class="grid-row-select-checkbox" /></td>'));var c=!0,u=!1,d=void 0;try{for(var h,f=t.columns[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var p=h.value;if(p.visible){var m="";p.nowrap&&(m='style="white-space:nowrap;"');var g=l.column_config[p.label],_=g.link,v=g.value,y=g.target;"string"===e.type(v)&&(v=v.replace(/\/\//g,"/"));var b="";p.attach_popup&&(b="grid-".concat(l.encode_id,"-popup")),n+="<td ".concat(m,">"),p.delayed?n+='<div class="delayed-value-'.concat(p.key,'" data-id="').concat(l.encode_id,'" data-value="').concat(v,'"><span class="fa fa-spinner fa-spin"></span></div>'):p.attach_popup&&_?n+='<div class="btn-group">\n                                    <button class="btn btn-secondary use-target" target="'.concat(y,'" href="').concat(_,'" onclick="return false;">').concat(v,'</button>\n                                    <button id="').concat(b,'" class="btn btn-secondary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown"/>\n                                </div>'):p.attach_popup?n+='<button id="'.concat(b,'" class="btn dropdown-toggle" data-toggle="dropdown">').concat(v,"</button>"):n+=_?'<a class="use-target" target="'.concat(y,'" href="').concat(_,'" onclick="return false;">').concat(v,"</a>"):"<label>".concat(v||"","</label>"),n+="</td>"}}}catch(e){u=!0,d=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw d}}n+="</tr>"}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n},footer:function(e){var t="";if(e.use_paging&&e.num_pages>1){var n=e.num_page_links,i=e.cur_page_num,r=e.num_pages,o=n/2,a=i-o,s=0;a<=0&&(s=o-(i-(a=1)));var l,c=o+s,u=i+c;0!==(l=u<=r?0:c-((u=r)+1-i))&&(a-=l)<1&&(a=1),t+='<tr id="page-links-row">',e.show_item_checkboxes&&(t+="<td></td>"),t+='<td colspan="100"><span id="page-link-container">Page:',a>1&&(t+='<span class="page-link-grid" id="page-link-1"><a href="javascript:void(0);" page_num="1" onclick="return false;">1</a></span> ...');for(var d=a;d<u+1;d++)d==e.cur_page_num?t+='<span class="page-link-grid inactive-link" id="page-link-'.concat(d,'">').concat(d,"</span>"):t+='<span class="page-link-grid" id="page-link-'.concat(d,'"><a href="javascript:void(0);" onclick="return false;" page_num="').concat(d,'">').concat(d,"</a></span>");u<r&&(t+='...<span class="page-link-grid" id="page-link-'.concat(r,'"><a href="javascript:void(0);" onclick="return false;" page_num="').concat(r,'">').concat(r,"</a></span>")),t+="</span>",t+='\n                    <span class="page-link-grid" id="show-all-link-span"> | <a href="javascript:void(0);" onclick="return false;" page_num="all">Show All</a></span>\n                    </td>\n                </tr>'}if(e.show_item_checkboxes){t+='\n                <tr>\n                    <input type="hidden" id="operation" name="operation" value="">\n                    <td></td>\n                    <td colspan="100">\n                        For <span class="grid-selected-count"></span> selected items: \n            ';var h=!0,f=!1,p=void 0;try{for(var m,g=e.operations[Symbol.iterator]();!(h=(m=g.next()).done);h=!0){var _=m.value;_.allow_multiple&&(t+='<input type="button" value="'.concat(_.label,'" class="operation-button action-button">&nbsp;'))}}catch(e){f=!0,p=e}finally{try{h||null==g.return||g.return()}finally{if(f)throw p}}t+="</td></tr>"}var v=!1,y=!0,b=!1,w=void 0;try{for(var k,M=e.operations[Symbol.iterator]();!(y=(k=M.next()).done);y=!0){if(k.value.global_operation){v=!0;break}}}catch(e){b=!0,w=e}finally{try{y||null==M.return||M.return()}finally{if(b)throw w}}if(v){t+='<tr><td colspan="100">';var x=!0,C=!1,S=void 0;try{for(var T,L=e.operations[Symbol.iterator]();!(x=(T=L.next()).done);x=!0){var E=T.value;E.global_operation&&(t+='<a class="action-button" href="'.concat(E.global_operation,'">').concat(E.label,"</a>"))}}catch(e){C=!0,S=e}finally{try{x||null==L.return||L.return()}finally{if(C)throw S}}t+="</td></tr>"}return e.legend&&(t+='<tr><td colspan="100">'.concat(e.legend,"</td></tr>")),t},message:function(e){var t=e.status;return-1!=["success","ok"].indexOf(t)&&(t="done"),'<p><div class="'.concat(t,'message transient-message">').concat(r.escape(e.message),'</div><div style="clear: both"></div></p>')},grid_filters:function(e){var t=e.default_filter_dict,n=e.filters,i="none";e.advanced_search&&(i="block");var r=!1,o=!0,a=!1,s=void 0;try{for(var l,c=e.columns[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;if("advanced"==u.filterable){var d=u.key,h=n[d],f=t[d];h&&f&&h!=f&&(i="block"),r=!0}}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}var p="block";"block"==i&&(p="none");var m='<div id="standard-search" style="display: '.concat(p,';"><table><tr><td style="padding: 0;"><table>'),g=!0,_=!1,v=void 0;try{for(var y,b=e.columns[Symbol.iterator]();!(g=(y=b.next()).done);g=!0){var w=y.value;"standard"==w.filterable&&(m+=this.grid_column_filter(e,w))}}catch(e){_=!0,v=e}finally{try{g||null==b.return||b.return()}finally{if(_)throw v}}m+="</table></td></tr><tr><td>",r&&(m+='<a href="" class="advanced-search-toggle">Advanced Search</a>'),m+="</td></tr></table></div>",m+='<div id="advanced-search" style="display: '.concat(i,'; margin-top: 5px; border: 1px solid #ccc;"><table><tr><td style="text-align: left" colspan="100"><a href="" class="advanced-search-toggle">Close Advanced Search</a></td></tr>');var k=!0,M=!1,x=void 0;try{for(var C,S=e.columns[Symbol.iterator]();!(k=(C=S.next()).done);k=!0){var T=C.value;"advanced"==T.filterable&&(m+=this.grid_column_filter(e,T))}}catch(e){M=!0,x=e}finally{try{k||null==S.return||S.return()}finally{if(M)throw x}}return m+="</table></div>"},grid_column_filter:function(t,n){var i=t.filters,r=n.label,o=n.key;"advanced"==n.filterable&&(r=r.toLowerCase());var a="<tr>";if("advanced"==n.filterable&&(a+='<td align="left" style="padding-left: 10px">'.concat(r,":</td>")),a+='<td style="padding-bottom: 1px;">',n.is_text){a+='<form class="text-filter-form" column_key="'.concat(o,'" action="').concat(t.url,'" method="get" >');var s=!0,l=!1,c=void 0;try{for(var u,d=t.columns[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var h=u.value,f=i[h.key];f&&"All"!=f&&(h.is_text&&(f=JSON.stringify(f)),a+='<input type="hidden" id="'.concat(h.key,'" name="f-').concat(h.key,'" value="').concat(f,'"/>'))}}catch(e){l=!0,c=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}a+='<span id="'.concat(o,'-filtering-criteria">');var p=i[o];if(p){var m=e.type(p);if("string"==m&&"All"!=p&&(a+=this.filter_element(o,p)),"array"==m)for(var g in p){p.slice(g),a+=this.filter_element(o,p[g])}}a+="</span>";var _="",v=20;"standard"==n.filterable&&((_=n.label.toLowerCase()).length<20&&(v=_.length),v+=4),a+='\n                <span class="search-box">\n                    <input class="search-box-input" id="input-'.concat(o,'-filter" name="f-').concat(o,'" type="text" placeholder="').concat(_,'" size="').concat(v,'"/>\n                    <button type="submit" style="background: transparent; border: none; padding: 4px; margin: 0px;">\n                        <i class="fa fa-search"></i>\n                    </button>\n                </span>\n            </form>')}else{a+='<span id="'.concat(o,'-filtering-criteria">');var y=!1;for(var b in t.categorical_filters[o]){var w=t.categorical_filters[o][b],k="",M="";for(var x in w)k=x,M=w[x];y&&(a+=" | "),y=!0;var C=i[o];C&&w[o]&&C==M?a+='<span class="categorical-filter '.concat(o,'-filter current-filter">').concat(b,"</span>"):a+='<span class="categorical-filter '.concat(o,'-filter"><a href="javascript:void(0);" filter_key="').concat(k,'" filter_val="').concat(M,'">').concat(b,"</a></span>")}a+="</span>"}return a+="</td></tr>"},filter_element:function(e,t){return t=i.a.sanitize(t),'<span class="text-filter-val">'.concat(t,'<a href="javascript:void(0);" filter_key="').concat(e,'" filter_val="').concat(t,'"><i class="fa fa-times" style="padding-left: 5px; padding-bottom: 6px;"/></a></span>')}}}).call(this,n(0))},function(e,t,n){"use strict";(function(e,i){var r=n(6);t.a={grid:function(e){var t="";return t=e.embedded?this.grid_header(e)+this.grid_table(e):'<div class="loading-elt-overlay"></div><table><tr><td width="75%">'.concat(this.grid_header(e),'</td><td></td><td></td></tr><tr><td width="100%" id="grid-message" valign="top"></td><td></td><td></td></tr></table>').concat(this.grid_table(e)),e.info_text&&(t+='<br><div class="toolParamHelp" style="clear: both;">'.concat(e.info_text,"</div>")),t},grid_table:function(){return'\n            <form method="post" onsubmit="return false;">\n                <table id="grid-table" class="grid">\n                    <thead id="grid-table-header"></thead>\n                    <tbody id="grid-table-body"></tbody>\n                    <tfoot id="grid-table-footer"></tfoot>\n                </table>\n            </form>'},grid_header:function(e){var t='<div class="grid-header">';if(e.embedded||(t+="<h2>".concat(e.title,"</h2>")),e.global_actions){t+='<ul class="manage-table-actions">';var n=e.global_actions.length>=3;n&&(t+='<li><a class="action-button" id="popup-global-actions" class="menubutton">Actions</a></li><div popupmenu="popup-global-actions">');var i=!0,r=!1,o=void 0;try{for(var a,s=e.global_actions[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;t+='<li><a class="action-button use-target" target="'.concat(l.target,'" href="').concat(l.url_args,'" onclick="return false;" >').concat(l.label,"</a></li>")}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}n&&(t+="</div>"),t+="</ul>"}return e.insert&&(t+=e.insert),t+=this.grid_filters(e),t+="</div>"},header:function(e){var t="<tr>";e.show_item_checkboxes&&(t+="<th>",e.items.length>0&&(t+='<input type="checkbox" id="check_all" name=select_all_checkbox value="true"><input type="hidden" name=select_all_checkbox value="true">'),t+="</th>");var n=!0,i=!1,r=void 0;try{for(var o,a=e.columns[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.visible&&(t+='<th id="'.concat(s.key,'-header">'),s.href?t+='<a href="'.concat(s.href,'" class="sort-link" sort_key="').concat(s.key,'">').concat(s.label,"</a>"):t+=s.label,t+='<span class="sort-arrow">'.concat(s.extra,"</span></th>"))}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return t+="</tr>"},body:function(t){var n="";0===t.items.length&&(n+='<tr><td colspan="100"><em>No Items</em></td></tr>');var i=!0,r=!1,o=void 0;try{for(var a,s=t.items[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n+="<tr ",t.current_item_id==l.id&&(n+='class="current"'),n+=">",t.show_item_checkboxes&&(n+='<td style="width: 1.5em;"><input type="checkbox" name="id" value="'.concat(l.encode_id,'" id="').concat(l.encode_id,'" class="grid-row-select-checkbox" /></td>'));var c=!0,u=!1,d=void 0;try{for(var h,f=t.columns[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var p=h.value;if(p.visible){var m="";p.nowrap&&(m='style="white-space:nowrap;"');var g=l.column_config[p.label],_=g.link,v=g.value,y=g.target;"string"===e.type(v)&&(v=v.replace(/\/\//g,"/"));var b="",w="";p.attach_popup&&(b="grid-".concat(l.encode_id,"-popup"),w="menubutton",""!==_&&(w+=" split"),w+=" popup"),n+="<td ".concat(m,">"),_?(0!==t.operations.length&&(n+='<div id="'.concat(b,'" class="').concat(w,'" style="float: left;">')),n+='<a class="menubutton-label use-target" target="'.concat(y,'" href="').concat(_,'" onclick="return false;">').concat(v,"</a>"),0!==t.operations.length&&(n+="</div>")):n+='<div id="'.concat(b,'" class="').concat(w,'"><label id="').concat(p.label_id_prefix).concat(l.encode_id,'" for="').concat(l.encode_id,'">').concat(v||"","</label></div>"),n+="</td>"}}}catch(e){u=!0,d=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw d}}n+="</tr>"}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n},footer:function(e){var t="";if(e.use_paging&&e.num_pages>1){var n=e.num_page_links,i=e.cur_page_num,r=e.num_pages,o=n/2,a=i-o,s=0;a<=0&&(s=o-(i-(a=1)));var l,c=o+s,u=i+c;0!==(l=u<=r?0:c-((u=r)+1-i))&&(a-=l)<1&&(a=1),t+='<tr id="page-links-row">',e.show_item_checkboxes&&(t+="<td></td>"),t+='<td colspan="100"><span id="page-link-container">Page:',a>1&&(t+='<span class="page-link" id="page-link-1"><a href="javascript:void(0);" page_num="1" onclick="return false;">1</a></span> ...');for(var d=a;d<u+1;d++)d==e.cur_page_num?t+='<span class="page-link inactive-link" id="page-link-'.concat(d,'">').concat(d,"</span>"):t+='<span class="page-link" id="page-link-'.concat(d,'"><a href="javascript:void(0);" onclick="return false;" page_num="').concat(d,'">').concat(d,"</a></span>");u<r&&(t+='...<span class="page-link" id="page-link-'.concat(r,'"><a href="javascript:void(0);" onclick="return false;" page_num="').concat(r,'">').concat(r,"</a></span>")),t+="</span>",t+='\n                    <span class="page-link" id="show-all-link-span"> | <a href="javascript:void(0);" onclick="return false;" page_num="all">Show All</a></span>\n                    </td>\n                </tr>'}if(e.show_item_checkboxes){t+='\n                <tr>\n                    <input type="hidden" id="operation" name="operation" value="">\n                    <td></td>\n                    <td colspan="100">\n                        For <span class="grid-selected-count"></span> selected items: \n            ';var h=!0,f=!1,p=void 0;try{for(var m,g=e.operations[Symbol.iterator]();!(h=(m=g.next()).done);h=!0){var _=m.value;_.allow_multiple&&(t+='<input type="button" value="'.concat(_.label,'" class="operation-button action-button">&nbsp;'))}}catch(e){f=!0,p=e}finally{try{h||null==g.return||g.return()}finally{if(f)throw p}}t+="</td></tr>"}var v=!1,y=!0,b=!1,w=void 0;try{for(var k,M=e.operations[Symbol.iterator]();!(y=(k=M.next()).done);y=!0){if(k.value.global_operation){v=!0;break}}}catch(e){b=!0,w=e}finally{try{y||null==M.return||M.return()}finally{if(b)throw w}}if(v){t+='<tr><td colspan="100">';var x=!0,C=!1,S=void 0;try{for(var T,L=e.operations[Symbol.iterator]();!(x=(T=L.next()).done);x=!0){var E=T.value;E.global_operation&&(t+='<a class="action-button" href="'.concat(E.global_operation,'">').concat(E.label,"</a>"))}}catch(e){C=!0,S=e}finally{try{x||null==L.return||L.return()}finally{if(C)throw S}}t+="</td></tr>"}return e.legend&&(t+='<tr><td colspan="100">'.concat(e.legend,"</td></tr>")),t},message:function(e){var t=e.status;return-1!=["success","ok"].indexOf(t)&&(t="done"),'<p><div class="'.concat(t,'message transient-message">').concat(i.escape(e.message),'</div><div style="clear: both"></div></p>')},grid_filters:function(e){var t=e.default_filter_dict,n=e.filters,i="none";e.advanced_search&&(i="block");var r=!1,o=!0,a=!1,s=void 0;try{for(var l,c=e.columns[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;if("advanced"==u.filterable){var d=u.key,h=n[d],f=t[d];h&&f&&h!=f&&(i="block"),r=!0}}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}var p="block";"block"==i&&(p="none");var m='<div id="standard-search" style="display: '.concat(p,';"><table><tr><td style="padding: 0;"><table>'),g=!0,_=!1,v=void 0;try{for(var y,b=e.columns[Symbol.iterator]();!(g=(y=b.next()).done);g=!0){var w=y.value;"standard"==w.filterable&&(m+=this.grid_column_filter(e,w))}}catch(e){_=!0,v=e}finally{try{g||null==b.return||b.return()}finally{if(_)throw v}}m+="</table></td></tr><tr><td>",r&&(m+='<a href="" class="advanced-search-toggle">Advanced Search</a>'),m+="</td></tr></table></div>",m+='<div id="advanced-search" style="display: '.concat(i,'; margin-top: 5px; border: 1px solid #ccc;"><table><tr><td style="text-align: left" colspan="100"><a href="" class="advanced-search-toggle">Close Advanced Search</a></td></tr>');var k=!0,M=!1,x=void 0;try{for(var C,S=e.columns[Symbol.iterator]();!(k=(C=S.next()).done);k=!0){var T=C.value;"advanced"==T.filterable&&(m+=this.grid_column_filter(e,T))}}catch(e){M=!0,x=e}finally{try{k||null==S.return||S.return()}finally{if(M)throw x}}return m+="</table></div>"},grid_column_filter:function(t,n){var i=t.filters,r=n.label,o=n.key;"advanced"==n.filterable&&(r=r.toLowerCase());var a="<tr>";if("advanced"==n.filterable&&(a+='<td align="left" style="padding-left: 10px">'.concat(r,":</td>")),a+='<td style="padding-bottom: 1px;">',n.is_text){a+='<form class="text-filter-form" column_key="'.concat(o,'" action="').concat(t.url,'" method="get" >');var s=!0,l=!1,c=void 0;try{for(var u,d=t.columns[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var h=u.value,f=i[h.key];f&&"All"!=f&&(h.is_text&&(f=JSON.stringify(f)),a+='<input type="hidden" id="'.concat(h.key,'" name="f-').concat(h.key,'" value="').concat(f,'"/>'))}}catch(e){l=!0,c=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}a+='<span id="'.concat(o,'-filtering-criteria">');var p=i[o];if(p){var m=e.type(p);if("string"==m&&"All"!=p&&(a+=this.filter_element(o,p)),"array"==m)for(var g in p){p.slice(g),a+=this.filter_element(o,p[g])}}a+="</span>";var _="",v=20;"standard"==n.filterable&&((_=n.label.toLowerCase()).length<20&&(v=_.length),v+=4),a+='\n                <span class="search-box">\n                    <input class="search-box-input" id="input-'.concat(o,'-filter" name="f-').concat(o,'" type="text" placeholder="').concat(_,'" size="').concat(v,'"/>\n                    <button type="submit" style="background: transparent; border: none; padding: 4px; margin: 0px;">\n                        <i class="fa fa-search"></i>\n                    </button>\n                </span>\n            </form>')}else{a+='<span id="'.concat(o,'-filtering-criteria">');var y=!1;for(var b in t.categorical_filters[o]){var w=t.categorical_filters[o][b],k="",M="";for(var x in w)k=x,M=w[x];y&&(a+=" | "),y=!0;var C=i[o];C&&w[o]&&C==M?a+='<span class="categorical-filter '.concat(o,'-filter current-filter">').concat(b,"</span>"):a+='<span class="categorical-filter '.concat(o,'-filter"><a href="javascript:void(0);" filter_key="').concat(k,'" filter_val="').concat(M,'">').concat(b,"</a></span>")}a+="</span>"}return a+="</td></tr>"},filter_element:function(e,t){return t=r.a.sanitize(t),'<span class="text-filter-val">'.concat(t,'<a href="javascript:void(0);" filter_key="').concat(e,'" filter_val="').concat(t,'"><i class="fa fa-times" style="padding-left: 5px; padding-bottom: 6px;"/></a></span>')}}}).call(this,n(0),n(2))},function(e,t,n){var i=n(35).f,r=n(60),o=n(30)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},function(e,t){e.exports={}},function(e,t,n){var i=n(30)("unscopables"),r=Array.prototype;void 0==r[i]&&n(61)(r,i,{}),e.exports=function(e){r[i][e]=!0}},function(e,t,n){"use strict";var i=n(23),r=n(35),o=n(43),a=n(30)("species");e.exports=function(e){var t=i[e];o&&t&&!t[a]&&r.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var i=n(55);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,t,n){var i=n(24);e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";var i=n(0),r=n.n(i).a;r.fn.make_text_editable=function(e){var t="num_cols"in e?e.num_cols:30,n="num_rows"in e?e.num_rows:4,i="use_textarea"in e&&e.use_textarea,o="on_finish"in e?e.on_finish:null,a="help_text"in e?e.help_text:null,s=r(this);return s.addClass("editable-text").click(function(a){if(!(r(this).children(":input").length>0)){s.removeClass("editable-text");var l,c,u=function(e){s.find(":input").remove(),""!==e?s.text(e):s.html("<br>"),s.addClass("editable-text"),o&&o(e)},d="cur_text"in e?e.cur_text:s.text();i?(l=r("<textarea/>").attr({rows:n,cols:t}).text(r.trim(d)).keyup(function(e){27===e.keyCode&&u(d)}),c=r("<button/>").addClass("btn-sm float-right").text("Done").click(function(){return u(l.val()),!1})):l=r("<input type='text'/>").attr({value:r.trim(d),size:t}).blur(function(){u(d)}).keyup(function(e){27===e.keyCode?r(this).trigger("blur"):13===e.keyCode&&u(r(this).val()),e.stopPropagation()}),s.text(""),s.append(l),c&&s.append(c),l.focus(),l.select(),a.stopPropagation()}}),a&&s.attr("title",a).tooltip(),s}},function(e,t,n){"use strict";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;return new URL(e).pathname}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";var i=["log","debug","info","warn","error","metric"];t.a=function(e,t){var n=void 0!==e.prototype?e.prototype:e;return void 0!==t&&(n._logNamespace=t),i.forEach(function(e){n[e]=function(){if(this.logger)return this.logger.emit?this.logger.emit(e,this._logNamespace,arguments):this.logger[e]?this.logger[e].apply(this.logger,arguments):void 0}}),e}},function(e,t,n){"use strict";(function(e,i){var r=n(6),o=n(11),a=e.View.extend({visible:!1,initialize:function(t){var n=this;this.model=t&&t.model||new e.Model({id:r.a.uid(),cls:"ui-portlet",title:"",icon:"",buttons:null,body:null,scrollable:!0,operations:null,collapsible:!1,collapsible_button:!0,collapsed:!1,onchange_title:null}).set(t),this.setElement(this._template()),this.$body=this.$(".portlet-body"),this.$title=this.$(".portlet-title"),this.$title_text=this.$(".portlet-title-text"),this.$title_icon=this.$(".portlet-title-icon"),this.$header=this.$(".portlet-header"),this.$content=this.$(".portlet-content"),this.$backdrop=this.$(".portlet-backdrop"),this.$buttons=this.$(".portlet-buttons"),this.$operations=this.$(".portlet-operations"),this.model.get("body")&&this.append(this.model.get("body")),this.collapsible_button=new o.a.Button({icon:"fa-eye",tooltip:"Collapse/Expand",cls:"ui-button-icon-plain",onclick:function(){n[n.collapsed?"expand":"collapse"]()}}),this.render()},render:function(){var e=this,t=this.model.attributes;return this.$el.removeClass().addClass(t.cls).attr("id",t.id),this.$header[t.title?"show":"hide"](),this.$title_text.html(t.title),t.title_id&&this.$title.attr("id",t.title_id),t.icon?this.$title_icon.removeClass().addClass("portlet-title-icon fa mr-1").addClass(t.icon).show():this.$title_icon.hide(),this.$title_text[t.collapsible?"addClass":"removeClass"]("no-highlight collapsible").off(),t.collapsible&&(this.$title_text.on("click",function(){e[e.collapsed?"expand":"collapse"]()}),t.collapsed?this.collapse():this.expand()),this.$title_text.prop("disabled",!t.onchange_title),t.onchange_title&&this.$title_text.make_text_editable({on_finish:function(e){t.onchange_title(e)}}),t.buttons?(this.$buttons.empty().show(),i.each(this.model.get("buttons"),function(t,n){n.$el.prop("id",t),e.$buttons.append(n.$el)})):this.$buttons.hide(),this.$operations.empty,t.collapsible&&t.collapsible_button&&this.$operations.append(this.collapsible_button.$el),t.operations&&i.each(t.operations,function(t,n){n.$el.prop("id",t),e.$operations.append(n.$el)}),this},append:function(e){this.$body.append(e)},empty:function(){this.$body.empty()},header:function(){return this.$header},body:function(){return this.$body},show:function(){this.visible=!0,this.$el.fadeIn("fast")},hide:function(){this.visible=!1,this.$el.hide()},enableButton:function(e){this.$buttons.find("#".concat(e)).prop("disabled",!1)},disableButton:function(e){this.$buttons.find("#".concat(e)).prop("disabled",!0)},hideOperation:function(e){this.$operations.find("#".concat(e)).hide()},showOperation:function(e){this.$operations.find("#".concat(e)).show()},setOperation:function(e,t){this.$operations.find("#".concat(e)).off("click").on("click",t)},title:function(e){return e&&this.$title_text.html(e),this.$title_text.html()},collapse:function(){this.collapsed=!0,this.$content.hide(),this.collapsible_button.setIcon("fa-eye-slash")},expand:function(){this.collapsed=!1,this.$content.show(),this.collapsible_button.setIcon("fa-eye")},disable:function(){this.$backdrop.show()},enable:function(){this.$backdrop.hide()},_template:function(){return i("<div/>").append(i("<div/>").addClass("portlet-header").append(i("<div/>").addClass("portlet-operations")).append(i("<div/>").addClass("portlet-title").append(i("<i/>").addClass("portlet-title-icon")).append(i("<span/>").addClass("portlet-title-text")))).append(i("<div/>").addClass("portlet-content").append(i("<div/>").addClass("portlet-body")).append(i("<div/>").addClass("portlet-buttons mt-3 mb-3"))).append(i("<div/>").addClass("portlet-backdrop"))}});t.a={View:a}}).call(this,n(3),n(0))},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(4),l=n(5),c=n(1),u=n.n(c),d=n(386),h=n(11),f=n(25),p=n(69),m=n(465),g=n(18);t.a=f.a.extend({initialize:function(e){var t=Object(l.getGalaxyInstance)(),n=this;this.deferred=new d.a,f.a.prototype.initialize.call(this,e),this._update(this.model.get("initialmodel")),this.model.get("listen_to_history")&&t&&t.currHistoryPanel&&this.listenTo(t.currHistoryPanel.collection,"change",function(){n.model.get("onchange")()}),this.$el.on("remove",function(){n._destroy()})},_update:function(e){var t=this;(e=e||this.model.get("buildmodel"))?(this.deferred.reset(),this.deferred.execute(function(n){e(n,t),n.then(function(){t._render()})})):this._render()},_destroy:function(){var e=this;this.$el.off().hide(),this.deferred.execute(function(){f.a.prototype.remove.call(e),Object(l.getGalaxyInstance)().emit.debug("tool-form-base::_destroy()","Destroy view.")})},_render:function(){var e=this,t=this.model.attributes;this.model.set({title:t.fixed_title||"<b>".concat(t.name,"</b> ").concat(t.description," (Galaxy Version ").concat(t.version,")"),operations:!t.hide_operations&&this._operations(),onchange:function(){var t=Object(l.getGalaxyInstance)();e.deferred.reset(),e.deferred.execute(function(n){e.model.get("postchange")(n,e),e.model.get("listen_to_history")&&n.then(function(){e.stopListening(t.currHistoryPanel.collection)})})}}),this.render(),this.model.get("collapsible")||this.$el.append(a()("<div/>").addClass("mt-2").append(this._footer())),t.tool_errors&&this.message.update({status:"danger",message:t.tool_errors,persistent:!0}),this.show_message&&this.message.update({status:"success",message:"Now you are using '".concat(t.name,"' version ").concat(t.version,", id '").concat(t.id,"'."),persistent:!1}),this.show_message=!0},_operations:function(){var e=this,t=this.model.attributes,n=new h.a.ButtonMenu({icon:"fa-cubes",title:t.narrow?null:"Versions",tooltip:"Select another tool version"});if(!t.sustain_version&&t.versions&&t.versions.length>1)for(var i in t.versions){var r=t.versions[i];r!=t.version&&n.addMenu({title:"Switch to ".concat(r),version:r,icon:"fa-cube",onclick:function(){e.model.set("id",t.id.replace(t.version,this.version)),e.model.set("version",this.version),e._update()}})}else n.$el.hide();var o=new h.a.ButtonMenu({id:"options",icon:"fa-caret-down",title:t.narrow?null:"Options",tooltip:"View available options"});t.biostar_url&&(o.addMenu({icon:"fa-question-circle",title:"Question?",onclick:function(){window.open("".concat(t.biostar_url,"/p/new/post/"))}}),o.addMenu({icon:"fa-search",title:u()("Search"),onclick:function(){window.open("".concat(t.biostar_url,"/local/search/page/?q=").concat(t.name))}})),o.addMenu({icon:"fa-share",title:u()("Share"),onclick:function(){prompt("Copy to clipboard: Ctrl+C, Enter","".concat(window.location.origin+Object(s.a)(),"root?tool_id=").concat(t.id))}});var a=Object(l.getGalaxyInstance)();return a.user&&a.user.get("is_admin")&&o.addMenu({icon:"fa-download",title:u()("Download"),onclick:function(){window.location.href="".concat(Object(s.a)(),"api/tools/").concat(t.id,"/download")}}),t.requirements&&t.requirements.length>0&&o.addMenu({icon:"fa-info-circle",title:u()("Requirements"),onclick:function(){!this.requirements_visible||e.portlet.collapsed?(this.requirements_visible=!0,e.portlet.expand(),e.message.update({persistent:!0,message:e._templateRequirements(t),status:"info"})):(this.requirements_visible=!1,e.message.update({message:""}))}}),t.sharable_url&&o.addMenu({icon:"fa-external-link",title:u()("See in Tool Shed"),onclick:function(){window.open(t.sharable_url)}}),p.a.load({type:"tool-menu",callback:function(e){e.each(function(e){var n=e.toJSON();n.activate&&n.config.function&&o.addMenu({icon:n.config.icon,title:n.config.title,onclick:function(){new Function("options",n.config.function)(t)}})})}}),{menu:o,versions:n}},_footer:function(){var e=this.model.attributes,t=a()("<div/>").append(this._templateHelp(e));if(e.citations){var n=g.a.extend(m.a),i=document.createElement("div");t.append(i),new n({propsData:{id:e.id,source:"tools"}}).$mount(i)}return t},_templateHelp:function(e){var t=a()("<div/>").addClass("form-help form-text mt-4").append(e.help);return t.find("a").attr("target","_blank"),t.find("img").each(function(){var e=a()(this).attr("src");-1!==e.indexOf("admin_toolshed")&&a()(this).attr("src",Object(s.a)()+e)}),t},_templateRequirements:function(e){var t=e.requirements.length;if(t>0){var n="This tool requires ";r.a.each(e.requirements,function(e,i){n+=e.name+(e.version?" (Version ".concat(e.version,")"):"")+(i<t-2?", ":i==t-2?" and ":"")});var i=a()("<a/>").attr("target","_blank").attr("href","https://galaxyproject.org/tools/requirements/").text("here");return a()("<span/>").append("".concat(n,". Click ")).append(i).append(" for more information.")}return"No requirements found."}})},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(3),a=n.n(o),s=n(6),l=n(5);t.a=a.a.Model.extend({initialize:function(){this.active={},this.last=null},execute:function(e){var t=this,n=s.a.uid(),i=e.length>0,o=Object(l.getGalaxyInstance)();this.active[n]=!0;var a=r.a.Deferred();a.promise().always(function(){delete t.active[n],i&&o.emit.debug("deferred::execute()","".concat(this.state().charAt(0).toUpperCase()+this.state().slice(1)," ").concat(n))}),r.a.when(this.last).always(function(){t.active[n]?(i&&o.emit.debug("deferred::execute()","Running ".concat(n)),e(a),!i&&a.resolve()):a.reject()}),this.last=a.promise()},reset:function(){var e=Object(l.getGalaxyInstance)();for(var t in e.emit.debug("deferred::execute()","Reset"),this.active)this.active[t]=!1},ready:function(){return r.a.isEmptyObject(this.active)}})},function(e,t,n){"use strict";(function(e,n,i,r){var o=e.View.extend({initialize:function(e,t){this.$button=e,this.$button.length||(this.$button=n("<div/>")),this.options=t||[],this.$button.data("popupmenu",this);var i=this;this.$button.click(function(e){return n(".popmenu-wrapper").remove(),i._renderAndShow(e),!1})},_renderAndShow:function(e){this.render(),this.$el.appendTo("body").css(this._getShownPosition(e)).show(),this._setUpCloseBehavior()},render:function(){if(this.$el.addClass("popmenu-wrapper").hide().css({position:"absolute"}).html(this.template(this.$button.attr("id"),this.options)),this.options.length){var e=this;this.$el.find("li").each(function(t,i){var r=e.options[t];r.func&&n(this).children("a.popupmenu-option").click(function(t){r.func.call(e,t,r),t.preventDefault()})})}return this},template:function(e,t){return['<ul id="',e,'-menu" class="dropdown-menu">',this._templateOptions(t),"</ul>"].join("")},_templateOptions:function(e){return e.length?i.map(e,function(e){return e.divider?'<li class="divider"></li>':e.header?['<li class="head"><a href="javascript:void(0);">',e.html,"</a></li>"].join(""):['<li><a class="popupmenu-option" href="',e.href||"javascript:void(0);",'"',e.target?' target="'.concat(e.target,'"'):"",">",e.checked?'<span class="fa fa-check"></span>':"",e.html,"</a></li>"].join("")}).join(""):"<li>(no options)</li>"},_getShownPosition:function(e){var t=this.$el.width(),i=e.pageX-t/2;return i=Math.min(i,n(document).scrollLeft()+n(window).width()-t-5),i=Math.max(i,n(document).scrollLeft()+5),{top:e.pageY,left:i}},_setUpCloseBehavior:function(){var e=this;function t(t){if(n(document).off("click.close_popup"),window&&window.parent!==window)try{n(window.parent.document).off("click.close_popup")}catch(e){}else try{n("iframe#galaxy_main").contents().off("click.close_popup")}catch(e){}e.remove()}if(n("html").one("click.close_popup",t),window&&window.parent!==window)try{n(window.parent.document).find("html").one("click.close_popup",t)}catch(e){}else try{n("iframe#galaxy_main").contents().one("click.close_popup",t)}catch(e){}},addItem:function(e,t){return t=t>=0?t:this.options.length,this.options.splice(t,0,e),this},removeItem:function(e){return e>=0&&this.options.splice(e,1),this},findIndexByHtml:function(e){for(var t=0;t<this.options.length;t++)if(i.has(this.options[t],"html")&&this.options[t].html===e)return t;return null},findItemByHtml:function(e){return this.options[this.findIndexByHtml(e)]},toString:function(){return"PopupMenu"}});o.create=function(e,t){return new o(e,t)},o.make_popupmenu=function(e,t){var a=[];return i.each(t,function(e,t){var n={html:t};null===e?n.header=!0:"function"===r.type(e)&&(n.func=e),a.push(n)}),new o(n(e),a)},o.convertLinksToOptions=function(e,t){e=n(e),t=t||"a";var i=[];return e.find(t).each(function(e,t){var r={},o=n(e);if(r.html=o.text(),o.attr("href")){var a=o.attr("href"),s=o.attr("target"),l=o.attr("confirm");r.func=function(){if(!l||confirm(l))switch(s){case"_parent":window.parent.location=a;break;case"_top":window.top.location=a;break;default:window.location=a}}}i.push(r)}),i},o.fromExistingDom=function(e,t,i){e=n(e),t=n(t);var r=o.convertLinksToOptions(t,i);return t.remove(),new o(e,r)},o.make_popup_menus=function(e,t,i){e=e||document,t=t||"div[popupmenu]",i=i||function(e,t){return"#".concat(e.attr("popupmenu"))};var r=[];return n(e).find(t).each(function(){var t=n(this),a=n(e).find(i(t,e));r.push(o.fromDom(a,t)),a.addClass("popup")}),r},t.a=o}).call(this,n(3),n(0),n(2),n(0))},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(5),d=n(605),h=n(84),f=n(407),p=n(27),m=n(6),g=l.a.View.extend({el:"body",className:"full-content",_panelids:["left","right"],initialize:function(e){var t=this,n=this;this.config=r.a.defaults(e.config||{},{message_box_visible:!1,message_box_content:"",message_box_class:"info",show_inactivity_warning:!1,inactivity_box_content:"",hide_panels:!1,hide_masthead:!1});var i=Object(u.getGalaxyInstance)();i.modal=this.modal=new p.a.View,i.router=this.router=e.Router&&new e.Router(n,e),i.data=this.data=new d.a(this),this.masthead=new h.a.View(this.config),this.center=new f.a.CenterPanel,i.display=this.display=function(e){e.title?(m.a.setWindowTitle(e.title),e.allow_title_display=!1):(m.a.setWindowTitle(),e.allow_title_display=!0),e.active_tab&&n.masthead.highlight(e.active_tab),n.center.display(e)},this.$el.attr("scroll","no"),this.$el.html(this._template()),this.$masthead=this.$("#masthead"),this.$center=this.$("#center"),this.$messagebox=this.$("#messagebox"),this.$inactivebox=this.$("#inactivebox"),this.config.hide_masthead?(this.$masthead.remove(),this.$center.css("top",0)):this.$masthead.replaceWith(this.masthead.$el),this.$center.append(this.center.$el),this.$el.append(this.masthead.frame.$el),this.$el.append(this.modal.$el),this.panels={},this.config.hide_panels||r.a.each(this._panelids,function(i){var r=i.charAt(0).toUpperCase()+i.slice(1),o=e[r];if(o){var a=new o(n,e),s=n.$("#".concat(i));n[a.toString()]=a,n.panels[i]=new f.a.SidePanel({id:i,el:s,view:a}),t.config.hide_masthead&&s.css("top",0)}}),this.render(),this.router&&l.a.history.start({root:Object(c.a)(),pushState:!0})},render:function(){return a()(".select2-hidden-accessible").remove(),this.config.hide_masthead||(this.masthead.render(),this.renderMessageBox(),this.renderInactivityBox()),this.renderPanels(),this._checkCommunicationServerOnline(),this},renderMessageBox:function(){if(this.config.message_box_visible){var e=this.config.message_box_content||"",t=this.config.message_box_class||"info";this.$el.addClass("has-message-box"),this.$messagebox.attr("class","panel-".concat(t,"-message")).html(e).toggle(!!e).show()}else this.$el.removeClass("has-message-box"),this.$messagebox.hide();return this},renderInactivityBox:function(){if(this.config.show_inactivity_warning){var e=this.config.inactivity_box_content||"",t=a()("<a/>").attr("href","".concat(Object(c.a)(),"user/resend_verification")).text("Resend verification");this.$el.addClass("has-inactivity-box"),this.$inactivebox.html("".concat(e," ")).append(t).toggle(!!e).show()}else this.$el.removeClass("has-inactivity-box"),this.$inactivebox.hide();return this},renderPanels:function(){var e=this;return r.a.each(this._panelids,function(t){var n=e.panels[t];n?n.render():(e.$center.css(t,0),e.$("#".concat(t)).hide())}),this},_template:function(){return['<div id="everything">\n                <div id="background"/>\n                <div id="masthead"/>\n                <div id="messagebox"/>\n                <div id="inactivebox" class="panel-warning-message" />\n                <div id="columns">\n                    <div id="left" class="unified-panel"/>\n                    <div id="center" />\n                    <div id="right" class="unified-panel" />\n                </div>\n            </div>\n            <div id="dd-helper" />'].join("")},toString:function(){return"PageLayoutView"},_checkCommunicationServerOnline:function(){var e=Object(u.getGalaxyInstance)(),t=e.config.communication_server_host,n=e.config.communication_server_port,i=e.user.attributes.preferences,r=a()("#show-chat-online");i&&-1!=["1","true"].indexOf(i.communication_server)?a.a.ajax({url:"".concat(t,":").concat(n)}).success(function(t){null!==e.user.id&&"hidden"===r.css("visibility")&&r.css("visibility","visible")}).error(function(e){r.css("visibility","hidden")}):r.css("visibility","hidden")}});t.a={View:g}},function(e,t,n){"use strict";(function(e,i,r){n(6);t.a=e.View.extend({options:{class_check:"fa-check-square-o",class_uncheck:"fa-square-o",parameters:[{id:"space_to_tab",title:"Convert spaces to tabs"},{id:"to_posix_lines",title:"Use POSIX standard"}]},initialize:function(e){this.model=e.model,this.setElement(i("<div/>").addClass("upload-settings")),this.$el.append(i("<div/>").addClass("upload-settings-cover")),this.$el.append(i("<table/>").addClass("upload-settings-table grid").append("<tbody/>")),this.$cover=this.$(".upload-settings-cover"),this.$table=this.$(".upload-settings-table > tbody"),this.listenTo(this.model,"change",this.render,this),this.model.trigger("change")},render:function(){var e=this;this.$table.empty(),r.each(this.options.parameters,function(t){var n=i("<div/>").addClass("upload-".concat(t.id," fa")).addClass(e.model.get(t.id)&&e.options.class_check||e.options.class_uncheck),r=i("<tr/>").append(i("<td/>").append(n)).append(i("<td/>").append(t.title)).on("click",function(){e.model.get("enabled")&&e.model.set(t.id,!e.model.get(t.id))});e.$table.append(r)}),this.$cover[this.model.get("enabled")?"hide":"show"]()}})}).call(this,n(3),n(0),n(2))},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(5),d=n(6),h=n(38);t.a=l.a.View.extend({initialize:function(e){this.model=new l.a.Model({cls:"upload-ftp",class_add:"upload-icon-button fa fa-square-o",class_remove:"upload-icon-button fa fa-check-square-o",class_partial:"upload-icon-button fa fa-minus-square-o",help_enabled:!0,oidc_text:"<br/>If you are signed-in to Galaxy using a third-party identity and you <strong>don't have a Galaxy password</strong> please go to <a href=\"".concat(Object(c.a)(),'user/reset_password" target="_blank">this</a> page and request a password for your Galaxy account.'),help_text:"This Galaxy server allows you to upload files via FTP. To upload some files, log in to the FTP server at <strong>".concat(e.ftp_upload_site,'</strong> using your Galaxy credentials.\n            For help visit the <a href="https://ftp.usegalaxy.eu" target="_blank">documentation</a>.'),collection:null,onchange:function(){},onadd:function(){},onremove:function(){}}).set(e),this.collection=this.model.get("collection"),Object(u.getGalaxyInstance)().config.enable_oidc&&this.model.set("help_text",this.model.get("help_text")+this.model.get("oidc_text")),this.setElement(this._template()),this.$content=this.$(".upload-ftp-content"),this.$wait=this.$(".upload-ftp-wait"),this.$help=this.$(".upload-ftp-help"),this.$number=this.$(".upload-ftp-number"),this.$disk=this.$(".upload-ftp-disk"),this.$body=this.$(".upload-ftp-body"),this.$warning=this.$(".upload-ftp-warning"),this.$select=this.$(".upload-ftp-select-all"),this.render()},render:function(){var e=this;this.$wait.show(),this.$content.hide(),this.$warning.hide(),this.$help.hide(),h.a.getRemoteFiles(function(t){e.model.set("ftp_files",t),e._index(),e._renderTable()},function(){e._renderTable()})},_renderTable:function(){var e=this,t=this.model.get("ftp_files");if(this.rows=[],t&&t.length>0){this.$body.empty();var n=0;r.a.each(t,function(t){e.rows.push(e._renderRow(t)),n+=t.size}),this.$number.html("".concat(t.length," files")),this.$disk.html(d.a.bytesToString(n,!0)),this.collection&&(this.$("._has_collection").show(),this.$select.addClass(this.model.get("class_add")).off().on("click",function(){e._all()}),this._refresh()),this.$content.show()}else this.$warning.show();this.model.get("help_enabled")&&this.$help.show(),this.$wait.hide()},_renderRow:function(e){var t=this,n=this.model.attributes,i=a()(this._templateRow(e)),r=i.find(".icon");if(this.$body.append(i),this.collection){var o=this.ftp_index[e.path];r.addClass(void 0===o?n.class_add:n.class_remove),i.on("click",function(){t._switch(r,e),t._refresh()})}else i.on("click",function(){n.onchange(e)});return r},_index:function(){var e=this;this.ftp_index={},this.collection&&this.collection.each(function(t){"ftp"==t.get("file_mode")&&(e.ftp_index[t.get("file_path")]=t.id)})},_all:function(){var e=this.model.attributes,t=this.model.get("ftp_files"),n=this.$select.hasClass(e.class_add);for(var i in t){var r=t[i],o=this.ftp_index[r.path];(void 0===o&&n||void 0!==o&&!n)&&this._switch(this.rows[i],r)}this._refresh()},_switch:function(e,t){e.removeClass();var n=this.model.attributes,i=this.ftp_index[t.path];if(void 0===i){var r=n.onadd(t);e.addClass(n.class_remove),this.ftp_index[t.path]=r}else n.onremove(i),e.addClass(n.class_add),this.ftp_index[t.path]=void 0},_refresh:function(){var e=r.a.reduce(this.ftp_index,function(e,t){return void 0!==t&&e++,e},0);this.$select.removeClass(),0==e?this.$select.addClass(this.model.get("class_add")):this.$select.addClass(e==this.rows.length?this.model.get("class_remove"):this.model.get("class_partial"))},_templateRow:function(e){return'<tr class="upload-ftp-row">\n                    <td class="_has_collection" style="display: none;">\n                        <div class="icon"/>\n                    </td>\n                    <td class="ftp-name">'.concat(r.a.escape(e.path),'</td>\n                    <td class="ftp-size">').concat(d.a.bytesToString(e.size),'</td>\n                    <td class="ftp-time">').concat(e.ctime,"</td>\n                </tr>")},_template:function(){return'<div class="'.concat(this.model.get("cls"),'">\n                    <div class="upload-ftp-wait fa fa-spinner fa-spin"/>\n                    <div class="upload-ftp-help">').concat(this.model.get("help_text"),'</div>\n                    <div class="upload-ftp-content">\n                        <span style="whitespace: nowrap; float: left;">Available files: </span>\n                        <span style="whitespace: nowrap; float: right;">\n                            <span class="upload-icon fa fa-file-text-o"/>\n                            <span class="upload-ftp-number"/>\n                            <span class="upload-icon fa fa-hdd-o"/>\n                            <span class="upload-ftp-disk"/>\n                        </span>\n                        <table class="grid" style="float: left;">\n                            <thead>\n                                <tr>\n                                    <th class="_has_collection" style="display: none;">\n                                        <div class="upload-ftp-select-all">\n                                    </th>\n                                    <th>Name</th>\n                                    <th>Size</th>\n                                    <th>Created</th>\n                                </tr>\n                            </thead>\n                            <tbody class="upload-ftp-body"/>\n                        </table>\n                    </div>\n                    <div class="upload-ftp-warning warningmessage">Your FTP directory does not contain any files.</div>\n                </div>')}})},function(e,t,n){"use strict";(function(e){var n={_validationWarning:function(e,t){"name"===e&&(e=this.$(".collection-name").add(this.$(".collection-name-prompt")),this.$(".collection-name").focus().select()),t?(e=e||this.$(".".concat("validation-warning"))).removeClass("validation-warning"):e.addClass("validation-warning")},_changeHideOriginals:function(e){this.hideOriginals=this.$(".hide-originals").prop("checked")},_changeName:function(e){this._validationWarning("name",!!this._getName())},_nameCheckForEnter:function(e){13!==e.keyCode||this.blocking||this._clickCreate()},_getName:function(){return e.escape(this.$(".collection-name").val())},_clickMoreHelp:function(e){e.stopPropagation(),this.$(".main-help").addClass("expanded"),this.$(".more-help").hide()},_clickLessHelp:function(e){e.stopPropagation(),this.$(".main-help").removeClass("expanded"),this.$(".more-help").show()},_toggleHelp:function(e){e.stopPropagation(),this.$(".main-help").toggleClass("expanded"),this.$(".more-help").toggle()},_showAlert:function(e,t){t=t||"alert-danger",this.$(".main-help").hide(),this.$(".header .alert").attr("class","alert alert-dismissable").addClass(t).show().find(".alert-message").html(e)},_hideAlert:function(e){this.$(".main-help").show(),this.$(".header .alert").hide()},_cancelCreate:function(e){"function"==typeof this.oncancel&&this.oncancel.call(this)},_clickCreate:function(e){var t=this._getName();t?this.blocking||this.createList(t):this._validationWarning("name")},_setUpCommonSettings:function(e){this.hideOriginals=e.defaultHideSourceItems||!1},_renderFooter:function(t,n){var i=this,r=this.$(".footer").empty().html(this.templates.footer());return e.each(this.footerSettings,function(e,t){i.$(t).prop("checked",i[e])}),"function"==typeof this.oncancel&&this.$(".cancel-create.btn").show(),r},_creatorTemplates:{main:e.template(['<div class="header flex-row no-flex"></div>','<div class="middle flex-row flex-row-container"></div>','<div class="footer flex-row no-flex"></div>'].join(""))}};t.a={CollectionCreatorMixin:n}}).call(this,n(2))},function(e,t,n){"use strict";(function(e,i){var r=n(2),o=n.n(r),a=n(3),s=n.n(a),l=n(4),c=n(5),u=n(1),d=n.n(u),h=n(7),f=n.n(h),p=n(19),m=n(6),g=n(17),_=s.a.View.extend({el:"#center",model:null,options:{},defaults:{edit_mode:!1},events:{"click .toolbtn_modify_dataset":"enableModification","click .toolbtn_cancel_modifications":"render","click .toolbtn-download-dataset":"downloadDataset","click .toolbtn-import-dataset":"importIntoHistory","click .copy-link-to-clipboard":"copyToClipboard","click .make-private":"makeDatasetPrivate","click .remove-restrictions":"removeDatasetRestrictions","click .toolbtn_save_permissions":"savePermissions","click .toolbtn_save_modifications":"saveModifications"},select_genome:null,select_extension:null,list_extensions:[],auto:{id:"auto",text:"Auto-detect",description:"This system will try to detect the file type automatically. If your file is not detected properly as one of the known formats, it most likely means that it has some format problems (e.g., different number of columns on different rows). You can still coerce the system to set your data to the format you think it should be. You can also upload compressed files, which will automatically be decompressed."},list_genomes:[],initialize:function(e){this.options=o.a.extend(this.options,e),this.fetchExtAndGenomes(),this.options.id&&this.fetchDataset()},fetchDataset:function(e){var t=Object(c.getGalaxyInstance)();this.options=o.a.extend(this.options,e),this.model=new p.a.Item({id:this.options.id});var n=this;this.model.fetch({success:function(){n.options.show_permissions?n.showPermissions():n.options.show_version?n.fetchVersion():n.render()},error:function(e,n){void 0!==n.responseJSON?f.a.error("".concat(n.responseJSON.err_msg," Click this to go back."),"",{onclick:function(){t.libraries.library_router.back()}}):f.a.error("An error occurred. Click this to go back.","",{onclick:function(){t.libraries.library_router.back()}})}})},render:function(t){this.options=o.a.extend(this.options,t),e(".tooltip").remove();var n=this.templateDataset();this.$el.html(n({item:this.model})),e(".peek").html(this.model.get("peek")),e('#center [data-toggle="tooltip"]').tooltip({trigger:"hover"})},fetchVersion:function(e){this.options=o.a.extend(this.options,e);var t=this;this.options.ldda_id?(this.ldda=new p.a.Ldda({id:this.options.ldda_id}),this.ldda.url="".concat(this.ldda.urlRoot+this.model.id,"/versions/").concat(this.ldda.id),this.ldda.fetch({success:function(){t.renderVersion()},error:function(e,t){void 0!==t.responseJSON?f.a.error(t.responseJSON.err_msg):f.a.error("An error occurred.")}})):(this.render(),f.a.error("Library dataset version requested but no id provided."))},renderVersion:function(){e(".tooltip").remove();var t=this.templateVersion();this.$el.html(t({item:this.model,ldda:this.ldda})),e(".peek").html(this.ldda.get("peek"))},enableModification:function(){e(".tooltip").remove();var t=this.templateModifyDataset();this.$el.html(t({item:this.model})),this.renderSelectBoxes({genome_build:this.model.get("genome_build"),file_ext:this.model.get("file_ext")}),e(".peek").html(this.model.get("peek")),e('#center [data-toggle="tooltip"]').tooltip({trigger:"hover"})},downloadDataset:function(){var e="".concat(Object(l.a)(),"api/libraries/datasets/download/uncompressed"),t={ld_ids:this.id};this.processDownload(e,t)},processDownload:function(t,n,i){if(t&&n){n="string"==typeof n?n:e.param(n);var r="";e.each(n.split("&"),function(){var e=this.split("=");r+='<input type="hidden" name="'.concat(e[0],'" value="').concat(e[1],'" />')}),e('<form action="'.concat(t,'" method="').concat(i||"post",'">').concat(r,"</form>")).appendTo("body").submit().remove(),f.a.info("Your download will begin soon.")}},importIntoHistory:function(){this.refreshUserHistoriesList(function(e){var t=Object(c.getGalaxyInstance)(),n=e.templateBulkImportInModal();e.modal=t.modal,e.modal.show({closing_events:!0,title:d()("Import into History"),body:n({histories:e.histories.models}),buttons:{Import:function(){e.importCurrentIntoHistory()},Close:function(){t.modal.hide()}}})})},refreshUserHistoriesList:function(e){var t=this;this.histories=new p.a.GalaxyHistories,this.histories.fetch({success:function(n){0===n.length?f.a.warning("You have to create history first. Click this to do so.","",{onclick:function(){window.location=Object(l.a)()}}):e(t)},error:function(e,t){void 0!==t.responseJSON?f.a.error(t.responseJSON.err_msg):f.a.error("An error occurred.")}})},importCurrentIntoHistory:function(){this.modal.disableButton("Import");var t=this.modal.$("input[name=history_name]").val(),n=this;if(""!==t)e.post("".concat(Object(l.a)(),"api/histories"),{name:t}).done(function(e){n.processImportToHistory(e.id)}).fail(function(e,t,n){f.a.error("An error occurred.")}).always(function(){n.modal.enableButton("Import")});else{var i=e(this.modal.$el).find("select[name=dataset_import_single] option:selected").val();this.processImportToHistory(i),this.modal.enableButton("Import")}},processImportToHistory:function(e){var t=Object(c.getGalaxyInstance)(),n=new p.a.HistoryItem;n.url="".concat(n.urlRoot+e,"/contents"),i.getJSON("".concat(Object(l.a)(),"history/set_as_current?id=").concat(e)),n.save({content:this.id,source:"library"},{success:function(){t.modal.hide(),f.a.success("Dataset imported. Click this to start analyzing it.","",{onclick:function(){window.location=Object(l.a)()}})},error:function(e,t){void 0!==t.responseJSON?f.a.error("Dataset not imported. ".concat(t.responseJSON.err_msg)):f.a.error("An error occured. Dataset not imported. Please try again.")}})},showPermissions:function(t){var n=Object(c.getGalaxyInstance)(),i=this.templateDatasetPermissions(),r=this;this.options=o.a.extend(this.options,t),e(".tooltip").remove(),void 0!==this.options.fetched_permissions&&(0===this.options.fetched_permissions.access_dataset_roles.length?this.model.set({is_unrestricted:!0}):this.model.set({is_unrestricted:!1})),this.$el.html(i({item:this.model,is_admin:n.config.is_admin_user})),e.get("".concat(Object(l.a)(),"api/libraries/datasets/").concat(r.id,"/permissions?scope=current")).done(function(e){r.prepareSelectBoxes({fetched_permissions:e,is_admin:n.config.is_admin_user})}).fail(function(){f.a.error("An error occurred while attempting to fetch dataset permissions.")}),e('#center [data-toggle="tooltip"]').tooltip({trigger:"hover"}),e("#center").css("overflow","auto")},_serializeRoles:function(e){for(var t=[],n=0;n<e.length;n++)t.push("".concat(e[n][1],":").concat(e[n][0].replace(":"," ").replace(","," &")));return t},prepareSelectBoxes:function(e){this.options=o.a.extend(this.options,e),this.accessSelectObject=new g.a.View(this._generate_select_options({selector:"access_perm",initialData:this._serializeRoles(this.options.fetched_permissions.access_dataset_roles)})),this.modifySelectObject=new g.a.View(this._generate_select_options({selector:"modify_perm",initialData:this._serializeRoles(this.options.fetched_permissions.modify_item_roles)})),this.manageSelectObject=new g.a.View(this._generate_select_options({selector:"manage_perm",initialData:this._serializeRoles(this.options.fetched_permissions.manage_dataset_roles)}))},_generate_select_options:function(t){var n={minimumInputLength:0,multiple:!0,placeholder:"Click to select a role",formatResult:function(e){return"".concat(e.name," type: ").concat(e.type)},formatSelection:function(e){return e.name},initSelection:function(t,n){var i=[];e(t.val().split(",")).each(function(){var e=this.split(":");i.push({id:e[0],name:e[1]})}),n(i)},dropdownCssClass:"bigdrop"};return n.container=this.$el.find("#".concat(t.selector)),n.css=t.selector,n.initialData=t.initialData.join(","),n.ajax={url:"".concat(Object(l.a)(),"api/libraries/datasets/").concat(this.id,"/permissions?scope=available"),dataType:"json",quietMillis:100,data:function(e,t){return{q:e,page_limit:10,page:t}},results:function(e,t){var n=10*t<e.total;return{results:e.roles,more:n}}},n},saveModifications:function(e){var t=!1,n=this.model,i=this.$el.find(".input_dataset_name").val();if(void 0!==i&&i!==n.get("name")){if(!(i.length>0))return void f.a.warning("Library dataset name has to be at least 1 character long.");n.set("name",i),t=!0}var r=this.$el.find(".input_dataset_misc_info").val();void 0!==r&&r!==n.get("misc_info")&&(n.set("misc_info",r),t=!0);var o=this.$el.find(".input_dataset_message").val();void 0!==o&&o!==n.get("message")&&(n.set("message",o),t=!0);var a=this.select_genome.$el.select2("data").id;void 0!==a&&a!==n.get("genome_build")&&(n.set("genome_build",a),t=!0);var s=this.select_extension.$el.select2("data").id;void 0!==s&&s!==n.get("file_ext")&&(n.set("file_ext",s),t=!0);var l=this;t?n.save(null,{patch:!0,success:function(e){l.render(),f.a.success("Changes to library dataset saved.")},error:function(e,t){void 0!==t.responseJSON?f.a.error(t.responseJSON.err_msg):f.a.error("An error occured while attempting to update the library dataset.")}}):(l.render(),f.a.info("Nothing has changed."))},copyToClipboard:function(e){e.preventDefault();var t=s.a.history.location.href;-1!==t.lastIndexOf("/permissions")&&(t=t.substr(0,t.lastIndexOf("/permissions"))),window.prompt("Copy to clipboard: Ctrl+C, Enter",t)},makeDatasetPrivate:function(){var t=this;e.post("".concat(Object(l.a)(),"api/libraries/datasets/").concat(t.id,"/permissions?action=make_private")).done(function(e){t.model.set({is_unrestricted:!1}),t.showPermissions({fetched_permissions:e}),f.a.success("The dataset is now private to you.")}).fail(function(){f.a.error("An error occurred while attempting to make dataset private.")})},removeDatasetRestrictions:function(){var t=this;e.post("".concat(Object(l.a)(),"api/libraries/datasets/").concat(t.id,"/permissions?action=remove_restrictions")).done(function(e){t.model.set({is_unrestricted:!0}),t.showPermissions({fetched_permissions:e}),f.a.success("Access to this dataset is now unrestricted.")}).fail(function(){f.a.error("An error occurred while attempting to make dataset unrestricted.")})},_extractIds:function(e){for(var t=[],n=e.length-1;n>=0;n--)t.push(e[n].id);return t},savePermissions:function(t){var n=this,i=this._extractIds(this.accessSelectObject.$el.select2("data")),r=this._extractIds(this.manageSelectObject.$el.select2("data")),o=this._extractIds(this.modifySelectObject.$el.select2("data"));e.post("".concat(Object(l.a)(),"api/libraries/datasets/").concat(n.id,"/permissions?action=set_permissions"),{"access_ids[]":i,"manage_ids[]":r,"modify_ids[]":o}).done(function(e){n.showPermissions({fetched_permissions:e}),f.a.success("Permissions saved.")}).fail(function(){f.a.error("An error occurred while attempting to set dataset permissions.")})},fetchExtAndGenomes:function(){var e=this;0==this.list_genomes.length&&m.a.get({url:"".concat(Object(l.a)(),"api/datatypes?extension_only=False"),success:function(t){for(var n in t)e.list_extensions.push({id:t[n].extension,text:t[n].extension,description:t[n].description,description_url:t[n].description_url});e.list_extensions.sort(function(e,t){return e.id>t.id?1:e.id<t.id?-1:0}),e.list_extensions.unshift(e.auto)}}),0==this.list_extensions.length&&m.a.get({url:"".concat(Object(l.a)(),"api/genomes"),success:function(t){for(var n in t)e.list_genomes.push({id:t[n][1],text:t[n][0]});e.list_genomes.sort(function(e,t){return e.id>t.id?1:e.id<t.id?-1:0})}})},renderSelectBoxes:function(e){var t="?",n="auto";void 0!==e&&(void 0!==e.genome_build&&(t=e.genome_build),void 0!==e.file_ext&&(n=e.file_ext)),this.select_genome=new g.a.View({css:"dataset-genome-select",data:this.list_genomes,container:this.$el.find("#dataset_genome_select"),value:t}),this.select_extension=new g.a.View({css:"dataset-extension-select",data:this.list_extensions,container:this.$el.find("#dataset_extension_select"),value:n})},templateDataset:function(){return o.a.template(['<div class="library_style_container">','<div class="d-flex mb-2">','<button data-toggle="tooltip" data-placement="top" title="Download dataset" class="btn btn-secondary toolbtn-download-dataset toolbar-item mr-1" type="button">','<span class="fa fa-download"></span>',"&nbsp;Download","</button>",'<button data-toggle="tooltip" data-placement="top" title="Import dataset into history" class="btn btn-secondary toolbtn-import-dataset toolbar-item mr-1" type="button">','<span class="fa fa-book"></span>',"&nbsp;to History","</button>",'<% if (item.get("can_user_modify")) { %>','<button data-toggle="tooltip" data-placement="top" title="Modify library item" class="btn btn-secondary toolbtn_modify_dataset toolbar-item mr-1" type="button">','<span class="fa fa-pencil"></span>',"&nbsp;Modify","</button>","<% } %>",'<% if (item.get("can_user_manage")) { %>','<a href="#folders/<%- item.get("folder_id") %>/datasets/<%- item.id %>/permissions">','<button data-toggle="tooltip" data-placement="top" title="Manage permissions" class="btn btn-secondary toolbtn_change_permissions toolbar-item mr-1" type="button">','<span class="fa fa-group"></span>',"&nbsp;Permissions","</button>","</a>","<% } %>","</div>",'<ol class="breadcrumb">','<li class="breadcrumb-item"><a title="Return to the list of libraries" href="#">Libraries</a></li>','<% _.each(item.get("full_path"), function(path_item) { %>',"<% if (path_item[0] != item.id) { %>",'<li class="breadcrumb-item"><a title="Return to this folder" href="#/folders/<%- path_item[0] %>"><%- path_item[1] %></a> </li> ',"<% } else { %>",'<li class="breadcrumb-item active"><span title="You are here"><%- path_item[1] %></span></li>',"<% } %>","<% }); %>","</ol>",'<% if (item.get("is_unrestricted")) { %>',"<div>",'This dataset is unrestricted so everybody with the link can access it. Just share <span class="copy-link-to-clipboard"><a href=""a>this page</a></span>.',"</div>","<% } %>",'<div class="dataset_table">','<table class="grid table table-striped table-sm">',"<tr>",'<th class="dataset-first-column" scope="row" id="id_row" data-id="<%= _.escape(item.get("ldda_id")) %>">Name</th>','<td><%= _.escape(item.get("name")) %></td>',"</tr>",'<% if (item.get("file_ext")) { %>',"<tr>",'<th scope="row">Data type</th>','<td><%= _.escape(item.get("file_ext")) %></td>',"</tr>","<% } %>",'<% if (item.get("genome_build")) { %>',"<tr>",'<th scope="row">Genome build</th>','<td><%= _.escape(item.get("genome_build")) %></td>',"</tr>","<% } %>",'<% if (item.get("file_size")) { %>',"<tr>",'<th scope="row">Size</th>','<td><%= _.escape(item.get("file_size")) %></td>',"</tr>","<% } %>",'<% if (item.get("date_uploaded")) { %>',"<tr>",'<th scope="row">Date uploaded (UTC)</th>','<td><%= _.escape(item.get("date_uploaded")) %></td>',"</tr>","<% } %>",'<% if (item.get("uploaded_by")) { %>',"<tr>",'<th scope="row">Uploaded by</th>','<td><%= _.escape(item.get("uploaded_by")) %></td>',"</tr>","<% } %>",'<% if (item.get("metadata_data_lines")) { %>',"<tr>",'<th scope="row">Data Lines</th>','<td scope="row"><%= _.escape(item.get("metadata_data_lines")) %></td>',"</tr>","<% } %>",'<% if (item.get("metadata_comment_lines")) { %>',"<tr>",'<th scope="row">Comment Lines</th>','<td scope="row"><%= _.escape(item.get("metadata_comment_lines")) %></td>',"</tr>","<% } %>",'<% if (item.get("metadata_columns")) { %>',"<tr>",'<th scope="row">Number of Columns</th>','<td scope="row"><%= _.escape(item.get("metadata_columns")) %></td>',"</tr>","<% } %>",'<% if (item.get("metadata_column_types")) { %>',"<tr>",'<th scope="row">Column Types</th>','<td scope="row"><%= _.escape(item.get("metadata_column_types")) %></td>',"</tr>","<% } %>",'<% if (item.get("message")) { %>',"<tr>",'<th scope="row">Message</th>','<td scope="row"><%= _.escape(item.get("message")) %></td>',"</tr>","<% } %>",'<% if (item.get("misc_blurb")) { %>',"<tr>",'<th scope="row">Misc. blurb</th>','<td scope="row"><%= _.escape(item.get("misc_blurb")) %></td>',"</tr>","<% } %>",'<% if (item.get("misc_info")) { %>',"<tr>",'<th scope="row">Misc. info</th>','<td scope="row"><%= _.escape(item.get("misc_info")) %></td>',"</tr>","<% } %>",'<% if (item.get("tags")) { %>',"<tr>",'<th scope="row">Tags</th>','<td scope="row"><%= _.escape(item.get("tags")) %></td>',"</tr>","<% } %>",'<% if ( item.get("uuid") !== "ok" ) { %>',"<tr>",'<th scope="row">UUID</th>','<td scope="row"><%= _.escape(item.get("uuid")) %></td>',"</tr>","<% } %>",'<% if ( item.get("state") !== "ok" ) { %>',"<tr>",'<th scope="row">State</th>','<td scope="row"><%= _.escape(item.get("state")) %></td>',"</tr>","<% } %>","</table>",'<% if (item.get("job_stderr")) { %>',"<h4>Job Standard Error</h4>",'<pre class="code">','<%= _.escape(item.get("job_stderr")) %>',"</pre>","<% } %>",'<% if (item.get("job_stdout")) { %>',"<h4>Job Standard Output</h4>",'<pre class="code">','<%= _.escape(item.get("job_stdout")) %>',"</pre>","<% } %>","<div>",'<pre class="peek">',"</pre>","</div>",'<% if (item.get("has_versions")) { %>',"<div>","<h3>Expired versions:</h3>","<ul>",'<% _.each(item.get("expired_versions"), function(version) { %>','<li><a title="See details of this version" href="#folders/<%- item.get("folder_id") %>/datasets/<%- item.id %>/versions/<%- version[0] %>"><%- version[1] %></a></li>',"<% }) %>","<ul>","</div>","<% } %>","</div>","</div>"].join(""))},templateVersion:function(){return o.a.template(['<div class="library_style_container">','<div class="d-flex mb-2">','<a href="#folders/<%- item.get("folder_id") %>/datasets/<%- item.id %>">','<button data-toggle="tooltip" data-placement="top" title="Go to latest dataset" class="btn btn-secondary toolbar-item mr-1" type="button">','<span class="fa fa-caret-left fa-lg"></span>',"&nbsp;Latest dataset","</button>","<a>","</div>",'<ol class="breadcrumb">','<li class="breadcrumb-item"><a title="Return to the list of libraries" href="#">Libraries</a></li>','<% _.each(item.get("full_path"), function(path_item) { %>',"<% if (path_item[0] != item.id) { %>",'<li class="breadcrumb-item"><a title="Return to this folder" href="#/folders/<%- path_item[0] %>"><%- path_item[1] %></a> </li> ',"<% } else { %>",'<li class="breadcrumb-item active"><span title="You are here"><%- path_item[1] %></span></li>',"<% } %>","<% }); %>","</ol>",'<div class="alert alert-warning">This is an expired version of the library dataset: <%= _.escape(item.get("name")) %></div>','<div class="dataset_table">','<table class="grid table table-striped table-sm">',"<tr>",'<th scope="row" id="id_row" data-id="<%= _.escape(ldda.id) %>">Name</th>','<td><%= _.escape(ldda.get("name")) %></td>',"</tr>",'<% if (ldda.get("file_ext")) { %>',"<tr>",'<th scope="row">Data type</th>','<td><%= _.escape(ldda.get("file_ext")) %></td>',"</tr>","<% } %>",'<% if (ldda.get("genome_build")) { %>',"<tr>",'<th scope="row">Genome build</th>','<td><%= _.escape(ldda.get("genome_build")) %></td>',"</tr>","<% } %>",'<% if (ldda.get("file_size")) { %>',"<tr>",'<th scope="row">Size</th>','<td><%= _.escape(ldda.get("file_size")) %></td>',"</tr>","<% } %>",'<% if (ldda.get("date_uploaded")) { %>',"<tr>",'<th scope="row">Date uploaded (UTC)</th>','<td><%= _.escape(ldda.get("date_uploaded")) %></td>',"</tr>","<% } %>",'<% if (ldda.get("uploaded_by")) { %>',"<tr>",'<th scope="row">Uploaded by</th>','<td><%= _.escape(ldda.get("uploaded_by")) %></td>',"</tr>","<% } %>",'<% if (ldda.get("metadata_data_lines")) { %>',"<tr>",'<th scope="row">Data Lines</th>','<td scope="row"><%= _.escape(ldda.get("metadata_data_lines")) %></td>',"</tr>","<% } %>",'<% if (ldda.get("metadata_comment_lines")) { %>',"<tr>",'<th scope="row">Comment Lines</th>','<td scope="row"><%= _.escape(ldda.get("metadata_comment_lines")) %></td>',"</tr>","<% } %>",'<% if (ldda.get("metadata_columns")) { %>',"<tr>",'<th scope="row">Number of Columns</th>','<td scope="row"><%= _.escape(ldda.get("metadata_columns")) %></td>',"</tr>","<% } %>",'<% if (ldda.get("metadata_column_types")) { %>',"<tr>",'<th scope="row">Column Types</th>','<td scope="row"><%= _.escape(ldda.get("metadata_column_types")) %></td>',"</tr>","<% } %>",'<% if (ldda.get("message")) { %>',"<tr>",'<th scope="row">Message</th>','<td scope="row"><%= _.escape(ldda.get("message")) %></td>',"</tr>","<% } %>",'<% if (ldda.get("misc_blurb")) { %>',"<tr>",'<th scope="row">Miscellaneous blurb</th>','<td scope="row"><%= _.escape(ldda.get("misc_blurb")) %></td>',"</tr>","<% } %>",'<% if (ldda.get("misc_info")) { %>',"<tr>",'<th scope="row">Miscellaneous information</th>','<td scope="row"><%= _.escape(ldda.get("misc_info")) %></td>',"</tr>","<% } %>",'<% if (item.get("tags")) { %>',"<tr>",'<th scope="row">Tags</th>','<td scope="row"><%= _.escape(item.get("tags")) %></td>',"</tr>","<% } %>","</table>","<div>",'<pre class="peek">',"</pre>","</div>","</div>","</div>"].join(""))},templateModifyDataset:function(){return o.a.template(['<div class="library_style_container">','<ol class="breadcrumb">','<li class="breadcrumb-item"><a title="Return to the list of libraries" href="#">Libraries</a></li>','<% _.each(item.get("full_path"), function(path_item) { %>',"<% if (path_item[0] != item.id) { %>",'<li class="breadcrumb-item"><a title="Return to this folder" href="#/folders/<%- path_item[0] %>"><%- path_item[1] %></a> </li> ',"<% } else { %>",'<li class="breadcrumb-item active"><span title="You are here"><%- path_item[1] %></span></li>',"<% } %>","<% }); %>","</ol>",'<div class="dataset_table">','<table class="grid table table-striped table-sm">',"<tr>",'<th class="dataset-first-column" scope="row" id="id_row" data-id="<%= _.escape(item.get("ldda_id")) %>">Name</th>','<td><input class="input_dataset_name form-control" type="text" placeholder="name" value="<%= _.escape(item.get("name")) %>"></td>',"</tr>","<tr>",'<th scope="row">Data type</th>',"<td>",'<span id="dataset_extension_select" class="dataset-extension-select" />',"</td>","</tr>","<tr>",'<th scope="row">Genome build</th>',"<td>",'<span id="dataset_genome_select" class="dataset-genome-select" />',"</td>","</tr>","<tr>",'<th scope="row">Size</th>','<td><%= _.escape(item.get("file_size")) %></td>',"</tr>","<tr>",'<th scope="row">Date uploaded (UTC)</th>','<td><%= _.escape(item.get("date_uploaded")) %></td>',"</tr>","<tr>",'<th scope="row">Uploaded by</th>','<td><%= _.escape(item.get("uploaded_by")) %></td>',"</tr>",'<tr scope="row">','<th scope="row">Data Lines</th>','<td scope="row"><%= _.escape(item.get("metadata_data_lines")) %></td>',"</tr>",'<th scope="row">Comment Lines</th>','<% if (item.get("metadata_comment_lines") === "") { %>','<td scope="row"><%= _.escape(item.get("metadata_comment_lines")) %></td>',"<% } else { %>",'<td scope="row">unknown</td>',"<% } %>","</tr>","<tr>",'<th scope="row">Number of Columns</th>','<td scope="row"><%= _.escape(item.get("metadata_columns")) %></td>',"</tr>","<tr>",'<th scope="row">Column Types</th>','<td scope="row"><%= _.escape(item.get("metadata_column_types")) %></td>',"</tr>","<tr>",'<th scope="row">Message</th>','<td scope="row"><input class="input_dataset_message form-control" type="text" placeholder="message" value="<%= _.escape(item.get("message")) %>"></td>',"</tr>","<tr>",'<th scope="row">Misc. blurb</th>','<td scope="row"><%= _.escape(item.get("misc_blurb")) %></td>',"</tr>","<tr>",'<th scope="row">Misc. information</th>','<td><input class="input_dataset_misc_info form-control" type="text" placeholder="info" value="<%= _.escape(item.get("misc_info")) %>"></td>',"</tr>",'<% if (item.get("tags")) { %>',"<tr>",'<th scope="row">Tags</th>','<td scope="row"><%= _.escape(item.get("tags")) %></td>',"</tr>","<% } %>","</table>","<div>",'<pre class="peek">',"</pre>","</div>","</div>",'<div class="d-flex">','<button data-toggle="tooltip" data-placement="top" title="Cancel modifications" class="btn btn-secondary toolbtn_cancel_modifications toolbar-item mr-1" type="button">','<span class="fa fa-times"></span>',"&nbsp;Cancel","</button>",'<button data-toggle="tooltip" data-placement="top" title="Save modifications" class="btn btn-secondary toolbtn_save_modifications toolbar-item mr-1" type="button">','<span class="fa fa-floppy-o"></span>',"&nbsp;Save","</button>","</div>","</div>"].join(""))},templateDatasetPermissions:function(){return o.a.template(['<div class="library_style_container">','<div class="d-flex mb-2">','<a href="#folders/<%- item.get("folder_id") %>/datasets/<%- item.id %>">','<button data-toggle="tooltip" data-placement="top" title="Go back to dataset" class="btn btn-secondary toolbar-item mr-1" type="button">','<span class="fa fa-file-o"></span>',"&nbsp;Dataset Details","</button>","<a>","</div>",'<ol class="breadcrumb">','<li class="breadcrumb-item"><a title="Return to the list of libraries" href="#">Libraries</a></li>','<% _.each(item.get("full_path"), function(path_item) { %>',"<% if (path_item[0] != item.id) { %>",'<li class="breadcrumb-item"><a title="Return to this folder" href="#/folders/<%- path_item[0] %>"><%- path_item[1] %></a> </li> ',"<% } else { %>",'<li class="breadcrumb-item active"><span title="You are here"><%- path_item[1] %></span></li>',"<% } %>","<% }); %>","</ol>",'<h1>Dataset: <%= _.escape(item.get("name")) %></h1>','<div class="alert alert-warning">',"<% if (is_admin) { %>","You are logged in as an <strong>administrator</strong> therefore you can manage any dataset on this Galaxy instance. Please make sure you understand the consequences.","<% } else { %>","You can assign any number of roles to any of the following permission types. However please read carefully the implications of such actions.","<% } %>","</div>",'<div class="dataset_table">',"<h2>Library-related permissions</h2>","<h4>Roles that can modify the library item</h4>",'<div id="modify_perm" class="modify_perm roles-selection"></div>','<div class="alert alert-info roles-selection">User with <strong>any</strong> of these roles can modify name, metadata, and other information about this library item.</div>',"<hr/>","<h2>Dataset-related permissions</h2>",'<div class="alert alert-warning">Changes made below will affect <strong>every</strong> library item that was created from this dataset and also every history this dataset is part of.</div>','<% if (!item.get("is_unrestricted")) { %>','<p>You can <span class="remove-restrictions"><a href="">remove all access restrictions</a></span> on this dataset.</p>',"<% } else { %>",'<p>You can <span class="make-private"><a href="">make this dataset private</a></span> to you.</p>',"<% } %>","<h4>Roles that can access the dataset</h4>",'<div id="access_perm" class="access_perm roles-selection"></div>','<div class="alert alert-info roles-selection">',"User has to have <strong>all these roles</strong> in order to access this dataset."," Users without access permission <strong>cannot</strong> have other permissions on this dataset."," If there are no access roles set on the dataset it is considered <strong>unrestricted</strong>.","</div>","<h4>Roles that can manage permissions on the dataset</h4>",'<div id="manage_perm" class="manage_perm roles-selection"></div>','<div class="alert alert-info roles-selection">',"User with <strong>any</strong> of these roles can manage permissions of this dataset. If you remove yourself you will lose the ability manage this dataset unless you are an admin.","</div>",'<button data-toggle="tooltip" data-placement="top" title="Save modifications made on this page" class="btn btn-secondary toolbtn_save_permissions  type="button">','<span class="fa fa-floppy-o"></span>',"&nbsp;Save","</button>","</div>","</div>"].join(""))},templateBulkImportInModal:function(){return o.a.template(["<div>",'<div class="library-modal-item">',"Select history: ",'<select id="dataset_import_single" name="dataset_import_single" style="width:50%; margin-bottom: 1em; " autofocus>',"<% _.each(histories, function(history) { %>",'<option value="<%= _.escape(history.get("id")) %>"><%= _.escape(history.get("name")) %></option>',"<% }); %>","</select>","</div>",'<div class="library-modal-item">',"or create new: ",'<input type="text" name="history_name" value="" placeholder="name of the new history" style="width:50%;">',"</input>","</div>","</div>"].join(""))}});t.a={LibraryDatasetView:_}}).call(this,n(0),n(0))},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(4),a=n(457),s=n(85),l=n(1),c=n.n(l),u=a.a.ModelListPanel,d=u.extend({_logNamespace:"collections",className:"".concat(u.prototype.className," dataset-collection-panel"),DatasetDCEViewClass:s.a.DatasetDCEListItemView,modelCollectionKey:"elements",initialize:function(e){u.prototype.initialize.call(this,e),this.linkTarget=e.linkTarget||"_blank",this.dragItems=!0,this.hasUser=e.hasUser,this.panelStack=[],this.parentName=e.parentName,this.foldoutStyle=e.foldoutStyle||"foldout",this.downloadUrl="".concat(Object(o.a)(),"api/dataset_collections/").concat(this.model.attributes.id,"/download")},getNestedDCDCEViewClass:function(){return s.a.NestedDCDCEListItemView.extend({foldoutPanelClass:d})},_queueNewRender:function(e,t){t=void 0===t?this.fxSpeed:t;this.handleWarning(e),this.log("_queueNewRender:",e,t),this._swapNewRender(e),this.trigger("rendered",this)},handleWarning:function(e){var t=this.views.length,n=this.model.get("element_count");if(n&&n!==t){var i=c()("displaying only ".concat(t," of ").concat(n," items"));e.find(".elements-warning").html('<div class="warningmessagesmall">'.concat(i,"</div>"))}},_filterCollection:function(){return this.model.getVisibleContents()},_getItemViewClass:function(e){switch(e.get("element_type")){case"hda":return this.DatasetDCEViewClass;case"dataset_collection":return this.getNestedDCDCEViewClass()}throw new TypeError("Unknown element type:",e.get("element_type"))},_getItemViewOptions:function(e){var t=u.prototype._getItemViewOptions.call(this,e);return r.a.extend(t,{linkTarget:this.linkTarget,hasUser:this.hasUser,foldoutStyle:this.foldoutStyle})},_setUpItemViewListeners:function(e){return u.prototype._setUpItemViewListeners.call(this,e),this.listenTo(e,{"expanded:drilldown":function(e,t){this._expandDrilldownPanel(t)},"collapsed:drilldown":function(e,t){this._collapseDrilldownPanel(t)}}),this},_expandDrilldownPanel:function(e){this.panelStack.push(e),this.$("> .controls").add(this.$list()).hide(),e.parentName=this.model.get("name"),this.$el.append(e.render().$el)},_collapseDrilldownPanel:function(e){this.panelStack.pop(),this.render()},events:{"click .navigation .back":"close"},close:function(e){this.remove(),this.trigger("close")},toString:function(){return"CollectionView(".concat(this.model?this.model.get("name"):"",")")}});function h(e){var t=e.get("collection_type");return"list"==t?c()("list"):"paired"==t?c()("dataset pair"):"list:paired"==t?c()("list of pairs"):c()("nested list")}function f(e){var t,n=e.get("element_count"),i="a ".concat(h(e));n&&(1==n?t="with 1 item":n&&(t="with ".concat(n," items")),i="".concat(i," ").concat(c()(t)));return i}d.prototype.templates=r.a.extend(r.a.clone(u.prototype.templates),{controls:function(e,t){var n=f(t.model);return'\n        <div class="controls">\n            <div class="navigation">\n            <a class="back" href="javascript:void(0)">\n                <span class="fa fa-icon fa-angle-left"></span>\n                '.concat(c()("Back to "),"\n                ").concat(r.a.escape(t.parentName),'\n            </a>\n            </div>\n            <div class="title">\n                <div class="name">').concat(r.a.escape(e.name)||r.a.escape(e.element_identifier),'</div>\n                <div class="subtitle">\n                    ').concat(n,'\n                </div>\n            </div>\n            <div class="elements-warning">\n            </div>\n            <div class="tags-display"></div>\n            <div class="actions">\n                <a class="download-btn icon-btn" href="').concat(t.downloadUrl,'"\n                   title="" download="" data-original-title="Download Collection">\n                   <span class="fa fa-floppy-o"></span>\n                </a>\n            </div>\n        </div>')}}),t.a={collectionTypeDescription:h,collectionDescription:f,CollectionView:d}},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(4),l=n(5),c=n(16),u=n(94),d=n(350),h=n(459),f=n(41),p=n(8),m=n(1),g=n.n(m),_=u.b.DatasetListItemView,v=_.extend({initialize:function(e){_.prototype.initialize.call(this,e),this.hasUser=e.hasUser,this.purgeAllowed=e.purgeAllowed||!1,this.tagsEditorShown=e.tagsEditorShown||!1,this.annotationEditorShown=e.annotationEditorShown||!1},_renderPrimaryActions:function(){var e=_.prototype._renderPrimaryActions.call(this);return this.model.get("state")===c.a.NOT_VIEWABLE?e:_.prototype._renderPrimaryActions.call(this).concat([this._renderEditButton(),this._renderDeleteButton()])},_renderEditButton:function(){var e=this;if(this.model.get("state")===c.a.DISCARDED||!this.model.get("accessible"))return null;var t=this.model.get("purged"),n=this.model.get("deleted"),i={title:g()("Edit attributes"),href:"".concat(Object(s.a)(),"datasets/edit?dataset_id=").concat(this.model.attributes.id),faIcon:"fa-pencil",classes:"edit-btn",onclick:function(t){var n=Object(l.getGalaxyInstance)();n.router&&(t.preventDefault(),n.router.push("datasets/edit",{dataset_id:e.model.attributes.id}))}};return n||t?(i.disabled=!0,t?i.title=g()("Cannot edit attributes of datasets removed from disk"):n&&(i.title=g()("Undelete dataset to edit attributes"))):[c.a.UPLOAD,c.a.NEW].includes(this.model.get("state"))&&(i.disabled=!0,i.title=g()("This dataset is not yet editable")),Object(f.a)(i)},_renderDeleteButton:function(){if(!this.model.get("accessible"))return null;var e=this,t=this.model.isDeletedOrPurged();return Object(f.a)({title:t?g()("Dataset is already deleted"):g()("Delete"),disabled:t,faIcon:"fa-times",classes:"delete-btn",onclick:function(){e.$el.find(".icon-btn.delete-btn").tooltip("dispose"),e.model.delete()}})},_renderDetails:function(){var e=_.prototype._renderDetails.call(this),t=this.model.get("state");return this.model.isDeletedOrPurged()||(this._renderTags(e),this._renderAnnotation(e),[c.a.OK,c.a.FAILED_METADATA].includes(t)&&this._makeDbkeyEditLink(e)),this._setUpBehaviors(e),e},_renderToolHelpButton:function(){var e=this.model.attributes.dataset_id,t=this.model.attributes.creating_job,n=this,i=function(t){var i='<div id="thdiv-'.concat(e,'" class="toolhelp">');t.name&&t.help?(i+="<strong>Tool help for ".concat(t.name,"</strong><hr/>"),i+=t.help):i+="<strong>Tool help is unavailable for this dataset.</strong><hr/>",i+="</div>",n.$el.find(".details").append(a.a.parseHTML(i))};return null===Object(l.getGalaxyInstance)().user.id?null:Object(f.a)({title:g()("Tool Help"),classes:"icon-btn",href:"#",faIcon:"fa-question",onclick:function(){n.$el.find(".toolhelp").length>0?n.$el.find(".toolhelp").toggle():a.a.ajax({url:"".concat(Object(s.a)(),"api/jobs/").concat(t)}).done(function(e){!function(e){a.a.ajax({url:"".concat(Object(s.a)(),"api/tools/").concat(e.tool_id,"/build")}).done(function(e){i(e)}).fail(function(){i({})})}(e)}).fail(function(){console.log('Failed at recovering job information from the  Galaxy API for job id "'.concat(t,'".'))})}})},_renderSecondaryActions:function(){var e=_.prototype._renderSecondaryActions.call(this);switch(this.model.get("state")){case c.a.UPLOAD:case c.a.NOT_VIEWABLE:return e;case c.a.ERROR:return e.unshift(this._renderErrButton()),e.concat([this._renderRerunButton(),this._renderToolHelpButton()]);case c.a.OK:case c.a.FAILED_METADATA:return e.concat([this._renderRerunButton(),this._renderVisualizationsButton(),this._renderToolHelpButton()])}return e.concat([this._renderRerunButton(),this._renderToolHelpButton()])},_renderErrButton:function(){var e=this;return Object(f.a)({title:g()("View or report this error"),href:"".concat(Object(s.a)(),"datasets/error?dataset_id=").concat(this.model.attributes.id),classes:"report-error-btn",faIcon:"fa-bug",onclick:function(t){var n=Object(l.getGalaxyInstance)();n.router&&(t.preventDefault(),n.router.push("datasets/error",{dataset_id:e.model.attributes.id}))}})},_renderRerunButton:function(){var e=this.model.get("creating_job");if(this.model.get("rerunnable"))return Object(f.a)({title:g()("Run this job again"),href:this.model.urls.rerun,classes:"rerun-btn",target:this.linkTarget,faIcon:"fa-refresh",onclick:function(t){var n=Object(l.getGalaxyInstance)();n.router&&(t.preventDefault(),n.router.push("/",{job_id:e}))}})},_renderVisualizationsButton:function(){var e=this.model.get("visualizations");if(this.model.isDeletedOrPurged()||!this.hasUser||!this.model.hasData()||r.a.isEmpty(e))return null;if(!r.a.isObject(e[0]))return this.warn("Visualizations have been switched off"),null;if(e.length>=1){var t=this.model.get("id"),n=Object(s.a)()+"visualizations?dataset_id="+t;return Object(f.a)({title:g()("Visualize this data"),href:n,classes:"visualization-link",faIcon:"fa-bar-chart-o",onclick:function(e){var i=Object(l.getGalaxyInstance)();i.frame&&i.frame.active?(e.preventDefault(),i.frame.add({url:n,title:"Visualization"})):i.router&&(e.preventDefault(),i.router.push("visualizations",{dataset_id:t}),i.trigger("activate-hda",t))}})}},_renderTags:function(e){if(this.hasUser){var t=this;this.tagsEditor=new d.a.TagsEditor({model:this.model,el:e.find(".tags-display"),onshowFirstTime:function(){this.render()},onshow:function(){t.tagsEditorShown=!0},onhide:function(){t.tagsEditorShown=!1},$activator:Object(f.a)({title:g()("Edit dataset tags"),classes:"tag-btn",faIcon:"fa-tags"}).appendTo(e.find(".actions .right"))}),this.tagsEditorShown&&this.tagsEditor.toggle(!0)}},_renderAnnotation:function(e){if(this.hasUser){var t=this;this.annotationEditor=new h.a.AnnotationEditor({model:this.model,el:e.find(".annotation-display"),onshowFirstTime:function(){this.render()},onshow:function(){t.annotationEditorShown=!0},onhide:function(){t.annotationEditorShown=!1},$activator:Object(f.a)({title:g()("Edit dataset annotation"),classes:"annotate-btn",faIcon:"fa-comment"}).appendTo(e.find(".actions .right"))}),this.annotationEditorShown&&this.annotationEditor.toggle(!0)}},_makeDbkeyEditLink:function(e){if("?"===this.model.get("metadata_dbkey")&&!this.model.isDeletedOrPurged()){var t=a()('<a class="value">?</a>').attr("href",this.model.urls.edit).attr("target","_top");e.find(".dbkey .value").replaceWith(t)}},events:r.a.extend(r.a.clone(_.prototype.events),{"click .undelete-link":"_clickUndeleteLink","click .purge-link":"_clickPurgeLink","click .edit-btn":function(e){this.trigger("edit",this,e)},"click .delete-btn":function(e){this.trigger("delete",this,e)},"click .rerun-btn":function(e){this.trigger("rerun",this,e)},"click .report-err-btn":function(e){this.trigger("report-err",this,e)},"click .visualization-btn":function(e){this.trigger("visualize",this,e)},"click .dbkey a":function(e){this.trigger("edit",this,e)}}),_clickUndeleteLink:function(e){return this.model.undelete(),!1},_clickPurgeLink:function(e){return window.confirm(g()("This will permanently remove the data in your dataset. Are you sure?"))&&this.model.purge(),!1},toString:function(){var e=this.model?"".concat(this.model):"(no model)";return"HDAEditView(".concat(e,")")}});v.prototype.templates=function(){var e=r.a.extend({},_.prototype.templates.warnings,{failed_metadata:p.a.wrapTemplate(['<% if( dataset.state === "failed_metadata" ){ %>','<div class="failed_metadata-warning warningmessagesmall">',g()("An error occurred setting the metadata for this dataset"),'<br /><a href="<%- dataset.urls.edit %>" target="_top">',g()("Set it manually or retry auto-detection"),"</a>","</div>","<% } %>"],"dataset"),deleted:p.a.wrapTemplate(["<% if( dataset.deleted && !dataset.purged ){ %>",'<div class="deleted-msg warningmessagesmall">',g()("This dataset has been deleted"),'<br /><a class="undelete-link" href="javascript:void(0);">',g()("Undelete it"),"</a>","<% if( view.purgeAllowed ){ %>",'<br /><a class="purge-link" href="javascript:void(0);">',g()("Permanently remove it from disk"),"</a>","<% } %>","</div>","<% } %>"],"dataset")}),t=p.a.wrapTemplate(["<% if( visualizations.length === 1 ){ %>",'<a class="visualization-link icon-btn" href="<%- visualizations[0].href %>"',' target="<%- visualizations[0].target %>" title="',g()("Visualize in"),' <%- visualizations[0].html %>">','<span class="fa fa-bar-chart-o"></span>',"</a>","<% } else { %>",'<div class="visualizations-dropdown dropdown icon-btn">','<a data-toggle="dropdown" title="',g()("Visualize"),'">','<span class="fa fa-bar-chart-o"></span>',"</a>",'<ul class="dropdown-menu" role="menu">',"<% _.each( visualizations, function( visualization ){ %>",'<li><a class="visualization-link" href="<%- visualization.href %>"',' target="<%- visualization.target %>">',"<%- visualization.html %>","</a></li>","<% }); %>","</ul>","</div>","<% } %>"],"visualizations");return r.a.extend({},_.prototype.templates,{warnings:e,visualizations:t})}(),t.a={DatasetListItemEdit:v}},function(e,t,n){"use strict";var i=n(1),r=n.n(i),o=n(2),a=n.n(o),s=n(0),l=n.n(s),c=n(3),u=n.n(c),d=n(4),h=(n(976),window.Tour),f=Object(d.a)(),p={storage:window.sessionStorage,onEnd:function(){window.sessionStorage.removeItem("activeGalaxyTour")},delay:150,orphan:!0},m=function(e){return a.a.each(e.steps,function(e){e.preclick&&(e.onShow=function(){a.a.each(e.preclick,function(e){l()(e).click()})}),e.postclick&&(e.onHide=function(){a.a.each(e.postclick,function(e){l()(e).click()})}),e.textinsert&&(e.onShown=function(){l()(e.element).val(e.textinsert).trigger("change")}),e.path&&(console.warn("This Galaxy Tour is attempting to use path navigation.  This is known to be unstable and can possibly get the Galaxy client 'stuck' in a tour, and at this time is not allowed."),delete e.path)}),e},g=u.a.Model.extend({urlRoot:"".concat(f,"api/tours")}),_=u.a.Collection.extend({url:"".concat(f,"api/tours"),model:g}),v=u.a.View.extend({title:r()("Tours"),initialize:function(){var e=this;this.setElement("<div/>"),this.model=new _,this.model.fetch({success:function(){e.render()},error:function(){console.error("Failed to fetch tours.")}})},render:function(){var e=a.a.template('\n    <h2>Galaxy Tours</h2>\n    <p>This page presents a list of interactive tours available on this Galaxy server.\n    Select any tour to get started (and remember, you can click \'End Tour\' at any time).</p>\n\n<div class="row mb-3">\n    <div class="col-12 btn-group" role="group" aria-label="Tag selector">\n        <% _.each(tourtagorder, function(tag) { %>\n        <button class="btn btn-primary tag-selector-button" tag-selector-button="<%- tag %>">\n            <%- tag %>\n        </button>\n        <% }); %>\n    </div>\n</div>\n\n<% _.each(tourtagorder, function(tourtagkey) { %>\n<div tag="<%- tourtagkey %>" class="row mb-3">\n    <div class="col-12">\n    <% var tourtag = tourtags[tourtagkey]; %>\n    <h4>\n        <%- tourtag.name %>\n    </h4>\n    <ul class="list-group">\n    <% _.each(tourtag.tours, function(tour) { %>\n        <li class="list-group-item">\n            <a href="/tours/<%- tour.id %>" class="tourItem" data-tour.id=<%- tour.id %>>\n                <%- tour.attributes.name || tour.id %>\n            </a>\n             - <%- tour.attributes.description || "No description given." %>\n             <% _.each(tour.attributes.tags, function(tag) { %>\n                <span class="badge badge-primary">\n                    <%- tag.charAt(0).toUpperCase() + tag.slice(1) %>\n                </span>\n             <% }); %>\n        </li>\n    <% }); %>\n    </ul>\n    </div>\n</div>\n<% }); %>'),t={};a.a.each(this.model.models,function(e){null===e.attributes.tags?(void 0===t.Untagged&&(t.Untagged={name:"Untagged",tours:[]}),t.Untagged.tours.push(e)):a.a.each(e.attributes.tags,function(n){n=n.charAt(0).toUpperCase()+n.slice(1),void 0===t[n]&&(t[n]={name:n,tours:[]}),t[n].tours.push(e)})});var n=Object.keys(t).sort();this.$el.html(e({tours:this.model.models,tourtags:t,tourtagorder:n})).on("click",".tourItem",function(e){e.preventDefault(),b(l()(this).data("tour.id"))}).on("click",".tag-selector-button",function(e){var t=l()(e.target),n="block",i=t.attr("tag-selector-button");t.toggleClass("btn-primary"),t.toggleClass("btn-secondary"),t.hasClass("btn-secondary")&&(n="none"),l()("div[tag='".concat(i,"']")).css({display:n})})}});function y(e){var t=m(e);window.sessionStorage.setItem("activeGalaxyTour",JSON.stringify(e));var n=new h(a.a.extend({steps:t.steps},p));return n.init(),n.goTo(0),n.restart(),n}function b(e){var t="".concat(f,"api/tours/").concat(e);l.a.getJSON(t,function(e){y(e)})}t.a={ToursView:v,giveTourWithData:y,giveTourById:b,activeGalaxyTourRunner:function(){var e=JSON.parse(window.sessionStorage.getItem("activeGalaxyTour"));if(e&&(e=m(e))&&e.steps&&window&&window.self===window.top){var t=new h(a.a.extend({steps:e.steps},p));t.init(),t.restart()}}}},function(e,t,n){var i=n(89);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){
/*!
  * Bootstrap v4.1.3 (https://getbootstrap.com/)
  * Copyright 2011-2018 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */
!function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){o(e,t,n[t])})}return e}t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var s=function(e){var t="transitionend";function n(e){return{}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()}function i(t){var n=this,i=!1;return e(this).one(r.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||r.triggerTransitionEnd(n)},t),this}var r={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");t&&"#"!==t||(t=e.getAttribute("href")||"");try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var n=e(t).css("transition-duration"),i=parseFloat(n);return i?(n=n.split(",")[0],1e3*parseFloat(n)):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(n){e(n).trigger(t)},supportsTransitionEnd:function(){return Boolean(t)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,i){for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)){var a=i[o],s=t[o],l=s&&r.isElement(s)?"element":n(s);if(!new RegExp(a).test(l))throw new Error(e.toUpperCase()+': Option "'+o+'" provided type "'+l+'" but expected type "'+a+'".')}}};return e.fn.emulateTransitionEnd=i,e.event.special[r.TRANSITION_END]={bindType:t,delegateType:t,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}},r}(t),l=function(e){var t=e.fn.alert,n={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},i={ALERT:"alert",FADE:"fade",SHOW:"show"},o=function(){function t(e){this._element=e}var o=t.prototype;return o.close=function(e){var t=this._element;e&&(t=this._getRootElement(e));var n=this._triggerCloseEvent(t);n.isDefaultPrevented()||this._removeElement(t)},o.dispose=function(){e.removeData(this._element,"bs.alert"),this._element=null},o._getRootElement=function(t){var n=s.getSelectorFromElement(t),r=!1;return n&&(r=document.querySelector(n)),r||(r=e(t).closest("."+i.ALERT)[0]),r},o._triggerCloseEvent=function(t){var i=e.Event(n.CLOSE);return e(t).trigger(i),i},o._removeElement=function(t){var n=this;if(e(t).removeClass(i.SHOW),e(t).hasClass(i.FADE)){var r=s.getTransitionDurationFromElement(t);e(t).one(s.TRANSITION_END,function(e){return n._destroyElement(t,e)}).emulateTransitionEnd(r)}else this._destroyElement(t)},o._destroyElement=function(t){e(t).detach().trigger(n.CLOSED).remove()},t._jQueryInterface=function(n){return this.each(function(){var i=e(this),r=i.data("bs.alert");r||(r=new t(this),i.data("bs.alert",r)),"close"===n&&r[n](this)})},t._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},r(t,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),t}();return e(document).on(n.CLICK_DATA_API,'[data-dismiss="alert"]',o._handleDismiss(new o)),e.fn.alert=o._jQueryInterface,e.fn.alert.Constructor=o,e.fn.alert.noConflict=function(){return e.fn.alert=t,o._jQueryInterface},o}(t),c=function(e){var t="button",n=e.fn[t],i={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},o={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:"input",ACTIVE:".active",BUTTON:".btn"},a={CLICK_DATA_API:"click.bs.button.data-api",FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api"},s=function(){function t(e){this._element=e}var n=t.prototype;return n.toggle=function(){var t=!0,n=!0,r=e(this._element).closest(o.DATA_TOGGLE)[0];if(r){var a=this._element.querySelector(o.INPUT);if(a){if("radio"===a.type)if(a.checked&&this._element.classList.contains(i.ACTIVE))t=!1;else{var s=r.querySelector(o.ACTIVE);s&&e(s).removeClass(i.ACTIVE)}if(t){if(a.hasAttribute("disabled")||r.hasAttribute("disabled")||a.classList.contains("disabled")||r.classList.contains("disabled"))return;a.checked=!this._element.classList.contains(i.ACTIVE),e(a).trigger("change")}a.focus(),n=!1}}n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(i.ACTIVE)),t&&e(this._element).toggleClass(i.ACTIVE)},n.dispose=function(){e.removeData(this._element,"bs.button"),this._element=null},t._jQueryInterface=function(n){return this.each(function(){var i=e(this).data("bs.button");i||(i=new t(this),e(this).data("bs.button",i)),"toggle"===n&&i[n]()})},r(t,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),t}();return e(document).on(a.CLICK_DATA_API,o.DATA_TOGGLE_CARROT,function(t){t.preventDefault();var n=t.target;e(n).hasClass(i.BUTTON)||(n=e(n).closest(o.BUTTON)),s._jQueryInterface.call(e(n),"toggle")}).on(a.FOCUS_BLUR_DATA_API,o.DATA_TOGGLE_CARROT,function(t){var n=e(t.target).closest(o.BUTTON)[0];e(n).toggleClass(i.FOCUS,/^focus(in)?$/.test(t.type))}),e.fn[t]=s._jQueryInterface,e.fn[t].Constructor=s,e.fn[t].noConflict=function(){return e.fn[t]=n,s._jQueryInterface},s}(t),u=function(e){var t="carousel",n="bs.carousel",i="."+n,o=e.fn[t],l={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},c={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},u={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},d={SLIDE:"slide"+i,SLID:"slid"+i,KEYDOWN:"keydown"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i,TOUCHEND:"touchend"+i,LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},h={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item"},f={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},p=function(){function o(t,n){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(n),this._element=e(t)[0],this._indicatorsElement=this._element.querySelector(f.INDICATORS),this._addEventListeners()}var p=o.prototype;return p.next=function(){this._isSliding||this._slide(u.NEXT)},p.nextWhenVisible=function(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()},p.prev=function(){this._isSliding||this._slide(u.PREV)},p.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(f.NEXT_PREV)&&(s.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},p.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},p.to=function(t){var n=this;this._activeElement=this._element.querySelector(f.ACTIVE_ITEM);var i=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)e(this._element).one(d.SLID,function(){return n.to(t)});else{if(i===t)return this.pause(),void this.cycle();var r=t>i?u.NEXT:u.PREV;this._slide(r,this._items[t])}},p.dispose=function(){e(this._element).off(i),e.removeData(this._element,n),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},p._getConfig=function(e){return e=a({},l,e),s.typeCheckConfig(t,e,c),e},p._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on(d.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&(e(this._element).on(d.MOUSEENTER,function(e){return t.pause(e)}).on(d.MOUSELEAVE,function(e){return t.cycle(e)}),"ontouchstart"in document.documentElement&&e(this._element).on(d.TOUCHEND,function(){t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},500+t._config.interval)}))},p._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},p._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(f.ITEM)):[],this._items.indexOf(e)},p._getItemByDirection=function(e,t){var n=e===u.NEXT,i=e===u.PREV,r=this._getItemIndex(t),o=this._items.length-1,a=i&&0===r||n&&r===o;if(a&&!this._config.wrap)return t;var s=e===u.PREV?-1:1,l=(r+s)%this._items.length;return-1===l?this._items[this._items.length-1]:this._items[l]},p._triggerSlideEvent=function(t,n){var i=this._getItemIndex(t),r=this._getItemIndex(this._element.querySelector(f.ACTIVE_ITEM)),o=e.Event(d.SLIDE,{relatedTarget:t,direction:n,from:r,to:i});return e(this._element).trigger(o),o},p._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var n=[].slice.call(this._indicatorsElement.querySelectorAll(f.ACTIVE));e(n).removeClass(h.ACTIVE);var i=this._indicatorsElement.children[this._getItemIndex(t)];i&&e(i).addClass(h.ACTIVE)}},p._slide=function(t,n){var i,r,o,a=this,l=this._element.querySelector(f.ACTIVE_ITEM),c=this._getItemIndex(l),p=n||l&&this._getItemByDirection(t,l),m=this._getItemIndex(p),g=Boolean(this._interval);if(t===u.NEXT?(i=h.LEFT,r=h.NEXT,o=u.LEFT):(i=h.RIGHT,r=h.PREV,o=u.RIGHT),p&&e(p).hasClass(h.ACTIVE))this._isSliding=!1;else{var _=this._triggerSlideEvent(p,o);if(!_.isDefaultPrevented()&&l&&p){this._isSliding=!0,g&&this.pause(),this._setActiveIndicatorElement(p);var v=e.Event(d.SLID,{relatedTarget:p,direction:o,from:c,to:m});if(e(this._element).hasClass(h.SLIDE)){e(p).addClass(r),s.reflow(p),e(l).addClass(i),e(p).addClass(i);var y=s.getTransitionDurationFromElement(l);e(l).one(s.TRANSITION_END,function(){e(p).removeClass(i+" "+r).addClass(h.ACTIVE),e(l).removeClass(h.ACTIVE+" "+r+" "+i),a._isSliding=!1,setTimeout(function(){return e(a._element).trigger(v)},0)}).emulateTransitionEnd(y)}else e(l).removeClass(h.ACTIVE),e(p).addClass(h.ACTIVE),this._isSliding=!1,e(this._element).trigger(v);g&&this.cycle()}}},o._jQueryInterface=function(t){return this.each(function(){var i=e(this).data(n),r=a({},l,e(this).data());"object"==typeof t&&(r=a({},r,t));var s="string"==typeof t?t:r.slide;if(i||(i=new o(this,r),e(this).data(n,i)),"number"==typeof t)i.to(t);else if("string"==typeof s){if(void 0===i[s])throw new TypeError('No method named "'+s+'"');i[s]()}else r.interval&&(i.pause(),i.cycle())})},o._dataApiClickHandler=function(t){var i=s.getSelectorFromElement(this);if(i){var r=e(i)[0];if(r&&e(r).hasClass(h.CAROUSEL)){var l=a({},e(r).data(),e(this).data()),c=this.getAttribute("data-slide-to");c&&(l.interval=!1),o._jQueryInterface.call(e(r),l),c&&e(r).data(n).to(c),t.preventDefault()}}},r(o,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return l}}]),o}();return e(document).on(d.CLICK_DATA_API,f.DATA_SLIDE,p._dataApiClickHandler),e(window).on(d.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(f.DATA_RIDE)),n=0,i=t.length;n<i;n++){var r=e(t[n]);p._jQueryInterface.call(r,r.data())}}),e.fn[t]=p._jQueryInterface,e.fn[t].Constructor=p,e.fn[t].noConflict=function(){return e.fn[t]=o,p._jQueryInterface},p}(t),d=function(e){var t="collapse",n="bs.collapse",i=e.fn[t],o={toggle:!0,parent:""},l={toggle:"boolean",parent:"(string|element)"},c={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},u={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},d={WIDTH:"width",HEIGHT:"height"},h={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},f=function(){function i(t,n){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(n),this._triggerArray=e.makeArray(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var i=[].slice.call(document.querySelectorAll(h.DATA_TOGGLE)),r=0,o=i.length;r<o;r++){var a=i[r],l=s.getSelectorFromElement(a),c=[].slice.call(document.querySelectorAll(l)).filter(function(e){return e===t});null!==l&&c.length>0&&(this._selector=l,this._triggerArray.push(a))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var f=i.prototype;return f.toggle=function(){e(this._element).hasClass(u.SHOW)?this.hide():this.show()},f.show=function(){var t,r,o=this;if(!(this._isTransitioning||e(this._element).hasClass(u.SHOW)||(this._parent&&0===(t=[].slice.call(this._parent.querySelectorAll(h.ACTIVES)).filter(function(e){return e.getAttribute("data-parent")===o._config.parent})).length&&(t=null),t&&(r=e(t).not(this._selector).data(n))&&r._isTransitioning))){var a=e.Event(c.SHOW);if(e(this._element).trigger(a),!a.isDefaultPrevented()){t&&(i._jQueryInterface.call(e(t).not(this._selector),"hide"),r||e(t).data(n,null));var l=this._getDimension();e(this._element).removeClass(u.COLLAPSE).addClass(u.COLLAPSING),this._element.style[l]=0,this._triggerArray.length&&e(this._triggerArray).removeClass(u.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var d=l[0].toUpperCase()+l.slice(1),f="scroll"+d,p=s.getTransitionDurationFromElement(this._element);e(this._element).one(s.TRANSITION_END,function(){e(o._element).removeClass(u.COLLAPSING).addClass(u.COLLAPSE).addClass(u.SHOW),o._element.style[l]="",o.setTransitioning(!1),e(o._element).trigger(c.SHOWN)}).emulateTransitionEnd(p),this._element.style[l]=this._element[f]+"px"}}},f.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass(u.SHOW)){var n=e.Event(c.HIDE);if(e(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",s.reflow(this._element),e(this._element).addClass(u.COLLAPSING).removeClass(u.COLLAPSE).removeClass(u.SHOW);var r=this._triggerArray.length;if(r>0)for(var o=0;o<r;o++){var a=this._triggerArray[o],l=s.getSelectorFromElement(a);if(null!==l){var d=e([].slice.call(document.querySelectorAll(l)));d.hasClass(u.SHOW)||e(a).addClass(u.COLLAPSED).attr("aria-expanded",!1)}}this.setTransitioning(!0),this._element.style[i]="";var h=s.getTransitionDurationFromElement(this._element);e(this._element).one(s.TRANSITION_END,function(){t.setTransitioning(!1),e(t._element).removeClass(u.COLLAPSING).addClass(u.COLLAPSE).trigger(c.HIDDEN)}).emulateTransitionEnd(h)}}},f.setTransitioning=function(e){this._isTransitioning=e},f.dispose=function(){e.removeData(this._element,n),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},f._getConfig=function(e){return(e=a({},o,e)).toggle=Boolean(e.toggle),s.typeCheckConfig(t,e,l),e},f._getDimension=function(){var t=e(this._element).hasClass(d.WIDTH);return t?d.WIDTH:d.HEIGHT},f._getParent=function(){var t=this,n=null;s.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=document.querySelector(this._config.parent);var r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',o=[].slice.call(n.querySelectorAll(r));return e(o).each(function(e,n){t._addAriaAndCollapsedClass(i._getTargetFromElement(n),[n])}),n},f._addAriaAndCollapsedClass=function(t,n){if(t){var i=e(t).hasClass(u.SHOW);n.length&&e(n).toggleClass(u.COLLAPSED,!i).attr("aria-expanded",i)}},i._getTargetFromElement=function(e){var t=s.getSelectorFromElement(e);return t?document.querySelector(t):null},i._jQueryInterface=function(t){return this.each(function(){var r=e(this),s=r.data(n),l=a({},o,r.data(),"object"==typeof t&&t?t:{});if(!s&&l.toggle&&/show|hide/.test(t)&&(l.toggle=!1),s||(s=new i(this,l),r.data(n,s)),"string"==typeof t){if(void 0===s[t])throw new TypeError('No method named "'+t+'"');s[t]()}})},r(i,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return o}}]),i}();return e(document).on(c.CLICK_DATA_API,h.DATA_TOGGLE,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var i=e(this),r=s.getSelectorFromElement(this),o=[].slice.call(document.querySelectorAll(r));e(o).each(function(){var t=e(this),r=t.data(n),o=r?"toggle":i.data();f._jQueryInterface.call(t,o)})}),e.fn[t]=f._jQueryInterface,e.fn[t].Constructor=f,e.fn[t].noConflict=function(){return e.fn[t]=i,f._jQueryInterface},f}(t),h=function(e){var t="dropdown",i="bs.dropdown",o="."+i,l=e.fn[t],c=new RegExp("38|40|27"),u={HIDE:"hide"+o,HIDDEN:"hidden"+o,SHOW:"show"+o,SHOWN:"shown"+o,CLICK:"click"+o,CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},d={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"},h={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"},f={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},p={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},m={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},g=function(){function l(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var g=l.prototype;return g.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass(d.DISABLED)){var t=l._getParentFromElement(this._element),i=e(this._menu).hasClass(d.SHOW);if(l._clearMenus(),!i){var r={relatedTarget:this._element},o=e.Event(u.SHOW,r);if(e(t).trigger(o),!o.isDefaultPrevented()){if(!this._inNavbar){if(void 0===n)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var a=this._element;"parent"===this._config.reference?a=t:s.isElement(this._config.reference)&&(a=this._config.reference,void 0!==this._config.reference.jquery&&(a=this._config.reference[0])),"scrollParent"!==this._config.boundary&&e(t).addClass(d.POSITION_STATIC),this._popper=new n(a,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===e(t).closest(h.NAVBAR_NAV).length&&e(document.body).children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass(d.SHOW),e(t).toggleClass(d.SHOW).trigger(e.Event(u.SHOWN,r))}}}},g.dispose=function(){e.removeData(this._element,i),e(this._element).off(o),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},g.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},g._addEventListeners=function(){var t=this;e(this._element).on(u.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},g._getConfig=function(n){return n=a({},this.constructor.Default,e(this._element).data(),n),s.typeCheckConfig(t,n,this.constructor.DefaultType),n},g._getMenuElement=function(){if(!this._menu){var e=l._getParentFromElement(this._element);e&&(this._menu=e.querySelector(h.MENU))}return this._menu},g._getPlacement=function(){var t=e(this._element.parentNode),n=f.BOTTOM;return t.hasClass(d.DROPUP)?(n=f.TOP,e(this._menu).hasClass(d.MENURIGHT)&&(n=f.TOPEND)):t.hasClass(d.DROPRIGHT)?n=f.RIGHT:t.hasClass(d.DROPLEFT)?n=f.LEFT:e(this._menu).hasClass(d.MENURIGHT)&&(n=f.BOTTOMEND),n},g._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},g._getPopperConfig=function(){var e=this,t={};"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=a({},t.offsets,e._config.offset(t.offsets)||{}),t}:t.offset=this._config.offset;var n={placement:this._getPlacement(),modifiers:{offset:t,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(n.modifiers.applyStyle={enabled:!1}),n},l._jQueryInterface=function(t){return this.each(function(){var n=e(this).data(i),r="object"==typeof t?t:null;if(n||(n=new l(this,r),e(this).data(i,n)),"string"==typeof t){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}})},l._clearMenus=function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var n=[].slice.call(document.querySelectorAll(h.DATA_TOGGLE)),r=0,o=n.length;r<o;r++){var a=l._getParentFromElement(n[r]),s=e(n[r]).data(i),c={relatedTarget:n[r]};if(t&&"click"===t.type&&(c.clickEvent=t),s){var f=s._menu;if(e(a).hasClass(d.SHOW)&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&e.contains(a,t.target))){var p=e.Event(u.HIDE,c);e(a).trigger(p),p.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),n[r].setAttribute("aria-expanded","false"),e(f).removeClass(d.SHOW),e(a).removeClass(d.SHOW).trigger(e.Event(u.HIDDEN,c)))}}}},l._getParentFromElement=function(e){var t,n=s.getSelectorFromElement(e);return n&&(t=document.querySelector(n)),t||e.parentNode},l._dataApiKeydownHandler=function(t){if((/input|textarea/i.test(t.target.tagName)?!(32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||e(t.target).closest(h.MENU).length)):c.test(t.which))&&(t.preventDefault(),t.stopPropagation(),!this.disabled&&!e(this).hasClass(d.DISABLED))){var n=l._getParentFromElement(this),i=e(n).hasClass(d.SHOW);if((i||27===t.which&&32===t.which)&&(!i||27!==t.which&&32!==t.which)){var r=[].slice.call(n.querySelectorAll(h.VISIBLE_ITEMS));if(0!==r.length){var o=r.indexOf(t.target);38===t.which&&o>0&&o--,40===t.which&&o<r.length-1&&o++,o<0&&(o=0),r[o].focus()}}else{if(27===t.which){var a=n.querySelector(h.DATA_TOGGLE);e(a).trigger("focus")}e(this).trigger("click")}}},r(l,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return p}},{key:"DefaultType",get:function(){return m}}]),l}();return e(document).on(u.KEYDOWN_DATA_API,h.DATA_TOGGLE,g._dataApiKeydownHandler).on(u.KEYDOWN_DATA_API,h.MENU,g._dataApiKeydownHandler).on(u.CLICK_DATA_API+" "+u.KEYUP_DATA_API,g._clearMenus).on(u.CLICK_DATA_API,h.DATA_TOGGLE,function(t){t.preventDefault(),t.stopPropagation(),g._jQueryInterface.call(e(this),"toggle")}).on(u.CLICK_DATA_API,h.FORM_CHILD,function(e){e.stopPropagation()}),e.fn[t]=g._jQueryInterface,e.fn[t].Constructor=g,e.fn[t].noConflict=function(){return e.fn[t]=l,g._jQueryInterface},g}(t),f=function(e){var t="modal",n=".bs.modal",i=e.fn.modal,o={backdrop:!0,keyboard:!0,focus:!0,show:!0},l={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},c={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},u={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},d={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},h=function(){function i(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(d.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._scrollbarWidth=0}var h=i.prototype;return h.toggle=function(e){return this._isShown?this.hide():this.show(e)},h.show=function(t){var n=this;if(!this._isTransitioning&&!this._isShown){e(this._element).hasClass(u.FADE)&&(this._isTransitioning=!0);var i=e.Event(c.SHOW,{relatedTarget:t});e(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),e(document.body).addClass(u.OPEN),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on(c.CLICK_DISMISS,d.DATA_DISMISS,function(e){return n.hide(e)}),e(this._dialog).on(c.MOUSEDOWN_DISMISS,function(){e(n._element).one(c.MOUSEUP_DISMISS,function(t){e(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(t)}))}},h.hide=function(t){var n=this;if(t&&t.preventDefault(),!this._isTransitioning&&this._isShown){var i=e.Event(c.HIDE);if(e(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var r=e(this._element).hasClass(u.FADE);if(r&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off(c.FOCUSIN),e(this._element).removeClass(u.SHOW),e(this._element).off(c.CLICK_DISMISS),e(this._dialog).off(c.MOUSEDOWN_DISMISS),r){var o=s.getTransitionDurationFromElement(this._element);e(this._element).one(s.TRANSITION_END,function(e){return n._hideModal(e)}).emulateTransitionEnd(o)}else this._hideModal()}}},h.dispose=function(){e.removeData(this._element,"bs.modal"),e(window,document,this._element,this._backdrop).off(n),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},h.handleUpdate=function(){this._adjustDialog()},h._getConfig=function(e){return e=a({},o,e),s.typeCheckConfig(t,e,l),e},h._showElement=function(t){var n=this,i=e(this._element).hasClass(u.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,i&&s.reflow(this._element),e(this._element).addClass(u.SHOW),this._config.focus&&this._enforceFocus();var r=e.Event(c.SHOWN,{relatedTarget:t}),o=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,e(n._element).trigger(r)};if(i){var a=s.getTransitionDurationFromElement(this._element);e(this._dialog).one(s.TRANSITION_END,o).emulateTransitionEnd(a)}else o()},h._enforceFocus=function(){var t=this;e(document).off(c.FOCUSIN).on(c.FOCUSIN,function(n){document!==n.target&&t._element!==n.target&&0===e(t._element).has(n.target).length&&t._element.focus()})},h._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?e(this._element).on(c.KEYDOWN_DISMISS,function(e){27===e.which&&(e.preventDefault(),t.hide())}):this._isShown||e(this._element).off(c.KEYDOWN_DISMISS)},h._setResizeEvent=function(){var t=this;this._isShown?e(window).on(c.RESIZE,function(e){return t.handleUpdate(e)}):e(window).off(c.RESIZE)},h._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){e(document.body).removeClass(u.OPEN),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger(c.HIDDEN)})},h._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},h._showBackdrop=function(t){var n=this,i=e(this._element).hasClass(u.FADE)?u.FADE:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=u.BACKDROP,i&&this._backdrop.classList.add(i),e(this._backdrop).appendTo(document.body),e(this._element).on(c.CLICK_DISMISS,function(e){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())}),i&&s.reflow(this._backdrop),e(this._backdrop).addClass(u.SHOW),!t)return;if(!i)return void t();var r=s.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(s.TRANSITION_END,t).emulateTransitionEnd(r)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass(u.SHOW);var o=function(){n._removeBackdrop(),t&&t()};if(e(this._element).hasClass(u.FADE)){var a=s.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(s.TRANSITION_END,o).emulateTransitionEnd(a)}else o()}else t&&t()},h._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},h._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},h._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},h._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var n=[].slice.call(document.querySelectorAll(d.FIXED_CONTENT)),i=[].slice.call(document.querySelectorAll(d.STICKY_CONTENT));e(n).each(function(n,i){var r=i.style.paddingRight,o=e(i).css("padding-right");e(i).data("padding-right",r).css("padding-right",parseFloat(o)+t._scrollbarWidth+"px")}),e(i).each(function(n,i){var r=i.style.marginRight,o=e(i).css("margin-right");e(i).data("margin-right",r).css("margin-right",parseFloat(o)-t._scrollbarWidth+"px")});var r=document.body.style.paddingRight,o=e(document.body).css("padding-right");e(document.body).data("padding-right",r).css("padding-right",parseFloat(o)+this._scrollbarWidth+"px")}},h._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(d.FIXED_CONTENT));e(t).each(function(t,n){var i=e(n).data("padding-right");e(n).removeData("padding-right"),n.style.paddingRight=i||""});var n=[].slice.call(document.querySelectorAll(""+d.STICKY_CONTENT));e(n).each(function(t,n){var i=e(n).data("margin-right");void 0!==i&&e(n).css("margin-right",i).removeData("margin-right")});var i=e(document.body).data("padding-right");e(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},h._getScrollbarWidth=function(){var e=document.createElement("div");e.className=u.SCROLLBAR_MEASURER,document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},i._jQueryInterface=function(t,n){return this.each(function(){var r=e(this).data("bs.modal"),s=a({},o,e(this).data(),"object"==typeof t&&t?t:{});if(r||(r=new i(this,s),e(this).data("bs.modal",r)),"string"==typeof t){if(void 0===r[t])throw new TypeError('No method named "'+t+'"');r[t](n)}else s.show&&r.show(n)})},r(i,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return o}}]),i}();return e(document).on(c.CLICK_DATA_API,d.DATA_TOGGLE,function(t){var n,i=this,r=s.getSelectorFromElement(this);r&&(n=document.querySelector(r));var o=e(n).data("bs.modal")?"toggle":a({},e(n).data(),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var l=e(n).one(c.SHOW,function(t){t.isDefaultPrevented()||l.one(c.HIDDEN,function(){e(i).is(":visible")&&i.focus()})});h._jQueryInterface.call(e(n),o,this)}),e.fn.modal=h._jQueryInterface,e.fn.modal.Constructor=h,e.fn.modal.noConflict=function(){return e.fn.modal=i,h._jQueryInterface},h}(t),p=function(e){var t="tooltip",i=".bs.tooltip",o=e.fn[t],l=new RegExp("(^|\\s)bs-tooltip\\S+","g"),c={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},u={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},d={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},h={SHOW:"show",OUT:"out"},f={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,INSERTED:"inserted"+i,CLICK:"click"+i,FOCUSIN:"focusin"+i,FOCUSOUT:"focusout"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i},p={FADE:"fade",SHOW:"show"},m={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},g={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},_=function(){function o(e,t){if(void 0===n)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var _=o.prototype;return _.enable=function(){this._isEnabled=!0},_.disable=function(){this._isEnabled=!1},_.toggleEnabled=function(){this._isEnabled=!this._isEnabled},_.toggle=function(t){if(this._isEnabled)if(t){var n=this.constructor.DATA_KEY,i=e(t.currentTarget).data(n);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(e(this.getTipElement()).hasClass(p.SHOW))return void this._leave(null,this);this._enter(null,this)}},_.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},_.show=function(){var t=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var i=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(i);var r=e.contains(this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!r)return;var o=this.getTipElement(),a=s.getUID(this.constructor.NAME);o.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&e(o).addClass(p.FADE);var l="function"==typeof this.config.placement?this.config.placement.call(this,o,this.element):this.config.placement,c=this._getAttachment(l);this.addAttachmentClass(c);var u=!1===this.config.container?document.body:e(document).find(this.config.container);e(o).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(o).appendTo(u),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,o,{placement:c,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:m.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){t._handlePopperPlacementChange(e)}}),e(o).addClass(p.SHOW),"ontouchstart"in document.documentElement&&e(document.body).children().on("mouseover",null,e.noop);var d=function(){t.config.animation&&t._fixTransition();var n=t._hoverState;t._hoverState=null,e(t.element).trigger(t.constructor.Event.SHOWN),n===h.OUT&&t._leave(null,t)};if(e(this.tip).hasClass(p.FADE)){var f=s.getTransitionDurationFromElement(this.tip);e(this.tip).one(s.TRANSITION_END,d).emulateTransitionEnd(f)}else d()}},_.hide=function(t){var n=this,i=this.getTipElement(),r=e.Event(this.constructor.Event.HIDE),o=function(){n._hoverState!==h.SHOW&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),e(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),t&&t()};if(e(this.element).trigger(r),!r.isDefaultPrevented()){if(e(i).removeClass(p.SHOW),"ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),this._activeTrigger[g.CLICK]=!1,this._activeTrigger[g.FOCUS]=!1,this._activeTrigger[g.HOVER]=!1,e(this.tip).hasClass(p.FADE)){var a=s.getTransitionDurationFromElement(i);e(i).one(s.TRANSITION_END,o).emulateTransitionEnd(a)}else o();this._hoverState=""}},_.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},_.isWithContent=function(){return Boolean(this.getTitle())},_.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-tooltip-"+t)},_.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},_.setContent=function(){var t=this.getTipElement();this.setElementContent(e(t.querySelectorAll(m.TOOLTIP_INNER)),this.getTitle()),e(t).removeClass(p.FADE+" "+p.SHOW)},_.setElementContent=function(t,n){var i=this.config.html;"object"==typeof n&&(n.nodeType||n.jquery)?i?e(n).parent().is(t)||t.empty().append(n):t.text(e(n).text()):t[i?"html":"text"](n)},_.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},_._getAttachment=function(e){return u[e.toUpperCase()]},_._setListeners=function(){var t=this,n=this.config.trigger.split(" ");n.forEach(function(n){if("click"===n)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,function(e){return t.toggle(e)});else if(n!==g.MANUAL){var i=n===g.HOVER?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,r=n===g.HOVER?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(i,t.config.selector,function(e){return t._enter(e)}).on(r,t.config.selector,function(e){return t._leave(e)})}e(t.element).closest(".modal").on("hide.bs.modal",function(){return t.hide()})}),this.config.selector?this.config=a({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},_._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},_._enter=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusin"===t.type?g.FOCUS:g.HOVER]=!0),e(n.getTipElement()).hasClass(p.SHOW)||n._hoverState===h.SHOW?n._hoverState=h.SHOW:(clearTimeout(n._timeout),n._hoverState=h.SHOW,n.config.delay&&n.config.delay.show?n._timeout=setTimeout(function(){n._hoverState===h.SHOW&&n.show()},n.config.delay.show):n.show())},_._leave=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusout"===t.type?g.FOCUS:g.HOVER]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState=h.OUT,n.config.delay&&n.config.delay.hide?n._timeout=setTimeout(function(){n._hoverState===h.OUT&&n.hide()},n.config.delay.hide):n.hide())},_._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},_._getConfig=function(n){return"number"==typeof(n=a({},this.constructor.Default,e(this.element).data(),"object"==typeof n&&n?n:{})).delay&&(n.delay={show:n.delay,hide:n.delay}),"number"==typeof n.title&&(n.title=n.title.toString()),"number"==typeof n.content&&(n.content=n.content.toString()),s.typeCheckConfig(t,n,this.constructor.DefaultType),n},_._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},_._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(l);null!==n&&n.length&&t.removeClass(n.join(""))},_._handlePopperPlacementChange=function(e){var t=e.instance;this.tip=t.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},_._fixTransition=function(){var t=this.getTipElement(),n=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass(p.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},o._jQueryInterface=function(t){return this.each(function(){var n=e(this).data("bs.tooltip"),i="object"==typeof t&&t;if((n||!/dispose|hide/.test(t))&&(n||(n=new o(this,i),e(this).data("bs.tooltip",n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}})},r(o,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return d}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return f}},{key:"EVENT_KEY",get:function(){return i}},{key:"DefaultType",get:function(){return c}}]),o}();return e.fn[t]=_._jQueryInterface,e.fn[t].Constructor=_,e.fn[t].noConflict=function(){return e.fn[t]=o,_._jQueryInterface},_}(t),m=function(e){var t="popover",n=".bs.popover",i=e.fn[t],o=new RegExp("(^|\\s)bs-popover\\S+","g"),s=a({},p.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),l=a({},p.DefaultType,{content:"(string|element|function)"}),c={FADE:"fade",SHOW:"show"},u={TITLE:".popover-header",CONTENT:".popover-body"},d={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,INSERTED:"inserted"+n,CLICK:"click"+n,FOCUSIN:"focusin"+n,FOCUSOUT:"focusout"+n,MOUSEENTER:"mouseenter"+n,MOUSELEAVE:"mouseleave"+n},h=function(i){function a(){return i.apply(this,arguments)||this}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(a,i);var h=a.prototype;return h.isWithContent=function(){return this.getTitle()||this._getContent()},h.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-popover-"+t)},h.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},h.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(u.TITLE),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(t.find(u.CONTENT),n),t.removeClass(c.FADE+" "+c.SHOW)},h._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},h._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(o);null!==n&&n.length>0&&t.removeClass(n.join(""))},a._jQueryInterface=function(t){return this.each(function(){var n=e(this).data("bs.popover"),i="object"==typeof t?t:null;if((n||!/destroy|hide/.test(t))&&(n||(n=new a(this,i),e(this).data("bs.popover",n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}})},r(a,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return s}},{key:"NAME",get:function(){return t}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return d}},{key:"EVENT_KEY",get:function(){return n}},{key:"DefaultType",get:function(){return l}}]),a}(p);return e.fn[t]=h._jQueryInterface,e.fn[t].Constructor=h,e.fn[t].noConflict=function(){return e.fn[t]=i,h._jQueryInterface},h}(t),g=function(e){var t="scrollspy",n=e.fn[t],i={offset:10,method:"auto",target:""},o={offset:"number",method:"string",target:"(string|element)"},l={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},c={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},u={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},d={OFFSET:"offset",POSITION:"position"},h=function(){function n(t,n){var i=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(n),this._selector=this._config.target+" "+u.NAV_LINKS+","+this._config.target+" "+u.LIST_ITEMS+","+this._config.target+" "+u.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on(l.SCROLL,function(e){return i._process(e)}),this.refresh(),this._process()}var h=n.prototype;return h.refresh=function(){var t=this,n=this._scrollElement===this._scrollElement.window?d.OFFSET:d.POSITION,i="auto"===this._config.method?n:this._config.method,r=i===d.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();var o=[].slice.call(document.querySelectorAll(this._selector));o.map(function(t){var n,o=s.getSelectorFromElement(t);if(o&&(n=document.querySelector(o)),n){var a=n.getBoundingClientRect();if(a.width||a.height)return[e(n)[i]().top+r,o]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},h.dispose=function(){e.removeData(this._element,"bs.scrollspy"),e(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},h._getConfig=function(n){if("string"!=typeof(n=a({},i,"object"==typeof n&&n?n:{})).target){var r=e(n.target).attr("id");r||(r=s.getUID(t),e(n.target).attr("id",r)),n.target="#"+r}return s.typeCheckConfig(t,n,o),n},h._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},h._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},h._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},h._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length,o=r;o--;){var a=this._activeTarget!==this._targets[o]&&e>=this._offsets[o]&&(void 0===this._offsets[o+1]||e<this._offsets[o+1]);a&&this._activate(this._targets[o])}}},h._activate=function(t){this._activeTarget=t,this._clear();var n=this._selector.split(",");n=n.map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'});var i=e([].slice.call(document.querySelectorAll(n.join(","))));i.hasClass(c.DROPDOWN_ITEM)?(i.closest(u.DROPDOWN).find(u.DROPDOWN_TOGGLE).addClass(c.ACTIVE),i.addClass(c.ACTIVE)):(i.addClass(c.ACTIVE),i.parents(u.NAV_LIST_GROUP).prev(u.NAV_LINKS+", "+u.LIST_ITEMS).addClass(c.ACTIVE),i.parents(u.NAV_LIST_GROUP).prev(u.NAV_ITEMS).children(u.NAV_LINKS).addClass(c.ACTIVE)),e(this._scrollElement).trigger(l.ACTIVATE,{relatedTarget:t})},h._clear=function(){var t=[].slice.call(document.querySelectorAll(this._selector));e(t).filter(u.ACTIVE).removeClass(c.ACTIVE)},n._jQueryInterface=function(t){return this.each(function(){var i=e(this).data("bs.scrollspy"),r="object"==typeof t&&t;if(i||(i=new n(this,r),e(this).data("bs.scrollspy",i)),"string"==typeof t){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t]()}})},r(n,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return i}}]),n}();return e(window).on(l.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(u.DATA_SPY)),n=t.length,i=n;i--;){var r=e(t[i]);h._jQueryInterface.call(r,r.data())}}),e.fn[t]=h._jQueryInterface,e.fn[t].Constructor=h,e.fn[t].noConflict=function(){return e.fn[t]=n,h._jQueryInterface},h}(t),_=function(e){var t=e.fn.tab,n={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},i={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},o={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},a=function(){function t(e){this._element=e}var a=t.prototype;return a.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass(i.ACTIVE)||e(this._element).hasClass(i.DISABLED))){var r,a,l=e(this._element).closest(o.NAV_LIST_GROUP)[0],c=s.getSelectorFromElement(this._element);if(l){var u="UL"===l.nodeName?o.ACTIVE_UL:o.ACTIVE;a=(a=e.makeArray(e(l).find(u)))[a.length-1]}var d=e.Event(n.HIDE,{relatedTarget:this._element}),h=e.Event(n.SHOW,{relatedTarget:a});if(a&&e(a).trigger(d),e(this._element).trigger(h),!h.isDefaultPrevented()&&!d.isDefaultPrevented()){c&&(r=document.querySelector(c)),this._activate(this._element,l);var f=function(){var i=e.Event(n.HIDDEN,{relatedTarget:t._element}),r=e.Event(n.SHOWN,{relatedTarget:a});e(a).trigger(i),e(t._element).trigger(r)};r?this._activate(r,r.parentNode,f):f()}}},a.dispose=function(){e.removeData(this._element,"bs.tab"),this._element=null},a._activate=function(t,n,r){var a=this,l=("UL"===n.nodeName?e(n).find(o.ACTIVE_UL):e(n).children(o.ACTIVE))[0],c=r&&l&&e(l).hasClass(i.FADE),u=function(){return a._transitionComplete(t,l,r)};if(l&&c){var d=s.getTransitionDurationFromElement(l);e(l).one(s.TRANSITION_END,u).emulateTransitionEnd(d)}else u()},a._transitionComplete=function(t,n,r){if(n){e(n).removeClass(i.SHOW+" "+i.ACTIVE);var a=e(n.parentNode).find(o.DROPDOWN_ACTIVE_CHILD)[0];a&&e(a).removeClass(i.ACTIVE),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(e(t).addClass(i.ACTIVE),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),s.reflow(t),e(t).addClass(i.SHOW),t.parentNode&&e(t.parentNode).hasClass(i.DROPDOWN_MENU)){var l=e(t).closest(o.DROPDOWN)[0];if(l){var c=[].slice.call(l.querySelectorAll(o.DROPDOWN_TOGGLE));e(c).addClass(i.ACTIVE)}t.setAttribute("aria-expanded",!0)}r&&r()},t._jQueryInterface=function(n){return this.each(function(){var i=e(this),r=i.data("bs.tab");if(r||(r=new t(this),i.data("bs.tab",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}})},r(t,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),t}();return e(document).on(n.CLICK_DATA_API,o.DATA_TOGGLE,function(t){t.preventDefault(),a._jQueryInterface.call(e(this),"show")}),e.fn.tab=a._jQueryInterface,e.fn.tab.Constructor=a,e.fn.tab.noConflict=function(){return e.fn.tab=t,a._jQueryInterface},a}(t);(function(e){if(void 0===e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")})(t),e.Util=s,e.Alert=l,e.Button=c,e.Carousel=u,e.Collapse=d,e.Dropdown=h,e.Modal=f,e.Popover=m,e.Scrollspy=g,e.Tab=_,e.Tooltip=p,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(0),n(80))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.simpleSuffix=function(e){return function(t){return t+e}},t.isSingleTerm=/^.$|^[0-9]+$/,t.addParenthesis=function(e){return"("+e+")"}},function(e,t,n){"use strict";(function(e,i,r){var o=n(6),a=n(57),s=e.View.extend({initialize:function(t){var n=this;this.data=[],this.data2=[],this.model=t&&t.model||new e.Model({id:o.a.uid(),cls:"ui-select",error_text:"No options available",empty_text:"Nothing selected",visible:!0,wait:!1,multiple:!1,searchable:!0,optional:!1,disabled:!1,readonly:!1,onchange:function(){},value:null,individual:!1,pagesize:20}).set(t),this.on("change",function(){n.model.get("onchange")&&n.model.get("onchange")(n.value())}),this.listenTo(this.model,"change:data",this._changeData,this),this.listenTo(this.model,"change:disabled",this._changeDisabled,this),this.listenTo(this.model,"change:wait",this._changeWait,this),this.listenTo(this.model,"change:visible",this._changeVisible,this),this.listenTo(this.model,"change:value",this._changeValue,this),this.listenTo(this.model,"change:multiple change:searchable change:cls change:id",this.render,this),this.render()},render:function(){var e=this;this.model.get("searchable")?this._renderSearchable():this._renderClassic(),this.$el.addClass(this.model.get("cls")).attr("id",this.model.get("id")),this.$select.empty().addClass("select").attr("id","".concat(this.model.get("id"),"_select")).prop("multiple",this.model.get("multiple")).on("change",function(){e.value(e._getValue()),e.trigger("change")}),this._changeData(),this._changeWait(),this._changeVisible(),this._changeDisabled()},_renderClassic:function(){var e=this;this.$el.addClass(this.model.get("multiple")?"ui-select-multiple":"ui-select").append(this.$select=i("<select/>")).append(this.$dropdown=i("<div/>")).append(this.$resize=i("<div/>").append(this.$resize_icon=i("<i/>"))),this.model.get("multiple")?(this.$dropdown.hide(),this.$resize_icon.addClass("fa fa-angle-double-right fa-rotate-45").show(),this.$resize.removeClass().addClass("icon-resize").show().off("mousedown").on("mousedown",function(t){var n=t.pageY,r=e.$select.height();e.minHeight=e.minHeight||r,i("#dd-helper").show().on("mousemove",function(t){e.$select.height(Math.max(r+(t.pageY-n),e.minHeight))}).on("mouseup mouseleave",function(){i("#dd-helper").hide().off()})})):(this.$dropdown.show(),this.$resize.hide(),this.$resize_icon.hide())},_renderSearchable:function(){var e=this;this.$el.append(this.$select=i("<div/>")).append(this.$dropdown=i("<div/>")),this.$dropdown.hide(),this.model.get("multiple")||this.$dropdown.show().on("click",function(){e.$select.select2&&e.$select.select2("open")}),this.all_button=null,!this.model.get("multiple")||this.model.get("individual")||this.model.get("readonly")||(this.all_button=new a.a.ButtonCheck({onclick:function(){var t=[];0!==e.all_button.value()&&r.each(e.model.get("data"),function(e){t.push(e.value)}),e.value(t),e.trigger("change")}}),this.$el.prepend(this.all_button.$el))},_match:function(e,t){return!e||""===e||String(t).toUpperCase().indexOf(e.toUpperCase())>=0},_changeData:function(){var e=this;this.data=[],!this.model.get("multiple")&&this.model.get("optional")&&this.data.push({value:"__null__",label:this.model.get("empty_text")}),r.each(this.model.get("data"),function(t){e.data.push(t)}),0===this.length()&&this.data.push({value:"__null__",label:this.model.get("error_text")}),this.model.get("searchable")?(this.data2=[],this.data2index={},r.each(this.data,function(t,n){var i={order:n,id:t.value,text:t.label,tags:t.tags};e.data2.push(i),e.data2index[i.id]=i}),this.$select.data("select2")&&this.$select.select2("destroy"),this.matched_tags={},this.$select.select2({data:this.data2,closeOnSelect:!this.model.get("multiple"),multiple:this.model.get("multiple"),query:function(t){e.matched_tags={};var n=e.model.get("pagesize"),i=r.filter(e.data2,function(n){var i=!1;return r.each(n.tags,function(n){e._match(t.term,n)&&(i=e.matched_tags[n]=!0)}),i||e._match(t.term,n.text)});t.callback({results:i.slice((t.page-1)*n,t.page*n),more:i.length>=t.page*n})},formatResult:function(t){var n="",i=r.filter(t.tags,function(t){return e.matched_tags.hasOwnProperty(t)});return i.length>5&&(n='&nbsp;<div class="label label-warning">'.concat(i.length-5," more tags</div>")),"\n                    ".concat(r.escape(t.text),"\n                    <div>\n                        ").concat(r.reduce(i.slice(0,5),function(e,t){return"".concat(e,'&nbsp;<div style="').concat(o.a.generateTagStyle(t.slice(5)),'" class="badge badge-primary badge-tags">').concat(r.escape(t),"</div>")},""),"\n                        ").concat(n,"\n                   </div>")}}),this.$(".select2-container .select2-search input").off("blur")):(this.$select.find("option").remove(),r.each(this.data,function(t){e.$select.append(i("<option/>").attr("value",t.value).html(r.escape(t.label)))})),this.model.set("disabled",this.model.get("readonly")||0===this.length()),this._changeValue()},_changeDisabled:function(){this.model.get("searchable")?this.$select.select2(this.model.get("disabled")?"disable":"enable"):this.$select.prop("disabled",this.model.get("disabled"))},_changeWait:function(){this.$dropdown.removeClass().addClass("icon-dropdown fa").addClass(this.model.get("wait")?"fa-spinner fa-spin":"fa-caret-down")},_changeVisible:function(){this.$el[this.model.get("visible")?"show":"hide"](),this.$select[this.model.get("visible")?"show":"hide"]()},_changeValue:function(){if(this._setValue(this.model.get("value")),this.model.get("multiple")){if(this.all_button){var e=this._getValue();this.all_button.value(i.isArray(e)?e.length:0,this.length())}}else null!==this._getValue()||this.model.get("optional")||this._setValue(this.first())},value:function(e){return void 0!==e&&this.model.set("value",e),this._getValue()},first:function(){return this.data.length>0?this.data[0].value:null},exists:function(e){return r.findWhere(this.data,{value:e})},text:function(){var e=this._getValue(),t=this.exists(i.isArray(e)?e[0]:e);return t?t.label:""},show:function(){this.model.set("visible",!0)},hide:function(){this.model.set("visible",!1)},wait:function(){this.model.set("wait",!0)},unwait:function(){this.model.set("wait",!1)},disabled:function(){return this.model.get("disabled")},enable:function(){this.model.set("disabled",!1)},disable:function(){this.model.set("disabled",!0)},add:function(e,t){r.each(this.model.get("data"),function(t){t.keep&&!r.findWhere(e,{value:t.value})&&e.push(t)}),t&&e&&e.sort(t),this.model.set("data",e)},update:function(e){this.model.set("data",e.data)},setOnChange:function(e){this.model.set("onchange",e)},length:function(){return i.isArray(this.model.get("data"))?this.model.get("data").length:0},_setValue:function(e){var t=this;if(null!==e&&void 0!==e||(e="__null__"),this.model.get("multiple")?e=i.isArray(e)?e:[e]:i.isArray(e)&&(e=e.length>0?e[0]:"__null__"),this.model.get("searchable")){if(i.isArray(e)){var n=[];r.each(e,function(e){var i=t.data2index[e];i&&n.push(i)}),e=n}else e=this.data2index[e];this.$select.select2("data",e)}else this.$select.val(e)},_getValue:function(){var e=null;if(this.model.get("searchable")){var t=this.$select.select2("data");t&&(i.isArray(t)?(e=[],t.sort(function(e,t){return e.order-t.order}),r.each(t,function(t){e.push(t.id)})):e=t.id)}else e=this.$select.val();return o.a.isEmpty(e)?null:e}});t.a={View:s}}).call(this,n(3),n(0),n(2))},function(e,t,n){"use strict";(function(e){var i=n(94),r=n(8),o=n(458),a=n(1),s=n.n(a),l=i.b.DatasetListItemView,c=l.extend({className:"".concat(l.prototype.className," history-content"),initialize:function(e,t){l.prototype.initialize.call(this,e,t)},toString:function(){var e=this.model?"".concat(this.model):"(no model)";return"HDAListItemView(".concat(e,")")}});c.prototype.templates=function(){var t=e.extend({},l.prototype.templates.warnings,{hidden:r.a.wrapTemplate(["<% if( !dataset.visible ){ %>",'<div class="hidden-msg warningmessagesmall">',s()("This dataset has been hidden"),"</div>","<% } %>"],"dataset")});return e.extend({},l.prototype.templates,{titleBar:function(t){return'\n        <div class="title-bar clear" tabindex="0">\n            <span class="state-icon"></span>\n            <div class="title">\n                <span class="hid">'.concat(t.hid,'</span>\n                <span class="name">').concat(e.escape(t.name),"</span>\n            </div>\n            </br>\n            ").concat(o.a.nametagTemplate(t),"\n        </div>\n    ")},warnings:t})}(),t.a={HDAListItemView:c}}).call(this,n(2))},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(16),a=n(85),s=n(393),l=n(458),c=n(1),u=n.n(c),d=a.a.DCListItemView,h=d.extend({className:"".concat(d.prototype.className," history-content"),_setUpListeners:function(){var e=this;d.prototype._setUpListeners.call(this);var t=function(t,n){e.render(0)};this.model.jobStatesSummary&&this.listenTo(this.model.jobStatesSummary,"change",t),this.listenTo(this.model,{"change:tags change:visible change:state":t})},_getFoldoutPanelClass:function(){return s.a.CollectionView},_swapNewRender:function(e){var t;d.prototype._swapNewRender.call(this,e);var n=this.model.jobStatesSummary;t=n?n.new()?"loading":n.errored()?"error":n.terminal()?"ok":n.running()?"running":"queued":this.model.get("job_source_id")?"loading":this.model.get("populated_state")?o.a.OK:o.a.RUNNING,this.$el.addClass("state-".concat(t));var i=this.stateDescription();return this.$(".state-description").html(i),this.$el},stateDescription:function(){var e=this.model,t=e.get("job_source_type"),n=s.a.collectionTypeDescription(e),i=s.a.collectionDescription(e),r=e.jobStatesSummary;if(t&&"Job"!=t){if(r&&r.hasDetails()){var o=r.new(),a=o?null:r.jobCount();if(o)return'\n                        <div class="progress state-progress">\n                            <span class="note">Creating jobs.<span class="blinking">..</span></span>\n                            <div class="progress-bar info" style="width:100%">\n                        </div>';if(r.errored()){var l=r.numInError();return"a ".concat(n," with ").concat(l," / ").concat(a," jobs in error")}if(r.terminal())return i;var c=r.states().running||0,u=(r.states().ok||0)/(1*a),d=c/(1*a),h=1-u-d,f=a&&a>1?"".concat(a," jobs"):"a job";return'\n                        <div class="progress state-progress">\n                            <span class="note">'.concat(f," generating a ").concat(n,'</span>\n                            <div class="progress-bar ok" style="width:').concat(100*u,'%"></div>\n                            <div class="progress-bar running" style="width:').concat(100*d,'%"></div>\n                            <div class="progress-bar new" style="width:').concat(100*h,'%">\n                        </div>')}return'\n                    <div class="progress state-progress">\n                        <span class="note">Loading job data for '.concat(n,'.<span class="blinking">..</span></span>\n                        <div class="progress-bar info" style="width:100%">\n                    </div>')}return i},toString:function(){var e=this.model?"".concat(this.model):"(no model)";return"HDCAListItemView(".concat(e,")")}});h.prototype.templates=function(){var e=r.a.extend({},d.prototype.templates.warnings,{hidden:function(e){!e.visible&&'<div class="hidden-msg warningmessagesmall">'.concat(u()("This collection has been hidden"),"</div>")}});return r.a.extend({},d.prototype.templates,{warnings:e,titleBar:function(e){return'\n        <div class="title-bar clear" tabindex="0">\n            <span class="state-icon"></span>\n            <div class="title">\n                <span class="hid">'.concat(e.hid,'</span>\n                <span class="name">').concat(r.a.escape(e.name),'</span>\n            </div>\n            <div class="state-description">\n            </div>\n            ').concat(l.a.nametagTemplate(e),"\n        </div>\n    ")}})}(),t.a={HDCAListItemView:h}},function(e,t,n){"use strict";(function(e){var i=n(7);function r(e,t){this.canvas=null,this.dragging=!1,this.inner_color="#FFFFFF",this.outer_color="#25537b",e&&t&&this.connect(e,t)}e.extend(r.prototype,{connect:function(e,t){this.handle1=e,this.handle1&&this.handle1.connect(this),this.handle2=t,this.handle2&&this.handle2.connect(this)},destroy:function(){this.handle1&&this.handle1.disconnect(this),this.handle2&&this.handle2.disconnect(this),e(this.canvas).remove()},destroyIfInvalid:function(e){this.handle1&&this.handle2&&!this.handle2.attachable(this.handle1)&&(e&&i.warning("Destroying a connection because collection type has changed."),this.destroy())},redraw:function(){var t=this.handle1,n=this.handle2,i=t&&t.isMappedOver(),r=n&&n.isMappedOver(),o="".concat(i?"start-ribbon":""," ").concat(r?"end-ribbon":""),a=e("#canvas-container"),s=window.workflow_globals.canvas_manager.canvasZoom;this.canvas||(this.canvas=document.createElement("canvas"),a.append(e(this.canvas)),this.dragging&&(this.canvas.style.zIndex="300")),this.canvas.setAttribute("handle1-id",t&&t.element.getAttribute?t.element.getAttribute("id"):""),this.canvas.setAttribute("handle2-id",n&&n.element.getAttribute?n.element.getAttribute("id"):"");var l=function(t){return(e(t).offset().left-a.offset().left)/s},c=function(t){return(e(t).offset().top-a.offset().top)/s};if(t&&n){var u=l(t.element)+5,d=c(t.element)+5,h=l(n.element)+5,f=c(n.element)+5,p=Math.min(u,h),m=Math.max(u,h),g=Math.min(d,f),_=Math.max(d,f),v=Math.min(Math.max(Math.abs(_-g)/2,100),300),y=p-100,b=g-100,w=m-p+200,k=_-g+200;this.canvas.style.left="".concat(y,"px"),this.canvas.style.top="".concat(b,"px"),this.canvas.setAttribute("width",w),this.canvas.setAttribute("height",k),this.canvas.setAttribute("class",o),u-=y,d-=b,h-=y,f-=b;this.canvas.getContext("2d");var M=null,x=null,C=1;if(i){M=[-6,-3,0,3,6];C=5}else M=[0];if(r){x=[-6,-3,0,3,6];C=5}else x=[0];for(var S=0;S<C;S++){var T=5,L=7;(M.length>1||x.length>1)&&(T=1,L=3),this.draw_outlined_curve(u,d,h,f,v,T,L,M[S%M.length],x[S%x.length])}}},draw_outlined_curve:function(e,t,n,i,r,o,a,s,l){s=s||0,l=l||0;var c=this.canvas.getContext("2d");c.lineCap="round",c.strokeStyle=this.outer_color,c.lineWidth=a,c.beginPath(),c.moveTo(e,t+s),c.bezierCurveTo(e+r,t+s,n-r,i+l,n,i+l),c.stroke(),c.strokeStyle=this.inner_color,c.lineWidth=o,c.beginPath(),c.moveTo(e,t+s),c.bezierCurveTo(e+r,t+s,n-r,i+l,n,i+l),c.stroke()}}),t.a=r}).call(this,n(0))},function(e,t,n){"use strict";t.a={tool:"fa-wrench",data_input:"fa-file-o",data_collection_input:"fa-folder-o",subworkflow:"fa-sitemap fa-rotate-270",parameter_input:"fa-pencil",pause:"fa-pause"}},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(16),d=n(8),h=n(1),f=n.n(h),p=d.a.SearchableModelMixin,m=l.a.Model.extend(d.a.LoggableMixin).extend(d.a.mixin(p,{_logNamespace:"dataset",defaults:{state:u.a.NEW,deleted:!1,purged:!1,name:"(unnamed dataset)",accessible:!0,data_type:"",file_ext:"",file_size:0,meta_files:[],misc_blurb:"",misc_info:"",tags:[]},initialize:function(e,t){this.debug("".concat(this,"(Dataset).initialize"),e,t),//!! this state is not in trans.app.model.Dataset.states - set it here -
this.get("accessible")||this.set("state",u.a.NOT_VIEWABLE),this.urls=this._generateUrls(),this._setUpListeners()},_getDatasetId:function(){return this.get("id")},_generateUrls:function(){var e=this._getDatasetId();if(!e)return{};var t={purge:"datasets/".concat(e,"/purge_async"),display:"datasets/".concat(e,"/display/?preview=True"),edit:"datasets/edit?dataset_id=".concat(e),download:"datasets/".concat(e,"/display").concat(this._downloadQueryParameters()),report_error:"dataset/errors?id=".concat(e),rerun:"tool_runner/rerun?id=".concat(e),show_params:"datasets/".concat(e,"/show_params"),visualization:"visualization",meta_download:"dataset/get_metadata_file?hda_id=".concat(e,"&metadata_name=")};return r.a.each(t,function(e,n){t[n]=Object(c.a)()+e}),this.urls=t,t},_downloadQueryParameters:function(){return"?to_ext=".concat(this.get("file_ext"))},_setUpListeners:function(){this.on("change:state",function(e,t){this.log("".concat(this," has changed state:"),e,t),this.inReadyState()&&this.trigger("state:ready",e,t,this.previous("state"))}),this.on("change:id change:file_ext",function(e){this._generateUrls()})},toJSON:function(){var e=l.a.Model.prototype.toJSON.call(this);return r.a.extend(e,{urls:this.urls})},isDeletedOrPurged:function(){return this.get("deleted")||this.get("purged")},inReadyState:function(){var e=r.a.contains(u.a.READY_STATES,this.get("state"));return this.isDeletedOrPurged()||e},hasDetails:function(){return!this.get("accessible")||this.has("annotation")},hasData:function(){return this.get("file_size")>0},fetch:function(e){var t=this;return l.a.Model.prototype.fetch.call(this,e).always(function(){t._generateUrls()})},parse:function(e,t){var n=l.a.Model.prototype.parse.call(this,e,t);return n.create_time&&(n.create_time=new Date(n.create_time)),n.update_time&&(n.update_time=new Date(n.update_time)),n},save:function(e,t){return(t=t||{}).wait=!!r.a.isUndefined(t.wait)||t.wait,l.a.Model.prototype.save.call(this,e,t)},delete:function(e){return this.get("deleted")?a.a.when():this.save({deleted:!0},e)},undelete:function(e){return!this.get("deleted")||this.get("purged")?a.a.when():this.save({deleted:!1},e)},purge:function(e){if(this.get("purged"))return a.a.when();(e=e||{}).url=this.urls.purge;var t=this,n=a.a.ajax(e);return n.done(function(e,n,i){t.set({deleted:!0,purged:!0})}),n.fail(function(n,i,r){var o=f()("Unable to purge dataset");n.responseJSON&&n.responseJSON.error?o=n.responseJSON.error:-1!==n.responseText.indexOf("Removal of datasets by users is not allowed in this Galaxy instance")&&(o="Removal of datasets by users is not allowed in this Galaxy instance"),n.responseText=o,t.trigger("error",t,n,e,f()(o),{error:o})}),n},searchAttributes:["name","file_ext","genome_build","misc_blurb","misc_info","annotation","tags"],searchAliases:{title:"name",format:"file_ext",database:"genome_build",blurb:"misc_blurb",description:"misc_blurb",info:"misc_info",tag:"tags"},toString:function(){var e=this.get("id")||"";return this.get("name")&&(e='"'.concat(this.get("name"),'",').concat(e)),"Dataset(".concat(e,")")}})),g=l.a.Collection.extend(d.a.LoggableMixin).extend({_logNamespace:"dataset",model:m,urlRoot:"".concat(Object(c.a)(),"api/datasets"),url:function(){return this.urlRoot},ids:function(){return this.map(function(e){return e.get("id")})},notReady:function(){return this.filter(function(e){return!e.inReadyState()})},haveDetails:function(){return this.all(function(e){return e.hasDetails()})},ajaxQueue:function(e,t){var n=a.a.Deferred(),i=this.length,r=[];if(!i)return n.resolve([]),n;var o=this.chain().reverse().map(function(a,s){return function(){var l=e.call(a,t);l.done(function(e){n.notify({curr:s,total:i,response:e,model:a})}),l.always(function(e){r.push(e),o.length?o.shift()():n.resolve(r)})}}).value();return o.shift()(),n},matches:function(e){return this.filter(function(t){return t.matches(e)})},toString:function(){return["DatasetAssociationCollection(",this.length,")"].join("")}});t.a={DatasetAssociation:m,DatasetAssociationCollection:g}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(2),a=n.n(o),s=n(3),l=n.n(s),c=n(5),u=160,d=800,h=l.a.View.extend({initialize:function(e){this.view=e.view,this.hidden=!1,this.saved_size=null,this.hiddenByTool=!1},$center:function(){return this.$el.siblings("#center")},$toggleButton:function(){return this.$(".unified-panel-footer > .panel-collapse")},render:function(){var e=this,t=this.view,n=this.view.model.attributes||{};this.$el.html(this._templatePanel(this.id)),a.a.each(n.buttons,function(t){e.$(".panel-header-buttons").append(t.$el)}),this.$el.addClass(n.cls),this.$(".panel-header-text").html(a.a.escape(n.title)),this.$(".unified-panel-body").append(t.$el),t.render()},_templatePanel:function(){return[this._templateHeader(),this._templateBody(),this._templateFooter()].join("")},_templateHeader:function(e){return'<div class="unified-panel-header" unselectable="on">\n                    <div class="unified-panel-header-inner">\n                        <div class="panel-header-buttons"/>\n                        <div class="panel-header-text"/>\n                    </div>\n                </div>\n                <div class="unified-panel-controls"/>'},_templateBody:function(e){return'<div class="unified-panel-body"/>'},_templateFooter:function(e){return['<div class="unified-panel-footer">','<div class="panel-collapse ',a.a.escape(this.id),'"/>','<div class="drag"/>',"</div>"].join("")},events:{"mousedown .unified-panel-footer > .drag":"_mousedownDragHandler","click .unified-panel-footer > .panel-collapse":"toggle"},_mousedownDragHandler:function(e){var t=this,n="left"===this.id,i=e.pageX,o=t.$el.width();function a(e){var r=e.pageX-i,a=n?o+r:o-r;a=Math.min(d,Math.max(u,a)),t.resize(a)}r()("#dd-helper").show().on("mousemove",a).one("mouseup",function(e){r()(this).hide().off("mousemove",a)})},resize:function(e){return this.$el.css("width",e),this.$center().css(this.id,e),this},show:function(){if(this.hidden){var e=this,t={},n=this.id;return t[n]=0,e.$el.css(n,-this.saved_size).show().animate(t,"fast",function(){e.resize(e.saved_size)}),e.hidden=!1,e.$toggleButton().removeClass("hidden"),this}},hide:function(){if(!this.hidden){var e={},t=this.id;return this.saved_size=this.$el.width(),e[t]=-this.saved_size,this.$el.animate(e,"fast"),this.$center().css(t,0),this.hidden=!0,this.$toggleButton().addClass("hidden"),this}},toggle:function(e){return this.hidden?this.show():this.hide(),this.hiddenByTool=!1,this},handle_minwidth_hint:function(e){return this.$center().width()-(this.hidden?this.saved_size:0)<e?this.hidden||(this.toggle(),this.hiddenByTool=!0):this.hiddenByTool&&(this.toggle(),this.hiddenByTool=!1),self},force_panel:function(e){return"show"==e?this.show():"hide"==e?this.hide():self},toString:function(){return"SidePanel(".concat(this.id,")")}}),f=h.extend({id:"left"}),p=h.extend({id:"right"}),m=l.a.View.extend({initialize:function(e){this.setElement(r()(this.template())),this.$frame=this.$(".center-frame"),this.$panel=this.$(".center-panel"),this.$frame.on("load",this._iframeChangeHandler.bind(this))},_iframeChangeHandler:function(e){var t=e.currentTarget,n=t.contentWindow&&t.contentWindow.location,i=Object(c.getGalaxyInstance)();try{n&&n.host&&(r()(t).show(),this.$panel.empty().hide(),i.trigger("center-frame:load",{fullpath:n.pathname+n.search+n.hash,pathname:n.pathname,search:n.search,hash:n.hash}))}catch(t){console.warn("_iframeChangeHandler error",e,n,i)}},display:function(e){var t,n=Object(c.getGalaxyInstance)(),i=this.$frame[0].contentWindow||{};try{t=i.onbeforeunload&&i.onbeforeunload()}catch(e){i={},console.warn("Iframe unload exception.  This can happen when external content is displayed in the page iframe and causes a CORS violation -- likely harmless.")}t&&!confirm(t)||(i.onbeforeunload=void 0,this.$frame.attr("src","about:blank").hide(),this.$panel.empty().scrollTop(0).append(e.$el||e).show(),n.trigger("center-panel:load",e))},template:function(){return'<div class="center-container"><iframe id="galaxy_main" name="galaxy_main" frameborder="0" class="center-frame" /><div class="center-panel" /></div>'},toString:function(){return"CenterPanel"}});t.a={SidePanel:h,LeftPanel:f,RightPanel:p,CenterPanel:m}},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return l});var i=n(4),r=n(15),o=n.n(r);function a(){var e="".concat(Object(i.a)(),"api/tools/error_stack");return o.a.get(e)}function s(){var e="".concat(Object(i.a)(),"api/display_applications");return o.a.get(e)}function l(e){var t="".concat(Object(i.a)(),"api/display_applications/reload");return o.a.post(t,{ids:e})}},function(e,t,n){(function(t){var n="Expected a function",i="__lodash_hash_undefined__",r=1/0,o="[object Function]",a="[object GeneratorFunction]",s="[object Symbol]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,u=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,f=/^\[object .+?Constructor\]$/,p="object"==typeof t&&t&&t.Object===Object&&t,m="object"==typeof self&&self&&self.Object===Object&&self,g=p||m||Function("return this")();var _=Array.prototype,v=Function.prototype,y=Object.prototype,b=g["__core-js_shared__"],w=function(){var e=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),k=v.toString,M=y.hasOwnProperty,x=y.toString,C=RegExp("^"+k.call(M).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=g.Symbol,T=_.splice,L=I(g,"Map"),E=I(Object,"create"),D=S?S.prototype:void 0,O=D?D.toString:void 0;function A(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Y(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function R(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function j(e,t){for(var n=e.length;n--;)if(z(e[n][0],t))return n;return-1}function P(e,t){for(var n=0,i=(t=function(e,t){if(B(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||U(e))return!0;return c.test(e)||!l.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return B(e)?e:F(e)}(t)).length;null!=e&&n<i;)e=e[$(t[n++])];return n&&n==i?e:void 0}function N(e){return!(!V(e)||function(e){return!!w&&w in e}(e))&&(function(e){var t=V(e)?x.call(e):"";return t==o||t==a}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?C:f).test(function(e){if(null!=e){try{return k.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function H(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function I(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return N(n)?n:void 0}A.prototype.clear=function(){this.__data__=E?E(null):{}},A.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},A.prototype.get=function(e){var t=this.__data__;if(E){var n=t[e];return n===i?void 0:n}return M.call(t,e)?t[e]:void 0},A.prototype.has=function(e){var t=this.__data__;return E?void 0!==t[e]:M.call(t,e)},A.prototype.set=function(e,t){return this.__data__[e]=E&&void 0===t?i:t,this},Y.prototype.clear=function(){this.__data__=[]},Y.prototype.delete=function(e){var t=this.__data__,n=j(t,e);return!(n<0||(n==t.length-1?t.pop():T.call(t,n,1),0))},Y.prototype.get=function(e){var t=this.__data__,n=j(t,e);return n<0?void 0:t[n][1]},Y.prototype.has=function(e){return j(this.__data__,e)>-1},Y.prototype.set=function(e,t){var n=this.__data__,i=j(n,e);return i<0?n.push([e,t]):n[i][1]=t,this},R.prototype.clear=function(){this.__data__={hash:new A,map:new(L||Y),string:new A}},R.prototype.delete=function(e){return H(this,e).delete(e)},R.prototype.get=function(e){return H(this,e).get(e)},R.prototype.has=function(e){return H(this,e).has(e)},R.prototype.set=function(e,t){return H(this,e).set(e,t),this};var F=W(function(e){e=function(e){return null==e?"":function(e){if("string"==typeof e)return e;if(U(e))return O?O.call(e):"";var t=e+"";return"0"==t&&1/e==-r?"-0":t}(e)}(e);var t=[];return u.test(e)&&t.push(""),e.replace(d,function(e,n,i,r){t.push(i?r.replace(h,"$1"):n||e)}),t});function $(e){if("string"==typeof e||U(e))return e;var t=e+"";return"0"==t&&1/e==-r?"-0":t}function W(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(n);var i=function(){var n=arguments,r=t?t.apply(this,n):n[0],o=i.cache;if(o.has(r))return o.get(r);var a=e.apply(this,n);return i.cache=o.set(r,a),a};return i.cache=new(W.Cache||R),i}function z(e,t){return e===t||e!=e&&t!=t}W.Cache=R;var B=Array.isArray;function V(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function U(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&x.call(e)==s}e.exports=function(e,t,n){var i=null==e?void 0:P(e,t);return void 0===i?n:i}}).call(this,n(39))},function(e,t,n){"use strict";(function(e,i){var r=n(1),o=n.n(r),a=n(33),s=a.extend,l=function(e){this.manager=null,this.name=e.name,this.index=e.index,this.tool_id=e.tool_id,this.tool_exp_name=e.tool_exp_name};s(l.prototype,{to_dict:function(){return{name:this.name,index:this.index,tool_id:this.tool_id,tool_exp_name:this.tool_exp_name}}});var c=function(t,n,i){return e("<a/>").attr("href","javascript:void(0);").attr("title",t).addClass("icon-button").addClass(n).tooltip().click(i)},u=function(t){l.call(this,t),this.low="low"in t?t.low:-Number.MAX_VALUE,this.high="high"in t?t.high:Number.MAX_VALUE,this.min="min"in t?t.min:Number.MAX_VALUE,this.max="max"in t?t.max:-Number.MAX_VALUE,this.container=null,this.slider=null,this.slider_label=null;var n=this;n.parent_div=e("<div/>").addClass("filter-row slider-row");var i=e("<div/>").addClass("elt-label").appendTo(n.parent_div);e("<span/>").addClass("slider-name").text("".concat(n.name,"  ")).appendTo(i);var r=e("<span/>").text("".concat(this.low,"-").concat(this.high)),o=e("<span/>").addClass("slider-value").appendTo(i).append("[").append(r).append("]");n.values_span=r;var a=e("<div/>").addClass("slider").appendTo(n.parent_div);n.control_element=e("<div/>").attr("id","".concat(n.name,"-filter-control")).appendTo(a),n.control_element.slider({range:!0,min:this.min,max:this.max,step:this.get_slider_step(this.min,this.max),values:[this.low,this.high],slide:function(e,t){n.slide(e,t)},change:function(e,t){n.control_element.slider("option","slide").call(n.control_element,e,t)}}),n.slider=n.control_element,n.slider_label=r,function(t,n,i){t.click(function(){var t=n.text(),r=parseFloat(i.slider("option","max")),o=r<=1?4:r<=1e6?r.toString().length:6,a=!1,s=e(this).parents(".slider-row");s.addClass("input"),i.slider("option","values")&&(o=2*o+1,a=!0),n.text(""),e("<input type='text'/>").attr("size",o).attr("maxlength",o).attr("value",t).appendTo(n).focus().select().click(function(e){e.stopPropagation()}).blur(function(){e(this).remove(),n.text(t),s.removeClass("input")}).keyup(function(t){if(27===t.keyCode)e(this).trigger("blur");else if(13===t.keyCode){var n=i.slider("option","min"),r=i.slider("option","max"),o=function(e){return isNaN(e)||e>r||e<n},l=e(this).val();if(a){if(l=l.split("-"),o((l=[parseFloat(l[0]),parseFloat(l[1])])[0])||o(l[1]))return alert("Parameter value must be in the range [".concat(n,"-").concat(r,"]")),e(this)}else if(o(l=parseFloat(l)))return alert("Parameter value must be in the range [".concat(n,"-").concat(r,"]")),e(this);i.slider(a?"values":"value",l),s.removeClass("input")}})})}(o,r,n.control_element);var s=e("<div/>").addClass("display-controls").appendTo(n.parent_div);this.transparency_icon=c("Use filter for data transparency","layer-transparent",function(){n.manager.alpha_filter!==n?(n.manager.alpha_filter=n,n.manager.parent_div.find(".layer-transparent").removeClass("active").hide(),n.transparency_icon.addClass("active").show()):(n.manager.alpha_filter=null,n.transparency_icon.removeClass("active")),n.manager.track.request_draw({force:!0,clear_after:!0})}).appendTo(s).hide(),this.height_icon=c("Use filter for data height","arrow-resize-090",function(){n.manager.height_filter!==n?(n.manager.height_filter=n,n.manager.parent_div.find(".arrow-resize-090").removeClass("active").hide(),n.height_icon.addClass("active").show()):(n.manager.height_filter=null,n.height_icon.removeClass("active")),n.manager.track.request_draw({force:!0,clear_after:!0})}).appendTo(s).hide(),n.parent_div.hover(function(){n.transparency_icon.show(),n.height_icon.show()},function(){n.manager.alpha_filter!==n&&n.transparency_icon.hide(),n.manager.height_filter!==n&&n.height_icon.hide()}),e("<div style='clear: both;'/>").appendTo(n.parent_div)};s(u.prototype,{to_dict:function(){var e=l.prototype.to_dict.call(this);return s(e,{type:"number",min:this.min,max:this.max,low:this.low,high:this.high})},copy:function(){return new u({name:this.name,index:this.index,tool_id:this.tool_id,tool_exp_name:this.tool_exp_name})},get_slider_step:function(e,t){return t-e<=2?.01:1},slide:function(e,t){var n=t.values;this.values_span.text("".concat(n[0],"-").concat(n[1])),this.low=n[0],this.high=n[1];var i=this;setTimeout(function(){n[0]===i.low&&n[1]===i.high&&i.manager.track.request_draw({force:!0,clear_after:!0})},25)},applies_to:function(e){return e.length>this.index},_keep_val:function(e){return isNaN(e)||e>=this.low&&e<=this.high},keep:function(e){if(!this.applies_to(e))return!0;var t=e[this.index];if(t instanceof Array){for(var n=!0,i=0;i<t.length;i++)if(!this._keep_val(t[i])){n=!1;break}return n}return this._keep_val(e[this.index])},update_attrs:function(e){var t=!1;if(!this.applies_to(e))return t;var n=e[this.index];n instanceof Array||(n=[n]);for(var i=0;i<n.length;i++){var r=n[i];r<this.min&&(this.min=Math.floor(r),t=!0),r>this.max&&(this.max=Math.ceil(r),t=!0)}return t},update_ui_elt:function(){this.min<this.max?this.parent_div.show():this.parent_div.hide();var e=this.slider.slider("option","min"),t=this.slider.slider("option","max");(this.min<e||this.max>t)&&(this.slider.slider("option","min",this.min),this.slider.slider("option","max",this.max),this.slider.slider("option","step",this.get_slider_step(this.min,this.max)),this.slider.slider("option","values",[this.min,this.max]))}});var d=function(t,n){if(this.track=t,this.alpha_filter=null,this.height_filter=null,this.filters=[],this.parent_div=e("<div/>").addClass("filters").hide(),this.parent_div.bind("drag",function(e){e.stopPropagation()}).click(function(e){e.stopPropagation()}).bind("dblclick",function(e){e.stopPropagation()}).bind("keydown",function(e){e.stopPropagation()}),n&&"filters"in n){for(var i,r=("alpha_filter"in n?n.alpha_filter:null),o=("height_filter"in n?n.height_filter:null),a=n.filters,s=0;s<a.length;s++)"number"===a[s].type?(i=new u(a[s]),this.add_filter(i),i.name===r&&(this.alpha_filter=i,i.transparency_icon.addClass("active").show()),i.name===o&&(this.height_filter=i,i.height_icon.addClass("active").show())):console.log("ERROR: unsupported filter: ",a[s]);"visible"in n&&n.visible&&this.parent_div.show()}if(0!==this.filters.length){var l=e("<div/>").addClass("param-row").appendTo(this.parent_div),c=this;e("<input type='submit'/>").attr("value","Run on complete dataset").appendTo(l).click(function(){c.run_on_dataset()})}};s(d.prototype,{show:function(){this.parent_div.show()},hide:function(){this.parent_div.hide()},toggle:function(){this.parent_div.toggle()},visible:function(){return this.parent_div.is(":visible")},to_dict:function(){for(var e,t={},n=[],i=0;i<this.filters.length;i++)e=this.filters[i],n.push(e.to_dict());return t.filters=n,t.alpha_filter=this.alpha_filter?this.alpha_filter.name:null,t.height_filter=this.height_filter?this.height_filter.name:null,t.visible=this.parent_div.is(":visible"),t},copy:function(e){for(var t=new d(e),n=0;n<this.filters.length;n++)t.add_filter(this.filters[n].copy());return t},add_filter:function(e){e.manager=this,this.parent_div.append(e.parent_div),this.filters.push(e)},remove_all:function(){this.filters=[],this.parent_div.children().remove()},init_filters:function(){for(var e=0;e<this.filters.length;e++){this.filters[e].update_ui_elt()}},clear_filters:function(){for(var e=0;e<this.filters.length;e++){var t=this.filters[e];t.slider.slider("option","values",[t.min,t.max])}this.alpha_filter=null,this.height_filter=null,this.parent_div.find(".icon-button").hide()},run_on_dataset:function(){for(var t,n,r=function(e,t,n){return t in e||(e[t]=n),e[t]},a={},s=0;s<this.filters.length;s++)(t=this.filters[s]).tool_id&&(t.min!==t.low&&((n=r(a,t.tool_id,[]))[n.length]="".concat(t.tool_exp_name," >= ").concat(t.low)),t.max!==t.high&&((n=r(a,t.tool_id,[]))[n.length]="".concat(t.tool_exp_name," <= ").concat(t.high)));var l=[];for(var c in a)l[l.length]=[c,a[c]];!function t(n,r){var a=r[0],s=a[0],l=a[1],c={cond:"(".concat(l.join(") and ("),")"),input:n,target_dataset_id:n,tool_id:s};r=r.slice(1),e.getJSON(run_tool_url,c,function(e){e.error?i.modal.show({title:o()("Filter Dataset"),body:"Error running tool ".concat(s),buttons:{Close:i.modal.hide()}}):0===r.length?i.modal.show({title:o()("Filtering Dataset"),body:"Filter(s) are running on the complete dataset. Outputs are in dataset's history.",buttons:{Close:i.modal.hide()}}):t(e.dataset_id,r)})}(this.track.dataset_id,l)}}),t.a={FiltersManager:d,NumberFilter:u}}).call(this,n(0),n(5).monitor)},function(e,t,n){"use strict";n.r(t);n(638);var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(4),l=n(5),c=(n(398),n(824),n(424),n(399),n(407)),u=n(515),d=n(369),h=n(474),f=n(604),p=n(395),m=n(69),g=n(6),_=n(466);function v(e,t,n){a.a.fn.select2?(void 0===e&&(e=20),void 0===t&&(t=3e3),(n=n||a()("select")).each(function(){var n=a()(this).not("[multiple]"),i=n.find("option").length;i<e||i>t||n.hasClass("no-autocomplete")||function(e){var t={placeholder:"Click to select",closeOnSelect:!a()(e).is("[MULTIPLE]"),dropdownAutoWidth:!0,containerCssClass:"select2-minwidth"};e.select2(t)}(n)})):console.warn("No select 2")}function y(){a()("select[refresh_on_change='true']").off("change").change(function(){var e=a()(this),t=e.val(),n=e.attr("refresh_on_change_values");if(n){n=n.split(",");var i=e.attr("last_selected_value");if(-1===a.a.inArray(t,n)&&-1===a.a.inArray(i,n))return}a()(window).trigger("refresh_on_change"),a()(document).trigger("convert_to_values"),e.get(0).form.submit()}),a()(":checkbox[refresh_on_change='true']").off("click").click(function(){var e=a()(this),t=e.val(),n=e.attr("refresh_on_change_values");if(n){n=n.split(",");var i=e.attr("last_selected_value");if(-1===a.a.inArray(t,n)&&-1===a.a.inArray(i,n))return}a()(window).trigger("refresh_on_change"),e.get(0).form.submit()}),a()("a[confirm]").off("click").click(function(){return confirm(a()(this).attr("confirm"))})}window.panels=c.a,r.a.extend(window,u.a),window.async_save_text=d.a,window.make_popupmenu=h.a.make_popupmenu,window.make_popup_menus=h.a.make_popup_menus,window.init_tag_click_function=f.a,window.init_refresh_on_change=y,a()(document).ready(function(){y(),a.a.fn.tooltip&&(a()(".unified-panel-header [title]").tooltip({placement:"bottom"}),a()("[title]").tooltip()),h.a.make_popup_menus(),v(20,1500),a()("a").click(function(){var e=a()(this),t=window.parent.frames&&window.parent.frames.galaxy_main;if("galaxy_main"==e.attr("target")&&!t){var n=e.attr("href");-1==n.indexOf("?")?n+="?":n+="&",n+="use_panels=True",e.attr("href",n),e.attr("target","_self")}return e}),p.a.activeGalaxyTourRunner();var e=Object(l.getGalaxyInstance)();e.giveTourWithData=p.a.giveTourWithData,function t(){void 0!==Object(s.a)()?e.config.enable_webhooks&&m.a.load({type:"onload",callback:function(e){e.each(function(e){var t=e.toJSON();t.activate&&t.script&&g.a.appendScriptStyle(t)})}}):setTimeout(t,100)}()}),function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(Object.keys(u.a)).concat(["panels","async_save_text","make_popupmenu","make_popup_menus","init_tag_click_function"]).forEach(function(e){return Object(_.a)(e)})},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var i=n(62),r=n(45),o=n(363);e.exports=function(e){return function(t,n,a){var s,l=i(t),c=r(l.length),u=o(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(89),r=n(30)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:o?i(t):"Object"==(a=i(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var i=n(12),r=n(90),o=n(21),a=n(484),s="["+a+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(e,t,n){var r={},s=o(function(){return!!a[e]()||"​"!="​"[e]()}),l=r[e]=s?t(d):a[e];n&&(r[n]=l),i(i.P+i.F*s,"String",r)},d=u.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=u},function(e,t,n){var i=n(30)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var i=n(61),r=n(55),o=n(21),a=n(90),s=n(30);e.exports=function(e,t,n){var l=s(e),c=n(a,l,""[e]),u=c[0],d=c[1];o(function(){var t={};return t[l]=function(){return 7},7!=""[e](t)})&&(r(String.prototype,e,u),i(RegExp.prototype,l,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},function(e,t,n){var i=n(87),r=n(536),o=n(493),a=n(29),s=n(45),l=n(495),c={},u={};(t=e.exports=function(e,t,n,d,h){var f,p,m,g,_=h?function(){return e}:l(e),v=i(n,d,t?2:1),y=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(o(_)){for(f=s(e.length);f>y;y++)if((g=t?v(a(p=e[y])[0],p[1]):v(e[y]))===c||g===u)return g}else for(m=_.call(e);!(p=m.next()).done;)if((g=r(m,v,p.value,t))===c||g===u)return g}).BREAK=c,t.RETURN=u},function(e,t,n){var i=n(29),r=n(88),o=n(30)("species");e.exports=function(e,t){var n,a=i(e).constructor;return void 0===a||void 0==(n=i(a)[o])?t:r(n)}},function(e,t,n){var i=n(23).navigator;e.exports=i&&i.userAgent||""},function(e,t,n){"use strict";var i=n(23),r=n(12),o=n(55),a=n(379),s=n(97),l=n(419),c=n(378),u=n(24),d=n(21),h=n(417),f=n(374),p=n(485);e.exports=function(e,t,n,m,g,_){var v=i[e],y=v,b=g?"set":"add",w=y&&y.prototype,k={},M=function(e){var t=w[e];o(w,e,"delete"==e?function(e){return!(_&&!u(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(_&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return _&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof y&&(_||w.forEach&&!d(function(){(new y).entries().next()}))){var x=new y,C=x[b](_?{}:-0,1)!=x,S=d(function(){x.has(1)}),T=h(function(e){new y(e)}),L=!_&&d(function(){for(var e=new y,t=5;t--;)e[b](t,t);return!e.has(-0)});T||((y=t(function(t,n){c(t,y,e);var i=p(new v,t,y);return void 0!=n&&l(n,g,i[b],i),i})).prototype=w,w.constructor=y),(S||L)&&(M("delete"),M("has"),g&&M("get")),(L||C)&&M(b),_&&w.clear&&delete w.clear}else y=m.getConstructor(t,e,g,b),a(y.prototype,n),s.NEED=!0;return f(y,e),k[e]=y,r(r.G+r.W+r.F*(y!=v),k),_||m.setStrong(y,e,g),y}},function(e,t,n){for(var i,r=n(23),o=n(61),a=n(360),s=a("typed_array"),l=a("view"),c=!(!r.ArrayBuffer||!r.DataView),u=c,d=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(i=r[h[d++]])?(o(i.prototype,s,!0),o(i.prototype,l,!0)):u=!1;e.exports={ABV:c,CONSTR:u,TYPED:s,VIEW:l}},,,,,,,,,function(e,t,n){(function(t){var n=Object.assign?Object.assign:function(e,t,n,i){for(var r=1;r<arguments.length;r++)s(Object(arguments[r]),function(t,n){e[n]=t});return e},i=function(){if(Object.create)return function(e,t,i,r){var o=a(arguments,1);return n.apply(this,[Object.create(e)].concat(o))};{function e(){}return function(t,i,r,o){var s=a(arguments,1);return e.prototype=t,n.apply(this,[new e].concat(s))}}}(),r=String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},o="undefined"!=typeof window?window:t;function a(e,t){return Array.prototype.slice.call(e,t||0)}function s(e,t){l(e,function(e,n){return t(e,n),!1})}function l(e,t){if(c(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var i in e)if(e.hasOwnProperty(i)&&t(e[i],i))return e[i]}function c(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}e.exports={assign:n,create:i,trim:r,bind:function(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}},slice:a,each:s,map:function(e,t){var n=c(e)?[]:{};return l(e,function(e,i){return n[i]=t(e,i),!1}),n},pluck:l,isList:c,isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},isObject:function(e){return e&&"[object Object]"==={}.toString.call(e)},Global:o}}).call(this,n(39))},function(e,t,n){"use strict";(function(e,i,r){var o=n(4),a=n(72),s=n(15),l=n.n(s),c=n(1),u=n.n(c),d=n(578),h=n.n(d),f=(n(51),n(38)),p=n(368),m=n(59),g=n(18),_=n(83);g.a.use(_.a);var v=m.a.RULES,y=m.a.MAPPING_TARGETS,b={props:["options","value","placeholder"],render:function(){var e=this.$createElement;return(this._self._c||e)("select",[this._t("default")],2)},staticRenderFns:[],mounted:function(){var t=this;e(this.$el).select2({data:this.options,placeholder:this.placeholder,allowClear:this.placeholder}).val(this.value).trigger("change").on("change",function(e){t.$emit("input",e.val)})},watch:{value:function(t){e(this.$el).val(t)},options:function(t){e(this.$el).empty().select2({data:t})}},destroyed:function(){e(this.$el).off().select2("destroy")}},w={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.multiple&&e.ordered?n("div",{staticClass:"rule-column-selector"},[n("span",[e._v(e._s(e.label))]),e._v(" "),e._t("default"),e._v(" "),n("ol",[e._l(e.target,function(t,i){return n("li",{key:t,staticClass:"rule-column-selector-target",attrs:{index:i}},[e._v("\n                    "+e._s(e.colHeaders[t])+"\n                    "),n("span",{staticClass:"fa fa-times rule-column-selector-target-remove",on:{click:function(t){e.handleRemove(i)}}}),e._v(" "),0!==i?n("span",{staticClass:"fa fa-arrow-up rule-column-selector-up",on:{click:function(t){e.moveUp(i)}}}):e._e(),e._v(" "),i<e.target.length-1?n("span",{staticClass:"fa fa-arrow-down rule-column-selector-down",on:{click:function(t){e.moveUp(i+1)}}}):e._e()])}),e._v(" "),this.target.length<this.colHeaders.length?n("li",[e.orderedEdit?n("span",{staticClass:"rule-column-selector-target-select"},[n("select2",{attrs:{placeholder:"Select a column"},on:{input:e.handleAdd}},[n("option"),e._v(" "),e._l(e.remainingHeaders,function(t,i){return n("option",{domProps:{value:i}},[e._v(e._s(t))])})],2)],1):n("span",{staticClass:"rule-column-selector-target-add"},[n("i",{on:{click:function(t){e.$emit("update:orderedEdit",!0)}}},[e._v("... "+e._s(e.l("Assign Another Column")))])])]):e._e()],2)],2):n("div",{staticClass:"rule-column-selector"},[n("label",{staticClass:"d-flex justify-content-end align-items-center"},[n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-auto",attrs:{title:e.help}},[e._v(e._s(e.label))]),e._v(" "),n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{title:e.title}},[n("select2",{attrs:{value:e.target,multiple:e.multiple},on:{input:e.handleInput}},e._l(e.colHeaders,function(t,i){return n("option",{domProps:{value:i}},[e._v(e._s(t))])}))],1),e._v(" "),e._t("default")],2)])},staticRenderFns:[],data:function(){return{l:u.a}},props:{target:{required:!0},label:{required:!1,type:String,default:u()("From Column")},help:{required:!1},colHeaders:{type:Array,required:!0},multiple:{type:Boolean,required:!1,default:!1},ordered:{type:Boolean,required:!1,default:!1},valueAsList:{type:Boolean,required:!1,default:!1},orderedEdit:{type:Boolean,required:!1,default:!1}},computed:{remainingHeaders:function(){var e=this.colHeaders;if(!this.multiple)return e;var t={};for(var n in e)-1===this.target.indexOf(parseInt(n))&&(t[n]=e[n]);return t},title:function(){return u()("Select a column")}},methods:{handleInput:function(e){if(this.multiple){var t=e.map(function(e){return parseInt(e)});this.$emit("update:target",t)}else{var n=parseInt(e);this.valueAsList&&(n=[n]),this.$emit("update:target",n)}},handleAdd:function(e){this.target.push(parseInt(e)),this.$emit("update:orderedEdit",!1)},handleRemove:function(e){this.target.splice(e,1)},moveUp:function(e){var t=this.target[e-1];g.a.set(this.target,e-1,this.target[e]),g.a.set(this.target,e,t)}},components:{Select2:b}},k={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{for:"regular_expression",title:e.title}},[e._v(e._s(e.label))]),e._v(" "),n("span",{directives:[{name:"b-popover",rawName:"v-b-popover.html",value:e.popoverContent,expression:"popoverContent",modifiers:{html:!0}}],staticClass:"fa fa-question",attrs:{title:e.popoverTitle}}),e._v(" "),n("input",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.left",modifiers:{hover:!0,left:!0}}],staticClass:"rule-regular-expression",attrs:{title:e.title,name:"regular_expression",type:"text"},domProps:{value:e.target},on:{input:function(t){e.$emit("update:target",t.target.value)}}})])},staticRenderFns:[],props:{target:{required:!0}},computed:{label:function(){return u()("Regular Expression")},title:function(){return u()("Enter a regular expression.")},popoverTitle:function(){return u()("Regular Expressions")},popoverContent:function(){return u()('Regular expressions are patterns used to match character combinations in strings. This input accepts Python-style regular expressions, find more information about these in <a href="https://pythonforbiologists.com/regular-expressions/">this Python for Biologists tutorial</a>.')}}},M={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"rule"},[n("span",{staticClass:"rule-display"},[n("span",{staticClass:"mr-1"},[e._v(e._s(e.title))]),e._v(" "),n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fa fa-edit mr-1",attrs:{title:e.editTitle},on:{click:e.edit}}),e._v(" "),n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fa fa-times map",attrs:{title:e.removeTitle},on:{click:e.remove}})]),e._v(" "),e.rule.warn?n("span",{staticClass:"rule-warning"},[e._v("\n                "+e._s(e.rule.warn)+"\n            ")]):e._e(),e._v(" "),e.rule.error?n("span",{staticClass:"rule-error"},[n("span",{staticClass:"alert-message"},[e._v(e._s(e.rule.error))])]):e._e()])},staticRenderFns:[],props:{rule:{required:!0,type:Object},colHeaders:{type:Array,required:!0}},computed:{title:function(){var e=this.rule.type;return v[e].display(this.rule,this.colHeaders)},editTitle:function(){return u()("Edit this rule.")},removeTitle:function(){return u()("Remove this rule.")}},methods:{edit:function(){this.$emit("edit")},remove:function(){this.$emit("remove")}}},x={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"rule"},[n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.help}},[e._v("Set "+e._s(e.columnsLabel)+" as "+e._s(e.typeDisplay))]),e._v(" "),n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fa fa-edit",attrs:{title:e.titleEdit},on:{click:e.edit}}),e._v(" "),n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fa fa-times",attrs:{title:e.titleRemove},on:{click:e.remove}})])},staticRenderFns:[],props:{type:{type:String,required:!0},columns:{required:!0},colHeaders:{type:Array,required:!0}},methods:{remove:function(){this.$emit("remove")},edit:function(){this.$emit("edit")}},computed:{typeDisplay:function(){return y[this.type].label},help:function(){return y[this.type].help||""},titleEdit:function(){return u()("Edit column definition")},titleRemove:function(){return u()("Remove this column definition")},columnsLabel:function(){return m.a.columnDisplay(this.columns,this.colHeaders)}}},C={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("a",{staticClass:"rule-link dropdown-item",class:e.linkClassName,attrs:{href:"javascript:void(0)"},on:{click:function(t){e.builder.addNewRule(e.ruleType)}}},[e._v(e._s(e.title))])},staticRenderFns:[],props:{ruleType:{type:String,required:!0},builder:{required:!0}},computed:{linkClassName:function(){return"rule-link-"+this.ruleType.replace(/_/g,"-")},title:function(){return v[this.ruleType].title}}},S={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.ruleType==e.displayRuleType?n("div",{staticClass:"rule-editor",class:e.typeToClass},[e._t("default"),e._v(" "),n("div",{staticClass:"buttons rule-edit-buttons d-flex justify-content-end"},[n("button",{staticClass:"btn rule-editor-cancel mr-1",attrs:{type:"button"},on:{click:e.cancel}},[e._v(e._s(e.cancelLabel))]),e._v(" "),n("button",{staticClass:"btn btn-primary rule-editor-ok",attrs:{type:"button"},on:{click:e.okay}},[e._v(e._s(e.applyLabel))])])],2):e._e()},staticRenderFns:[],data:function(){return{applyLabel:u()("Apply"),cancelLabel:u()("Cancel")}},props:{ruleType:{type:String,required:!0},displayRuleType:{required:!0},builder:{required:!0}},methods:{cancel:function(){this.builder.displayRuleType=null},okay:function(){this.builder.handleRuleSave(this.ruleType),this.cancel()}},computed:{typeToClass:function(){return"rule-edit-"+this.ruleType.replace(/_/g,"-")}}};t.a={data:function(){var e,t,n="vertical";if(this.initialRules)e=this.initialRules.mapping.slice(),t=this.initialRules.rules.slice();else if(e="ftp"==this.elementsType?[{type:"ftp_path",columns:[0]}]:"datasets"==this.elementsType?[{type:"list_identifiers",columns:[1]}]:[],t=[],"collection_contents"==this.elementsType)if(null!==this.initialElements){var i=this.initialElements.collection_type.split(":");for(var r in i)t.push({type:"add_column_metadata",value:"identifier"+r})}else n="horizontal",t.push({type:"add_column_metadata",value:"identifier0"});else"datasets"==this.elementsType?t.push({type:"add_column_metadata",value:"hid"},{type:"add_column_metadata",value:"name"}):"library_datasets"==this.elementsType?t.push({type:"add_column_metadata",value:"name"}):"ftp"==this.elementsType&&t.push({type:"add_column_metadata",value:"path"});return{rules:t,colHeadersPerRule:[],mapping:e,state:"build",ruleView:"normal",ruleSource:"",ruleSourceJson:null,ruleSourceError:null,errorMessage:"",jaggedData:!1,waitingJobState:"new",titleReset:u()("Undo all reordering and discards"),titleNumericSort:u()("By default columns will be sorted lexicographically, check this option if the columns are numeric values and should be sorted as numbers"),titleInvertFilterRegex:u()("Remove rows not matching the specified regular expression at specified column"),titleInvertFilterEmpty:u()("Remove rows that have non-empty values at specified column"),titleInvertFilterMatches:u()("Remove rows not matching supplied value"),titleViewSource:u()("Advanced Option: View and or edit the JSON representation of the rules to apply to this tabular data"),titleSourceCancel:u()("Stop editing rules and dismiss changes"),titleSourceReset:u()("Reset text area to current set of rules"),titleSourceApply:u()("Apply changes to rule source and return to rule preview"),titleRulesMenu:u()("General rules to apply"),titleFilterMenu:u()("Rules that filter rows from the data"),titleColumMenu:u()("Rules that generate new columns"),titleRemoveMapping:u()("Remove column definition assignment"),titleApplyColumnDefinitions:u()("Apply these column definitions and return to rules preview"),titleErrorOkay:u()("Dismiss this error and return to the rule builder to try again with new rules"),namePlaceholder:u()("Enter a name for your new collection"),activeRuleIndex:null,addColumnRegexTarget:0,addColumnBasenameTarget:0,addColumnRegexExpression:"",addColumnRegexReplacement:null,addColumnRegexGroupCount:null,addColumnRegexType:"global",addColumnMetadataValue:0,addColumnGroupTagValueValue:"",addColumnGroupTagValueDefault:"",addColumnConcatenateTarget0:0,addColumnConcatenateTarget1:0,addColumnRownumStart:1,addColumnSubstrTarget:0,addColumnSubstrType:"keep_prefix",addColumnSubstrLength:1,addColumnValue:"",removeColumnTargets:[],addFilterRegexTarget:0,addFilterRegexExpression:"",addFilterRegexInvert:!1,addFilterMatchesTarget:0,addFilterMatchesValue:"",addFilterMatchesInvert:!1,addFilterEmptyTarget:0,addFilterEmptyInvert:!1,addFilterCompareTarget:0,addFilterCompareValue:0,addFilterCompareType:"less_than",addFilterCountN:1,addFilterCountInvert:!1,addFilterCountWhich:"first",addSortingTarget:0,addSortingNumeric:!1,splitColumnsTargets0:[],splitColumnsTargets1:[],swapColumnsTarget0:0,swapColumnsTarget1:0,collectionName:"",displayRuleType:null,extensions:[],extension:null,genomes:[],genome:null,hideSourceItems:this.defaultHideSourceItems,addNameTag:!1,orientation:n}},props:{initialElements:{required:!0},importType:{type:String,required:!1,default:"collections"},elementsType:{type:String,required:!1,default:"datasets"},creationFn:{required:!1,type:Function},saveRulesFn:{required:!1,type:Function},initialRules:{required:!1,type:Object},defaultHideSourceItems:{type:Boolean,required:!1,default:!0},oncancel:{required:!0,type:Function},oncreate:{required:!0,type:Function},ftpUploadSite:{type:String,required:!1,default:null}},computed:{exisistingDatasets:function(){var e=this.elementsType;return"datasets"===e||"collection_contents"===e||"library_datasets"===e},showFileTypeSelector:function(){return!this.exisistingDatasets&&!this.mappingAsDict.file_type},showGenomeSelector:function(){return!this.exisistingDatasets&&!this.mappingAsDict.dbkey},showCollectionNameInput:function(){return"collections"==this.importType&&"collection_contents"!=this.elementsType&&!this.mappingAsDict.collection_name},showAddNameTag:function(){return"collections"==this.importType&&"collection_contents"!=this.elementsType},titleFinish:function(){return"datasets"==this.elementsType||"library_datasets"==this.elementsType?u()("Create new collection from specified rules and datasets"):"collection_contents"==this.elementsType?u()("Save rules and return to tool form"):u()("Upload collection using specified rules")},titleCancel:function(){return"datasets"==this.importType?u()("Close this modal and do not upload any datasets"):u()("Close this modal and do not create any collections")},finishButtonTitle:function(){return"datasets"==this.elementsType||"library_datasets"==this.elementsType?u()("Create"):"collection_contents"==this.elementsType?u()("Save"):u()("Upload")},hasActiveMappingEdit:function(){return i.any(i.values(this.mapping),function(e){return e.editing})},activeRule:function(){return null!==this.activeRuleIndex&&this.rules[this.activeRuleIndex]},activeRuleColHeaders:function(){return null!==this.activeRuleIndex&&this.colHeadersPerRule[this.activeRuleIndex]||this.colHeaders},horizontal:function(){return"horizontal"==this.orientation},vertical:function(){return"vertical"==this.orientation},mappedTargets:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var r,o=this.mapping[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;e.push(a.type)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return e},unmappedTargets:function(){var e=[],t=this.mappedTargets;for(var n in y){var i=y[n].modes;if(!(i&&i.indexOf(this.elementsType)<0)){var r=y[n],o=r.importType;o&&this.importType!=o||!this.ftpUploadSite&&r.requiresFtp||t.indexOf(n)<0&&e.push(n)}}return e},hotData:function(){var e,t,n;if("datasets"==this.elementsType||"library_datasets"==this.elementsType||"ftp"==this.elementsType)e=this.initialElements.map(function(e){return[]}),t=this.initialElements.slice(),n=[];else if("collection_contents"==this.elementsType){var i=this.initialElements;if(i){var r=this.populateElementsFromCollectionDescription(i.elements,i.collection_type);e=r.data,t=r.sources,n=[]}else e=[],t=[],n=[]}else if(t=(e=this.initialElements.slice()).map(function(e){return null}),n=[],this.initialElements)for(var o in this.initialElements[0])n.push("new");return this.colHeadersPerRule=[],m.a.applyRules(e,t,n,this.rules,this.colHeadersPerRule)},colHeaders:function(){var e=this.hotData.data,t=this.hotData.columns;return m.a.colHeadersFor(e,t)},colHeadersDisplay:function(){var e=[];for(var t in this.colHeaders){var n=this.colHeaders[t];e[t]="<b>".concat(i.escape(n),"</b>");var r=[],o=!0,a=!1,s=void 0;try{for(var l,c=this.mapping[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;if(-1!==u.columns.indexOf(parseInt(t))){var d=y[u.type];r.push("<i>".concat(i.escape(d.columnHeader||d.label),"</i>"))}}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}1==r.length?e[t]+=" (".concat(r[0],")"):r.length>1&&(e[t]+=" (".concat([r.slice(0,-1).join(", "),r.slice(-1)[0]].join(" & "),")"))}return e},mappingAsDict:function(){var e={},t=!0,n=!1,i=void 0;try{for(var r,o=this.mapping[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;e[a.type]=a}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return e},metadataOptions:function(){var e={};if("collection_contents"==this.elementsType){var t=(this.initialElements?this.initialElements.collection_type:"list:list:list:paired").split(":");for(var n in t){var i=t[n];e["identifier"+n]="list"==i?u()("List Identifier ")+(parseInt(n)+1):u()("Paired Identifier")}e.tags=u()("Tags")}else"ftp"==this.elementsType?e.path=u()("Path"):"library_datasets"==this.elementsType?e.name=u()("Name"):"datasets"==this.elementsType?(e.hid=u()("History ID (hid)"),e.name=u()("Name")):e=null;return e},hasTagsMetadata:function(){return"collection_contents"==this.elementsType},collectionType:function(){var e=[];this.mappingAsDict.list_identifiers&&(e=this.mappingAsDict.list_identifiers.columns);var t=e.map(function(e){return"list"}).join(":");return this.mappingAsDict.paired_identifier&&(t?t+=":paired":t="paired"),t},validInput:function(){var e=this.identifierColumns(),t=this.mappingAsDict,n="collections"==this.importType,i=!0;n&&"collection_contents"!=this.elementsType&&!t.collection_name&&(i=this.collectionName.length>0),t.ftp_path&&t.url&&(i=!1),!("ftp"==this.elementsType||"raw"==this.elementsType)||t.ftp_path||t.url||(i=!1);var r=!0,o=!1,a=void 0;try{for(var s,l=this.rules[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){s.value.error&&(i=!1)}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n&&0==e.length&&(i=!1),i}},methods:{l:function(e){return u()(e)},cancel:function(){this.oncancel()},mappingTargets:function(){return y},resetRules:function(){this.rules.splice(0,this.rules.length),this.mapping.splice(0,this.mapping.length)},resetRulesAndState:function(){this.resetRules(),this.state="build",this.errorMessage="",this.collectionName=""},addNewRule:function(e){v[e].init(this),this.displayRuleType=e,this.activeRuleIndex=null},handleRuleSave:function(e){var t=this.activeRule;if(t)v[e].save(this,t);else{var n={type:e};v[e].save(this,n),this.rules.push(n)}},viewSource:function(){this.resetSource(),this.ruleView="source"},resetSource:function(){var e={rules:this.rules,mapping:this.mapping};this.exisistingDatasets||(this.extension!==f.a.DEFAULT_EXTENSION&&(e.extension=this.extension),this.genome!==f.a.DEFAULT_GENOME&&(e.genome=this.genome)),this.ruleSourceJson=e,this.ruleSource=JSON.stringify(e,function(e,t){if("error"!=e&&"warn"!=e)return t},"  "),this.ruleSourceError=null},attemptRulePreview:function(){var e;this.ruleSourceError=null;try{e=JSON.parse(this.ruleSource)}catch(e){return void(this.ruleSourceError="Problem parsing your rules.")}this.updateFromSource(e),this.ruleView="normal"},cancelSourceEdit:function(){this.ruleSourceError=null,this.ruleView="normal"},updateFromSource:function(e){this.resetRules(),e.extension&&(this.extension=e.extension),e.genome&&(this.genome=e.genome),e.rules&&(this.rules=e.rules),e.mapping&&(this.mapping=e.mapping)},addIdentifier:function(e){var t=this.mappingTargets()[e].multiple,n=t?[]:[0];this.mapping.push({type:e,columns:n,editing:t})},editRule:function(e,t){var n=e.type;this.activeRuleIndex=t,v[n].init(this,e),this.displayRuleType=n},removeRule:function(e){this.rules.splice(e,1)},removeMapping:function(e){this.mapping.splice(e,1)},refreshAndWait:function(e){r&&r.currHistoryPanel&&r.currHistoryPanel.refreshContents(),this.waitOnJob(e)},waitOnJob:function(e){var t=this,n=e.data.jobs[0].id,i=function(e){var i=e.data.state;if(t.waitingJobState=i,-1!==p.a.NON_TERMINAL_STATES.indexOf(i))setTimeout(r,1e3);else if(-1!==p.a.ERROR_STATES.indexOf(i))t.state="error",t.errorMessage="Unknown error encountered while running your upload job, this could be a server issue or a problem with the upload definition.",t.doFullJobCheck(n);else{(parent.Galaxy&&parent.Galaxy.currHistoryPanel&&parent.Galaxy.currHistoryPanel.model).refresh(),t.oncreate()}},r=function(){l.a.get("".concat(Object(o.a)(),"api/jobs/").concat(n)).then(i).catch(t.renderFetchError)};setTimeout(r,1e3)},doFullJobCheck:function(e){var t=this;l.a.get("".concat(Object(o.a)(),"api/jobs/").concat(e,"?full=True")).then(function(e){var n=e.data.stderr;if(n){var i="An error was encountered while running your upload job. ";n.indexOf("binary file contains inappropriate content")>-1&&(i+="The problem may be that the batch uploader will not automatically decompress your files the way the normal uploader does, please specify a correct extension or upload decompressed data."),i+="Upload job completed with standard error: "+n,t.errorMessage=i}}).catch(this.renderFetchError)},renderFetchError:function(e){this.state="error",e.response?(console.log(e.response),this.errorMessage=e.response.data.err_msg):(console.log(e),this.errorMessage="Unknown error encountered: "+e)},swapOrientation:function(){this.orientation="horizontal"==this.orientation?"vertical":"horizontal";var t=this.$refs.hotTable.table;"horizontal"==this.orientation?this.$nextTick(function(){var n=e(".rule-builder-body").width();t.updateSettings({width:n})}):this.$nextTick(function(){var n=e(".rule-builder-body").width();t.updateSettings({width:n-270})})},createCollection:function(){var e=this;this.state="wait";var t=this.collectionName,n=this.collectionType;if("datasets"==this.elementsType||"library_datasets"==this.elementsType){var s=this.creationElementsFromDatasets();"error"!==this.state&&new a.a.AjaxQueue(i.map(s,function(t,i){return function(){return e.creationFn(t,n,i,e.hideSourceItems)}})).done(this.oncreate).fail(this.renderFetchError)}else if("collection_contents"==this.elementsType)this.resetSource(),"error"!==this.state&&(this.saveRulesFn(this.ruleSourceJson),this.oncreate());else{var c,u=r.currHistoryPanel.model.id;if(n){c=[];var d=this.creationElementsForFetch();for(var h in d){var f={destination:{type:"hdca"},elements:d[h],collection_type:n,name:h};this.addNameTag&&(f.tags=["name:"+h]),c.push(f)}}else c=[{destination:{type:"hdas"},elements:this.creationDatasetsForFetch(),name:t}];"error"!==this.state&&l.a.post("".concat(Object(o.a)(),"api/tools/fetch"),{history_id:u,targets:c,auto_decompress:!0}).then(this.refreshAndWait).catch(this.renderFetchError)}},identifierColumns:function(){var e=this.mappingAsDict,t=[];return e.list_identifiers&&(t=e.list_identifiers.columns.slice()),this.mappingAsDict.paired_identifier&&t.push(this.mappingAsDict.paired_identifier.columns[0]),t},buildRequestElements:function(e,t,n){var i=this.hotData.data,r=this.identifierColumns();if(!(r.length<1)){var o=r.length,a=this.collectionType,s={},l={},c=this.mappingAsDict.collection_name;if(c){var u=c.columns[0];for(var d in i){var h=i[d],f=h[u];l[f]||(l[f]={}),l[f][d]=h}}else l[this.collectionName]=i;for(var p in l){var m=[],g=[];for(var _ in l[p])for(var v=i[_],y=a,b=m,w=g,k=0;k<o;k++){var M=String(v[r[k]]);if(k+1==o){if("paired"===y)if(["f","1","r1","forward"].indexOf(M.toLowerCase())>-1)M="forward";else{if(!(["r","2","r2","reverse"].indexOf(M.toLowerCase())>-1))return this.state="error",void(this.errorMessage="Unknown indicator of paired status encountered - only values of F, R, 1, 2, R1, R2, forward, or reverse are allowed.");M="reverse"}var x=e(_,M);if(b.push(x),w.indexOf(M)>=0)return this.state="error",void(this.errorMessage="Duplicate identifiers detected, collection identifiers must be unique.");w.push(M)}else{y=y.split(":").slice(1).join(":");for(var C=!1,S=0;S<b.length;S++){var T=b[S];if(T.name==M){b=T[n],w=w[M],C=!0;break}}if(!C){var L=t(M);b.push(L),w[M]=[];var E=[];L[n]=E,L.collection_type=y,b=E,w=w[M]}}}s[p]=m}return s}console.log("Error but this shouldn't have happened, create button should have been disabled.")},creationElementsFromDatasets:function(){var e=this,t=this.hotData.sources,n=this.hotData.data,i=this.mappingAsDict;return this.buildRequestElements(function(r,o){var a=t[r],s=e._datasetFor(r,n,i),l="datasets"==e.elementsType?"hda":"ldda";return{id:a.id,name:o,src:l,tags:s.tags}},function(e){return{name:e,src:"new_collection"}},"element_identifiers")},creationElementsForFetch:function(){var e=this,t=this.hotData.data,n=this.mappingAsDict;return this.buildRequestElements(function(i,r){var o=e._datasetFor(i,t,n);return o.name=r,o},function(e){return{name:e}},"elements")},creationDatasetsForFetch:function(){var e=this.hotData.data,t=this.mappingAsDict,n=[];for(var i in e){e[i];var r=this._datasetFor(i,e,t);n.push(r)}return n},populateElementsFromCollectionDescription:function(e,t,n){var i=n||[],r=[],o=[],a=!0,s=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=c.value,h=d.object,f=i.concat([d.element_identifier]),p=t.indexOf(":");if(-1===p){r.push([]);var m={identifiers:f,dataset:h,tags:h.tags};o.push(m)}else{var g=t.slice(p+1),_=this.populateElementsFromCollectionDescription(h.elements,g,f),v=_.data,y=_.sources;r=r.concat(v),o=o.concat(y)}}}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}return{data:r,sources:o}},highlightColumn:function(t){e(".htCore > thead > tr > th:nth-child(".concat(t+1,")")).addClass("ht__highlight"),e(".htCore > tbody > tr > td:nth-child(".concat(t+1,")")).addClass("rule-highlight")},unhighlightColumn:function(t){e(".htCore > thead > tr > th:nth-child(".concat(t+1,")")).removeClass("ht__highlight"),e(".htCore > tbody > tr > td:nth-child(".concat(t+1,")")).removeClass("rule-highlight")},_datasetFor:function(e,t,n){var i={};if(n.url){var r=n.url.columns[0],o=t[e][r];-1==o.indexOf("://")&&(o=-1!==o.indexOf("ftp.sra.")?"ftp://"+o:"http://"+o),i.url=o,i.src="url"}else if(n.ftp_path){var a=n.ftp_path.columns[0],s=t[e][a];i.ftp_path=s,i.src="ftp_import"}if(n.dbkey){var l=n.dbkey.columns[0],c=t[e][l];i.dbkey=c}else this.genome&&(i.dbkey=this.genome);if(n.file_type){var u=n.file_type.columns[0],d=t[e][u];i.ext=d}else this.extension&&(i.ext=this.extension);if(n.name){var h=n.name.columns[0],f=t[e][h];i.name=f}if(n.info){var p=n.info.columns[0],m=t[e][p];i.info=m}var g=[];if(n.tags){var _=n.tags.columns,v=!0,y=!1,b=void 0;try{for(var w,k=_[Symbol.iterator]();!(v=(w=k.next()).done);v=!0){var M=w.value,x=t[e][M];g.push(x)}}catch(e){y=!0,b=e}finally{try{v||null==k.return||k.return()}finally{if(y)throw b}}}if(n.group_tags){var C=n.group_tags.columns,S=!0,T=!1,L=void 0;try{for(var E,D=C[Symbol.iterator]();!(S=(E=D.next()).done);S=!0){var O=E.value,A=t[e][O];g.push("group:"+A)}}catch(e){T=!0,L=e}finally{try{S||null==D.return||D.return()}finally{if(T)throw L}}}if(n.name_tag){var Y=n.name_tag.columns[0],R=t[e][Y];g.push("name:"+R)}return g.length>0&&(i.tags=g),i}},created:function(){var e=this;if("collection_contents"!==this.elementsType){var t=null;if("datasets"==this.elementsType){var n=!0,i=!1,r=void 0;try{for(var o,a=this.initialElements[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){"dataset_collection"==o.value.history_content_type&&(this.errorMessage="This component can only be used with datasets, you have specified one or more collections.",this.state="error")}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}else{var s=!0,l=!1,c=void 0;try{for(var u,d=this.initialElements[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var h=u.value;if(null==t)t=h.length;else if(t!=h.length){this.jaggedData=!0;break}}}catch(e){l=!0,c=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}}f.a.getUploadDatatypes(function(t){e.extensions=t,e.extension=f.a.DEFAULT_EXTENSION},!1,f.a.AUTO_EXTENSION),f.a.getUploadGenomes(function(t){e.genomes=t,e.genome=f.a.DEFAULT_GENOME},f.a.DEFAULT_GENOME)}},watch:{addColumnRegexType:function(e){"groups"==e&&(this.addColumnRegexGroupCount=1),"replacement"==e&&(this.addColumnRegexReplacement="\0")}},components:{HotTable:h.a,RuleComponent:S,RuleTargetComponent:C,RuleDisplay:M,IdentifierDisplay:x,ColumnSelector:w,RegularExpressionInput:k,StateDiv:{render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"rule-collection-creator collection-creator flex-row-container"},[this._t("default")],2)},staticRenderFns:[]},RuleModalHeader:{render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"header flex-row no-flex"},[this._t("default")],2)},staticRenderFns:[]},RuleModalMiddle:{render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"middle flex-row flex-row-container"},[this._t("default")],2)},staticRenderFns:[]},RuleModalFooter:{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"rule-footer footer flex-row no-flex"},[this._t("inputs"),this._v(" "),t("div",{staticClass:"actions clear vertically-spaced"},[t("div",{staticClass:"main-options float-right"},[this._t("default")],2)])],2)},staticRenderFns:[]},Select2:b}}}).call(this,n(0),n(2),n(5).monitor)},function(e,t,n){},function(e,t,n){"use strict";(function(e){var i=n(4),r=n(15),o=n.n(r),a=n(580),s=n(581),l=n(436);t.a={props:{source:{type:String,required:!0},id:{type:String,required:!0},viewRender:{type:Boolean,requried:!1,default:!0}},data:function(){return{citations:[],content:"",errors:[]}},computed:{formattedReferences:function(){var e=this;return this.citations.reduce(function(t,n){return t.concat('<p class="formatted-reference">'.concat(e.formattedReference(n),"</p>"))},"")}},created:function(){var t=this;o.a.get("".concat(Object(i.a)(),"api/").concat(this.source,"/").concat(this.id,"/citations")).then(function(n){t.content="";var i=!0,r=!1,o=void 0;try{for(var s,l=n.data[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;try{var u={fields:{},entryType:void 0},d=a.toJSON(c.content);if(d)for(var h in d=e.first(d),u.entryType=d.entryType||void 0,d.entryTags)u.fields[h.toLowerCase()]=d.entryTags[h];t.citations.push(u),t.content+=c.content}catch(e){console.warn("Error parsing bibtex: "+e)}}}catch(e){r=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw o}}}).catch(function(e){console.error(e)})},methods:{formattedReference:function(e){var t=e.entryType,n=e.fields,i="",r="".concat(this._asSentence((n.author?n.author:"")+(n.year?" (".concat(n.year,")"):""))," "),o=n.title||"",a=n.pages?"pp. ".concat(n.pages):"",c=n.address;if("article"==t){var u=(n.volume?n.volume:"")+(n.number?" (".concat(n.number,")"):"")+(a?", ".concat(a):"");i="".concat(r+this._asSentence(o)+(n.journal?"In <em>".concat(n.journal,", "):"")+this._asSentence(u)+this._asSentence(n.address),"</em>")}else i="inproceedings"==t||"proceedings"==t?"".concat(r+this._asSentence(o)+(n.booktitle?"In <em>".concat(n.booktitle,", "):"")+(a||"")+(c?", ".concat(c):""),".</em>"):"mastersthesis"==t||"phdthesis"==t?r+this._asSentence(o)+(n.howpublished?"".concat(n.howpublished,". "):"")+(n.note?"".concat(n.note,"."):""):"techreport"==t?r+this._asSentence(o)+this._asSentence(n.institution)+this._asSentence(n.number)+this._asSentence(n.type):"book"==t||"inbook"==t||"incollection"==t?"".concat(r," ").concat(this._formatBookInfo(n)):"".concat(r," ").concat(this._asSentence(o)).concat(this._asSentence(n.howpublished)).concat(this._asSentence(n.note));var d="";n.doi&&(d="https://doi.org/".concat(n.doi),i+='[<a href="'.concat(d,'" target="_blank">doi:').concat(n.doi,"</a>]"));var h=n.url||d;return h&&(i+='[<a href="'.concat(h,'" target="_blank">Link</a>]')),Object(s.convertLaTeX)({onError:function(e,t){return"{".concat(Object(l.stringifyLaTeX)(t),"}")}},i)},_formatBookInfo:function(e){var t="";return e.chapter&&(t+="".concat(e.chapter," in ")),e.title&&(t+="<em>".concat(e.title,"</em>")),e.editor&&(t+=", Edited by ".concat(e.editor,", ")),e.publisher&&(t+=", ".concat(e.publisher)),e.pages&&(t+=", pp. ".concat(e.pages)),e.series&&(t+=", <em>".concat(e.series,"</em>")),e.volume&&(t+=", Vol.".concat(e.volume)),e.issn&&(t+=", ISBN: ".concat(e.issn)),"".concat(t,".")},_asSentence:function(e){return e&&e.trim()?"".concat(e,". "):""},toggleViewRender:function(){this.viewRender=!this.viewRender}}}}).call(this,n(2))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(502)),i(n(503)),i(n(911))},function(e,t,n){},function(e,t,n){"use strict";(function(e){var i=n(4),r=n(15),o=n.n(r),a=n(18),s=n(83);a.a.use(s.a),t.a={props:{callback:{type:Function,required:!0}},computed:{modalTitle:function(){return this.errorMessage?"Failed to load datasets":this.optionsShow?void 0:"Loading datasets"}},data:function(){return{fields:{name:{sortable:!0},extension:{sortable:!0},update_time:{sortable:!0}},filter:null,nItems:0,currentPage:0,perPage:10,items:[],errorMessage:null,errorShow:!0,historyId:null,modalShow:!0,optionsShow:!1}},created:function(){this.load()},methods:{filtered:function(e){this.nItems=e.length},clicked:function(e){var t="".concat(window.location.protocol,"//").concat(window.location.hostname,":").concat(window.location.port);this.callback("".concat(t,"/").concat(e.url,"/display")),this.modalShow=!1},load:function(){var t=this;this.historyId=e.currHistoryPanel&&e.currHistoryPanel.model.id,this.historyId?o.a.get("".concat(Object(i.a)(),"api/histories/").concat(this.historyId,"/contents")).then(function(e){t.items=e.data,t.optionsShow=!0}).catch(function(e){e.response?t.errorMessage=e.response.data.err_msg||"".concat(e.response.statusText," (").concat(e.response.status,")"):t.errorMessage="Server unavailable."}):this.errorMessage="History not accessible."}}}}).call(this,n(5).monitor)},function(e,t,n){},function(e,t,n){"use strict";(function(e){var i=n(4),r=n(5),o=n(15),a=n.n(o),s=n(369),l=n(18),c=n(83);l.a.use(c.a),t.a={props:{id:{type:String,required:!0},plural_name:{type:String,required:!0},model_class:{type:String,required:!0}},computed:{model_class_lc:function(){return this.model_class.toLowerCase()},plural_name_lc:function(){return this.plural_name.toLowerCase()},item_status:function(){return this.item.published?"accessible via link and published":"accessible via link"},item_url:function(){return"".concat(window.location.protocol,"//").concat(window.location.hostname,":").concat(window.location.port).concat(Object(i.a)()).concat(this.item.username_and_slug)},item_url_parts:function(){var e=this.item_url,t=e.lastIndexOf("/");return[e.substring(0,t+1),e.substring(t+1)]},published_url:function(){return"".concat(Object(i.a)()).concat(this.plural_name_lc,"/list_published")},share_url:function(){return"".concat(Object(i.a)()).concat(this.model_class_lc,"/share/?id=").concat(this.id)},slug_url:function(){return"".concat(Object(i.a)()).concat(this.model_class_lc,"/set_slug_async/?id=").concat(this.id)},has_possible_members:function(){return["history"].indexOf(this.model_class_lc)>-1},show_danger:function(){return null!==this.err_msg}},data:function(){return{ready:!1,has_username:Object(r.getGalaxyInstance)().user.get("username"),new_username:"",err_msg:null,pencil_url:"".concat(Object(i.a)(),"static/images/fugue/pencil.png"),item:{title:"title",username_and_slug:"username_and_slug",importable:!1,published:!1,users_shared_with:[]},share_fields:["email",{key:"id",label:""}],make_members_public:!1}},created:function(){this.getModel()},updated:function(){this.createSlugHandler()},methods:{getModel:function(){var e=this;this.ready=!1,a.a.get("".concat(Object(i.a)(),"api/").concat(this.plural_name_lc,"/").concat(this.id,"/sharing")).then(function(t){e.item=t.data,e.ready=!0}).catch(function(t){return e.err_msg=t.response.data.err_msg})},setUsername:function(){var e=this,t=Object(r.getGalaxyInstance)();a.a.put("".concat(Object(i.a)(),"api/users/").concat(t.user.id,"/information/inputs"),{username:this.new_username||""}).then(function(t){e.err_msg=null,e.has_username=!0,e.getModel()}).catch(function(t){return e.err_msg=t.response.data.err_msg})},setSharing:function(e,t){var n=this,r={action:e,user_id:t};this.has_possible_members&&(r.make_members_public=this.make_members_public),a.a.post("".concat(Object(i.a)(),"api/").concat(this.plural_name_lc,"/").concat(this.id,"/sharing"),r).then(function(e){Object.assign(n.item,e.data),e.data.skipped&&(n.err_msg="Some of the items within this object were not published due to an error.")}).catch(function(e){return n.err_msg=e.response.data.err_msg})},createSlugHandler:function(){Object(s.a)("edit-identifier","item-identifier",this.slug_url,"new_slug",null,!1,0,function(t){e("#item-url").hide(),e("#item-url-text").show(),t.keyup(function(){t.val(e(this).val().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9\-]/g,"").toLowerCase())})},function(t){e("#item-url-text").hide(),e("#item-url").show();var n=e("#item-url-text").text(),i=e("#item-url");i.attr("href",n),i.text(n)})}}}}).call(this,n(0))},function(e,t,n){},function(e,t,n){"use strict";(function(e,i){var r=n(4),o=n(15),a=n.n(o),s=n(18),l=n(464),c=n(22),u=n(50);t.a={props:{id:{type:String,required:!0}},data:function(){return{historyData:{},historyHistory:{},errorMessages:[]}},created:function(){var e=Object(r.a)()+"history/view/"+this.id;this.ajaxCall(e,this.updateHistoryView)},methods:{ajaxCall:function(e,t){var n=this;a.a.get(e).then(function(e){t(e)}).catch(function(e){n.showError("Error fetching histories -- reload the page to retry this request.  Please contact an administrator if the problem persists.",e)})},updateHistoryView:function(e){this.historyData=e.data,this.historyHistory=e.data.history},showError:function(e,t){console.error(t),this.errorMessages.push(e)},makeHistoryView:function(t){e(function(){var e={hasMasthead:t.use_panels?"true":"false",userIsOwner:t.user_is_owner?"true":"false",isCurrent:t.history_is_current?"true":"false",historyJSON:t.history,showDeletedJson:t.show_deleted,showHiddenJson:t.show_hidden,initialModeDeleted:t.show_deleted?"showing_deleted":"not_showing_deleted",initialModeHidden:t.show_hidden?"showing_hidden":"not_showing_hidden",allowUserDatasetPurge:t.allow_user_dataset_purge?"true":"false"};e.viewToUse=e.userIsOwner?{location:"mvc/history/history-view-edit",className:"HistoryViewEdit"}:{location:"mvc/history/history-view",className:"HistoryView"},u.a.historyEntry(e)})},showStructure:function(){var e=s.a.extend(l.a),t=document.createElement("div");i.page.center.display(t),new e({propsData:{id:c.a.get("id")}}).$mount(t)},switchHistory:function(){var e=Object(r.a)()+"history/switch_to_history?hist_id="+this.historyHistory.id;this.ajaxCall(e,this.reloadPage)},reloadPage:function(){window.location.reload()}},updated:function(){this.makeHistoryView(this.historyData)}}}).call(this,n(0),n(5).monitor)},function(e,t,n){"use strict";(function(e,i){var r=n(4),o=n(15),a=n.n(o),s=n(37),l=n(68);t.a={props:{id:{type:String,required:!1}},data:function(){return{historyTemplate:"",historyJSON:{},errorMessages:[]}},created:function(){var e=this.id,t="";t=void 0!==e&&""!==e&&null!==e?Object(r.a)()+"history/display_structured?id="+e:Object(r.a)()+"history/display_structured",this.ajaxCall(t)},methods:{ajaxCall:function(e){var t=this;a.a.get(e).then(function(e){t._updateHistoryData(e)}).catch(function(e){console.error(e),t.errorMessages.push("Error fetching history data -- reload the page to retry this request.  Please contact an administrator if the problem persists.")})},_updateHistoryData:function(e){var t=e.data;this.historyTemplate=t.template,this.historyJSON=t.history_json},makeHistoryView:function(t){window.hdas=t.map(function(t){return new l.a.HDAListItemEdit({model:new s.a.HistoryDatasetAssociation(t),el:e("#hda-"+t.id),linkTarget:"galaxy_main",purgeAllowed:i.config.allow_user_dataset_purge,logger:i.logger}).render(0)}),e(function(){e(".workflow, .tool").each(function(t,n){var i=e(n).children(".body");e(n).children(".header").click(function(e){i.toggle()}).addClass("clickable")})})}},updated:function(){this.makeHistoryView(this.historyJSON)}}}).call(this,n(0),n(5).monitor)},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";(function(e){var i=n(4),r=n(5),o=n(15),a=n.n(o);t.a={data:function(){return{plugins:[],hdas:[],search:"",selected:null,name:null,error:null,fixed:!1}},created:function(){var e=this,t=Object(r.getGalaxyInstance)(),n="".concat(Object(i.a)(),"api/plugins"),o=t.params.dataset_id;o&&(this.fixed=!0,this.selected=o,n+="?dataset_id=".concat(o)),a.a.get(n).then(function(t){e.plugins=t.data}).catch(function(t){e.error=e._errorMessage(t)})},methods:{select:function(e){var t=this;if(this.fixed)this.create(e);else{var n=Object(r.getGalaxyInstance)(),o=n.currHistoryPanel&&n.currHistoryPanel.model.id;o?a.a.get("".concat(Object(i.a)(),"api/plugins/").concat(e.name,"?history_id=").concat(o)).then(function(n){t.name=e.name,t.hdas=n.data&&n.data.hdas,t.hdas&&t.hdas.length>0&&(t.selected=t.hdas[0].id)}).catch(function(e){t.error=t._errorMessage(e)}):this.error="This option requires an accessible history."}},create:function(t){var n="".concat(t.href,"?dataset_id=").concat(this.selected);"_top"==t.target?window.location.href=n:e("#galaxy_main").attr("src",n)},match:function(e){return!this.search||-1!=e.name.indexOf(this.search)||e.description&&-1!=e.description.indexOf(this.search)},_errorMessage:function(e){return e&&e.response&&e.response.data&&e.response.data.err_msg||"Request failed for an unknown reason."}}}}).call(this,n(0))},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";(function(e,i,r,o){var a=n(1),s=n.n(a),l=n(6),c=n(384),u=n(11),d=e.View.extend({initialize:function(e){this.list={},this.options=l.a.merge(e,{title:s()("Repeat"),empty_text:"Not available.",max:null,min:null}),this.button_new=new u.a.Button({icon:"fa-plus",title:"Insert ".concat(this.options.title),tooltip:"Add new ".concat(this.options.title," block"),cls:"btn btn-secondary float-none form-repeat-add",onclick:function(){e.onnew&&e.onnew()}}),this.setElement(i("<div/>").append(this.$list=i("<div/>")).append(i("<div/>").append(this.button_new.$el)))},size:function(){return r.size(this.list)},add:function(e){if(e.id&&!this.list[e.id]){var t=new u.a.Button({icon:"fa-trash-o",tooltip:s()("Delete this repeat block"),cls:"ui-button-icon-plain form-repeat-delete",onclick:function(){e.ondel&&e.ondel()}}),n=new c.a.View({id:e.id,title:s()("placeholder"),cls:e.cls||"ui-portlet-section",operations:{button_delete:t}});n.append(e.$el),n.$el.addClass("section-row").hide(),this.list[e.id]=n,this.$list.append(n.$el.fadeIn("fast")),this.options.max>0&&this.size()>=this.options.max&&this.button_new.disable(),this._refresh()}else o.emit.debug("form-repeat::add()","Duplicate or invalid repeat block id.")},del:function(e){this.list[e]?(this.$list.find("#".concat(e)).remove(),delete this.list[e],this.button_new.enable(),this._refresh()):o.emit.debug("form-repeat::del()","Invalid repeat block id.")},delAll:function(){for(var e in this.list)this.del(e)},hideOptions:function(){this.button_new.$el.hide(),r.each(this.list,function(e){e.hideOperation("button_delete")}),r.isEmpty(this.list)&&this.$el.append(i("<div/>").addClass("form-text text-muted").html(this.options.empty_text))},_refresh:function(){var e=0;for(var t in this.list){var n=this.list[t];n.title("".concat(++e,": ").concat(this.options.title)),n[this.size()>this.options.min?"showOperation":"hideOperation"]("button_delete")}}});t.a={View:d}}).call(this,n(3),n(0),n(2),n(5).monitor)},function(e,t,n){"use strict";(function(e,i){var r=n(6),o=n(11),a=e.View.extend({initialize:function(e){var t=this;this.options=e,this.name=e.name||"element",this.multiple=e.multiple||!1,this.message=new o.a.Message({cls:"col mb-0"}),this.selections=i("<div/>"),this.select=new o.a.Select.View({optional:e.optional}),this.$button=i('<button class="fa fa-sign-in"/>'),this.$button.on("click",function(){t.add({id:t.select.value(),name:t.select.text()})}),this.setElement(this._template(e)),this.$(".ui-list-message").append(this.message.$el),this.$(".ui-list-selections").append(this.selections),this.$(".ui-list-button").append(this.$button),this.$(".ui-list-select").append(this.select.$el)},value:function(e){if(void 0!==e){if(this.selections.empty(),i.isArray(e))for(var t in e){var n=e[t],r=null,o=null;"string"!=i.type(n)?(r=n.id,o=n.name):r=o=n,null!=r&&this.add({id:r,name:o})}this._refresh()}var a=[];return this.$(".ui-list-id").each(function(){a.push({id:i(this).prop("id"),name:i(this).find(".ui-list-name").html()})}),0==a.length?null:a},add:function(e){var t=this;if(0===this.$('[id="'.concat(e.id,'"]')).length)if(r.a.isEmpty(e.id))this.message.update({message:"Please select a valid ".concat(this.name,"."),status:"danger"});else{var n=i(this._templateRow({id:e.id,name:e.name}));n.find("button").on("click",function(){n.remove(),t._refresh()}),this.selections.append(n),this._refresh()}else this.message.update({message:"This ".concat(this.name," is already in the list.")})},update:function(e){this.select.update(e)},_refresh:function(){this.$(".ui-list-id").length>0?!this.multiple&&this.$button.attr("disabled",!0):this.$button.attr("disabled",!1),this.options.onchange&&this.options.onchange()},_template:function(e){return'<div class="ui-list container">\n                    <div class="row">\n                        <div class="col-1 pl-0 mb-2">\n                            <div class="ui-list-button"/>\n                        </div>\n                        <div class="ui-list-select col pr-0"/>\n                    </div>\n                    <div class="ui-list-message mt-2 row"/>\n                    <div class="ui-list-selections mt-2"/>\n                </div>'},_templateRow:function(e){return'<div id="'.concat(e.id,'" class="ui-list-id row mt-2">\n                    <button class="ui-list-delete fa fa-trash mr-3"/>\n                    <div class="ui-list-name">').concat(e.name,"</span>\n                </div>")}});t.a={View:a}}).call(this,n(3),n(0))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),a=1e3;try{a=localStorage.getItem("collectionFuzzyCountDefault")||a}catch(e){}var s={defaults:{history_id:null,history_content_type:null,hid:null,visible:!0},idAttribute:"type_id",hidden:function(){return!this.get("visible")},isVisible:function(e,t){var n=!0;return e||!this.get("deleted")&&!this.get("purged")||(n=!1),t||this.get("visible")||(n=!1),n},urlRoot:"".concat(Object(o.a)(),"api/histories/"),url:function(){var e=this.get("history_content_type"),t=this.get("history_id"),n=this.get("id"),i="".concat(this.urlRoot).concat(t,"/contents/").concat(e,"s/").concat(n);return"dataset_collection"==e&&(i="".concat(i,"?view=element-reference&fuzzy_count=").concat(a)),i},hide:function(e){return this.get("visible")?this.save({visible:!1},e):r.a.when()},unhide:function(e){return this.get("visible")?r.a.when():this.save({visible:!0},e)},toString:function(){return[this.get("type_id"),this.get("hid"),this.get("name")].join(":")}};t.a={HistoryContentMixin:s}},function(e,t,n){"use strict";t.a=function(e,t){var n,i,r=/(-?[0-9\.]+)/g,o=e.toString().toLowerCase()||"",a=t.toString().toLowerCase()||"",s=String.fromCharCode(0),l=o.replace(r,"".concat(s,"$1").concat(s)).split(s),c=a.replace(r,"".concat(s,"$1").concat(s)).split(s),u=new Date(o).getTime(),d=u?new Date(a).getTime():null;if(d){if(u<d)return-1;if(u>d)return 1}for(var h=0,f=Math.max(l.length,c.length);h<f;h++){if((n=parseFloat(l[h])||l[h])<(i=parseFloat(c[h])||c[h]))return-1;if(n>i)return 1}return 0}},function(e,t,n){"use strict";(function(e,i,r){var o=n(53),a=n(346),s=n(8),l=n(1),c=n.n(l),u=e.View.extend(s.a.LoggableMixin).extend({_logNamespace:"collections",tagName:"li",className:"collection-element",initialize:function(e){this.element=e.element||{},this.identifier=e.identifier},render:function(){return this.$el.attr("data-element-id",this.element.id).html(this.template({identifier:this.identifier,element:this.element})),this},template:i.template(['<span class="identifier"><%- identifier %></span>','<span class="name"><%- element.name %></span>'].join("")),destroy:function(){this.off(),this.$el.remove()},toString:function(){return"DatasetCollectionElementView()"}}),d=o.a.ListCollectionCreator,h=d.extend({elementViewClass:u,collectionClass:a.a.HistoryDatasetCollection,className:"pair-collection-creator collection-creator flex-row-container",_mangleDuplicateNames:function(){},render:function(e,t){return 2===this.workingElements.length?d.prototype.render.call(this,e,t):this._renderInvalid(e,t)},_renderList:function(e,t){var n=this,o=r("<div/>"),a=n.$list();i.each(this.elementViews,function(e){e.destroy(),n.removeElementView(e)}),o.append(n._createForwardElementView().$el),o.append(n._createReverseElementView().$el),a.empty().append(o.children()),i.invoke(n.elementViews,"render")},_createForwardElementView:function(){return this._createElementView(this.workingElements[0],{identifier:"forward"})},_createReverseElementView:function(){return this._createElementView(this.workingElements[1],{identifier:"reverse"})},_createElementView:function(e,t){var n=new this.elementViewClass(i.extend(t,{element:e}));return this.elementViews.push(n),n},swap:function(){this.workingElements=[this.workingElements[1],this.workingElements[0]],this._renderList()},events:i.extend(i.clone(d.prototype.events),{"click .swap":"swap"}),templates:i.extend(i.clone(d.prototype.templates),{middle:i.template(['<div class="collection-elements-controls">','<a class="swap" href="javascript:void(0);" title="',c()("Swap forward and reverse datasets"),'">',c()("Swap"),"</a>","</div>",'<div class="collection-elements scroll-container flex-row">',"</div>"].join("")),helpContent:i.template(["<p>",c()(["Pair collections are permanent collections containing two datasets: one forward and one reverse. ","Often these are forward and reverse reads. The pair collections can be passed to tools and ","workflows in order to have analyses done on both datasets. This interface allows ","you to create a pair, name it, and swap which is forward and which reverse."].join("")),"</p>","<ul>","<li>",c()(['Click the <i data-target=".swap">"Swap"</i> link to make your forward dataset the reverse ',"and the reverse dataset forward."].join("")),"</li>","<li>",c()(['Click the <i data-target=".cancel-create">"Cancel"</i> button to exit the interface.'].join("")),"</li>","</ul><br />","<p>",c()(['Once your collection is complete, enter a <i data-target=".collection-name">name</i> and ','click <i data-target=".create-collection">"Create list"</i>.'].join("")),"</p>"].join("")),invalidInitial:i.template(['<div class="header flex-row no-flex">','<div class="alert alert-warning" style="display: block">','<span class="alert-message">',"<% if( _.size( problems ) ){ %>",c()("The following selections could not be included due to problems"),"<ul><% _.each( problems, function( problem ){ %>","<li><b><%- problem.element.name %></b>: <%- problem.text %></li>","<% }); %></ul>","<% } else if( _.size( elements ) === 0 ){ %>",c()("No datasets were selected"),".","<% } else if( _.size( elements ) === 1 ){ %>",c()("Only one dataset was selected"),": <%- elements[0].name %>","<% } else if( _.size( elements ) > 2 ){ %>",c()("Too many datasets were selected"),': <%- _.pluck( elements, "name" ).join( ", ") %>',"<% } %>","<br />",c()("Two (and only two) elements are needed for the pair"),". ",c()("You may need to "),'<a class="cancel-create" href="javascript:void(0)">',c()("cancel"),"</a> ",c()("and reselect new elements"),".","</span>","</div>","</div>",'<div class="footer flex-row no-flex">','<div class="actions clear vertically-spaced">','<div class="other-options float-left">','<button class="cancel-create btn" tabindex="-1">',c()("Cancel"),"</button>","</div>","</div>","</div>"].join(""))}),toString:function(){return"PairCollectionCreator"}}),f=function(e,t){return(t=t||{}).title=c()("Create a collection from a pair of datasets"),o.a.collectionCreatorModal(e,t,h)};t.a={PairCollectionCreator:h,pairCollectionCreatorModal:f,createPairCollection:function(e,t){var n=e.toJSON(),i=!t;return f(n,{defaultHideSourceItems:t,creationFn:function(t,n,r){return t=[{name:"forward",src:"hda",id:t[0].id},{name:"reverse",src:"hda",id:t[1].id}],e.createHDCA(t,"paired",n,r,i)}})}}}).call(this,n(3),n(2),n(0))},function(e,t,n){"use strict";(function(e){var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(5),d=n(587),h=n(453),f=n(391),p=n(8),m=n(1),g=n.n(m),_=(n(556),l.a.View.extend(p.a.LoggableMixin).extend({_logNamespace:"collections",tagName:"li",className:"dataset paired",initialize:function(e){this.pair=e.pair||{}},template:r.a.template(['<span class="forward-dataset-name flex-column"><%- pair.forward.name %></span>','<span class="pair-name-column flex-column">','<span class="pair-name"><%- pair.name %></span>',"</span>",'<span class="reverse-dataset-name flex-column"><%- pair.reverse.name %></span>'].join("")),render:function(){this.dragStartHandler=r.a.bind(this._dragstart,this),this.dragEndHandler=r.a.bind(this._dragend,this);var e=this.$el.attr("draggable",!0).data("pair",this.pair).html(this.template({pair:this.pair})).addClass("flex-column-container").get(0);return e.addEventListener("dragstart",this.dragStartHandler,!1),e.addEventListener("dragend",this.dragEndHandler,!1),this},events:{dragover:"_sendToParent",drop:"_sendToParent"},_dragstart:function(e){e.currentTarget.style.opacity="0.4",e.originalEvent&&(e=e.originalEvent),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",JSON.stringify(this.pair)),this.$el.parent().trigger("pair.dragstart",[this])},_dragend:function(e){e.currentTarget.style.opacity="1.0",this.$el.parent().trigger("pair.dragend",[this])},_sendToParent:function(e){this.$el.parent().trigger(e)},toString:function(){return"PairView(".concat(this.pair.name,")")}}));function v(e){(e=e||{}).createPair=e.createPair||function(e){var t=(e=e||{}).listA.splice(e.indexA,1)[0],n=e.listB.splice(e.indexB,1)[0],i=e.listB.indexOf(t),r=e.listA.indexOf(n);return-1!==i&&e.listB.splice(i,1),-1!==r&&e.listA.splice(r,1),this._pair(t,n,{silent:!0})};var t=[];return e.preprocessMatch=e.preprocessMatch||function(e){var n=function(){return t.length||(t=[new RegExp(this.filters[0]),new RegExp(this.filters[1])]),t}.call(this);return r.a.extend(e,{matchTo:e.matchTo.name.replace(n[0],""),possible:e.possible.name.replace(n[1],"")})},function(t){this.debug("autopair _strategy ---------------------------");var n,i=(t=t||{}).listA,r=t.listB,o=0,a={score:0,index:null},s=[];for(this.debug("starting list lens:",i.length,r.length),this.debug("bestMatch (starting):",JSON.stringify(a,null,"  "));o<i.length;){var l=i[o];for(a.score=0,n=0;n<r.length;n++){var c=r[n];if(this.debug("".concat(o,":").concat(l.name)),this.debug("".concat(n,":").concat(c.name)),i[o]!==r[n]&&(a=e.match.call(this,e.preprocessMatch.call(this,{matchTo:l,possible:c,index:n,bestMatch:a})),this.debug("bestMatch:",JSON.stringify(a,null,"  ")),1===a.score)){this.debug("breaking early due to perfect match");break}}var u=e.scoreThreshold.call(this);if(this.debug("scoreThreshold:",u),this.debug("bestMatch.score:",a.score),a.score>=u?s.push(e.createPair.call(this,{listA:i,indexA:o,listB:r,indexB:a.index})):o+=1,!i.length||!r.length)return s}return this.debug("paired:",JSON.stringify(s,null,"  ")),this.debug("autopair _strategy ---------------------------"),s}}var y=l.a.View.extend(p.a.LoggableMixin).extend(f.a.CollectionCreatorMixin).extend({_logNamespace:"collections",className:"list-of-pairs-collection-creator collection-creator flex-row-container",initialize:function(e){this.metric("PairedCollectionCreator.initialize",e),e=r.a.defaults(e,{datasets:[],filters:this.DEFAULT_FILTERS,automaticallyPair:!0,strategy:"lcs",matchPercentage:.9,twoPassAutopairing:!0}),this.initialList=e.datasets,this.historyId=e.historyId,this.filters=this.commonFilters[e.filters]||this.commonFilters[this.DEFAULT_FILTERS],r.a.isArray(e.filters)&&(this.filters=e.filters),this.automaticallyPair=e.automaticallyPair,this.strategy=this.strategies[e.strategy]||this.strategies[this.DEFAULT_STRATEGY],r.a.isFunction(e.strategy)&&(this.strategy=e.strategy),this.matchPercentage=e.matchPercentage,this.twoPassAutopairing=e.twoPassAutopairing,this.removeExtensions=!0,this.oncancel=e.oncancel,this.oncreate=e.oncreate,this.autoscrollDist=e.autoscrollDist||24,this.unpairedPanelHidden=!1,this.pairedPanelHidden=!1,this.$dragging=null,this.blocking=!1,this._setUpCommonSettings(e),this._setUpBehaviors(),this._dataSetUp()},commonFilters:{illumina:["_1","_2"],Rs:["_R1","_R2"]},DEFAULT_FILTERS:"illumina",strategies:{simple:"autopairSimple",lcs:"autopairLCS",levenshtein:"autopairLevenshtein"},DEFAULT_STRATEGY:"lcs",_dataSetUp:function(){this.paired=[],this.unpaired=[],this.selectedIds=[],this._sortInitialList(),this._ensureIds(),this.unpaired=this.initialList.slice(0),this.automaticallyPair&&(this.autoPair(),this.once("rendered:initial",function(){this.trigger("autopair")}))},_sortInitialList:function(){this._sortDatasetList(this.initialList)},_sortDatasetList:function(e){return e.sort(function(e,t){return Object(h.a)(e.name,t.name)}),e},_ensureIds:function(){return this.initialList.forEach(function(e){e.hasOwnProperty("id")||(e.id=r.a.uniqueId())}),this.initialList},_splitByFilters:function(){var e=this.filters.map(function(e){return new RegExp(e)}),t=[[],[]];return this.unpaired.forEach(function(n){e.forEach(function(e,i){(function(e,t){return t.test(e.name)})(n,e)&&t[i].push(n)})}),t},_addToUnpaired:function(e){var t=this;this.unpaired.splice(function n(i,r){if(i===r)return i;var o=Math.floor((r-i)/2)+i,a=Object(h.a)(e.name,t.unpaired[o].name);if(a<0)return n(i,o);if(a>0)return n(o+1,r);for(;t.unpaired[o]&&t.unpaired[o].name===e.name;)o++;return o}(0,this.unpaired.length),0,e)},autoPair:function(e){var t=this._splitByFilters(),n=[];return this.twoPassAutopairing&&(n=this.autopairSimple({listA:t[0],listB:t[1]}),t=this._splitByFilters()),e=e||this.strategy,t=this._splitByFilters(),n=n.concat(this[e].call(this,{listA:t[0],listB:t[1]}))},autopairSimple:v({scoreThreshold:function(){return.6},match:function(e){return(e=e||{}).matchTo===e.possible?{index:e.index,score:1}:e.bestMatch}}),autopairLevenshtein:v({scoreThreshold:function(){return this.matchPercentage},match:function(e){e=e||{};var t=1-Object(d.a)(e.matchTo,e.possible)/Math.max(e.matchTo.length,e.possible.length);return t>e.bestMatch.score?{index:e.index,score:t}:e.bestMatch}}),autopairLCS:v({scoreThreshold:function(){return this.matchPercentage},match:function(e){e=e||{};var t=this._naiveStartingAndEndingLCS(e.matchTo,e.possible).length/Math.max(e.matchTo.length,e.possible.length);return t>e.bestMatch.score?{index:e.index,score:t}:e.bestMatch}}),_naiveStartingAndEndingLCS:function(e,t){for(var n="",i="",r=0,o=0;r<e.length&&r<t.length&&e[r]===t[r];)n+=e[r],r+=1;if(r===e.length)return e;if(r===t.length)return t;for(r=e.length-1,o=t.length-1;r>=0&&o>=0&&e[r]===t[o];)i=[e[r],i].join(""),r-=1,o-=1;return n+i},_pair:function(e,t,n){n=n||{},this.debug("_pair:",e,t);var i=this._createPair(e,t,n.name);return this.paired.push(i),this.unpaired=r.a.without(this.unpaired,e,t),n.silent||this.trigger("pair:new",i),i},_createPair:function(e,t,n){if(!e||!t||e===t)throw new Error("Bad pairing: ".concat([JSON.stringify(e),JSON.stringify(t)]));return{forward:e,name:n=n||this._guessNameForPair(e,t),reverse:t}},_guessNameForPair:function(e,t,n){n=void 0!==n?n:this.removeExtensions;var i=e.name,r=t.name,o=this._naiveStartingAndEndingLCS(i.replace(new RegExp(this.filters[0]),""),r.replace(new RegExp(this.filters[1]),"")),a=o.lastIndexOf("/");if(a>0){var s=o.slice(0,a+1);o=o.replace(s,""),i=i.replace(c,""),r=r.replace(c,"")}if(n){var l=o.lastIndexOf(".");if(l>0){var c=o.slice(l,o.length);o=o.replace(c,""),i=i.replace(c,""),r=r.replace(c,"")}}return o||"".concat(i," & ").concat(r)},_unpair:function(e,t){if(t=t||{},!e)throw new Error("Bad pair: ".concat(JSON.stringify(e)));return this.paired=r.a.without(this.paired,e),this._addToUnpaired(e.forward),this._addToUnpaired(e.reverse),t.silent||this.trigger("pair:unpair",[e]),e},unpairAll:function(){for(var e=[];this.paired.length;)e.push(this._unpair(this.paired[0],{silent:!0}));this.trigger("pair:unpair",e)},_pairToJSON:function(e){return{collection_type:"paired",src:"new_collection",name:e.name,element_identifiers:[{name:"forward",id:e.forward.id,src:e.forward.src||"hda"},{name:"reverse",id:e.reverse.id,src:e.reverse.src||"hda"}]}},createList:function(e){var t=this,n="".concat(Object(c.a)(),"api/histories/").concat(this.historyId,"/contents/dataset_collections"),i={type:"dataset_collection",collection_type:"list:paired",hide_source_items:t.hideOriginals||!1,copy_elements:t.copyElements,name:r.a.escape(e||t.$(".collection-name").val()),element_identifiers:t.paired.map(function(e){return t._pairToJSON(e)})};return t.blocking=!0,a.a.ajax(n,{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(i)}).always(function(){t.blocking=!1}).fail(function(e,n,i){t._ajaxErrHandler(e,n,i)}).done(function(e,n,i){t.trigger("collection:created",e,n,i),t.metric("collection:created",e),"function"==typeof t.oncreate&&t.oncreate.call(this,e,n,i)})},_ajaxErrHandler:function(e,t,n){this.error(e,t,n);var i=g()("An error occurred while creating this collection");e&&(0===e.readyState&&0===e.status?i+=": ".concat(g()("Galaxy could not be reached and may be updating.")).concat(g()(" Try again in a few minutes.")):e.responseJSON?i+="<br /><pre>".concat(JSON.stringify(e.responseJSON),"</pre>"):i+=": ".concat(n)),this._showAlert(i,"alert-danger")},render:function(e,t){return this.$el.empty().html(this.templates.main()),this._renderHeader(e),this._renderMiddle(e),this._renderFooter(e),this._addPluginComponents(),this.trigger("rendered",this),this},_renderHeader:function(t,n){var i=this.$(".header").empty().html(this.templates.header()).find(".help-content").prepend(e(this.templates.helpContent()));return this._renderFilters(),i},_renderFilters:function(){return this.$(".forward-column .column-header input").val(this.filters[0]).add(this.$(".reverse-column .column-header input").val(this.filters[1]))},_renderMiddle:function(e,t){var n=this.$(".middle").empty().html(this.templates.middle());return this.unpairedPanelHidden?this.$(".unpaired-columns").hide():this.pairedPanelHidden&&this.$(".paired-columns").hide(),this._renderUnpaired(),this._renderPaired(),n},_renderUnpaired:function(e,t){var n,i,r=this,o=[],a=this._splitByFilters();this.$(".forward-column .title").text([a[0].length,g()("unpaired forward")].join(" ")),this.$(".forward-column .unpaired-info").text(this._renderUnpairedDisplayStr(this.unpaired.length-a[0].length)),this.$(".reverse-column .title").text([a[1].length,g()("unpaired reverse")].join(" ")),this.$(".reverse-column .unpaired-info").text(this._renderUnpairedDisplayStr(this.unpaired.length-a[1].length)),this.$(".unpaired-columns .column-datasets").empty(),this.$(".autopair-link").toggle(0!==this.unpaired.length),0!==this.unpaired.length?(i=a[1].map(function(e,t){return void 0!==a[0][t]&&a[0][t]!==e&&o.push(r._renderPairButton()),r._renderUnpairedDataset(e)}),(n=a[0].map(function(e){return r._renderUnpairedDataset(e)})).length||i.length?(this.$(".unpaired-columns .forward-column .column-datasets").append(n).add(this.$(".unpaired-columns .paired-column .column-datasets").append(o)).add(this.$(".unpaired-columns .reverse-column .column-datasets").append(i)),this._adjUnpairedOnScrollbar()):this._renderUnpairedNotShown()):this._renderUnpairedEmpty()},_renderUnpairedDisplayStr:function(e){return["(",e," ",g()("filtered out"),")"].join("")},_renderUnpairedDataset:function(t){return e("<li/>").attr("id","dataset-".concat(t.id)).addClass("dataset unpaired").attr("draggable",!0).addClass(t.selected?"selected":"").append(e("<span/>").addClass("dataset-name").text(t.name)).data("dataset",t)},_renderPairButton:function(){return e("<li/>").addClass("dataset unpaired").append(e("<span/>").addClass("dataset-name").text(g()("Pair these datasets")))},_renderUnpairedEmpty:function(){var t=e('<div class="empty-message"></div>').text("(".concat(g()("no remaining unpaired datasets"),")"));return this.$(".unpaired-columns .paired-column .column-datasets").empty().prepend(t),t},_renderUnpairedNotShown:function(){var t=e('<div class="empty-message"></div>').text("(".concat(g()("no datasets were found matching the current filters"),")"));return this.$(".unpaired-columns .paired-column .column-datasets").empty().prepend(t),t},_adjUnpairedOnScrollbar:function(){var e=this.$(".unpaired-columns").last(),t=this.$(".unpaired-columns .reverse-column .dataset").first();if(t.length){var n=e.offset().left+e.outerWidth(),i=t.offset().left+t.outerWidth(),r=Math.floor(n)-Math.floor(i);this.$(".unpaired-columns .forward-column").css("margin-left",r>0?r:0)}},_renderPaired:function(e,t){if(this.$(".paired-column-title .title").text([this.paired.length,g()("paired")].join(" ")),this.$(".unpair-all-link").toggle(0!==this.paired.length),0!==this.paired.length){this.$(".remove-extensions-link").show(),this.$(".paired-columns .column-datasets").empty();var n=this;this.paired.forEach(function(e,t){var i=new _({pair:e});n.$(".paired-columns .column-datasets").append(i.render().$el).append(['<button class="unpair-btn">','<span class="fa fa-unlink" title="',g()("Unpair"),'"></span>',"</button>"].join(""))})}else this._renderPairedEmpty()},_renderPairedEmpty:function(){var t=e('<div class="empty-message"></div>').text("(".concat(g()("no paired datasets yet"),")"));return this.$(".paired-columns .column-datasets").empty().prepend(t),t},footerSettings:{".hide-originals":"hideOriginals",".remove-extensions":"removeExtensions"},_addPluginComponents:function(){this._chooseFiltersPopover(".choose-filters-link"),this.$(".help-content i").hoverhighlight(".collection-creator","rgba( 64, 255, 255, 1.0 )")},_chooseFiltersPopover:function(t){var n=e(r.a.template(['<div class="choose-filters">','<div class="help">',g()("Choose from the following filters to change which unpaired reads are shown in the display"),":</div>",r.a.values(this.commonFilters).map(function(e){return function(e,t){return['<button class="filter-choice btn" ','data-forward="',e,'" data-reverse="',t,'">',g()("Forward"),": ",e,", ",g()("Reverse"),": ",t,"</button>"].join("")}(e[0],e[1])}).join(""),"</div>"].join(""))({}));return this.$(t).popover({container:".collection-creator",placement:"bottom",html:!0,content:n})},_validationWarning:function(e,t){"name"===e&&(e=this.$(".collection-name").add(this.$(".collection-name-prompt")),this.$(".collection-name").focus().select()),t?(e=e||this.$(".".concat("validation-warning"))).removeClass("validation-warning"):e.addClass("validation-warning")},_setUpBehaviors:function(){return this.once("rendered",function(){this.trigger("rendered:initial",this)}),this.on("pair:new",function(){this._renderUnpaired(),this._renderPaired(),this.$(".paired-columns").scrollTop(8e6)}),this.on("pair:unpair",function(e){this._renderUnpaired(),this._renderPaired(),this.splitView()}),this.on("filter-change",function(){this.filters=[this.$(".forward-unpaired-filter input").val(),this.$(".reverse-unpaired-filter input").val()],this.metric("filter-change",this.filters),this._renderFilters(),this._renderUnpaired()}),this.on("autopair",function(){var e;this._renderUnpaired(),this._renderPaired();var t=null;this.paired.length?(t="alert-success",e="".concat(this.paired.length," ").concat(g()("pairs created")),this.unpaired.length||(e+=": ".concat(g()("all datasets have been successfully paired")),this.hideUnpaired(),this.$(".collection-name").focus())):e=g()(["Could not automatically create any pairs from the given dataset names.","You may want to choose or enter different filters and try auto-pairing again.","Close this message using the X on the right to view more help."].join(" ")),this._showAlert(e,t)}),this},events:{"click .more-help":"_clickMoreHelp","click .less-help":"_clickLessHelp","click .main-help":"_toggleHelp","click .header .alert button":"_hideAlert","click .forward-column .column-title":"_clickShowOnlyUnpaired","click .reverse-column .column-title":"_clickShowOnlyUnpaired","click .unpair-all-link":"_clickUnpairAll","change .forward-unpaired-filter input":function(e){this.trigger("filter-change")},"focus .forward-unpaired-filter input":function(t){e(t.currentTarget).select()},"click .autopair-link":"_clickAutopair","click .choose-filters .filter-choice":"_clickFilterChoice","click .clear-filters-link":"_clearFilters","change .reverse-unpaired-filter input":function(e){this.trigger("filter-change")},"focus .reverse-unpaired-filter input":function(t){e(t.currentTarget).select()},"click .forward-column .dataset.unpaired":"_clickUnpairedDataset","click .reverse-column .dataset.unpaired":"_clickUnpairedDataset","click .paired-column .dataset.unpaired":"_clickPairRow","click .unpaired-columns":"clearSelectedUnpaired","mousedown .unpaired-columns .dataset":"_mousedownUnpaired","click .paired-column-title":"_clickShowOnlyPaired","mousedown .flexible-partition-drag":"_startPartitionDrag","click .paired-columns .dataset.paired":"selectPair","click .paired-columns":"clearSelectedPaired","click .paired-columns .pair-name":"_clickPairName","click .unpair-btn":"_clickUnpair","dragover .paired-columns .column-datasets":"_dragoverPairedColumns","drop .paired-columns .column-datasets":"_dropPairedColumns","pair.dragstart .paired-columns .column-datasets":"_pairDragstart","pair.dragend   .paired-columns .column-datasets":"_pairDragend","change .remove-extensions":function(e){this.toggleExtensions()},"change .collection-name":"_changeName","keydown .collection-name":"_nameCheckForEnter","change .hide-originals":"_changeHideOriginals","click .cancel-create":"_cancelCreate","click .create-collection":"_clickCreate"},_clickShowOnlyUnpaired:function(e){this.$(".paired-columns").is(":visible")?this.hidePaired():this.splitView()},_clickShowOnlyPaired:function(e){this.$(".unpaired-columns").is(":visible")?this.hideUnpaired():this.splitView()},hideUnpaired:function(e,t){this.unpairedPanelHidden=!0,this.pairedPanelHidden=!1,this._renderMiddle(e,t)},hidePaired:function(e,t){this.unpairedPanelHidden=!1,this.pairedPanelHidden=!0,this._renderMiddle(e,t)},splitView:function(e,t){return this.unpairedPanelHidden=this.pairedPanelHidden=!1,this._renderMiddle(e,t),this},_clickUnpairAll:function(e){this.metric("unpairAll"),this.unpairAll()},_clickAutopair:function(e){var t=this.autoPair();this.metric("autopair",t.length,this.unpaired.length),this.trigger("autopair")},_clickFilterChoice:function(t){var n=e(t.currentTarget);this.$(".forward-unpaired-filter input").val(n.data("forward")),this.$(".reverse-unpaired-filter input").val(n.data("reverse")),this._hideChooseFilters(),this.trigger("filter-change")},_hideChooseFilters:function(){this.$(".choose-filters-link").popover("hide"),this.$(".popover").css("display","none")},_clearFilters:function(e){this.$(".forward-unpaired-filter input").val(""),this.$(".reverse-unpaired-filter input").val(""),this.trigger("filter-change")},_clickUnpairedDataset:function(t){return t.stopPropagation(),this.toggleSelectUnpaired(e(t.currentTarget))},toggleSelectUnpaired:function(e,t){t=t||{};var n=e.data("dataset"),i=void 0!==t.force?t.force:!e.hasClass("selected");return e.length&&void 0!==n?(i?(e.addClass("selected"),t.waitToPair||this.pairAllSelected()):e.removeClass("selected"),e):e},pairAllSelected:function(t){t=t||{};var n=this,i=[],r=[],o=[];return n.$(".unpaired-columns .forward-column .dataset.selected").each(function(){i.push(e(this).data("dataset"))}),n.$(".unpaired-columns .reverse-column .dataset.selected").each(function(){r.push(e(this).data("dataset"))}),i.length=r.length=Math.min(i.length,r.length),i.forEach(function(e,t){try{o.push(n._pair(e,r[t],{silent:!0}))}catch(e){n.error(e)}}),o.length&&!t.silent&&this.trigger("pair:new",o),o},clearSelectedUnpaired:function(){this.$(".unpaired-columns .dataset.selected").removeClass("selected")},_mousedownUnpaired:function(t){if(t.shiftKey){var n=this,i=e(t.target).addClass("selected"),r=function(e){n.$(e.target).filter(".dataset").addClass("selected")};i.parent().on("mousemove",r),e(document).one("mouseup",function(e){i.parent().off("mousemove",r),n.pairAllSelected()})}},_clickPairRow:function(t){var n=e(t.currentTarget).index(),i=e(".unpaired-columns .forward-column .dataset").eq(n).data("dataset"),r=e(".unpaired-columns .reverse-column .dataset").eq(n).data("dataset");this._pair(i,r)},_startPartitionDrag:function(t){var n=this,i=t.pageY;function r(t){var r=t.pageY-i;n.adjPartition(r)||e("body").trigger("mouseup"),n._adjUnpairedOnScrollbar(),i+=r}e("body").css("cursor","ns-resize"),n.$(".flexible-partition-drag").css("color","black"),e("body").mousemove(r),e("body").one("mouseup",function(t){n.$(".flexible-partition-drag").css("color",""),e("body").css("cursor","").unbind("mousemove",r)})},adjPartition:function(e){var t=this.$(".unpaired-columns"),n=this.$(".paired-columns"),i=parseInt(t.css("height"),10),r=parseInt(n.css("height"),10);i=Math.max(10,i+e),r-=e;var o=e<0;if(o){if(this.unpairedPanelHidden)return!1;if(i<=10)return this.hideUnpaired(),!1}else this.unpairedPanelHidden&&(t.show(),this.unpairedPanelHidden=!1);if(o)this.pairedPanelHidden&&(n.show(),this.pairedPanelHidden=!1);else{if(this.pairedPanelHidden)return!1;if(r<=15)return this.hidePaired(),!1}return t.css({height:"".concat(i,"px"),flex:"0 0 auto"}),!0},selectPair:function(t){t.stopPropagation(),e(t.currentTarget).toggleClass("selected")},clearSelectedPaired:function(e){this.$(".paired-columns .dataset.selected").removeClass("selected")},_clickPairName:function(t){t.stopPropagation();var n=e(t.currentTarget),i=n.parent().parent().index(".dataset.paired"),r=this.paired[i],o=prompt("Enter a new name for the pair:",r.name);o&&(r.name=o,r.customizedName=!0,n.text(r.name))},_clickUnpair:function(t){var n=Math.floor(e(t.currentTarget).index(".unpair-btn"));this._unpair(this.paired[n])},_dragoverPairedColumns:function(t){t.preventDefault();var n=this.$(".paired-columns .column-datasets");this._checkForAutoscroll(n,t.originalEvent.clientY);var i=this._getNearestPairedDatasetLi(t.originalEvent.clientY);e(".element-drop-placeholder").remove();var r=e('<div class="element-drop-placeholder"></div>');i.length?i.before(r):n.append(r)},_checkForAutoscroll:function(e,t){var n=e.offset(),i=e.scrollTop(),r=t-n.top,o=n.top+e.outerHeight()-t;r>=0&&r<this.autoscrollDist?e.scrollTop(i-2):o>=0&&o<this.autoscrollDist&&e.scrollTop(i+2)},_getNearestPairedDatasetLi:function(t){for(var n=this.$(".paired-columns .column-datasets li").toArray(),i=0;i<n.length;i++){var r=e(n[i]),o=r.offset().top,a=Math.floor(r.outerHeight()/2)+4;if(o+a>t&&o-a<t)return r}return e()},_dropPairedColumns:function(e){e.preventDefault(),e.dataTransfer.dropEffect="move";var t=this._getNearestPairedDatasetLi(e.originalEvent.clientY);return t.length?this.$dragging.insertBefore(t):this.$dragging.insertAfter(this.$(".paired-columns .unpair-btn").last()),this._syncPairsToDom(),!1},_syncPairsToDom:function(){var t=[];this.$(".paired-columns .dataset.paired").each(function(){t.push(e(this).data("pair"))}),this.paired=t,this._renderPaired()},_pairDragstart:function(e,t){t.$el.addClass("selected");var n=this.$(".paired-columns .dataset.selected");this.$dragging=n},_pairDragend:function(t,n){e(".element-drop-placeholder").remove(),this.$dragging=null},toggleExtensions:function(e){var t=this;t.removeExtensions=void 0!==e?e:!t.removeExtensions,r.a.each(t.paired,function(e){e.customizedName||(e.name=t._guessNameForPair(e.forward,e.reverse))}),t._renderPaired(),t._renderFooter()},_printList:function(e){var t=this;r.a.each(e,function(n){e===t.paired?t._printPair(n):t.debug(n)})},_printPair:function(e){this.debug(e.forward.name,e.reverse.name,": ->",e.name)},toString:function(){return"PairedCollectionCreator"},templates:r.a.extend({},f.a.CollectionCreatorMixin._creatorTemplates,{header:r.a.template(['<div class="main-help well clear">','<a class="more-help" href="javascript:void(0);">',g()("More help"),"</a>",'<div class="help-content">','<a class="less-help" href="javascript:void(0);">',g()("Less"),"</a>","</div>","</div>",'<div class="alert alert-dismissable">','<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>','<span class="alert-message"></span>',"</div>",'<div class="column-headers vertically-spaced flex-column-container">','<div class="forward-column flex-column column">','<div class="column-header">','<div class="column-title">','<span class="title">',g()("Unpaired forward"),"</span>",'<span class="title-info unpaired-info"></span>',"</div>",'<div class="unpaired-filter forward-unpaired-filter float-left">','<input class="search-query" placeholder="',g()("Filter this list"),'" />',"</div>","</div>","</div>",'<div class="paired-column flex-column no-flex column">','<div class="column-header">','<a class="choose-filters-link" href="javascript:void(0)">',g()("Choose filters"),"</a>",'<a class="clear-filters-link" href="javascript:void(0);">',g()("Clear filters"),"</a><br />",'<a class="autopair-link" href="javascript:void(0);">',g()("Auto-pair"),"</a>","</div>","</div>",'<div class="reverse-column flex-column column">','<div class="column-header">','<div class="column-title">','<span class="title">',g()("Unpaired reverse"),"</span>",'<span class="title-info unpaired-info"></span>',"</div>",'<div class="unpaired-filter reverse-unpaired-filter float-left">','<input class="search-query" placeholder="',g()("Filter this list"),'" />',"</div>","</div>","</div>","</div>"].join("")),middle:r.a.template(['<div class="unpaired-columns flex-column-container scroll-container flex-row">','<div class="forward-column flex-column column">','<ol class="column-datasets"></ol>',"</div>",'<div class="paired-column flex-column no-flex column">','<ol class="column-datasets"></ol>',"</div>",'<div class="reverse-column flex-column column">','<ol class="column-datasets"></ol>',"</div>","</div>",'<div class="flexible-partition">','<div class="flexible-partition-drag" title="',g()("Drag to change"),'"></div>','<div class="column-header">','<div class="column-title paired-column-title">','<span class="title"></span>',"</div>",'<a class="unpair-all-link" href="javascript:void(0);">',g()("Unpair all"),"</a>","</div>","</div>",'<div class="paired-columns flex-column-container scroll-container flex-row">','<ol class="column-datasets"></ol>',"</div>"].join("")),footer:r.a.template(['<div class="attributes clear">','<div class="clear">','<label class="setting-prompt float-right">',g()("Hide original elements"),"?",'<input class="hide-originals float-right" type="checkbox" />',"</label>",'<label class="setting-prompt float-right">',g()("Remove file extensions from pair names"),"?",'<input class="remove-extensions float-right" type="checkbox" />',"</label>","</div>",'<div class="clear">','<input class="collection-name form-control float-right" ','placeholder="',g()("Enter a name for your new list"),'" />','<div class="collection-name-prompt float-right">',g()("Name"),":</div>","</div>","</div>",'<div class="actions clear vertically-spaced">','<div class="other-options float-left">','<button class="cancel-create btn" tabindex="-1">',g()("Cancel"),"</button>",'<div class="create-other btn-group dropup">','<button class="btn btn-secondary dropdown-toggle" data-toggle="dropdown">',g()("Create a different kind of collection"),' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">','<li><a href="#">',g()("Create a <i>single</i> pair"),"</a></li>",'<li><a href="#">',g()("Create a list of <i>unpaired</i> datasets"),"</a></li>","</ul>","</div>","</div>",'<div class="main-options float-right">','<button class="create-collection btn btn-primary">',g()("Create list"),"</button>","</div>","</div>"].join("")),helpContent:r.a.template(["<p>",g()(["Collections of paired datasets are ordered lists of dataset pairs (often forward and reverse reads). ","These collections can be passed to tools and workflows in order to have analyses done on each member of ","the entire group. This interface allows you to create a collection, choose which datasets are paired, ","and re-order the final collection."].join("")),"</p>","<p>",g()(['Unpaired datasets are shown in the <i data-target=".unpaired-columns">unpaired section</i> ',"(hover over the underlined words to highlight below). ",'Paired datasets are shown in the <i data-target=".paired-columns">paired section</i>.',"<ul>To pair datasets, you can:","<li>Click a dataset in the ",'<i data-target=".unpaired-columns .forward-column .column-datasets,','.unpaired-columns .forward-column">forward column</i> ',"to select it then click a dataset in the ",'<i data-target=".unpaired-columns .reverse-column .column-datasets,','.unpaired-columns .reverse-column">reverse column</i>.',"</li>",'<li>Click one of the "Pair these datasets" buttons in the ','<i data-target=".unpaired-columns .paired-column .column-datasets,','.unpaired-columns .paired-column">middle column</i> ',"to pair the datasets in a particular row.","</li>",'<li>Click <i data-target=".autopair-link">"Auto-pair"</i> ',"to have your datasets automatically paired based on name.","</li>","</ul>"].join("")),"</p>","<p>",g()(["<ul>You can filter what is shown in the unpaired sections by:","<li>Entering partial dataset names in either the ",'<i data-target=".forward-unpaired-filter input">forward filter</i> or ','<i data-target=".reverse-unpaired-filter input">reverse filter</i>.',"</li>","<li>Choosing from a list of preset filters by clicking the ",'<i data-target=".choose-filters-link">"Choose filters" link</i>.',"</li>","<li>Entering regular expressions to match dataset names. See: ",'<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions"',' target="_blank">MDN\'s JavaScript Regular Expression Tutorial</a>. ',"Note: forward slashes (\\) are not needed.","</li>","<li>Clearing the filters by clicking the ",'<i data-target=".clear-filters-link">"Clear filters" link</i>.',"</li>","</ul>"].join("")),"</p>","<p>",g()(["To unpair individual dataset pairs, click the ",'<i data-target=".unpair-btn">unpair buttons ( <span class="fa fa-unlink"></span> )</i>. ','Click the <i data-target=".unpair-all-link">"Unpair all" link</i> to unpair all pairs.'].join("")),"</p>","<p>",g()(['You can include or remove the file extensions (e.g. ".fastq") from your pair names by toggling the ','<i data-target=".remove-extensions-prompt">"Remove file extensions from pair names?"</i> control.'].join("")),"</p>","<p>",g()(['Once your collection is complete, enter a <i data-target=".collection-name">name</i> and ','click <i data-target=".create-collection">"Create list"</i>. ',"(Note: you do not have to pair all unpaired datasets to finish.)"].join("")),"</p>"].join(""))})}),b=function(e,t){var n,i=Object(u.getGalaxyInstance)(),o=a.a.Deferred();if(t=r.a.defaults(t||{},{datasets:e,oncancel:function(){i.modal.hide(),o.reject("cancelled")},oncreate:function(e,t){i.modal.hide(),o.resolve(t)},title:g()("Create a collection of paired datasets")}),!i||!i.modal)throw new Error("Galaxy or Galaxy.modal not found");return n=new y(t),i.modal.show({title:t.title,body:n.$el,width:"80%",height:"800px",closing_events:!0}),n.render(),window.creator=n,o};t.a={PairedCollectionCreator:y,pairedCollectionCreatorModal:b,createListOfPairsCollection:function(e,t){var n=e.toJSON();return b(n,{historyId:e.historyId,defaultHideSourceItems:t,copyElements:!t})}}}).call(this,n(0))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(2),a=n.n(o),s=n(3),l=n.n(s),c=n(5),u=n(8),d=l.a.Collection.extend({initialize:function(e,t){l.a.Collection.prototype.initialize.call(this,e,t),this.setOrder(t.order||this.order,{silent:!0})},_setUpListeners:function(){return this.on({"changed-order":this.sort})},fetch:function(e){return e=this._buildFetchOptions(e),Object(c.getGalaxyInstance)().debug("fetch options:",e),l.a.Collection.prototype.fetch.call(this,e)},_buildFetchOptions:function(e){var t=Object(c.getGalaxyInstance)();(e=a.a.clone(e)||{}).traditional=!0,e.data=e.data||this._buildFetchData(e),t.debug("data:",e.data);var n=this._buildFetchFilters(e);return t.debug("filters:",n),a.a.isEmpty(n)||a.a.extend(e.data,this._fetchFiltersToAjaxData(n)),t.debug("data:",e.data),e},_buildFetchData:function(e){var t={};return this.order&&(t.order=this.order),a.a.defaults(a.a.pick(e,this._fetchParams),t)},_fetchParams:["order","limit","offset","view","keys"],_buildFetchFilters:function(e){return a.a.clone(e.filters||{})},_fetchFiltersToAjaxData:function(e){var t={q:[],qv:[]};return a.a.each(e,function(e,n){void 0!==e&&""!==e&&(!0===e&&(e="True"),!1===e&&(e="False"),null===e&&(e="None"),t.q.push(n),t.qv.push(e))}),t},reset:function(e,t){return this.allFetched=!1,l.a.Collection.prototype.reset.call(this,e,t)},order:null,comparators:{update_time:u.a.buildComparator("update_time",{ascending:!1}),"update_time-asc":u.a.buildComparator("update_time",{ascending:!0}),create_time:u.a.buildComparator("create_time",{ascending:!1}),"create_time-asc":u.a.buildComparator("create_time",{ascending:!0})},setOrder:function(e,t){t=t||{};var n=this.comparators[e];if(a.a.isUndefined(n))throw new Error("unknown order: ".concat(e));if(n!==this.comparator)return this.order=e,this.comparator=n,t.silent||this.trigger("changed-order",t),this}}),h=d.extend({limitPerPage:500,initialize:function(e,t){d.prototype.initialize.call(this,e,t),this.currentPage=t.currentPage||0},getTotalItemCount:function(){return this.length},shouldPaginate:function(){return this.getTotalItemCount()>=this.limitPerPage},getLastPage:function(){return Math.floor(this.getTotalItemCount()/this.limitPerPage)},getPageCount:function(){return this.getLastPage()+1},getPageLimitOffset:function(e){return e=this.constrainPageNum(e),{limit:this.limitPerPage,offset:e*this.limitPerPage}},constrainPageNum:function(e){return Math.max(0,Math.min(e,this.getLastPage()))},fetchPage:function(e,t){var n=this;return e=n.constrainPageNum(e),n.currentPage=e,t=a.a.defaults(t||{},n.getPageLimitOffset(e)),n.trigger("fetching-more"),n.fetch(t).always(function(){n.trigger("fetching-more-done")})},fetchCurrentPage:function(e){return this.fetchPage(this.currentPage,e)},fetchPrevPage:function(e){return this.fetchPage(this.currentPage-1,e)},fetchNextPage:function(e){return this.fetchPage(this.currentPage+1,e)}}),f=d.extend({limitOnFirstFetch:null,limitPerFetch:100,initialize:function(e,t){d.prototype.initialize.call(this,e,t),this.limitOnFirstFetch=t.limitOnFirstFetch||this.limitOnFirstFetch,this.limitPerFetch=t.limitPerFetch||this.limitPerFetch,this.allFetched=!1,this.lastFetched=t.lastFetched||0},_buildFetchOptions:function(e){return e.remove=e.remove||!1,d.prototype._buildFetchOptions.call(this,e)},fetchFirst:function(e){return Object(c.getGalaxyInstance)().debug("ControlledFetchCollection.fetchFirst:",e),e=e?a.a.clone(e):{},this.allFetched=!1,this.lastFetched=0,this.fetchMore(a.a.defaults(e,{reset:!0,limit:this.limitOnFirstFetch}))},fetchMore:function(e){var t=Object(c.getGalaxyInstance)();t.debug("ControlledFetchCollection.fetchMore:",e),e=a.a.clone(e||{});var n=this;if(t.debug("fetchMore, options.reset:",e.reset),!e.reset&&n.allFetched)return r.a.when();e.reset?e.offset=0:void 0===e.offset&&(e.offset=n.lastFetched);var i=e.limit=e.limit||n.limitPerFetch||null;return t.debug("fetchMore, limit:",i,"offset:",e.offset),n.trigger("fetching-more"),n.fetch(e).always(function(){n.trigger("fetching-more-done")}).done(function(e){var r=a.a.isArray(e)?e.length:0;n.lastFetched+=r,t.debug("fetchMore, lastFetched:",n.lastFetched),(!i||r<i)&&(n.allFetched=!0,n.trigger("all-fetched",this))})},fetchAll:function(e){e=e||{};var t=this;return(e=a.a.pick(e,"silent")).filters={},t.fetch(e).done(function(){t.allFetched=!0,t.trigger("all-fetched",t)})}});t.a={ControlledFetchCollection:d,PaginatedCollection:h,InfinitelyScrollingCollection:f}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(3),a=n.n(o),s=n(2),l=n.n(s),c=n(48),u=n(81),d=n(8),h=n(1),f=n.n(h),p=(n(505),a.a.View.extend(d.a.LoggableMixin).extend({_logNamespace:"list",viewClass:c.c.ListItemView,collectionClass:a.a.Collection,tagName:"div",className:"list-panel",fxSpeed:"fast",emptyMsg:f()("This list is empty"),noneFoundMsg:f()("No matching items found"),searchPlaceholder:f()("search"),initialize:function(e,t){(e=e||{}).logger&&(this.logger=e.logger),this.log("".concat(this,".initialize:"),e),this.fxSpeed=l.a.has(e,"fxSpeed")?e.fxSpeed:this.fxSpeed,this.filters=[],this.searchFor=e.searchFor||"",this.selecting=void 0===e.selecting||e.selecting,this.selected=e.selected||[],this.lastSelected=null,this.dragItems=e.dragItems||!1,this.viewClass=e.viewClass||this.viewClass,this.views=[],this.collection=e.collection||this._createDefaultCollection(),this.filters=e.filters||[],this.$scrollContainer=e.$scrollContainer||this.$scrollContainer,this.title=e.title||"",this.subtitle=e.subtitle||"",this._setUpListeners()},_setUpListeners:function(){return this.off(),this.on({error:function(e,t,n,i,r){console.error(e,t,n,i,r)},loading:function(){this._showLoadingIndicator("loading...",40)},"loading-done":function(){this._hideLoadingIndicator(40)}}),this.once("rendered",function(){this.trigger("rendered:initial",this)}),this._setUpCollectionListeners(),this._setUpViewListeners(),this},_createDefaultCollection:function(){return new this.collectionClass([])},_setUpCollectionListeners:function(){return this.log("".concat(this,"._setUpCollectionListeners"),this.collection),this.stopListening(this.collection),this.listenTo(this.collection,{error:function(e,t,n,i,r){this.trigger("error",e,t,n,i,r)},update:function(e,t){var n=t.changes;return t.renderAll||n.added.length+n.removed.length>1?this.renderItems():1===n.added.length?this.addItemView(l.a.first(n.added),e,t):1===n.removed.length?this.removeItemView(l.a.first(n.removed),e,t):void 0}}),this},_setUpViewListeners:function(){this.log("".concat(this,"._setUpViewListeners")),this.on({"view:selected":function(e,t){if(t&&t.shiftKey&&this.lastSelected){var n=this.viewFromModelId(this.lastSelected);n&&this.selectRange(e,n)}else t&&t.altKey&&!this.selecting&&this.showSelectors();this.selected.push(e.model.id),this.lastSelected=e.model.id},"view:de-selected":function(e,t){this.selected=l.a.without(this.selected,e.model.id)}})},render:function(e){this.log("".concat(this,".render"),e);var t=this._buildNewRender();return this._setUpBehaviors(t),this._queueNewRender(t,e),this},_buildNewRender:function(){this.debug("".concat(this,"(ListPanel)._buildNewRender"));var e=r()(this.templates.el({},this));return this._renderControls(e),this._renderTitle(e),this._renderSubtitle(e),this._renderSearch(e),this.renderItems(e),e},_renderControls:function(e){this.debug("".concat(this,"(ListPanel)._renderControls"));var t=r()(this.templates.controls({},this));return e.find(".controls").replaceWith(t),t},_renderTitle:function(e){},_renderSubtitle:function(e){},_queueNewRender:function(e,t){t=void 0===t?this.fxSpeed:t;var n=this;n.log("_queueNewRender:",e,t),r()(n).queue("fx",[function(e){n.$el.fadeOut(t,e)},function(t){n._swapNewRender(e),t()},function(e){n.$el.fadeIn(t,e)},function(e){n.trigger("rendered",n),e()}])},_swapNewRender:function(e){return this.$el.empty().attr("class",this.className).append(e.children()),this.selecting&&this.showSelectors(0),this},_setUpBehaviors:function(e){return e=e||this.$el,this.$controls(e).find("[title]").tooltip(),this._renderMultiselectActionMenu(e),this},_renderMultiselectActionMenu:function(e){var t=(e=e||this.$el).find(".list-action-menu"),n=this.multiselectActions();if(!n.length)return t.empty();var i=r()(['<div class="list-action-menu btn-group">','<button class="list-action-menu-btn btn btn-secondary dropdown-toggle" data-toggle="dropdown">',f()("For all selected"),"...","</button>",'<ul class="dropdown-menu float-right" role="menu">',"</ul>","</div>"].join("")),o=n.map(function(e){var t=['<li><a href="javascript:void(0);">',e.html,"</a></li>"].join("");return r()(t).click(function(t){return t.preventDefault(),e.func(t)})});return i.find("ul").append(o),t.replaceWith(i),i},multiselectActions:function(){return[]},$scrollContainer:function(e){return(e||this.$el).parent().parent()},$controls:function(e){return(e||this.$el).find("> .controls")},$list:function(e){return(e||this.$el).find("> .list-items")},$messages:function(e){return(e||this.$el).find("> .controls .messages")},$emptyMessage:function(e){return(e||this.$el).find("> .empty-message")},renderItems:function(e){e=e||this.$el;var t=this;t.log("".concat(this,".renderItems"),e);var n=t.$list(e);t.freeViews();var i=t._filterCollection();return t.views=i.map(function(e){return t._createItemView(e)}),n.empty(),t.views.length&&t._attachItems(e),t._renderEmptyMessage(e).toggle(!t.views.length),t.trigger("views:ready",t.views),t.views},_filterCollection:function(){return this.collection.filter(l.a.bind(this._filterItem,this))},_filterItem:function(e){return l.a.every(this.filters.map(function(t){return t.call(e)}))&&(!this.searchFor||e.matchesAll(this.searchFor))},_createItemView:function(e){var t=new(this._getItemViewClass(e))(l.a.extend(this._getItemViewOptions(e),{model:e}));return this._setUpItemViewListeners(t),t},_destroyItemView:function(e){this.stopListening(e),this.views=l.a.without(this.views,e)},_destroyItemViews:function(e){var t=this;return t.views.forEach(function(e){t.stopListening(e)}),t.views=[],t},freeViews:function(){return this._destroyItemViews()},_getItemViewClass:function(e){return this.viewClass},_getItemViewOptions:function(e){return{fxSpeed:this.fxSpeed,expanded:!1,selectable:this.selecting,selected:l.a.contains(this.selected,e.id),draggable:this.dragItems}},_setUpItemViewListeners:function(e){var t=this;return this.listenTo(e,"all",function(){var e=Array.prototype.slice.call(arguments,0);e[0]="view:".concat(e[0]),t.trigger.apply(t,e)}),this.listenTo(e,"draggable:dragstart",function(e,t){var n={},i=this.getSelectedModels();n=i.length?i.toJSON():[t.model.toJSON()],e.dataTransfer.setData("text",JSON.stringify(n))},this),t},_attachItems:function(e){var t=this;return this.$list(e).append(this.views.map(function(e){return t._renderItemView$el(e)})),this},_renderItemView$el:function(e){return e.render(0).$el},_renderEmptyMessage:function(e){this.debug("_renderEmptyMessage",e,this.searchFor);var t=this.searchFor?this.noneFoundMsg:this.emptyMsg;return this.$emptyMessage(e).text(t)},expandAll:function(){l.a.each(this.views,function(e){e.expand()})},collapseAll:function(){l.a.each(this.views,function(e){e.collapse()})},addItemView:function(e,t,n){var i=this,o=i._filterCollection().indexOf(e);if(-1!==o){var a=i._createItemView(e);return r()(a).queue("fx",[function(e){i.$emptyMessage().is(":visible")?i.$emptyMessage().fadeOut(i.fxSpeed,e):e()},function(e){i._attachView(a,o),e()}]),a}},_attachView:function(e,t,n){n=!!l.a.isUndefined(n)||n,t=t||0;var i=this;return i.views.splice(t,0,e),i._insertIntoListAt(t,i._renderItemView$el(e).hide()),i.trigger("view:attached",e),n?e.$el.slideDown(i.fxSpeed,function(){i.trigger("view:attached:rendered")}):(e.$el.show(),i.trigger("view:attached:rendered")),e},_insertIntoListAt:function(e,t){var n=this.$list();return 0===e?n.prepend(t):n.children().eq(e-1).after(t),t},removeItemView:function(e,t,n){var i=this,o=l.a.find(i.views,function(t){return t.model===e});if(o)return i.views=l.a.without(i.views,o),i.trigger("view:removed",o),r()({}).queue("fx",[function(e){o.$el.fadeOut(i.fxSpeed,e)},function(e){o.remove(),i.trigger("view:removed:rendered"),i.views.length?e():i._renderEmptyMessage().fadeIn(i.fxSpeed,e)}]),o},viewFromModelId:function(e){return l.a.find(this.views,function(t){return t.model.id===e})},viewFromModel:function(e){return e?this.viewFromModelId(e.id):void 0},viewsWhereModel:function(e){return this.views.filter(function(t){return l.a.isMatch(t.model.attributes,e)})},viewRange:function(e,t){if(e===t)return e?[e]:[];var n=this.views.indexOf(e),i=this.views.indexOf(t);return-1===n||-1===i?n===i?[]:-1===n?[t]:[e]:n<i?this.views.slice(n,i+1):this.views.slice(i,n+1)},_renderSearch:function(e){return e.find(".controls .search-input").searchInput({placeholder:this.searchPlaceholder,initialVal:this.searchFor,onfirstsearch:l.a.bind(this._firstSearch,this),onsearch:l.a.bind(this.searchItems,this),onclear:l.a.bind(this.clearSearch,this)}),e},_firstSearch:function(e){return this.log("onFirstSearch",e),this.searchItems(e)},searchItems:function(e,t){if(this.log("searchItems",e,this.searchFor,t),!t&&this.searchFor===e)return this;this.searchFor=e,this.renderItems(),this.trigger("search:searching",e,this);var n=this.$("> .controls .search-query");return n.val()!==e&&n.val(e),this},clearSearch:function(e){return this.searchFor="",this.trigger("search:clear",this),this.$("> .controls .search-query").val(""),this.renderItems(),this},THROTTLE_SELECTOR_FX_AT:20,showSelectors:function(e){e=void 0!==e?e:this.fxSpeed,this.selecting=!0,this.$(".list-actions").slideDown(e),e=this.views.length>=this.THROTTLE_SELECTOR_FX_AT?0:e,l.a.each(this.views,function(t){t.showSelector(e)})},hideSelectors:function(e){e=void 0!==e?e:this.fxSpeed,this.selecting=!1,this.$(".list-actions").slideUp(e),e=this.views.length>=this.THROTTLE_SELECTOR_FX_AT?0:e,l.a.each(this.views,function(t){t.hideSelector(e)}),this.selected=[],this.lastSelected=null},toggleSelectors:function(){this.selecting?this.hideSelectors():this.showSelectors()},selectAll:function(e){l.a.each(this.views,function(t){t.select(e)})},deselectAll:function(e){this.lastSelected=null,l.a.each(this.views,function(t){t.deselect(e)})},selectRange:function(e,t){var n=this.viewRange(e,t);return l.a.each(n,function(e){e.select()}),n},getSelectedViews:function(){return l.a.filter(this.views,function(e){return e.selected})},getSelectedModels:function(){return new this.collection.constructor(l.a.map(this.getSelectedViews(),function(e){return e.model}))},_showLoadingIndicator:function(e,t,n){this.debug("_showLoadingIndicator",this.indicator,e,t,n),t=void 0!==t?t:this.fxSpeed,this.indicator||(this.indicator=new u.a.LoadingIndicator(this.$el),this.debug("\t created",this.indicator)),this.$el.is(":visible")?(this.$el.fadeOut(t),this.indicator.show(e,t,n)):this.indicator.show(0,n)},_hideLoadingIndicator:function(e,t){this.debug("_hideLoadingIndicator",this.indicator,e,t),e=void 0!==e?e:this.fxSpeed,this.indicator&&this.indicator.hide(e,t)},scrollPosition:function(){return this.$scrollContainer().scrollTop()},scrollTo:function(e,t){return t=t||0,this.$scrollContainer().animate({scrollTop:e},t),this},scrollToTop:function(e){return this.scrollTo(0,e)},scrollToItem:function(e,t){return this},scrollToId:function(e,t){return this.scrollToItem(this.viewFromModelId(e),t)},events:{"click .select-all":"selectAll","click .deselect-all":"deselectAll"},toString:function(){return"ListPanel(".concat(this.collection,")")}}));p.prototype.templates={el:d.a.wrapTemplate(["<div>",'<div class="controls"></div>','<div class="list-items"></div>','<div class="empty-message infomessagesmall"></div>',"</div>"]),controls:d.a.wrapTemplate(['<div class="controls">','<div class="title">','<div class="name"><%- view.title %></div>',"</div>",'<div class="subtitle"><%- view.subtitle %></div>','<div class="actions"></div>','<div class="messages"></div>','<div class="search">','<div class="search-input"></div>',"</div>",'<div class="list-actions">','<div class="btn-group">','<button class="select-all btn btn-secondary"','data-mode="select">',f()("All"),"</button>",'<button class="deselect-all btn btn-secondary"','data-mode="select">',f()("None"),"</button>","</div>",'<div class="list-action-menu btn-group">',"</div>","</div>","</div>"])};var m=p.extend({modelCollectionKey:"contents",initialize:function(e){p.prototype.initialize.call(this,e),this.selecting=void 0!==e.selecting&&e.selecting,this.setModel(this.model,e)},setModel:function(e,t){if(t=t||{},this.debug("".concat(this,".setModel:"),e,t),this.freeModel(),this.freeViews(),e){var n=this.model?this.model.get("id"):null;this.model=e,this.logger&&(this.model.logger=this.logger),this._setUpModelListeners(),this.stopListening(this.collection),this.collection=this.model[this.modelCollectionKey]||t.collection||this._createDefaultCollection(),this._setUpCollectionListeners(),n&&e.get("id")!==n&&this.trigger("new-model",this)}return this},freeModel:function(){return this.model&&this.stopListening(this.model),this},_setUpModelListeners:function(){return this.log("".concat(this,"._setUpModelListeners"),this.model),this.listenTo(this.model,"error",function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("error"),this.trigger.apply(this,e)},this),this.logger&&this.listenTo(this.model,"all",function(e){this.info("".concat(this,"(model)"),e,arguments)}),this},_renderControls:function(e){this.debug("".concat(this,"(ModelListPanel)._renderControls"));var t=this.model?this.model.toJSON():{},n=r()(this.templates.controls(t,this));return e.find(".controls").replaceWith(n),n},toString:function(){return"ModelListPanel(".concat(this.model,")")}});m.prototype.templates=function(){var e=d.a.wrapTemplate(['<div class="controls">','<div class="title">','<div class="name"><%- model.name %></div>',"</div>",'<div class="subtitle"><%- view.subtitle %></div>','<div class="actions"></div>','<div class="messages"></div>','<div class="search">','<div class="search-input"></div>',"</div>",'<div class="list-actions">','<div class="btn-group">','<button class="select-all btn btn-secondary"','data-mode="select">',f()("All"),"</button>",'<button class="deselect-all btn btn-secondary"','data-mode="select">',f()("None"),"</button>","</div>",'<div class="list-action-menu btn-group">',"</div>","</div>","</div>"]);return l.a.extend(l.a.clone(p.prototype.templates),{controls:e})}(),t.a={ListPanel:p,ModelListPanel:m}},function(e,t,n){"use strict";(function(e){var i=n(6);function r(t){return'<span style="'.concat(i.a.generateTagStyle(t.slice(5)),'" class="badge badge-primary badge-tags">').concat(e.escape(t.slice(5)),"</span>")}t.a={nametagTemplate:function(t){var n=e.filter(e.uniq(t.tags),function(e){return 0===e.indexOf("name:")}),i=e.sortBy(n).map(r);return'\n        <div class="nametags" title="'.concat(n.length,' nametags">\n            ').concat(i.join(""),"\n        </div>")}}}).call(this,n(2))},function(e,t,n){"use strict";(function(e,i){var r=n(8),o=n(1),a=n.n(o),s=(n(381),e.View.extend(r.a.LoggableMixin).extend(r.a.HiddenUntilActivatedViewMixin).extend({tagName:"div",className:"annotation-display",initialize:function(e){e=e||{},this.tooltipConfig=e.tooltipConfig||{placement:"bottom"},this.listenTo(this.model,"change:annotation",function(){this.render()}),this.hiddenUntilActivated(e.$activator,e)},render:function(){var e=this;return this.$el.html(this._template()),this.$annotation().make_text_editable({use_textarea:!0,on_finish:function(t){e.$annotation().text(t),e.model.save({annotation:t},{silent:!0}).fail(function(){e.$annotation().text(e.model.previous("annotation"))})}}),this},_template:function(){var e=this.model.get("annotation");return['<label class="prompt">',a()("Annotation"),"</label>",'<div class="annotation">',i.escape(e),"</div>"].join("")},$annotation:function(){return this.$el.find(".annotation")},remove:function(){this.$annotation.off(),this.stopListening(this.model),e.View.prototype.remove.call(this)},toString:function(){return["AnnotationEditor(","".concat(this.model),")"].join("")}}));t.a={AnnotationEditor:s}}).call(this,n(3),n(2))},function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(4),a=r.a.Model.extend({urlRoot:"".concat(Object(o.a)(),"api/groups")}),s=r.a.Collection.extend({url:"".concat(Object(o.a)(),"api/groups"),model:a});t.a={Group:a,Groups:s}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(3),a=n.n(o),s=n(4),l=n(5),c=n(22),u=n(11),d=a.a.Router.extend({initialize:function(e,t){this.page=e,this.options=t},executeUseRouter:function(e){var t=Object(s.a)();return e.startsWith(t)&&(e=e.replace(t,"/")),this.push(e)},push:function(e,t){(t=t||{}).__identifer=Math.random().toString(36).substr(2),e+=-1==e.indexOf("?")?"?":"&";var n=r.a.param(t,!0);e+=n,Object(l.getGalaxyInstance)().params=t,this.navigate(e,{trigger:!0}),window.history.replaceState(window.history.state,"",window.location.pathname.replace(n,""))},execute:function(e,t,n){Object(l.getGalaxyInstance)().debug("router execute:",e,t,n);var i=c.a.parse(t.pop());t.push(i),e&&(this.authenticate(t,n)?e.apply(this,t):this.access_denied())},authenticate:function(e,t){return!0},access_denied:function(){this.page.display(new u.a.Message({status:"danger",message:"You must be logged in with proper credentials to make this request.",persistent:!0}))}});t.a=d},function(e,t,n){"use strict";var i={props:{isLoaded:{type:Boolean},title:{type:String},columns:{type:Array},rows:{type:Array}}},r=(n(984),n(14)),o=Object(r.a)(i,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[e._t("title",[e._v(e._s(e.title))])],2),e._v(" "),n("div",{staticClass:"card-body"},[n("table",{staticClass:"manage-table colored",attrs:{border:"0",cellspacing:"0",cellpadding:"0",width:"100%"}},[e._t("columns",e._l(e.columns,function(t){return n("th",{attrs:{bgcolor:"#D8D8D8"}},[e._v(e._s(t.text))])})),e._v(" "),e._t("rows",[e._l(e.rows,function(t,i){return[n("tr",{class:[i%2==0?"tr":"odd_row"]},e._l(e.columns,function(i){return n("td",[e._v(e._s(t[i.dataIndex]))])}))]})])],2),e._v(" "),void 0===e.isLoaded||e.isLoaded?e._e():n("div",{style:{textAlign:"center",padding:"7px 0"}},[e._v("\n      Loading...\n    ")])])])},[],!1,null,null,null);o.options.__file="BaseGrid.vue";t.a=o.exports},function(e,t,n){"use strict";var i={name:"Message",props:{message:{type:String,required:!0},status:{type:String,default:"done"}}},r=n(14),o=Object(r.a)(i,function(){var e=this.$createElement,t=this._self._c||e;return this.message?t("div",{class:[this.status+"message"]},[this._v(this._s(this.message))]):this._e()},[],!1,null,null,null);o.options.__file="Message.vue";t.a=o.exports},function(e,t,n){"use strict";var i=n(443).a,r=(n(981),n(14)),o=Object(r.a)(i,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.errorMessages,function(t){return n("div",[n("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v("\n            "+e._s(t)+"\n        ")])])}),e._v(" "),n("div",{domProps:{innerHTML:e._s(e.historyTemplate)}})],2)},[],!1,null,null,null);o.options.__file="DisplayStructured.vue";t.a=o.exports},function(e,t,n){"use strict";var i=n(435).a,r=(n(960),n(14)),o=Object(r.a)(i,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-card",[n("h4",{staticClass:"mb-0",attrs:{slot:"header"},slot:"header"},[e._v("\n        Citations\n        "),e.viewRender?n("b-button",{staticClass:"citations-to-bibtex",attrs:{title:"Show all in BibTeX format."},on:{click:e.toggleViewRender}},[n("i",{staticClass:"fa fa-pencil-square-o"}),e._v("\n            Show BibTeX\n        ")]):n("b-button",{attrs:{title:"Return to formatted citation list."},on:{click:e.toggleViewRender}},[n("i",{staticClass:"fa fa-times"}),e._v("\n            Hide BibTeX\n        ")])],1),e._v(" "),"histories"===e.source?n("div",{staticClass:"infomessage"},[e._v("\n        When writing up your analysis, remember to include all references that should be cited in order\n        to completely describe your work. Also, please remember to "),n("a",{attrs:{href:"https://galaxyproject.org/citing-galaxy"}},[e._v("cite Galaxy")]),e._v(".\n    ")]):e._e(),e._v(" "),e.viewRender?n("span",{staticClass:"citations-formatted"},[n("p",{domProps:{innerHTML:e._s(e.formattedReferences)}})]):n("pre",[e._v("        "),n("code",{staticClass:"citations-bibtex"},[e._v("\n            "+e._s(e.content)+"\n        ")]),e._v("\n    ")])])},[],!1,null,null,null);o.options.__file="Citations.vue";t.a=o.exports},function(e,t,n){"use strict";var i=function(){return null};n.d(t,"a",function(){return o});var r=function(e){return Object.keys(e).filter(function(t){return"function"==typeof e[t]}).reduce(function(e,t){return e[t]=i,e},{})}(console);function o(e,t){var n="window.".concat(e),i=function(e){return 1==a()[e]}(e)?console:r,o=window[e]||t;window._monitorStorage[e]=o,i.groupCollapsed("".concat(n," populating monitor storage with initial value")),i.log(o),i.groupEnd();try{Object.defineProperty(window,e,{enumerable:!0,configurable:!1,get:function(){var t=void 0;i.groupCollapsed("".concat(n," read")),i.trace();try{t=window._monitorStorage[e],i.log(t)}catch(e){i.warn("Unable to retrieve"),i.warn(e)}return i.groupEnd(),t},set:function(t){i.groupCollapsed("".concat(n," write..."),String(t)),i.trace();try{window._monitorStorage[e]=t}catch(e){i.log("Unable to set value on window facade"),i.warn(e)}i.groupEnd()}})}catch(e){i.warn("Unable to install facade",e)}return new Proxy({},{get:function(t,r){var o=void 0;i.groupCollapsed("".concat(n,".").concat(r," read")),i.trace();try{o=window[e][r]}catch(e){i.warn("Unable to retrieve property from proxy",r),i.warn(e)}return i.groupEnd(),o},set:function(t,r,o){var a=!0;i.groupCollapsed("".concat(n,".").concat(r," write")),i.trace();try{var s=window[e];i.log("new value",String(o)),s[r]=o}catch(t){i.warn("Unable to write",e,o),a=!1}return i.groupEnd(),a}})}function a(){var e=sessionStorage.getItem("global_monitors");return e?JSON.parse(e):{}}window._monitorStorage=window._monitorStorage||{},window.showMonitoredProperties=function(){return Object.keys(window._monitorStorage)},window.toggleGlobalMonitor=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a();return n[e]=Boolean(t),function(e){sessionStorage.setItem("global_monitors",JSON.stringify(e))}(n),n}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(3),a=n.n(o);window.workflow_globals=window.workflow_globals||{};var s=a.a.View.extend({className:"form-row dataRow input-data-row",initialize:function(e){this.input=e.input,this.nodeView=e.nodeView,this.terminalElement=e.terminalElement,this.$el.attr("name",this.input.name).html(this.input.label||this.input.name),e.skipResize||(this.$el.css({position:"absolute",left:-1e3,top:-1e3,display:"none"}),r()("body").append(this.el),this.nodeView.updateMaxWidth(this.$el.outerWidth()),this.$el.css({position:"",left:"",top:"",display:""}),this.$el.remove())}}),l=a.a.View.extend({className:"form-row dataRow",initialize:function(e){this.output=e.output,this.terminalElement=e.terminalElement,this.nodeView=e.nodeView;var t=this.output,n=t.label||t.name,i=this.nodeView.node;if(t.extensions.indexOf("input")>=0||t.extensions.indexOf("input_collection")>=0||(n="".concat(n," (").concat(t.extensions.join(", "),")")),this.$el.html(n),this.calloutView=null,["tool","subworkflow"].indexOf(i.type)>=0){var o=new u({label:n,output:t,node:i});this.calloutView=o,this.$el.append(o.el)}this.$el.css({position:"absolute",left:-1e3,top:-1e3,display:"none"}),r()("body").append(this.el),this.nodeView.updateMaxWidth(this.$el.outerWidth()+17),this.$el.css({position:"",left:"",top:"",display:""}).detach()},redrawWorkflowOutput:function(){this.calloutView&&this.calloutView.resetImage()}}),c=a.a.View.extend({className:"form-row dataRow",initialize:function(e){this.output=e.output,this.terminalElement=e.terminalElement,this.nodeView=e.nodeView;var t=this.output,n=t.label||t.name,i=this.nodeView.node;if(this.$el.html(n),this.calloutView=null,["tool","subworkflow"].indexOf(i.type)>=0){var o=new u({label:n,output:t,node:i});this.calloutView=o,this.$el.append(o.el),this.$el.hover(function(){o.hoverImage()},function(){o.resetImage()})}this.$el.css({position:"absolute",left:-1e3,top:-1e3,display:"none"}),r()("body").append(this.el),this.nodeView.updateMaxWidth(this.$el.outerWidth()+17),this.$el.css({position:"",left:"",top:"",display:""}).detach()},redrawWorkflowOutput:function(){this.calloutView&&this.calloutView.resetImage()}}),u=a.a.View.extend({tagName:"div",initialize:function(e){this.label=e.label,this.node=e.node,this.output=e.output;var t=this,n=this.node;this.$el.attr("class","callout-terminal ".concat(this.label)).css({display:"none"}).append(r()("<icon class='mark-terminal fa fa-asterisk'/>").click(function(){var e=t.output.name;n.isWorkflowOutput(e)?(n.removeWorkflowOutput(e),t.$("icon").removeClass("mark-terminal-active")):(n.addWorkflowOutput(e),t.$("icon").addClass("mark-terminal-active")),window.workflow_globals.workflow.has_changes=!0,window.workflow_globals.canvas_manager.draw_overview()})).tooltip({delay:500,title:"Mark dataset as a workflow output. All unmarked datasets will be hidden."}),this.$el.css({top:"50%",margin:"-8px 0px 0px 0px",right:8}),this.$el.show(),this.resetImage()},resetImage:function(){this.node.isWorkflowOutput(this.output.name)?this.$("icon").addClass("mark-terminal-active"):this.$("icon").removeClass("mark-terminal-active")}});t.a={DataInputView:s,DataOutputView:l,ParameterOutputView:c}},function(e,t,n){(function(t){var n=1/0,i="[object Symbol]",r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="[\\ud800-\\udfff]",l="["+a+"]",c="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",u="\\d+",d="[\\u2700-\\u27bf]",h="[a-z\\xdf-\\xf6\\xf8-\\xff]",f="[^\\ud800-\\udfff"+a+u+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",p="\\ud83c[\\udffb-\\udfff]",m="[^\\ud800-\\udfff]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",_="[\\ud800-\\udbff][\\udc00-\\udfff]",v="[A-Z\\xc0-\\xd6\\xd8-\\xde]",y="(?:"+h+"|"+f+")",b="(?:"+v+"|"+f+")",w="(?:"+c+"|"+p+")"+"?",k="[\\ufe0e\\ufe0f]?"+w+("(?:\\u200d(?:"+[m,g,_].join("|")+")[\\ufe0e\\ufe0f]?"+w+")*"),M="(?:"+[d,g,_].join("|")+")"+k,x="(?:"+[m+c+"?",c,g,_,s].join("|")+")",C=RegExp("['’]","g"),S=RegExp(c,"g"),T=RegExp(p+"(?="+p+")|"+x+k,"g"),L=RegExp([v+"?"+h+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[l,v,"$"].join("|")+")",b+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[l,v+y,"$"].join("|")+")",v+"?"+y+"+(?:['’](?:d|ll|m|re|s|t|ve))?",v+"+(?:['’](?:D|LL|M|RE|S|T|VE))?",u,M].join("|"),"g"),E=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),D=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,O="object"==typeof t&&t&&t.Object===Object&&t,A="object"==typeof self&&self&&self.Object===Object&&self,Y=O||A||Function("return this")();var R=function(e){return function(t){return null==e?void 0:e[t]}}({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"});function j(e){return E.test(e)}function P(e){return j(e)?function(e){return e.match(T)||[]}(e):function(e){return e.split("")}(e)}var N=Object.prototype.toString,H=Y.Symbol,I=H?H.prototype:void 0,F=I?I.toString:void 0;function $(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&N.call(e)==i}(e))return F?F.call(e):"";var t=e+"";return"0"==t&&1/e==-n?"-0":t}function W(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}(e,t,n)}function z(e){return null==e?"":$(e)}var B=function(e){return function(t){return function(e,t,n,i){var r=-1,o=e?e.length:0;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}(function(e,t,n){return e=z(e),void 0===(t=n?void 0:t)?function(e){return D.test(e)}(e)?function(e){return e.match(L)||[]}(e):function(e){return e.match(r)||[]}(e):e.match(t)||[]}(function(e){return(e=z(e))&&e.replace(o,R).replace(S,"")}(t).replace(C,"")),e,"")}}(function(e,t,n){return e+(n?" ":"")+V(t)}),V=function(e){return function(t){var n=j(t=z(t))?P(t):void 0,i=n?n[0]:t.charAt(0),r=n?W(n,1).join(""):t.slice(1);return i[e]()+r}}("toUpperCase");e.exports=B}).call(this,n(39))},function(e,t,n){"use strict";(function(e,i,r,o){var a=n(7),s=n.n(a),l=n(19),c=n(585),u=e.View.extend({el:"#folder_items_element",progress:0,progressStep:1,folderContainer:null,current_sort_order:"asc",current_sort_key:"name",events:{"click #select-all-checkboxes":"selectAll","click .dataset_row":"selectClickedRow","click .folder_row":"selectClickedRow","click .sort-folder-name":"sortColumnClicked","click .sort-folder-file_ext":"sortColumnClicked","click .sort-folder-description":"sortColumnClicked","click .sort-folder-state":"sortColumnClicked"},collection:null,defaults:{include_deleted:!1,page_count:null,show_page:null},initialize:function(e){this.options=i.defaults(this.options||{},this.defaults,e),this.modal=null,this.rowViews={},this.collection=new l.a.Folder,this.listenTo(this.collection,"add",this.renderOne),this.listenTo(this.collection,"remove",this.removeOne),this.listenTo(this.collection,"sort",this.rePaint),this.listenTo(this.collection,"reset",this.rePaint),this.fetchFolder()},fetchFolder:function(e){e=e||{};this.options.include_deleted=e.include_deleted;var t=this;this.folderContainer=new l.a.FolderContainer({id:this.options.id}),this.folderContainer.url="".concat(this.folderContainer.attributes.urlRoot+this.options.id,"/contents"),this.options.include_deleted&&(this.folderContainer.url="".concat(this.folderContainer.url,"?include_deleted=true")),this.folderContainer.fetch({success:function(e){t.folder_container=e,t.render()},error:function(e,t){void 0!==t.responseJSON?s.a.error("".concat(t.responseJSON.err_msg," Click this to go back."),"",{onclick:function(){r.libraries.library_router.back()}}):s.a.error("An error occurred. Click this to go back.","",{onclick:function(){r.libraries.library_router.back()}})}})},render:function(e){this.options=i.extend(this.options,e);var t=this.templateFolder();o(".tooltip").hide();var n,r=this.folderContainer.attributes.metadata.full_path;if(n=1===r.length?0:r[r.length-2][0],this.$el.html(t({path:this.folderContainer.attributes.metadata.full_path,parent_library_id:this.folderContainer.attributes.metadata.parent_library_id,id:this.options.id,upper_folder_id:n,order:this.current_sort_order})),this.options.dataset_id){var a=i.findWhere(self.rowViews,{id:this.options.dataset_id});a?a.showDatasetDetails():s.a.error("Requested dataset not found. Showing folder instead.")}else(null===this.options.show_page||this.options.show_page<1)&&(this.options.show_page=1),this.paginate();o('#center [data-toggle="tooltip"]').tooltip({trigger:"hover"}),o("#center").css("overflow","auto")},paginate:function(e){this.options=i.extend(this.options,e),(null===this.options.show_page||this.options.show_page<1)&&(this.options.show_page=1),this.options.total_items_count=this.folder_container.get("folder").models.length,this.options.page_count=Math.ceil(this.options.total_items_count/r.libraries.preferences.get("folder_page_size"));var t=r.libraries.preferences.get("folder_page_size")*(this.options.show_page-1),n=null;n=this.folder_container.get("folder").models.slice(t,t+r.libraries.preferences.get("folder_page_size")),this.options.items_shown=n.length,r.libraries.preferences.get("folder_page_size")*this.options.show_page>this.options.total_items_count+r.libraries.preferences.get("folder_page_size")&&(n=[]),r.libraries.folderToolbarView.renderPaginator(this.options),this.collection.reset(n)},rePaint:function(e){this.options=i.extend(this.options,e),this.removeAllRows(),this.renderAll(),this.checkEmptiness()},addAll:function(e){i.each(e,function(e){r.libraries.folderListView.collection.add(e,{current_sort_order:!1})}),o('#center [data-toggle="tooltip"]').tooltip({trigger:"hover"}),this.checkEmptiness(),this.postRender()},postRender:function(){var e=this.folderContainer.attributes.metadata;e.contains_file_or_folder=void 0!==this.collection.findWhere({type:"file"})||void 0!==this.collection.findWhere({type:"folder"}),r.libraries.folderToolbarView.configureElements(e)},renderAll:function(){var e=this;i.each(this.collection.models.reverse(),function(t){e.renderOne(t)}),this.postRender()},renderOne:function(e){this.options.contains_file_or_folder=!0,e.set("folder_id",this.id);var t=new c.a.FolderRowView({model:e});this.rowViews[e.get("id")]=t,this.$el.find("#first_folder_item").after(t.el)},removeOne:function(e){this.$el.find("tr").filter(function(){return o(this).data("id")&&o(this).data("id")===e.id}).remove()},removeAllRows:function(){o(".library-row").remove()},checkEmptiness:function(){0===this.$el.find(".dataset_row").length&&0===this.$el.find(".folder_row").length?this.$el.find(".empty-folder-message").show():this.$el.find(".empty-folder-message").hide()},sortColumnClicked:function(e){e.preventDefault(),this.current_sort_order="asc"===this.current_sort_order?"desc":"asc",this.current_sort_key=e.currentTarget.className.replace("sort-folder-",""),this.collection.sortFolder(this.current_sort_key,this.current_sort_order),this.renderSortIcon()},selectAll:function(e){var t=e.target.checked,n=this;o(":checkbox","#folder_list_body").each(function(){this.checked=t;var e=o(this).closest("tr");t?n.makeDarkRow(e):n.makeWhiteRow(e)})},selectClickedRow:function(e){var t,n,i="";t=o(e.target).closest("tr"),"input"===e.target.localName?(i=e.target,n="input"):"td"===e.target.localName&&(i=t.find(":checkbox")[0],n="td"),i.checked?"td"===n?(i.checked="",this.makeWhiteRow(t)):"input"===n&&this.makeDarkRow(t):"td"===n?(i.checked="selected",this.makeDarkRow(t)):"input"===n&&this.makeWhiteRow(t)},makeDarkRow:function(e){e.removeClass("light").addClass("dark"),e.find("a").removeClass("light").addClass("dark"),e.find(".fa-file-o").removeClass("fa-file-o").addClass("fa-file"),e.find(".fa-folder-o").removeClass("fa-folder-o").addClass("fa-folder")},makeWhiteRow:function(e){e.removeClass("dark").addClass("light"),e.find("a").removeClass("dark").addClass("light"),e.find(".fa-file").removeClass("fa-file").addClass("fa-file-o"),e.find(".fa-folder").removeClass("fa-folder").addClass("fa-folder-o")},renderSortIcon:function(){"asc"===this.current_sort_order?(o('[class*="sort-icon"]').removeClass("fa-sort-alpha-desc").removeClass("fa-sort-alpha-asc"),o(".sort-icon-".concat(this.current_sort_key)).addClass("fa-sort-alpha-asc")):o(".sort-icon-".concat(this.current_sort_key)).addClass("fa-sort-alpha-desc")},templateFolder:function(){return i.template(['<ol class="breadcrumb">','<li class="breadcrumb-item"><a title="Return to the list of libraries" href="#">Libraries</a></li>',"<% _.each(path, function(path_item) { %>","<% if (path_item[0] != id) { %>",'<li class="breadcrumb-item"><a title="Return to this folder" href="#/folders/<%- path_item[0] %>"><%- path_item[1] %></a> </li> ',"<% } else { %>",'<li class="breadcrumb-item active"><span title="You are in this folder"><%- path_item[1] %></span></li>',"<% } %>","<% }); %>","</ol>",'<table data-library-id="<%- parent_library_id  %>" class="grid table table-sm">',"<thead>",'<th class="button_heading"></th>','<th class="mid" style="width: 20px; " title="Check to select all datasets"><input id="select-all-checkboxes" style="margin: 0;" type="checkbox"></th>','<th><a class="sort-folder-name" title="Click to reverse order" href="#">name</a> <span title="Sorted alphabetically" class="sort-icon-name fa fa-sort-alpha-<%- order %>"></span></th>','<th style="width:20%;"><a class="sort-folder-description" title="Click to reverse order" href="#">description</a> <span title="Sorted alphabetically" class="sort-icon-description fa"></span></th>','<th style="width:5%;"><a class="sort-folder-file_ext" title="Click to reverse order" href="#">data type</a> <span title="Sorted alphabetically" class="sort-icon-file_ext fa"></span></th>','<th style="width:10%;">size</th>','<th style="width:160px;">time updated (UTC)</th>','<th style="width:5%;"><a class="sort-folder-state" title="Click to reverse order" href="#">state</a> <span title="Sorted alphabetically" class="sort-icon-state fa"></span></th>','<th style="width:150px;"></th> ',"</thead>",'<tbody id="folder_list_body">','<tr id="first_folder_item">',"<td>",'<a href="#<% if (upper_folder_id !== 0){ print("folders/" + upper_folder_id)} %>" title="Go to parent folder" class="btn_open_folder btn btn-secondary btn-sm">..<a>',"</td>","<td></td>","<td></td>","<td></td>","<td></td>","<td></td>","<td></td>","<td></td>","<td></td>","</tr>","</tbody>","</table>",'<div class="empty-folder-message" style="display:none;">',"This folder is either empty or you do not have proper access permissions to see the contents. If you expected something to show up",' please consult the <a href="https://galaxyproject.org/data-libraries/#permissions" target="_blank">library security wikipage</a>',' or visit the <a href="https://biostar.usegalaxy.org/" target="_blank">Galaxy support site</a>.',"</div>"].join(""))}});t.a={FolderListView:u}}).call(this,n(3),n(2),n(5).monitor,n(0))},function(e,t,n){"use strict";(function(e,i){var r=n(2),o=n.n(r),a=n(3),s=n.n(a),l=n(4),c=n(5),u=n(1),d=n.n(u),h=n(6),f=n(7),p=n.n(f),m=n(19),g=n(17),_=n(53),v=n(454),y=n(455),b=n(346),w=(n(568),s.a.View.extend({el:"#center",events:{"click .toolbtn-create-folder":"createFolderFromModal","click .toolbtn-bulk-import":"importToHistoryModal","click .include-deleted-datasets-chk":"checkIncludeDeleted","click .toolbtn-bulk-delete":"deleteSelectedItems","click .toolbtn-show-locinfo":"showLocInfo","click .page-size-prompt":"showPageSizePrompt","click .toolbtn-collection-import":"showCollectionSelect"},defaults:{can_add_library_item:!1,contains_file_or_folder:!1,chain_call_control:{total_number:0,failed_number:0},disabled_jstree_element:"folders"},modal:null,jstree:null,histories:null,select_genome:null,select_extension:null,list_extensions:[],auto:{id:"auto",text:"Auto-detect",description:"This system will try to detect the file type automatically. If your file is not detected properly as one of the known formats, it most likely means that it has some format problems (e.g., different number of columns on different rows). You can still coerce the system to set your data to the format you think it should be. You can also upload compressed files, which will automatically be decompressed."},list_genomes:[],initialize:function(e){this.options=o.a.defaults(e||{},this.defaults),this.fetchExtAndGenomes(),this.render()},render:function(e){this.options=o.a.extend(this.options,e);var t=Object(c.getGalaxyInstance)(),n=this.templateToolBar(),i={id:this.options.id,is_admin:!1,is_anonym:!0,multiple_add_dataset_options:!1};t.user&&(i.is_admin=t.user.isAdmin(),i.is_anonym=t.user.isAnonymous(),null===t.config.user_library_import_dir&&!1===t.config.allow_library_path_paste&&null===t.config.library_import_dir||(i.multiple_add_dataset_options=!0)),this.$el.html(n(i))},renderPaginator:function(t){this.options=o.a.extend(this.options,t);var n=Object(c.getGalaxyInstance)(),i=this.templatePaginator();e("body").find(".folder-paginator").html(i({id:this.options.id,show_page:parseInt(this.options.show_page),page_count:parseInt(this.options.page_count),total_items_count:this.options.total_items_count,items_shown:this.options.items_shown,folder_page_size:n.libraries.preferences.get("folder_page_size")}))},configureElements:function(t){this.options=o.a.extend(this.options,t);var n=Object(c.getGalaxyInstance)();!0===this.options.can_add_library_item?e(".add-library-items").show():e(".add-library-items").hide(),!0===this.options.contains_file_or_folder&&n.user?n.user.isAnonymous()?(e(".dataset-manipulation").show(),e(".logged-dataset-manipulation").hide()):(e(".logged-dataset-manipulation").show(),e(".dataset-manipulation").show()):(e(".logged-dataset-manipulation").hide(),e(".dataset-manipulation").hide()),this.$el.find('[data-toggle="tooltip"]').tooltip({trigger:"hover"})},createFolderFromModal:function(e){var t=this;e.preventDefault(),e.stopPropagation();var n=Object(c.getGalaxyInstance)(),i=this.templateNewFolderInModal();this.modal=n.modal,this.modal.show({closing_events:!0,title:d()("Create New Folder"),body:i(),buttons:{Create:function(){t.createNewFolderEvent()},Close:function(){n.modal.hide()}}})},createNewFolderEvent:function(){var e=Object(c.getGalaxyInstance)(),t=this.serializeNewFolder();if(this.validateNewFolder(t)){var n,i=new m.a.FolderAsModel,r=s.a.history.fragment.split("/");n=r.indexOf("page")>-1?r[r.length-3]:r[r.length-1],i.url=i.urlRoot+n,i.save(t,{success:function(t){e.modal.hide(),p.a.success("Folder created."),t.set({type:"folder"}),e.libraries.folderListView.collection.add(t)},error:function(t,n){e.modal.hide(),void 0!==n.responseJSON?p.a.error(n.responseJSON.err_msg):p.a.error("An error occurred.")}})}else p.a.error("Folder's name is missing.");return!1},serializeNewFolder:function(){return{name:e("input[name='Name']").val(),description:e("input[name='Description']").val()}},validateNewFolder:function(e){return""!==e.name},importToHistoryModal:function(e){var t=this;e.preventDefault();var n=Object(c.getGalaxyInstance)(),i=this.findCheckedRows(),r=this.templateImportIntoHistoryModal();0===i.length?p.a.info("You must select some datasets first."):this.fetchUserHistories().done(function(){t.modal=n.modal,t.modal.show({closing_events:!0,title:d()("Import into History"),body:r({histories:t.histories.models}),buttons:{Import:function(){t.importAllIntoHistory()},Close:function(){n.modal.hide()}}})}).fail(function(e,t){void 0!==t.responseJSON?p.a.error(t.responseJSON.err_msg):p.a.error("An error occurred.")})},fetchUserHistories:function(){return this.histories=new m.a.GalaxyHistories,this.histories.fetch()},importAllIntoHistory:function(){var t=this;this.modal.disableButton("Import");var n=this.modal.$("input[name=history_name]").val();if(""!==n)this.createNewHistory(n).done(function(e){t.processImportToHistory(e.id,e.name)}).fail(function(e,t,n){p.a.error("An error occurred.")}).always(function(){t.modal.enableButton("Import")});else{var i=e("select[name=import_to_history] option:selected").val(),r=e("select[name=import_to_history] option:selected").text();this.processImportToHistory(i,r),this.modal.enableButton("Import")}},createNewHistory:function(t){return e.post("".concat(Object(l.a)(),"api/histories"),{name:t})},processImportToHistory:function(e,t){for(var n=this.findCheckedItems(),r=[],o=n.dataset_ids.length-1;o>=0;o--){var a=n.dataset_ids[o];(c=new m.a.HistoryItem).url="".concat(c.urlRoot+e,"/contents"),c.content=a,c.source="library",r.push(c)}for(var s=n.folder_ids.length-1;s>=0;s--){var c,u=n.folder_ids[s];(c=new m.a.HistoryItem).url="".concat(c.urlRoot+e,"/contents"),c.content=u,c.source="library_folder",r.push(c)}this.initChainCallControl({length:r.length,action:"to_history",history_name:t}),i.getJSON("".concat(Object(l.a)(),"history/set_as_current?id=").concat(e)),this.chainCallImportingIntoHistory(r,t)},updateProgress:function(){this.progress+=this.progressStep,e(".progress-bar-import").width("".concat(Math.round(this.progress),"%"));var t="".concat(Math.round(this.progress),"% Complete");e(".completion_span").text(t)},download:function(e){var t=this.findCheckedItems(),n="".concat(Object(l.a)(),"api/libraries/datasets/download/").concat(e),i={ld_ids:t.dataset_ids,folder_ids:t.folder_ids};this.processDownload(n,i,"get")},processDownload:function(t,n,i){if(t&&n){n="string"==typeof n?n:e.param(n);var r="";e.each(n.split("&"),function(){var e=this.split("=");r+='<input type="hidden" name="'.concat(e[0],'" value="').concat(e[1],'" />')}),e('<form action="'.concat(t,'" method="').concat(i||"post",'">').concat(r,"</form>")).appendTo("body").submit().remove(),p.a.info("Your download will begin soon.")}else p.a.error("An error occurred.")},addFilesFromHistoryModal:function(){var t=this,n=Object(c.getGalaxyInstance)();this.histories=new m.a.GalaxyHistories,this.histories.fetch().done(function(){t.modal=n.modal;var i=t.templateAddFilesFromHistory();t.modal.show({closing_events:!0,title:d()("Adding datasets from your history"),body:i({histories:t.histories.models}),buttons:{Add:function(){t.addAllDatasetsFromHistory()},Close:function(){n.modal.hide()}},closing_callback:function(){n.libraries.library_router.navigate("folders/".concat(t.id),{trigger:!0})}}),t.fetchAndDisplayHistoryContents(t.histories.models[0].id),e("#dataset_add_bulk").change(function(e){t.fetchAndDisplayHistoryContents(e.target.value)})}).fail(function(e,t){void 0!==t.responseJSON?p.a.error(t.responseJSON.err_msg):p.a.error("An error occurred.")})},importFilesFromPathModal:function(){var e=this,t=Object(c.getGalaxyInstance)();this.modal=t.modal;var n=this.templateImportPathModal();this.modal.show({closing_events:!0,title:d()("Please enter paths to import"),body:n({}),buttons:{Import:function(){e.importFromPathsClicked(e)},Close:function(){t.modal.hide()}},closing_callback:function(){t.libraries.library_router.navigate("folders/".concat(e.id),{trigger:!0})}}),this.renderSelectBoxes()},fetchExtAndGenomes:function(){var e=this;h.a.get({url:"".concat(Object(l.a)(),"api/datatypes?extension_only=False"),success:function(t){for(var n in e.list_extensions=[],t)e.list_extensions.push({id:t[n].extension,text:t[n].extension,description:t[n].description,description_url:t[n].description_url});e.list_extensions.sort(function(e,t){return e.id>t.id?1:e.id<t.id?-1:0}),e.list_extensions.unshift(e.auto)},cache:!0}),h.a.get({url:"".concat(Object(l.a)(),"api/genomes"),success:function(t){for(var n in e.list_genomes=[],t)e.list_genomes.push({id:t[n][1],text:t[n][0]});e.list_genomes.sort(function(e,t){return e.id>t.id?1:e.id<t.id?-1:0})},cache:!0})},renderSelectBoxes:function(){var e=Object(c.getGalaxyInstance)();this.select_genome=new g.a.View({css:"library-genome-select",data:this.list_genomes,container:e.modal.$el.find("#library_genome_select"),value:"?"}),this.select_extension=new g.a.View({css:"library-extension-select",data:this.list_extensions,container:e.modal.$el.find("#library_extension_select"),value:"auto"})},importFilesFromGalaxyFolderModal:function(t){var n=this,i=this.templateBrowserModal(),r=Object(c.getGalaxyInstance)();this.modal=r.modal,this.modal.show({closing_events:!0,title:d()("Please select folders or files"),body:i({}),buttons:{Import:function(){n.importFromJstreePath(n,t)},Close:function(){r.modal.hide()}},closing_callback:function(){r.libraries.library_router.navigate("folders/".concat(n.id),{trigger:!0})}}),e(".libimport-select-all").bind("click",function(){e("#jstree_browser").jstree("check_all")}),e(".libimport-select-none").bind("click",function(){e("#jstree_browser").jstree("uncheck_all")}),this.renderSelectBoxes(),t.disabled_jstree_element="folders",this.renderJstree(t),e("input[type=radio]").change(function(i){"jstree-disable-folders"===i.target.value?(t.disabled_jstree_element="folders",n.renderJstree(t),e(".jstree-folders-message").hide(),e(".jstree-preserve-structure").hide(),e(".jstree-files-message").show()):"jstree-disable-files"===i.target.value&&(e(".jstree-files-message").hide(),e(".jstree-folders-message").show(),e(".jstree-preserve-structure").show(),t.disabled_jstree_element="files",n.renderJstree(t))})},renderJstree:function(t){this.options=o.a.extend(this.options,t);var n=t.source||"userdir",i=this.options.disabled_jstree_element;this.jstree=new m.a.Jstree,this.jstree.url="".concat(this.jstree.urlRoot,"?target=").concat(n,"&format=jstree&disable=").concat(i),this.jstree.fetch({success:function(t,n){e("#jstree_browser").jstree("destroy"),e("#jstree_browser").jstree({core:{data:t},plugins:["types","checkbox"],types:{folder:{icon:"jstree-folder"},file:{icon:"jstree-file"}},checkbox:{three_state:!1}})},error:function(e,t){void 0!==t.responseJSON?404001===t.responseJSON.err_code?p.a.warning(t.responseJSON.err_msg):p.a.error(t.responseJSON.err_msg):p.a.error("An error occurred.")}})},importFromPathsClicked:function(){var t=this.modal.$el.find(".preserve-checkbox").is(":checked"),n=this.modal.$el.find(".link-checkbox").is(":checked"),i=this.modal.$el.find(".spacetab-checkbox").is(":checked"),r=this.modal.$el.find(".posix-checkbox").is(":checked"),o=this.modal.$el.find(".tag-files").is(":checked"),a=this.select_extension.value(),s=this.select_genome.value(),l=e("textarea#import_paths").val(),c=[];if(l){this.modal.disableButton("Import");for(var u=(l=l.split("\n")).length-1;u>=0;u--){var d=l[u].trim();0!==d.length&&c.push(d)}this.initChainCallControl({length:c.length,action:"adding_datasets"}),this.chainCallImportingFolders({paths:c,preserve_dirs:t,link_data:n,space_to_tab:i,to_posix_lines:r,source:"admin_path",file_type:a,tag_using_filenames:o,dbkey:s})}else p.a.info("Please enter a path relative to Galaxy root.")},initChainCallControl:function(e){var t,n=Object(c.getGalaxyInstance)();switch(e.action){case"adding_datasets":t=this.templateAddingDatasetsProgressBar(),this.modal.$el.find(".modal-body").html(t({folder_name:this.options.folder_name}));break;case"deleting_datasets":t=this.templateDeletingItemsProgressBar(),this.modal.$el.find(".modal-body").html(t());break;case"to_history":t=this.templateImportIntoHistoryProgressBar(),this.modal.$el.find(".modal-body").html(t({history_name:e.history_name}));break;default:n.emit.error("Wrong action specified.","datalibs")}this.progress=0,this.progressStep=100/e.length,this.options.chain_call_control.total_number=e.length,this.options.chain_call_control.failed_number=0},importFromJstreePath:function(t,n){var i=e("#jstree_browser").jstree().get_selected(!0),r=o.a.filter(i,function(e){return 0==e.state.disabled}),a=this.modal.$el.find(".preserve-checkbox").is(":checked"),s=this.modal.$el.find(".link-checkbox").is(":checked"),l=this.modal.$el.find(".spacetab-checkbox").is(":checked"),c=this.modal.$el.find(".posix-checkbox").is(":checked"),u=this.select_extension.value(),d=this.select_genome.value(),h=this.modal.$el.find(".tag-files").is(":checked"),f=r[0].type,m=[];if(r.length<1)p.a.info("Please select some items first.");else{this.modal.disableButton("Import");for(var g=r.length-1;g>=0;g--)void 0!==r[g].li_attr.full_path&&m.push(r[g].li_attr.full_path);if(this.initChainCallControl({length:m.length,action:"adding_datasets"}),"folder"===f){var _="".concat(n.source,"_folder");this.chainCallImportingFolders({paths:m,preserve_dirs:a,link_data:s,space_to_tab:l,to_posix_lines:c,source:_,file_type:u,dbkey:d,tag_using_filenames:h})}else if("file"===f){_="".concat(n.source,"_file");this.chainCallImportingUserdirFiles({paths:m,file_type:u,dbkey:d,link_data:s,space_to_tab:l,to_posix_lines:c,source:_,tag_using_filenames:h})}}},fetchAndDisplayHistoryContents:function(t){var n=this;new m.a.HistoryContents({id:t}).fetch({success:function(i){var r=n.templateHistoryContents();n.histories.get(t).set({contents:i}),n.modal.$el.find(".library_selected_history_content").html(r({history_contents:i.models.reverse()})),n.modal.$el.find(".history-import-select-all").bind("click",function(){e(".library_selected_history_content [type=checkbox]").prop("checked",!0)}),n.modal.$el.find(".history-import-unselect-all").bind("click",function(){e(".library_selected_history_content [type=checkbox]").prop("checked",!1)})},error:function(e,t){void 0!==t.responseJSON?p.a.error(t.responseJSON.err_msg):p.a.error("An error occurred.")}})},addAllDatasetsFromHistory:function(){var t=this.modal.$el.find(".library_selected_history_content").find(":checked"),n=[],i=[],r=[];if(t.length<1)p.a.info("You must select some datasets first.");else{this.modal.disableButton("Add"),t.each(function(){var t=e(this).closest("li").data("id");if(t){var r=e(this).closest("li").data("name");n.push(t),i.push(r)}});for(var o=n.length-1;o>=0;o--){var a=n[o],s=new m.a.Item;s.url="".concat(Object(l.a)(),"api/folders/").concat(this.options.id,"/contents"),"collection"===i[o]?s.set({from_hdca_id:a}):s.set({from_hda_id:a}),r.push(s)}this.initChainCallControl({length:r.length,action:"adding_datasets"}),this.chainCallAddingHdas(r)}},chainCallImportingIntoHistory:function(t,n){var i=this,r=Object(c.getGalaxyInstance)(),o=t.pop();if(void 0===o)return 0===this.options.chain_call_control.failed_number?p.a.success("Selected datasets imported into history. Click this to start analyzing it.","",{onclick:function(){window.location=Object(l.a)()}}):this.options.chain_call_control.failed_number===this.options.chain_call_control.total_number?p.a.error("There was an error and no datasets were imported into history."):this.options.chain_call_control.failed_number<this.options.chain_call_control.total_number&&p.a.warning("Some of the datasets could not be imported into history. Click this to see what was imported.","",{onclick:function(){window.location=Object(l.a)()}}),r.modal.hide(),!0;e.when(o.save({content:o.content,source:o.source})).done(function(){i.updateProgress(),i.chainCallImportingIntoHistory(t,n)}).fail(function(){i.options.chain_call_control.failed_number+=1,i.updateProgress(),i.chainCallImportingIntoHistory(t,n)})},chainCallImportingUserdirFiles:function(t){var n=this,i=Object(c.getGalaxyInstance)(),r=t.paths.pop();if(void 0===r)return 0===this.options.chain_call_control.failed_number?(p.a.success("Selected files imported into the current folder"),i.modal.hide()):p.a.error("An error occured."),!0;var o="".concat(Object(l.a)(),"api/libraries/datasets"),a={encoded_folder_id:this.id,source:t.source,path:r,file_type:t.file_type,link_data:t.link_data,space_to_tab:t.space_to_tab,to_posix_lines:t.to_posix_lines,dbkey:t.dbkey,tag_using_filenames:t.tag_using_filenames};e.when(e.post(o,a)).done(function(e){n.updateProgress(),n.chainCallImportingUserdirFiles(t)}).fail(function(){n.options.chain_call_control.failed_number+=1,n.updateProgress(),n.chainCallImportingUserdirFiles(t)})},chainCallImportingFolders:function(t){var n=this,i=Object(c.getGalaxyInstance)(),r=t.paths.pop();if(void 0===r)return 0===this.options.chain_call_control.failed_number?(p.a.success("Selected folders and their contents imported into the current folder."),i.modal.hide()):p.a.error("An error occured."),!0;var o="".concat(Object(l.a)(),"api/libraries/datasets"),a={encoded_folder_id:this.id,source:t.source,path:r,preserve_dirs:t.preserve_dirs,link_data:t.link_data,to_posix_lines:t.to_posix_lines,space_to_tab:t.space_to_tab,file_type:t.file_type,dbkey:t.dbkey,tag_using_filenames:t.tag_using_filenames};e.when(e.post(o,a)).done(function(e){n.updateProgress(),n.chainCallImportingFolders(t)}).fail(function(){n.options.chain_call_control.failed_number+=1,n.updateProgress(),n.chainCallImportingFolders(t)})},chainCallAddingHdas:function(t){var n=this,i=Object(c.getGalaxyInstance)();this.added_hdas=new m.a.Folder;var r=t.pop();if(void 0===r)return 0===this.options.chain_call_control.failed_number?p.a.success("Selected datasets from history added to the folder"):this.options.chain_call_control.failed_number===this.options.chain_call_control.total_number?p.a.error("There was an error and no datasets were added to the folder."):this.options.chain_call_control.failed_number<this.options.chain_call_control.total_number&&p.a.warning("Some of the datasets could not be added to the folder"),i.modal.hide(),this.added_hdas;e.when(r.save({from_hda_id:r.get("from_hda_id")})).done(function(e){i.libraries.folderListView.collection.add(e),n.updateProgress(),n.chainCallAddingHdas(t)}).fail(function(){n.options.chain_call_control.failed_number+=1,n.updateProgress(),n.chainCallAddingHdas(t)})},chainCallDeletingItems:function(e){var t=this,n=Object(c.getGalaxyInstance)();this.deleted_items=new m.a.Folder;var i=e.pop();if(void 0===i)return 0===this.options.chain_call_control.failed_number?p.a.success("Selected items were deleted."):this.options.chain_call_control.failed_number===this.options.chain_call_control.total_number?p.a.error("There was an error and no items were deleted. Please make sure you have sufficient permissions."):this.options.chain_call_control.failed_number<this.options.chain_call_control.total_number&&p.a.warning("Some of the items could not be deleted. Please make sure you have sufficient permissions."),n.modal.hide(),this.deleted_items;i.destroy().done(function(r){if(n.libraries.folderListView.collection.remove(i.id),t.updateProgress(),n.libraries.folderListView.options.include_deleted){var o=null;"folder"===r.type||"LibraryFolder"===r.model_class?o=new m.a.FolderAsModel(r):"file"===r.type||"LibraryDataset"===r.model_class?o=new m.a.Item(r):(n.emit.error("Unknown library item type found.","datalibs"),n.emit.error(r.type||r.model_class,"datalibs")),n.libraries.folderListView.collection.add(o)}t.chainCallDeletingItems(e)}).fail(function(){t.options.chain_call_control.failed_number+=1,t.updateProgress(),t.chainCallDeletingItems(e)})},checkIncludeDeleted:function(e){var t=Object(c.getGalaxyInstance)();e.target.checked?t.libraries.folderListView.fetchFolder({include_deleted:!0}):t.libraries.folderListView.fetchFolder({include_deleted:!1})},deleteSelectedItems:function(){var t=Object(c.getGalaxyInstance)(),n=[],i=[],r=this.findCheckedRows();if(0===r.length)p.a.info("You must select at least one item for deletion.");else{var o=this.templateDeletingItemsProgressBar();this.modal=t.modal,this.modal.show({closing_events:!0,title:d()("Deleting selected items"),body:o({}),buttons:{Close:function(){t.modal.hide()}}}),this.options.chain_call_control.total_number=0,this.options.chain_call_control.failed_number=0,r.each(function(){var t=e(this).closest("tr").data("id").toString();void 0!==t&&("F"==t.substring(0,1)?i.push(t):n.push(t))});var a=n.length+i.length;this.progressStep=100/a,this.progress=0;for(var s=[],l=n.length-1;l>=0;l--){var u=new m.a.Item({id:n[l]});s.push(u)}for(var h=i.length-1;h>=0;h--){var f=new m.a.FolderAsModel({id:i[h]});s.push(f)}this.options.chain_call_control.total_number=a,this.chainCallDeletingItems(s)}},showLocInfo:function(){var e=this,t=Object(c.getGalaxyInstance)(),n=null;null!==t.libraries.libraryListView?(n=t.libraries.libraryListView.collection.get(this.options.parent_library_id),this.showLocInfoModal(n)):(n=new m.a.Library({id:this.options.parent_library_id})).fetch({success:function(){e.showLocInfoModal(n)},error:function(e,t){void 0!==t.responseJSON?p.a.error(t.responseJSON.err_msg):p.a.error("An error occurred.")}})},showLocInfoModal:function(e){var t=Object(c.getGalaxyInstance)(),n=this.templateLocInfoInModal();this.modal=t.modal,this.modal.show({closing_events:!0,title:d()("Location Details"),body:n({library:e,options:this.options}),buttons:{Close:function(){t.modal.hide()}}})},showImportModal:function(e){var t=Object(c.getGalaxyInstance)();switch(e.source){case"history":this.addFilesFromHistoryModal();break;case"importdir":this.importFilesFromGalaxyFolderModal({source:"importdir"});break;case"path":this.importFilesFromPathModal();break;case"userdir":this.importFilesFromGalaxyFolderModal({source:"userdir"});break;default:t.libraries.library_router.back(),p.a.error("Invalid import source.")}},showPageSizePrompt:function(e){e.preventDefault();var t=Object(c.getGalaxyInstance)(),n=prompt("How many items per page do you want to see?",t.libraries.preferences.get("folder_page_size"));null!=n&&n==parseInt(n)&&(t.libraries.preferences.set({folder_page_size:parseInt(n)}),t.libraries.folderListView.render({id:this.options.id,show_page:1}))},findCheckedRows:function(){return e("#folder_list_body").find(":checked")},findCheckedItems:function(){var t=[],n=[];return this.findCheckedRows().each(function(){var i=e(this).closest("tr").data("id").toString();"F"==i.substring(0,1)?t.push(i):n.push(i)}),{folder_ids:t,dataset_ids:n}},showCollectionSelect:function(e){var t=this;e.preventDefault();var n=Object(c.getGalaxyInstance)(),i=this.findCheckedItems(),r=this.templateCollectionSelectModal();this.modal=n.modal,this.modal.show({closing_events:!0,title:"Create History Collection from Datasets",body:r({selected_datasets:i.dataset_ids.length}),buttons:{Continue:function(){t.showColectionBuilder(i.dataset_ids)},Close:function(){n.modal.hide()}}}),this.prepareCollectionTypeSelect(),this.prepareHistoryTypeSelect()},prepareCollectionTypeSelect:function(){var e=this;this.collectionType="list",this.select_collection_type=new g.a.View({css:"library-collection-type-select",container:this.modal.$el.find(".library-collection-type-select"),data:[{id:"list",text:"List"},{id:"paired",text:"Paired"},{id:"list:paired",text:"List of Pairs"},{id:"rules",text:"From Rules"}],value:"list",onchange:function(t){e.updateCollectionType(t)}})},prepareHistoryTypeSelect:function(){var e=this;this.fetchUserHistories().done(function(){for(var t=[],n=e.histories.length-1;n>=0;n--)t.unshift({id:e.histories.models[n].id,text:e.histories.models[n].get("name")});e.select_collection_history=new g.a.View({css:"library-collection-history-select",container:e.modal.$el.find(".library-collection-history-select"),data:t,value:t[0].id})})},updateCollectionType:function(e){this.collectionType=e},showColectionBuilder:function(e){var t=this,n=Object(c.getGalaxyInstance)(),i=[],r=this.modal.$('input[type="radio"]:checked').val();if("selection"===r)for(var o=e.length-1;o>=0;o--){var a={},l=n.libraries.folderListView.folder_container.get("folder").get(e[o]);a.id=e[o],a.name=l.get("name"),a.deleted=l.get("deleted"),a.state=l.get("state"),i.push(a)}else"folder"===r&&(i=new s.a.Collection(n.libraries.folderListView.folder_container.get("folder").where({type:"file"})).toJSON());var u=this.modal.$("input[name=history_name]").val();if(""!==u)this.createNewHistory(u).done(function(e){p.a.success("History created"),t.collectionImport(i,e.id,e.name)}).fail(function(e,t,n){p.a.error("An error occurred.")});else{var d=this.select_collection_history.value(),h=this.select_collection_history.text();this.collectionImport(i,d,h)}},collectionImport:function(e,t,n){var i,r,o=this,a="Creating Collection in ".concat(n);if("list"===this.collectionType)i=_.a.ListCollectionCreator,r=function(e,n,i){return e=e.map(function(e){return{id:e.id,name:e.name,src:"ldda"}}),o.createHDCA(e,o.collectionType,n,i,t)},_.a.collectionCreatorModal(e,{creationFn:r,title:a,defaultHideSourceItems:!0},i);else if("paired"===this.collectionType)i=v.a.PairCollectionCreator,r=function(e,n,i){return e=[{name:"forward",src:"ldda",id:e[0].id},{name:"reverse",src:"ldda",id:e[1].id}],o.createHDCA(e,o.collectionType,n,i,t)},_.a.collectionCreatorModal(e,{creationFn:r,title:a,defaultHideSourceItems:!0},i);else if("list:paired"===this.collectionType){var s=e.map(function(e){return{id:e.id,name:e.name,src:"ldda"}});y.a.pairedCollectionCreatorModal(s,{historyId:t,title:a,defaultHideSourceItems:!0})}else if("rules"===this.collectionType){_.a.ruleBasedCollectionCreatorModal(e,"library_datasets","collections",{creationFn:function(e,n,i,r){return o.createHDCA(e,n,i,r,t)},defaultHideSourceItems:!0})}},createHDCA:function(e,t,n,i,r,o){return new b.a.HistoryDatasetCollection({history_content_type:"dataset_collection",collection_type:t,history_id:r,name:n,hide_source_items:i||!1,element_identifiers:e}).save(o)},templateToolBar:function(){Object(c.getGalaxyInstance)();return o.a.template(['<div class="library_style_container">','<div class="d-flex align-items-center mb-2">','<span class="mr-1">DATA LIBRARIES</span>',"<div>",'<form class="form-inline">','<div class="form-check logged-dataset-manipulation mr-1" style="display:none;">','<input class="form-check-input include-deleted-datasets-chk" id="include_deleted_datasets_chk" type="checkbox">','<label class="form-check-label" for="include_deleted_datasets_chk">include deleted</label>',"</div>",'<button style="display:none;" title="Create new folder" class="btn btn-secondary toolbtn-create-folder add-library-items add-library-items-folder mr-1" type="button">','<span class="fa fa-plus"></span> <span class="fa fa-folder"></span> Create Folder ',"</button>","<% if(multiple_add_dataset_options) { %>",'<div data-toggle="tooltip" data-placement="right" title="Add datasets to current folder" class="dropdown add-library-items add-library-items-datasets mr-1" style="display:none;">','<button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown">','<span class="fa fa-plus"></span> <span class="fa fa-file"></span> Add Datasets <span class="caret"></span>',"</button>",'<div class="dropdown-menu">','<a class="dropdown-item" href="#folders/<%= id %>/import/history"> from History</a>',"<% if(Galaxy.config.user_library_import_dir !== null) { %>",'<a class="dropdown-item" href="#folders/<%= id %>/import/userdir"> from User Directory</a>',"<% } %>","<% if(Galaxy.config.library_import_dir !== null || Galaxy.config.allow_library_path_paste) { %>",'<h5 class="dropdown-header">Admins only</h5>',"<% if(Galaxy.config.library_import_dir !== null) { %>",'<a class="dropdown-item" href="#folders/<%= id %>/import/importdir">from Import Directory</a>',"<% } %>","<% if(Galaxy.config.allow_library_path_paste) { %>",'<a class="dropdown-item" href="#folders/<%= id %>/import/path">from Path</a>',"<% } %>","<% } %>","</div>","</div>","<% } else { %>",'<a data-placement="top" title="Add Datasets to Current Folder" style="display:none;" class="btn btn-secondary add-library-items add-library-items-datasets" href="#folders/<%= id %>/import/history" role="button">','<span class="fa fa-plus"></span><span class="fa fa-file"></span>',"</a>","<% } %>",'<div data-toggle="tooltip" data-placement="right" title="Import to history" class="dropdown mr-1">','<button type="button" class="primary-button dropdown-toggle add-to-history" data-toggle="dropdown">','<span class="fa fa-book"></span> To History <span class="caret"></span>',"</button>",'<div class="dropdown-menu" role="menu">','<a href="" class="toolbtn-bulk-import add-to-history-datasets dropdown-item">as Datasets</a>','<a href="" class="toolbtn-collection-import add-to-history-collection dropdown-item">as a Collection</a>',"</div>","</div>",'<div data-toggle="tooltip" data-placement="right" title="Download items as archive" class="dropdown dataset-manipulation mr-1" style="display:none; ">','<button type="button" class="primary-button dropdown-toggle" data-toggle="dropdown">','<span class="fa fa-save"></span> Download <span class="caret"></span>',"</button>",'<div class="dropdown-menu" role="menu">','<a class="dropdown-item" href="#/folders/<%= id %>/download/tgz">.tar.gz</a>','<a class="dropdown-item" href="#/folders/<%= id %>/download/tbz">.tar.bz</a>','<a class="dropdown-item" href="#/folders/<%= id %>/download/zip">.zip</a>',"</div>","</div>",'<button data-toggle="tooltip" data-placement="right" title="Mark items deleted" class="primary-button toolbtn-bulk-delete logged-dataset-manipulation mr-1" style="display:none;" type="button">','<span class="fa fa-trash"></span> Delete',"</button>",'<span class="mr-1" data-toggle="tooltip" data-placement="right" title="Show location details">','<button data-id="<%- id %>" class="primary-button toolbtn-show-locinfo" type="button">','<span class="fa fa-info-circle"></span>',"&nbsp;Details","</button>","</span>",'<span data-toggle="tooltip" data-placement="right" title="See this screen annotated">','<a class="library-help-button" href="https://galaxyproject.org/data-libraries/screen/folder-contents/" target="_blank">','<button class="primary-button" type="button">','<span class="fa fa-question-circle"></span>',"&nbsp;Help","</button>","</a>","</span>","</form>","</div>","</div>",'<div id="folder_items_element" />','<div class="d-flex justify-content-center align-items-center folder-paginator mt-2 mb-2" />',"</div>"].join(""))},templateLocInfoInModal:function(){return o.a.template(["<div>",'<table class="grid table table-sm">',"<thead>",'<th style="width: 25%;">library</th>',"<th></th>","</thead>","<tbody>","<tr>","<td>name</td>",'<td><%- library.get("name") %></td>',"</tr>",'<% if(library.get("description") !== "") { %>',"<tr>","<td>description</td>",'<td><%- library.get("description") %></td>',"</tr>","<% } %>",'<% if(library.get("synopsis") !== "") { %>',"<tr>","<td>synopsis</td>",'<td><%- library.get("synopsis") %></td>',"</tr>","<% } %>",'<% if(library.get("create_time_pretty") !== "") { %>',"<tr>","<td>created</td>",'<td><span title="<%- library.get("create_time") %>"><%- library.get("create_time_pretty") %></span></td>',"</tr>","<% } %>","<tr>","<td>id</td>",'<td><%- library.get("id") %></td>',"</tr>","</tbody>","</table>",'<table class="grid table table-sm">',"<thead>",'<th style="width: 25%;">folder</th>',"<th></th>","</thead>","<tbody>","<tr>","<td>name</td>","<td><%- options.folder_name %></td>","</tr>",'<% if(options.folder_description !== "") { %>',"<tr>","<td>description</td>","<td><%- options.folder_description %></td>","</tr>","<% } %>","<tr>","<td>id</td>","<td><%- options.id %></td>","</tr>","</tbody>","</table>","</div>"].join(""))},templateNewFolderInModal:function(){return o.a.template(['<div id="new_folder_modal">',"<form>",'<input type="text" name="Name" value="" placeholder="Name" autofocus>','<input type="text" name="Description" value="" placeholder="Description">',"</form>","</div>"].join(""))},templateImportIntoHistoryModal:function(){return o.a.template(["<div>",'<div class="library-modal-item">',"Select history: ",'<select name="import_to_history" style="width:50%; margin-bottom: 1em; " autofocus>',"<% _.each(histories, function(history) { %>",'<option value="<%= _.escape(history.get("id")) %>"><%= _.escape(history.get("name")) %></option>',"<% }); %>","</select>","</div>",'<div class="library-modal-item">',"or create new: ",'<input type="text" name="history_name" value="" placeholder="name of the new history" style="width:50%;" />',"</div>","</div>"].join(""))},templateImportIntoHistoryProgressBar:function(){return o.a.template(['<div class="import_text">',"Importing selected items to history <b><%= _.escape(history_name) %></b>","</div>",'<div class="progress">','<div class="progress-bar progress-bar-import" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 00%;">','<span class="completion_span">0% Complete</span>',"</div>","</div>"].join(""))},templateAddingDatasetsProgressBar:function(){return o.a.template(['<div class="import_text">',"Adding selected datasets to library folder <b><%= _.escape(folder_name) %></b>","</div>",'<div class="progress">','<div class="progress-bar progress-bar-import" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 00%;">','<span class="completion_span">0% Complete</span>',"</div>","</div>"].join(""))},templateDeletingItemsProgressBar:function(){return o.a.template(['<div class="import_text">',"</div>",'<div class="progress">','<div class="progress-bar progress-bar-import" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 00%;">','<span class="completion_span">0% Complete</span>',"</div>","</div>"].join(""))},templateBrowserModal:function(){return o.a.template(['<div id="file_browser_modal">','<div style="margin-bottom:1em;">','<label title="Switch to selecting files" class="radio-inline import-type-switch">','<input type="radio" name="jstree-radio" value="jstree-disable-folders" checked="checked"> Choose Files',"</label>",'<label title="Switch to selecting folders" class="radio-inline import-type-switch">','<input type="radio" name="jstree-radio" value="jstree-disable-files"> Choose Folders',"</label>","</div>",'<div class="alert alert-info jstree-files-message">All files you select will be imported into the current folder ignoring their folder structure.</div>','<div class="alert alert-info jstree-folders-message" style="display:none;">All files within the selected folders and their subfolders will be imported into the current folder.</div>','<div style="margin-bottom:1em;">','<label class="checkbox-inline jstree-preserve-structure" style="display:none;">','<input class="preserve-checkbox" type="checkbox" value="preserve_directory_structure">',"Preserve directory structure","</label>",'<label class="checkbox-inline">','<input class="link-checkbox" type="checkbox" value="link_files">',"Link files instead of copying","</label>",'<label class="checkbox-inline">','<input class="posix-checkbox" type="checkbox" value="to_posix_lines" checked="checked">',"Convert line endings to POSIX","</label>",'<label class="checkbox-inline">','<input class="spacetab-checkbox" type="checkbox" value="space_to_tab">',"Convert spaces to tabs","</label>","</div>",'<button title="Select all files" type="button" class="button primary-button libimport-select-all">',"Select all","</button>",'<button title="Select no files" type="button" class="button primary-button libimport-select-none">',"Unselect all","</button>","<hr />",'<div id="jstree_browser">',"</div>","<hr />","<p>You can set extension type and genome for all imported datasets at once:</p>","<div>",'Type: <span id="library_extension_select" class="library-extension-select" />','Genome: <span id="library_genome_select" class="library-genome-select" />',"</div>","<br>","<div>",'<label class="checkbox-inline tag-files">',"Tag datasets based on file names",'<input class="tag-files" type="checkbox" value="tag_using_filenames">',"</label>","</div>","</div>"].join(""))},templateImportPathModal:function(){return o.a.template(['<div id="file_browser_modal">','<div class="alert alert-info jstree-folders-message">All files within the given folders and their subfolders will be imported into the current folder.</div>','<div style="margin-bottom: 0.5em;">','<label class="checkbox-inline">','<input class="preserve-checkbox" type="checkbox" value="preserve_directory_structure">',"Preserve directory structure","</label>",'<label class="checkbox-inline">','<input class="link-checkbox" type="checkbox" value="link_files">',"Link files instead of copying","</label>","<br>",'<label class="checkbox-inline">','<input class="posix-checkbox" type="checkbox" value="to_posix_lines" checked="checked">',"Convert line endings to POSIX","</label>",'<label class="checkbox-inline">','<input class="spacetab-checkbox" type="checkbox" value="space_to_tab">',"Convert spaces to tabs","</label>","</div>",'<textarea id="import_paths" class="form-control" rows="5" placeholder="Absolute paths (or paths relative to Galaxy root) separated by newline" autofocus></textarea>',"<hr />","<p>You can set extension type and genome for all imported datasets at once:</p>","<div>",'Type: <span id="library_extension_select" class="library-extension-select" />','Genome: <span id="library_genome_select" class="library-genome-select" />',"</div>","<div>",'<label class="checkbox-inline tag-files">',"Tag datasets based on file names",'<input class="tag-files" type="checkbox" value="tag_using_filenames">',"</label>","</div>","</div>"].join(""))},templateAddFilesFromHistory:function(){return o.a.template(['<div id="add_files_modal">',"<div>","1.&nbsp;Select history:&nbsp;",'<select id="dataset_add_bulk" name="dataset_add_bulk" style="width:66%; "> ',"<% _.each(histories, function(history) { %>",'<option value="<%= _.escape(history.get("id")) %>"><%= _.escape(history.get("name")) %></option>',"<% }); %>","</select>","</div>","<br/>",'<div class="library_selected_history_content">',"</div>","</div>"].join(""))},templateHistoryContents:function(){return o.a.template(["<p>2.&nbsp;Choose the datasets to import:</p>","<div>",'<button title="Select all datasets" type="button" class="button primary-button history-import-select-all">',"Select all","</button>",'<button title="Select all datasets" type="button" class="button primary-button history-import-unselect-all">',"Unselect all","</button>","</div>","<br>","<ul>","<% _.each(history_contents, function(history_item) { %>",'<% if (history_item.get("deleted") != true ) { %>','<% var item_name = history_item.get("name") %>','<% if (history_item.get("type") === "collection") { %>','<% var collection_type = history_item.get("collection_type") %>','<% if (collection_type === "list") { %>','<li data-id="<%= _.escape(history_item.get("id")) %>" data-name="<%= _.escape(history_item.get("type")) %>">',"<label>",'<label title="<%= _.escape(item_name) %>">','<input style="margin: 0;" type="checkbox"> <%= _.escape(history_item.get("hid")) %>: ','<%= item_name.length > 75 ? _.escape("...".concat(item_name.substr(-75))) : _.escape(item_name) %> (Dataset Collection)',"</label>","</li>","<% } else { %>",'<li><input style="margin: 0;" type="checkbox" onclick="return false;" disabled="disabled">','<span title="You can convert this collection into a collection of type list using the Collection Tools">','<%= _.escape(history_item.get("hid")) %>: ','<%= item_name.length > 75 ? _.escape("...".concat(item_name.substr(-75))) : _.escape(item_name) %> (Dataset Collection of type <%= _.escape(collection_type) %> not supported.)',"</span>","</li>","<% } %>",'<% } else if (history_item.get("visible") === true && history_item.get("state") === "ok") { %>','<li data-id="<%= _.escape(history_item.get("id")) %>" data-name="<%= _.escape(history_item.get("type")) %>">','<label title="<%= _.escape(item_name) %>">','<input style="margin: 0;" type="checkbox"> <%= _.escape(history_item.get("hid")) %>: ','<%= item_name.length > 75 ? _.escape("...".concat(item_name.substr(-75))) : _.escape(item_name) %>',"</label>","</li>","<% } %>","<% } %>","<% }); %>","</ul>"].join(""))},templatePaginator:function(){return o.a.template(['<ul class="pagination mr-1">',"<% if ( ( show_page - 1 ) > 0 ) { %>","<% if ( ( show_page - 1 ) > page_count ) { %>",'<li class="page-item"><a class="page-link" href="#folders/<%= id %>/page/1"><span class="fa fa-angle-double-left"></span></a></li>','<li class="page-item disabled"><a class="page-link" href="#folders/<%= id %>/page/<% print( show_page ) %>"><% print( show_page - 1 ) %></a></li>',"<% } else { %>",'<li class="page-item"><a class="page-link" href="#folders/<%= id %>/page/1"><span class="fa fa-angle-double-left"></span></a></li>','<li class="page-item"><a class="page-link" href="#folders/<%= id %>/page/<% print( show_page - 1 ) %>"><% print( show_page - 1 ) %></a></li>',"<% } %>","<% } else { %>",'<li class="page-item disabled"><a class="page-link" href="#folders/<%= id %>/page/1"><span class="fa fa-angle-double-left"></span></a></li>','<li class="page-item disabled"><a class="page-link" href="#folders/<%= id %>/page/<% print( show_page ) %>"><% print( show_page - 1 ) %></a></li>',"<% } %>",'<li class="page-item active">','<a class="page-link" href="#folders/<%= id %>/page/<% print( show_page ) %>"><% print( show_page ) %></a>',"</li>","<% if ( ( show_page ) < page_count ) { %>",'<li class="page-item"><a class="page-link" href="#folders/<%= id %>/page/<% print( show_page + 1 ) %>"><% print( show_page + 1 ) %></a></li>','<li class="page-item"><a class="page-link" href="#folders/<%= id %>/page/<% print( page_count ) %>"><span class="fa fa-angle-double-right"></span></a></li>',"<% } else { %>",'<li class="page-item disabled"><a class="page-link" href="#folders/<%= id %>/page/<% print( show_page  ) %>"><% print( show_page + 1 ) %></a></li>','<li class="page-item disabled"><a class="page-link" href="#folders/<%= id %>/page/<% print( page_count ) %>"><span class="fa fa-angle-double-right"></span></a></li>',"<% } %>","</ul>",'<span class="mr-1">',' <%- items_shown %> items shown <a href="" data-toggle="tooltip" data-placement="top" title="currently <%- folder_page_size %> per page" class="page-size-prompt">(change)</a>',"</span>",'<span class="mr-1">'," <%- total_items_count %> total","</span>"].join(""))},templateCollectionSelectModal:function(){return o.a.template(["<div>",'<div class="library-modal-item">',"<h4>Which datasets?</h4>",'<form class="form-inline">','<label class="radio-inline">','<input type="radio" name="radio_elements" id="selection_radio" value="selection" <% if (!selected_datasets) { %> disabled <% } else { %> checked <% } %> > current selection',"<% if (selected_datasets) { %>"," (<%- selected_datasets %>)","<% } %>","</label>",'<label class="radio-inline">','<input type="radio" name="radio_elements" id="folder_radio" value="folder" <% if (!selected_datasets) { %> checked <% } %> > all datasets in current folder',"</label>","</form>","</div>",'<div class="library-modal-item">',"<h4>Collection type</h4>",'<span class="library-collection-type-select"/>',"<h5>Which type to choose?</h5>","<ul>","<li>","List: Generic collection which groups any number of datasets into a set; similar to file system folder.","</li>","<li>","Paired: Simple collection containing exactly two sequence datasets; one reverse and the other forward.","</li>","<li>","List of Pairs: Advanced collection containing any number of Pairs; imagine as Pair-type collections inside of a List-type collection.","</li>","<li>","From Rules: Use Galaxy's rule builder to describe collections. This is more of an advanced feature that allows building any number of collections or any type.","</li>","</ul>","</div>",'<div class="library-modal-item">',"<h4>Select history</h4>",'<span class="library-collection-history-select"/>'," or create new: ",'<input type="text" name="history_name" value="" placeholder="name of the new history" />',"</div>","</div>"].join(""))}}));t.a={FolderToolbarView:w}}).call(this,n(0),n(0))},function(e,t,n){"use strict";(function(e){var i=n(8).a.SessionStorageModel.extend({defaults:{expandedIds:{},show_deleted:!1,show_hidden:!1},addExpanded:function(e){var t=this.get("expandedIds");t[e.id]=e.get("id"),this.save("expandedIds",t)},removeExpanded:function(e){var t=this.get("expandedIds");delete t[e.id],this.save("expandedIds",t)},isExpanded:function(t){return e.result(this.get("expandedIds"),t,!1)},allExpanded:function(){return e.values(this.get("expandedIds"))},clearExpanded:function(){this.set("expandedIds",{})},includeDeleted:function(t){return e.isUndefined(t)||this.set("show_deleted",t),this.get("show_deleted")},includeHidden:function(t){return e.isUndefined(t)||this.set("show_hidden",t),this.get("show_hidden")},toString:function(){return"HistoryPrefs(".concat(this.id,")")}},{storageKeyPrefix:"history:",historyStorageKey:function(e){if(!e)throw new Error("HistoryPrefs.historyStorageKey needs valid id: ".concat(e));return i.storageKeyPrefix+e},get:function(e){return new i({id:i.historyStorageKey(e)})},clearAll:function(e){for(var t in sessionStorage)0===t.indexOf(i.storageKeyPrefix)&&sessionStorage.removeItem(t)}});t.a={HistoryPrefs:i}}).call(this,n(2))},function(e,t,n){"use strict";(function(e,i){var r=n(85),o=n(394),a=(n(8),n(1),r.a.DCListItemView),s=a.extend({initialize:function(e){a.prototype.initialize.call(this,e)},toString:function(){var e=this.model?"".concat(this.model):"(no model)";return"DCListItemEdit(".concat(e,")")}}),l=r.a.DCEListItemView,c=l.extend({initialize:function(e){l.prototype.initialize.call(this,e)},toString:function(){var e=this.model?"".concat(this.model):"(no model)";return"DCEListItemEdit(".concat(e,")")}}),u=o.a.DatasetListItemEdit.extend({initialize:function(e){o.a.DatasetListItemEdit.prototype.initialize.call(this,e)},_fetchModelDetails:function(){return this.model.inReadyState()&&!this.model.hasDetails()?this.model.fetch({silent:!0}):e.when()},_renderDeleteButton:function(){return null},toString:function(){var e=this.model?"".concat(this.model):"(no model)";return"DatasetDCEListItemEdit(".concat(e,")")}});u.prototype.templates=i.extend({},o.a.DatasetListItemEdit.prototype.templates,{titleBar:r.a.DatasetDCEListItemView.prototype.templates.titleBar});var d=r.a.NestedDCDCEListItemView.extend({toString:function(){var e=this.model?"".concat(this.model):"(no model)";return"NestedDCDCEListItemEdit(".concat(e,")")}});t.a={DCListItemEdit:s,DCEListItemEdit:c,DatasetDCEListItemEdit:u,NestedDCDCEListItemEdit:d}}).call(this,n(0),n(2))},function(e,t,n){"use strict";(function(e){function n(e,t){var n=document.createElement("a");n.download=t,n.href=e,n.click()}function i(e,t){n(e.replace("image/png","image/octet-stream"),"".concat(t||"GalaxyImage",".png"))}function r(t){var n=t.$el.find("svg");if(0!=n.length||!t.error){var i=n.length,r=parseInt(n.first().css("height")),o=parseInt(n.first().css("width")),a=new XMLSerializer,s=e("<svg/>").attr({version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:o*i,height:r}),l=0;return n.each(function(){var t=e(this).clone();!function(e){for(var t in document.styleSheets){var n=document.styleSheets[t],i=n.cssRules;if(i)for(var r=0,o=i.length;r<o;r++)try{e.find(i[r].selectorText).each(function(e,t){t.style.cssText+=i[r].style.cssText})}catch(e){}}}(t);var n=e('<g transform="translate('+l+', 0)">').attr("xmlns","http://www.w3.org/2000/svg");n.append(t.find("g").first()),s.append(n),l+=o}),{string:a.serializeToString(s[0]),height:r,width:o}}t.error("No SVG found. This visualization type does not support SVG/PDF export.")}t.a={createPNG:function(t){t.$el.find("svg").length>0?function(t){var n=r(t),o=document.createElement("canvas"),a=o.getContext("2d"),s=new Image,l=e('<div style="display:none;"/>').append(e(o));e("body").append(l),o.width=5*n.width,o.height=5*n.height,s.src="data:image/svg+xml;base64,"+window.btoa(n.string),s.onload=function(){a.drawImage(s,0,0,o.width,o.height);var e=o.toDataURL("image/png");i(e,t.title),l.remove()}}(t):function(t){var n=t.$el.find(".charts-viewer-canvas");try{if(0!==n.width()&&0!==n.height()){var r=document.createElement("canvas");r.width=n.outerWidth(!0),r.height=n.outerHeight(!0);var o=r.getContext("2d");o.save(),o.fillStyle="rgb(255,255,255)",o.fillRect(0,0,r.width,r.height),o.restore(),o.translate(0,0),o.textAlign="left",o.textBaseline="top",n.children().each(function(){!function t(n,i,r,o){var a=n.prop("tagName").toLowerCase(),s=n.position(),l=i+s.left+parseInt(n.css("marginLeft"),10)+parseInt(n.css("borderLeftWidth"),10)+parseInt(n.css("paddingLeft"),10),c=r+s.top+parseInt(n.css("marginTop"),10)+parseInt(n.css("borderTopWidth"),10)+parseInt(n.css("paddingTop"),10);"div"==a||"span"==a?n.children().each(function(){t(e(this),l,c)}):"canvas"==a&&o.drawImage(n[0],l,c)}(e(this),0,0,o)});var a=r.toDataURL("image/png");a&&i(a,t.title)}}catch(e){console.debug("FAILED - screenshot::_canvas2png() - "+e),t.error&&t.error("Please reduce your visualization to a single panel and try again.")}}(t)},createSVG:function(e){n("data:none/none;base64,".concat(window.btoa(r(e).string)),"".concat(e.title||"GalaxyImage",".svg"))},createPDF:function(t){var n=r(t),i={filename:"visualization",type:"application/pdf",height:n.height,width:n.width,scale:2,svg:n.string},o=e("body"),a=o.find("#viewer-form");for(var s in 0===a.length&&(a=e("<form>",{id:"viewer-form",method:"post",action:"http://export.highcharts.com/",display:"none"}),o.append(a)),a.empty(),i){var l=e("<input/>",{type:"hidden",name:s,value:i[s]});a.append(l)}try{a.submit()}catch(e){console.log(e)}}}}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var i=n(0),r=n.n(i).a;function o(t,n){var i=t.data("menu_options");t.data("menu_options",n),i||t.bind("click.show_popup",function(n){return r(".popmenu-wrapper").remove(),setTimeout(function(){var i=r("<ul class='dropdown-menu' id='".concat(t.attr("id"),"-menu'></ul>")),o=t.data("menu_options");e.size(o)<=0&&r("<li>No Options.</li>").appendTo(i),r.each(o,function(e,t){if(t){var n=t.action||t;i.append(r("<li></li>").append(r("<a>").attr("href",t.url).html(e).click(n)))}else i.append(r("<li></li>").addClass("head").append(r("<a href='#'></a>").html(e)))});var a=r("<div class='popmenu-wrapper' style='position: absolute;left: 0; top: -1000;'></div>").append(i).appendTo("body"),s=n.pageX-a.width()/2;s=Math.min(s,r(document).scrollLeft()+r(window).width()-r(a).width()-5),s=Math.max(s,r(document).scrollLeft()+5),a.css({top:n.pageY,left:s})},10),setTimeout(function(){var e=function(e){r(e).bind("click.close_popup",function(){r(".popmenu-wrapper").remove(),e.unbind("click.close_popup")})};e(r(window.document)),e(r(window.top.document));for(var t=window.top.frames.length;t--;){e(r(window.top.frames[t].document))}},50),!1})}t.a={make_popupmenu:o,make_popup_menus:function(e){e=e||document,r(e).find("div[popupmenu]").each(function(){var t={},n=r(this);n.find("a").each(function(){var e=r(this),n=e.get(0),i=n.getAttribute("confirm"),o=n.getAttribute("href"),a=n.getAttribute("target");t[e.text()]=o?{url:o,action:function(t){if(!i||confirm(i)){if(a)return window.open(o,a),!1;e.click()}else t.preventDefault()}}:null});var i=r(e).find("#".concat(n.attr("popupmenu")));i.find("a").bind("click",function(e){return e.stopPropagation(),!0}),o(i,t),i.addClass("popup"),n.remove()})}}}).call(this,n(2))},function(e,t,n){"use strict";var i=n(440).a,r=(n(980),n(14)),o=Object(r.a)(i,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.ready?n("div",[n("h2",[e._v("Share or Publish "+e._s(e.model_class)+" `"+e._s(e.item.title)+"`")]),e._v(" "),n("b-alert",{attrs:{show:e.show_danger,variant:"danger",dismissible:""}},[e._v("\n        "+e._s(e.err_msg)+"\n    ")]),e._v(" "),n("br"),e._v(" "),e.has_username?n("div",[n("br"),e._v(" "),n("h3",[e._v("Make "+e._s(e.model_class)+" Accessible via Link and Publish It")]),e._v(" "),e.item.importable?n("div",[e._v("\n            This "+e._s(e.model_class_lc)+" is currently "),n("strong",[e._v(e._s(e.item_status))]),e._v(".\n            "),n("div",[n("p",[e._v("Anyone can view and import this "+e._s(e.model_class_lc)+" by visiting the following URL:")]),e._v(" "),n("blockquote",[n("a",{attrs:{id:"item-url",href:e.item_url,target:"_top"}},[e._v(e._s(e.item_url))]),e._v(" "),n("span",{staticStyle:{display:"none"},attrs:{id:"item-url-text"}},[e._v("\n                        "+e._s(e.item_url_parts[0])),n("span",{attrs:{id:"item-identifier"}},[e._v(e._s(e.item_url_parts[1]))])]),e._v(" "),n("a",{attrs:{href:"#",id:"edit-identifier"}},[n("img",{attrs:{src:e.pencil_url}})])]),e._v(" "),e.item.published?n("div",[n("p",[e._v("This "+e._s(e.model_class_lc)+" is publicly listed and searchable in Galaxy's "),n("a",{attrs:{href:e.published_url,target:"_top"}},[e._v("Published "+e._s(e.plural_name))]),e._v(" section.")]),e._v(" "),n("p",[e._v("You can:")])]):e._e()]),e._v(" "),e.item.published?n("div",[n("b-button",{attrs:{id:"disable_link_access_and_unpublish"},on:{click:function(t){e.setSharing("disable_link_access_and_unpublish")}}},[e._v("Disable Access to "+e._s(e.model_class)+" via Link and Unpublish")]),e._v(" "),n("div",{staticClass:"toolParamHelp"},[e._v("Disables this "+e._s(e.model_class_lc)+"'s link so that it is not accessible and removes "+e._s(e.model_class_lc)+" from Galaxy's "),n("a",{attrs:{href:e.published_url,target:"_top"}},[e._v("Published "+e._s(e.plural_name))]),e._v(" section so that it is not publicly listed or searchable.")]),e._v(" "),n("br"),e._v(" "),n("b-button",{on:{click:function(t){e.setSharing("unpublish")}}},[e._v("Unpublish "+e._s(e.model_class))]),e._v(" "),n("div",{staticClass:"toolParamHelp"},[e._v("Removes this "+e._s(e.model_class_lc)+" from Galaxy's "),n("a",{attrs:{href:e.published_url,target:"_top"}},[e._v("Published "+e._s(e.plural_name))]),e._v(" section so that it is not publicly listed or searchable.")])],1):n("div",[n("b-button",{on:{click:function(t){e.setSharing("disable_link_access")}}},[e._v("Disable Access to "+e._s(e.model_class)+" Link")]),e._v(" "),n("div",{staticClass:"toolParamHelp"},[e._v("Disables "+e._s(e.model_class_lc)+"'s link so that it is not accessible.")]),e._v(" "),n("br"),e._v(" "),n("b-button",{attrs:{id:"make_accessible_and_publish"},on:{click:function(t){e.setSharing("publish")}}},[e._v("Publish "+e._s(e.model_class))]),e._v(" "),n("div",{staticClass:"toolParamHelp"},[e._v("Publishes the "+e._s(e.model_class_lc)+" to Galaxy's "),n("a",{attrs:{href:e.published_url,target:"_top"}},[e._v("Published "+e._s(e.plural_name))]),e._v(" section, where it is publicly listed and searchable.")]),e._v(" "),n("br")],1)]):n("div",[n("p",[e._v("This "+e._s(e.model_class_lc)+" is currently restricted so that only you and the users listed below can access it. You can:")]),e._v(" "),n("b-button",{on:{click:function(t){e.setSharing("make_accessible_via_link")}}},[e._v("Make "+e._s(e.model_class)+" Accessible via Link")]),e._v(" "),e.has_possible_members?n("span",{staticClass:"chkk"},[e._v("\n            Also make all objects within the "+e._s(e.model_class)+" accessible.\n            "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.make_members_public,expression:"make_members_public"}],attrs:{type:"checkbox",id:"chk_make_members_public"},domProps:{checked:Array.isArray(e.make_members_public)?e._i(e.make_members_public,null)>-1:e.make_members_public},on:{change:function(t){var n=e.make_members_public,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&(e.make_members_public=n.concat([null])):o>-1&&(e.make_members_public=n.slice(0,o).concat(n.slice(o+1)))}else e.make_members_public=r}}})]):e._e(),e._v(" "),n("div",{staticClass:"toolParamHelp"},[e._v("Generates a web link that you can share with other people so that they can view and import the "+e._s(e.model_class_lc)+".")]),e._v(" "),n("br"),e._v(" "),n("b-button",{attrs:{id:"make_accessible_and_publish"},on:{click:function(t){e.setSharing("make_accessible_and_publish")}}},[e._v("Make "+e._s(e.model_class)+" Accessible and Publish")]),e._v(" "),e.has_possible_members?n("span",{staticClass:"chkk"},[e._v("\n            Also make all objects within the "+e._s(e.model_class)+" accessible.\n            "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.make_members_public,expression:"make_members_public"}],attrs:{type:"checkbox",id:"chk_make_members_public"},domProps:{checked:Array.isArray(e.make_members_public)?e._i(e.make_members_public,null)>-1:e.make_members_public},on:{change:function(t){var n=e.make_members_public,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&(e.make_members_public=n.concat([null])):o>-1&&(e.make_members_public=n.slice(0,o).concat(n.slice(o+1)))}else e.make_members_public=r}}})]):e._e(),e._v(" "),n("div",{staticClass:"toolParamHelp"},[e._v("Makes the "+e._s(e.model_class_lc)+" accessible via link (see above) and publishes the "+e._s(e.model_class_lc)+" to Galaxy's "),n("a",{attrs:{href:e.published_url,target:"_top"}},[e._v("Published "+e._s(e.plural_name))]),e._v(" section, where it is publicly listed and searchable.")])],1),e._v(" "),n("br"),n("br"),e._v(" "),n("h3",[e._v("Share "+e._s(e.model_class)+" with Individual Users")]),e._v(" "),n("div",[e.item.users_shared_with&&e.item.users_shared_with.length>0?n("div",[n("b-table",{attrs:{small:"","caption-top":"",fields:e.share_fields,items:e.item.users_shared_with},scopedSlots:e._u([{key:"id",fn:function(t){return[n("b-button",{staticClass:"unshare_user",attrs:{size:"sm"},on:{click:function(n){n.stopPropagation(),e.setSharing("unshare_user",t.value)}}},[e._v("Remove")])]}}])},[n("template",{slot:"table-caption"},[e._v(" The following users will see this "+e._s(e.model_class_lc)+" in their "+e._s(e.model_class_lc)+" list and will be able to view, import and run it. ")])],2)],1):n("div",[n("p",[e._v("You have not shared this "+e._s(e.model_class_lc)+" with any users.")])]),e._v(" "),n("b-button",{attrs:{href:e.share_url,id:"share_with_a_user"}},[n("span",[e._v("Share with a user")])])],1)]):n("div",[n("div",[e._v("To make a "+e._s(e.model_class_lc)+" accessible via link or publish it, you must create a public username:")]),e._v(" "),n("form",{staticClass:"form-group",on:{submit:function(t){t.preventDefault(),e.setUsername()}}},[n("label"),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.new_username,expression:"new_username"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.new_username},on:{input:function(t){t.target.composing||(e.new_username=t.target.value)}}})]),e._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(t){e.setUsername()}}},[e._v("Set Username")])],1)],1):e._e()},[],!1,null,null,null);o.options.__file="Sharing.vue";t.a=o.exports},function(e,t,n){var i=n(24),r=n(23).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,n){var i=n(44),r=n(23),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:n(361)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){t.f=n(30)},function(e,t,n){var i=n(477)("keys"),r=n(360);e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var i=n(89);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(23).document;e.exports=i&&i.documentElement},function(e,t,n){var i=n(24),r=n(29),o=function(e,t){if(r(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{(i=n(87)(Function.call,n(75).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:o}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var i=n(24),r=n(483).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&i(o)&&r&&r(e,o),e}},function(e,t,n){"use strict";var i=n(91),r=n(90);e.exports=function(e){var t=String(r(this)),n="",o=i(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){"use strict";var i=n(361),r=n(12),o=n(55),a=n(61),s=n(375),l=n(535),c=n(374),u=n(366),d=n(30)("iterator"),h=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,n,p,m,g,_){l(n,t,p);var v,y,b,w=function(e){if(!h&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",M="values"==m,x=!1,C=e.prototype,S=C[d]||C["@@iterator"]||m&&C[m],T=S||w(m),L=m?M?w("entries"):T:void 0,E="Array"==t&&C.entries||S;if(E&&(b=u(E.call(new e)))!==Object.prototype&&b.next&&(c(b,k,!0),i||"function"==typeof b[d]||a(b,d,f)),M&&S&&"values"!==S.name&&(x=!0,T=function(){return S.call(this)}),i&&!_||!h&&!x&&C[d]||a(C,d,T),s[t]=T,s[k]=f,m)if(v={values:M?T:w("values"),keys:g?T:w("keys"),entries:L},_)for(y in v)y in C||o(C,y,v[y]);else r(r.P+r.F*(h||x),t,v);return v}},function(e,t,n){var i=n(491),r=n(90);e.exports=function(e,t,n){if(i(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(e))}},function(e,t,n){var i=n(24),r=n(89),o=n(30)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},function(e,t,n){var i=n(30)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var i=n(375),r=n(30)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}},function(e,t,n){"use strict";var i=n(35),r=n(359);e.exports=function(e,t,n){t in e?i.f(e,t,r(0,n)):e[t]=n}},function(e,t,n){var i=n(415),r=n(30)("iterator"),o=n(375);e.exports=n(44).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||o[i(e)]}},function(e,t,n){"use strict";var i=n(63),r=n(363),o=n(45);e.exports=function(e){for(var t=i(this),n=o(t.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:r(l,n);c>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var i=n(376),r=n(539),o=n(375),a=n(62);e.exports=n(489)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,n){"use strict";var i=n(29);e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var i,r,o,a=n(87),s=n(528),l=n(482),c=n(476),u=n(23),d=u.process,h=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,m=u.Dispatch,g=0,_={},v=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},y=function(e){v.call(e.data)};h&&f||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _[++g]=function(){s("function"==typeof e?e:Function(e),t)},i(g),g},f=function(e){delete _[e]},"process"==n(89)(d)?i=function(e){d.nextTick(a(v,e,1))}:m&&m.now?i=function(e){m.now(a(v,e,1))}:p?(o=(r=new p).port2,r.port1.onmessage=y,i=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(e){u.postMessage(e+"","*")},u.addEventListener("message",y,!1)):i="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),v.call(e)}}:function(e){setTimeout(a(v,e,1),0)}),e.exports={set:h,clear:f}},function(e,t,n){"use strict";var i=n(23),r=n(43),o=n(361),a=n(423),s=n(61),l=n(379),c=n(21),u=n(378),d=n(91),h=n(45),f=n(546),p=n(365).f,m=n(35).f,g=n(496),_=n(374),v="prototype",y="Wrong index!",b=i.ArrayBuffer,w=i.DataView,k=i.Math,M=i.RangeError,x=i.Infinity,C=b,S=k.abs,T=k.pow,L=k.floor,E=k.log,D=k.LN2,O=r?"_b":"buffer",A=r?"_l":"byteLength",Y=r?"_o":"byteOffset";function R(e,t,n){var i,r,o,a=new Array(n),s=8*n-t-1,l=(1<<s)-1,c=l>>1,u=23===t?T(2,-24)-T(2,-77):0,d=0,h=e<0||0===e&&1/e<0?1:0;for((e=S(e))!=e||e===x?(r=e!=e?1:0,i=l):(i=L(E(e)/D),e*(o=T(2,-i))<1&&(i--,o*=2),(e+=i+c>=1?u/o:u*T(2,1-c))*o>=2&&(i++,o/=2),i+c>=l?(r=0,i=l):i+c>=1?(r=(e*o-1)*T(2,t),i+=c):(r=e*T(2,c-1)*T(2,t),i=0));t>=8;a[d++]=255&r,r/=256,t-=8);for(i=i<<t|r,s+=t;s>0;a[d++]=255&i,i/=256,s-=8);return a[--d]|=128*h,a}function j(e,t,n){var i,r=8*n-t-1,o=(1<<r)-1,a=o>>1,s=r-7,l=n-1,c=e[l--],u=127&c;for(c>>=7;s>0;u=256*u+e[l],l--,s-=8);for(i=u&(1<<-s)-1,u>>=-s,s+=t;s>0;i=256*i+e[l],l--,s-=8);if(0===u)u=1-a;else{if(u===o)return i?NaN:c?-x:x;i+=T(2,t),u-=a}return(c?-1:1)*i*T(2,u-t)}function P(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function N(e){return[255&e]}function H(e){return[255&e,e>>8&255]}function I(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function F(e){return R(e,52,8)}function $(e){return R(e,23,4)}function W(e,t,n){m(e[v],t,{get:function(){return this[n]}})}function z(e,t,n,i){var r=f(+n);if(r+t>e[A])throw M(y);var o=e[O]._b,a=r+e[Y],s=o.slice(a,a+t);return i?s:s.reverse()}function B(e,t,n,i,r,o){var a=f(+n);if(a+t>e[A])throw M(y);for(var s=e[O]._b,l=a+e[Y],c=i(+r),u=0;u<t;u++)s[l+u]=c[o?u:t-u-1]}if(a.ABV){if(!c(function(){b(1)})||!c(function(){new b(-1)})||c(function(){return new b,new b(1.5),new b(NaN),"ArrayBuffer"!=b.name})){for(var V,U=(b=function(e){return u(this,b),new C(f(e))})[v]=C[v],q=p(C),G=0;q.length>G;)(V=q[G++])in b||s(b,V,C[V]);o||(U.constructor=b)}var J=new w(new b(2)),K=w[v].setInt8;J.setInt8(0,2147483648),J.setInt8(1,2147483649),!J.getInt8(0)&&J.getInt8(1)||l(w[v],{setInt8:function(e,t){K.call(this,e,t<<24>>24)},setUint8:function(e,t){K.call(this,e,t<<24>>24)}},!0)}else b=function(e){u(this,b,"ArrayBuffer");var t=f(e);this._b=g.call(new Array(t),0),this[A]=t},w=function(e,t,n){u(this,w,"DataView"),u(e,b,"DataView");var i=e[A],r=d(t);if(r<0||r>i)throw M("Wrong offset!");if(r+(n=void 0===n?i-r:h(n))>i)throw M("Wrong length!");this[O]=e,this[Y]=r,this[A]=n},r&&(W(b,"byteLength","_l"),W(w,"buffer","_b"),W(w,"byteLength","_l"),W(w,"byteOffset","_o")),l(w[v],{getInt8:function(e){return z(this,1,e)[0]<<24>>24},getUint8:function(e){return z(this,1,e)[0]},getInt16:function(e){var t=z(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=z(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return P(z(this,4,e,arguments[1]))},getUint32:function(e){return P(z(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return j(z(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return j(z(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){B(this,1,e,N,t)},setUint8:function(e,t){B(this,1,e,N,t)},setInt16:function(e,t){B(this,2,e,H,t,arguments[2])},setUint16:function(e,t){B(this,2,e,H,t,arguments[2])},setInt32:function(e,t){B(this,4,e,I,t,arguments[2])},setUint32:function(e,t){B(this,4,e,I,t,arguments[2])},setFloat32:function(e,t){B(this,4,e,$,t,arguments[2])},setFloat64:function(e,t){B(this,8,e,F,t,arguments[2])}});_(b,"ArrayBuffer"),_(w,"DataView"),s(w[v],a.VIEW,!0),t.ArrayBuffer=b,t.DataView=w},function(e,t,n){"use strict";(function(t){var i=n(64),r=n(829),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(552):void 0!==t&&(e=n(552)),e}(),transformRequest:[function(e,t){return r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],function(e){s.headers[e]={}}),i.forEach(["post","put","patch"],function(e){s.headers[e]=i.merge(o)}),e.exports=s}).call(this,n(551))},function(e,t,n){"use strict";function i(e){return"number"==typeof e}function r(e){return!!e&&e.constructor===Array}Object.defineProperty(t,"__esModule",{value:!0}),t.updateProperties=function(e,t,n,i){if(void 0===i&&(i={writable:!0,enumerable:!0,configurable:!0}),!(e instanceof Object))throw new TypeError('"target" isn\'t an Object instance');if(void 0!==t){if(!(t instanceof Object))throw new TypeError('"properties" isn\'t an Object instance');if(void 0===i)i={writable:!0,enumerable:!0,configurable:!0};else if(!(i instanceof Object))throw new TypeError('"attributes" isn\'t an Object instance');if(void 0===n)for(var r in t)void 0!==t[r]&&Object.defineProperty(e,r,Object.create(i,{value:{value:t[r]}}));else if(n instanceof Array)n.forEach(function(n){void 0!==t[n]&&Object.defineProperty(e,n,Object.create(i,{value:{value:t[n]}}))});else{if(!(n instanceof Object))throw new TypeError('"keys" isn\'t an Object instance');for(var o in n)r=n[o],void 0!==t[r]&&Object.defineProperty(e,o,Object.create(i,{value:{value:t[r]}}))}}},t.testProperties=function(e,t,n,i){if(void 0===i&&(i=!0),!(e instanceof Object))throw new TypeError('"target" isn\'t an Object instance');if(void 0===t)return!0;if(!(t instanceof Object))throw new TypeError('"properties" isn\'t an Object instance');if(void 0===i&&(i=!0),void 0===n){for(var r in t)if(e[r]!==t[r]&&(void 0!==t[r]||!i))return!1}else{if(n instanceof Array)return n.every(function(n){return e[n]===t[n]||void 0===t[n]&&i});if(!(n instanceof Object))throw new TypeError('"keys" isn\'t an Object instance');for(var o in n)if(r=n[o],e[o]!==t[r]&&(void 0!==t[r]||!i))return!1}return!0},t.mustBeNumber=function(e,t){if(!i(e))throw new TypeError(t||"Expected number");return e},t.isNumber=i,t.isString=function(e){return"string"==typeof e},t.mustNotBeUndefined=function(e,t){if(!e)throw new Error(t);return e},t.mustBeObject=function(e,t){if(!(e instanceof Object))throw new TypeError(t||"Expected Object");return e},t.mustBeString=function(e,t){if("string"!=typeof e)throw new TypeError(t||"Expected string");return e},t.mustBeArray=function(e,t){if(!r(e))throw new TypeError(t||"Expected Array");return e},t.isArray=r,t.mconcat=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduceRight(e)},t.snd=function(e){return e[1]},t.concatMap=function(e,t){return[].concat.apply([],e.map(t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(502),o=n(558);function a(e){return l(e)||c(e)}function s(e){return t.measureTypes.hasOwnProperty(e)}function l(e){return s(e.type)&&r.isNumber(e.value)}function c(e){return v(e.expression)}function u(e){if(void 0===e)return!1;switch(e){case"Parentheses":case"Square":case"Dollar":return!0;default:return!1}}function d(e,t){return void 0!==e&&(void 0===t?"string"==typeof e.name:t===e.name)}function h(e){return void 0!==e&&"string"==typeof e.text}function f(e){return void 0!==e&&r.isArray(e.latex)}function p(e){return e.arguments instanceof Array}function m(e){return e===i.SUP||e===i.SUB}function g(e){switch(e){case"#":return"\\#";case"$":return"\\$";case"%":return"\\%";case"^":return"\\^{}";case"&":return"\\&";case"{":return"\\{";case"}":return"\\}";case"~":return"\\~{}";case"\\":return"\\textbackslash{}";case"_":return"\\_{}";default:return e}}function _(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return 0===t.length?"string"==typeof e.type:t.some(function(t){return e.type===t})}function v(e){return b(e)||y(e)}function y(e){return A(e)||k(e)||M(e)||x(e)||C(e)||S(e)||L(e)||O(e)}function b(e){return A(e)||w(e)||M(e)||x(e)||C(e)||S(e)||L(e)||O(e)}function w(e){return void 0!==e&&void 0!==e.type&&h(e)&&_(e,t.typeTeXRaw)}function k(e){return void 0!==e&&"string"==typeof e.string&&"number"==typeof e.category}function M(e){return d(e)&&p(e)&&_(e,t.typeTeXComm,t.typeTeXCommS)}function x(e,n){return _(e,t.typeTeXEnv)}function C(e){return f(e)&&_(e)&&u(e.type)}function S(e){return void 0!==e&&"boolean"==typeof e.noNewPage&&(void 0===e.measure||a(e.measure))}function T(e){return m(e.type)}function L(e){return f(e)&&_(e,t.typeTeXBraces)}function E(e){return _(e,"FixArg")}function D(e){return _(e,"OptArg")}function O(e){return h(e)&&_(e,t.typeTeXComment)}function A(e){return void 0!==e&&0===Object.keys(e).length}function Y(e){return{text:e,type:t.typeTeXRaw,characterCategories:o.convertToTeXCharsDefault(e)}}function R(e,t,n,i){return{latex:i,type:e,startSymbol:t,endSymbol:n}}t.isMeasure=a,t.measureTypes={pt:!0,mm:!0,cm:!0,in:!0,ex:!0,em:!0},t.isMeasureType=s,t.isBuiltInMeasure=l,t.isCustomMeasure=c,t.mathTypes={Parentheses:"Parentheses",Square:"Square",Dollar:"Dollar"},t.isMathType=u,t.isNameHaving=d,t.isTextHaving=h,t.isLaTeXHaving=f,t.isArgumentHaving=p,t.typeTeXSeq="TeXSeq",t.typeTeXEnv="TeXEnv",t.typeTeXBraces="TeXBraces",t.typeTeXComment="TeXComment",t.typeTeXRaw="TeXRaw",t.typeTeXComm="TeXComm",t.typeTeXCommS="TeXCommS",function(e){e[e.SUP=0]="SUP",e[e.SUB=1]="SUB"}(i=t.SubOrSuperSymbol||(t.SubOrSuperSymbol={})),t.isSubOrSuperSymbol=m,t.fromStringLaTeX=function(e){return Y(t.protectString(e))},t.protectString=function(e){for(var t=[],n=0;n<e.length;n++)t.push(g(e.charAt(n)));return t.join()},t.protectChar=g,t.isTypeHaving=_,t.isLaTeXBlock=v,t.isLaTeXNoRaw=y,t.isLaTeXRaw=b,t.isTeXRaw=w,t.isTeXChar=k,t.isTeXComm=M,t.isTeXCommS=function(e){return M(e)&&0===e.arguments.length},t.isTeXEnv=x,t.isTeXMath=C,t.isTeXLineBreak=S,t.isSubOrSuperScript=T,t.isTeXBraces=L,t.isFixArg=E,t.isOptArg=D,t.isTeXComment=O,t.isTeXEmpty=A,t.newFixArg=function(e){return{type:"FixArg",latex:e}},t.newOptArg=function(e){return 1===e.length?{type:"OptArg",latex:e}:{type:"MOptArg",latex:e}},t.newSymArg=function(e){return{type:"SymArg",latex:[e]}},t.newParArg=function(e){return{type:"ParArg",latex:[e]}},t.newMOptArg=function(e){return{type:"MOptArg",latex:e}},t.newMSymArg=function(e){return{type:"MSymArg",latex:e}},t.newMParArg=function(e){return{type:"MParArg",latex:e}},t.newCommandS=function(e){return{name:e,arguments:[],type:t.typeTeXCommS}},t.newTeXRaw=Y,t.newTeXMath=R,t.newTeXBraces=function(e){return{latex:[e],type:t.typeTeXBraces}},t.newTeXMathDol=function(e){return R("Dollar","$","$",e)},t.newTeXComment=function(e){return{text:e,type:t.typeTeXComment}},t.newTeXComm=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return{name:e,arguments:n,type:t.typeTeXComm}},t.newSubOrSuperScript=function(e,t,n){return{type:e,symbol:t,arguments:n}},t.newTeXEnv=function(e,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return{name:e,latex:n,arguments:i,type:t.typeTeXEnv}},t.stringifyLaTeX=function(e){var t=[];return function e(t,n){if(M(t))n.push("\\",t.name),t.arguments.forEach(function(t){return e(t,n)});else{if(x(t))throw new Error("not supported yet");if(C(t))n.push(t.startSymbol),t.latex.forEach(function(t){return e(t,n)}),n.push(t.endSymbol);else if(S(t))n.push("\n");else if(T(t))n.push(t.symbol),t.arguments&&t.arguments.forEach(function(t){return e(t,n)});else if(L(t))n.push("{"),t.latex.forEach(function(t){return e(t,n)}),n.push("}");else if(O(t))n.push("%"+t.text+"\n");else if(w(t))n.push(t.text);else{if(k(t))throw new Error("not supported yet");if(E(t))n.push("{"),t.latex.forEach(function(t){return e(t,n)}),n.push("}");else{if(!D(t))throw new Error("Did not recognize "+JSON.stringify(t));n.push("["),t.latex.forEach(function(t){return e(t,n)}),n.push("]")}}}}(e,t),t.join("")}},function(e,t,n){(function(e){
/*! jQuery UI - v1.9.1 - 2012-10-29
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.menu.js, jquery.ui.slider.js
* Copyright (c) 2012 jQuery Foundation and other contributors Licensed MIT */
!function(e,t){function n(t,n){var r,o,a,s=t.nodeName.toLowerCase();return"area"===s?(o=(r=t.parentNode).name,!(!t.href||!o||"map"!==r.nodeName.toLowerCase())&&(!!(a=e("img[usemap=#"+o+"]")[0])&&i(a))):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s&&t.href||n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.9.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,n){return"number"==typeof t?this.each(function(){var i=this;setTimeout(function(){e(i).focus(),n&&n.call(i)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,r,o=e(this[0]);o.length&&o[0]!==document;){if(("absolute"===(i=o.css("position"))||"relative"===i||"fixed"===i)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,i){function r(t,n,i,r){return e.each(o,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?s["inner"+i].call(this):this.each(function(){e(this).css(a,r(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?s["outer"+i].call(this,t):this.each(function(){e(this).css(a,r(this,t,!0,n)+"px")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(t,!r)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===n.offsetHeight,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];e.ui.ie=!!t.length,e.ui.ie6=6===parseFloat(t[1],10)}(),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,i){var r,o=e.ui[t].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(e,t,n){var i,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},contains:e.contains,hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0||(t[i]=1,r=t[i]>0,t[i]=0,r)},isOverAxis:function(e,t,n){return e>t&&e<t+n},isOver:function(t,n,i,r,o,a){return e.ui.isOverAxis(t,i,o)&&e.ui.isOverAxis(n,r,a)}}))}(e),function(e,t){var n=0,i=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(e){}r(t)},e.widget=function(t,n,i){var r,o,a,s,l=t.split(".")[0];t=t.split(".")[1],r=l+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[l]=e[l]||{},o=e[l][t],a=e[l][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),(s=new n).options=e.widget.extend({},s.options),e.each(i,function(t,r){e.isFunction(r)&&(i[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=o,t}}())}),a.prototype=e.widget.extend(s,{widgetEventPrefix:s.widgetEventPrefix||t},i,{constructor:a,namespace:l,widgetName:t,widgetBaseClass:r,widgetFullName:r}),o?(e.each(o._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a)},e.widget.extend=function(n){for(var r,o,a=i.call(arguments,1),s=0,l=a.length;s<l;s++)for(r in a[s])o=a[s][r],a[s].hasOwnProperty(r)&&o!==t&&(e.isPlainObject(o)?n[r]=e.isPlainObject(n[r])?e.widget.extend({},n[r],o):e.widget.extend({},o):n[r]=o);return n},e.widget.bridge=function(n,r){var o=r.prototype.widgetFullName;e.fn[n]=function(a){var s="string"==typeof a,l=i.call(arguments,1),c=this;return a=!s&&l.length?e.widget.extend.apply(null,[a].concat(l)):a,s?this.each(function(){var i,r=e.data(this,o);return r?e.isFunction(r[a])&&"_"!==a.charAt(0)?(i=r[a].apply(r,l))!==r&&i!==t?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0:e.error("no such method '"+a+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+a+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(a||{})._init():new r(a,this)}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetName,this),e.data(i,this.widgetFullName,this),this._on(this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var r,o,a,s=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(s={},n=(r=n.split(".")).shift(),r.length){for(o=s[n]=e.widget.extend({},this.options[n]),a=0;a<r.length-1;a++)o[r[a]]=o[r[a]]||{},o=o[r[a]];if(n=r.pop(),i===t)return o[n]===t?null:o[n];o[n]=i}else{if(i===t)return this.options[n]===t?null:this.options[n];s[n]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n){var i,r=this;n?(t=i=e(t),this.bindings=this.bindings.add(t)):(n=t,t=this.element,i=this.widget()),e.each(n,function(n,o){function a(){if(!0!==r.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof o?r[o]:o).apply(r,arguments)}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||e.guid++);var s=n.match(/^(\w+)\s*(.*)$/),l=s[1]+r.eventNamespace,c=s[2];c?i.delegate(c,l,a):t.bind(l,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,o,a=this.options[t];if(i=i||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?!0===r||"number"==typeof r?n:r.effect||n:t;"number"==typeof(r=r||{})&&(r={duration:r}),a=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&e.effects&&(e.effects.effect[s]||!1!==e.uiBackCompat&&e.effects[s])?i[t](r):s!==t&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}}),!1!==e.uiBackCompat&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}(e),function(e,t){var n=!1;e(document).mouseup(function(e){n=!1}),e.widget("ui.mouse",{version:"1.9.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!n){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,r=1===t.which,o=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,!0))}},_mouseMove:function(t){return!e.ui.ie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return!0}})}(e),function(t,n){function i(e,t,n){return[parseInt(e[0],10)*(f.test(e[0])?t/100:1),parseInt(e[1],10)*(f.test(e[1])?n/100:1)]}function r(e,n){return parseInt(t.css(e,n),10)||0}t.ui=t.ui||{};var o,a=Math.max,s=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+%?/,h=/^\w+/,f=/%$/,p=t.fn.position;t.position={scrollbarWidth:function(){if(o!==n)return o;var e,i,r=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=r.children()[0];return t("body").append(r),e=a.offsetWidth,r.css("overflow","scroll"),e===(i=a.offsetWidth)&&(i=r[0].clientWidth),r.remove(),o=e-i},getScrollInfo:function(e){var n=e.isWindow?"":e.element.css("overflow-x"),i=e.isWindow?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth,o="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:r?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]);return{element:n,isWindow:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i?n.width():n.outerWidth(),height:i?n.height():n.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return p.apply(this,arguments);e=t.extend({},e);var n,o,f,m,g,_=t(e.of),v=t.position.getWithinInfo(e.within),y=t.position.getScrollInfo(v),b=_[0],w=(e.collision||"flip").split(" "),k={};return 9===b.nodeType?(o=_.width(),f=_.height(),m={top:0,left:0}):t.isWindow(b)?(o=_.width(),f=_.height(),m={top:_.scrollTop(),left:_.scrollLeft()}):b.preventDefault?(e.at="left top",o=f=0,m={top:b.pageY,left:b.pageX}):(o=_.outerWidth(),f=_.outerHeight(),m=_.offset()),g=t.extend({},m),t.each(["my","at"],function(){var t,n,i=(e[this]||"").split(" ");1===i.length&&(i=c.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",t=d.exec(i[0]),n=d.exec(i[1]),k[this]=[t?t[0]:0,n?n[0]:0],e[this]=[h.exec(i[0])[0],h.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===e.at[0]?g.left+=o:"center"===e.at[0]&&(g.left+=o/2),"bottom"===e.at[1]?g.top+=f:"center"===e.at[1]&&(g.top+=f/2),n=i(k.at,o,f),g.left+=n[0],g.top+=n[1],this.each(function(){var c,u,d=t(this),h=d.outerWidth(),p=d.outerHeight(),b=r(this,"marginLeft"),M=r(this,"marginTop"),x=h+b+r(this,"marginRight")+y.width,C=p+M+r(this,"marginBottom")+y.height,S=t.extend({},g),T=i(k.my,d.outerWidth(),d.outerHeight());"right"===e.my[0]?S.left-=h:"center"===e.my[0]&&(S.left-=h/2),"bottom"===e.my[1]?S.top-=p:"center"===e.my[1]&&(S.top-=p/2),S.left+=T[0],S.top+=T[1],t.support.offsetFractions||(S.left=l(S.left),S.top=l(S.top)),c={marginLeft:b,marginTop:M},t.each(["left","top"],function(i,r){t.ui.position[w[i]]&&t.ui.position[w[i]][r](S,{targetWidth:o,targetHeight:f,elemWidth:h,elemHeight:p,collisionPosition:c,collisionWidth:x,collisionHeight:C,offset:[n[0]+T[0],n[1]+T[1]],my:e.my,at:e.at,within:v,elem:d})}),t.fn.bgiframe&&d.bgiframe(),e.using&&(u=function(t){var n=m.left-S.left,i=n+o-h,r=m.top-S.top,l=r+f-p,c={target:{element:_,left:m.left,top:m.top,width:o,height:f},element:{element:d,left:S.left,top:S.top,width:h,height:p},horizontal:i<0?"left":n>0?"right":"center",vertical:l<0?"top":r>0?"bottom":"middle"};o<h&&s(n+i)<o&&(c.horizontal="center"),f<p&&s(r+l)<f&&(c.vertical="middle"),a(s(n),s(i))>a(s(r),s(l))?c.important="horizontal":c.important="vertical",e.using.call(this,t,c)}),d.offset(t.extend(S,{using:u}))})},t.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,s=e.left-t.collisionPosition.marginLeft,l=r-s,c=s+t.collisionWidth-o-r;t.collisionWidth>o?l>0&&c<=0?(n=e.left+l+t.collisionWidth-o-r,e.left+=l-n):e.left=c>0&&l<=0?r:l>c?r+o-t.collisionWidth:r:l>0?e.left+=l:c>0?e.left-=c:e.left=a(e.left-s,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,o=t.within.height,s=e.top-t.collisionPosition.marginTop,l=r-s,c=s+t.collisionHeight-o-r;t.collisionHeight>o?l>0&&c<=0?(n=e.top+l+t.collisionHeight-o-r,e.top+=l-n):e.top=c>0&&l<=0?r:l>c?r+o-t.collisionHeight:r:l>0?e.top+=l:c>0?e.top-=c:e.top=a(e.top-s,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,o=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-a-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,f="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];u<0?((n=e.left+h+f+p+t.collisionWidth-a-o)<0||n<s(u))&&(e.left+=h+f+p):d>0&&((i=e.left-t.collisionPosition.marginLeft+h+f+p-l)>0||s(i)<d)&&(e.left+=h+f+p)},top:function(e,t){var n,i,r=t.within,o=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-a-l,h="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1];u<0?(i=e.top+h+f+p+t.collisionHeight-a-o,e.top+h+f+p>u&&(i<0||i<s(u))&&(e.top+=h+f+p)):d>0&&(n=e.top-t.collisionPosition.marginTop+h+f+p-l,e.top+h+f+p>d&&(n>0||s(n)<d)&&(e.top+=h+f+p))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,n,i,r,o,a=document.getElementsByTagName("body")[0],s=document.createElement("div");for(o in e=document.createElement(a?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"}),i)e.style[o]=i[o];e.appendChild(s),(n=a||document.documentElement).insertBefore(e,n.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",r=t(s).offset().left,t.support.offsetFractions=r>10&&r<11,e.innerHTML="",n.removeChild(e)}(),!1!==t.uiBackCompat&&function(e){var t=e.fn.position;e.fn.position=function(i){if(!i||!i.offset)return t.call(this,i);var r=i.offset.split(" "),o=i.at.split(" ");return 1===r.length&&(r[1]=r[0]),/^\d/.test(r[0])&&(r[0]="+"+r[0]),/^\d/.test(r[1])&&(r[1]="+"+r[1]),1===o.length&&(/left|center|right/.test(o[0])?o[1]="center":(o[1]=o[0],o[0]="center")),t.call(this,e.extend(i,{at:o[0]+r[0]+" "+o[1]+r[1],offset:n}))}}(e)}(e),function(e,t){var n=0;e.widget("ui.autocomplete",{version:"1.9.1",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,n,i;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,i=!0,void(n=!0);t=!1,i=!1,n=!1;var o=e.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case o.UP:t=!0,this._keyEvent("previous",r);break;case o.DOWN:t=!0,this._keyEvent("next",r);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(t)return t=!1,void i.preventDefault();if(!n){var r=e.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(e){if(i)return i=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:e(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(i){i.target!==t.element[0]&&i.target!==n&&!e.contains(n,i.target)&&t.close()})})},menufocus:function(t,n){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});var i=n.item.data("ui-autocomplete-item")||n.item.data("item.autocomplete");!1!==this._trigger("focus",t,{item:i})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value):this.liveRegion.text(i.value)},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item")||t.item.data("item.autocomplete"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),e.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this.document.find(t||"body")[0]),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return!!this.element.is("textarea")||!this.element.is("input")&&this.element.prop("isContentEditable")},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,r){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,t=++n;return function(i){t===n&&e.__response(i),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var n=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(n,t),this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,function(e,n){i._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<a>").text(n.label)).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(e),function(e,t){var n,i,r,o,a="ui-button ui-widget ui-state-default ui-corner-all",s="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},c=function(t){var n=t.name,i=t.form,r=e([]);return n&&(r=i?e(i).find("[name='"+n+"']"):e("[name='"+n+"']",t.ownerDocument).filter(function(){return!this.form})),r};e.widget("ui.button",{version:"1.9.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,s=this.options,u="checkbox"===this.type||"radio"===this.type,d="ui-state-hover"+(u?"":" ui-state-active"),h="ui-state-focus";null===s.label&&(s.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this.buttonElement.addClass(a).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){s.disabled||(e(this).addClass("ui-state-hover"),this===n&&e(this).addClass("ui-state-active"))}).bind("mouseleave"+this.eventNamespace,function(){s.disabled||e(this).removeClass(d)}).bind("click"+this.eventNamespace,function(e){s.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){t.buttonElement.addClass(h)}).bind("blur"+this.eventNamespace,function(){t.buttonElement.removeClass(h)}),u&&(this.element.bind("change"+this.eventNamespace,function(){o||t.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){s.disabled||(o=!1,i=e.pageX,r=e.pageY)}).bind("mouseup"+this.eventNamespace,function(e){s.disabled||i===e.pageX&&r===e.pageY||(o=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(s.disabled||o)return!1;e(this).toggleClass("ui-state-active"),t.buttonElement.attr("aria-pressed",t.element[0].checked)}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(s.disabled||o)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var n=t.element[0];c(n).not(n).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(s.disabled)return!1;e(this).addClass("ui-state-active"),n=this,t.document.one("mouseup",function(){n=null})}).bind("mouseup"+this.eventNamespace,function(){if(s.disabled)return!1;e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){if(s.disabled)return!1;(t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",s.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(n=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(a+" ui-state-hover ui-state-active  "+s).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){this._super(e,t),"disabled"!==e?this._resetButton():t?this.element.prop("disabled",!0):this.element.prop("disabled",!1)},refresh:function(){var t=this.element.is(":disabled")||this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?c(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var t=this.buttonElement.removeClass(s),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),i=this.options.icons,r=i.primary&&i.secondary,o=[];i.primary||i.secondary?(this.options.text&&o.push("ui-button-text-icon"+(r?"s":i.primary?"-primary":"-secondary")),i.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(o.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),e.widget("ui.buttonset",{version:"1.9.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(e),function(e,t){var n=!1;e.widget("ui.menu",{version:"1.9.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var i=e(t.target).closest(".ui-menu-item");!n&&i.not(".ui-state-disabled").length&&(n=!0,this.select(t),i.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var n=e(t.currentTarget);n.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),n=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,r,o,a,s,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,r=this.previousFilter||"",o=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),o===r?a=!0:o=r+o,s=new RegExp("^"+n(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(e(this).children("a").text())}),(i=a&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(o=String.fromCharCode(t.keyCode),s=new RegExp("^"+n(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(e(this).children("a").text())})),i.length?(this.focus(t,i),i.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n=this.options.icons.submenu,i=this.element.find(this.options.menus+":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"});(t=i.add(this.element)).children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-—–\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),i.each(function(){var t=e(this),i=t.prev("a"),r=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(r),t.attr("aria-labelledby",i.attr("id"))}),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(e,t){var n,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=t.children(".ui-menu")).length&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,r,o,a,s;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=t.height(),r<0?this.activeMenu.scrollTop(o+r):r+s>a&&this.activeMenu.scrollTop(o+r-a+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(n,i)},nextPage:function(t){var n,i,r;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(n=e(this)).offset().top-i-r<0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var n,i,r;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(n=e(this)).offset().top-i+r>0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)}})}(e),function(e,t){e.widget("ui.slider",e.ui.mouse,{version:"1.9.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var t,n,i=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(i.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),i.range&&(!0===i.range&&(i.values||(i.values=[this._valueMin(),this._valueMin()]),i.values.length&&2!==i.values.length&&(i.values=[i.values[0],i.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===i.range||"max"===i.range?" ui-slider-range-"+i.range:""))),n=i.values&&i.values.length||1,t=r.length;t<n;t++)o.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=r.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(e){e.preventDefault()}).mouseenter(function(){i.disabled||e(this).addClass("ui-state-hover")}).mouseleave(function(){e(this).removeClass("ui-state-hover")}).focus(function(){i.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)}),this._on(this.handles,{keydown:function(t){var n,i,r,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),!1===this._start(t,o)))return}switch(r=this.options.step,n=i=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:i=this._valueMin();break;case e.ui.keyCode.END:i=this._valueMax();break;case e.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/5);break;case e.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/5);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+r);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-r)}this._slide(t,o,i)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,i,r,o,a,s,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(i-c.values(t));r>n&&(r=n,o=e(this),a=t)}),!0===u.range&&this.values(1)===u.min&&(a+=1,o=e(this.handles[a])),!1!==this._start(t,a)&&(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),s=o.offset(),l=!e(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-s.left-o.width()/2,top:t.pageY-s.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,r,o;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/t)>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var i,r,o;this.options.values&&this.options.values.length?(i=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&n>i||1===t&&n<i)&&(n=i),n!==this.values(t)&&((r=this.values())[t]=n,o=this._trigger("slide",e,{handle:this.handles[t],value:n,values:r}),i=this.values(t?0:1),!1!==o&&this.values(t,n,!0))):n!==this.value()&&(!1!==(o=this._trigger("slide",e,{handle:this.handles[t],value:n}))&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var i,r,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,n){var i,r=0;switch(e.isArray(this.options.values)&&(r=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"disabled":n?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;i<r;i+=1)this._change(null,i);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,n,i,r,o,a=this.options.range,s=this.options,l=this,c=!this._animateOff&&s.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](u,s.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:s.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:s.animate}))),t=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](u,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:s.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:s.animate}))}})}(e)}).call(this,n(0))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=r.a,a=window._l||function(e){return e};function s(e,t){var n=27,i=13,s=o(e),l=!0;function c(e){o(this).parent().children("input").val("").trigger("searchInput.clear").blur(),t.onclear()}return"string"===r.a.type(t)?("toggle-loading"===t&&(s.find(".search-loading").toggle(),s.find(".search-clear").toggle()),s):("object"===r.a.type(t)&&(t=r.a.extend(!0,{},{initialVal:"",name:"search",placeholder:"search",classes:"",onclear:function(){},onfirstsearch:null,onsearch:function(e){},minSearchLen:0,escWillClear:!0,oninit:function(){}},t)),s.addClass("search-input").prepend([o(['<input type="text" name="',t.name,'" placeholder="',t.placeholder,'" ','class="search-query ',t.classes,'" ',"/>"].join("")).focus(function(e){o(this).select()}).keyup(function(e){if(e.preventDefault(),e.stopPropagation(),e.which===n&&t.escWillClear)c.call(this,e);else{var r=o(this).val();(e.which===i||t.minSearchLen&&r.length>=t.minSearchLen)&&function(e,n){if(!n)return c();o(this).trigger("search.search",n),"function"==typeof t.onfirstsearch&&l?(l=!1,t.onfirstsearch(n)):t.onsearch(n)}.call(this,e,r)}}).val(t.initialVal),o(['<span class="search-clear fa fa-times-circle" ','title="',a("clear search (esc)"),'"></span>'].join("")).tooltip({placement:"bottom"}).click(function(e){c.call(this,e)}),o(['<span class="search-loading fa fa-spinner fa-spin" ','title="',a("loading..."),'"></span>'].join("")).hide().tooltip({placement:"bottom"})]))}r.a.fn.extend({searchInput:function(e){return this.each(function(){return s(this,e)})}})},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(4);!function(e){a.a.event.props.push("dataTransfer");var t=function(t){var n=e.extend({error_default:"Please make sure the file is available.",error_server:"Upload request failed.",error_login:"Uploads require you to log in.",error_retry:"Waiting for server to resume..."},t);console.debug(n);var i=new XMLHttpRequest;i.open("POST",n.url,!0),i.setRequestHeader("Cache-Control","no-cache"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Accept","application/json"),i.onreadystatechange=function(){if(i.readyState==i.DONE)if(-1!==[502,0].indexOf(i.status)&&n.warning)n.warning(n.error_retry);else if(i.status<200||i.status>299){var e=i.statusText;403==i.status?e=n.error_login:0==i.status?e=n.error_server:e||(e=n.error_default),n.error("".concat(e," (").concat(i.status,")"))}else{var t=null;if(i.responseText)try{t=a.a.parseJSON(i.responseText)}catch(e){t=i.responseText}n.success(t)}},i.upload.addEventListener("progress",n.progress,!1),i.send(n.data)};e.uploadchunk=function(n){var i=e.extend({},{data:{},success:function(){},error:function(){},warning:function(){},progress:function(){},attempts:7e4,timeout:5e3,url:null,error_file:"File not provided.",error_attempt:"Maximum number of attempts reached.",error_tool:"Tool submission failed."},n),r=i.data;if(r.error_message)i.error(r.error_message);else{var o=r.files&&r.files[0];if(o){var a=o.file,l=i.attempts,c="".concat(i.session.id,"-").concat((new Date).valueOf(),"-").concat(a.size),u=i.session.chunk_upload_size;console.debug("Starting chunked uploads [size=".concat(u,"].")),function n(o){o=o||0;var d=a.mozSlice||a.webkitSlice||a.slice;if(d){var h=Math.min(o+u,a.size),f=a.size;console.debug("Submitting chunk at ".concat(o," bytes..."));var p=new FormData;p.append("session_id",c),p.append("session_start",o),p.append("session_chunk",d.bind(a)(o,h)),t({url:"".concat(Object(s.a)(),"api/uploads"),data:p,success:function(t){var d=o+u;d<f?(l=i.attempts,n(d)):(console.debug("Upload completed."),r.payload.inputs=JSON.parse(r.payload.inputs),r.payload.inputs["files_0|file_data"]={session_id:c,name:a.name},r.payload.inputs=JSON.stringify(r.payload.inputs),e.ajax({url:"".concat(Object(s.a)(),"api/tools"),method:"POST",data:r.payload,success:function(e){i.success(e)},error:function(e){var t=e&&e.responseJSON&&e.responseJSON.err_msg;i.error(t||i.error_tool)}}))},warning:function(e){--l>0?(console.debug("Retrying last chunk..."),i.warning(e),setTimeout(function(){return n(o)},i.timeout)):(console.debug(i.error_attempt),i.error(i.error_attempt))},error:function(e){console.debug(e),i.error(e)},progress:function(e){e.lengthComputable&&i.progress(Math.min(Math.round(100*(o+e.loaded)/a.size),100))}})}else i.error("Browser does not support chunked uploads.")}()}else i.error(i.error_file)}},e.uploadpost=function(n){var i=e.extend({},{data:{},success:function(){},error:function(){},progress:function(){},url:null,maxfilesize:2147483648,error_filesize:"File exceeds 2GB. Please use a FTP client."},n),r=i.data;if(r.error_message)i.error(r.error_message);else{var o=new FormData;for(var a in r.payload)o.append(a,r.payload[a]);var s=0;for(var l in r.files){var c=r.files[l];o.append(c.name,c.file,c.file.name),s+=c.file.size}s>i.maxfilesize?i.error(i.error_filesize):t({url:i.url,data:o,success:i.success,error:i.error,progress:function(e){e.lengthComputable&&i.progress(Math.round(100*e.loaded/e.total))}})}},e.fn.uploadinput=function(t){var n=e.extend({},{ondragover:function(){},ondragleave:function(){},onchange:function(){},multiple:!1},t),i=e('<input type="file" style="display: none" '.concat(n.multiple?"multiple":"","/>"));this.append(i.change(function(e){n.onchange(e.target.files),e.target.value=null}));var r=this.get(0);return r.addEventListener("drop",function(e){n.ondragleave(e),e.dataTransfer&&(n.onchange(e.dataTransfer.files),e.preventDefault())}),r.addEventListener("dragover",function(e){e.preventDefault(),n.ondragover(e)}),r.addEventListener("dragleave",function(e){e.stopPropagation(),n.ondragleave(e)}),{dialog:function(){i.trigger("click")}}},e.fn.uploadbox=function(t){var n=e.extend({},{dragover:function(){},dragleave:function(){},announce:function(e){},initialize:function(e){},progress:function(e,t){},success:function(e,t){},warning:function(e,t){},error:function(e,t){alert(t)},complete:function(){}},t),i={},o=null,a=0,s=0,l=!1,c=!1,u=e(this).uploadinput({multiple:!0,onchange:function(e){r.a.each(e,function(e){e.chunk_mode=!0}),d(e)},ondragover:t.ondragover,ondragleave:t.ondragleave});function d(e){if(e&&e.length&&!l){var t=void 0;return r.a.each(e,function(e,t){"new"!==e.mode&&r.a.filter(i,function(t){return t.name===e.name&&t.size===e.size}).length&&(e.duplicate=!0)}),r.a.each(e,function(e){e.duplicate||(t=String(a++),i[t]=e,n.announce(t,i[t]),s++)}),t}}function h(e){i[e]&&(delete i[e],s--)}return{select:function(){u.dialog()},add:d,remove:h,start:function(t){o=t,l||(l=!0,function t(){if(0==s||c)return c=!1,l=!1,void n.complete();l=!0;var r=-1;for(var a in i){r=a;break}var u=i[r];h(r);var d=e.uploadpost;u.chunk_mode&&o&&o.id&&o.chunk_upload_size&&o.chunk_upload_size>0&&(d=e.uploadchunk),d({url:n.url,data:n.initialize(r),session:o,success:function(e){n.success(r,e),t()},warning:function(e){n.warning(r,e)},error:function(e){n.error(r,e),t()},progress:function(e){n.progress(r,e)}})}())},stop:function(){c=!0},reset:function(e){for(e in i)h(e)},configure:function(t){return n=e.extend({},n,t)},compatible:function(){return window.File&&window.FormData&&window.XMLHttpRequest&&window.FileList}}}}(a.a)},function(e,t,n){"use strict";(function(e,i){var r=n(6),o=e.View.extend({initialize:function(t){var n=this;this.model=t&&t.model||new e.Model({id:r.a.uid(),min:null,max:null,step:null,precise:!1,split:1e4,value:null,onchange:function(){}}).set(t),this.setElement(this._template()),this.$el.attr("id",this.model.id),this.$text=this.$(".ui-form-slider-text"),this.$slider=this.$(".ui-form-slider-element");var o=[];this.$text.on("change",function(){n.value(i(this).val())}).on("keyup",function(e){o[e.which]=!1}).on("keydown",function(e){var t=e.which;o[t]=!0,n.model.get("is_workflow")&&o[16]&&52==t?(n.value("$"),event.preventDefault()):8==t||9==t||13==t||37==t||39==t||t>=48&&t<=57||t>=96&&t<=105||(190==t||110==t)&&-1==i(this).val().indexOf(".")&&n.model.get("precise")||(189==t||109==t)&&-1==i(this).val().indexOf("-")||n._isParameter(i(this).val())||o[91]||o[17]||event.preventDefault()});var a=this.model.attributes;this.has_slider=null!==a.max&&null!==a.min&&a.max>a.min;var s=a.step;s||(s=a.precise&&this.has_slider?(a.max-a.min)/a.split:1),this.has_slider&&this.$slider.slider({min:a.min,max:a.max,step:s}).on("slide",function(e,t){n.value(t.value)}),this.listenTo(this.model,"change",this.render,this),this.render()},render:function(){var e=this.model.get("value");this.has_slider?(this.$slider.slider("value",e),this.$slider.show(),this.$text.addClass("col-3 mr-3")):(this.$slider.hide(),this.$text.removeClass("col-3 mr-3")),e!==this.$text.val()&&this.$text.val(e)},value:function(e){if(void 0!==e){var t=this.model.attributes,n=e,i=null!==e&&""!==e&&!this._isParameter(e);i&&(isNaN(e)&&(e=0),t.precise||(e=Math.round(e)),null===t.max||isNaN(t.max)||(e=Math.min(e,t.max)),null===t.min||isNaN(t.min)||(e=Math.max(e,t.min))),this.model.set("value",e),this.model.trigger("change"),t.onchange(e);var r=i&&parseInt(n)!==parseInt(e)?"This value was invalid or out-of-range. It has been auto-corrected.":null;this.model.trigger("error",r)}return this.model.get("value")},_isParameter:function(e){return this.model.get("is_workflow")&&"$"===String(e).substring(0,1)},_template:function(){return'<div class="ui-form-slider container-fluid">\n                    <div class="row">\n                        <input class="ui-input ui-form-slider-text" type="text"/>\n                        <div class="ui-form-slider-element col mt-1"/>\n                    </div>\n                </div>'}});t.a={View:o}}).call(this,n(3),n(0))},function(e,t,n){"use strict";(function(e,i){var r=n(6),o=n(74),a=o.a.BaseIcons.extend({initialize:function(e){e.type=e.display||"checkbox",e.multiple="checkbox"==e.type,o.a.BaseIcons.prototype.initialize.call(this,e)},update:function(e){this.model.set("data",e.options)},_setValue:function(t){if(o.a.BaseIcons.prototype._setValue.call(this,t),void 0!==t&&null!==t&&this.header_index){var n=this,r=e.isArray(t)?t:[t];i.each(r,function(e){var t=n.header_index[e];i.each(t,function(e){n._setState(e,!0)})})}},_setState:function(e,t){var n=this.$(".button-".concat(e)),i=this.$(".subgroup-".concat(e));n.data("is_expanded",t),t?(i.show(),n.removeClass("fa-plus-square").addClass("fa-minus-square")):(i.hide(),n.removeClass("fa-minus-square").addClass("fa-plus-square"))},_templateOptions:function(){var t=this;function n(e,n){var i=e.find(".button-".concat(n));i.on("click",function(){t._setState(n,!i.data("is_expanded"))})}this.header_index={};var i=e("<div/>");return function i(o,a,s){for(var l in s=s||[],a){var c=a[l],u=c.options&&c.options.length>0,d=s.slice(0);t.header_index[c.value]=d.slice(0);var h=e("<div/>");if(u){var f=r.a.uid(),p=e("<span/>").addClass("button-".concat(f)).addClass("ui-drilldown-button fa fa-plus-square"),m=e("<div/>").addClass("subgroup-".concat(f)).addClass("ui-drilldown-subgroup");h.append(e("<div/>").append(p).append(t._templateOption({label:c.name,value:c.value}))),d.push(f),i(m,c.options,d),h.append(m),n(h,f)}else h.append(t._templateOption({label:c.name,value:c.value}));o.append(h)}}(i,this.model.get("data")),i},_template:function(){return e("<div/>").addClass("ui-options-list drilldown-container").attr("id",this.model.id)}});t.a={View:a}}).call(this,n(0),n(2))},function(e,t,n){"use strict";(function(e,i){var r=n(2),o=n.n(r),a=n(4),s=n(406),l=n(8),c=n(6),u=(n(1),{defaults:{model_class:"DatasetCollectionElement",element_identifier:null,element_index:null,element_type:null},_mergeObject:function(e){var t=e.object,n=this.elementId;return t&&(n=e.object.id,delete e.object.id),o.a.extend(e,e.object,{element_id:n}),delete e.object,e},constructor:function(t,n){t=this._mergeObject(t),this.idAttribute="element_id",e.Model.apply(this,arguments)},parse:function(e,t){var n=e;return n=this._mergeObject(n)}}),d=e.Model.extend(l.a.LoggableMixin).extend(u).extend({_logNamespace:"collections"}),h=e.Collection.extend(l.a.LoggableMixin).extend({_logNamespace:"collections",model:d,toString:function(){return["DatasetCollectionElementCollection(",this.length,")"].join("")}}),f=s.a.DatasetAssociation.extend(l.a.mixin(u,{url:function(){if(!this.has("history_id"))return console.warn("no endpoint for non-hdas within a collection yet"),"".concat(Object(a.a)(),"api/datasets");var e=this._getDatasetId(),t="".concat(Object(a.a)(),"api/histories/").concat(this.get("history_id"),"/contents/").concat(e);return t},_getDatasetId:function(){return this.get("element_id")},defaults:o.a.extend({},s.a.DatasetAssociation.prototype.defaults,u.defaults),_downloadQueryParameters:function(){var e=this.get("file_ext")||"data",t=this.get("element_identifier"),n=this.get("parent_hdca_id");return"?to_ext=".concat(e,"&hdca_id=").concat(n,"&element_identifier=").concat(t)},constructor:function(e,t){this.debug("\t DatasetDCE.constructor:",e,t),u.constructor.call(this,e,t)},hasDetails:function(){return this.elements&&this.elements.length},toString:function(){this.get("element_identifier");return"DatasetDCE({objStr})"}})),p=h.extend({model:f,toString:function(){return["DatasetDCECollection(",this.length,")"].join("")}}),m=e.Model.extend(l.a.LoggableMixin).extend(l.a.SearchableModelMixin).extend({_logNamespace:"collections",defaults:{collection_type:null,deleted:!1},collectionClass:function(){return this.attributes.collection_type.indexOf(":")>0?_:p},initialize:function(e,t){this.debug("".concat(this,"(DatasetCollection).initialize:"),e,t,this),this.elements=this._createElementsModel(),this.on("change:elements",function(){this.log("change:elements"),this.elements=this._createElementsModel()})},_createElementsModel:function(){var e=this.collectionClass();this.debug("".concat(this,"._createElementsModel"),e,this.get("elements"),this.elements);var t=this.get("elements")||[];this.unset("elements",{silent:!0});var n=this.get("parent_hdca_id")||this.get("id");return o.a.each(t,function(e,t){o.a.extend(e,{parent_hdca_id:n})}),this.elements=new e(t),this.elements},toJSON:function(){var t=e.Model.prototype.toJSON.call(this);return this.elements&&(t.elements=this.elements.toJSON()),t},inReadyState:function(){var e=this.get("populated");return this.isDeletedOrPurged()||e},hasDetails:function(){return 0!==this.elements.length},getVisibleContents:function(e){return this.elements},parse:function(t,n){var i=e.Model.prototype.parse.call(this,t,n);return i.create_time&&(i.create_time=new Date(i.create_time)),i.update_time&&(i.update_time=new Date(i.update_time)),i},delete:function(e,t,n){return e=e||!1,t=t||!1,this.get("deleted")?i.when():(n=c.a.merge(n,{method:"delete"}),this.save({deleted:!0,recursive:e,purge:t},n))},undelete:function(e){return this.get("deleted")?this.save({deleted:!1},e):i.when()},isDeletedOrPurged:function(){return this.get("deleted")||this.get("purged")},searchAttributes:["name","tags"],toString:function(){var e=[this.get("id"),this.get("name")||this.get("element_identifier")];return"DatasetCollection(".concat(e.join(","),")")}}),g=m.extend(l.a.mixin(u,{constructor:function(e,t){this.debug("\t NestedDCDCE.constructor:",e,t),u.constructor.call(this,e,t)},toString:function(){return["NestedDCDCE(",this.object?"".concat(this.object):this.get("element_identifier"),")"].join("")}})),_=h.extend({model:g,toString:function(){return["NestedDCDCECollection(",this.length,")"].join("")}});t.a={DatasetCollection:m}}).call(this,n(3),n(0))},function(e,t,n){"use strict";(function(e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){e=e||{};return this.userId=window.bootstrapped&&window.bootstrapped.user?window.bootstrapped.user.id:null,this.userId=this.userId||e.userId||null,this.consoleLogger=e.consoleLogger||null,this._init(e),this}function r(e){var t=String(e);return"[object Object]"==t&&(t=JSON.stringify(e)),t}function o(e){return this._init(e||{})}i.ALL=0,i.LOG=0,i.DEBUG=10,i.INFO=20,i.WARN=30,i.ERROR=40,i.METRIC=50,i.NONE=100,i.defaultOptions={logLevel:i.NONE,consoleLevel:i.NONE,defaultNamespace:"Galaxy",consoleNamespaceWhitelist:null,consoleFlattenMessages:!1,clientPrefix:"client.",maxCacheSize:3e3,postSize:1e3,addTime:!0,cacheKeyPrefix:"logs-",postUrl:"/api/metrics",delayPostInMs:6e5,getPingData:void 0,onServerResponse:void 0},i.prototype._init=function(e){for(var t in this.options={},i.defaultOptions)i.defaultOptions.hasOwnProperty(t)&&(this.options[t]=e.hasOwnProperty(t)?e[t]:i.defaultOptions[t]);return this.options.logLevel=this._parseLevel(this.options.logLevel),this.options.consoleLevel=this._parseLevel(this.options.consoleLevel),this._sending=!1,this._waiting=null,this._postSize=this.options.postSize,this._initCache(),this},i.prototype._initCache=function(){try{this.cache=new o({maxSize:this.options.maxCacheSize,key:this.options.cacheKeyPrefix+this.userId})}catch(e){this._emitToConsole("warn","MetricsLogger",["Could not intitialize logging cache:",e]),this.options.logLevel=i.NONE}},i.prototype._parseLevel=function(e){var t=n(e);if("number"===t)return e;if("string"===t){var r=e.toUpperCase();if(i.hasOwnProperty(r))return i[r]}throw new Error("Unknown log level: ".concat(e))},i.prototype.emit=function(e,t,n){return t=t||this.options.defaultNamespace,e&&n?((e=this._parseLevel(e))>=this.options.logLevel&&this._addToCache(e,t,n),this.consoleLogger&&e>=this.options.consoleLevel&&this._emitToConsole(e,t,n),this):this},i.prototype._addToCache=function(e,t,n){this._emitToConsole("debug","MetricsLogger",["_addToCache:",arguments,this.options.addTime,this.cache.length()]);try{this.cache.add(this._buildEntry(e,t,n))>=this._postSize&&this._postCache()}catch(e){this._emitToConsole("warn","MetricsLogger",["Metrics logger could not stringify logArguments:",t,n]),this._emitToConsole("error","MetricsLogger",[e])}return this},i.prototype._buildEntry=function(e,t,n){this._emitToConsole("debug","MetricsLogger",["_buildEntry:",arguments]);var i={level:e,namespace:this.options.clientPrefix+t,args:n};return this.options.addTime&&(i.time=(new Date).toISOString()),i},i.prototype._postCache=function(t){if(t=t||{},this._emitToConsole("info","MetricsLogger",["_postCache",t,this._postSize]),!this.options.postUrl||this._sending)return e.when({});var n=this,i=t.count||n._postSize,r=n.cache.get(i),o=r.length,a="function"==typeof n.options.getPingData?n.options.getPingData():{};return a.metrics=JSON.stringify(r),n._sending=!0,e.post(n.options.postUrl,a).always(function(){n._sending=!1}).fail(function(e,t,i){n._postSize=n.options.maxCacheSize,n.emit("error","MetricsLogger",["_postCache error:",e.readyState,e.status,e.responseJSON||e.responseText])}).done(function(e){"function"==typeof n.options.onServerResponse&&n.options.onServerResponse(e),n.cache.remove(o),n._postSize=n.options.postSize})},i.prototype._delayPost=function(){var e=this;e._waiting=setTimeout(function(){e._waiting=null},e.options.delayPostInMs)},i.prototype._emitToConsole=function(e,t,n){var o=this.options.consoleNamespaceWhitelist;if(!this.consoleLogger)return this;if(o&&-1===o.indexOf(t))return this;var a=Array.prototype.slice.call(n,0);return a.unshift(t),this.options.consoleFlattenMessages&&(a=[a.map(r).join(" ")]),e>=i.METRIC&&"function"==typeof this.consoleLogger.info?this.consoleLogger.info.apply(this.consoleLogger,a):e>=i.ERROR&&"function"==typeof this.consoleLogger.error?this.consoleLogger.error.apply(this.consoleLogger,a):(e>=i.WARN&&"function"==typeof this.consoleLogger.warn?this.consoleLogger.warn.apply(this.consoleLogger,a):e>=i.INFO&&"function"==typeof this.consoleLogger.info?this.consoleLogger.info.apply(this.consoleLogger,a):e>=i.DEBUG&&"function"==typeof this.consoleLogger.debug?this.consoleLogger.debug.apply(this.consoleLogger,a):"function"==typeof this.consoleLogger.log&&this.consoleLogger.log.apply(this.consoleLogger,a),this)},i.prototype.log=function(){this.emit(1,this.options.defaultNamespace,Array.prototype.slice.call(arguments,0))},i.prototype.debug=function(){this.emit(i.DEBUG,this.options.defaultNamespace,Array.prototype.slice.call(arguments,0))},i.prototype.info=function(){this.emit(i.INFO,this.options.defaultNamespace,Array.prototype.slice.call(arguments,0))},i.prototype.warn=function(){this.emit(i.WARN,this.options.defaultNamespace,Array.prototype.slice.call(arguments,0))},i.prototype.error=function(){this.emit(i.ERROR,this.options.defaultNamespace,Array.prototype.slice.call(arguments,0))},i.prototype.metric=function(){this.emit(i.METRIC,this.options.defaultNamespace,Array.prototype.slice.call(arguments,0))},o.defaultOptions={maxSize:5e3},o.prototype._init=function(e){if(!this._hasStorage())throw new Error("LoggingCache needs localStorage");if(!e.key)throw new Error("LoggingCache needs key for localStorage");return this.key=e.key,this._initStorage(),this.maxSize=e.maxSize||o.defaultOptions.maxSize,this},o.prototype._hasStorage=function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}},o.prototype._initStorage=function(){return null===localStorage.getItem(this.key)?this.empty():this},o.prototype.add=function(e){var t=this._fetchAndParse(),n=t.length+1-this.maxSize;return n>0&&t.splice(0,n),t.push(e),this._unparseAndStore(t),t.length},o.prototype._fetchAndParse=function(){return JSON.parse(localStorage.getItem(this.key))},o.prototype._unparseAndStore=function(e){return localStorage.setItem(this.key,JSON.stringify(e))},o.prototype.length=function(){return this._fetchAndParse().length},o.prototype.get=function(e){return this._fetchAndParse().slice(0,e)},o.prototype.remove=function(e){var t=this._fetchAndParse(),n=t.splice(0,e);return this._unparseAndStore(t),n},o.prototype.empty=function(){return localStorage.setItem(this.key,"[]"),this},o.prototype.stringify=function(e){return JSON.stringify(this.get(e))},o.prototype.print=function(){console.log(JSON.stringify(this._fetchAndParse(),null,"  "))},t.a={MetricsLogger:i,LoggingCache:o}}).call(this,n(0))},function(e,t,n){"use strict";(function(e,n,i){t.a=e.View.extend({initialize:function(t,n){var i=this;this.app=t,this.app_options=t.model?t.model.attributes:{},this.field=n&&n.field||new e.View,this.model=n&&n.model||new e.Model({text_enable:this.app_options.text_enable||"Enable",text_disable:this.app_options.text_disable||"Disable",text_connected_enable:this.app_options.text_connected_enable||"Add connection to module",text_connected_disable:this.app_options.text_connected_disable||"Remove connection from module",cls_enable:this.app_options.cls_enable||"fa fa-caret-square-o-down",cls_disable:this.app_options.cls_disable||"fa fa-caret-square-o-up",always_refresh:this.app_options.always_refresh}).set(n),this.setElement(this._template()),this.$field=this.$(".ui-form-field"),this.$info=this.$(".ui-form-info"),this.$preview=this.$(".ui-form-preview"),this.$collapsible=this.$(".ui-form-collapsible"),this.$collapsible_text=this.$(".ui-form-collapsible-text"),this.$collapsible_icon=this.$(".ui-form-collapsible-icon"),this.$connected_icon=this.$(".ui-form-connected-icon"),this.$title=this.$(".ui-form-title"),this.$title_text=this.$(".ui-form-title-text"),this.$error_text=this.$(".ui-form-error-text"),this.$error=this.$(".ui-form-error"),this.$backdrop=this.$(".ui-form-backdrop"),this.$field.prepend(this.field.$el);var r=this.model.get("collapsible_value"),o=JSON.stringify(this.model.get("value"));this.field.connected=o==JSON.stringify({__class__:"ConnectedValue"}),this.field.collapsed=this.field.connected||void 0!==r&&JSON.stringify(this.model.get("value"))==JSON.stringify(r),this.listenTo(this.model,"change",this.render,this),this.render();var a=this;this.$collapsible_icon.on("click",function(){a.field.collapsed=!a.field.collapsed,a.field.connected=!1,t.trigger&&t.trigger("change"),a.render()}),this.$connected_icon.on("click",function(){a.field.connected=!a.field.connected,a.field.collapsed=a.field.connected,t.trigger&&t.trigger("change"),a.render()}),this.field.model&&!this.model.get("always_refresh")&&this.listenTo(this.field.model,"change:value",function(){a.reset()}),this.field.model&&this.listenTo(this.field.model,"error",function(e){e?i.error(e):i.reset()})},backdrop:function(){this.model.set("backdrop",!0)},error:function(e){this.model.set("error_text",e)},reset:function(){!this.model.get("fixed")&&this.model.set("error_text",null)},render:function(){n(".tooltip").hide();var e=this.model.get("help",""),t=this.model.get("argument");t&&-1==e.indexOf("(".concat(t,")"))&&(e+=" (".concat(t,")")),this.$info.html(e),this.$el[this.model.get("hidden")?"hide":"show"]();var r=i.escape(this.model.get("text_value")).replace(/\n/g,"<br />");this.$preview[this.field.collapsed&&this.model.get("collapsible_preview")||this.model.get("disabled")?"show":"hide"]().html(r);var o=this.model.get("error_text");this.$error[o?"show":"hide"](),this.$el[o?"addClass":"removeClass"]("alert alert-danger"),this.$error_text.html(o),this.$backdrop[this.model.get("backdrop")?"show":"hide"](),this.field.collapsed||this.model.get("disabled")?this.$field.hide():this.$field.show(),this.field.model&&this.field.model.set({color:this.model.get("color"),style:this.model.get("style")});var a=this.field.connected,s=!this.field.collapsible_disabled&&!this.model.get("disabled")&&void 0!==this.model.get("collapsible_value"),l=s&&this.model.get("connectable");if(s||l){var c=this.field.collapsed?"enable":"disable";if(this.$title_text.hide(),this.$collapsible.show(),this.$collapsible_text.text(this.model.get("label")),s&&!a?this.$collapsible_icon.removeClass().addClass("icon ui-form-collapsible-icon").addClass(this.model.get("cls_".concat(c))).tooltip("dispose").attr("data-original-title",this.model.get("text_".concat(c))).tooltip({placement:"bottom"}).show():this.$collapsible_icon.hide(),l){var u=this.field.connected?"fa fa-times":"fa fa-arrows-h",d=!a&&s?"ml-1":"",h=this.field.connected?"disable":"enable";this.$connected_icon.removeClass().addClass("icon ui-form-connected-icon").addClass(u).addClass(d).tooltip("dispose").attr("data-original-title",this.model.get("text_connected_".concat(h))).tooltip({placement:"bottom"}).show()}else this.$connected_icon.hide()}else this.$title_text.show().text(this.model.get("label")),this.$collapsible.hide()},_template:function(){return n("<div/>").addClass("ui-form-element").append(n("<div/>").addClass("ui-form-error").append(n("<span/>").addClass("fa fa-arrow-down mr-1")).append(n("<span/>").addClass("ui-form-error-text"))).append(n("<div/>").addClass("ui-form-title").append(n("<div/>").addClass("ui-form-collapsible").append(n("<i/>").addClass("ui-form-collapsible-icon")).append(n("<i/>").addClass("ui-form-connected-icon")).append(n("<span/>").addClass("ui-form-collapsible-text ml-1"))).append(n("<span/>").addClass("ui-form-title-text"))).append(n("<div/>").addClass("ui-form-field").append(n("<span/>").addClass("ui-form-info form-text text-muted mt-2")).append(n("<div/>").addClass("ui-form-backdrop"))).append(n("<div/>").addClass("ui-form-preview"))}})}).call(this,n(3),n(0),n(2))},function(e,t){e.exports=function(e,t){e=String(e||"").trim(),t=void 0==t?[]:t;var n=0;e=function(e,t){for(var n,i=0,r=!1,o=0;o<e.length;o++){var a=e[o];if(r)r=!1;else switch(a){case"(":0===i&&(n=o),i++;break;case")":if(i>0&&0===--i){var s=o+1,l=0===n?"":e.substring(0,n),c=e.substring(s),u=String(t(e.substring(n,s)));e=l+u+c,o=n}break;case"\\":r=!0}}return e}(e,function(e){if(/^\(\?P[<]/.test(e)){var i=/^\(\?P[<]([^>]+)[>]([^\)]+)\)$/.exec(e);return t&&(t[n]=i[1]),n++,"("+i[2]+")"}return"(?:"===e.substring(0,3)?e:(n++,e)});var i=new RegExp(e);return i.pyreReplace=function(e,n){var i=function(e,t){for(var n="",i=0,r=e.length;i<r;){var o=e[i];if("\\"==o&&i!=r-1){var a=e[i+1];if("\\"==a)n+="\\",i+=2;else if("g"==a&&i<r-3){for(var s=null,l=i+3;l<r;l++)if(">"==e[l]){s=l;break}if("<"==e[i+2]&&s){var c=e.substring(i+3,s);if(isNaN(c))for(var u=0;u<t.length;u++)if(c==t[u]){c=u+1;break}n+="$"+c,i=s+1}else{if("<"==e[i+2])throw Error("No close for regular expression replacement group \\g<");n+=o,i++}}else"0"==a?(n+="$&",i+=2):isNaN(a)?(n+=o,i++):(n+="$"+a,i+=2)}else"$"==o&&i!=e.length-1?(n+="$$",i++):(n+=o,i++)}return n}(n,t);return e.replace(this,i)},i}},function(e,t,n){"use strict";(function(e){var i=n(33),r=n.n(i),o=n(3),a=n.n(o),s=n(5),l=n(7),c=n.n(l),u=n(19),d=n(586),h=a.a.View.extend({el:"#libraries_element",events:{"click .sort-libraries-link":"sort_clicked"},defaults:{page_count:null,show_page:null,all_fetched:!1},initialize:function(e){this.options=r.a.defaults(this.options||{},e,this.defaults);var t=this;this.modal=null,this.collection=new u.a.Libraries,this.collection.url="".concat(this.collection.urlRoot,"?deleted=false"),this.collection.fetch({success:function(){t.render()},error:function(e,t){void 0!==t.responseJSON?c.a.error(t.responseJSON.err_msg):c.a.error("An error occurred.")}})},render:function(t){var n=Object(s.getGalaxyInstance)();this.options=r.a.extend(this.options,t),this.setElement("#libraries_element");var i=this.templateLibraryList(),o=null,a=null,l=function(e){return!0===e.get("public")};if(e(".tooltip").hide(),void 0!==t&&(a=void 0!==t.models?t.models:null),null!==this.collection&&null===a)this.sortLibraries(),o=n.libraries.preferences.get("with_deleted")?this.collection.models:this.collection.where({deleted:!1}),n.libraries.preferences.get("without_restricted")&&(o=r.a.filter(o,l));else if(null!==a){if(n.libraries.preferences.get("with_deleted"))o=a;else{o=r.a.filter(a,function(e){return!1===e.get("deleted")})}n.libraries.preferences.get("without_restricted")&&(o=r.a.filter(o,l))}else o=[];(null===this.options.show_page||this.options.show_page<1)&&(this.options.show_page=1),this.options.total_libraries_count=o.length;var c=n.libraries.preferences.get("library_page_size")*(this.options.show_page-1);this.options.page_count=Math.ceil(this.options.total_libraries_count/n.libraries.preferences.get("library_page_size")),this.options.total_libraries_count>0&&c<this.options.total_libraries_count?(o=o.slice(c,c+n.libraries.preferences.get("library_page_size")),this.options.libraries_shown=o.length,n.libraries.preferences.get("library_page_size")*this.options.show_page>this.options.total_libraries_count+n.libraries.preferences.get("library_page_size")&&(o=[]),this.$el.html(i({length:1,order:n.libraries.preferences.get("sort_order"),search_term:n.libraries.libraryToolbarView.options.search_term})),n.libraries.libraryToolbarView.renderPaginator(this.options),this.renderRows(o)):(this.$el.html(i({length:0,order:n.libraries.preferences.get("sort_order"),search_term:n.libraries.libraryToolbarView.options.search_term})),n.libraries.libraryToolbarView.renderPaginator(this.options)),e('#center [data-toggle="tooltip"]').tooltip({trigger:"hover"}),e("#center").css("overflow","auto")},fetchDeleted:function(){if(this.options.all_fetched)this.render();else{var e=this;this.collection.url="".concat(this.collection.urlRoot,"?deleted=true"),this.collection.fetch({remove:!1,success:function(){e.options.all_fetched=!0,e.render()},error:function(e,t){void 0!==t.responseJSON?c.a.error(t.responseJSON.err_msg):c.a.error("An error occurred.")}})}},renderRows:function(e){for(var t=0;t<e.length;t++){var n=e[t];this.renderOne({library:n})}},renderOne:function(e){var t=e.library,n=new d.a.LibraryRowView(t);this.$el.find("#library_list_body").append(n.el)},sort_clicked:function(){var e=Object(s.getGalaxyInstance)();"asc"===e.libraries.preferences.get("sort_order")?e.libraries.preferences.set({sort_order:"desc"}):e.libraries.preferences.set({sort_order:"asc"}),this.render()},sortLibraries:function(){var e=Object(s.getGalaxyInstance)();"name"===e.libraries.preferences.get("sort_by")&&("asc"===e.libraries.preferences.get("sort_order")?this.collection.sortLibraries("name","asc"):"desc"===e.libraries.preferences.get("sort_order")&&this.collection.sortLibraries("name","desc"))},searchLibraries:function(t){if(""!==e.trim(t)){var n;n=this.collection.search(t),this.options.searching=!0,this.render({models:n,show_page:1})}else this.options.searching=!1,this.render()},templateLibraryList:function(){return r.a.template(['<div class="library_container table-responsive">',"<% if(length === 0) { %>","<% if(search_term.length > 0) { %>","<div>","There are no libraries matching your search. Try different keyword.","</div>","<% } else{ %>","<div>","There are no libraries visible to you here. If you expected some to show up please consult the",' <a href="https://galaxyproject.org/data-libraries/#permissions" target="_blank">library security wikipage</a>',' or visit the <a href="https://biostar.usegalaxy.org/" target="_blank">Galaxy support site</a>.',"</div>","<% }%>","<% } else{ %>",'<table class="grid table table-sm">',"<thead>",'<th style="width:30%;">','<a class="sort-libraries-link" title="Click to reverse order" href="#">',"name","</a>",'<span title="Sorted alphabetically" class="fa fa-sort-alpha-<%- order %>"/>',"</th>",'<th style="width:22%;">description</th>','<th style="width:22%;">synopsis</th> ','<th style="width:26%;"></th>',"</thead>",'<tbody id="library_list_body">',"</tbody>","</table>","<% }%>","</div>"].join(""))}});t.a={LibraryListView:h}}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var i=n(2),r=n.n(i),o=n(3),a=n.n(o),s=n(1),l=n.n(s),c=n(7),u=n.n(c),d=n(19),h=n(5),f=a.a.View.extend({el:"#center",defaults:{search_term:""},events:{"click #create_new_library_btn":"createLibraryFromModal","click #include_deleted_chk":"includeDeletedChecked","click #exclude_restricted_chk":"excludeRestrictedChecked","click .page_size_prompt":"showPageSizePrompt","keyup .library-search-input":"searchLibraries"},initialize:function(e){this.options=r.a.defaults(this.options||{},e,this.defaults),this.render()},render:function(){var e=Object(h.getGalaxyInstance)(),t=this.templateToolBar(),n=!1,i=!0;e.user&&(n=e.user.isAdmin(),i=e.user.isAnonymous()),this.$el.html(t({admin_user:n,anon_user:i})),n&&(this.$el.find("#include_deleted_chk")[0].checked=e.libraries.preferences.get("with_deleted"),this.$el.find("#exclude_restricted_chk")[0].checked=e.libraries.preferences.get("without_restricted"))},renderPaginator:function(e){var t=Object(h.getGalaxyInstance)();this.options=r.a.extend(this.options,e);var n=this.templatePaginator();this.$el.find(".library-paginator").html(n({show_page:parseInt(this.options.show_page),page_count:parseInt(this.options.page_count),total_libraries_count:this.options.total_libraries_count,libraries_shown:this.options.libraries_shown,library_page_size:t.libraries.preferences.get("library_page_size")}))},createLibraryFromModal:function(e){e.preventDefault(),e.stopPropagation();var t=Object(h.getGalaxyInstance)(),n=this;this.modal=t.modal,this.modal.show({closing_events:!0,title:l()("Create New Library"),body:this.templateNewLibraryInModal(),buttons:{Create:function(){n.createNewLibrary()},Close:function(){n.modal.hide()}}})},createNewLibrary:function(){var e=Object(h.getGalaxyInstance)(),t=this.serializeNewLibrary();if(this.validateNewLibrary(t)){var n=this;(new d.a.Library).save(t,{success:function(t){e.libraries.libraryListView.collection.add(t),n.modal.hide(),n.clearLibraryModal(),e.libraries.libraryListView.render(),u.a.success("Library created.")},error:function(e,t){void 0!==t.responseJSON?u.a.error(t.responseJSON.err_msg):u.a.error("An error occured.")}})}else u.a.error("Library's name is missing.");return!1},showPageSizePrompt:function(e){e.preventDefault();var t=Object(h.getGalaxyInstance)(),n=prompt("How many libraries per page do you want to see?",t.libraries.preferences.get("library_page_size"));null!=n&&n==parseInt(n)&&(t.libraries.preferences.set({library_page_size:parseInt(n)}),t.libraries.libraryListView.render({show_page:1}))},clearLibraryModal:function(){e("input[name='Name']").val(""),e("input[name='Description']").val(""),e("input[name='Synopsis']").val("")},serializeNewLibrary:function(){return{name:e("input[name='Name']").val(),description:e("input[name='Description']").val(),synopsis:e("input[name='Synopsis']").val()}},validateNewLibrary:function(e){return""!==e.name},includeDeletedChecked:function(e){var t=Object(h.getGalaxyInstance)();e.target.checked?(t.libraries.preferences.set({with_deleted:!0}),t.libraries.libraryListView.fetchDeleted()):(t.libraries.preferences.set({with_deleted:!1}),t.libraries.libraryListView.render())},excludeRestrictedChecked:function(e){var t=Object(h.getGalaxyInstance)();e.target.checked?t.libraries.preferences.set({without_restricted:!0}):t.libraries.preferences.set({without_restricted:!1}),t.libraries.libraryListView.render()},searchLibraries:function(t){var n=Object(h.getGalaxyInstance)(),i=e(".library-search-input").val();this.options.search_term=i,n.libraries.libraryListView.searchLibraries(i)},templateToolBar:function(){return r.a.template(['<div class="library_style_container">','<div class="d-flex align-items-center mb-2">','<a class="mr-1" href="#" data-toggle="tooltip" data-placement="top" title="Go to first page">DATA LIBRARIES</a>','<div class="d-flex align-items-center library-paginator mr-1" />','<form class="form-inline mr-1">','<input type="text" class="form-control library-search-input mr-1" placeholder="Great Library" size="15">',"<% if(admin_user === true) { %>",'<div class="form-check mr-1">','<input class="form-check-input" id="include_deleted_chk" type="checkbox">','<label class="form-check-label" for="include_deleted_chk">include deleted</label>',"</div>",'<div class="form-check mr-1">','<input class="form-check-input" id="exclude_restricted_chk" type="checkbox">','<label class="form-check-label" for="exclude_restricted_chk">exclude restricted</label>',"</div>",'<button data-toggle="tooltip" data-placement="top" title="Create new library" id="create_new_library_btn" class="btn btn-secondary" type="button"><span class="fa fa-plus"></span> New Library</button>',"<% } %>","</form>",'<a class="library-help-button" data-toggle="tooltip" data-placement="top" title="See this screen annotated" href="https://galaxyproject.org/data-libraries/screen/list-of-libraries/" target="_blank">','<button class="btn btn-secondary" type="button"><span class="fa fa-question-circle"></span> Help</button>',"</a>","</div>",'<div id="libraries_element" />',"</div>"].join(""))},templatePaginator:function(){return r.a.template(['<ul class="pagination mr-1">',"<% if ( ( show_page - 1 ) > 0 ) { %>","<% if ( ( show_page - 1 ) > page_count ) { %>",'<li class="page-item"><a class="page-link" href="#page/1"><span class="fa fa-angle-double-left"></span></a></li>','<li class="page-item disabled"><a class="page-link" href="#page/<% print( show_page ) %>"><% print( show_page - 1 ) %></a></li>',"<% } else { %>",'<li class="page-item"><a class="page-link" href="#page/1"><span class="fa fa-angle-double-left"></span></a></li>','<li class="page-item"><a class="page-link" href="#page/<% print( show_page - 1 ) %>"><% print( show_page - 1 ) %></a></li>',"<% } %>","<% } else { %>",'<li class="page-item disabled"><a class="page-link" href="#page/1"><span class="fa fa-angle-double-left"></span></a></li>','<li class="page-item disabled"><a class="page-link" href="#page/<% print( show_page ) %>"><% print( show_page - 1 ) %></a></li>',"<% } %>",'<li class="page-item active">','<a class="page-link" href="#page/<% print( show_page ) %>"><% print( show_page ) %></a>',"</li>","<% if ( ( show_page ) < page_count ) { %>",'<li class="page-item"><a class="page-link" href="#page/<% print( show_page + 1 ) %>"><% print( show_page + 1 ) %></a></li>','<li class="page-item"><a class="page-link" href="#page/<% print( page_count ) %>"><span class="fa fa-angle-double-right"></span></a></li>',"<% } else { %>",'<li class="page-item disabled"><a class="page-link" href="#page/<% print( show_page  ) %>"><% print( show_page + 1 ) %></a></li>','<li class="page-item disabled"><a class="page-link" href="#page/<% print( page_count ) %>"><span class="fa fa-angle-double-right"></span></a></li>',"<% } %>","</ul>",'<span class="mr-1">',' <%- libraries_shown %> libraries shown <a href="" data-toggle="tooltip" data-placement="top" title="currently <%- library_page_size %> per page" class="page_size_prompt">(change)</a>',"</span>",'<span class="mr-1">'," <%- total_libraries_count %> total","</span>"].join(""))},templateNewLibraryInModal:function(){return r.a.template(['<div id="new_library_modal">',"<form>",'<input type="text" name="Name" value="" placeholder="Name" autofocus>','<input type="text" name="Description" value="" placeholder="Description">','<input type="text" name="Synopsis" value="" placeholder="Synopsis">',"</form>","</div>"].join(""))}});t.a={LibraryToolbarView:f}}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var n,i=function(t){this.$overlay=t.overlay,this.$dialog=t.dialog,this.$header=this.$dialog.find(".modal-header"),this.$body=this.$dialog.find(".modal-body"),this.$footer=this.$dialog.find(".modal-footer"),this.$backdrop=t.backdrop,this.$header.find(".close").on("click",e.proxy(this.hide,this))};function r(){n.hide()}e.extend(i.prototype,{setContent:function(t){this.$header.hide(),t.title&&(this.$header.find(".title").html(t.title),this.$header.show()),t.closeButton?(this.$header.find(".close").show(),this.$header.show()):this.$header.find(".close").hide(),this.$footer.hide();var n=this.$footer.find(".buttons").html("");t.buttons&&(e.each(t.buttons,function(t,i){n.append(e("<button></button> ").text(t).click(i)).append(" ")}),this.$footer.show());var i=this.$footer.find(".extra_buttons").html("");t.extra_buttons&&(e.each(t.extra_buttons,function(t,n){i.append(e("<button></button>").text(t).click(n)).append(" ")}),this.$footer.show());var r=t.body;"progress"==r&&(r=e("<div class='progress progress-striped active'><div class='progress-bar' style='width: 100%'></div></div>")),this.$body.html(r)},show:function(t,n){t.backdrop?this.$backdrop.addClass("in"):this.$backdrop.removeClass("in"),this.$overlay.show(),this.$dialog.show(),this.$overlay.addClass("in"),this.$body.css("min-width",this.$body.width()),this.$body.css("max-height",e(window).height()/1.5),n&&n()},hide:function(){var e=this;e.$dialog.fadeOut(function(){e.$overlay.hide(),e.$backdrop.removeClass("in"),e.$body.children().remove(),e.$body.css("min-width",void 0)})}}),e(function(){n=new i({overlay:e("#top-modal"),dialog:e("#top-modal-dialog"),backdrop:e("#top-modal-backdrop")})}),t.a={Modal:i,hide_modal:r,show_modal:function(e,t,i,r,o){n.setContent({title:e,body:t,buttons:i,extra_buttons:r}),n.show({backdrop:!0},o)},show_message:function(e,t,i,r,o){n.setContent({title:e,body:t,buttons:i,extra_buttons:r}),n.show({backdrop:!1},o)},show_in_overlay:function(t){var i=t.width||"600",o=t.height||"400",a=t.scroll||"auto";e("#overlay-background").bind("click.overlay",function(){r(),e("#overlay-background").unbind("click.overlay")}),n.setContent({closeButton:!0,title:"&nbsp;",body:e("<div style='margin: -5px;'><iframe style='margin: 0; padding: 0;' src='".concat(t.url,"' width='").concat(i,"' height='").concat(o,"' scrolling='").concat(a,"' frameborder='0'></iframe></div>"))}),n.show({backdrop:!0})}}}).call(this,n(0))},function(e,t,n){"use strict";var i=new RegExp("%[a-f0-9]{2}","gi"),r=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],o(n),o(i))}function a(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(i),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(i);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=r.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var i=a(n[0]);i!==n[0]&&(t[n[0]]=i)}n=r.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),s=0;s<o.length;s++){var l=o[s];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(4),l=n(5),c=n(370),u=n(8),d=n(1),h=n.n(d),f=u.a.SessionStorageModel.extend({defaults:{tagsEditorShown:!1,annotationEditorShown:!1,scrollPosition:0},toString:function(){return"HistoryViewPrefs(".concat(JSON.stringify(this.toJSON()),")")}});f.storageKey=function(){return"history-panel"};var p=c.a.HistoryViewEdit,m=p.extend({className:"".concat(p.prototype.className," current-history-panel"),HDCAViewClass:p.prototype.HDCAViewClass.extend({foldoutStyle:"drilldown"}),emptyMsg:[h()("This history is empty"),". ",h()("You can "),'<a class="uploader-link" href="javascript:void(0)">',h()("load your own data"),"</a>",h()(" or "),'<a class="get-data-link" href="javascript:void(0)">',h()("get data from an external source"),"</a>"].join(""),initialize:function(e){e=e||{},this.preferences=new f(r.a.extend({id:f.storageKey()},r.a.pick(e,r.a.keys(f.prototype.defaults)))),p.prototype.initialize.call(this,e),this.panelStack=[],this.currentContentId=e.currentContentId||null},_setUpListeners:function(){p.prototype._setUpListeners.call(this);var e=this;this.on("new-model",function(){e.preferences.set("scrollPosition",0)})},loadCurrentHistory:function(){return this.loadHistory(null,{url:"".concat(Object(s.a)(),"history/current_history_json")})},switchToHistory:function(e,t){return Object(l.getGalaxyInstance)().user.isAnonymous()?(this.trigger("error",h()("You must be logged in to switch histories"),h()("Anonymous user")),a.a.when()):this.loadHistory(e,{url:"".concat(Object(s.a)(),"history/set_as_current?id=").concat(e)})},createNewHistory:function(e){return Object(l.getGalaxyInstance)().user.isAnonymous()?(this.trigger("error",h()("You must be logged in to create histories"),h()("Anonymous user")),a.a.when()):this.loadHistory(null,{url:"".concat(Object(s.a)(),"history/create_new_current")})},setModel:function(e,t,n){return p.prototype.setModel.call(this,e,t,n),this.model&&this.model.id&&(this.log("checking for updates"),this.model.checkForUpdates()),this},_setUpModelListeners:function(){return p.prototype._setUpModelListeners.call(this),this.listenTo(this.model,{"change:nice_size change:size":function(){this.trigger("history-size-change",this,this.model,arguments)},"change:id":function(){this.once("loading-done",function(){this.model.checkForUpdates()})}})},_setUpCollectionListeners:function(){p.prototype._setUpCollectionListeners.call(this),this.listenTo(this.collection,"state:ready",function(e,t,n){e.get("visible")||this.collection.storage.includeHidden()||this.removeItemView(e)})},_setUpBehaviors:function(e){e=e||this.$el;var t=this;return p.prototype._setUpBehaviors.call(t,e),this._debouncedScrollCaptureHandler||(this._debouncedScrollCaptureHandler=r.a.debounce(function(){t.$el.is(":visible")&&t.preferences.set("scrollPosition",a()(this).scrollTop())},40)),t.$scrollContainer(e).off("scroll",this._debouncedScrollCaptureHandler).on("scroll",this._debouncedScrollCaptureHandler),t},_buildNewRender:function(){if(!this.model)return a()();var e=p.prototype._buildNewRender.call(this);return e.find(".search").prependTo(e.find("> .controls")),this._renderQuotaMessage(e),e},_renderQuotaMessage:function(e){return e=e||this.$el,a()(this.templates.quotaMsg({},this)).prependTo(e.find(".messages"))},_renderTags:function(e){var t=this;p.prototype._renderTags.call(t,e),t.preferences.get("tagsEditorShown")&&t.tagsEditor.toggle(!0),t.listenTo(t.tagsEditor,"hiddenUntilActivated:shown hiddenUntilActivated:hidden",function(e){t.preferences.set("tagsEditorShown",e.hidden)})},_renderAnnotation:function(e){var t=this;p.prototype._renderAnnotation.call(t,e),t.preferences.get("annotationEditorShown")&&t.annotationEditor.toggle(!0),t.listenTo(t.annotationEditor,"hiddenUntilActivated:shown hiddenUntilActivated:hidden",function(e){t.preferences.set("annotationEditorShown",e.hidden)})},_swapNewRender:function(e){p.prototype._swapNewRender.call(this,e);var t=this;return r.a.delay(function(){var e=t.preferences.get("scrollPosition");e&&t.scrollTo(e,0)},10),this},_attachItems:function(e){p.prototype._attachItems.call(this,e);return this.currentContentId&&this._setCurrentContentById(this.currentContentId),this},addItemView:function(e,t,n){var i=p.prototype.addItemView.call(this,e,t,n);return i&&this.panelStack.length?this._collapseDrilldownPanel():i},_setUpItemViewListeners:function(e){return p.prototype._setUpItemViewListeners.call(this,e),this.listenTo(e,{"expanded:drilldown":function(e,t){this._expandDrilldownPanel(t)},"collapsed:drilldown":function(e,t){this._collapseDrilldownPanel(t)}})},setCurrentContent:function(e){this.$(".history-content.current-content").removeClass("current-content"),e?(e.$el.addClass("current-content"),this.currentContentId=e.model.id):this.currentContentId=null},_setCurrentContentById:function(e){var t=this.viewFromModelId(e)||null;this.setCurrentContent(t)},_expandDrilldownPanel:function(e){this.panelStack.push(e),this.$controls().add(this.$list()).hide(),e.parentName=this.model.get("name"),e.delegateEvents().render().$el.appendTo(this.$el)},_collapseDrilldownPanel:function(e){this.panelStack.pop(),this.$controls().add(this.$list()).show()},events:r.a.extend(r.a.clone(p.prototype.events),{"click .uploader-link":function(e){Object(l.getGalaxyInstance)().upload.show(e)},"click .get-data-link":function(e){var t=a()(".toolMenuContainer");t.parent().scrollTop(0),t.find('span:contains("Get Data")').click()}}),listenToGalaxy:function(e){this.listenTo(e,{"center-frame:load":function(e){var t=e.fullpath,n=null;r.a.find({display:/datasets\/([a-f0-9]+)\/display/,edit:/datasets\/([a-f0-9]+)\/edit/,report_error:/dataset\/errors\?id=([a-f0-9]+)/,rerun:/tool_runner\/rerun\?id=([a-f0-9]+)/,show_params:/datasets\/([a-f0-9]+)\/show_params/},function(e,i){return n=r.a.result(t.match(e),1)}),this._setCurrentContentById(n?"dataset-".concat(n):null)},"center-panel:load":function(e){try{var t=e.model.attributes.dataset_id||null;if(null===t)throw"Invalid id";this._setCurrentContentById("dataset-".concat(t))}catch(e){this._setCurrentContentById()}},"activate-hda":function(e){this._setCurrentContentById("dataset-".concat(e))}})},connectToQuotaMeter:function(e){return e?(this.listenTo(e,"quota:over",this.showQuotaMessage),this.listenTo(e,"quota:under",this.hideQuotaMessage),this.on("rendered rendered:initial",function(){e&&e.isOverQuota()&&this.showQuotaMessage()}),this):this},clearMessages:function(e){var t=r.a.isUndefined(e)?this.$messages().children('[class$="message"]'):a()(e.currentTarget);return(t=t.not(".quota-message")).fadeOut(this.fxSpeed,function(){a()(this).remove()}),this},showQuotaMessage:function(){var e=this.$(".quota-message");e.is(":hidden")&&e.slideDown(this.fxSpeed)},hideQuotaMessage:function(){var e=this.$(".quota-message");e.is(":hidden")||e.slideUp(this.fxSpeed)},unhideHidden:function(){var e=this;return window.confirm(h()("Really unhide all hidden datasets?"))?e.model.contents._filterAndUpdate({visible:!1,deleted:"",purged:""},{visible:!0}).done(function(){e.model.contents.includeHidden||e.renderItems()}):a.a.when()},deleteHidden:function(){return window.confirm(h()("Really delete all hidden datasets?"))?this.model.contents._filterAndUpdate({visible:!1,deleted:"",purged:""},{deleted:!0,visible:!0}):a.a.when()},toString:function(){return"CurrentHistoryView(".concat(this.model?this.model.get("name"):"",")")}});m.prototype.templates=function(){var e=u.a.wrapTemplate(['<div class="quota-message errormessage">',h()("You are over your disk quota"),". ",h()("Tool execution is on hold until your disk usage drops below your allocated quota"),".","</div>"],"history");return r.a.extend(r.a.clone(p.prototype.templates),{quotaMsg:e})}(),t.a={CurrentHistoryView:m}},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(5),d=n(1),h=n.n(d),f=n(11),p=n(22),m=l.a.Model.extend({initialize:function(e){var t=Object(u.getGalaxyInstance)();(e=e||{}).user_id=e.user_id||t.user.id,this.set({user_id:e.user_id,information:{title:h()("Manage information"),description:"Edit your email, addresses and custom parameters or change your username.",url:"api/users/".concat(e.user_id,"/information/inputs"),icon:"fa-user",redirect:"user"},password:{title:h()("Change password"),description:h()("Allows you to change your login credentials."),icon:"fa-unlock-alt",url:"api/users/".concat(e.user_id,"/password/inputs"),submit_title:"Save password",redirect:"user"},communication:{title:h()("Change communication settings"),description:h()("Enable or disable the communication feature to chat with other users."),url:"api/users/".concat(e.user_id,"/communication/inputs"),icon:"fa-comments-o",redirect:"user"},permissions:{title:h()("Set dataset permissions for new histories"),description:"Grant others default access to newly created histories. Changes made here will only affect histories created after these settings have been stored.",url:"api/users/".concat(e.user_id,"/permissions/inputs"),icon:"fa-users",submit_title:"Save permissions",redirect:"user"},make_data_private:{title:h()("Make all data private"),description:h()("Click here to make all data private."),icon:"fa-lock",onclick:function(){confirm(h()("WARNING: This will make all datasets (excluding library datasets) for which you have 'management' permissions, in all of your histories private, and will set permissions such that all of your new data in these histories is created as private.  Any datasets within that are currently shared will need to be re-shared or published.  Are you sure you want to do this?"))&&a.a.post("".concat(t.root,"history/make_private"),{all_histories:!0},function(){t.modal.show({title:h()("Datasets are now private"),body:"All of your histories and datsets have been made private.  If you'd like to make all *future* histories private please use the <a href=\"".concat(t.root,'user/permissions">User Permissions</a> interface.'),buttons:{Close:function(){t.modal.hide()}}})})}},api_key:{title:h()("Manage API key"),description:h()("Access your current API key or create a new one."),url:"api/users/".concat(e.user_id,"/api_key/inputs"),icon:"fa-key",submit_title:"Create a new key",submit_icon:"fa-check"},toolbox_filters:{title:h()("Manage Toolbox filters"),description:h()("Customize your Toolbox by displaying or omitting sets of Tools."),url:"api/users/".concat(e.user_id,"/toolbox_filters/inputs"),icon:"fa-filter",submit_title:"Save filters",redirect:"user"},openids:{title:h()("Manage OpenIDs"),description:h()("Associate OpenIDs with your account."),icon:"fa-openid",onclick:function(){t.page.router.push("".concat(Object(c.a)(),"openids/list"))}},custom_builds:{title:h()("Manage custom builds"),description:h()("Add or remove custom builds using history datasets."),icon:"fa-cubes",onclick:function(){t.page.router.push("".concat(Object(c.a)(),"custom_builds"))}},logout:{title:h()("Sign out"),description:h()("Click here to sign out of all sessions."),icon:"fa-sign-out",onclick:function(){t.modal.show({title:h()("Sign out"),body:"Do you want to continue and sign out of all active sessions?",buttons:{Cancel:function(){t.modal.hide()},"Sign out":function(){window.location.href="".concat(Object(c.a)(),"user/logout?session_csrf_token=").concat(t.session_csrf_token)}}})}}})}}),g=l.a.View.extend({title:h()("User Preferences"),active_tab:"user",initialize:function(){this.model=new m,this.setElement("<div/>"),this.render()},render:function(){var e=this,t=Object(u.getGalaxyInstance)(),n=t.config;a.a.getJSON("".concat(Object(c.a)(),"api/users/").concat(t.user.id),function(i){e.$preferences=a()("<div/>").append(a()("<h2/>").append("User preferences")).append(a()("<p/>").append("You are logged in as <strong>".concat(r.a.escape(i.email),"</strong>."))).append(e.$table=a()("<table/>"));var o=p.a.get("message"),s=p.a.get("status");o&&s&&e.$preferences.prepend(new f.a.Message({message:o,status:s}).$el),n.use_remote_user||(e._addLink("information"),e._addLink("password")),n.enable_communication_server&&e._addLink("communication"),e._addLink("custom_builds"),e._addLink("permissions"),e._addLink("make_data_private"),e._addLink("api_key"),n.has_user_tool_filters&&e._addLink("toolbox_filters"),n.enable_openid&&!n.use_remote_user&&e._addLink("openids"),t.session_csrf_token&&e._addLink("logout"),e.$preferences.append(e._templateFooter(i)),e.$el.empty().append(e.$preferences)})},_addLink:function(e){var t=this.model.get(e),n=a()(this._templateLink(t)),i=n.find("a");t.onclick?i.on("click",function(){t.onclick()}):i.attr("href","".concat(Object(c.a)(),"user/").concat(e)),this.$table.append(n)},_templateLink:function(e){return'<tr>\n                    <td class="align-top">\n                        <i class="ml-3 mr-3 fa fa-lg '.concat(e.icon,'">\n                    </td>\n                    <td>\n                        <a href="javascript:void(0)"><b>').concat(e.title,'</b></a>\n                        <div class="form-text text-muted">').concat(e.description,"</div>\n                    </td>\n                </tr>")},_templateFooter:function(e){var t=Object(u.getGalaxyInstance)();return'<p class="mt-2">You are using <strong>'.concat(e.nice_total_disk_usage,"</strong> of disk space in this Galaxy instance. ").concat(t.config.enable_quotas?"Your disk quota is: <strong>".concat(e.quota,"</strong>. "):"",'Is your usage more than expected? See the <a href="https://galaxyproject.org/learn/managing-datasets/" target="_blank"><b>documentation</b></a> for tips on how to find all of the data in your account.</p>')}});t.a={View:g,Model:m}},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(5),d=n(28),h=n(81),f=l.a.View.extend({initialize:function(e){var t=this,n=Object(u.getGalaxyInstance)();h.a.markViewAsLoading(this),this.model=new l.a.Model(e),this.item=this.model.get("item"),this.title=this.model.get("plural"),e&&e.active_tab&&(this.active_tab=e.active_tab),a.a.ajax({url:"".concat(Object(c.a)()+this.item,"/").concat(this.model.get("action_id"),"?").concat(a.a.param(n.params)),success:function(e){t.model.set(e),t.render()}})},render:function(){var e=new d.a(this.model.attributes);this.$el.empty().append(e.$el),this.$el.append(this._templateShared())},_templateShared:function(){var e=this,t=a()("<div><br/><h2>".concat(this.model.get("plural")," shared with you by others</h2></div>")),n=this.model.attributes;if(n.shared_by_others&&n.shared_by_others.length>0){var i=a()('<table class="colored" border="0" cellspacing="0" cellpadding="0" width="100%"><tr class="header"><th>Title</th><th>Owner</th></tr></table>');r.a.each(n.shared_by_others,function(t,n){var o="".concat(Object(c.a)()+e.item,"/display_by_username_and_slug?username=").concat(t.username,"&slug=").concat(t.slug);i.append('<tr><td><a href="'.concat(o,'">').concat(r.a.escape(t.title),"</a></td><td>").concat(r.a.escape(t.username),"</td></tr>"))}),t.append(i)}else t.append("No ".concat(this.model.get("plural").toLowerCase()," have been shared with you."));return t}});t.a={View:f}},function(e,t,n){"use strict";var i=n(4),r=n(18);function o(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}var a={name:"router-view",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var n=t.props,i=t.children,r=t.parent,o=t.data;o.routerView=!0;for(var a=r.$createElement,s=n.name,l=r.$route,c=r._routerViewCache||(r._routerViewCache={}),u=0,d=!1;r&&r._routerRoot!==r;)r.$vnode&&r.$vnode.data.routerView&&u++,r._inactive&&(d=!0),r=r.$parent;if(o.routerViewDepth=u,d)return a(c[s],o,i);var h=l.matched[u];if(!h)return c[s]=null,a();var f=c[s]=h.components[s];o.registerRouteInstance=function(e,t){var n=h.instances[s];(t&&n!==e||!t&&n===e)&&(h.instances[s]=t)},(o.hook||(o.hook={})).prepatch=function(e,t){h.instances[s]=t.componentInstance};var p=o.props=function(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0;default:0}}(l,h.props&&h.props[s]);if(p){p=o.props=function(e,t){for(var n in t)e[n]=t[n];return e}({},p);var m=o.attrs=o.attrs||{};for(var g in p)f.props&&g in f.props||(m[g]=p[g],delete p[g])}return a(f,o,i)}};var s=/[!'()*]/g,l=function(e){return"%"+e.charCodeAt(0).toString(16)},c=/%2C/g,u=function(e){return encodeURIComponent(e).replace(s,l).replace(c,",")},d=decodeURIComponent;function h(e){var t={};return(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var n=e.replace(/\+/g," ").split("="),i=d(n.shift()),r=n.length>0?d(n.join("=")):null;void 0===t[i]?t[i]=r:Array.isArray(t[i])?t[i].push(r):t[i]=[t[i],r]}),t):t}function f(e){var t=e?Object.keys(e).map(function(t){var n=e[t];if(void 0===n)return"";if(null===n)return u(t);if(Array.isArray(n)){var i=[];return n.forEach(function(e){void 0!==e&&(null===e?i.push(u(t)):i.push(u(t)+"="+u(e)))}),i.join("&")}return u(t)+"="+u(n)}).filter(function(e){return e.length>0}).join("&"):null;return t?"?"+t:""}var p=/\/?$/;function m(e,t,n,i){var r=i&&i.options.stringifyQuery,o=t.query||{};try{o=g(o)}catch(e){}var a={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:o,params:t.params||{},fullPath:v(t,r),matched:e?function(e){var t=[];for(;e;)t.unshift(e),e=e.parent;return t}(e):[]};return n&&(a.redirectedFrom=v(n,r)),Object.freeze(a)}function g(e){if(Array.isArray(e))return e.map(g);if(e&&"object"==typeof e){var t={};for(var n in e)t[n]=g(e[n]);return t}return e}var _=m(null,{path:"/"});function v(e,t){var n=e.path,i=e.query;void 0===i&&(i={});var r=e.hash;return void 0===r&&(r=""),(n||"/")+(t||f)(i)+r}function y(e,t){return t===_?e===t:!!t&&(e.path&&t.path?e.path.replace(p,"")===t.path.replace(p,"")&&e.hash===t.hash&&b(e.query,t.query):!(!e.name||!t.name)&&(e.name===t.name&&e.hash===t.hash&&b(e.query,t.query)&&b(e.params,t.params)))}function b(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e||!t)return e===t;var n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every(function(n){var i=e[n],r=t[n];return"object"==typeof i&&"object"==typeof r?b(i,r):String(i)===String(r)})}var w,k=[String,Object],M=[String,Array],x={name:"router-link",props:{to:{type:k,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:M,default:"click"}},render:function(e){var t=this,n=this.$router,i=this.$route,r=n.resolve(this.to,i,this.append),o=r.location,a=r.route,s=r.href,l={},c=n.options.linkActiveClass,u=n.options.linkExactActiveClass,d=null==c?"router-link-active":c,h=null==u?"router-link-exact-active":u,f=null==this.activeClass?d:this.activeClass,g=null==this.exactActiveClass?h:this.exactActiveClass,_=o.path?m(null,o,null,n):a;l[g]=y(i,_),l[f]=this.exact?l[g]:function(e,t){return 0===e.path.replace(p,"/").indexOf(t.path.replace(p,"/"))&&(!t.hash||e.hash===t.hash)&&function(e,t){for(var n in t)if(!(n in e))return!1;return!0}(e.query,t.query)}(i,_);var v=function(e){C(e)&&(t.replace?n.replace(o):n.push(o))},b={click:C};Array.isArray(this.event)?this.event.forEach(function(e){b[e]=v}):b[this.event]=v;var k={class:l};if("a"===this.tag)k.on=b,k.attrs={href:s};else{var M=function e(t){if(t)for(var n,i=0;i<t.length;i++){if("a"===(n=t[i]).tag)return n;if(n.children&&(n=e(n.children)))return n}}(this.$slots.default);if(M){M.isStatic=!1;var x=w.util.extend;(M.data=x({},M.data)).on=b,(M.data.attrs=x({},M.data.attrs)).href=s}else k.on=b}return e(this.tag,k,this.$slots.default)}};function C(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}var S="undefined"!=typeof window;function T(e,t,n){var i=e.charAt(0);if("/"===i)return e;if("?"===i||"#"===i)return t+e;var r=t.split("/");n&&r[r.length-1]||r.pop();for(var o=e.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];".."===s?r.pop():"."!==s&&r.push(s)}return""!==r[0]&&r.unshift(""),r.join("/")}function L(e){return e.replace(/\/\//g,"/")}var E=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},D=V,O=P,A=function(e,t){return I(P(e,t))},Y=I,R=B,j=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function P(e,t){for(var n,i=[],r=0,o=0,a="",s=t&&t.delimiter||"/";null!=(n=j.exec(e));){var l=n[0],c=n[1],u=n.index;if(a+=e.slice(o,u),o=u+l.length,c)a+=c[1];else{var d=e[o],h=n[2],f=n[3],p=n[4],m=n[5],g=n[6],_=n[7];a&&(i.push(a),a="");var v=null!=h&&null!=d&&d!==h,y="+"===g||"*"===g,b="?"===g||"*"===g,w=n[2]||s,k=p||m;i.push({name:f||r++,prefix:h||"",delimiter:w,optional:b,repeat:y,partial:v,asterisk:!!_,pattern:k?$(k):_?".*":"[^"+F(w)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&i.push(a),i}function N(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function H(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function I(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,i){for(var r="",o=n||{},a=(i||{}).pretty?N:encodeURIComponent,s=0;s<e.length;s++){var l=e[s];if("string"!=typeof l){var c,u=o[l.name];if(null==u){if(l.optional){l.partial&&(r+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(E(u)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<u.length;d++){if(c=a(u[d]),!t[s].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");r+=(0===d?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?H(u):a(u),!t[s].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');r+=l.prefix+c}}else r+=l}return r}}function F(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function $(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function W(e,t){return e.keys=t,e}function z(e){return e.sensitive?"":"i"}function B(e,t,n){E(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,r=!1!==n.end,o="",a=0;a<e.length;a++){var s=e[a];if("string"==typeof s)o+=F(s);else{var l=F(s.prefix),c="(?:"+s.pattern+")";t.push(s),s.repeat&&(c+="(?:"+l+c+")*"),o+=c=s.optional?s.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var u=F(n.delimiter||"/"),d=o.slice(-u.length)===u;return i||(o=(d?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),o+=r?"$":i&&d?"":"(?="+u+"|$)",W(new RegExp("^"+o,z(n)),t)}function V(e,t,n){return E(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return W(e,t)}(e,t):E(e)?function(e,t,n){for(var i=[],r=0;r<e.length;r++)i.push(V(e[r],t,n).source);return W(new RegExp("(?:"+i.join("|")+")",z(n)),t)}(e,t,n):function(e,t,n){return B(P(e,n),t,n)}(e,t,n)}D.parse=O,D.compile=A,D.tokensToFunction=Y,D.tokensToRegExp=R;var U=Object.create(null);function q(e,t,n){try{return(U[e]||(U[e]=D.compile(e)))(t||{},{pretty:!0})}catch(e){return""}}function G(e,t,n,i){var r=t||[],o=n||Object.create(null),a=i||Object.create(null);e.forEach(function(e){!function e(t,n,i,r,o,a){var s=r.path;var l=r.name;0;var c=r.pathToRegexpOptions||{};var u=function(e,t,n){n||(e=e.replace(/\/$/,""));if("/"===e[0])return e;if(null==t)return e;return L(t.path+"/"+e)}(s,o,c.strict);"boolean"==typeof r.caseSensitive&&(c.sensitive=r.caseSensitive);var d={path:u,regex:function(e,t){var n=D(e,[],t);0;return n}(u,c),components:r.components||{default:r.component},instances:{},name:l,parent:o,matchAs:a,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};r.children&&r.children.forEach(function(r){var o=a?L(a+"/"+r.path):void 0;e(t,n,i,r,d,o)});if(void 0!==r.alias){var h=Array.isArray(r.alias)?r.alias:[r.alias];h.forEach(function(a){var s={path:a,children:r.children};e(t,n,i,s,o,d.path||"/")})}n[d.path]||(t.push(d.path),n[d.path]=d);l&&(i[l]||(i[l]=d))}(r,o,a,e)});for(var s=0,l=r.length;s<l;s++)"*"===r[s]&&(r.push(r.splice(s,1)[0]),l--,s--);return{pathList:r,pathMap:o,nameMap:a}}function J(e,t,n,i){var r="string"==typeof e?{path:e}:e;if(r.name||r._normalized)return r;if(!r.path&&r.params&&t){(r=K({},r))._normalized=!0;var o=K(K({},t.params),r.params);if(t.name)r.name=t.name,r.params=o;else if(t.matched.length){var a=t.matched[t.matched.length-1].path;r.path=q(a,o,t.path)}else 0;return r}var s=function(e){var t="",n="",i=e.indexOf("#");i>=0&&(t=e.slice(i),e=e.slice(0,i));var r=e.indexOf("?");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{path:e,query:n,hash:t}}(r.path||""),l=t&&t.path||"/",c=s.path?T(s.path,l,n||r.append):l,u=function(e,t,n){void 0===t&&(t={});var i,r=n||h;try{i=r(e||"")}catch(e){i={}}for(var o in t)i[o]=t[o];return i}(s.query,r.query,i&&i.options.parseQuery),d=r.hash||s.hash;return d&&"#"!==d.charAt(0)&&(d="#"+d),{_normalized:!0,path:c,query:u,hash:d}}function K(e,t){for(var n in t)e[n]=t[n];return e}function X(e,t){var n=G(e),i=n.pathList,r=n.pathMap,o=n.nameMap;function a(e,n,a){var s=J(e,n,!1,t),c=s.name;if(c){var u=o[c];if(!u)return l(null,s);var d=u.regex.keys.filter(function(e){return!e.optional}).map(function(e){return e.name});if("object"!=typeof s.params&&(s.params={}),n&&"object"==typeof n.params)for(var h in n.params)!(h in s.params)&&d.indexOf(h)>-1&&(s.params[h]=n.params[h]);if(u)return s.path=q(u.path,s.params),l(u,s,a)}else if(s.path){s.params={};for(var f=0;f<i.length;f++){var p=i[f],m=r[p];if(Q(m.regex,s.path,s.params))return l(m,s,a)}}return l(null,s)}function s(e,n){var i=e.redirect,r="function"==typeof i?i(m(e,n,null,t)):i;if("string"==typeof r&&(r={path:r}),!r||"object"!=typeof r)return l(null,n);var s=r,c=s.name,u=s.path,d=n.query,h=n.hash,f=n.params;if(d=s.hasOwnProperty("query")?s.query:d,h=s.hasOwnProperty("hash")?s.hash:h,f=s.hasOwnProperty("params")?s.params:f,c){o[c];return a({_normalized:!0,name:c,query:d,hash:h,params:f},void 0,n)}if(u){var p=function(e,t){return T(e,t.parent?t.parent.path:"/",!0)}(u,e);return a({_normalized:!0,path:q(p,f),query:d,hash:h},void 0,n)}return l(null,n)}function l(e,n,i){return e&&e.redirect?s(e,i||n):e&&e.matchAs?function(e,t,n){var i=a({_normalized:!0,path:q(n,t.params)});if(i){var r=i.matched,o=r[r.length-1];return t.params=i.params,l(o,t)}return l(null,t)}(0,n,e.matchAs):m(e,n,i,t)}return{match:a,addRoutes:function(e){G(e,i,r,o)}}}function Q(e,t,n){var i=t.match(e);if(!i)return!1;if(!n)return!0;for(var r=1,o=i.length;r<o;++r){var a=e.keys[r-1],s="string"==typeof i[r]?decodeURIComponent(i[r]):i[r];a&&(n[a.name]=s)}return!0}var Z=Object.create(null);function ee(){window.history.replaceState({key:de()},""),window.addEventListener("popstate",function(e){ne(),e.state&&e.state.key&&function(e){ce=e}(e.state.key)})}function te(e,t,n,i){if(e.app){var r=e.options.scrollBehavior;r&&e.app.$nextTick(function(){var e=function(){var e=de();if(e)return Z[e]}(),o=r(t,n,i?e:null);o&&("function"==typeof o.then?o.then(function(t){ae(t,e)}).catch(function(e){0}):ae(o,e))})}}function ne(){var e=de();e&&(Z[e]={x:window.pageXOffset,y:window.pageYOffset})}function ie(e){return oe(e.x)||oe(e.y)}function re(e){return{x:oe(e.x)?e.x:window.pageXOffset,y:oe(e.y)?e.y:window.pageYOffset}}function oe(e){return"number"==typeof e}function ae(e,t){var n="object"==typeof e;if(n&&"string"==typeof e.selector){var i=document.querySelector(e.selector);if(i){var r=e.offset&&"object"==typeof e.offset?e.offset:{};t=function(e,t){var n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{x:i.left-n.left-t.x,y:i.top-n.top-t.y}}(i,r=function(e){return{x:oe(e.x)?e.x:0,y:oe(e.y)?e.y:0}}(r))}else ie(e)&&(t=re(e))}else n&&ie(e)&&(t=re(e));t&&window.scrollTo(t.x,t.y)}var se=S&&function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),le=S&&window.performance&&window.performance.now?window.performance:Date,ce=ue();function ue(){return le.now().toFixed(3)}function de(){return ce}function he(e,t){ne();var n=window.history;try{t?n.replaceState({key:ce},"",e):(ce=ue(),n.pushState({key:ce},"",e))}catch(n){window.location[t?"replace":"assign"](e)}}function fe(e){he(e,!0)}function pe(e,t,n){var i=function(r){r>=e.length?n():e[r]?t(e[r],function(){i(r+1)}):i(r+1)};i(0)}function me(e){return function(t,n,i){var r=!1,a=0,s=null;ge(e,function(e,t,n,l){if("function"==typeof e&&void 0===e.cid){r=!0,a++;var c,u=ye(function(t){(function(e){return e.__esModule||ve&&"Module"===e[Symbol.toStringTag]})(t)&&(t=t.default),e.resolved="function"==typeof t?t:w.extend(t),n.components[l]=t,--a<=0&&i()}),d=ye(function(e){var t="Failed to resolve async component "+l+": "+e;s||(s=o(e)?e:new Error(t),i(s))});try{c=e(u,d)}catch(e){d(e)}if(c)if("function"==typeof c.then)c.then(u,d);else{var h=c.component;h&&"function"==typeof h.then&&h.then(u,d)}}}),r||i()}}function ge(e,t){return _e(e.map(function(e){return Object.keys(e.components).map(function(n){return t(e.components[n],e.instances[n],e,n)})}))}function _e(e){return Array.prototype.concat.apply([],e)}var ve="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function ye(e){var t=!1;return function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(!t)return t=!0,e.apply(this,n)}}var be=function(e,t){this.router=e,this.base=function(e){if(!e)if(S){var t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else e="/";"/"!==e.charAt(0)&&(e="/"+e);return e.replace(/\/$/,"")}(t),this.current=_,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};function we(e,t,n,i){var r=ge(e,function(e,i,r,o){var a=function(e,t){"function"!=typeof e&&(e=w.extend(e));return e.options[t]}(e,t);if(a)return Array.isArray(a)?a.map(function(e){return n(e,i,r,o)}):n(a,i,r,o)});return _e(i?r.reverse():r)}function ke(e,t){if(t)return function(){return e.apply(t,arguments)}}be.prototype.listen=function(e){this.cb=e},be.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},be.prototype.onError=function(e){this.errorCbs.push(e)},be.prototype.transitionTo=function(e,t,n){var i=this,r=this.router.match(e,this.current);this.confirmTransition(r,function(){i.updateRoute(r),t&&t(r),i.ensureURL(),i.ready||(i.ready=!0,i.readyCbs.forEach(function(e){e(r)}))},function(e){n&&n(e),e&&!i.ready&&(i.ready=!0,i.readyErrorCbs.forEach(function(t){t(e)}))})},be.prototype.confirmTransition=function(e,t,n){var i=this,r=this.current,a=function(e){o(e)&&(i.errorCbs.length?i.errorCbs.forEach(function(t){t(e)}):console.error(e)),n&&n(e)};if(y(e,r)&&e.matched.length===r.matched.length)return this.ensureURL(),a();var s=function(e,t){var n,i=Math.max(e.length,t.length);for(n=0;n<i&&e[n]===t[n];n++);return{updated:t.slice(0,n),activated:t.slice(n),deactivated:e.slice(n)}}(this.current.matched,e.matched),l=s.updated,c=s.deactivated,u=s.activated,d=[].concat(function(e){return we(e,"beforeRouteLeave",ke,!0)}(c),this.router.beforeHooks,function(e){return we(e,"beforeRouteUpdate",ke)}(l),u.map(function(e){return e.beforeEnter}),me(u));this.pending=e;var h=function(t,n){if(i.pending!==e)return a();try{t(e,r,function(e){!1===e||o(e)?(i.ensureURL(!0),a(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(a(),"object"==typeof e&&e.replace?i.replace(e):i.push(e)):n(e)})}catch(e){a(e)}};pe(d,h,function(){var n=[];pe(function(e,t,n){return we(e,"beforeRouteEnter",function(e,i,r,o){return function(e,t,n,i,r){return function(o,a,s){return e(o,a,function(e){s(e),"function"==typeof e&&i.push(function(){!function e(t,n,i,r){n[i]?t(n[i]):r()&&setTimeout(function(){e(t,n,i,r)},16)}(e,t.instances,n,r)})})}}(e,r,o,t,n)})}(u,n,function(){return i.current===e}).concat(i.router.resolveHooks),h,function(){if(i.pending!==e)return a();i.pending=null,t(e),i.router.app&&i.router.app.$nextTick(function(){n.forEach(function(e){e()})})})})},be.prototype.updateRoute=function(e){var t=this.current;this.current=e,this.cb&&this.cb(e),this.router.afterHooks.forEach(function(n){n&&n(e,t)})};var Me=function(e){function t(t,n){var i=this;e.call(this,t,n);var r=t.options.scrollBehavior;r&&ee();var o=xe(this.base);window.addEventListener("popstate",function(e){var n=i.current,a=xe(i.base);i.current===_&&a===o||i.transitionTo(a,function(e){r&&te(t,e,n,!0)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,n){var i=this,r=this.current;this.transitionTo(e,function(e){he(L(i.base+e.fullPath)),te(i.router,e,r,!1),t&&t(e)},n)},t.prototype.replace=function(e,t,n){var i=this,r=this.current;this.transitionTo(e,function(e){fe(L(i.base+e.fullPath)),te(i.router,e,r,!1),t&&t(e)},n)},t.prototype.ensureURL=function(e){if(xe(this.base)!==this.current.fullPath){var t=L(this.base+this.current.fullPath);e?he(t):fe(t)}},t.prototype.getCurrentLocation=function(){return xe(this.base)},t}(be);function xe(e){var t=window.location.pathname;return e&&0===t.indexOf(e)&&(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}var Ce=function(e){function t(t,n,i){e.call(this,t,n),i&&function(e){var t=xe(e);if(!/^\/#/.test(t))return window.location.replace(L(e+"/#"+t)),!0}(this.base)||Se()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this,t=this.router.options.scrollBehavior,n=se&&t;n&&ee(),window.addEventListener(se?"popstate":"hashchange",function(){var t=e.current;Se()&&e.transitionTo(Te(),function(i){n&&te(e.router,i,t,!0),se||De(i.fullPath)})})},t.prototype.push=function(e,t,n){var i=this,r=this.current;this.transitionTo(e,function(e){Ee(e.fullPath),te(i.router,e,r,!1),t&&t(e)},n)},t.prototype.replace=function(e,t,n){var i=this,r=this.current;this.transitionTo(e,function(e){De(e.fullPath),te(i.router,e,r,!1),t&&t(e)},n)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;Te()!==t&&(e?Ee(t):De(t))},t.prototype.getCurrentLocation=function(){return Te()},t}(be);function Se(){var e=Te();return"/"===e.charAt(0)||(De("/"+e),!1)}function Te(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.slice(t+1)}function Le(e){var t=window.location.href,n=t.indexOf("#");return(n>=0?t.slice(0,n):t)+"#"+e}function Ee(e){se?he(Le(e)):window.location.hash=e}function De(e){se?fe(Le(e)):window.location.replace(Le(e))}var Oe=function(e){function t(t,n){e.call(this,t,n),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,n){var i=this;this.transitionTo(e,function(e){i.stack=i.stack.slice(0,i.index+1).concat(e),i.index++,t&&t(e)},n)},t.prototype.replace=function(e,t,n){var i=this;this.transitionTo(e,function(e){i.stack=i.stack.slice(0,i.index).concat(e),t&&t(e)},n)},t.prototype.go=function(e){var t=this,n=this.index+e;if(!(n<0||n>=this.stack.length)){var i=this.stack[n];this.confirmTransition(i,function(){t.index=n,t.updateRoute(i)})}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(be),Ae=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=X(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!se&&!1!==e.fallback,this.fallback&&(t="hash"),S||(t="abstract"),this.mode=t,t){case"history":this.history=new Me(this,e.base);break;case"hash":this.history=new Ce(this,e.base,this.fallback);break;case"abstract":this.history=new Oe(this,e.base);break;default:0}},Ye={currentRoute:{configurable:!0}};function Re(e,t){return e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}Ae.prototype.match=function(e,t,n){return this.matcher.match(e,t,n)},Ye.currentRoute.get=function(){return this.history&&this.history.current},Ae.prototype.init=function(e){var t=this;if(this.apps.push(e),!this.app){this.app=e;var n=this.history;if(n instanceof Me)n.transitionTo(n.getCurrentLocation());else if(n instanceof Ce){var i=function(){n.setupListeners()};n.transitionTo(n.getCurrentLocation(),i,i)}n.listen(function(e){t.apps.forEach(function(t){t._route=e})})}},Ae.prototype.beforeEach=function(e){return Re(this.beforeHooks,e)},Ae.prototype.beforeResolve=function(e){return Re(this.resolveHooks,e)},Ae.prototype.afterEach=function(e){return Re(this.afterHooks,e)},Ae.prototype.onReady=function(e,t){this.history.onReady(e,t)},Ae.prototype.onError=function(e){this.history.onError(e)},Ae.prototype.push=function(e,t,n){this.history.push(e,t,n)},Ae.prototype.replace=function(e,t,n){this.history.replace(e,t,n)},Ae.prototype.go=function(e){this.history.go(e)},Ae.prototype.back=function(){this.go(-1)},Ae.prototype.forward=function(){this.go(1)},Ae.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map(function(e){return Object.keys(e.components).map(function(t){return e.components[t]})})):[]},Ae.prototype.resolve=function(e,t,n){var i=J(e,t||this.history.current,n,this),r=this.match(i,t),o=r.redirectedFrom||r.fullPath;return{location:i,route:r,href:function(e,t,n){var i="hash"===n?"#"+t:t;return e?L(e+"/"+i):i}(this.history.base,o,this.mode),normalizedTo:i,resolved:r}},Ae.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==_&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Ae.prototype,Ye),Ae.install=function e(t){if(!e.installed||w!==t){e.installed=!0,w=t;var n=function(e){return void 0!==e},i=function(e,t){var i=e.$options._parentVnode;n(i)&&n(i=i.data)&&n(i=i.registerRouteInstance)&&i(e,t)};t.mixin({beforeCreate:function(){n(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,i(this,this)},destroyed:function(){i(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("router-view",a),t.component("router-link",x);var r=t.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}},Ae.version="3.0.1",S&&window.Vue&&window.Vue.use(Ae);var je=Ae,Pe=n(15),Ne=n.n(Pe),He={props:{message:{type:String,default:""},status:{type:String,default:""},variant:{type:String,default:"done"},dismissible:Boolean,dismissLabel:String,show:[Boolean,Number],fade:Boolean},computed:{galaxyKwdToBootstrap:function(){var e=this.variant;""!==this.status&&(e=this.status);var t={done:"success",info:"info",warning:"warning",error:"danger"};return e in t?t[e]:e},showP:function(){return this.show?this.show:!(""===this.message&&!this.$slots.default)}}},Ie=n(14),Fe=Object(Ie.a)(He,function(){var e=this,t=e.$createElement;return(e._self._c||t)("b-alert",e._b({attrs:{variant:e.galaxyKwdToBootstrap,show:e.showP}},"b-alert",e.$props,!1),[e._t("default",[e._v("\n        "+e._s(e.message)+"\n    ")])],2)},[],!1,null,null,null);Fe.options.__file="Alert.vue";var $e=Fe.exports,We={components:{Alert:$e,ToolShedButton:{render:function(){var e=this.$createElement;return(this._self._c||e)("b-link",{staticClass:"alert-link",attrs:{href:"/admin_toolshed/browse_tool_sheds",target:"galaxy_main"}},[this._v("\n  ToolShed\n  ")])},staticRenderFns:[]}},data:function(){return{dataManagers:[],dataTables:[],filter:"",viewOnly:!1,message:"",status:"",loading:!0}},computed:{dataManagersFiltered:function(){var e=this;return this.dataManagers.filter(function(t){return t.name.match(new RegExp(e.filter,"i"))})},dataTablesFiltered:function(){var e=this;return this.dataTables.filter(function(t){return t.name.match(new RegExp(e.filter,"i"))})}},methods:{kebabCase:function(e){return e.toLowerCase().replace(/ /g,"-")}},created:function(){var e=this;Ne.a.get("".concat(Object(i.a)(),"data_manager/data_managers_list")).then(function(t){e.dataManagers=t.data.dataManagers,e.dataTables=t.data.dataTables,e.viewOnly=t.data.viewOnly,e.message=t.data.message,e.status=t.data.status,e.loading=!1}).catch(function(e){console.error(e)})}},ze=Object(Ie.a)(We,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Alert",{attrs:{message:e.message,variant:e.status}}),e._v(" "),e.viewOnly?n("Alert",{attrs:{message:"Not implemented",variant:"dark"}}):e.loading?n("Alert",{attrs:{message:"Waiting for data",variant:"info"}}):e.dataManagers&&!e.dataManagers.length?n("div",[n("Alert",{attrs:{variant:"primary"}},[n("h4",{staticClass:"alert-heading"},[e._v("None installed")]),e._v("\n            You do not currently have any Data Managers installed\n        ")]),e._v(" "),n("Alert",{attrs:{variant:"info"}},[e._v("\n            Data Managers can be installed from a\n            "),n("ToolShedButton")],1)],1):e.dataManagers&&e.dataTables?n("div",[n("Alert",{attrs:{variant:"secondary",dismissible:""}},[e._v("\n            Choose your data managing option from below. You may install additional Data Managers from a\n            "),n("ToolShedButton")],1),e._v(" "),n("b-container",{attrs:{fluid:""}},[n("b-row",[n("b-col",{attrs:{md:"6"}},[n("b-form-group",{attrs:{description:"Search for strings or regular expressions"}},[n("b-input-group",[n("b-form-input",{attrs:{placeholder:"Type to Search"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,"Escape"))return null;e.filter=""}},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),e._v(" "),n("b-input-group-append",[n("b-btn",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Clear (esc)")])],1)],1)],1)],1)],1)],1),e._v(" "),n("b-card-group",{attrs:{columns:""}},[n("b-card",{attrs:{"no-body":"",header:"<h4>Data Managers</h4>",id:"data-managers-card"}},[n("b-list-group",{attrs:{flush:""}},e._l(e.dataManagersFiltered,function(t,i){return n("b-list-group-item",{key:i},[n("b-button-group",{attrs:{vertical:""}},[n("b-button",{attrs:{href:t.toolUrl,target:"_blank",variant:"primary",id:e.kebabCase(t.name)}},[n("div",[e._v(e._s(t.name))]),e._v(" "),t.description?n("div",[n("i",[e._v(e._s(t.description))])]):e._e()]),e._v(" "),n("b-button",{attrs:{to:{name:"DataManagerJobs",params:{id:encodeURIComponent(t.id)}},id:e.kebabCase(t.name)+"-jobs"}},[e._v("\n                                Jobs\n                            ")])],1)],1)}))],1),e._v(" "),n("b-card",{attrs:{"no-body":"",header:"<h4>Tool Data Tables</h4>"}},[n("b-list-group",{attrs:{flush:""}},e._l(e.dataTablesFiltered,function(t,i){return n("b-list-group-item",{key:i,attrs:{to:{name:"DataManagerTable",params:{name:t.name}},id:e.kebabCase(t.name)+"-table",variant:!0===t.managed?"primary":"link"}},[e._v("\n                        "+e._s(t.name)+"\n                        "),!0===t.managed?n("b-badge",{attrs:{variant:"primary",pill:""}},[n("span",{staticClass:"fa fa-exchange"})]):e._e()],1)}))],1)],1)],1):e._e()],1)},[],!1,null,null,null);ze.options.__file="DataManager.vue";var Be=ze.exports,Ve={components:{Alert:$e},props:{id:{type:String,required:!0}},data:function(){return{dataManager:[],jobs:[],fields:[{key:"id",label:"Job ID",sortable:!0},{key:"user"},{key:"updateTime",label:"Last Update",sortable:!0},{key:"state"},{key:"actions"},{key:"jobRunnerName",label:"Job Runner"},{key:"jobRunnerExternalId",label:"PID/Cluster ID",sortable:!0}],showCommandLine:!0,filter:"",viewOnly:!1,message:"",status:"",loading:!0}},computed:{breadcrumbItems:function(){return[{text:"Data Managers",to:"/"},{text:this.dataManager.name+" ( "+this.dataManager.description+" )",href:this.dataManager.toolUrl,target:"_blank"},{text:"Jobs",active:!0}]},tableFields:function(){var e=this.fields.slice(0);return this.showCommandLine&&e.splice(5,0,{key:"commandLine",tdClass:["code","command-line"]}),e},tableItems:function(){var e=this.jobs.slice(0),t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;switch(a.updateTime=a.updateTime.replace("T","\n"),a.state){case"ok":a._cellVariants={state:"success"};break;case"error":a._cellVariants={state:"danger"};break;case"deleted":a._cellVariants={state:"warning"};break;case"running":a._cellVariants={state:"info"};break;case"waiting":case"queued":a._cellVariants={state:"primary"};break;case"paused":a._cellVariants={state:"secondary"}}}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return e}},created:function(){var e=this;Ne.a.get("".concat(Object(i.a)(),"data_manager/jobs_list?id=").concat(decodeURIComponent(this.id))).then(function(t){e.dataManager=t.data.dataManager,e.jobs=t.data.jobs,e.viewOnly=t.data.viewOnly,e.message=t.data.message,e.status=t.data.status,e.loading=!1}).catch(function(e){console.error(e)})}},Ue=(n(985),Object(Ie.a)(Ve,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.dataManager&&!e.loading?n("b-breadcrumb",{attrs:{items:e.breadcrumbItems,id:"breadcrumb"}}):e._e(),e._v(" "),n("Alert",{attrs:{message:e.message,variant:e.status}}),e._v(" "),e.viewOnly?n("Alert",{attrs:{message:"Not implemented",variant:"dark"}}):e.loading?n("Alert",{attrs:{message:"Waiting for data",variant:"info"}}):e.jobs&&!e.jobs.length?n("Alert",{attrs:{message:"There are no jobs for this data manager.",variant:"primary"}}):e.jobs?n("div",[n("b-container",{staticClass:"mb-3",attrs:{fluid:""}},[n("b-row",[n("b-col",{attrs:{md:"6"}},[n("b-form-group",{attrs:{description:"Search for strings or regular expressions"}},[n("b-input-group",[n("b-form-input",{attrs:{placeholder:"Type to Search"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,"Escape"))return null;e.filter=""}},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),e._v(" "),n("b-input-group-append",[n("b-btn",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Clear (esc)")])],1)],1)],1)],1)],1),e._v(" "),n("b-row",[n("b-col",[n("b-button",{attrs:{pressed:e.showCommandLine,variant:"outline-secondary"},on:{"update:pressed":function(t){e.showCommandLine=t}}},[e._v("\n            "+e._s(e.showCommandLine?"Hide":"Show")+" Command Line\n          ")])],1)],1)],1),e._v(" "),n("b-table",{attrs:{fields:e.tableFields,items:e.tableItems,filter:e.filter,hover:"",responsive:"",striped:"",id:"jobs-table"},scopedSlots:e._u([{key:"html",fn:function(t){return n("span",{domProps:{innerHTML:e._s(t.value)}})}},{key:"actions",fn:function(t){return[n("b-button-group",[n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Rerun",target:"_top",href:e.jobs[t.index].runUrl}},[n("span",{staticClass:"fa fa-refresh"})]),e._v(" "),n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"View Info",to:{name:"DataManagerJob",params:{id:e.jobs[t.index].encId}},id:"job-"+e.jobs[t.index].encId}},[n("span",{staticClass:"fa fa-info-circle"})]),e._v(" "),e.showCommandLine?e._e():n("b-button",{attrs:{pressed:t.detailsShowing},on:{click:function(e){e.stopPropagation(),t.toggleDetails()},"update:pressed":function(n){e.$set(t,"detailsShowing",n)}}},[e._v("\n            "+e._s(t.detailsShowing?"Hide":"Show")+" Command Line\n          ")])],1)]}},{key:"row-details",fn:function(t){return[n("b-card",[n("h5",[e._v("Command Line")]),e._v(" "),n("pre",{staticClass:"code"},[n("code",{staticClass:"command-line"},[e._v(e._s(t.item.commandLine))])]),e._v(" "),n("template",{slot:"footer"},[n("b-button",{staticClass:"mt-3",on:{click:t.toggleDetails}},[e._v("Hide Info")])],1)],2)]}}])})],1):e._e()],1)},[],!1,null,null,null));Ue.options.__file="DataManagerJobs.vue";var qe=Ue.exports;function Ge(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Je={components:{Alert:$e},props:{id:{type:String,required:!0}},data:function(){return{jobId:Number,exitCode:Number,runUrl:"#",dataManager:[],hdaInfo:[],dataManagerOutput:[],errorMessages:[],fields:[{key:"created"},{key:"fileSize",label:"Filesize"},{key:"fileName",label:"Full path",tdClass:"table-cell-break-word"}],viewOnly:!1,message:"",status:"",loading:!0}},computed:{breadcrumbItems:function(){return[{text:"Data Managers",to:"/"},{text:this.dataManager.name+" ( "+this.dataManager.description+" )",href:this.dataManager.toolUrl,target:"_blank"},{text:"Jobs",to:{name:"DataManagerJobs",params:{id:this.dataManager.id}}},{text:"Job "+this.jobId,active:!0}]}},methods:{outputFields:function(e){return Object.keys(e).reduce(function(e,t){return Ge(e).concat([{key:t,label:t}])},[])}},created:function(){var e=this;Ne.a.get("".concat(Object(i.a)(),"data_manager/job_info?id=").concat(this.id)).then(function(t){e.jobId=t.data.jobId,e.exitCode=t.data.exitCode,e.runUrl=t.data.runUrl,e.dataManager=t.data.dataManager,e.hdaInfo=t.data.hdaInfo,e.dataManagerOutput=t.data.dataManagerOutput,e.errorMessages=t.data.errorMessages,e.viewOnly=t.data.viewOnly,e.message=t.data.message,e.status=t.data.status,e.loading=!1}).catch(function(e){console.error(e)})}},Ke=(n(986),Object(Ie.a)(Je,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.dataManager&&e.jobId&&!e.loading?n("b-breadcrumb",{attrs:{items:e.breadcrumbItems,id:"breadcrumb"}}):e._e(),e._v(" "),n("Alert",{attrs:{message:e.message,variant:e.status}}),e._v(" "),e._l(e.errorMessages,function(e,t){return n("Alert",{key:t,attrs:{message:e,variant:"error"}})}),e._v(" "),e.viewOnly?n("Alert",{attrs:{message:"Not implemented",variant:"dark"}}):e.loading?n("Alert",{attrs:{message:"Waiting for data",variant:"info"}}):e.dataManager?n("b-container",[n("b-row",[n("b-col",[n("b-card",{staticClass:"mb-3",attrs:{"header-bg-variant":"primary","header-text-variant":"white","border-variant":"primary",id:"data-manager-card"}},[n("template",{slot:"header"},[n("b-container",[n("b-row",{attrs:{"align-v":"center"}},[n("b-col",{attrs:{cols:"auto"}},[n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Rerun",href:e.runUrl}},[n("span",{staticClass:"fa fa-refresh"})])],1),e._v(" "),n("b-col",[n("b",[e._v(e._s(e.dataManager.name))]),e._v(" "),n("i",[e._v(e._s(e.dataManager.description))])])],1)],1)],1),e._v(" "),e._l(e.hdaInfo,function(t,i){return n("b-card",{key:i,staticClass:"mb-4",attrs:{id:"data-card-"+i}},[n("template",{slot:"header"},[n("b-table",{attrs:{fields:e.fields,items:[t],"caption-top":"",small:"",stacked:""}},[n("template",{slot:"table-caption"},[n("b-container",[n("b-row",{attrs:{"align-v":"center"}},[n("b-col",{attrs:{cols:"auto"}},[n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"View complete info",href:e.hdaInfo[i].infoUrl,target:"galaxy_main"}},[n("span",{staticClass:"fa fa-info-circle"})])],1),e._v(" "),n("b-col",[n("b",[e._v(e._s(t.name))])])],1)],1)],1)],2)],1),e._v(" "),e._l(e.dataManagerOutput[i],function(t,i){return n("b-table",{key:i,attrs:{fields:e.outputFields(t[1][0]),items:t[1],small:"",stacked:"",hover:"",striped:""}},[n("template",{slot:"table-caption"},[e._v("\n                                Data Table:\n                                "),n("b",[e._v(e._s(t[0]))])])],2)})],2)})],2)],1)],1)],1):e._e()],2)},[],!1,null,null,null));Ke.options.__file="DataManagerJob.vue";var Xe=Ke.exports;var Qe={components:{Alert:$e},props:{name:{type:String,required:!0}},data:function(){return{dataTable:{},viewOnly:!1,message:"",status:"",loading:!0}},computed:{breadcrumbItems:function(){return[{text:"Tool Data Tables",to:"/"},{text:this.dataTable.name}]}},methods:{fields:function(e){return e.reduce(function(e,t,n){return Object.assign(e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,{label:t}))},{})},reload:function(){var e=this;Ne.a.get("".concat(Object(i.a)(),"data_manager/reload_tool_data_tables?table_name=").concat(this.dataTable.name)).then(function(t){t.data.dataTable&&(e.dataTable=t.data.dataTable),e.message=t.data.message,e.status=t.data.status}).catch(function(e){console.error(e)})}},created:function(){var e=this;Ne.a.get("".concat(Object(i.a)(),"data_manager/tool_data_table_info?table_name=").concat(this.name)).then(function(t){e.dataTable=t.data.dataTable,e.viewOnly=t.data.viewOnly,e.message=t.data.message,e.status=t.data.status,e.loading=!1}).catch(function(e){console.error(e)})}},Ze=Object(Ie.a)(Qe,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.dataTable&&!e.loading?n("b-breadcrumb",{attrs:{items:e.breadcrumbItems,id:"breadcrumb"}}):e._e(),e._v(" "),n("Alert",{attrs:{message:e.message,variant:e.status}}),e._v(" "),e.viewOnly?n("Alert",{attrs:{message:"Not implemented",variant:"dark"}}):e.loading?n("Alert",{attrs:{message:"Waiting for data",status:"info"}}):e.dataTable&&!e.dataTable.data.length?n("Alert",{attrs:{message:"There are currently no entries in this tool data table.",variant:"primary"}}):e.dataTable?n("b-container",[n("b-row",[n("b-col",[n("b-card",{attrs:{id:"data-table-card",flush:""}},[n("template",{slot:"header"},[n("b-container",[n("b-row",{attrs:{"align-v":"center"}},[n("b-col",{attrs:{cols:"auto"}},[n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"Reload "+this.dataTable.name+" tool data table"},on:{click:function(t){e.reload()}}},[n("span",{staticClass:"fa fa-refresh"})])],1),e._v(" "),n("b-col",[n("b",[e._v(e._s(this.dataTable.name))])])],1)],1)],1),e._v(" "),n("b-table",{attrs:{fields:e.fields(this.dataTable.columns),items:e.dataTable.data,small:"",hover:"",striped:""}})],2)],1)],1)],1):e._e()],1)},[],!1,null,null,null);Ze.options.__file="DataManagerTable.vue";var et=Ze.exports;r.a.use(je);var tt=new je({mode:"history",base:"".concat(Object(i.a)(),"admin/data_manager"),routes:[{path:"/",name:"DataManager",component:Be},{path:"/jobs/:id",name:"DataManagerJobs",component:qe,props:!0},{path:"/job/:id",name:"DataManagerJob",component:Xe,props:!0},{path:"/table/:name",name:"DataManagerTable",component:et,props:!0},{path:"*",redirect:"/"}]}),nt=Object(Ie.a)(tt,void 0,void 0,!1,null,null,null);nt.options.__file="DataManagerRouter.vue";t.a=nt.exports},function(e,t,n){e.exports=!n(43)&&!n(21)(function(){return 7!=Object.defineProperty(n(476)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(23),r=n(44),o=n(361),a=n(478),s=n(35).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var i=n(60),r=n(62),o=n(413)(!1),a=n(479)("IE_PROTO");e.exports=function(e,t){var n,s=r(e),l=0,c=[];for(n in s)n!=a&&i(s,n)&&c.push(n);for(;t.length>l;)i(s,n=t[l++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var i=n(35),r=n(29),o=n(362);e.exports=n(43)?Object.defineProperties:function(e,t){r(e);for(var n,a=o(t),s=a.length,l=0;s>l;)i.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var i=n(62),r=n(365).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return r(e)}catch(e){return a.slice()}}(e):r(i(e))}},function(e,t,n){"use strict";var i=n(362),r=n(414),o=n(397),a=n(63),s=n(396),l=Object.assign;e.exports=!l||n(21)(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=i})?function(e,t){for(var n=a(e),l=arguments.length,c=1,u=r.f,d=o.f;l>c;)for(var h,f=s(arguments[c++]),p=u?i(f).concat(u(f)):i(f),m=p.length,g=0;m>g;)d.call(f,h=p[g++])&&(n[h]=f[h]);return n}:l},function(e,t,n){"use strict";var i=n(88),r=n(24),o=n(528),a=[].slice,s={};e.exports=Function.bind||function(e){var t=i(this),n=a.call(arguments,1),l=function(){var i=n.concat(a.call(arguments));return this instanceof l?function(e,t,n){if(!(t in s)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";s[t]=Function("F,a","return new F("+i.join(",")+")")}return s[t](e,n)}(t,i.length,i):o(t,i,e)};return r(t.prototype)&&(l.prototype=t.prototype),l}},function(e,t){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var i=n(23).parseInt,r=n(416).trim,o=n(484),a=/^[-+]?0[xX]/;e.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(e,t){var n=r(String(e),3);return i(n,t>>>0||(a.test(n)?16:10))}:i},function(e,t,n){var i=n(23).parseFloat,r=n(416).trim;e.exports=1/i(n(484)+"-0")!=-1/0?function(e){var t=r(String(e),3),n=i(t);return 0===n&&"-"==t.charAt(0)?-0:n}:i},function(e,t,n){var i=n(89);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=i(e))throw TypeError(t);return+e}},function(e,t,n){var i=n(24),r=Math.floor;e.exports=function(e){return!i(e)&&isFinite(e)&&r(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var i=n(91),r=n(90);e.exports=function(e){return function(t,n){var o,a,s=String(r(t)),l=i(n),c=s.length;return l<0||l>=c?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var i=n(364),r=n(359),o=n(374),a={};n(61)(a,n(30)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(a,{next:r(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var i=n(29);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},function(e,t,n){var i=n(88),r=n(63),o=n(396),a=n(45);e.exports=function(e,t,n,s,l){i(t);var c=r(e),u=o(c),d=a(c.length),h=l?d-1:0,f=l?-1:1;if(n<2)for(;;){if(h in u){s=u[h],h+=f;break}if(h+=f,l?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;l?h>=0:d>h;h+=f)h in u&&(s=t(s,u[h],h,c));return s}},function(e,t,n){"use strict";var i=n(63),r=n(363),o=n(45);e.exports=[].copyWithin||function(e,t){var n=i(this),a=o(n.length),s=r(e,a),l=r(t,a),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?a:r(c,a))-l,a-s),d=1;for(l<s&&s<l+u&&(d=-1,l+=u-1,s+=u-1);u-- >0;)l in n?n[s]=n[l]:delete n[s],s+=d,l+=d;return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){n(43)&&"g"!=/./g.flags&&n(35).f(RegExp.prototype,"flags",{configurable:!0,get:n(498)})},function(e,t,n){"use strict";var i,r,o,a,s=n(361),l=n(23),c=n(87),u=n(415),d=n(12),h=n(24),f=n(88),p=n(378),m=n(419),g=n(420),_=n(499).set,v=n(755)(),y=n(542),b=n(756),w=n(421),k=n(543),M=l.TypeError,x=l.process,C=x&&x.versions,S=C&&C.v8||"",T=l.Promise,L="process"==u(x),E=function(){},D=r=y.f,O=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n(30)("species")]=function(e){e(E,E)};return(L||"function"==typeof PromiseRejectionEvent)&&e.then(E)instanceof t&&0!==S.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),A=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},Y=function(e,t){if(!e._n){e._n=!0;var n=e._c;v(function(){for(var i=e._v,r=1==e._s,o=0,a=function(t){var n,o,a,s=r?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{s?(r||(2==e._h&&P(e),e._h=1),!0===s?n=i:(u&&u.enter(),n=s(i),u&&(u.exit(),a=!0)),n===t.promise?c(M("Promise-chain cycle")):(o=A(n))?o.call(n,l,c):l(n)):c(i)}catch(e){u&&!a&&u.exit(),c(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&R(e)})}},R=function(e){_.call(l,function(){var t,n,i,r=e._v,o=j(e);if(o&&(t=b(function(){L?x.emit("unhandledRejection",r,e):(n=l.onunhandledrejection)?n({promise:e,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)}),e._h=L||j(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},j=function(e){return 1!==e._h&&0===(e._a||e._c).length},P=function(e){_.call(l,function(){var t;L?x.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},N=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),Y(t,!0))},H=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw M("Promise can't be resolved itself");(t=A(e))?v(function(){var i={_w:n,_d:!1};try{t.call(e,c(H,i,1),c(N,i,1))}catch(e){N.call(i,e)}}):(n._v=e,n._s=1,Y(n,!1))}catch(e){N.call({_w:n,_d:!1},e)}}};O||(T=function(e){p(this,T,"Promise","_h"),f(e),i.call(this);try{e(c(H,this,1),c(N,this,1))}catch(e){N.call(this,e)}},(i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(379)(T.prototype,{then:function(e,t){var n=D(g(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=L?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&Y(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new i;this.promise=e,this.resolve=c(H,e,1),this.reject=c(N,e,1)},y.f=D=function(e){return e===T||e===a?new o(e):r(e)}),d(d.G+d.W+d.F*!O,{Promise:T}),n(374)(T,"Promise"),n(377)("Promise"),a=n(44).Promise,d(d.S+d.F*!O,"Promise",{reject:function(e){var t=D(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!O),"Promise",{resolve:function(e){return k(s&&this===a?T:this,e)}}),d(d.S+d.F*!(O&&n(417)(function(e){T.all(e).catch(E)})),"Promise",{all:function(e){var t=this,n=D(t),i=n.resolve,r=n.reject,o=b(function(){var n=[],o=0,a=1;m(e,!1,function(e){var s=o++,l=!1;n.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,n[s]=e,--a||i(n))},r)}),--a||i(n)});return o.e&&r(o.v),n.promise},race:function(e){var t=this,n=D(t),i=n.reject,r=b(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(e,t,n){"use strict";var i=n(88);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i}),this.resolve=i(t),this.reject=i(n)}(e)}},function(e,t,n){var i=n(29),r=n(24),o=n(542);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var i=n(35).f,r=n(364),o=n(379),a=n(87),s=n(378),l=n(419),c=n(489),u=n(539),d=n(377),h=n(43),f=n(97).fastKey,p=n(380),m=h?"_s":"size",g=function(e,t){var n,i=f(t);if("F"!==i)return e._i[i];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var u=e(function(e,i){s(e,u,t,"_i"),e._t=t,e._i=r(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=i&&l(i,n,e[c],e)});return o(u.prototype,{clear:function(){for(var e=p(this,t),n=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=p(this,t),i=g(n,e);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[m]--}return!!i},forEach:function(e){p(this,t);for(var n,i=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!g(p(this,t),e)}}),h&&i(u.prototype,"size",{get:function(){return p(this,t)[m]}}),u},def:function(e,t,n){var i,r,o=g(e,t);return o?o.v=n:(e._l=o={i:r=f(t,!0),k:t,v:n,p:i=e._l,n:void 0,r:!1},e._f||(e._f=o),i&&(i.n=o),e[m]++,"F"!==r&&(e._i[r]=o)),e},getEntry:g,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=p(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?u(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,u(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){"use strict";var i=n(379),r=n(97).getWeak,o=n(29),a=n(24),s=n(378),l=n(419),c=n(77),u=n(60),d=n(380),h=c(5),f=c(6),p=0,m=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},_=function(e,t){return h(e.a,function(e){return e[0]===t})};g.prototype={get:function(e){var t=_(this,e);if(t)return t[1]},has:function(e){return!!_(this,e)},set:function(e,t){var n=_(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=f(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var c=e(function(e,i){s(e,c,t,"_i"),e._t=t,e._i=p++,e._l=void 0,void 0!=i&&l(i,n,e[o],e)});return i(c.prototype,{delete:function(e){if(!a(e))return!1;var n=r(e);return!0===n?m(d(this,t)).delete(e):n&&u(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=r(e);return!0===n?m(d(this,t)).has(e):n&&u(n,this._i)}}),c},def:function(e,t,n){var i=r(o(t),!0);return!0===i?m(e).set(t,n):i[e._i]=n,e},ufstore:m}},function(e,t,n){var i=n(91),r=n(45);e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=r(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var i=n(365),r=n(414),o=n(29),a=n(23).Reflect;e.exports=a&&a.ownKeys||function(e){var t=i.f(o(e)),n=r.f;return n?t.concat(n(e)):t}},function(e,t,n){var i=n(45),r=n(486),o=n(90);e.exports=function(e,t,n,a){var s=String(o(e)),l=s.length,c=void 0===n?" ":String(n),u=i(t);if(u<=l||""==c)return s;var d=u-l,h=r.call(c,Math.ceil(d/c.length));return h.length>d&&(h=h.slice(0,d)),a?h+s:s+h}},function(e,t,n){var i=n(362),r=n(62),o=n(397).f;e.exports=function(e){return function(t){for(var n,a=r(t),s=i(a),l=s.length,c=0,u=[];l>c;)o.call(a,n=s[c++])&&u.push(e?[n,a[n]]:a[n]);return u}}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,c=[],u=!1,d=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=s(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";var i=n(64),r=n(830),o=n(832),a=n(833),s=n(834),l=n(553),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(835);e.exports=function(e){return new Promise(function(t,u){var d=e.data,h=e.headers;i.isFormData(d)&&delete h["Content-Type"];var f=new XMLHttpRequest,p="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||s(e.url)||(f=new window.XDomainRequest,p="onload",m=!0,f.onprogress=function(){},f.ontimeout=function(){}),e.auth){var g=e.auth.username||"",_=e.auth.password||"";h.Authorization="Basic "+c(g+":"+_)}if(f.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f[p]=function(){if(f&&(4===f.readyState||m)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:n,config:e,request:f};r(t,u,i),f=null}},f.onerror=function(){u(l("Network Error",e,null,f)),f=null},f.ontimeout=function(){u(l("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",f)),f=null},i.isStandardBrowserEnv()){var v=n(836),y=(e.withCredentials||s(e.url))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;y&&(h[e.xsrfHeaderName]=y)}if("setRequestHeader"in f&&i.forEach(h,function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete h[t]:f.setRequestHeader(t,e)}),e.withCredentials&&(f.withCredentials=!0),e.responseType)try{f.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){f&&(f.abort(),u(e),f=null)}),void 0===d&&(d=null),f.send(d)})}},function(e,t,n){"use strict";var i=n(831);e.exports=function(e,t,n,r,o){var a=new Error(e);return i(a,t,n,r,o)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function i(e){this.message=e}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,e.exports=i},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=r.a;r.a.fn.extend({hoverhighlight:function(e,t){return e=e||"body",this.length?(o(this).each(function(){var n=o(this),i=n.data("target");i&&n.mouseover(function(n){o(i,e).css({background:t})}).mouseout(function(e){o(i).css({background:""})})}),this):this}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportedMarkups={ascii:!0,unicode:!0,html:!0}},function(e,t,n){"use strict";function i(e,t){for(var n=[],i=0;i<t.length;i++){var r=t.charAt(i);n.push({string:r,category:e(r)})}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultCategories=function(e){switch(e){case"\\":return 0;case"{":return 1;case"}":return 2;case"$":return 3;case"&":return 4;case"\r":return 5;case"#":return 6;case"^":return 7;case"_":return 8;case"\0":return 9;case" ":return 10;case"~":return 13;case"%":return 14;case"d":return 15;default:return 11}},t.convertToTeXCharsDefault=function(e){return i(t.defaultCategories,e)},t.convertToTeXChars=i},function(e,t,n){(function(t){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,n,i){"use strict";function r(e){if(!(this instanceof r))return new r(e);this._=e}var o=r.prototype;function a(e,t){for(var n=0;n<e;n++)t(n)}function s(e,t,n){return function(e,t){a(t.length,function(n){e(t[n],n,t)})}(function(n,i,r){t=e(t,n,i,r)},n),t}function l(e,t){return s(function(t,n,i,r){return t.concat([e(n,i,r)])},[],t)}function c(e,n){var i={v:0,buf:n};return a(e,function(){var e;i={v:i.v<<1|(e=i.buf,e[0]>>7),buf:function(e){var n=s(function(e,n,i,r){return e.concat(i===r.length-1?t.from([n,0]).readUInt16BE(0):r.readUInt16BE(i))},[],e);return t.from(l(function(e){return(e<<1&65535)>>8},n))}(i.buf)}}),i}function u(){return void 0!==t}function d(){if(!u())throw new Error("Buffer global does not exist; please consider using https://github.com/feross/buffer if you are running Parsimmon in a browser.")}function h(e){d();var t=s(function(e,t){return e+t},0,e);if(t%8!=0)throw new Error("The bits ["+e.join(", ")+"] add up to "+t+" which is not an even number of bytes; the total should be divisible by 8");var n,i=t/8,o=(n=function(e){return e>48},s(function(e,t){return e||(n(t)?t:e)},null,e));if(o)throw new Error(o+" bit range requested exceeds 48 bit (6 byte) Number max.");return new r(function(t,n){var r=i+n;return r>t.length?M(n,i.toString()+" bytes"):k(r,s(function(e,t){var n=c(t,e.buf);return{coll:e.coll.concat(n.v),buf:n.buf}},{coll:[],buf:t.slice(n,r)},e).coll)})}function f(e,t){return d(),new r(function(n,i){return i+t>n.length?M(i,t+" bytes for "+e):k(i+t,n.slice(i,i+t))})}function p(e,t){if("number"!=typeof(n=t)||Math.floor(n)!==n||t<0||t>6)throw new Error(e+" requires integer length in range [0, 6].");var n}function m(e){return p("uintBE",e),f("uintBE("+e+")",e).map(function(t){return t.readUIntBE(0,e)})}function g(e){return p("uintLE",e),f("uintLE("+e+")",e).map(function(t){return t.readUIntLE(0,e)})}function _(e){return p("intBE",e),f("intBE("+e+")",e).map(function(t){return t.readIntBE(0,e)})}function v(e){return p("intLE",e),f("intLE("+e+")",e).map(function(t){return t.readIntLE(0,e)})}function y(e){return e instanceof r}function b(e){return"[object Array]"==={}.toString.call(e)}function w(e){return u()&&t.isBuffer(e)}function k(e,t){return{status:!0,index:e,value:t,furthest:-1,expected:[]}}function M(e,t){return b(t)||(t=[t]),{status:!1,index:-1,value:null,furthest:e,expected:t}}function x(e,t){if(!t)return e;if(e.furthest>t.furthest)return e;var n=e.furthest===t.furthest?function(e,t){for(var n={},i=0;i<e.length;i++)n[e[i]]=!0;for(var r=0;r<t.length;r++)n[t[r]]=!0;var o=[];for(var a in n)({}).hasOwnProperty.call(n,a)&&o.push(a);return o.sort(),o}(e.expected,t.expected):t.expected;return{status:e.status,index:e.index,value:e.value,furthest:t.furthest,expected:n}}function C(e,t){if(w(e))return{offset:t,line:-1,column:-1};var n=e.slice(0,t).split("\n");return{offset:t,line:n.length,column:n[n.length-1].length+1}}function S(e){if(!y(e))throw new Error("not a parser: "+e)}function T(e,t){return"string"==typeof e?e.charAt(t):e[t]}function L(e){if("number"!=typeof e)throw new Error("not a number: "+e)}function E(e){if("function"!=typeof e)throw new Error("not a function: "+e)}function D(e){if("string"!=typeof e)throw new Error("not a string: "+e)}var O=2,A=3,Y=8,R=5*Y,j=4*Y,P="  ";function N(e,t){return new Array(t+1).join(e)}function H(e,t,n){var i=t-e.length;return i<=0?e:N(n,i)+e}function I(e,t,n,i){return{from:e-t>0?e-t:0,to:e+n>i?i:e+n}}function F(e,t){return["\n","-- PARSING FAILED "+N("-",50),"\n\n",function(e,t){var n,i,r,o,a,c=t.index,u=c.offset,d=1;if(u===e.length)return"Got the end of the input";if(w(e)){var h=u-u%Y,f=u-h,p=I(h,R,j+Y,e.length),m=l(function(e){return l(function(e){return H(e.toString(16),2,"0")},e)},function(e,t){var n=e.length,i=[],r=0;if(n<=t)return[e.slice()];for(var o=0;o<n;o++)i[r]||i.push([]),i[r].push(e[o]),(o+1)%t==0&&r++;return i}(e.slice(p.from,p.to).toJSON().data,Y));o=function(e){return 0===e.from&&1===e.to?{from:e.from,to:e.to}:{from:e.from/Y,to:Math.floor(e.to/Y)}}(p),i=h/Y,n=3*f,f>=4&&(n+=1),d=2,r=l(function(e){return e.length<=4?e.join(" "):e.slice(0,4).join(" ")+"  "+e.slice(4).join(" ")},m),(a=(8*(o.to>0?o.to-1:o.to)).toString(16).length)<2&&(a=2)}else{var g=e.split(/\r\n|[\n\r\u2028\u2029]/);n=c.column-1,i=c.line-1,o=I(i,O,A,g.length),r=g.slice(o.from,o.to),a=o.to.toString().length}var _=i-o.from;return w(e)&&(a=(8*(o.to>0?o.to-1:o.to)).toString(16).length)<2&&(a=2),s(function(t,i,r){var s,l=r===_,c=l?"> ":P;return s=w(e)?H((8*(o.from+r)).toString(16),a,"0"):H((o.from+r+1).toString(),a," "),[].concat(t,[c+s+" | "+i],l?[P+N(" ",a)+" | "+H("",n," ")+N("^",d)]:[])},[],r).join("\n")}(e,t),"\n\n",(n=t.expected,1===n.length?"Expected:\n\n"+n[0]:"Expected one of the following: \n\n"+n.join(", ")),"\n"].join("");var n}function $(e){var t=""+e;return t.slice(t.lastIndexOf("/")+1)}function W(){for(var e=[].slice.call(arguments),t=e.length,n=0;n<t;n+=1)S(e[n]);return r(function(n,i){for(var r,o=new Array(t),a=0;a<t;a+=1){if(!(r=x(e[a]._(n,i),r)).status)return r;o[a]=r.value,i=r.index}return x(k(i,o),r)})}function z(){var e=[].slice.call(arguments);if(0===e.length)throw new Error("seqMap needs at least one argument");var t=e.pop();return E(t),W.apply(null,e).map(function(e){return t.apply(null,e)})}function B(){var e=[].slice.call(arguments),t=e.length;if(0===t)return K("zero alternates");for(var n=0;n<t;n+=1)S(e[n]);return r(function(t,n){for(var i,r=0;r<e.length;r+=1)if((i=x(e[r]._(t,n),i)).status)return i;return i})}function V(e,t){return U(e,t).or(J([]))}function U(e,t){return S(e),S(t),z(e,t.then(e).many(),function(e,t){return[e].concat(t)})}function q(e){D(e);var t="'"+e+"'";return r(function(n,i){var r=i+e.length,o=n.slice(i,r);return o===e?k(r,o):M(i,t)})}function G(e,t){!function(e){if(!(e instanceof RegExp))throw new Error("not a regexp: "+e);for(var t=$(e),n=0;n<t.length;n++){var i=t.charAt(n);if("i"!==i&&"m"!==i&&"u"!==i)throw new Error('unsupported regexp flag "'+i+'": '+e)}}(e),arguments.length>=2?L(t):t=0;var n=function(e){return RegExp("^(?:"+e.source+")",$(e))}(e),i=""+e;return r(function(e,r){var o=n.exec(e.slice(r));if(o){if(0<=t&&t<=o.length){var a=o[0],s=o[t];return k(r+a.length,s)}return M(r,"valid match group (0 to "+o.length+") in "+i)}return M(r,i)})}function J(e){return r(function(t,n){return k(n,e)})}function K(e){return r(function(t,n){return M(n,e)})}function X(e){if(y(e))return r(function(t,n){var i=e._(t,n);return i.index=n,i.value="",i});if("string"==typeof e)return X(q(e));if(e instanceof RegExp)return X(G(e));throw new Error("not a string, regexp, or parser: "+e)}function Q(e){return S(e),r(function(t,n){var i=e._(t,n),r=t.slice(n,i.index);return i.status?M(n,'not "'+r+'"'):k(n,null)})}function Z(e){return E(e),r(function(t,n){var i=T(t,n);return n<t.length&&e(i)?k(n+1,i):M(n,"a character/byte matching "+e)})}function ee(e,t){arguments.length<2&&(t=e,e=void 0);var n=r(function(e,i){return n._=t()._,n._(e,i)});return e?n.desc(e):n}function te(){return K("fantasy-land/empty")}o.parse=function(e){if("string"!=typeof e&&!w(e))throw new Error(".parse must be called with a string or Buffer as its argument");var t=this.skip(oe)._(e,0);return t.status?{status:!0,value:t.value}:{status:!1,index:C(e,t.furthest),expected:t.expected}},o.tryParse=function(e){var t=this.parse(e);if(t.status)return t.value;var n=F(e,t),i=new Error(n);throw i.type="ParsimmonError",i.result=t,i},o.or=function(e){return B(this,e)},o.trim=function(e){return this.wrap(e,e)},o.wrap=function(e,t){return z(e,this,t,function(e,t){return t})},o.thru=function(e){return e(this)},o.then=function(e){return S(e),W(this,e).map(function(e){return e[1]})},o.many=function(){var e=this;return r(function(t,n){for(var i=[],r=void 0;;){if(!(r=x(e._(t,n),r)).status)return x(k(n,i),r);if(n===r.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");n=r.index,i.push(r.value)}})},o.tieWith=function(e){return D(e),this.map(function(t){if(function(e){if(!b(e))throw new Error("not an array: "+e)}(t),t.length){D(t[0]);for(var n=t[0],i=1;i<t.length;i++)D(t[i]),n+=e+t[i];return n}return""})},o.tie=function(){return this.tieWith("")},o.times=function(e,t){var n=this;return arguments.length<2&&(t=e),L(e),L(t),r(function(i,r){for(var o=[],a=void 0,s=void 0,l=0;l<e;l+=1){if(s=x(a=n._(i,r),s),!a.status)return s;r=a.index,o.push(a.value)}for(;l<t&&(s=x(a=n._(i,r),s),a.status);l+=1)r=a.index,o.push(a.value);return x(k(r,o),s)})},o.result=function(e){return this.map(function(){return e})},o.atMost=function(e){return this.times(0,e)},o.atLeast=function(e){return z(this.times(e),this.many(),function(e,t){return e.concat(t)})},o.map=function(e){E(e);var t=this;return r(function(n,i){var r=t._(n,i);return r.status?x(k(r.index,e(r.value)),r):r})},o.contramap=function(e){E(e);var t=this;return r(function(n,i){var r=t.parse(e(n.slice(i)));return r.status?k(i+n.length,r.value):r})},o.promap=function(e,t){return E(e),E(t),this.contramap(e).map(t)},o.skip=function(e){return W(this,e).map(function(e){return e[0]})},o.mark=function(){return z(ne,this,ne,function(e,t,n){return{start:e,value:t,end:n}})},o.node=function(e){return z(ne,this,ne,function(t,n,i){return{name:e,value:n,start:t,end:i}})},o.sepBy=function(e){return V(this,e)},o.sepBy1=function(e){return U(this,e)},o.lookahead=function(e){return this.skip(X(e))},o.notFollowedBy=function(e){return this.skip(Q(e))},o.desc=function(e){b(e)||(e=[e]);var t=this;return r(function(n,i){var r=t._(n,i);return r.status||(r.expected=e),r})},o.fallback=function(e){return this.or(J(e))},o.ap=function(e){return z(e,this,function(e,t){return e(t)})},o.chain=function(e){var t=this;return r(function(n,i){var r=t._(n,i);return r.status?x(e(r.value)._(n,r.index),r):r})},o.concat=o.or,o.empty=te,o.of=J,o["fantasy-land/ap"]=o.ap,o["fantasy-land/chain"]=o.chain,o["fantasy-land/concat"]=o.concat,o["fantasy-land/empty"]=o.empty,o["fantasy-land/of"]=o.of,o["fantasy-land/map"]=o.map;var ne=r(function(e,t){return k(t,C(e,t))}),ie=r(function(e,t){return t>=e.length?M(t,"any character/byte"):k(t+1,T(e,t))}),re=r(function(e,t){return k(e.length,e.slice(t))}),oe=r(function(e,t){return t<e.length?M(t,"EOF"):k(t,null)}),ae=G(/[0-9]/).desc("a digit"),se=G(/[0-9]*/).desc("optional digits"),le=G(/[a-z]/i).desc("a letter"),ce=G(/[a-z]*/i).desc("optional letters"),ue=G(/\s*/).desc("optional whitespace"),de=G(/\s+/).desc("whitespace"),he=q("\r"),fe=q("\n"),pe=q("\r\n"),me=B(pe,fe,he).desc("newline"),ge=B(me,oe);r.all=re,r.alt=B,r.any=ie,r.cr=he,r.createLanguage=function(e){var t={};for(var n in e)({}).hasOwnProperty.call(e,n)&&function(n){t[n]=ee(function(){return e[n](t)})}(n);return t},r.crlf=pe,r.custom=function(e){return r(e(k,M))},r.digit=ae,r.digits=se,r.empty=te,r.end=ge,r.eof=oe,r.fail=K,r.formatError=F,r.index=ne,r.isParser=y,r.lazy=ee,r.letter=le,r.letters=ce,r.lf=fe,r.lookahead=X,r.makeFailure=M,r.makeSuccess=k,r.newline=me,r.noneOf=function(e){return Z(function(t){return e.indexOf(t)<0}).desc("none of '"+e+"'")},r.notFollowedBy=Q,r.of=J,r.oneOf=function(e){for(var t=e.split(""),n=0;n<t.length;n++)t[n]="'"+t[n]+"'";return Z(function(t){return e.indexOf(t)>=0}).desc(t)},r.optWhitespace=ue,r.Parser=r,r.range=function(e,t){return Z(function(n){return e<=n&&n<=t}).desc(e+"-"+t)},r.regex=G,r.regexp=G,r.sepBy=V,r.sepBy1=U,r.seq=W,r.seqMap=z,r.seqObj=function(){for(var e,t={},n=0,i=(e=arguments,Array.prototype.slice.call(e)),o=i.length,a=0;a<o;a+=1){var s=i[a];if(!y(s)){if(b(s)&&2===s.length&&"string"==typeof s[0]&&y(s[1])){var l=s[0];if(Object.prototype.hasOwnProperty.call(t,l))throw new Error("seqObj: duplicate key "+l);t[l]=!0,n++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(0===n)throw new Error("seqObj expects at least one named parser, found zero");return r(function(e,t){for(var n,r={},a=0;a<o;a+=1){var s,l;if(b(i[a])?(s=i[a][0],l=i[a][1]):(s=null,l=i[a]),!(n=x(l._(e,t),n)).status)return n;s&&(r[s]=n.value),t=n.index}return x(k(t,r),n)})},r.string=q,r.succeed=J,r.takeWhile=function(e){return E(e),r(function(t,n){for(var i=n;i<t.length&&e(T(t,i));)i++;return k(i,t.slice(n,i))})},r.test=Z,r.whitespace=de,r["fantasy-land/empty"]=te,r["fantasy-land/of"]=J,r.Binary={bitSeq:h,bitSeqObj:function(e){d();var t={},n=0,i=l(function(e){if(b(e)){var i=e;if(2!==i.length)throw new Error("["+i.join(", ")+"] should be length 2, got length "+i.length);if(D(i[0]),L(i[1]),Object.prototype.hasOwnProperty.call(t,i[0]))throw new Error("duplicate key in bitSeqObj: "+i[0]);return t[i[0]]=!0,n++,i}return L(e),[null,e]},e);if(n<1)throw new Error("bitSeqObj expects at least one named pair, got ["+e.join(", ")+"]");var r=l(function(e){return e[0]},i);return h(l(function(e){return e[1]},i)).map(function(e){return s(function(e,t){return null!==t[0]&&(e[t[0]]=t[1]),e},{},l(function(t,n){return[t,e[n]]},r))})},byte:function(e){if(d(),L(e),e>255)throw new Error("Value specified to byte constructor ("+e+"=0x"+e.toString(16)+") is larger in value than a single byte.");var t=(e>15?"0x":"0x0")+e.toString(16);return r(function(n,i){var r=T(n,i);return r===e?k(i+1,r):M(i,t)})},buffer:function(e){return f("buffer",e).map(function(e){return t.from(e)})},encodedString:function(e,t){return f("string",t).map(function(t){return t.toString(e)})},uintBE:m,uint8BE:m(1),uint16BE:m(2),uint32BE:m(4),uintLE:g,uint8LE:g(1),uint16LE:g(2),uint32LE:g(4),intBE:_,int8BE:_(1),int16BE:_(2),int32BE:_(4),intLE:v,int8LE:v(1),int16LE:v(2),int32LE:v(4),floatBE:f("floatBE",4).map(function(e){return e.readFloatBE(0)}),floatLE:f("floatLE",4).map(function(e){return e.readFloatLE(0)}),doubleBE:f("doubleBE",8).map(function(e){return e.readDoubleBE(0)}),doubleLE:f("doubleLE",8).map(function(e){return e.readDoubleLE(0)})},e.exports=r}])}).call(this,n(912).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unknownCommandError=function(e){return new Error("I do not know command "+e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCommandHandler=function(e,t,n,i){return{name:e,optionalArguments:t,argumentCount:n,apply:i}},t.createKnownCommandWithOptArgs=function(e,t,n){return{name:e,optionalArguments:t,argumentCount:n}},t.createKnownCommandWithArgs=function(e,t){return{name:e,optionalArguments:0,argumentCount:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formattingText={textbb:!0,textbf:!0,textfrak:!0,textit:!0,texttt:!0,textcal:!0,textsup:!0,textsub:!0,textsuperscript:!0,textsubscript:!0},t.formattingNoMode={bb:!0,bf:!0,frak:!0,it:!0,tt:!0,cal:!0,mono:!0,sup:!0,sub:!0,superscript:!0,subscript:!0},t.formattingMath={mathbb:!0,mathbf:!0,mathfrak:!0,mathit:!0,mathtt:!0,mathcal:!0,mathsup:!0,mathsub:!0,mathsuperscript:!0,mathsubscript:!0},t.isBbCmd=function(e){return"bb"===e||"mathbb"===e||"textbb"===e},t.isBfCmd=function(e){return"bf"===e||"mathbf"===e||"textbf"===e},t.isMonoCmd=function(e){return"mono"===e},t.isFrakCmd=function(e){return"frak"===e||"mathfrak"===e||"textfrak"===e},t.isItCmd=function(e){return"it"===e||"mathit"===e||"textit"===e},t.isTtCmd=function(e){return"tt"===e||"mathtt"===e||"texttt"===e},t.isCalCmd=function(e){return"cal"===e||"mathcal"===e||"textcal"===e},t.isSupCmd=function(e){return"sup"===e||"mathsup"===e||"textsup"===e||"superscript"===e||"mathsuperscript"===e||"textsuperscript"===e},t.isSubCmd=function(e){return"sub"===e||"mathsub"===e||"textsub"===e||"subscript"===e||"mathsubscript"===e||"textsubscript"===e},t.isFormattingCmd=function(e){return t.formattingText.hasOwnProperty(e)||t.formattingMath.hasOwnProperty(e)||t.formattingNoMode.hasOwnProperty(e)}},function(e,t,n){"use strict";function i(e){return t.superscriptCharacters.hasOwnProperty(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.superscriptCharacters={0:"⁰",1:"¹",2:"²",3:"³",4:"⁴",5:"⁵",6:"⁶",7:"⁷",8:"⁸",9:"⁹","+":"⁺","-":"⁻","=":"⁼","(":"⁽",")":"⁾",a:"ᵃ",b:"ᵇ",c:"ᶜ",d:"ᵈ",e:"ᵉ",f:"ᶠ",g:"ᵍ",h:"ʰ",i:"ⁱ",j:"ʲ",k:"ᵏ",l:"ˡ",m:"ᵐ",n:"ⁿ",o:"ᵒ",p:"ᵖ",r:"ʳ",s:"ˢ",t:"ᵗ",u:"ᵘ",v:"ᵛ",w:"ʷ",x:"ˣ",y:"ʸ",z:"ᶻ",A:"ᴬ",B:"ᴮ",D:"ᴰ",E:"ᴱ",G:"ᴳ",H:"ᴴ",I:"ᴵ",J:"ᴶ",K:"ᴷ",L:"ᴸ",M:"ᴹ",N:"ᴺ",O:"ᴼ",P:"ᴾ",R:"ᴿ",T:"ᵀ",U:"ᵁ",V:"ⱽ",W:"ᵂ","α":"ᵅ","β":"ᵝ","γ":"ᵞ","δ":"ᵟ","∊":"ᵋ","θ":"ᶿ","ι":"ᶥ","Φ":"ᶲ","φ":"ᵠ","χ":"ᵡ"},t.isSuperscriptCharacter=i,t.translateCharToSuperscript=function(e){return i(e)?t.superscriptCharacters[e]:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runesMap={ra:{"\\ae":"ᚨ","\\c":{unicode:"ᚳ",note:"approximation"},"\\d":{unicode:"ᛞ",note:"approximation"},"\\ea":"ᛠ","\\G":"ᚸ","\\g":{unicode:"ᚸ",note:"approximation"},"\\h":"ᚬ","\\j":"ᛄ","\\k":"ᛤ","\\ng":"ᛝ","\\OE":{unicode:"ᛟ",note:"approximation"},"\\oe":"ᛟ","\\rex":{unicode:"𐎟",note:"approximation"},"\\seight":{unicode:"⦚",note:"approximation"},"\\sfive":{unicode:"⦚",note:"approximation"},"\\sfour":{unicode:"⦚",note:"approximation"},"\\sseven":{unicode:"⦚",note:"approximation"},"\\ssix":{unicode:"⦚",note:"approximation"},"\\stan":{unicode:"ᛥ",note:"approximation"},"\\STAN":"ᛥ","\\sthree":"ᛊ","\\th":"ᚦ","\\y":{unicode:"ᚤ",note:"approximation"},a:"ᚪ",B:{unicode:"ᛒ",note:"approximation"},b:"ᛒ",c:"ᚳ",D:{unicode:"ᛞ",note:"approximation"},d:"ᛞ",e:"ᛖ",F:{unicode:"ᚠ",note:"approximation"},f:"ᚠ",g:"ᚷ",H:{unicode:"ᚺ",note:"approximation"},h:"ᚻ",i:"ᛁ",I:{unicode:"ᛇ",latex2:'\\"i'},'\\"i':"ᛇ",J:{unicode:"+",note:"approximation"},j:"ᚼ",k:"ᚲ",l:"ᛚ",m:"ᛗ",n:"ᚾ",o:"ᚩ",P:{unicode:"⥏",note:"approximation"},p:"ᛈ",q:"ᛢ",r:"ᚱ",S:{unicode:"⦚",note:"approximation"},s:"ᛋ",t:"ᛏ",U:{unicode:"Λ",note:"approximation"},u:"ᚢ",w:"ᚹ",x:"ᛉ",Y:{unicode:"ᚥ",note:"approximation"},y:{unicode:"ᚣ",note:"approximation"}},rc:{"\\A":"ᚼ","\\a":{unicode:"┝",note:"approximation"},"\\d":{unicode:"⋈",note:"approximation"},"\\h":"ᚻ","\\i":{unicode:"⥍",note:"approximation"},"\\ing":{unicode:"ᛄ",note:"approximation"},"\\Ing":{unicode:"ᛄ",note:"approximation"},"\\ING":"ᛄ","\\j":{unicode:"ᛃ",note:"approximation"},"\\k":{unicode:"⌵",note:"approximation"},"\\K":{unicode:"Υ",note:"approximation"},"\\ng":"ᛜ","\\NG":{unicode:"⸋",note:"approximation"},"\\p":{unicode:"ᛒ",note:"but with dot in lower"},"\\R":"ᛦ","\\RR":{unicode:"ᛯ",note:"approximation"},"\\s":"ᛋ","\\S":"ᛋ","\\seight":{unicode:"⦚",note:"approximation"},"\\sfive":{unicode:"⦚",note:"approximation"},"\\sseven":{unicode:"⦚",note:"approximation"},"\\sthree":{unicode:"⦚",note:"approximation"},"\\th":"ᚦ",a:"ᚨ",A:"ᛋ",b:"ᛒ",B:{unicode:"ᛒ",note:"approximation"},d:"ᛞ",D:{unicode:"▯",note:"approximation"},e:"ᛖ",E:{unicode:"⨅",note:"approximation"},f:{unicode:"ᚠ",note:"but skinny"},F:"ᚠ",g:"ᚷ",h:"ᚺ",H:{unicode:"𝖭",note:"approximation"},i:"ᛁ",I:{unicode:"⥌",note:"approximation"},'\\"i':{unicode:"⥌",note:"approximation"},j:"ᛃ",J:{unicode:"ϟ",note:"but with box"},k:"ᚲ",K:{unicode:"Ⴤ",note:"approximation"},l:"ᛚ",m:"ᛗ",n:"ᚾ",o:"ᛟ",p:"ᛈ",P:{unicode:"P",note:"approximation"},r:"ᚱ",R:"ᛉ",s:"ᛊ","\\sfour":"ᛊ",S:{unicode:"⦚",note:"approximation"},t:"ᛏ",T:{unicode:"ᛏ",note:"approximation"},u:"ᚢ",U:{unicode:"Λ",note:"approximation"},w:"ᚹ"},rm:{"\\a":"ᛆ",".a":"ᛆ","\\adot":{note:"ᛂ+ᛅ"},"'a":{note:"ᛂ+ᛅ"},"\\c":"ᛍ",".c":"ᛍ","\\D":{note:"Arrow with two dots"},T:{note:"Arrow with two dots"},"\\e":{unicode:"⟊",note:"approximation"},"=i":{unicode:"⟊",note:"approximation"},"\\g":{unicode:"?",note:"approximation"},"=k":{unicode:"?",note:"approximation"},"\\h":{unicode:"⚹",note:"approximation"},"\\l":"ᛛ",".l":"ᛛ","\\lbar":{note:"ᛚ with bar"},"=l":{note:"ᛚ with bar"},"\\ldot":{note:"ᛚ with dot"},"'l":{note:"ᛚ with dot"},"\\lflag":{note:"ᛚ with flag"},"~l":{note:"ᛚ with flag"},"\\lring":{note:"ᛚ with ring"},"^l":{note:"ᛚ with ring"},"\\m":{unicode:"ᚴ",note:"but mirrored"},"\\n":{unicode:"ᛀ",note:"approximation"},".n":{unicode:"ᛀ",note:"approximation"},"\\N":"ᛀ",".N":"ᛀ","\\ndot":{note:"ᚿ+ᛀ"},"'n":{note:"ᚿ+ᛀ"},"\\p":{unicode:"ᛒ",note:"but with dot in lower"},".b":{unicode:"ᛒ",note:"but with dot in lower"},"\\P":"ᛕ","\\Pdots":{note:"ᛕ with dots"},"\\q":{note:"ᚴ mirrored"},"\\Q":{note:"ᛕ mirrored"},"\\r":{unicode:"?",note:"approximation"},"\\rdot":{note:"ᚱ with dot"},".r":{note:"ᚱ with dot"},"\\tbar":{unicode:"ᛑ",note:"but with bar"},"=t":{unicode:"ᛑ",note:"but with bar"},"\\tdot":{unicode:"ᛑ",note:"but dot translated upper left"},"'t":{unicode:"ᛑ",note:"but dot translated upper left"},"\\tflag":{unicode:"ᛑ",note:"but with flag"},"~t":{unicode:"ᛑ",note:"but with flag"},"\\tring":{unicode:"ᛑ",note:"but with ring"},"^t":{unicode:"ᛑ",note:"but with ring"},a:"ᛆ",A:{unicode:"ᛆ",note:"but with bigger leg"},b:"ᛒ",B:{unicode:"ᛒ",note:"but like b"},c:"ᛌ",C:{unicode:"ᛍ",note:"approximation"},"^c":{unicode:"ᛍ",note:"approximation"},d:"ᛑ",".t":"ᛑ",D:{note:"ᛏ+ᛂ"},".T":{note:"ᛏ+ᛂ"},e:"ᛂ",".i":"ᛂ",E:{unicode:"ᛂ",note:"but with ring"},"^i":{unicode:"ᛂ",note:"but with ring"},f:"ᚠ",F:{note:"ᚠ with extra branch"},g:"ᚵ",".k":"ᚵ",G:{unicode:"ᚵ",note:"but dot translated bottom left"},"'k":{unicode:"ᚵ",note:"but dot translated bottom left"},h:"ᚼ",H:{unicode:"✳",note:"approximation"},i:"ᛧ",k:"ᚴ",l:"ᛚ",m:"ᛘ",n:"ᚿ",N:"ᚾ",o:"ᚮ",p:"ᛔ",P:"ᚹ",q:{note:"ᚹ mirrored"},r:"ᚱ"},rn:{".i":"ᛂ",e:"ᛂ",".k":"ᚵ",g:"ᚵ",".u":"ᚤ",y:"ᚤ","\\m":{note:"ᛘ with dots"},M:{note:"⫯ with plus"},"\\M":{note:"⫯ with plus"},"\\A":"ᚬ","\\bar":{unicode:"❘",note:"approximation"},"!":{unicode:"❘",note:"approximation"},"\\cross":"⨯","*":"⨯","\\dot":"᛫",".":"᛫","\\doublebar":"¦","\\doublecross":{note:"two stacked x's"},"\\doubledot":"᛬",":":"᛬","\\doubleeye":"᛬","\\doubleplus":{unicode:"‡",note:"approximation"},"\\eye":"᛫","\\pentdot":{unicode:"⹘",note:"proposal"},"\\penteye":"⸭","\\plus":"᛭","+":"᛭","\\quaddot":"⁞","\\quadeye":{unicode:"⁘",note:"approximation"},"\\star":{unicode:"*",note:"approximation"},"\\th":"ᚦ","\\TH":{unicode:"ᚦ",note:"approximation"},"\\triplebar":"┆","\\triplecross":{note:"three stacked x's"},"\\tripledot":"⁝","\\tripleeye":"⋮","\\tripleplus":{note:"three stacked plusses"},A:"ᚭ",a:"ᛅ",b:"ᛒ",B:{unicode:"ᛒ",note:"but skinny"},f:"ᚠ",F:{unicode:"ᚠ",note:"but skinny"},h:"ᚼ",i:"ᛁ",k:"ᚴ",l:"ᛚ",m:"ᛘ",n:"ᚾ",r:"ᚱ",R:"ᛣ",s:"ᛋ",S:{unicode:"𝗁",note:"but with sharp corner"},t:"ᛏ",u:{latex1:"u"}},rt:{},rl:{"\\A":{unicode:"ߌ",note:"approximation"},"\\th":"ᛧ",A:{unicode:"`",note:"approximation"},a:{unicode:"´",note:"approximation"},b:{unicode:"´",note:"approximation"},f:{unicode:"ߌ",note:"approximation"},h:"ᛙ",i:"ᛁ",k:"ᛍ",l:{unicode:"`",note:"approximation"},m:{unicode:":",note:"approximation"},n:{unicode:"`",note:"approximation"},r:{unicode:"⎧",note:"approximation"},R:{unicode:":",note:"approximation"},s:"ᛧ",t:{unicode:"´",note:"approximation"},u:{unicode:"⎫",note:"approximation"}}},t.isRuneType=function(e){return t.runesMap.hasOwnProperty(e)},t.runeUnicode=function(e,n){var i=t.runesMap[e];if(i){var r=i[n];return"string"==typeof r?r:r.unicode?r.unicode:void 0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(950),r=n(951),o=n(562),a=n(564);t.oneArgsCommands=Object.assign({},i.spaceCmds1arg,o.formattingText,o.formattingMath,o.formattingNoMode,r.diacriticsTextMode,r.diacriticsMathMode,a.runesMap,{cyrchar:!0,vec:!0,mono:!0,ding:!0,dingbat:!0,ElsevierGlyph:!0,elsevierglyph:!0,elsevier:!0,Elsevier:!0}),t.is1argsCommand=function(e){return t.oneArgsCommands.hasOwnProperty(e)}},function(e,t,n){(function(e){!function(e){e.fn.farbtastic=function(t){return e.farbtastic(this,t),this},e.farbtastic=function(t,n){return(t=e(t)[0]).farbtastic||(t.farbtastic=new e._farbtastic(t,n))},e._farbtastic=function(t,n){var i=this;i.linkTo=function(t){return"object"==typeof i.callback&&e(i.callback).unbind("keyup",i.updateValue),i.color=null,"function"==typeof t?i.callback=t:"object"!=typeof t&&"string"!=typeof t||(i.callback=e(t),i.callback.bind("keyup",i.updateValue),i.callback[0].value&&i.setColor(i.callback[0].value)),this},i.updateValue=function(e){this.value&&this.value!=i.color&&i.setColor(this.value)},i.setColor=function(e){var t=i.unpack(e);return i.color!=e&&t&&(i.color=e,i.rgb=t,i.hsl=i.RGBToHSL(i.rgb),i.updateDisplay()),this},i.setHSL=function(e){return i.hsl=e,i.rgb=i.HSLToRGB(e),i.color=i.pack(i.rgb),i.updateDisplay(),this},i.initWidget=function(){var r={width:n.width,height:n.width};e(t).html('<div class="farbtastic" style="position: relative"><div class="farbtastic-solid"></div><canvas class="farbtastic-mask"></canvas><canvas class="farbtastic-overlay"></canvas></div>').find("*").attr(r).css(r).end().find("div>*").css("position","absolute"),e.browser.msie,i.radius=(n.width-n.wheelWidth)/2-1,i.square=Math.floor(.7*(i.radius-n.wheelWidth/2))-1,i.mid=Math.floor(n.width/2),i.markerSize=.3*n.wheelWidth,i.solidFill=e(".farbtastic-solid",t).css({width:2*i.square-1,height:2*i.square-1,left:i.mid-i.square,top:i.mid-i.square}),i.cnvMask=e(".farbtastic-mask",t),i.ctxMask=i.cnvMask[0].getContext("2d"),i.cnvOverlay=e(".farbtastic-overlay",t),i.ctxOverlay=i.cnvOverlay[0].getContext("2d"),i.ctxMask.translate(i.mid,i.mid),i.ctxOverlay.translate(i.mid,i.mid),i.drawCircle(),i.drawMask()},i.drawCircle=function(){new Date;var t,r,o=i.radius,a=n.wheelWidth,s=8/o/24*Math.PI,l=i.ctxMask,c=0;l.save(),l.lineWidth=a/o,l.scale(o,o);for(var u=0;u<=24;++u){var d=u/24,h=d*Math.PI*2,f=Math.sin(c),p=-Math.cos(c);if(x2=Math.sin(h),y2=-Math.cos(h),am=(c+h)/2,tan=1/Math.cos((h-c)/2),xm=Math.sin(am)*tan,ym=-Math.cos(am)*tan,color2=i.pack(i.HSLToRGB([d,1,.5])),u>0)if(e.browser.msie){var m=(1+Math.min(Math.abs(Math.tan(c)),Math.abs(Math.tan(Math.PI/2-c))))/24;t=i.pack(i.HSLToRGB([r-.15*m,1,.5])),color2=i.pack(i.HSLToRGB([d+.15*m,1,.5])),(v=l.createLinearGradient(f,p,x2,y2)).addColorStop(0,t),v.addColorStop(1,color2),l.fillStyle=v;var g=(o+a/2)/o,_=(o-a/2)/o;l.beginPath(),l.moveTo(f*g,p*g),l.quadraticCurveTo(xm*g,ym*g,x2*g,y2*g),l.lineTo(x2*_,y2*_),l.quadraticCurveTo(xm*_,ym*_,f*_,p*_),l.fill()}else{var v;(v=l.createLinearGradient(f,p,x2,y2)).addColorStop(0,t),v.addColorStop(1,color2),l.strokeStyle=v,l.beginPath(),l.moveTo(f,p),l.quadraticCurveTo(xm,ym,x2,y2),l.stroke()}c=h-s,t=color2,r=d}l.restore()},i.drawMask=function(){new Date;var t=2*i.square,n=i.square;function r(e,t,n){for(var i=1/e,r=1/t,o=0;o<=t;++o)for(var a=1-o*r,s=0;s<=e;++s){var l=1-s*i,c=1-2*Math.min(a*l,(1-a)*l);n(s,o,c>0?.5*(2*a-1+c)/c:0,c)}}if(i.ctxMask.getImageData){var o=Math.floor(t/2),a=document.createElement("canvas");a.width=a.height=o+1;var s=a.getContext("2d"),l=s.getImageData(0,0,o+1,o+1),c=0;r(o,o,function(e,t,n,i){l.data[c++]=l.data[c++]=l.data[c++]=255*n,l.data[c++]=255*i}),s.putImageData(l,0,0),i.ctxMask.drawImage(a,0,0,o+1,o+1,-n,-n,2*n,2*n)}else if(e.browser.msie){var u,d,h=Math.floor(t/6);r(h,6,function(t,r,o,a){if(0==t&&(u=d,d=[]),o=Math.round(255*o),a=Math.round(255*a),r>0){var s=u[t][0],l=u[t][1],c=i.packDX(s,l),f=i.packDX(o,a),p=Math.round(i.mid+(.333*(r-1)-1)*n),m=Math.round(i.mid+(.333*r-1)*n);e("<div>").css({position:"absolute",filter:"progid:DXImageTransform.Microsoft.Gradient(StartColorStr="+c+", EndColorStr="+f+", GradientType=0)",top:p,height:m-p,left:i.mid+(6*t-n-1),width:6-(t==h?Math.round(3):0)}).appendTo(i.cnvMask)}d.push([o,a])})}else{r(o=Math.floor(t/2),o,function(e,t,r,o){r=Math.round(255*r),i.ctxMask.fillStyle="rgba("+r+", "+r+", "+r+", "+o+")",i.ctxMask.fillRect(2*e-n-1,2*t-n-1,2,2)})}},i.drawMarkers=function(){var e=n.width,t=Math.ceil(i.markerSize/4),r=i.markerSize-t+1,o=6.28*i.hsl[0],a=Math.sin(o)*i.radius,s=-Math.cos(o)*i.radius,l=2*i.square*(.5-i.hsl[1]),c=2*i.square*(.5-i.hsl[2]),u=i.invert?"#fff":"#000",d=i.invert?"#000":"#fff",h=[{x:a,y:s,r:r,c:"#000",lw:t+1},{x:a,y:s,r:i.markerSize,c:"#fff",lw:t},{x:l,y:c,r:r,c:d,lw:t+1},{x:l,y:c,r:i.markerSize,c:u,lw:t}];i.ctxOverlay.clearRect(-i.mid,-i.mid,e,e);for(var f=0;f<h.length;f++){var p=h[f];i.ctxOverlay.lineWidth=p.lw,i.ctxOverlay.strokeStyle=p.c,i.ctxOverlay.beginPath(),i.ctxOverlay.arc(p.x,p.y,p.r,0,2*Math.PI,!0),i.ctxOverlay.stroke()}},i.updateDisplay=function(){i.invert=.3*i.rgb[0]+.59*i.rgb[1]+.11*i.rgb[2]<=.6,i.solidFill.css("backgroundColor",i.pack(i.HSLToRGB([i.hsl[0],1,.5]))),i.drawMarkers(),"object"==typeof i.callback?(e(i.callback).css({backgroundColor:i.color,color:i.invert?"#fff":"#000"}),e(i.callback).each(function(){"string"==typeof this.value&&this.value!=i.color&&(this.value=i.color)}).change()):"function"==typeof i.callback&&i.callback.call(i,i.color)},i.widgetCoords=function(e){return{x:e.pageX-i.offset.left-i.mid,y:e.pageY-i.offset.top-i.mid}},i.mousedown=function(n){e._farbtastic.dragging||(e(document).bind("mousemove",i.mousemove).bind("mouseup",i.mouseup),e._farbtastic.dragging=!0),i.offset=e(t).offset();var r=i.widgetCoords(n);return i.circleDrag=Math.max(Math.abs(r.x),Math.abs(r.y))>i.square+2,i.mousemove(n),!1},i.mousemove=function(e){var t=i.widgetCoords(e);if(i.circleDrag){var n=Math.atan2(t.x,-t.y)/6.28;i.setHSL([(n+1)%1,i.hsl[1],i.hsl[2]])}else{var r=Math.max(0,Math.min(1,-t.x/i.square/2+.5)),o=Math.max(0,Math.min(1,-t.y/i.square/2+.5));i.setHSL([i.hsl[0],r,o])}return!1},i.mouseup=function(){e(document).unbind("mousemove",i.mousemove),e(document).unbind("mouseup",i.mouseup),e._farbtastic.dragging=!1},i.dec2hex=function(e){return(e<16?"0":"")+e.toString(16)},i.packDX=function(e,t){return"#"+i.dec2hex(t)+i.dec2hex(e)+i.dec2hex(e)+i.dec2hex(e)},i.pack=function(e){var t=Math.round(255*e[0]),n=Math.round(255*e[1]),r=Math.round(255*e[2]);return"#"+i.dec2hex(t)+i.dec2hex(n)+i.dec2hex(r)},i.unpack=function(e){if(7==e.length){function t(t){return parseInt(e.substring(t,t+2),16)/255}return[t(1),t(3),t(5)]}if(4==e.length){function t(t){return parseInt(e.substring(t,t+1),16)/15}return[t(1),t(2),t(3)]}},i.HSLToRGB=function(e){var t,n,i=e[0],r=e[1],o=e[2];return t=2*o-(n=o<=.5?o*(r+1):o+r-o*r),[this.hueToRGB(t,n,i+.33333),this.hueToRGB(t,n,i),this.hueToRGB(t,n,i-.33333)]},i.hueToRGB=function(e,t,n){return 6*(n=(n+1)%1)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(.66666-n)*6:e},i.RGBToHSL=function(e){var t=e[0],n=e[1],i=e[2],r=Math.min(t,n,i),o=Math.max(t,n,i),a=o-r,s=0,l=0,c=(r+o)/2;return c>0&&c<1&&(l=a/(c<.5?2*c:2-2*c)),a>0&&(o==t&&o!=n&&(s+=(n-i)/a),o==n&&o!=i&&(s+=2+(i-t)/a),o==i&&o!=t&&(s+=4+(t-n)/a),s/=6),[s,l,c]},n.callback||(n={callback:n}),n=e.extend({width:300,wheelWidth:(n.width||300)/10,callback:null},n),i.initWidget(),e("canvas.farbtastic-overlay",t).mousedown(i.mousedown),n.callback&&i.linkTo(n.callback),i.color||i.setColor("#808080")}}(e)}).call(this,n(0))},function(e,t,n){(function(e){!function(e){"use strict";var t={};t.fileapi=void 0!==e("<input type='file'/>").get(0).files,t.formdata=void 0!==window.FormData;var n=!!e.fn.prop;function i(t){var n=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(n))}function r(t){var n=t.target,i=e(n);if(!i.is("[type=submit],[type=image]")){var r=i.closest("[type=submit]");if(0===r.length)return;n=r[0]}var o=this;if(o.clk=n,"image"==n.type)if(void 0!==t.offsetX)o.clk_x=t.offsetX,o.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var a=i.offset();o.clk_x=t.pageX-a.left,o.clk_y=t.pageY-a.top}else o.clk_x=t.pageX-n.offsetLeft,o.clk_y=t.pageY-n.offsetTop;setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}function o(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}e.fn.attr2=function(){if(!n)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(i){if(!this.length)return o("ajaxSubmit: skipping submit process - no element selected"),this;var r,a,s,l=this;"function"==typeof i?i={success:i}:void 0===i&&(i={}),r=i.type||this.attr2("method"),(s=(s="string"==typeof(a=i.url||this.attr2("action"))?e.trim(a):"")||window.location.href||"")&&(s=(s.match(/^([^#]+)/)||[])[1]),i=e.extend(!0,{url:s,success:e.ajaxSettings.success,type:r||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},i);var c={};if(this.trigger("form-pre-serialize",[this,i,c]),c.veto)return o("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(i.beforeSerialize&&!1===i.beforeSerialize(this,i))return o("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var u=i.traditional;void 0===u&&(u=e.ajaxSettings.traditional);var d,h=[],f=this.formToArray(i.semantic,h);if(i.data&&(i.extraData=i.data,d=e.param(i.data,u)),i.beforeSubmit&&!1===i.beforeSubmit(f,this,i))return o("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[f,this,i,c]),c.veto)return o("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var p=e.param(f,u);d&&(p=p?p+"&"+d:d),"GET"==i.type.toUpperCase()?(i.url+=(i.url.indexOf("?")>=0?"&":"?")+p,i.data=null):i.data=p;var m=[];if(i.resetForm&&m.push(function(){l.resetForm()}),i.clearForm&&m.push(function(){l.clearForm(i.includeHidden)}),!i.dataType&&i.target){var g=i.success||function(){};m.push(function(t){var n=i.replaceTarget?"replaceWith":"html";e(i.target)[n](t).each(g,arguments)})}else i.success&&m.push(i.success);if(i.success=function(e,t,n){for(var r=i.context||this,o=0,a=m.length;o<a;o++)m[o].apply(r,[e,t,n||l,l])},i.error){var _=i.error;i.error=function(e,t,n){var r=i.context||this;_.apply(r,[e,t,n,l])}}if(i.complete){var v=i.complete;i.complete=function(e,t){var n=i.context||this;v.apply(n,[e,t,l])}}var y=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}).length>0,b="multipart/form-data",w=l.attr("enctype")==b||l.attr("encoding")==b,k=t.fileapi&&t.formdata;o("fileAPI :"+k);var M,x=(y||w)&&!k;!1!==i.iframe&&(i.iframe||x)?i.closeKeepAlive?e.get(i.closeKeepAlive,function(){M=S(f)}):M=S(f):M=(y||w)&&k?function(t){for(var n=new FormData,o=0;o<t.length;o++)n.append(t[o].name,t[o].value);if(i.extraData){var a=function(t){var n,r,o=e.param(t,i.traditional).split("&"),a=o.length,s=[];for(n=0;n<a;n++)o[n]=o[n].replace(/\+/g," "),r=o[n].split("="),s.push([decodeURIComponent(r[0]),decodeURIComponent(r[1])]);return s}(i.extraData);for(o=0;o<a.length;o++)a[o]&&n.append(a[o][0],a[o][1])}i.data=null;var s=e.extend(!0,{},e.ajaxSettings,i,{contentType:!1,processData:!1,cache:!1,type:r||"POST"});i.uploadProgress&&(s.xhr=function(){var t=e.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",function(e){var t=0,n=e.loaded||e.position,r=e.total;e.lengthComputable&&(t=Math.ceil(n/r*100)),i.uploadProgress(e,n,r,t)},!1),t});s.data=null;var l=s.beforeSend;return s.beforeSend=function(e,t){i.formData?t.data=i.formData:t.data=n,l&&l.call(this,e,t)},e.ajax(s)}(f):e.ajax(i),l.removeData("jqxhr").data("jqxhr",M);for(var C=0;C<h.length;C++)h[C]=null;return this.trigger("form-submit-notify",[this,i]),this;function S(t){var a,s,c,u,d,f,p,m,g,_,v,y,b=l[0],w=e.Deferred();if(w.abort=function(e){m.abort(e)},t)for(s=0;s<h.length;s++)a=e(h[s]),n?a.prop("disabled",!1):a.removeAttr("disabled");if((c=e.extend(!0,{},e.ajaxSettings,i)).context=c.context||c,d="jqFormIO"+(new Date).getTime(),c.iframeTarget?(_=(f=e(c.iframeTarget)).attr2("name"))?d=_:f.attr2("name",d):(f=e('<iframe name="'+d+'" src="'+c.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),p=f[0],m={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var n="timeout"===t?"timeout":"aborted";o("aborting upload... "+n),this.aborted=1;try{p.contentWindow.document.execCommand&&p.contentWindow.document.execCommand("Stop")}catch(e){}f.attr("src",c.iframeSrc),m.error=n,c.error&&c.error.call(c.context,m,n,t),u&&e.event.trigger("ajaxError",[m,c,n]),c.complete&&c.complete.call(c.context,m,n)}},(u=c.global)&&0==e.active++&&e.event.trigger("ajaxStart"),u&&e.event.trigger("ajaxSend",[m,c]),c.beforeSend&&!1===c.beforeSend.call(c.context,m,c))return c.global&&e.active--,w.reject(),w;if(m.aborted)return w.reject(),w;(g=b.clk)&&(_=g.name)&&!g.disabled&&(c.extraData=c.extraData||{},c.extraData[_]=g.value,"image"==g.type&&(c.extraData[_+".x"]=b.clk_x,c.extraData[_+".y"]=b.clk_y));var k=1,M=2;function x(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(e){o("cannot get iframe.contentWindow document: "+e)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(n){o("cannot get iframe.contentDocument: "+n),t=e.document}return t}var C=e("meta[name=csrf-token]").attr("content"),S=e("meta[name=csrf-param]").attr("content");function T(){var t=l.attr2("target"),n=l.attr2("action");b.setAttribute("target",d),r&&!/post/i.test(r)||b.setAttribute("method","POST"),n!=c.url&&b.setAttribute("action",c.url),c.skipEncodingOverride||r&&!/post/i.test(r)||l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),c.timeout&&(y=setTimeout(function(){v=!0,A(k)},c.timeout));var i=[];try{if(c.extraData)for(var a in c.extraData)c.extraData.hasOwnProperty(a)&&(e.isPlainObject(c.extraData[a])&&c.extraData[a].hasOwnProperty("name")&&c.extraData[a].hasOwnProperty("value")?i.push(e('<input type="hidden" name="'+c.extraData[a].name+'">').val(c.extraData[a].value).appendTo(b)[0]):i.push(e('<input type="hidden" name="'+a+'">').val(c.extraData[a]).appendTo(b)[0]));c.iframeTarget||f.appendTo("body"),p.attachEvent?p.attachEvent("onload",A):p.addEventListener("load",A,!1),setTimeout(function e(){try{var t=x(p).readyState;o("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(e){o("Server abort: ",e," (",e.name,")"),A(M),y&&clearTimeout(y),y=void 0}},15);try{b.submit()}catch(e){document.createElement("form").submit.apply(b)}}finally{b.setAttribute("action",n),t?b.setAttribute("target",t):l.removeAttr("target"),e(i).remove()}}S&&C&&(c.extraData=c.extraData||{},c.extraData[S]=C),c.forceSync?T():setTimeout(T,10);var L,E,D,O=50;function A(t){if(!m.aborted&&!D){if((E=x(p))||(o("cannot access response document"),t=M),t===k&&m)return m.abort("timeout"),void w.reject(m,"timeout");if(t==M&&m)return m.abort("server abort"),void w.reject(m,"error","server abort");if(E&&E.location.href!=c.iframeSrc||v){p.detachEvent?p.detachEvent("onload",A):p.removeEventListener("load",A,!1);var n,i="success";try{if(v)throw"timeout";var r="xml"==c.dataType||E.XMLDocument||e.isXMLDoc(E);if(o("isXml="+r),!r&&window.opera&&(null===E.body||!E.body.innerHTML)&&--O)return o("requeing onLoad callback, DOM not available"),void setTimeout(A,250);var a=E.body?E.body:E.documentElement;m.responseText=a?a.innerHTML:null,m.responseXML=E.XMLDocument?E.XMLDocument:E,r&&(c.dataType="xml"),m.getResponseHeader=function(e){return{"content-type":c.dataType}[e.toLowerCase()]},a&&(m.status=Number(a.getAttribute("status"))||m.status,m.statusText=a.getAttribute("statusText")||m.statusText);var s=(c.dataType||"").toLowerCase(),l=/(json|script|text)/.test(s);if(l||c.textarea){var d=E.getElementsByTagName("textarea")[0];if(d)m.responseText=d.value,m.status=Number(d.getAttribute("status"))||m.status,m.statusText=d.getAttribute("statusText")||m.statusText;else if(l){var h=E.getElementsByTagName("pre")[0],g=E.getElementsByTagName("body")[0];h?m.responseText=h.textContent?h.textContent:h.innerText:g&&(m.responseText=g.textContent?g.textContent:g.innerText)}}else"xml"==s&&!m.responseXML&&m.responseText&&(m.responseXML=Y(m.responseText));try{L=j(m,s,c)}catch(e){i="parsererror",m.error=n=e||i}}catch(e){o("error caught: ",e),i="error",m.error=n=e||i}m.aborted&&(o("upload aborted"),i=null),m.status&&(i=m.status>=200&&m.status<300||304===m.status?"success":"error"),"success"===i?(c.success&&c.success.call(c.context,L,"success",m),w.resolve(m.responseText,"success",m),u&&e.event.trigger("ajaxSuccess",[m,c])):i&&(void 0===n&&(n=m.statusText),c.error&&c.error.call(c.context,m,i,n),w.reject(m,"error",n),u&&e.event.trigger("ajaxError",[m,c,n])),u&&e.event.trigger("ajaxComplete",[m,c]),u&&!--e.active&&e.event.trigger("ajaxStop"),c.complete&&c.complete.call(c.context,m,i),D=!0,c.timeout&&clearTimeout(y),setTimeout(function(){c.iframeTarget?f.attr("src",c.iframeSrc):f.remove(),m.responseXML=null},100)}}}var Y=e.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},R=e.parseJSON||function(e){return window.eval("("+e+")")},j=function(t,n,i){var r=t.getResponseHeader("content-type")||"",o="xml"===n||!n&&r.indexOf("xml")>=0,a=o?t.responseXML:t.responseText;return o&&"parsererror"===a.documentElement.nodeName&&e.error&&e.error("parsererror"),i&&i.dataFilter&&(a=i.dataFilter(a,n)),"string"==typeof a&&("json"===n||!n&&r.indexOf("json")>=0?a=R(a):("script"===n||!n&&r.indexOf("javascript")>=0)&&e.globalEval(a)),a};return w}},e.fn.ajaxForm=function(t){if((t=t||{}).delegation=t.delegation&&e.isFunction(e.fn.on),!t.delegation&&0===this.length){var n={s:this.selector,c:this.context};return!e.isReady&&n.s?(o("DOM not ready, queuing ajaxForm"),e(function(){e(n.s,n.c).ajaxForm(t)}),this):(o("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return t.delegation?(e(document).off("submit.form-plugin",this.selector,i).off("click.form-plugin",this.selector,r).on("submit.form-plugin",this.selector,t,i).on("click.form-plugin",this.selector,t,r),this):this.ajaxFormUnbind().bind("submit.form-plugin",t,i).bind("click.form-plugin",t,r)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(n,i){var r=[];if(0===this.length)return r;var o,a,s,l,c,u,d,h=this[0],f=n?h.getElementsByTagName("*"):h.elements;if(!f)return r;for(o=0,u=f.length;o<u;o++)if((s=(c=f[o]).name)&&!c.disabled)if(n&&h.clk&&"image"==c.type)h.clk==c&&(r.push({name:s,value:e(c).val(),type:c.type}),r.push({name:s+".x",value:h.clk_x},{name:s+".y",value:h.clk_y}));else if((l=e.fieldValue(c,!0))&&l.constructor==Array)for(i&&i.push(c),a=0,d=l.length;a<d;a++)r.push({name:s,value:l[a]});else if(t.fileapi&&"file"==c.type){i&&i.push(c);var p=c.files;if(p.length)for(a=0;a<p.length;a++)r.push({name:s,value:p[a],type:c.type});else r.push({name:s,value:"",type:c.type})}else null!==l&&void 0!==l&&(i&&i.push(c),r.push({name:s,value:l,type:c.type,required:c.required}));if(!n&&h.clk){var m=e(h.clk),g=m[0];(s=g.name)&&!g.disabled&&"image"==g.type&&(r.push({name:s,value:m.val()}),r.push({name:s+".x",value:h.clk_x},{name:s+".y",value:h.clk_y}))}return r},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var n=[];return this.each(function(){var i=this.name;if(i){var r=e.fieldValue(this,t);if(r&&r.constructor==Array)for(var o=0,a=r.length;o<a;o++)n.push({name:i,value:r[o]});else null!==r&&void 0!==r&&n.push({name:this.name,value:r})}}),e.param(n)},e.fn.fieldValue=function(t){for(var n=[],i=0,r=this.length;i<r;i++){var o=this[i],a=e.fieldValue(o,t);null===a||void 0===a||a.constructor==Array&&!a.length||(a.constructor==Array?e.merge(n,a):n.push(a))}return n},e.fieldValue=function(t,n){var i=t.name,r=t.type,o=t.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!i||t.disabled||"reset"==r||"button"==r||("checkbox"==r||"radio"==r)&&!t.checked||("submit"==r||"image"==r)&&t.form&&t.form.clk!=t||"select"==o&&-1==t.selectedIndex))return null;if("select"==o){var a=t.selectedIndex;if(a<0)return null;for(var s=[],l=t.options,c="select-one"==r,u=c?a+1:l.length,d=c?a:0;d<u;d++){var h=l[d];if(h.selected){var f=h.value;if(f||(f=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),c)return f;s.push(f)}}return s}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,r=this.tagName.toLowerCase();n.test(i)||"textarea"==r?this.value="":"checkbox"==i||"radio"==i?this.checked=!1:"select"==r?this.selectedIndex=-1:"file"==i?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(!0===t&&/hidden/.test(i)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=t;else if("option"==this.tagName.toLowerCase()){var i=e(this).parent("select");t&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}(void 0!==e?e:window.Zepto)}).call(this,n(0))},function(e,t,n){var i,r,o;!function(a){"use strict";r=[n(0)],void 0===(o="function"==typeof(i=function(e,t){
/*!
 * jsTree 3.0.3
 * http://jstree.com/
 *
 * Copyright (c) 2014 Ivan Bozhanov (http://vakata.com)
 *
 * Licensed same as jquery - under the terms of the MIT License
 *   http://www.opensource.org/licenses/mit-license.php
 */
/*!
 * if using jslint please allow for the jQuery global and use following options: 
 * jslint: browser: true, ass: true, bitwise: true, continue: true, nomen: true, plusplus: true, regexp: true, unparam: true, todo: true, white: true
 */
if(e.jstree)return;var n,i,r=0,o=!1,a=!1,s=!1,l=[],c=e("script:last").attr("src"),u=document,d=u.createElement("LI");d.setAttribute("role","treeitem"),(n=u.createElement("I")).className="jstree-icon jstree-ocl",d.appendChild(n),(n=u.createElement("A")).className="jstree-anchor",n.setAttribute("href","#"),(i=u.createElement("I")).className="jstree-icon jstree-themeicon",n.appendChild(i),d.appendChild(n),n=i=null,e.jstree={version:"3.0.3",defaults:{plugins:[]},plugins:{},path:c&&-1!==c.indexOf("/")?c.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%]/g},e.jstree.create=function(t,n){var i=new e.jstree.core(++r),o=n;return n=e.extend(!0,{},e.jstree.defaults,n),o&&o.plugins&&(n.plugins=o.plugins),e.each(n.plugins,function(e,t){"core"!==e&&(i=i.plugin(t,n[t]))}),i.init(t,n),i},e.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1},selected:[],last_error:{},working:!1,worker_queue:[]}}},e.jstree.reference=function(t){var n=null,i=null;if(t&&t.id&&(t=t.id),!i||!i.length)try{i=e(t)}catch(e){}if(!i||!i.length)try{i=e("#"+t.replace(e.jstree.idregex,"\\$&"))}catch(e){}return i&&i.length&&(i=i.closest(".jstree")).length&&(i=i.data("jstree"))?n=i:e(".jstree").each(function(){var i=e(this).data("jstree");if(i&&i._model.data[t])return n=i,!1}),n},e.fn.jstree=function(n){var i="string"==typeof n,r=Array.prototype.slice.call(arguments,1),o=null;return this.each(function(){var a=e.jstree.reference(this),s=i&&a?a[n]:null;if(o=i&&s?s.apply(a,r):null,a||i||n!==t&&!e.isPlainObject(n)||e(this).data("jstree",new e.jstree.create(this,n)),(a&&!i||!0===n)&&(o=a||!1),null!==o&&o!==t)return!1}),null!==o&&o!==t?o:this},e.expr[":"].jstree=e.expr.createPseudo(function(n){return function(n){return e(n).hasClass("jstree")&&e(n).data("jstree")!==t}}),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1},e.jstree.core.prototype={plugin:function(t,n){var i=e.jstree.plugins[t];return i?(this._data[t]={},i.prototype=this,new i(n,this)):this},init:function(t,n){this._model={data:{"#":{id:"#",parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}}},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this.element=e(t).addClass("jstree jstree-"+this._id),this.settings=n,this.element.bind("destroyed",e.proxy(this.teardown,this)),this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this._data.core.li_height=this.get_container_ul().children("li:eq(0)").height()||24,this.trigger("loading"),this.load_node("#")},destroy:function(e){e||this.element.empty(),this.element.unbind("destroyed",this.teardown),this.teardown()},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){this.element.on("dblclick.jstree",function(){if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){var e=window.getSelection();try{e.removeAllRanges(),e.collapse()}catch(e){}}}).on("click.jstree",".jstree-ocl",e.proxy(function(e){this.toggle_node(e.target)},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){t.preventDefault(),e(t.currentTarget).focus(),this.activate_node(t.currentTarget,t)},this)).on("keydown.jstree",".jstree-anchor",e.proxy(function(t){if("INPUT"===t.target.tagName)return!0;var n=null;switch(t.which){case 13:case 32:t.type="click",e(t.currentTarget).trigger(t);break;case 37:t.preventDefault(),this.is_open(t.currentTarget)?this.close_node(t.currentTarget):(n=this.get_prev_dom(t.currentTarget))&&n.length&&n.children(".jstree-anchor").focus();break;case 38:t.preventDefault(),(n=this.get_prev_dom(t.currentTarget))&&n.length&&n.children(".jstree-anchor").focus();break;case 39:t.preventDefault(),this.is_closed(t.currentTarget)?this.open_node(t.currentTarget,function(e){this.get_node(e,!0).children(".jstree-anchor").focus()}):(n=this.get_next_dom(t.currentTarget))&&n.length&&n.children(".jstree-anchor").focus();break;case 40:t.preventDefault(),(n=this.get_next_dom(t.currentTarget))&&n.length&&n.children(".jstree-anchor").focus();break;case 46:t.preventDefault(),(n=this.get_node(t.currentTarget))&&n.id&&"#"!==n.id&&(n=this.is_selected(n)?this.get_selected():n);break;case 113:t.preventDefault(),n=this.get_node(t.currentTarget)}},this)).on("load_node.jstree",e.proxy(function(t,n){if(n.status&&("#"!==n.node.id||this._data.core.loaded||(this._data.core.loaded=!0,this.trigger("loaded")),!this._data.core.ready&&!this.get_container_ul().find(".jstree-loading:eq(0)").length)){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var i,r,o=[];for(i=0,r=this._data.core.selected.length;i<r;i++)o=o.concat(this._model.data[this._data.core.selected[i]].parents);for(o=e.vakata.array_unique(o),i=0,r=o.length;i<r;i++)this.open_node(o[i],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}setTimeout(e.proxy(function(){this.trigger("ready")},this),0)}},this)).on("init.jstree",e.proxy(function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)},this)).on("loading.jstree",e.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"]()},this)).on("blur.jstree",".jstree-anchor",e.proxy(function(t){e(t.currentTarget).filter(".jstree-hovered").mouseleave()},this)).on("focus.jstree",".jstree-anchor",e.proxy(function(t){this.element.find(".jstree-hovered").not(t.currentTarget).mouseleave(),e(t.currentTarget).mouseenter()},this)).on("mouseenter.jstree",".jstree-anchor",e.proxy(function(e){this.hover_node(e.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),e(document).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),t.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children:eq(0)")},get_string:function(t){var n=this.settings.core.strings;return e.isFunction(n)?n.call(this,t):n&&n[t]?n[t]:t},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(t,n){var i;t&&t.id&&(t=t.id);try{if(this._model.data[t])t=this._model.data[t];else if(((i=e(t,this.element)).length||(i=e("#"+t.replace(e.jstree.idregex,"\\$&"),this.element)).length)&&this._model.data[i.closest(".jstree-node").attr("id")])t=this._model.data[i.closest(".jstree-node").attr("id")];else{if(!(i=e(t,this.element)).length||!i.hasClass("jstree"))return!1;t=this._model.data["#"]}return n&&(t="#"===t.id?this.element:e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)),t}catch(e){return!1}},get_path:function(e,t,n){if(!(e=e.parents?e:this.get_node(e))||"#"===e.id||!e.parents)return!1;var i,r,o=[];for(o.push(n?e.id:e.text),i=0,r=e.parents.length;i<r;i++)o.push(n?e.parents[i]:this.get_text(e.parents[i]));return o=o.reverse().slice(1),t?o.join(t):o},get_next_dom:function(t,n){var i;return(t=this.get_node(t,!0))[0]===this.element[0]?!!(i=this._firstChild(this.get_container_ul()[0]))&&e(i):!(!t||!t.length)&&(n?!!(i=this._nextSibling(t[0]))&&e(i):t.hasClass("jstree-open")?!!(i=this._firstChild(t.children(".jstree-children")[0]))&&e(i):null!==(i=this._nextSibling(t[0]))?e(i):t.parentsUntil(".jstree",".jstree-node").next(".jstree-node").eq(0))},get_prev_dom:function(t,n){var i;if((t=this.get_node(t,!0))[0]===this.element[0])return!!(i=this.get_container_ul()[0].lastChild)&&e(i);if(!t||!t.length)return!1;if(n)return!!(i=this._previousSibling(t[0]))&&e(i);if(null!==(i=this._previousSibling(t[0]))){for(t=e(i);t.hasClass("jstree-open");)t=t.children(".jstree-children:eq(0)").children(".jstree-node:last");return t}return!(!(i=t[0].parentNode.parentNode)||!i.className||-1===i.className.indexOf("jstree-node"))&&e(i)},get_parent:function(e){return!(!(e=this.get_node(e))||"#"===e.id)&&e.parent},get_children_dom:function(e){return(e=this.get_node(e,!0))[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return(e=this.get_node(e))&&(!1===e.state.loaded||e.children.length>0)},is_loaded:function(e){return(e=this.get_node(e))&&e.state.loaded},is_loading:function(e){return(e=this.get_node(e))&&e.state&&e.state.loading},is_open:function(e){return(e=this.get_node(e))&&e.state.opened},is_closed:function(e){return(e=this.get_node(e))&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(t,n){var i,r,o,a,s;if(e.isArray(t))return this._load_nodes(t.slice(),n),!0;if(!(t=this.get_node(t)))return n&&n.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,i=0,r=t.children_d.length;i<r;i++){for(o=0,a=t.parents.length;o<a;o++)this._model.data[t.parents[o]].children_d=e.vakata.array_remove_item(this._model.data[t.parents[o]].children_d,t.children_d[i]);this._model.data[t.children_d[i]].state.selected&&(s=!0,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.children_d[i])),delete this._model.data[t.children_d[i]]}t.children=[],t.children_d=[],s&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.loading=!0,this.get_node(t,!0).addClass("jstree-loading"),this._load_node(t,e.proxy(function(e){(t=this._model.data[t.id]).state.loading=!1,t.state.loaded=e;var i=this.get_node(t,!0);t.state.loaded&&!t.children.length&&i&&i.length&&!i.hasClass("jstree-leaf")&&i.removeClass("jstree-closed jstree-open").addClass("jstree-leaf"),i.removeClass("jstree-loading"),this.trigger("load_node",{node:t,status:e}),n&&n.call(this,t,e)},this)),!0},_load_nodes:function(e,t,n){var i,r,o=!0,a=function(){this._load_nodes(e,t,!0)},s=this._model.data;for(i=0,r=e.length;i<r;i++)!s[e[i]]||s[e[i]].state.loaded&&n||(this.is_loading(e[i])||this.load_node(e[i],a),o=!1);o&&t&&!t.done&&(t.call(this,e),t.done=!0)},_load_node:function(t,n){var i,r=this.settings.core.data;return r?e.isFunction(r)?r.call(this,t,e.proxy(function(i){!1===i&&n.call(this,!1),this["string"==typeof i?"_append_html_data":"_append_json_data"](t,"string"==typeof i?e(i):i,function(e){n.call(this,e)})},this)):"object"==typeof r?r.url?(r=e.extend(!0,{},r),e.isFunction(r.url)&&(r.url=r.url.call(this,t)),e.isFunction(r.data)&&(r.data=r.data.call(this,t)),e.ajax(r).done(e.proxy(function(i,r,o){var a=o.getResponseHeader("Content-Type");return-1!==a.indexOf("json")||"object"==typeof i?this._append_json_data(t,i,function(e){n.call(this,e)}):-1!==a.indexOf("html")||"string"==typeof i?this._append_html_data(t,e(i),function(e){n.call(this,e)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:o})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))},this)).fail(e.proxy(function(e){n.call(this,!1),this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},this.settings.core.error.call(this,this._data.core.last_error)},this))):(i=e.isArray(r)||e.isPlainObject(r)?JSON.parse(JSON.stringify(r)):r,"#"===t.id?this._append_json_data(t,i,function(e){n.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))):"string"==typeof r?"#"===t.id?this._append_html_data(t,e(r),function(e){n.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1)):n.call(this,!1):"#"===t.id?this._append_html_data(t,this._data.core.original_container_html.clone(!0),function(e){n.call(this,e)}):n.call(this,!1)},_node_changed:function(e){(e=this.get_node(e))&&this._model.changed.push(e.id)},_append_html_data:function(t,n,i){(t=this.get_node(t)).children=[],t.children_d=[];var r,o,a,s=n.is("ul")?n.children():n,l=t.id,c=[],u=[],d=this._model.data,h=d[l],f=this._data.core.selected.length;for(s.each(e.proxy(function(t,n){(r=this._parse_model_from_html(e(n),l,h.parents.concat()))&&(c.push(r),u.push(r),d[r].children_d.length&&(u=u.concat(d[r].children_d)))},this)),h.children=c,h.children_d=u,o=0,a=h.parents.length;o<a;o++)d[h.parents[o]].children_d=d[h.parents[o]].children_d.concat(u);this.trigger("model",{nodes:u,parent:l}),"#"!==l?(this._node_changed(l),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==f&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),i.call(this,!0)},_append_json_data:function(t,n,i){(t=this.get_node(t)).children=[],t.children_d=[],n.d&&"string"==typeof(n=n.d)&&(n=JSON.parse(n)),e.isArray(n)||(n=[n]);var r=null,o={df:this._model.default_state,dat:n,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},a=function(e,t){e.data&&(e=e.data);var n,i,r,o,a=e.dat,s=e.par,l=[],c=[],u=[],d=e.df,h=e.t_id,f=e.t_cnt,p=e.m,m=p[s],g=e.sel,_=function(e,n,i){i=i?i.concat():[],n&&i.unshift(n);var r,o,a,s,l=e.id.toString(),c={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:n,parents:i,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in d)d.hasOwnProperty(r)&&(c.state[r]=d[r]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(c.icon=e.data.jstree.icon),e&&e.data&&(c.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(c.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(c.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(c.li_attr[r]=e.li_attr[r]);if(c.li_attr.id||(c.li_attr.id=l),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(c.a_attr[r]=e.a_attr[r]);for(e&&e.children&&!0===e.children&&(c.state.loaded=!1,c.children=[],c.children_d=[]),p[c.id]=c,r=0,o=c.children.length;r<o;r++)a=_(p[c.children[r]],c.id,i),s=p[a],c.children_d.push(a),s.children_d.length&&(c.children_d=c.children_d.concat(s.children_d));return delete e.data,delete e.children,p[c.id].original=e,c.state.selected&&u.push(c.id),c.id},v=function(e,n,i){i=i?i.concat():[],n&&i.unshift(n);var r,o,a,s,l,c=!1;do{c="j"+h+"_"+ ++f}while(p[c]);for(r in l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:n,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},d)d.hasOwnProperty(r)&&(l.state[r]=d[r]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),e&&e.data&&(l.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(l.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(l.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(l.li_attr[r]=e.li_attr[r]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(l.a_attr[r]=e.a_attr[r]);if(e&&e.children&&e.children.length){for(r=0,o=e.children.length;r<o;r++)a=v(e.children[r],l.id,i),s=p[a],l.children.push(a),s.children_d.length&&(l.children_d=l.children_d.concat(s.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,p[l.id]=l,l.state.selected&&u.push(l.id),l.id};if(a.length&&a[0].id!==t&&a[0].parent!==t){for(i=0,r=a.length;i<r;i++)a[i].children||(a[i].children=[]),p[a[i].id.toString()]=a[i];for(i=0,r=a.length;i<r;i++)p[a[i].parent.toString()].children.push(a[i].id.toString()),m.children_d.push(a[i].id.toString());for(i=0,r=m.children.length;i<r;i++)n=_(p[m.children[i]],s,m.parents.concat()),c.push(n),p[n].children_d.length&&(c=c.concat(p[n].children_d));for(i=0,r=m.parents.length;i<r;i++)p[m.parents[i]].children_d=p[m.parents[i]].children_d.concat(c);o={cnt:f,mod:p,sel:g,par:s,dpc:c,add:u}}else{for(i=0,r=a.length;i<r;i++)(n=v(a[i],s,m.parents.concat()))&&(l.push(n),c.push(n),p[n].children_d.length&&(c=c.concat(p[n].children_d)));for(m.children=l,m.children_d=c,i=0,r=m.parents.length;i<r;i++)p[m.parents[i]].children_d=p[m.parents[i]].children_d.concat(c);o={cnt:f,mod:p,sel:g,par:s,dpc:c,add:u}}return o},s=function(t,n){if(this._cnt=t.cnt,this._model.data=t.mod,n){var r,o,a=t.add,s=t.sel,l=this._data.core.selected.slice(),c=this._model.data;if(s.length!==l.length||e.vakata.array_unique(s.concat(l)).length!==s.length){for(r=0,o=s.length;r<o;r++)-1===e.inArray(s[r],a)&&-1===e.inArray(s[r],l)&&(c[s[r]].state.selected=!1);for(r=0,o=l.length;r<o;r++)-1===e.inArray(l[r],s)&&(c[l[r]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add)),this.trigger("model",{nodes:t.dpc,parent:t.par}),"#"!==t.par?(this._node_changed(t.par),this.redraw()):this.redraw(!0),t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),i.call(this,!0)};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+a.toString().replace(/return ([^;}]+)[\s;}]+$/,"postMessage($1);}")],{type:"text/javascript"}))),(r=new window.Worker(this._wrk)).onmessage=e.proxy(function(e){s.call(this,e.data,!0),this._data.core.working=!1,this._data.core.worker_queue.length&&this._append_json_data.apply(this,this._data.core.worker_queue.shift())},this),this._data.core.working?this._data.core.worker_queue.push([t,n,i]):(this._data.core.working=!0,r.postMessage(o))}catch(e){s.call(this,a(o),!1)}else s.call(this,a(o),!1)},_parse_model_from_html:function(t,n,i){i=i?[].concat(i):[],n&&i.unshift(n);var r,o,a,s,l,c=this._model.data,u={id:!1,text:!1,icon:!0,parent:n,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(a in this._model.default_state)this._model.default_state.hasOwnProperty(a)&&(u.state[a]=this._model.default_state[a]);if(s=e.vakata.attributes(t,!0),e.each(s,function(t,n){if(!(n=e.trim(n)).length)return!0;u.li_attr[t]=n,"id"===t&&(u.id=n.toString())}),(s=t.children("a").eq(0)).length&&(s=e.vakata.attributes(s,!0),e.each(s,function(t,n){(n=e.trim(n)).length&&(u.a_attr[t]=n)})),(s=t.children("a:eq(0)").length?t.children("a:eq(0)").clone():t.clone()).children("ins, i, ul").remove(),s=s.html(),s=e("<div />").html(s),u.text=this.settings.core.force_text?s.text():s.html(),s=t.data(),u.data=s?e.extend(!0,{},s):null,u.state.opened=t.hasClass("jstree-open"),u.state.selected=t.children("a").hasClass("jstree-clicked"),u.state.disabled=t.children("a").hasClass("jstree-disabled"),u.data&&u.data.jstree)for(a in u.data.jstree)u.data.jstree.hasOwnProperty(a)&&(u.state[a]=u.data.jstree[a]);(s=t.children("a").children(".jstree-themeicon")).length&&(u.icon=!s.hasClass("jstree-themeicon-hidden")&&s.attr("rel")),u.state.icon&&(u.icon=u.state.icon),s=t.children("ul").children("li");do{l="j"+this._id+"_"+ ++this._cnt}while(c[l]);return u.id=u.li_attr.id?u.li_attr.id.toString():l,s.length?(s.each(e.proxy(function(t,n){r=this._parse_model_from_html(e(n),u.id,i),o=this._model.data[r],u.children.push(r),o.children_d.length&&(u.children_d=u.children_d.concat(o.children_d))},this)),u.children_d=u.children_d.concat(u.children)):t.hasClass("jstree-closed")&&(u.state.loaded=!1),u.li_attr.class&&(u.li_attr.class=u.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),u.a_attr.class&&(u.a_attr.class=u.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),c[u.id]=u,u.state.selected&&this._data.core.selected.push(u.id),u.id},_parse_model_from_flat_json:function(e,n,i){i=i?i.concat():[],n&&i.unshift(n);var r,o,a,s,l=e.id.toString(),c=this._model.data,u=this._model.default_state,d={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:n,parents:i,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in u)u.hasOwnProperty(r)&&(d.state[r]=u[r]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(d.icon=e.data.jstree.icon),e&&e.data&&(d.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(d.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(d.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(d.li_attr[r]=e.li_attr[r]);if(d.li_attr.id||(d.li_attr.id=l),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(d.a_attr[r]=e.a_attr[r]);for(e&&e.children&&!0===e.children&&(d.state.loaded=!1,d.children=[],d.children_d=[]),c[d.id]=d,r=0,o=d.children.length;r<o;r++)a=this._parse_model_from_flat_json(c[d.children[r]],d.id,i),s=c[a],d.children_d.push(a),s.children_d.length&&(d.children_d=d.children_d.concat(s.children_d));return delete e.data,delete e.children,c[d.id].original=e,d.state.selected&&this._data.core.selected.push(d.id),d.id},_parse_model_from_json:function(e,n,i){i=i?i.concat():[],n&&i.unshift(n);var r,o,a,s,l,c=!1,u=this._model.data,d=this._model.default_state;do{c="j"+this._id+"_"+ ++this._cnt}while(u[c]);for(r in l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:n,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},d)d.hasOwnProperty(r)&&(l.state[r]=d[r]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),e&&e.data&&(l.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(l.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(l.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(l.li_attr[r]=e.li_attr[r]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(l.a_attr[r]=e.a_attr[r]);if(e&&e.children&&e.children.length){for(r=0,o=e.children.length;r<o;r++)a=this._parse_model_from_json(e.children[r],l.id,i),s=u[a],l.children.push(a),s.children_d.length&&(l.children_d=l.children_d.concat(s.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,u[l.id]=l,l.state.selected&&this._data.core.selected.push(l.id),l.id},_redraw:function(){var e,t,n,i=this._model.force_full_redraw?this._model.data["#"].children.concat([]):this._model.changed.concat([]),r=document.createElement("UL");for(t=0,n=i.length;t<n;t++)(e=this.redraw_node(i[t],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&r.appendChild(e);this._model.force_full_redraw&&(r.className=this.get_container_ul()[0].className,this.element.empty().append(r)),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:i})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},redraw_node:function(t,n,i){var r=this.get_node(t),o=!1,a=!1,s=!1,l=!1,c=!1,u=!1,h="",f=document,p=this._model.data,m=!1,g=!1,_=null;if(!r)return!1;if("#"===r.id)return this.redraw(!0);if(n=n||0===r.children.length,t=document.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(r.id[0])?"\\3"+r.id[0]+" "+r.id.substr(1).replace(e.jstree.idregex,"\\$&"):r.id.replace(e.jstree.idregex,"\\$&"))):document.getElementById(r.id))t=e(t),i||((o=t.parent().parent()[0])===this.element[0]&&(o=null),a=t.index()),n||!r.children.length||t.children(".jstree-children").length||(n=!0),n||(s=t.children(".jstree-children")[0]),g=t.attr("aria-selected"),m=t.children(".jstree-anchor")[0]===document.activeElement,t.remove();else if(n=!0,!i){if(!(null===(o="#"!==r.parent?e("#"+r.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null)||o&&p[r.parent].state.opened))return!1;a=e.inArray(r.id,null===o?p["#"].children:p[r.parent].children)}for(l in t=d.cloneNode(!0),h="jstree-node ",r.li_attr)if(r.li_attr.hasOwnProperty(l)){if("id"===l)continue;"class"!==l?t.setAttribute(l,r.li_attr[l]):h+=r.li_attr[l]}for(c in g&&"false"!==g&&t.setAttribute("aria-selected",!0),r.state.loaded&&!r.children.length?h+=" jstree-leaf":(h+=r.state.opened&&r.state.loaded?" jstree-open":" jstree-closed",t.setAttribute("aria-expanded",r.state.opened&&r.state.loaded)),null!==r.parent&&p[r.parent].children[p[r.parent].children.length-1]===r.id&&(h+=" jstree-last"),t.id=r.id,t.className=h,h=(r.state.selected?" jstree-clicked":"")+(r.state.disabled?" jstree-disabled":""),r.a_attr)if(r.a_attr.hasOwnProperty(c)){if("href"===c&&"#"===r.a_attr[c])continue;"class"!==c?t.childNodes[1].setAttribute(c,r.a_attr[c]):h+=" "+r.a_attr[c]}if(h.length&&(t.childNodes[1].className="jstree-anchor "+h),(r.icon&&!0!==r.icon||!1===r.icon)&&(!1===r.icon?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===r.icon.indexOf("/")&&-1===r.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+r.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage="url("+r.icon+")",t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(f.createTextNode(r.text)):t.childNodes[1].innerHTML+=r.text,n&&r.children.length&&r.state.opened&&r.state.loaded){for((u=f.createElement("UL")).setAttribute("role","group"),u.className="jstree-children",l=0,c=r.children.length;l<c;l++)u.appendChild(this.redraw_node(r.children[l],n,!0));t.appendChild(u)}if(s&&t.appendChild(s),!i){for(o||(o=this.element[0]),l=0,c=o.childNodes.length;l<c;l++)if(o.childNodes[l]&&o.childNodes[l].className&&-1!==o.childNodes[l].className.indexOf("jstree-children")){_=o.childNodes[l];break}_||((_=f.createElement("UL")).setAttribute("role","group"),_.className="jstree-children",o.appendChild(_)),a<(o=_).childNodes.length?o.insertBefore(t,o.childNodes[a]):o.appendChild(t),m&&t.childNodes[1].focus()}return r.state.opened&&!r.state.loaded&&(r.state.opened=!1,setTimeout(e.proxy(function(){this.open_node(r.id,!1,0)},this),0)),t},open_node:function(n,i,r){var o,a,s,l;if(e.isArray(n)){for(n=n.slice(),o=0,a=n.length;o<a;o++)this.open_node(n[o],i,r);return!0}if(!(n=this.get_node(n))||"#"===n.id)return!1;if(r=r===t?this.settings.core.animation:r,!this.is_closed(n))return i&&i.call(this,n,!1),!1;if(this.is_loaded(n))s=this.get_node(n,!0),l=this,s.length&&(n.children.length&&!this._firstChild(s.children(".jstree-children")[0])&&(n.state.opened=!0,this.redraw_node(n,!0),s=this.get_node(n,!0)),r?(this.trigger("before_open",{node:n}),s.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(r,function(){this.style.display="",l.trigger("after_open",{node:n})})):(this.trigger("before_open",{node:n}),s[0].className=s[0].className.replace("jstree-closed","jstree-open"),s[0].setAttribute("aria-expanded",!0))),n.state.opened=!0,i&&i.call(this,n,!0),s.length||this.trigger("before_open",{node:n}),this.trigger("open_node",{node:n}),r&&s.length||this.trigger("after_open",{node:n});else{if(this.is_loading(n))return setTimeout(e.proxy(function(){this.open_node(n,i,r)},this),500);this.load_node(n,function(e,t){return t?this.open_node(e,i,r):!!i&&i.call(this,e,!1)})}},_open_to:function(t){if(!(t=this.get_node(t))||"#"===t.id)return!1;var n,i,r=t.parents;for(n=0,i=r.length;n<i;n+=1)"#"!==n&&this.open_node(r[n],!1,0);return e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(n,i){var r,o,a,s;if(e.isArray(n)){for(n=n.slice(),r=0,o=n.length;r<o;r++)this.close_node(n[r],i);return!0}return!(!(n=this.get_node(n))||"#"===n.id)&&(!this.is_closed(n)&&(i=i===t?this.settings.core.animation:i,a=this,(s=this.get_node(n,!0)).length&&(i?s.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(i,function(){this.style.display="",s.children(".jstree-children").remove(),a.trigger("after_close",{node:n})}):(s[0].className=s[0].className.replace("jstree-open","jstree-closed"),s.attr("aria-expanded",!1).children(".jstree-children").remove())),n.state.opened=!1,this.trigger("close_node",{node:n}),void(i&&s.length||this.trigger("after_close",{node:n}))))},toggle_node:function(t){var n,i;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;n<i;n++)this.toggle_node(t[n]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(e,t,n){if(e||(e="#"),!(e=this.get_node(e)))return!1;var i,r,o,a="#"===e.id?this.get_container_ul():this.get_node(e,!0);if(!a.length){for(i=0,r=e.children_d.length;i<r;i++)this.is_closed(this._model.data[e.children_d[i]])&&(this._model.data[e.children_d[i]].state.opened=!0);return this.trigger("open_all",{node:e})}n=n||a,o=this,(a=this.is_closed(e)?a.find(".jstree-closed").addBack():a.find(".jstree-closed")).each(function(){o.open_node(this,function(e,i){i&&this.is_parent(e)&&this.open_all(e,t,n)},t||0)}),0===n.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(n)})},close_all:function(t,n){if(t||(t="#"),!(t=this.get_node(t)))return!1;var i,r,o="#"===t.id?this.get_container_ul():this.get_node(t,!0),a=this;if(!o.length){for(i=0,r=t.children_d.length;i<r;i++)this._model.data[t.children_d[i]].state.opened=!1;return this.trigger("close_all",{node:t})}o=this.is_open(t)?o.find(".jstree-open").addBack():o.find(".jstree-open"),e(o.get().reverse()).each(function(){a.close_node(this,n||0)}),this.trigger("close_all",{node:t})},is_disabled:function(e){return(e=this.get_node(e))&&e.state&&e.state.disabled},enable_node:function(t){var n,i;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;n<i;n++)this.enable_node(t[n]);return!0}if(!(t=this.get_node(t))||"#"===t.id)return!1;t.state.disabled=!1,this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled"),this.trigger("enable_node",{node:t})},disable_node:function(t){var n,i;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;n<i;n++)this.disable_node(t[n]);return!0}if(!(t=this.get_node(t))||"#"===t.id)return!1;t.state.disabled=!0,this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled"),this.trigger("disable_node",{node:t})},activate_node:function(e,n){if(this.is_disabled(e))return!1;if(this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&(!n.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(n.shiftKey){var i,r,o=this.get_node(e).id,a=this._data.core.last_clicked.id,s=this.get_node(this._data.core.last_clicked.parent).children,l=!1;for(i=0,r=s.length;i<r;i+=1)s[i]===o&&(l=!l),s[i]===a&&(l=!l),l||s[i]===o||s[i]===a?this.select_node(s[i],!1,!1,n):this.deselect_node(s[i],!1,n)}else this.is_selected(e)?this.deselect_node(e,!1,n):this.select_node(e,!1,!1,n);else!this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,n):(this.deselect_all(!0),this.select_node(e,!1,!1,n),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e)})},hover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),n=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){n.attr("aria-activedescendant",e[0].id),e.attr("aria-selected",!0)},0)},dehover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||!e.children(".jstree-hovered").length)return!1;e.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(e)})},select_node:function(t,n,i,r){var o,a,s;if(e.isArray(t)){for(t=t.slice(),a=0,s=t.length;a<s;a++)this.select_node(t[a],n,i,r);return!0}if(!(t=this.get_node(t))||"#"===t.id)return!1;o=this.get_node(t,!0),t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),i||(o=this._open_to(t)),o&&o.length&&o.children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:r}),n||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:r}))},deselect_node:function(t,n,i){var r,o,a;if(e.isArray(t)){for(t=t.slice(),r=0,o=t.length;r<o;r++)this.deselect_node(t[r],n,i);return!0}if(!(t=this.get_node(t))||"#"===t.id)return!1;a=this.get_node(t,!0),t.state.selected&&(t.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.id),a.length&&a.children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:i}),n||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:i}))},select_all:function(e){var t,n,i=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data["#"].children_d.concat(),t=0,n=this._data.core.selected.length;t<n;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),e||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:i})},deselect_all:function(e){var t,n,i=this._data.core.selected.concat([]);for(t=0,n=this._data.core.selected.length;t<n;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked"),this.trigger("deselect_all",{selected:this._data.core.selected,node:i}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:i})},is_selected:function(e){return!(!(e=this.get_node(e))||"#"===e.id)&&e.state.selected},get_selected:function(t){return t?e.map(this._data.core.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.core.selected.slice()},get_top_selected:function(t){var n,i,r,o,a=this.get_selected(!0),s={};for(n=0,i=a.length;n<i;n++)s[a[n].id]=a[n];for(n=0,i=a.length;n<i;n++)for(r=0,o=a[n].children_d.length;r<o;r++)s[a[n].children_d[r]]&&delete s[a[n].children_d[r]];for(n in a=[],s)s.hasOwnProperty(n)&&a.push(n);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},get_bottom_selected:function(t){var n,i,r=this.get_selected(!0),o=[];for(n=0,i=r.length;n<i;n++)r[n].children.length||o.push(r[n].id);return t?e.map(o,e.proxy(function(e){return this.get_node(e)},this)):o},get_state:function(){var e,t={core:{open:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},
/*!
					'themes' : {
						'name' : this.get_theme(),
						'icons' : this._data.core.themes.icons,
						'dots' : this._data.core.themes.dots
					},
					*/
selected:[]}};for(e in this._model.data)this._model.data.hasOwnProperty(e)&&"#"!==e&&(this._model.data[e].state.opened&&t.core.open.push(e),this._model.data[e].state.selected&&t.core.selected.push(e));return t},set_state:function(n,i){if(n){if(n.core){var r,o,a;if(n.core.open)return e.isArray(n.core.open)?(r=!0,!1,o=this,e.each(n.core.open.concat([]),function(t,a){o.get_node(a)&&(o.is_loaded(a)?(o.is_closed(a)&&o.open_node(a,!1,0),n&&n.core&&n.core.open&&e.vakata.array_remove_item(n.core.open,a)):(o.is_loading(a)||o.open_node(a,e.proxy(function(t,r){!r&&n&&n.core&&n.core.open&&e.vakata.array_remove_item(n.core.open,t.id),this.set_state(n,i)},o),0),r=!1))}),r&&(delete n.core.open,this.set_state(n,i)),!1):(delete n.core.open,this.set_state(n,i),!1);if(n.core.scroll)return n.core.scroll&&n.core.scroll.left!==t&&this.element.scrollLeft(n.core.scroll.left),n.core.scroll&&n.core.scroll.top!==t&&this.element.scrollTop(n.core.scroll.top),delete n.core.scroll,this.set_state(n,i),!1;
/*!
					if(state.core.themes) {
						if(state.core.themes.name) {
							this.set_theme(state.core.themes.name);
						}
						if(typeof state.core.themes.dots !== 'undefined') {
							this[ state.core.themes.dots ? "show_dots" : "hide_dots" ]();
						}
						if(typeof state.core.themes.icons !== 'undefined') {
							this[ state.core.themes.icons ? "show_icons" : "hide_icons" ]();
						}
						delete state.core.themes;
						delete state.core.open;
						this.set_state(state, callback);
						return false;
					}
					*/if(n.core.selected)return a=this,this.deselect_all(),e.each(n.core.selected,function(e,t){a.select_node(t)}),delete n.core.selected,this.set_state(n,i),!1;if(e.isEmptyObject(n.core))return delete n.core,this.set_state(n,i),!1}return!e.isEmptyObject(n)||(n=null,i&&i.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(t,n){this._data.core.state=!0===n?{}:this.get_state(),n&&e.isFunction(n)&&(this._data.core.state=n.call(this,this._data.core.state)),this._cnt=0,this._model.data={"#":{id:"#",parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}}};var i=this.get_container_ul()[0].className;t||this.element.html("<ul class='"+i+"'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.load_node("#",function(t,n){n&&(this.get_container_ul()[0].className=i,this.set_state(e.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(t){if(!(t=this.get_node(t))||"#"===t.id)return!1;var n=[],i=[];this._data.core.selected.concat([]);i.push(t.id),!0===t.state.opened&&n.push(t.id),this.get_node(t,!0).find(".jstree-open").each(function(){n.push(this.id)}),this._load_nodes(i,e.proxy(function(e){this.open_node(n,!1,0),this.select_node(this._data.core.selected),this.trigger("refresh_node",{node:t,nodes:e})},this))},set_id:function(t,n){if(!(t=this.get_node(t))||"#"===t.id)return!1;var i,r,o=this._model.data;for(n=n.toString(),o[t.parent].children[e.inArray(t.id,o[t.parent].children)]=n,i=0,r=t.parents.length;i<r;i++)o[t.parents[i]].children_d[e.inArray(t.id,o[t.parents[i]].children_d)]=n;for(i=0,r=t.children.length;i<r;i++)o[t.children[i]].parent=n;for(i=0,r=t.children_d.length;i<r;i++)o[t.children_d[i]].parents[e.inArray(t.id,o[t.children_d[i]].parents)]=n;return-1!==(i=e.inArray(t.id,this._data.core.selected))&&(this._data.core.selected[i]=n),(i=this.get_node(t.id,!0))&&i.attr("id",n),delete o[t.id],t.id=n,o[n]=t,!0},get_text:function(e){return!(!(e=this.get_node(e))||"#"===e.id)&&e.text},set_text:function(t,n){var i,r;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;i<r;i++)this.set_text(t[i],n);return!0}return!(!(t=this.get_node(t))||"#"===t.id)&&(t.text=n,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:n}),!0)},get_json:function(e,t,n){if(!(e=this.get_node(e||"#")))return!1;t&&t.flat&&!n&&(n=[]);var i,r,o={id:e.id,text:e.text,icon:this.get_icon(e),li_attr:e.li_attr,a_attr:e.a_attr,state:{},data:(!t||!t.no_data)&&e.data};if(t&&t.flat?o.parent=e.parent:o.children=[],!t||!t.no_state)for(i in e.state)e.state.hasOwnProperty(i)&&(o.state[i]=e.state[i]);if(t&&t.no_id&&(delete o.id,o.li_attr&&o.li_attr.id&&delete o.li_attr.id),t&&t.flat&&"#"!==e.id&&n.push(o),!t||!t.no_children)for(i=0,r=e.children.length;i<r;i++)t&&t.flat?this.get_json(e.children[i],t,n):o.children.push(this.get_json(e.children[i],t));return t&&t.flat?n:"#"===e.id?o.children:o},create_node:function(n,i,r,o,a){if(null===n&&(n="#"),!(n=this.get_node(n)))return!1;if(!(r=r===t?"last":r).toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(n))return this.load_node(n,function(){this.create_node(n,i,r,o,!0)});var s,l,c,u;switch(i||(i={text:this.get_string("New node")}),i.text===t&&(i.text=this.get_string("New node")),"#"===n.id&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":s=this.get_node(n.parent),r=e.inArray(n.id,s.children),n=s;break;case"after":s=this.get_node(n.parent),r=e.inArray(n.id,s.children)+1,n=s;break;case"inside":case"first":r=0;break;case"last":r=n.children.length;break;default:r||(r=0)}if(r>n.children.length&&(r=n.children.length),i.id||(i.id=!0),!this.check("create_node",i,n,r))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===i.id&&delete i.id,!(i=this._parse_model_from_json(i,n.id,n.parents.concat())))return!1;for(s=this.get_node(i),(l=[]).push(i),l=l.concat(s.children_d),this.trigger("model",{nodes:l,parent:n.id}),n.children_d=n.children_d.concat(l),c=0,u=n.parents.length;c<u;c++)this._model.data[n.parents[c]].children_d=this._model.data[n.parents[c]].children_d.concat(l);for(i=s,s=[],c=0,u=n.children.length;c<u;c++)s[c>=r?c+1:c]=n.children[c];return s[r]=i.id,n.children=s,this.redraw_node(n,!0),o&&o.call(this,this.get_node(i)),this.trigger("create_node",{node:this.get_node(i),parent:n.id,position:r}),i.id},rename_node:function(t,n){var i,r,o;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;i<r;i++)this.rename_node(t[i],n);return!0}return!(!(t=this.get_node(t))||"#"===t.id)&&(o=t.text,this.check("rename_node",t,this.get_parent(t),n)?(this.set_text(t,n),this.trigger("rename_node",{node:t,text:n,old:o}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(t){var n,i,r,o,a,s,l,c,u,d;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;n<i;n++)this.delete_node(t[n]);return!0}if(!(t=this.get_node(t))||"#"===t.id)return!1;if(r=this.get_node(t.parent),o=e.inArray(t.id,r.children),d=!1,!this.check("delete_node",t,r,o))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==o&&(r.children=e.vakata.array_remove(r.children,o)),(a=t.children_d.concat([])).push(t.id),c=0,u=a.length;c<u;c++){for(s=0,l=t.parents.length;s<l;s++)-1!==(o=e.inArray(a[c],this._model.data[t.parents[s]].children_d))&&(this._model.data[t.parents[s]].children_d=e.vakata.array_remove(this._model.data[t.parents[s]].children_d,o));this._model.data[a[c]].state.selected&&(d=!0,-1!==(o=e.inArray(a[c],this._data.core.selected))&&(this._data.core.selected=e.vakata.array_remove(this._data.core.selected,o)))}for(this.trigger("delete_node",{node:t,parent:r.id}),d&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:r.id}),c=0,u=a.length;c<u;c++)delete this._model.data[a[c]];return this.redraw_node(r,!0),!0},check:function(t,n,i,r,o){n=n&&n.id?n:this.get_node(n),i=i&&i.id?i:this.get_node(i);var a=t.match(/^move_node|copy_node|create_node$/i)?i:n,s=this.settings.core.check_callback;return"move_node"!==t&&"copy_node"!==t||o&&o.is_multi||n.id!==i.id&&e.inArray(n.id,i.children)!==r&&-1===e.inArray(i.id,n.children_d)?(a&&a.data&&(a=a.data),a&&a.functions&&(!1===a.functions[t]||!0===a.functions[t])?(!1===a.functions[t]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})}),a.functions[t]):!(!1===s||e.isFunction(s)&&!1===s.call(this,t,n,i,r,o)||s&&!1===s[t])||(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})},!1)):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:r,obj:!(!n||!n.id)&&n.id,par:!(!i||!i.id)&&i.id})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(n,i,r,o,a){var s,l,c,u,d,h,f,p,m,g,_,v,y,b;if(i=this.get_node(i),r=r===t?0:r,!i)return!1;if(!r.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(i))return this.load_node(i,function(){this.move_node(n,i,r,o,!0)});if(e.isArray(n)){for(n=n.reverse().slice(),s=0,l=n.length;s<l;s++)this.move_node(n[s],i,r,o,a);return!0}if(!(n=n&&n.id?n:this.get_node(n))||"#"===n.id)return!1;if(c=(n.parent||"#").toString(),d=r.toString().match(/^(before|after)$/)&&"#"!==i.id?this.get_node(i.parent):i,h=n.instance?n.instance:this._model.data[n.id]?this:e.jstree.reference(n.id),f=!h||!h._id||this._id!==h._id,u=h&&h._id&&c&&h._model.data[c]&&h._model.data[c].children?e.inArray(n.id,h._model.data[c].children):-1,f)return!!this.copy_node(n,i,r,o,a)&&(h&&h.delete_node(n),!0);switch("#"===d.id&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":r=e.inArray(i.id,d.children);break;case"after":r=e.inArray(i.id,d.children)+1;break;case"inside":case"first":r=0;break;case"last":r=d.children.length;break;default:r||(r=0)}if(r>d.children.length&&(r=d.children.length),!this.check("move_node",n,d,r,{core:!0,is_multi:h&&h._id&&h._id!==this._id,is_foreign:!h||!h._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(n.parent===d.id){for(p=d.children.concat(),-1!==(m=e.inArray(n.id,p))&&(p=e.vakata.array_remove(p,m),r>m&&r--),m=[],g=0,_=p.length;g<_;g++)m[g>=r?g+1:g]=p[g];m[r]=n.id,d.children=m,this._node_changed(d.id),this.redraw("#"===d.id)}else{for((m=n.children_d.concat()).push(n.id),g=0,_=n.parents.length;g<_;g++){for(p=[],b=h._model.data[n.parents[g]].children_d,v=0,y=b.length;v<y;v++)-1===e.inArray(b[v],m)&&p.push(b[v]);h._model.data[n.parents[g]].children_d=p}for(h._model.data[c].children=e.vakata.array_remove_item(h._model.data[c].children,n.id),g=0,_=d.parents.length;g<_;g++)this._model.data[d.parents[g]].children_d=this._model.data[d.parents[g]].children_d.concat(m);for(p=[],g=0,_=d.children.length;g<_;g++)p[g>=r?g+1:g]=d.children[g];for(p[r]=n.id,d.children=p,d.children_d.push(n.id),d.children_d=d.children_d.concat(n.children_d),n.parent=d.id,(m=d.parents.concat()).unshift(d.id),b=n.parents.length,n.parents=m,m=m.concat(),g=0,_=n.children_d.length;g<_;g++)this._model.data[n.children_d[g]].parents=this._model.data[n.children_d[g]].parents.slice(0,-1*b),Array.prototype.push.apply(this._model.data[n.children_d[g]].parents,m);this._node_changed(c),this._node_changed(d.id),this.redraw("#"===c||"#"===d.id)}return o&&o.call(this,n,d,r),this.trigger("move_node",{node:n,parent:d.id,position:r,old_parent:c,old_position:u,is_multi:h&&h._id&&h._id!==this._id,is_foreign:!h||!h._id,old_instance:h,new_instance:this}),!0},copy_node:function(n,i,r,o,a){var s,l,c,u,d,h,f,p,m,g;if(i=this.get_node(i),r=r===t?0:r,!i)return!1;if(!r.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(i))return this.load_node(i,function(){this.copy_node(n,i,r,o,!0)});if(e.isArray(n)){for(n=n.reverse().slice(),s=0,l=n.length;s<l;s++)this.copy_node(n[s],i,r,o,a);return!0}if(!(n=n&&n.id?n:this.get_node(n))||"#"===n.id)return!1;switch(p=(n.parent||"#").toString(),m=r.toString().match(/^(before|after)$/)&&"#"!==i.id?this.get_node(i.parent):i,g=n.instance?n.instance:this._model.data[n.id]?this:e.jstree.reference(n.id),!g||!g._id||this._id!==g._id,"#"===m.id&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":r=e.inArray(i.id,m.children);break;case"after":r=e.inArray(i.id,m.children)+1;break;case"inside":case"first":r=0;break;case"last":r=m.children.length;break;default:r||(r=0)}if(r>m.children.length&&(r=m.children.length),!this.check("copy_node",n,m,r,{core:!0,is_multi:g&&g._id&&g._id!==this._id,is_foreign:!g||!g._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!(f=g?g.get_json(n,{no_id:!0,no_data:!0,no_state:!0}):n))return!1;if(!0===f.id&&delete f.id,!(f=this._parse_model_from_json(f,m.id,m.parents.concat())))return!1;for(u=this.get_node(f),n&&n.state&&!1===n.state.loaded&&(u.state.loaded=!1),(c=[]).push(f),c=c.concat(u.children_d),this.trigger("model",{nodes:c,parent:m.id}),d=0,h=m.parents.length;d<h;d++)this._model.data[m.parents[d]].children_d=this._model.data[m.parents[d]].children_d.concat(c);for(c=[],d=0,h=m.children.length;d<h;d++)c[d>=r?d+1:d]=m.children[d];return c[r]=u.id,m.children=c,m.children_d.push(u.id),m.children_d=m.children_d.concat(u.children_d),this._node_changed(m.id),this.redraw("#"===m.id),o&&o.call(this,u,m,r),this.trigger("copy_node",{node:u,original:n,parent:m.id,position:r,old_parent:p,old_position:g&&g._id&&p&&g._model.data[p]&&g._model.data[p].children?e.inArray(n.id,g._model.data[p].children):-1,is_multi:g&&g._id&&g._id!==this._id,is_foreign:!g||!g._id,old_instance:g,new_instance:this}),u.id},cut:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,i,r,l=[];for(i=0,r=t.length;i<r;i++)(n=this.get_node(t[i]))&&n.id&&"#"!==n.id&&l.push(n);if(!l.length)return!1;o=l,s=this,a="move_node",this.trigger("cut",{node:t})},copy:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,i,r,l=[];for(i=0,r=t.length;i<r;i++)(n=this.get_node(t[i]))&&n.id&&"#"!==n.id&&l.push(n);if(!l.length)return!1;o=l,s=this,a="copy_node",this.trigger("copy",{node:t})},get_buffer:function(){return{mode:a,node:o,inst:s}},can_paste:function(){return!1!==a&&!1!==o},paste:function(e,t){if(!((e=this.get_node(e))&&a&&a.match(/^(copy_node|move_node)$/)&&o))return!1;this[a](o,e,t)&&this.trigger("paste",{parent:e.id,node:o,mode:a}),o=!1,a=!1,s=!1},edit:function(t,n){if(!(t=this.get_node(t)))return!1;if(!1===this.settings.core.check_callback)return this._data.core.last_error={error:"check",plugin:"core",id:"core_07",reason:"Could not edit node because of check_callback"},this.settings.core.error.call(this,this._data.core.last_error),!1;n="string"==typeof n?n:t.text,this.set_text(t,""),t=this._open_to(t);var i=this._data.core.rtl,r=this.element.width(),o=t.children(".jstree-anchor"),a=e("<span>"),
/*!
				oi = obj.children("i:visible"),
				ai = a.children("i:visible"),
				w1 = oi.width() * oi.length,
				w2 = ai.width() * ai.length,
				*/
s=n,l=e("<div />",{css:{position:"absolute",top:"-200px",left:i?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),c=e("<input />",{value:s,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:e.proxy(function(){var n=a.children(".jstree-rename-input"),i=n.val();""===i&&(i=s),l.remove(),a.replaceWith(o),a.remove(),this.set_text(t,s),!1===this.rename_node(t,e("<div></div>").text(i)[this.settings.core.force_text?"text":"html"]())&&this.set_text(t,s)},this),keydown:function(e){var t=e.which;27===t&&(this.value=s),27!==t&&13!==t&&37!==t&&38!==t&&39!==t&&40!==t&&32!==t||e.stopImmediatePropagation(),27!==t&&13!==t||(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){c.width(Math.min(l.text("pW"+this.value).width(),r))},keypress:function(e){if(13===e.which)return!1}}),u={fontFamily:o.css("fontFamily")||"",fontSize:o.css("fontSize")||"",fontWeight:o.css("fontWeight")||"",fontStyle:o.css("fontStyle")||"",fontStretch:o.css("fontStretch")||"",fontVariant:o.css("fontVariant")||"",letterSpacing:o.css("letterSpacing")||"",wordSpacing:o.css("wordSpacing")||""};a.attr("class",o.attr("class")).append(o.contents().clone()).append(c),o.replaceWith(a),l.css(u),c.css(u).width(Math.min(l.text("pW"+c[0].value).width(),r))[0].select()},set_theme:function(t,n){if(!t)return!1;if(!0===n){var i=this.settings.core.themes.dir;i||(i=e.jstree.path+"/themes"),n=i+"/"+t+"/style.css"}n&&-1===e.inArray(n,l)&&(e("head").append('<link rel="stylesheet" href="'+n+'" type="text/css" />'),l.push(n)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=t,this.element.addClass("jstree-"+t),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive"),this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},set_icon:function(t,n){var i,r,o,a;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;i<r;i++)this.set_icon(t[i],n);return!0}return!(!(t=this.get_node(t))||"#"===t.id)&&(a=t.icon,t.icon=n,o=this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===n?this.hide_icon(t):!0===n?o.removeClass("jstree-themeicon-custom "+a).css("background","").removeAttr("rel"):-1===n.indexOf("/")&&-1===n.indexOf(".")?(o.removeClass(a).css("background",""),o.addClass(n+" jstree-themeicon-custom").attr("rel",n)):(o.removeClass(a).css("background",""),o.addClass("jstree-themeicon-custom").css("background","url('"+n+"') center center no-repeat").attr("rel",n)),!0)},get_icon:function(e){return!(!(e=this.get_node(e))||"#"===e.id)&&e.icon},hide_icon:function(t){var n,i;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;n<i;n++)this.hide_icon(t[n]);return!0}return!(!(t=this.get_node(t))||"#"===t)&&(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(t){var n,i,r;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;n<i;n++)this.show_icon(t[n]);return!0}return!(!(t=this.get_node(t))||"#"===t)&&(r=this.get_node(t,!0),t.icon=!r.length||r.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),t.icon||(t.icon=!0),r.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},e.vakata={},e.vakata.attributes=function(t,n){t=e(t)[0];var i=n?{}:[];return t&&t.attributes&&e.each(t.attributes,function(t,r){-1===e.inArray(r.nodeName.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==r.nodeValue&&""!==e.trim(r.nodeValue)&&(n?i[r.nodeName]=r.nodeValue:i.push(r.nodeName))}),i},e.vakata.array_unique=function(e){var t,n,i,r=[];for(t=0,i=e.length;t<i;t++){for(n=0;n<=t&&e[t]!==e[n];n++);n===t&&r.push(e[t])}return r},e.vakata.array_remove=function(e,t,n){var i=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,i),e},e.vakata.array_remove_item=function(t,n){var i=e.inArray(n,t);return-1!==i?e.vakata.array_remove(t,i):t};var h=document.createElement("I");h.className="jstree-icon jstree-checkbox",e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0},e.jstree.plugins.checkbox=function(t,n){this.bind=function(){n.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",e.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",e.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",e.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",e.proxy(function(e,t){var n,i,r=this._model.data,o=(r[t.parent],t.nodes);for(n=0,i=o.length;n<i;n++)r[o[n]].state.checked=r[o[n]].original&&r[o[n]].original.state&&r[o[n]].original.state.checked,r[o[n]].state.checked&&this._data.checkbox.selected.push(o[n])},this)),-1===this.settings.checkbox.cascade.indexOf("up")&&-1===this.settings.checkbox.cascade.indexOf("down")||this.element.on("model.jstree",e.proxy(function(t,n){var i,r,o,a,s,l,c=this._model.data,u=c[n.parent],d=n.nodes,h=[],f=this.settings.checkbox.cascade,p=this.settings.checkbox.tie_selection;if(-1!==f.indexOf("down"))if(u.state[p?"selected":"checked"]){for(r=0,o=d.length;r<o;r++)c[d[r]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(d)}else for(r=0,o=d.length;r<o;r++)if(c[d[r]].state[p?"selected":"checked"]){for(a=0,s=c[d[r]].children_d.length;a<s;a++)c[c[d[r]].children_d[a]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(c[d[r]].children_d)}if(-1!==f.indexOf("up")){for(r=0,o=u.children_d.length;r<o;r++)c[u.children_d[r]].children.length||h.push(c[u.children_d[r]].parent);for(h=e.vakata.array_unique(h),a=0,s=h.length;a<s;a++)for(u=c[h[a]];u&&"#"!==u.id;){for(i=0,r=0,o=u.children.length;r<o;r++)i+=c[u.children[r]].state[p?"selected":"checked"];if(i!==o)break;u.state[p?"selected":"checked"]=!0,this._data[p?"core":"checkbox"].selected.push(u.id),(l=this.get_node(u,!0))&&l.length&&l.children(".jstree-anchor").addClass(p?"jstree-clicked":"jstree-checked"),u=this.get_node(u.parent)}}this._data[p?"core":"checkbox"].selected=e.vakata.array_unique(this._data[p?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",e.proxy(function(t,n){var i,r,o,a,s=n.node,l=this._model.data,c=this.get_node(s.parent),u=this.get_node(s,!0),d=this.settings.checkbox.cascade,h=this.settings.checkbox.tie_selection;if(-1!==d.indexOf("down"))for(this._data[h?"core":"checkbox"].selected=e.vakata.array_unique(this._data[h?"core":"checkbox"].selected.concat(s.children_d)),i=0,r=s.children_d.length;i<r;i++)(a=l[s.children_d[i]]).state[h?"selected":"checked"]=!0,a&&a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=!1);if(-1!==d.indexOf("up"))for(;c&&"#"!==c.id;){for(o=0,i=0,r=c.children.length;i<r;i++)o+=l[c.children[i]].state[h?"selected":"checked"];if(o!==r)break;c.state[h?"selected":"checked"]=!0,this._data[h?"core":"checkbox"].selected.push(c.id),(a=this.get_node(c,!0))&&a.length&&a.children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}-1!==d.indexOf("down")&&u.length&&u.find(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked")},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",e.proxy(function(e,t){var n,i,r,o=this.get_node("#"),a=this._model.data;for(n=0,i=o.children_d.length;n<i;n++)(r=a[o.children_d[n]])&&r.original&&r.original.state&&r.original.state.undetermined&&(r.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",e.proxy(function(t,n){var i,r,o,a=n.node,s=this.get_node(a,!0),l=this.settings.checkbox.cascade,c=this.settings.checkbox.tie_selection;if(a&&a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=!1),-1!==l.indexOf("down"))for(i=0,r=a.children_d.length;i<r;i++)(o=this._model.data[a.children_d[i]]).state[c?"selected":"checked"]=!1,o&&o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=!1);if(-1!==l.indexOf("up"))for(i=0,r=a.parents.length;i<r;i++)(o=this._model.data[a.parents[i]]).state[c?"selected":"checked"]=!1,o&&o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=!1),(o=this.get_node(a.parents[i],!0))&&o.length&&o.children(".jstree-anchor").removeClass(c?"jstree-clicked":"jstree-checked");for(o=[],i=0,r=this._data[c?"core":"checkbox"].selected.length;i<r;i++)-1!==l.indexOf("down")&&-1!==e.inArray(this._data[c?"core":"checkbox"].selected[i],a.children_d)||-1!==l.indexOf("up")&&-1!==e.inArray(this._data[c?"core":"checkbox"].selected[i],a.parents)||o.push(this._data[c?"core":"checkbox"].selected[i]);this._data[c?"core":"checkbox"].selected=e.vakata.array_unique(o),-1!==l.indexOf("down")&&s.length&&s.find(".jstree-anchor").removeClass(c?"jstree-clicked":"jstree-checked")},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",e.proxy(function(e,t){for(var n,i,r,o,a=this.get_node(t.parent),s=this._model.data,l=this.settings.checkbox.tie_selection;a&&"#"!==a.id;){for(r=0,n=0,i=a.children.length;n<i;n++)r+=s[a.children[n]].state[l?"selected":"checked"];if(r!==i)break;a.state[l?"selected":"checked"]=!0,this._data[l?"core":"checkbox"].selected.push(a.id),(o=this.get_node(a,!0))&&o.length&&o.children(".jstree-anchor").addClass(l?"jstree-clicked":"jstree-checked"),a=this.get_node(a.parent)}},this)).on("move_node.jstree",e.proxy(function(t,n){var i,r,o,a,s,l=n.is_multi,c=n.old_parent,u=this.get_node(n.parent),d=this._model.data,h=this.settings.checkbox.tie_selection;if(!l)for(i=this.get_node(c);i&&"#"!==i.id;){for(r=0,o=0,a=i.children.length;o<a;o++)r+=d[i.children[o]].state[h?"selected":"checked"];if(r!==a)break;i.state[h?"selected":"checked"]=!0,this._data[h?"core":"checkbox"].selected.push(i.id),(s=this.get_node(i,!0))&&s.length&&s.children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"),i=this.get_node(i.parent)}for(i=u;i&&"#"!==i.id;){for(r=0,o=0,a=i.children.length;o<a;o++)r+=d[i.children[o]].state[h?"selected":"checked"];if(r===a)i.state[h?"selected":"checked"]||(i.state[h?"selected":"checked"]=!0,this._data[h?"core":"checkbox"].selected.push(i.id),(s=this.get_node(i,!0))&&s.length&&s.children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"));else{if(!i.state[h?"selected":"checked"])break;i.state[h?"selected":"checked"]=!1,this._data[h?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[h?"core":"checkbox"].selected,i.id),(s=this.get_node(i,!0))&&s.length&&s.children(".jstree-anchor").removeClass(h?"jstree-clicked":"jstree-checked")}i=this.get_node(i.parent)}},this))},this._undetermined=function(){var t,n,i=this._model.data,r=this.settings.checkbox.tie_selection,o=this._data[r?"core":"checkbox"].selected,a=[],s=this;for(t=0,n=o.length;t<n;t++)i[o[t]]&&i[o[t]].parents&&(a=a.concat(i[o[t]].parents));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var e,r=s.get_node(this);if(r.state.loaded)for(t=0,n=r.children_d.length;t<n;t++)!(e=i[r.children_d[t]]).state.loaded&&e.original&&e.original.state&&e.original.state.undetermined&&!0===e.original.state.undetermined&&(a.push(e.id),a=a.concat(e.parents));else r.original&&r.original.state&&r.original.state.undetermined&&!0===r.original.state.undetermined&&(a.push(r.id),a=a.concat(r.parents))}),a=e.vakata.array_unique(a),a=e.vakata.array_remove_item(a,"#"),this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),t=0,n=a.length;t<n;t++)i[a[t]].state[r?"selected":"checked"]||(o=this.get_node(a[t],!0))&&o.length&&o.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")},this.redraw_node=function(t,i,r){if(t=n.redraw_node.call(this,t,i,r)){var o,a,s=null;for(o=0,a=t.childNodes.length;o<a;o++)if(t.childNodes[o]&&t.childNodes[o].className&&-1!==t.childNodes[o].className.indexOf("jstree-anchor")){s=t.childNodes[o];break}s&&(!this.settings.checkbox.tie_selection&&this._model.data[t.id].state.checked&&(s.className+=" jstree-checked"),s.insertBefore(h.cloneNode(!1),s.childNodes[0]))}return r||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)),t},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(t){t=this.get_node(t);var n,i,r=this.settings.checkbox.cascade,o=this.settings.checkbox.tie_selection,a=this._data[o?"core":"checkbox"].selected,s=this._model.data;if(!t||!0===t.state[o?"selected":"checked"]||-1===r.indexOf("undetermined")||-1===r.indexOf("down")&&-1===r.indexOf("up"))return!1;if(!t.state.loaded&&!0===t.original.state.undetermined)return!0;for(n=0,i=t.children_d.length;n<i;n++)if(-1!==e.inArray(t.children_d[n],a)||!s[t.children_d[n]].state.loaded&&s[t.children_d[n]].original.state.undetermined)return!0;return!1},this.activate_node=function(t,i){if(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(i.target).hasClass("jstree-checkbox"))&&(i.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(i.target).hasClass("jstree-checkbox"))return n.activate_node.call(this,t,i);this.is_checked(t)?this.uncheck_node(t,i):this.check_node(t,i),this.trigger("activate_node",{node:this.get_node(t)})},this.check_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,n);var i,r,o;if(e.isArray(t)){for(t=t.slice(),r=0,o=t.length;r<o;r++)this.check_node(t[r],n);return!0}if(!(t=this.get_node(t))||"#"===t.id)return!1;i=this.get_node(t,!0),t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),i&&i.length&&i.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:n}))},this.uncheck_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,n);var i,r,o;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;i<r;i++)this.uncheck_node(t[i],n);return!0}if(!(t=this.get_node(t))||"#"===t.id)return!1;o=this.get_node(t,!0),t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,t.id),o.length&&o.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:n}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var e,t;this._data.checkbox.selected.concat([]);for(this._data.checkbox.selected=this._model.data["#"].children_d.concat(),e=0,t=this._data.checkbox.selected.length;e<t;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var e,t,n=this._data.checkbox.selected.concat([]);for(e=0,t=this._data.checkbox.selected.length;e<t;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:n})},this.is_checked=function(e){return this.settings.checkbox.tie_selection?this.is_selected(e):!(!(e=this.get_node(e))||"#"===e.id)&&e.state.checked},this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?e.map(this._data.checkbox.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.checkbox.selected},this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);var n,i,r,o,a=this.get_checked(!0),s={};for(n=0,i=a.length;n<i;n++)s[a[n].id]=a[n];for(n=0,i=a.length;n<i;n++)for(r=0,o=a[n].children_d.length;r<o;r++)s[a[n].children_d[r]]&&delete s[a[n].children_d[r]];for(n in a=[],s)s.hasOwnProperty(n)&&a.push(n);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);var n,i,r=this.get_checked(!0),o=[];for(n=0,i=r.length;n<i;n++)r[n].children.length||o.push(r[n].id);return t?e.map(o,e.proxy(function(e){return this.get_node(e)},this)):o}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(t,n){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.create_node(i,{},"last",function(e){setTimeout(function(){n.edit(e)},0)})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.edit(i)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.is_selected(i)?n.delete_node(n.get_selected()):n.delete_node(i)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.is_selected(i)?n.cut(n.get_selected()):n.cut(i)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.is_selected(i)?n.copy(n.get_selected()):n.copy(i)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!e.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.paste(i)}}}}}}},e.jstree.plugins.contextmenu=function(n,i){this.bind=function(){i.bind.call(this);var t=0;this.element.on("contextmenu.jstree",".jstree-anchor",e.proxy(function(e){e.preventDefault(),t=e.ctrlKey?e.timeStamp:0,this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e)},this)).on("click.jstree",".jstree-anchor",e.proxy(function(n){this._data.contextmenu.visible&&(!t||n.timeStamp-t>250)&&e.vakata.context.hide()},this)),e(document).on("context_hide.vakata",e.proxy(function(){this._data.contextmenu.visible=!1},this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),i.teardown.call(this)},this.show_contextmenu=function(n,i,r,o){if(!(n=this.get_node(n))||"#"===n.id)return!1;var a=this.settings.contextmenu,s=this.get_node(n,!0),l=s.children(".jstree-anchor"),c=!1,u=!1;(a.show_at_node||i===t||r===t)&&(c=l.offset(),i=c.left,r=c.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(n)&&this.activate_node(n,o),u=a.items,e.isFunction(u)&&(u=u.call(this,n,e.proxy(function(e){this._show_contextmenu(n,i,r,e)},this))),e.isPlainObject(u)&&this._show_contextmenu(n,i,r,u)},this._show_contextmenu=function(t,n,i,r){var o=this.get_node(t,!0),a=o.children(".jstree-anchor");e(document).one("context_show.vakata",e.proxy(function(t,n){var i="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(n.element).addClass(i)},this)),this._data.contextmenu.visible=!0,e.vakata.context.show(a,{x:n,y:i},r),this.trigger("show_contextmenu",{node:t,x:n,y:i})}},function(e){var t=!1,n={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(t){e(document).triggerHandler("context_"+t+".vakata",{reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_execute:function(t){return!(!(t=n.items[t])||t._disabled&&(!e.isFunction(t._disabled)||t._disabled({item:t,reference:n.reference,element:n.element}))||!t.action)&&t.action.call(null,{item:t,reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_parse:function(t,i){if(!t)return!1;i||(n.html="",n.items=[]);var r,o="",a=!1;return i&&(o+="<ul>"),e.each(t,function(t,i){if(!i)return!0;n.items.push(i),!a&&i.separator_before&&(o+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),a=!1,o+="<li class='"+(i._class||"")+(!0===i._disabled||e.isFunction(i._disabled)&&i._disabled({item:i,reference:n.reference,element:n.element})?" vakata-contextmenu-disabled ":"")+"' "+(i.shortcut?" data-shortcut='"+i.shortcut+"' ":"")+">",o+="<a href='#' rel='"+(n.items.length-1)+"'>",e.vakata.context.settings.icons&&(o+="<i ",i.icon&&(-1!==i.icon.indexOf("/")||-1!==i.icon.indexOf(".")?o+=" style='background:url(\""+i.icon+"\") center center no-repeat' ":o+=" class='"+i.icon+"' "),o+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),o+=(e.isFunction(i.label)?i.label({item:t,reference:n.reference,element:n.element}):i.label)+(i.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+i.shortcut+'">'+(i.shortcut_label||"")+"</span>":"")+"</a>",i.submenu&&(r=e.vakata.context._parse(i.submenu,!0))&&(o+=r),o+="</li>",i.separator_after&&(o+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",a=!0)}),o=o.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),i&&(o+="</ul>"),i||(n.html=o,e.vakata.context._trigger("parse")),o.length>10&&o},_show_submenu:function(n){if((n=e(n)).length&&n.children("ul").length){var i=n.children("ul"),r=n.offset().left+n.outerWidth(),o=n.offset().top,a=i.width(),s=i.height(),l=e(window).width()+e(window).scrollLeft(),c=e(window).height()+e(window).scrollTop();t?n[r-(a+10+n.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):n[r+a+10>l?"addClass":"removeClass"]("vakata-context-right"),o+s+10>c&&i.css("bottom","-1px"),i.show()}},show:function(i,r,o){var a,s,l,c,u,d,h,f;switch(n.element&&n.element.length&&n.element.width(""),!0){case!r&&!i:return!1;case!!r&&!!i:n.reference=i,n.position_x=r.x,n.position_y=r.y;break;case!r&&!!i:n.reference=i,a=i.offset(),n.position_x=a.left+i.outerHeight(),n.position_y=a.top;break;case!!r&&!i:n.position_x=r.x,n.position_y=r.y}i&&!o&&e(i).data("vakata_contextmenu")&&(o=e(i).data("vakata_contextmenu")),e.vakata.context._parse(o)&&n.element.html(n.html),n.items.length&&(s=n.element,l=n.position_x,c=n.position_y,u=s.width(),d=s.height(),h=e(window).width()+e(window).scrollLeft(),f=e(window).height()+e(window).scrollTop(),t&&(l-=s.outerWidth())<e(window).scrollLeft()+20&&(l=e(window).scrollLeft()+20),l+u+20>h&&(l=h-(u+20)),c+d+20>f&&(c=f-(d+20)),n.element.css({left:l,top:c}).show().find("a:eq(0)").focus().parent().addClass("vakata-context-hover"),n.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){n.is_visible&&(n.element.hide().find("ul").hide().end().find(":focus").blur(),n.is_visible=!1,e.vakata.context._trigger("hide"))}},e(function(){t="rtl"===e("body").css("direction");var i=!1;n.element=e("<ul class='vakata-context'></ul>"),n.element.on("mouseenter","li",function(t){t.stopImmediatePropagation(),e.contains(this,t.relatedTarget)||(i&&clearTimeout(i),n.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))}).on("mouseleave","li",function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(t){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(i=setTimeout(function(){e.vakata.context.hide()},e.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(t){t.preventDefault(),e(this).blur().parent().hasClass("vakata-context-disabled")||!1===e.vakata.context._execute(e(this).attr("rel"))||e.vakata.context.hide()}).on("keydown","a",function(t){var i=null;switch(t.which){case 13:case 32:t.type="mouseup",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:n.is_visible&&(n.element.find(".vakata-context-hover").last().parents("li:eq(0)").find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 38:n.is_visible&&((i=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length||(i=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),i.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 39:n.is_visible&&(n.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 40:n.is_visible&&((i=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length||(i=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),i.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault()}}).on("keydown",function(e){e.preventDefault();var t=n.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.mouseup()}).appendTo("body"),e(document).on("mousedown",function(t){n.is_visible&&!e.contains(n.element[0],t.target)&&e.vakata.context.hide()}).on("context_show.vakata",function(e,i){n.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),t&&n.element.addClass("vakata-context-rtl").css("direction","rtl"),n.element.find("ul").hide().end()})})}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0},e.jstree.plugins.dnd=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("mousedown.jstree touchstart.jstree",".jstree-anchor",e.proxy(function(t){var n=this.get_node(t.target),i=this.is_selected(n)?this.get_selected().length:1;if(n&&n.id&&"#"!==n.id&&(1===t.which||"touchstart"===t.type)&&(!0===this.settings.dnd.is_draggable||e.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,i>1?this.get_selected(!0):[n])))return this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(t,{jstree:!0,origin:this,obj:this.get_node(n,!0),nodes:i>1?this.get_selected():[n.id]},'<div id="jstree-dnd" class="jstree-'+this.get_theme()+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+(i>1?i+" "+this.get_string("nodes"):this.get_text(t.currentTarget,!0))+'<ins class="jstree-copy" style="display:none;">+</ins></div>')},this))}},e(function(){var t=!1,n=!1,i=!1,r=e('<div id="jstree-marker">&#160;</div>').hide().appendTo("body");e(document).bind("dnd_start.vakata",function(e,n){t=!1}).bind("dnd_move.vakata",function(o,a){if(i&&clearTimeout(i),a&&a.data&&a.data.jstree&&(!a.event.target.id||"jstree-marker"!==a.event.target.id)){var s,l,c,u,d,h,f,p,m,g,_,v,y,b,w=e.jstree.reference(a.event.target),k=!1,M=!1,x=!1;if(w&&w._data&&w._data.dnd)if(r.attr("class","jstree-"+w.get_theme()+(w.settings.core.themes.responsive?" jstree-dnd-responsive":"")),a.helper.children().attr("class","jstree-"+w.get_theme()+(w.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy:eq(0)")[a.data.origin&&(a.data.origin.settings.dnd.always_copy||a.data.origin.settings.dnd.copy&&(a.event.metaKey||a.event.ctrlKey))?"show":"hide"](),a.event.target!==w.element[0]&&a.event.target!==w.get_container_ul()[0]||0!==w.get_container_ul().children().length){if((k=e(a.event.target).closest(".jstree-anchor"))&&k.length&&k.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(M=k.offset(),x=a.event.pageY-M.top,c=k.height(),h=x<c/3?["b","i","a"]:x>c-c/3?["a","i","b"]:x>c/2?["i","a","b"]:["i","b","a"],e.each(h,function(o,x){switch(x){case"b":s=M.left-6,l=M.top,u=w.get_parent(k),d=k.parent().index();break;case"i":y=w.settings.dnd.inside_pos,b=w.get_node(k.parent()),s=M.left-2,l=M.top+c/2+1,u=b.id,d="first"===y?0:"last"===y?b.children.length:Math.min(y,b.children.length);break;case"a":s=M.left-6,l=M.top+c,u=w.get_parent(k),d=k.parent().index()+1}
/*!
								// TODO: moving inside, but the node is not yet loaded?
								// the check will work anyway, as when moving the node will be loaded first and checked again
								if(v === 'i' && !ins.is_loaded(p)) { }
								*/for(f=!0,p=0,m=a.data.nodes.length;p<m;p++)if(g=a.data.origin&&(a.data.origin.settings.dnd.always_copy||a.data.origin.settings.dnd.copy&&(a.event.metaKey||a.event.ctrlKey))?"copy_node":"move_node",_=d,"move_node"===g&&"a"===x&&a.data.origin&&a.data.origin===w&&u===w.get_parent(a.data.nodes[p])&&(v=w.get_node(u),_>e.inArray(a.data.nodes[p],v.children)&&(_-=1)),!(f=f&&(w&&w.settings&&w.settings.dnd&&!1===w.settings.dnd.check_while_dragging||w.check(g,a.data.origin&&a.data.origin!==w?a.data.origin.get_node(a.data.nodes[p]):a.data.nodes[p],u,_,{dnd:!0,ref:w.get_node(k.parent()),pos:x,is_multi:a.data.origin&&a.data.origin!==w,is_foreign:!a.data.origin})))){w&&w.last_error&&(n=w.last_error());break}if(f)return"i"===x&&k.parent().is(".jstree-closed")&&w.settings.dnd.open_timeout&&(i=setTimeout(function(e,t){return function(){e.open_node(t)}}(w,k),w.settings.dnd.open_timeout)),t={ins:w,par:u,pos:"i"!==x||"last"!==y||0!==d||w.is_loaded(b)?d:"last"},r.css({left:s+"px",top:l+"px"}).show(),a.helper.find(".jstree-icon:eq(0)").removeClass("jstree-er").addClass("jstree-ok"),n={},h=!0,!1}),!0===h))return}else{for(f=!0,p=0,m=a.data.nodes.length;p<m&&(f=f&&w.check(a.data.origin&&(a.data.origin.settings.dnd.always_copy||a.data.origin.settings.dnd.copy&&(a.event.metaKey||a.event.ctrlKey))?"copy_node":"move_node",a.data.origin&&a.data.origin!==w?a.data.origin.get_node(a.data.nodes[p]):a.data.nodes[p],"#","last",{dnd:!0,ref:w.get_node("#"),pos:"i",is_multi:a.data.origin&&a.data.origin!==w,is_foreign:!a.data.origin}));p++);if(f)return t={ins:w,par:"#",pos:"last"},r.hide(),void a.helper.find(".jstree-icon:eq(0)").removeClass("jstree-er").addClass("jstree-ok")}t=!1,a.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),r.hide()}}).bind("dnd_scroll.vakata",function(e,n){n&&n.data&&n.data.jstree&&(r.hide(),t=!1,n.helper.find(".jstree-icon:eq(0)").removeClass("jstree-ok").addClass("jstree-er"))}).bind("dnd_stop.vakata",function(o,a){if(i&&clearTimeout(i),a&&a.data&&a.data.jstree){r.hide();var s,l,c=[];if(t){for(s=0,l=a.data.nodes.length;s<l;s++)c[s]=a.data.origin?a.data.origin.get_node(a.data.nodes[s]):a.data.nodes[s],a.data.origin&&(c[s].instance=a.data.origin);t.ins[a.data.origin&&(a.data.origin.settings.dnd.always_copy||a.data.origin.settings.dnd.copy&&(a.event.metaKey||a.event.ctrlKey))?"copy_node":"move_node"](c,t.par,t.pos)}else(s=e(a.event.target).closest(".jstree")).length&&n&&n.error&&"check"===n.error&&(s=s.jstree(!0))&&s.settings.core.error.call(this,n)}}).bind("keyup keydown",function(t,n){(n=e.vakata.dnd._get())&&n.data&&n.data.jstree&&n.helper.find(".jstree-copy:eq(0)")[n.data.origin&&(n.data.origin.settings.dnd.always_copy||n.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"]()})}),function(e){var t={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:50},_trigger:function(t,n){var i=e.vakata.dnd._get();i.event=n,e(document).triggerHandler("dnd_"+t+".vakata",i)},_get:function(){return{data:t.data,element:t.element,helper:t.helper}},_clean:function(){t.helper&&t.helper.remove(),t.scroll_i&&(clearInterval(t.scroll_i),t.scroll_i=!1),t={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},e(document).off("mousemove touchmove",e.vakata.dnd.drag),e(document).off("mouseup touchend",e.vakata.dnd.stop)},_scroll:function(n){if(!t.scroll_e||!t.scroll_l&&!t.scroll_t)return t.scroll_i&&(clearInterval(t.scroll_i),t.scroll_i=!1),!1;if(!t.scroll_i)return t.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(!0===n)return!1;var i=t.scroll_e.scrollTop(),r=t.scroll_e.scrollLeft();t.scroll_e.scrollTop(i+t.scroll_t*e.vakata.dnd.settings.scroll_speed),t.scroll_e.scrollLeft(r+t.scroll_l*e.vakata.dnd.settings.scroll_speed),i===t.scroll_e.scrollTop()&&r===t.scroll_e.scrollLeft()||e.vakata.dnd._trigger("scroll",t.scroll_e)},start:function(n,i,r){"touchstart"===n.type&&n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]&&(n.pageX=n.originalEvent.changedTouches[0].pageX,n.pageY=n.originalEvent.changedTouches[0].pageY,n.target=document.elementFromPoint(n.originalEvent.changedTouches[0].pageX-window.pageXOffset,n.originalEvent.changedTouches[0].pageY-window.pageYOffset)),t.is_drag&&e.vakata.dnd.stop({});try{n.currentTarget.unselectable="on",n.currentTarget.onselectstart=function(){return!1},n.currentTarget.style&&(n.currentTarget.style.MozUserSelect="none")}catch(e){}return t.init_x=n.pageX,t.init_y=n.pageY,t.data=i,t.is_down=!0,t.element=n.currentTarget,t.target=n.target,t.is_touch="touchstart"===n.type,!1!==r&&(t.helper=e("<div id='vakata-dnd'></div>").html(r).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(document).bind("mousemove touchmove",e.vakata.dnd.drag),e(document).bind("mouseup touchend",e.vakata.dnd.stop),!1},drag:function(n){if("touchmove"===n.type&&n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]&&(n.pageX=n.originalEvent.changedTouches[0].pageX,n.pageY=n.originalEvent.changedTouches[0].pageY,n.target=document.elementFromPoint(n.originalEvent.changedTouches[0].pageX-window.pageXOffset,n.originalEvent.changedTouches[0].pageY-window.pageYOffset)),t.is_down){if(!t.is_drag){if(!(Math.abs(n.pageX-t.init_x)>(t.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(n.pageY-t.init_y)>(t.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)))return;t.helper&&(t.helper.appendTo("body"),t.helper_w=t.helper.outerWidth()),t.is_drag=!0,e.vakata.dnd._trigger("start",n)}var i=!1,r=!1,o=!1,a=!1,s=!1,l=!1,c=!1,u=!1,d=!1,h=!1;return t.scroll_t=0,t.scroll_l=0,t.scroll_e=!1,e(e(n.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var i=e(this),r=i.offset();if(this.scrollHeight>this.offsetHeight&&(r.top+i.height()-n.pageY<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_t=1),n.pageY-r.top<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(r.left+i.width()-n.pageX<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_l=1),n.pageX-r.left<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_l=-1)),t.scroll_t||t.scroll_l)return t.scroll_e=e(this),!1}),t.scroll_e||(i=e(document),r=e(window),o=i.height(),a=r.height(),s=i.width(),l=r.width(),c=i.scrollTop(),u=i.scrollLeft(),o>a&&n.pageY-c<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_t=-1),o>a&&a-(n.pageY-c)<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_t=1),s>l&&n.pageX-u<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_l=-1),s>l&&l-(n.pageX-u)<e.vakata.dnd.settings.scroll_proximity&&(t.scroll_l=1),(t.scroll_t||t.scroll_l)&&(t.scroll_e=i)),t.scroll_e&&e.vakata.dnd._scroll(!0),t.helper&&(d=parseInt(n.pageY+e.vakata.dnd.settings.helper_top,10),h=parseInt(n.pageX+e.vakata.dnd.settings.helper_left,10),o&&d+25>o&&(d=o-50),s&&h+t.helper_w>s&&(h=s-(t.helper_w+2)),t.helper.css({left:h+"px",top:d+"px"})),e.vakata.dnd._trigger("move",n),!1}},stop:function(n){if("touchend"===n.type&&n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]&&(n.pageX=n.originalEvent.changedTouches[0].pageX,n.pageY=n.originalEvent.changedTouches[0].pageY,n.target=document.elementFromPoint(n.originalEvent.changedTouches[0].pageX-window.pageXOffset,n.originalEvent.changedTouches[0].pageY-window.pageYOffset)),t.is_drag)e.vakata.dnd._trigger("stop",n);else if("touchend"===n.type&&n.target===t.target){var i=setTimeout(function(){e(n.target).click()},100);e(n.target).one("click",function(){i&&clearTimeout(i)})}return e.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(t,n){this.bind=function(){n.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this.element.on("before_open.jstree",e.proxy(function(t,n){var i,r,o=this._data.search.res,a=[],s=e();if(o&&o.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(o,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search"),this.settings.search.show_only_matches&&this._data.search.res.length)){for(i=0,r=o.length;i<r;i++)a=a.concat(this.get_node(o[i]).parents);a=e.vakata.array_remove_item(e.vakata.array_unique(a),"#"),s=a.length?e(this.element[0].querySelectorAll("#"+e.map(a,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))):e(),this.element.find(".jstree-node").hide().filter(".jstree-last").filter(function(){return this.nextSibling}).removeClass("jstree-last"),(s=s.add(this._data.search.dom)).parentsUntil(".jstree").addBack().show().filter(".jstree-children").each(function(){e(this).children(".jstree-node:visible").eq(-1).addClass("jstree-last")})}},this)),this.settings.search.show_only_matches&&this.element.on("search.jstree",function(t,n){n.nodes.length&&(e(this).find(".jstree-node").hide().filter(".jstree-last").filter(function(){return this.nextSibling}).removeClass("jstree-last"),n.nodes.parentsUntil(".jstree").addBack().show().filter(".jstree-children").each(function(){e(this).children(".jstree-node:visible").eq(-1).addClass("jstree-last")}))}).on("clear_search.jstree",function(t,n){n.nodes.length&&e(this).find(".jstree-node").css("display","").filter(".jstree-last").filter(function(){return this.nextSibling}).removeClass("jstree-last")})},this.search=function(t,n){if(!1===t||""===e.trim(t.toString()))return this.clear_search();t=t.toString();var i=this.settings.search,r=!!i.ajax&&i.ajax,o=null,a=[],s=[];if(this._data.search.res.length&&this.clear_search(),!n&&!1!==r)return e.isFunction(r)?r.call(this,t,e.proxy(function(n){n&&n.d&&(n=n.d),this._load_nodes(e.isArray(n)?e.vakata.array_unique(n):[],function(){this.search(t,!0)},!0)},this)):((r=e.extend({},r)).data||(r.data={}),r.data.str=t,e.ajax(r).fail(e.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(r)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(e.proxy(function(n){n&&n.d&&(n=n.d),this._load_nodes(e.isArray(n)?e.vakata.array_unique(n):[],function(){this.search(t,!0)},!0)},this)));this._data.search.str=t,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],o=new e.vakata.search(t,!0,{caseSensitive:i.case_sensitive,fuzzy:i.fuzzy}),e.each(this._model.data,function(e,n){n.text&&(i.search_callback&&i.search_callback.call(this,t,n)||!i.search_callback&&o.search(n.text).isMatch)&&(!i.search_leaves_only||n.state.loaded&&0===n.children.length)&&(a.push(e),s=s.concat(n.parents))}),a.length&&(s=e.vakata.array_unique(s),this._search_open(s),this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(a,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=a,this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")),this.trigger("search",{nodes:this._data.search.dom,str:t,res:this._data.search.res})},this.clear_search=function(){this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search"),this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this._search_open=function(t){var n=this;e.each(t.concat([]),function(i,r){if("#"===r)return!0;try{r=e("#"+r.replace(e.jstree.idregex,"\\$&"),n.element)}catch(e){}r&&r.length&&n.is_closed(r)&&(n._data.search.opn.push(r[0].id),n.open_node(r,function(){n._search_open(t)},0))})}},function(e){e.vakata.search=function(e,t,n){!1!==(n=n||{}).fuzzy&&(n.fuzzy=!0),e=n.caseSensitive?e:e.toLowerCase();var i,r,o,a,s=n.location||0,l=n.distance||100,c=n.threshold||.6,u=e.length;return u>32&&(n.fuzzy=!1),n.fuzzy&&(i=1<<u-1,r=function(){var t={},n=0;for(n=0;n<u;n++)t[e.charAt(n)]=0;for(n=0;n<u;n++)t[e.charAt(n)]|=1<<u-n-1;return t}(),o=function(e,t){var n=e/u,i=Math.abs(s-t);return l?n+i/l:i?1:n}),a=function(t){if(t=n.caseSensitive?t:t.toLowerCase(),e===t||-1!==t.indexOf(e))return{isMatch:!0,score:0};if(!n.fuzzy)return{isMatch:!1,score:1};var a,l,d,h,f,p,m,g,_,v=t.length,y=c,b=t.indexOf(e,s),w=u+v,k=1,M=[];for(-1!==b&&(y=Math.min(o(0,b),y),-1!==(b=t.lastIndexOf(e,s+u))&&(y=Math.min(o(0,b),y))),b=-1,a=0;a<u;a++){for(d=0,h=w;d<h;)o(a,s+h)<=y?d=h:w=h,h=Math.floor((w-d)/2+d);for(w=h,p=Math.max(1,s-h+1),m=Math.min(s+h,v)+u,(g=new Array(m+2))[m+1]=(1<<a)-1,l=m;l>=p;l--)if(_=r[t.charAt(l-1)],g[l]=0===a?(g[l+1]<<1|1)&_:(g[l+1]<<1|1)&_|(f[l+1]|f[l])<<1|1|f[l+1],g[l]&i&&(k=o(a,l-1))<=y){if(y=k,b=l-1,M.push(b),!(b>s))break;p=Math.max(1,2*s-b)}if(o(a+1,s)>y)break;f=g}return{isMatch:b>=0,score:k}},!0===t?{search:a}:a(t)}}(e),e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("model.jstree",e.proxy(function(e,t){this.sort(t.parent,!0)},this)).on("rename_node.jstree create_node.jstree",e.proxy(function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",e.proxy(function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)},this))},this.sort=function(t,n){var i,r;if((t=this.get_node(t))&&t.children&&t.children.length&&(t.children.sort(e.proxy(this.settings.sort,this)),n))for(i=0,r=t.children_d.length;i<r;i++)this.sort(t.children_d[i],!1)}};var f=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree",ttl:!1,filter:!1},e.jstree.plugins.state=function(t,n){this.bind=function(){n.bind.call(this);var t=e.proxy(function(){this.element.on(this.settings.state.events,e.proxy(function(){f&&clearTimeout(f),f=setTimeout(e.proxy(function(){this.save_state()},this),100)},this))},this);this.element.on("ready.jstree",e.proxy(function(e,n){this.element.one("restore_state.jstree",t),this.restore_state()||t()},this))},this.save_state=function(){var t={state:this.get_state(),ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(t))},this.restore_state=function(){var t=e.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(e){return!1}return!(t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl)&&(t&&t.state&&(t=t.state),t&&e.isFunction(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),!!t&&(this.element.one("set_state.jstree",function(n,i){i.instance.trigger("restore_state",{state:e.extend(!0,{},t)})}),this.set_state(t),!0))},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(e,t){e.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}}}(e),e.jstree.defaults.types={"#":{},default:{}},e.jstree.plugins.types=function(n,i){this.init=function(e,n){var r,o;if(n&&n.types&&n.types.default)for(r in n.types)if("default"!==r&&"#"!==r&&n.types.hasOwnProperty(r))for(o in n.types.default)n.types.default.hasOwnProperty(o)&&n.types[r][o]===t&&(n.types[r][o]=n.types.default[o]);i.init.call(this,e,n),this._model.data["#"].type="#"},this.refresh=function(e,t){i.refresh.call(this,e,t),this._model.data["#"].type="#"},this.bind=function(){this.element.on("model.jstree",e.proxy(function(e,n){var i,r,o=this._model.data,a=n.nodes,s=this.settings.types,l="default";for(i=0,r=a.length;i<r;i++)l="default",o[a[i]].original&&o[a[i]].original.type&&s[o[a[i]].original.type]&&(l=o[a[i]].original.type),o[a[i]].data&&o[a[i]].data.jstree&&o[a[i]].data.jstree.type&&s[o[a[i]].data.jstree.type]&&(l=o[a[i]].data.jstree.type),o[a[i]].type=l,!0===o[a[i]].icon&&s[l].icon!==t&&(o[a[i]].icon=s[l].icon);o["#"].type="#"},this)),i.bind.call(this)},this.get_json=function(t,n,r){var o,a,s=this._model.data,l=n?e.extend(!0,{},n,{no_id:!1}):{},c=i.get_json.call(this,t,l,r);if(!1===c)return!1;if(e.isArray(c))for(o=0,a=c.length;o<a;o++)c[o].type=c[o].id&&s[c[o].id]&&s[c[o].id].type?s[c[o].id].type:"default",n&&n.no_id&&(delete c[o].id,c[o].li_attr&&c[o].li_attr.id&&delete c[o].li_attr.id);else c.type=c.id&&s[c.id]&&s[c.id].type?s[c.id].type:"default",n&&n.no_id&&(c=this._delete_ids(c));return c},this._delete_ids=function(t){if(e.isArray(t)){for(var n=0,i=t.length;n<i;n++)t[n]=this._delete_ids(t[n]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.children&&e.isArray(t.children)&&(t.children=this._delete_ids(t.children)),t},this.check=function(n,r,o,a,s){if(!1===i.check.call(this,n,r,o,a,s))return!1;r=r&&r.id?r:this.get_node(r),o=o&&o.id?o:this.get_node(o);var l,c,u,d,h=r&&r.id?e.jstree.reference(r.id):null;switch(h=h&&h._model&&h._model.data?h._model.data:null,n){case"create_node":case"move_node":case"copy_node":if("move_node"!==n||-1===e.inArray(r.id,o.children)){if((l=this.get_rules(o)).max_children!==t&&-1!==l.max_children&&l.max_children===o.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!o||!o.id)&&o.id})},!1;if(l.valid_children!==t&&-1!==l.valid_children&&-1===e.inArray(r.type,l.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!o||!o.id)&&o.id})},!1;if(h&&r.children_d&&r.parents){for(c=0,u=0,d=r.children_d.length;u<d;u++)c=Math.max(c,h[r.children_d[u]].parents.length);c=c-r.parents.length+1}(c<=0||c===t)&&(c=1);do{if(l.max_depth!==t&&-1!==l.max_depth&&l.max_depth<c)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:!(!r||!r.id)&&r.id,par:!(!o||!o.id)&&o.id})},!1;o=this.get_node(o.parent),l=this.get_rules(o),c++}while(o)}}return!0},this.get_rules=function(e){if(!(e=this.get_node(e)))return!1;var n=this.get_type(e,!0);return n.max_depth===t&&(n.max_depth=-1),n.max_children===t&&(n.max_children=-1),n.valid_children===t&&(n.valid_children=-1),n},this.get_type=function(t,n){return!!(t=this.get_node(t))&&(n?e.extend({type:t.type},this.settings.types[t.type]):t.type)},this.set_type=function(n,i){var r,o,a,s,l;if(e.isArray(n)){for(n=n.slice(),o=0,a=n.length;o<a;o++)this.set_type(n[o],i);return!0}return r=this.settings.types,n=this.get_node(n),!(!r[i]||!n)&&(s=n.type,l=this.get_icon(n),n.type=i,(!0===l||r[s]&&r[s].icon&&l===r[s].icon)&&this.set_icon(n,r[i].icon===t||r[i].icon),!0)}},e.jstree.defaults.unique={case_sensitive:!1,duplicate:function(e,t){return e+" ("+t+")"}},e.jstree.plugins.unique=function(n,i){this.check=function(t,n,r,o,a){if(!1===i.check.call(this,t,n,r,o,a))return!1;if(n=n&&n.id?n:this.get_node(n),!(r=r&&r.id?r:this.get_node(r))||!r.children)return!0;var s,l,c="rename_node"===t?o:n.text,u=[],d=this.settings.unique.case_sensitive,h=this._model.data;for(s=0,l=r.children.length;s<l;s++)u.push(d?h[r.children[s]].text:h[r.children[s]].text.toLowerCase());switch(d||(c=c.toLowerCase()),t){case"delete_node":return!0;case"rename_node":return(s=-1===e.inArray(c,u)||n.text&&n.text[d?"toString":"toLowerCase"]()===c)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),s;case"create_node":return(s=-1===e.inArray(c,u))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),s;case"copy_node":return(s=-1===e.inArray(c,u))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),s;case"move_node":return(s=n.parent===r.id||-1===e.inArray(c,u))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:!(!n||!n.id)&&n.id,par:!(!r||!r.id)&&r.id})}),s}return!0},this.create_node=function(n,r,o,a,s){if(!r||r.text===t){if(null===n&&(n="#"),!(n=this.get_node(n)))return i.create_node.call(this,n,r,o,a,s);if(!(o=o===t?"last":o).toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(n))return i.create_node.call(this,n,r,o,a,s);r||(r={});var l,c,u,d,h,f=this._model.data,p=this.settings.unique.case_sensitive,m=this.settings.unique.duplicate;for(c=l=this.get_string("New node"),u=[],d=0,h=n.children.length;d<h;d++)u.push(p?f[n.children[d]].text:f[n.children[d]].text.toLowerCase());for(d=1;-1!==e.inArray(p?c:c.toLowerCase(),u);)c=m.call(this,l,++d).toString();r.text=c}return i.create_node.call(this,n,r,o,a,s)}};var p=document.createElement("DIV");p.setAttribute("unselectable","on"),p.className="jstree-wholerow",p.innerHTML="&#160;",e.jstree.plugins.wholerow=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("ready.jstree set_state.jstree",e.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var n,i,r=!1;for(n=0,i=t.selected.length;n<i;n++)(r=this.get_node(t.selected[n],!0))&&r.length&&r.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",e.proxy(function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",e.proxy(function(e,t){this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",e.proxy(function(t){t.preventDefault();var n=e.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor:eq(0)").trigger(n)},this)).on("click.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor:eq(0)").trigger(n).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",e.proxy(function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor:eq(0)").trigger(n).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",e.proxy(function(e){return e.stopImmediatePropagation(),this.hover_node(e.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),n.teardown.call(this)},this.redraw_node=function(t,i,r){if(t=n.redraw_node.call(this,t,i,r)){var o=p.cloneNode(!0);-1!==e.inArray(t.id,this._data.core.selected)&&(o.className+=" jstree-wholerow-clicked"),t.insertBefore(o,t.childNodes[0])}return t}}})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var o=function(){function t(e){n(this,t),this.panel=e}return r(t,[{key:"test",value:function(t,n){var i=this;window.clearTimeout(this.timeout);var r=t.pageX,o=t.pageY,a=e(this.panel),s=a.position(),l=a.width(),c=a.height(),u=a.parent(),d=u.width(),h=u.height(),f=u.offset(),p=f.left,m=f.top,g=p+u.width(),_=m+u.height(),v=-(l-d/2),y=-(c-h/2),b=d/2,w=h/2,k=!1,M=0;r-5<p?s.left<b&&(M=Math.min(23,b-s.left),a.css("left",s.left+M),k=!0):r+5>g?s.left>v&&(M=Math.min(23,s.left-v),a.css("left",s.left-M),k=!0):o-5<m?s.top<w&&(M=Math.min(23,w-s.top),a.css("top",s.top+M),k=!0):o+5>_&&s.top>y&&(M=Math.min(23,s.top-v),a.css("top","".concat(s.top-M,"px")),k=!0),k&&(n(),this.timeout=window.setTimeout(function(){i.test(t,n)},50))}},{key:"stop",value:function(){window.clearTimeout(this.timeout)}}]),t}(),a=[.25,.33,.5,.67,.75,.8,.9,1,1.1,1.25,1.5,1.75,2,2.5,3,4],s=7,l=function(){function t(e,i,r){n(this,t),this.app=e,this.cv=i,this.cc=this.cv.find("#canvas-container"),this.overview=r,this.oc=r.find("#overview-canvas"),this.ov=r.find("#overview-viewport"),this.zoomLevel=s,this.canvasZoom=a[s],this.initZoomControls(),this.init_drag(),this.init_copy_paste()}return r(t,[{key:"setZoom",value:function(e){this.zoomLevel=Math.min(Math.max(0,e),a.length),this.canvasZoom=a[this.zoomLevel],this.cv.css("transform-origin","top left"),this.cv.css("transform","scale("+this.canvasZoom+")"),this.cv.css("width","".concat(100/this.canvasZoom,"%")),this.cv.css("height","".concat(100/this.canvasZoom,"%")),this.app.workflow.fit_canvas_to_nodes()}},{key:"initZoomControls",value:function(){var t=this,n=e('<div class="btn-group-vertical"/>').css({position:"absolute",left:"1rem",bottom:"1rem"});n.append(e('<div class="btn btn-secondary fa fa-plus"/>').click(function(){return t.setZoom(t.zoomLevel+1)})),n.append(e('<div class="btn btn-secondary fa fa-minus"/>').click(function(){return t.setZoom(t.zoomLevel-1)})),this.cv.closest("#workflow-canvas-body").append(n)}},{key:"init_drag",value:function(){var t,n,i=this,r=this,a=function(e,t){e=Math.min(e,r.cv.width()/2),e=Math.max(e,-r.cc.width()+r.cv.width()/2),t=Math.min(t,r.cv.height()/2),t=Math.max(t,-r.cc.height()+r.cv.height()/2),r.cc.css({left:e,top:t}),r.cv.css({"background-position-x":e,"background-position-y":t}),r.update_viewport_overlay()};this.cc.each(function(){this.scroll_panel=new o(this)}),this.cv.bind("click",function(){document.activeElement.blur()}).bind("dragstart",function(){var i=e(this).offset(),o=r.cc.position();n=o.top-i.top,t=o.left-i.left}).bind("drag",function(e,r){a((r.offsetX+t)/i.canvasZoom,(r.offsetY+n)/i.canvasZoom)}).bind("dragend",function(){r.app.workflow.fit_canvas_to_nodes(),r.draw_overview()}),this.overview.click(function(e){if(r.overview.hasClass("blockaclick"))r.overview.removeClass("blockaclick");else{var t=r.cc.width(),n=r.cc.height(),i=r.oc.width(),o=r.oc.height(),s=e.pageX-r.oc.offset().left-r.ov.width()/2,l=e.pageY-r.oc.offset().top-r.ov.height()/2;a(-s/i*t,-l/o*n),r.app.workflow.fit_canvas_to_nodes(),r.draw_overview()}}),this.ov.bind("drag",function(e,t){var n=r.cc.width(),i=r.cc.height(),o=r.oc.width(),s=r.oc.height(),l=t.offsetX-r.overview.offset().left,c=t.offsetY-r.overview.offset().top;a(-l/o*n,-c/s*i)}).bind("dragend",function(){r.overview.addClass("blockaclick"),r.app.workflow.fit_canvas_to_nodes(),r.draw_overview()}),e(".workflow-overview").bind("drag",function(t,n){var i=e(this).offsetParent(),o=i.offset(),a=Math.max(i.width()-(n.offsetX-o.left),i.height()-(n.offsetY-o.top));e(this).css({width:a,height:a}),r.draw_overview()}),e(".workflow-overview div").bind("drag",function(){})}},{key:"init_copy_paste",value:function(){var e=this;document.addEventListener("copy",function(t){""===window.getSelection().toString()&&(e.app.workflow.active_node&&"subworkflow"!==e.app.workflow.active_node.type&&t.clipboardData.setData("application/json",JSON.stringify({nodeId:e.app.workflow.active_node.id})),t.preventDefault())}),document.addEventListener("paste",function(t){if(document.activeElement&&"textarea"!==document.activeElement.type&&"text"!==document.activeElement.type){var n;try{n=JSON.parse(t.clipboardData.getData("application/json")).nodeId}catch(e){console.debug(e)}n&&e.app.workflow.nodes.hasOwnProperty(n)&&e.app.workflow.nodes[n].clone(),t.preventDefault()}})}},{key:"update_viewport_overlay",value:function(){var e=this.cc,t=this.cv,n=this.oc,i=this.ov,r=e.width(),o=e.height(),a=n.width(),s=n.height(),l=e.position();i.css({left:-l.left/r*a,top:-l.top/o*s,width:t.width()/r*a-2,height:t.height()/o*s-2})}},{key:"draw_overview",value:function(){var t,n,i,r,o=e("#overview-canvas"),a=o.parent().parent().width(),s=o.get(0).getContext("2d"),l=e("#canvas-container").width(),c=e("#canvas-container").height(),u=this.cv.width(),d=this.cv.height();l<u&&c<d?(r=(a-(i=l/u*a))/2,n=(a-(t=c/d*a))/2):l<c?(n=0,t=a,r=(a-(i=Math.ceil(t*l/c)))/2):(i=a,r=0,n=(a-(t=Math.ceil(i*c/l)))/2),o.parent().css({left:r,top:n,width:i,height:t}),o.attr("width",i),o.attr("height",t),e.each(this.app.workflow.nodes,function(n,r){s.fillStyle="gray";var o=e(r.element),a=o.position(),u=a.left/l*i,d=a.top/c*t,h=o.width()/l*i,f=o.height()/c*t;r.errors&&(s.fillStyle="#e31a1e"),s.fillRect(u,d,h,f)}),this.update_viewport_overlay()}}]),t}();t.a=l}).call(this,n(0))},function(e,t,n){"use strict";(function(e,i){var r=n(33),o=n(371),a=n(467);t.a=e.View.extend({initialize:function(e){this.node=e.node,this.output_width=Math.max(150,this.$el.width()),this.tool_body=this.$el.find(".toolFormBody"),this.tool_body.find("div").remove(),this.newInputsDiv().appendTo(this.tool_body),this.terminalViews={},this.outputViews={}},render:function(){this.renderToolLabel(),this.renderToolErrors(),this.$el.css("width",Math.min(250,Math.max(this.$el.width(),this.output_width)))},renderToolLabel:function(){this.$(".nodeTitle").text(this.node.label||this.node.name),this.$el.attr("node-label",this.node.label)},renderToolErrors:function(){this.node.errors?this.$el.addClass("tool-node-error"):this.$el.removeClass("tool-node-error")},newInputsDiv:function(){return i("<div/>").addClass("inputs")},updateMaxWidth:function(e){this.output_width=Math.max(this.output_width,e)},addRule:function(){this.tool_body.append(i("<div/>").addClass("rule"))},addDataInput:function(e,t){var n=!0;t||(t=this.$(".inputs"),n=!1);var i=this.terminalViews[e.name],r=o.a.InputTerminalView;if("dataset_collection"==e.input_type?r=o.a.InputCollectionTerminalView:"parameter"==e.input_type&&(r=o.a.InputParameterTerminalView),!i||i instanceof r||(i.el.terminal.destroy(),i=null),i){var s=i.el.terminal;s.update(e),s.destroyInvalidConnections()}else i=new r({node:this.node,input:e});this.terminalViews[e.name]=i;var l=i.el,c=new a.a.DataInputView({terminalElement:l,input:e,nodeView:this,skipResize:n}).$el;return t.append(c.prepend(i.terminalElements())),i},addDataOutput:function(e){var t=o.a.OutputTerminalView,n=a.a.DataOutputView;e.collection?t=o.a.OutputCollectionTerminalView:e.parameter&&(t=o.a.OutputParameterTerminalView,n=a.a.ParameterOutputView);var i=new t({node:this.node,output:e}),r=new n({output:e,terminalElement:i.el,nodeView:this});this.outputViews[e.name]=r,this.tool_body.append(r.$el.append(i.terminalElements()))},redrawWorkflowOutputs:function(){r.each(this.outputViews,function(e){e.redrawWorkflowOutput()})},updateDataOutput:function(e){this.node.output_terminals[e.name].update(e)}})}).call(this,n(3),n(0))},function(e,t,n){"use strict";(function(e,i,r,o){var a=n(6),s=(n(11),n(384)),l=n(450),c=n(511),u=n(572),d=e.View.extend({initialize:function(e,t){this.app=e,this.inputs=t.inputs,this.parameters=new u.a,this.setElement(i("<div/>")),this.render()},render:function(){var e=this;this.$el.empty(),r.each(this.inputs,function(t){e.add(t)})},add:function(e){var t=o.extend({},e);switch(t.id=a.a.uid(),this.app.input_list[t.id]=t,t.type){case"conditional":this._addConditional(t);break;case"repeat":this._addRepeat(t);break;case"section":this._addSection(t);break;default:this._addRow(t)}},_addConditional:function(e){var t=this;e.test_param.id=e.id,e.test_param.textable=!1,this.app.model.get("sustain_conditionals")&&(e.test_param.disabled=!0);var n=this._addRow(e.test_param);if(n.model){for(var i in e.cases){var r=new d(this.app,{inputs:e.cases[i].inputs});this._append(r.$el.addClass("ui-portlet-section pl-2"),"".concat(e.id,"-section-").concat(i))}n.model.set("onchange",function(n){var i=t.app.data.matchCase(e,n);for(var r in e.cases){var o=e.cases[r],a=t.$("#".concat(e.id,"-section-").concat(r)),s=!1;for(var l in o.inputs)if(!o.inputs[l].hidden){s=!0;break}r==i&&s?a.fadeIn("fast"):a.hide()}t.app.trigger("change")}),n.trigger("change")}},_addRepeat:function(e){var t=this,n=0,i=new l.a.View({title:e.title||"Repeat",min:e.min,max:e.max,onnew:function(){o(e.inputs),t.app.trigger("change")}});function o(r){var o="".concat(e.id,"-section-").concat(n++),a=new d(t.app,{inputs:r});i.add({id:o,$el:a.$el,ondel:function(){i.del(o),t.app.trigger("change")}})}for(var a=r.size(e.cache),s=0;s<Math.max(Math.max(a,e.min||0),e.default||0);s++)o(s<a?e.cache[s]:e.inputs);this.app.model.get("sustain_repeats")&&i.hideOptions();var u=new c.a(this.app,{label:e.title||e.name,help:e.help,field:i});this._append(u.$el,e.id)},_addSection:function(e){var t=new s.a.View({title:e.title||e.name,cls:"ui-portlet-section",collapsible:!0,collapsible_button:!0,collapsed:!e.expanded});t.append(new d(this.app,{inputs:e.inputs}).$el),t.append(i("<div/>").addClass("form-text text-muted").html(e.help)),this.app.on("expand",function(e){t.$("#".concat(e)).length>0&&t.expand()}),this._append(t.$el,e.id)},_addRow:function(e){var t=this,n=e.id;e.onchange=e.onchange||function(){t.app.trigger("change",n)};var i=this.parameters.create(e);this.app.field_list[n]=i;var r=new c.a(this.app,{name:e.name,label:e.hide_label?"":e.label||e.name,value:e.value,text_value:e.text_value,collapsible_value:e.collapsible_value,collapsible_preview:e.collapsible_preview,connectable:e.connectable,help:e.help,argument:e.argument,disabled:e.disabled,color:e.color,style:e.style,backdrop:e.backdrop,hidden:e.hidden,fixed:e.fixed,field:i});return this.app.element_list[n]=r,this._append(r.$el,e.id),i},_append:function(e,t){this.$el.append(e.addClass("section-row").attr("id",t))}});t.a={View:d}}).call(this,n(3),n(0),n(2),n(0))},function(e,t,n){"use strict";(function(e,i){var r=n(5),o=n(6),a=n(11),s=n(573),l=n(574),c=n(575),u=n(576),d=n(625),h=n(579);t.a=e.Model.extend({types:{text:"_fieldText",password:"_fieldText",select:"_fieldSelect",data_column:"_fieldSelect",genomebuild:"_fieldSelect",data:"_fieldData",data_collection:"_fieldData",integer:"_fieldSlider",float:"_fieldSlider",boolean:"_fieldBoolean",drill_down:"_fieldDrilldown",color:"_fieldColor",group_tag:"_fieldSelect",hidden:"_fieldHidden",hidden_data:"_fieldHidden",baseurl:"_fieldHidden",library_data:"_fieldLibrary",ftpfile:"_fieldFtp",upload:"_fieldUpload",rules:"_fieldRulesEdit",genomespacefile:"_fieldGenomeSpace"},create:function(e){var t=Object(r.getGalaxyInstance)(),n=this.types[e.type],i="function"==typeof this[n]?this[n].call(this,e):null;return i||(i=e.options?this._fieldSelect(e):this._fieldText(e),t.emit.debug("form-parameters::_addRow()","Auto matched field type (".concat(e.type,")."))),void 0===e.value&&(e.value=null),i.value(e.value),i},_fieldData:function(e){return new s.a.View({id:"field-".concat(e.id),extensions:e.extensions,optional:e.optional,multiple:e.multiple,type:e.type,flavor:e.flavor,data:e.options,onchange:e.onchange})},_fieldSelect:function(e){if(e.is_workflow)return this._fieldText(e);"data_column"==e.type&&(e.error_text="Missing columns in referenced dataset.");var t={checkboxes:a.a.Checkbox,radio:a.a.Radio,radiobutton:a.a.RadioButton}[e.display]||a.a.Select;return new a.a.TextSelect({id:"field-".concat(e.id),data:e.data,options:e.options,display:e.display,error_text:e.error_text||"No options available",readonly:e.readonly,multiple:e.multiple,optional:e.optional,onchange:e.onchange,individual:e.individual,searchable:"workflow"!==e.flavor,textable:e.textable,SelectClass:t})},_fieldDrilldown:function(e){return e.is_workflow?this._fieldText(e):new a.a.Drilldown.View({id:"field-".concat(e.id),data:e.options,display:e.display,optional:e.optional,onchange:e.onchange})},_fieldText:function(e){if(e.data_ref||e.options&&e.data)if(e.area=e.multiple,o.a.isEmpty(e.value))e.value=null;else if(i.isArray(e.value)){var t="";for(var n in e.value){if(t+=String(e.value[n]),!e.multiple)break;t+="\n"}e.value=t}return new a.a.Input({id:"field-".concat(e.id),type:e.type,area:e.area,readonly:e.readonly,placeholder:e.placeholder,datalist:e.datalist,onchange:e.onchange})},_fieldSlider:function(e){return new a.a.Slider.View({id:"field-".concat(e.id),precise:"float"==e.type,is_workflow:e.is_workflow,min:e.min,max:e.max,onchange:e.onchange})},_fieldHidden:function(e){return new a.a.Hidden({id:"field-".concat(e.id),info:e.info})},_fieldBoolean:function(e){return new a.a.RadioButton.View({id:"field-".concat(e.id),data:[{label:"Yes",value:"true"},{label:"No",value:"false"}],onchange:e.onchange})},_fieldColor:function(e){return new h.a({id:"field-".concat(e.id),onchange:e.onchange})},_fieldLibrary:function(e){return new l.a.View({id:"field-".concat(e.id),optional:e.optional,multiple:e.multiple,onchange:e.onchange})},_fieldFtp:function(e){return new c.a.View({id:"field-".concat(e.id),optional:e.optional,multiple:e.multiple,onchange:e.onchange})},_fieldGenomeSpace:function(e){return new u.a.View({id:"field-".concat(e.id),onchange:e.onchange})},_fieldRulesEdit:function(e){return new d.a.View({id:"field-".concat(e.id),onchange:e.onchange,target:e.target})},_fieldUpload:function(e){return new a.a.Upload({id:"field-".concat(e.id),onchange:e.onchange})}})}).call(this,n(3),n(0))},function(e,t,n){"use strict";(function(e,i,r,o){var a=n(1),s=n.n(a),l=n(6),c=n(11),u=n(401),d="disabled",h="enabled",f="linked",p={data:[{src:"hda",icon:"fa-file-o",tooltip:s()("Single dataset"),multiple:!1,batch:d},{src:"hda",icon:"fa-files-o",tooltip:s()("Multiple datasets"),multiple:!0,batch:f},{src:"hdca",icon:"fa-folder-o",tooltip:s()("Dataset collection"),multiple:!1,batch:f}],data_multiple:[{src:"hda",icon:"fa-files-o",tooltip:s()("Multiple datasets"),multiple:!0,batch:d},{src:"hdca",icon:"fa-folder-o",tooltip:s()("Dataset collections"),multiple:!0,batch:d}],data_collection:[{src:"hdca",icon:"fa-folder-o",tooltip:s()("Dataset collection"),multiple:!1,batch:d}],workflow_data:[{src:"hda",icon:"fa-file-o",tooltip:s()("Single dataset"),multiple:!1,batch:d}],workflow_data_multiple:[{src:"hda",icon:"fa-files-o",tooltip:s()("Multiple datasets"),multiple:!0,batch:d}],workflow_data_collection:[{src:"hdca",icon:"fa-folder-o",tooltip:s()("Dataset collection"),multiple:!1,batch:d}],module_data:[{src:"hda",icon:"fa-file-o",tooltip:s()("Single dataset"),multiple:!1,batch:d},{src:"hda",icon:"fa-files-o",tooltip:s()("Multiple datasets"),multiple:!0,batch:h}],module_data_collection:[{src:"hdca",icon:"fa-folder-o",tooltip:s()("Dataset collection"),multiple:!1,batch:d},{src:"hdca",icon:"fa-folder",tooltip:s()("Multiple collections"),multiple:!0,batch:h}]},m=e.View.extend({initialize:function(t){var n=this,r=this;this.model=t&&t.model||new e.Model({src_labels:{hda:"dataset",hdca:"dataset collection"},pagelimit:100,statustimer:1e3}).set(t),this.setElement(i("<div/>").addClass("ui-select-content")),this.button_product=new c.a.RadioButton.View({value:"false",data:[{icon:"fa fa-chain",value:"false",tooltip:"Linked inputs will be run in matched order with other datasets e.g. use this for matching forward and reverse reads."},{icon:"fa fa-chain-broken",value:"true",tooltip:"Unlinked dataset inputs will be run against *all* other inputs."}]});var o=i("<div/>").addClass("form-text text-muted").append(i("<i/>").addClass("fa fa-sitemap")).append(i("<span/>").html("This is a batch mode input field. Separate jobs will be triggered for each dataset selection."));this.$batch={linked:o.clone(),enabled:o.clone().append(i("<div/>").append(i("<div/>").addClass("ui-form-title").html("Batch options:")).append(this.button_product.$el)).append(i("<div/>").css("clear","both"))};var a=this.$el.get(0);a.addEventListener("dragenter",function(e){n.lastenter=e.target,r.$el.addClass("ui-dragover")}),a.addEventListener("dragover",function(e){e.preventDefault()}),a.addEventListener("dragleave",function(e){n.lastenter===e.target&&r.$el.removeClass("ui-dragover")}),a.addEventListener("drop",function(e){r._handleDrop(e)}),this.history={},this.listenTo(this.model,"change:data",this._changeData,this),this.listenTo(this.model,"change:wait",this._changeWait,this),this.listenTo(this.model,"change:current",this._changeCurrent,this),this.listenTo(this.model,"change:value",this._changeValue,this),this.listenTo(this.model,"change:type change:optional change:multiple change:extensions",this._changeType,this),this.render(),this.on("change",function(){t.onchange&&t.onchange(r.value())})},render:function(){this._changeType(),this._changeValue(),this._changeWait()},wait:function(){this.model.set("wait",!0)},unwait:function(){this.model.set("wait",!1)},update:function(e){this.model.set("data",e.options)},value:function(e){void 0!==e&&this.model.set("value",e);var t=this.model.get("current");if(this.config[t]){var n=this.fields[t].value();if(null!==n&&(n=i.isArray(n)?n:[n]).length>0){var o=this._batch({values:[]});for(var a in n){var s=this.history["".concat(n[a],"_").concat(this.config[t].src)];if(!s)return r.emit.debug("ui-select-content::value()","Requested details not found for '".concat(n[a],"'.")),null;o.values.push(s)}return o.values.sort(function(e,t){return e.hid-t.hid}),o}}else r.emit.debug("ui-select-content::value()","Invalid value/source '".concat(e,"'."));return null},_changeCurrent:function(){var e=this;o.each(this.fields,function(t,n){e.model.get("current")==n?(t.$el.show(),o.each(e.$batch,function(t,i){t[e.config[n].batch==i?"show":"hide"]()}),e.button_type.value(n)):t.$el.hide()})},_changeType:function(){var e=this,t=(this.model.get("flavor")?"".concat(this.model.get("flavor"),"_"):"")+String(this.model.get("type"))+(this.model.get("multiple")?"_multiple":"");p[t]?this.config=p[t]:(this.config=p.data,r.emit.debug("ui-select-content::_changeType()","Invalid configuration/type id '".concat(t,"'.")));var n=e.model.get("data"),i=l.a.textify(this.model.get("extensions")),a=this.model.get("src_labels");this.fields=[],this.button_data=[],o.each(this.config,function(t,r){e.button_data.push({value:r,icon:t.icon,tooltip:t.tooltip}),e.fields.push(new u.a.View({optional:e.model.get("optional"),multiple:t.multiple,searchable:!t.multiple||n&&n[t.src]&&n[t.src].length>e.model.get("pagelimit"),individual:!0,error_text:"No ".concat(i?"".concat(i," "):"").concat(a[t.src]||"content"," available."),onchange:function(){e.trigger("change")}}))}),this.button_type=new c.a.RadioButton.View({value:this.model.get("current"),data:this.button_data,onchange:function(t){e.model.set("current",t),e.trigger("change")}}),this.$el.empty();var s=0;this.fields.length>1&&(this.$el.append(this.button_type.$el),s="".concat(Math.max(0,40*this.fields.length),"px")),o.each(this.fields,function(t){e.$el.append(t.$el.css({"margin-left":s}))}),o.each(this.$batch,function(t,n){e.$el.append(t.css({"margin-left":s}))}),this.model.set("current",0),this._changeCurrent(),this._changeData()},_changeWait:function(){var e=this;o.each(this.fields,function(t){t[e.model.get("wait")?"wait":"unwait"]()})},_changeData:function(){var e=this.model.get("data"),t=this,n={};o.each(e,function(e,i){n[i]=[],o.each(e,function(e){n[i].push({hid:e.hid,keep:e.keep,label:"".concat(e.hid,": ").concat(e.name),value:e.id,tags:e.tags}),t.history["".concat(e.id,"_").concat(i)]=e})}),o.each(this.config,function(e,i){n[e.src]&&t.fields[i].add(n[e.src],function(e,t){return t.hid-e.hid})})},_changeValue:function(){var e=this.model.get("value");if(e&&e.values&&e.values.length>0){var t=[];o.each(e.values,function(e){t.push(e.id)});for(var n=e.values[0].src,i=e.values.length>1,r=0;r<this.config.length;r++){var a=this.fields[r],s=this.config[r];if(s.src==n&&-1!==[i,!0].indexOf(s.multiple)){this.model.set("current",r),a.value(t);break}}}else o.each(this.fields,function(e){e.value(null)})},_handleDrop:function(e){try{var t=this.model.get("data"),n=this.model.get("current"),i=this.config[n],r=this.fields[n],a=JSON.parse(e.dataTransfer.getData("text"))[0],s=a.id,l="dataset_collection"==a.history_content_type?"hdca":"hda",c={id:s,src:l};if(t&&a.history_id){if(o.findWhere(t[l],c)||(t[l].push({id:s,src:l,hid:a.hid||"Dropped",name:a.hid?a.name:s,keep:!0,tags:[]}),this._changeData()),i.src==l){var u=r.value();u&&i.multiple?-1==u.indexOf(s)&&u.push(s):u=s,r.value(u)}else this.model.set("value",{values:[c]}),this.model.trigger("change:value");this.trigger("change"),this._handleDropStatus("success")}else this._handleDropStatus("danger")}catch(e){this._handleDropStatus("danger")}e.preventDefault()},_handleDropStatus:function(e){var t=this;this.$el.removeClass("ui-dragover").addClass("ui-dragover-".concat(e)),setTimeout(function(){t.$el.removeClass("ui-dragover-".concat(e))},this.model.get("statustimer"))},_batch:function(e){e.batch=!1;var t=this.model.get("current"),n=this.config[t];if("hdca"==n.src){var i=this.history["".concat(this.fields[t].value(),"_hdca")];i&&i.map_over_type&&(e.batch=!0)}return n.batch!=f&&n.batch!=h||(e.batch=!0,n.batch==h&&"true"===this.button_product.value()&&(e.product=!0)),e}});t.a={View:m}}).call(this,n(3),n(0),n(5).monitor,n(2))},function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(11),a=n(451),s=n(4),l=r.a.Collection.extend({url:"".concat(Object(s.a)(),"api/libraries?deleted=false")}),c=r.a.Collection.extend({initialize:function(){var e=this;this.config=new r.a.Model({library_id:null}),this.config.on("change",function(){e.fetch({reset:!0})})},url:function(){return"".concat(Object(s.a)(),"api/libraries/").concat(this.config.get("library_id"),"/contents")}}),u=r.a.View.extend({initialize:function(e){var t=this;this.libraries=new l,this.datasets=new c,this.options=e,this.library_select=new o.a.Select.View({onchange:function(e){t.datasets.config.set("library_id",e)}}),this.dataset_list=new a.a.View({name:"dataset",optional:e.optional,multiple:e.multiple,onchange:function(){t.trigger("change")}}),this.libraries.on("reset",function(){var e=[];t.libraries.each(function(t){e.push({value:t.id,label:t.get("name")})}),t.library_select.update({data:e})}),this.datasets.on("reset",function(){var e=[];null!==t.library_select.text()&&t.datasets.each(function(t){"file"===t.get("type")&&e.push({value:t.id,label:t.get("name")})}),t.dataset_list.update({data:e})}),this.on("change",function(){e.onchange&&e.onchange(t.value())}),this.setElement(this._template()),this.$(".library-select").append(this.library_select.$el),this.$el.append(this.dataset_list.$el),this.libraries.fetch({reset:!0,success:function(){t.library_select.trigger("change"),void 0!==t.options.value&&t.value(t.options.value)}})},value:function(e){return this.dataset_list.value(e)},_template:function(){return'<div class="ui-select-library">\n                    <div class="library-select mb-2"/>\n                </div>'}});t.a={View:u}},function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(4),a=n(6),s=n(451),l=r.a.View.extend({initialize:function(e){var t=this;this.ftpfile_list=new s.a.View({name:"file",optional:e.optional,multiple:e.multiple,onchange:function(){e.onchange&&e.onchange(t.value())}}),this.setElement(this.ftpfile_list.$el),a.a.get({url:"".concat(Object(o.a)(),"api/remote_files"),success:function(e){var n=[];for(var i in e)n.push({value:e[i].path,label:e[i].path});t.ftpfile_list.update(n)}})},value:function(e){return this.ftpfile_list.value(e)}});t.a={View:l}},function(e,t,n){"use strict";(function(e){var i=n(1),r=n.n(i),o=(n(6),n(11)),a=n(577),s=e.View.extend({initialize:function(e){var t=this;this.options=e,this.browse_button=new o.a.Button({title:r()("Browse"),icon:"fa fa-sign-in",cls:"btn btn-secondary float-left",tooltip:r()("Browse GenomeSpace"),onclick:function(){t.browseGenomeSpace(e)}}),this.filename_textbox=new o.a.Input,this.setElement(this._template(e)),this.$(".ui-browse-button").append(this.browse_button.$el),this.$(".ui-filename-textbox").append(this.filename_textbox.$el)},browseGenomeSpace:function(e){var t=this;a.a.openFileBrowser({successCallback:function(e){t.value(e.destination)}})},_template:function(e){return'<div class="row">\n                    <div class="ui-browse-button col-3" />\n                    <div class="ui-filename-textbox col"/>\n                </div>'},value:function(e){if(void 0===e)return this._getValue();this._setValue(e)},_getValue:function(){return this.filename_textbox.value()},_setValue:function(e){e&&this.filename_textbox.value(e),this.options.onchange&&this.options.onchange(e)}});t.a={View:s}}).call(this,n(3))},function(e,t,n){"use strict";(function(e){t.a={openFileBrowser:function(t){var n=e.config.genomespace_ui_url,i="".concat(n,"upload/loadUrlToGenomespace.html?getLocation=true"),r=window.open(i,"GenomeSpace File Browser","height=360px,width=600px");window.addEventListener("message",function(e){t.successCallback&&e.data.destination&&t.successCallback(e.data)},!1),r.focus(),null!=t.errorCallback&&(r.setCallbackOnGSUploadError=config.errorCallback)}}}).call(this,n(5).monitor)},function(e,t,n){
/*!
 * (The MIT License)
 * 
 * Copyright (c) 2012-2014 Marcin Warpechowski
 * Copyright (c) 2015 Handsoncode sp. z o.o. <hello@handsoncode.net>
 * 
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * 'Software'), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * 
 * Version: 2.0.0 (built at Fri Jun 22 2018 10:11:06 GMT+0200 (CEST))
 */
!function(t,i){e.exports=i(n(844))}("undefined"!=typeof self&&self,function(e){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(8);t.default={name:"HotTable",props:r.propFactory.call(void 0,i.default),watch:r.propWatchFactory.call(void 0,r.updateHotSettings,r.updateBulkHotSettings),mounted:function(){return r.hotInit.call(this,i.default)},beforeDestroy:function(){return r.hotDestroy.call(this)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);var a=n(10),s=n(11),l=!1;var c=function(e){l||n(3)},u=Object(s.a)(r.a,a.a,a.b,!1,c,null,null);u.options.__file="src/common/HotTable.vue",t.default=u.exports},function(e,t,n){var i=n(4);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n(6).default)("f17a60b2",i,!1,{})},function(e,t,n){(e.exports=n(5)(!0)).push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"HotTable.vue",sourceRoot:""}])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(i),o=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[n].concat(o).concat([r]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){c=n,d=r||{};var a=Object(i.a)(e,t);return p(a),function(t){for(var n=[],r=0;r<a.length;r++){var s=a[r];(l=o[s.id]).refs--,n.push(l)}for(t?p(a=Object(i.a)(e,t)):a=[],r=0;r<n.length;r++){var l;if(0===(l=n[r]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete o[l.id]}}}};var i=n(7),r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},a=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,c=!1,u=function(){},d=null,h="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e){for(var t=0;t<e.length;t++){var n=e[t],i=o[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(g(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var a=[];for(r=0;r<n.parts.length;r++)a.push(g(n.parts[r]));o[n.id]={id:n.id,refs:1,parts:a}}}}function m(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function g(e){var t,n,i=document.querySelector("style["+h+'~="'+e.id+'"]');if(i){if(c)return u;i.parentNode.removeChild(i)}if(f){var r=l++;i=s||(s=m()),t=v.bind(null,i,r,!1),n=v.bind(null,i,r,!0)}else i=m(),t=function(e,t){var n=t.css,i=t.media,r=t.sourceMap;i&&e.setAttribute("media",i);d.ssrId&&e.setAttribute(h,t.id);r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}var _=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function v(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=_(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r],a=o[0],s=o[1],l=o[2],c=o[3],u={id:e+":"+r,css:s,media:l,sourceMap:c};i[a]?i[a].parts.push(u):n.push(i[a]={id:a,parts:[u]})}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.rewriteSettings=s,t.hotInit=function(){var e=new o.default,t=[this.settings?this.settings:this._props];this.settings&&t.push(this._props);this.table=new r.default(this.$el,e.prepare.apply(e,t))},t.hotDestroy=function(){this.table.destroy()},t.propFactory=l,t.propWatchFactory=function(e,t){var n=l(),i=function(i){n.hasOwnProperty(i)&&(n[i]="settings"===i?{handler:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.call.apply(t,[this,i].concat(n))},deep:!0}:{handler:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.call.apply(e,[this,i].concat(n))},deep:!0})};for(var r in n)i(r);return n},t.updateHotSettings=function(e,t,n){var i={};i[e]=s(t),this.table.updateSettings(i)},t.updateBulkHotSettings=function(e,t,n){this.table.updateSettings(s(t))};var r=a(n(0)),o=a(n(9));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=null,n={};if(Object.prototype.toString.call(e).indexOf("Array")>-1?(t=[],n.array=!0):"object"===(void 0===e?"undefined":i(e))&&(t={},n.object=!0),n.array||n.object)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);else t=e;return t}function l(){var e=new o.default,t=r.default.helper.clone(r.default.DefaultSettings.prototype),n=r.default.hooks.getRegistered();for(var i in t)t.hasOwnProperty(i)&&(t[i]={});for(var a=0;a<n.length;a++)t[e.addHookPrefix(n[a])]={};return t.root={type:String,default:"hot-"+(new Date).getTime()},t.settings={type:Object},this&&(t.hotInstance=this.table),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.registeredHooks=r.default.hooks.getRegistered()}return i(e,[{key:"prepareProp",value:function(e){return this.trimHookPrefix(e)}},{key:"prepare",value:function(e,t){var n={};for(var i in e)e.hasOwnProperty(i)&&void 0!==e[i]&&(n[this.prepareProp(i)]=e[i]);for(var r in t)t.hasOwnProperty(r)&&void 0!==t[r]&&(n[this.prepareProp(r)]=t[r]);return n}},{key:"addHookPrefix",value:function(e){return this.registeredHooks.indexOf(e)>-1?"on"+e.charAt(0).toUpperCase()+e.slice(1,e.length):e}},{key:"trimHookPrefix",value:function(e){if(0===e.indexOf("on")){var t=e.charAt(2).toLowerCase()+e.slice(3,e.length);if(this.registeredHooks.indexOf(t)>-1)return t}return e}}]),e}();t.default=o},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var i=function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:this.root}})},r=[];i._withStripped=!0},function(e,t,n){"use strict";t.a=function(e,t,n,i,r,o,a,s){var l=typeof(e=e||{}).default;"object"!==l&&"function"!==l||(e=e.default);var c,u="function"==typeof e?e.options:e;t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0);i&&(u.functional=!0);o&&(u._scopeId=o);a?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):r&&(c=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r);if(c)if(u.functional){u._injectStyles=c;var d=u.render;u.render=function(e,t){return c.call(t),d(e,t)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,c):[c]}return{exports:e,options:u}}}]).default})},function(e,t,n){"use strict";(function(e,i){var r=n(6);t.a=e.View.extend({colors:{standard:["c00000","ff0000","ffc000","ffff00","92d050","00b050","00b0f0","0070c0","002060","7030a0"],base:["ffffff","000000","eeece1","1f497d","4f81bd","c0504d","9bbb59","8064a2","4bacc6","f79646"],theme:[["f2f2f2","7f7f7f","ddd9c3","c6d9f0","dbe5f1","f2dcdb","ebf1dd","e5e0ec","dbeef3","fdeada"],["d8d8d8","595959","c4bd97","8db3e2","b8cce4","e5b9b7","d7e3bc","ccc1d9","b7dde8","fbd5b5"],["bfbfbf","3f3f3f","938953","548dd4","95b3d7","d99694","c3d69b","b2a2c7","92cddc","fac08f"],["a5a5a5","262626","494429","17365d","366092","953734","76923c","5f497a","31859b","e36c09"],["7f7f7e","0c0c0c","1d1b10","0f243e","244061","632423","4f6128","3f3151","205867","974806"]]},initialize:function(e){this.options=r.a.merge(e,{}),this.setElement(this._template()),this.$panel=this.$(".ui-color-picker-panel"),this.$view=this.$(".ui-color-picker-view"),this.$value=this.$(".ui-color-picker-value"),this.$header=this.$(".ui-color-picker-header"),this._build(),this.visible=!1,this.value(this.options.value),this.$boxes=this.$(".ui-color-picker-box");var t=this;this.$boxes.on("click",function(){t.value(i(this).css("background-color")),t.$header.trigger("click")}),this.$header.on("click",function(){t.visible=!t.visible,t.visible?t.$view.fadeIn("fast"):t.$view.fadeOut("fast")})},value:function(e){return void 0!==e&&null!==e&&(this.$value.css("background-color",e),this.$(".ui-color-picker-box").empty(),this.$(this._getValue()).html(this._templateCheck()),this.options.onchange&&this.options.onchange(e)),this._getValue()},_getValue:function(){var e=this.$value.css("background-color");if(e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/)){var t=function(e){return"0".concat(parseInt(e).toString(16)).slice(-2)};return"#".concat(t(e[1])).concat(t(e[2])).concat(t(e[3]))}return null},_build:function(){for(var e in this._content({colors:this.colors.base}),this.colors.theme){var t={};0==e?t.bottom=!0:e!=this.colors.theme.length-1?(t.top=!0,t.bottom=!0):t.top=!0,t.colors=this.colors.theme[e],this._content(t)}this._content({colors:this.colors.standard})},_content:function(e){var t=e.colors,n=i(this._templateContent()),r=n.find(".line");for(var o in this.$panel.append(n),t){var a=i(this._templateBox(t[o]));e.top&&(a.css("border-top","none"),a.css("border-top-left-radius","0px"),a.css("border-top-right-radius","0px")),e.bottom&&(a.css("border-bottom","none"),a.css("border-bottom-left-radius","0px"),a.css("border-bottom-right-radius","0px")),r.append(a)}return n},_templateCheck:function(){return'<div class="ui-color-picker-check fa fa-check"/>'},_templateContent:function(){return'<div class="ui-color-picker-content"><div class="line"/></div>'},_templateBox:function(e){return'<div id="'.concat(e,'" class="ui-color-picker-box" style="background-color: #').concat(e,';"/>')},_template:function(){return'<div class="ui-color-picker"><div class="ui-color-picker-header"><div class="ui-color-picker-value"/><div class="ui-color-picker-label">Select a color</div></div><div class="ui-color-picker-view ui-input"><div class="ui-color-picker-panel"/></div>'}})}).call(this,n(3),n(0))},function(e,t,n){!function(e){e.toJSON=function(e){var t=new function(){this.months=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],this.notKey=[",","{","}"," ","="],this.pos=0,this.input="",this.entries=new Array,this.currentEntry="",this.setInput=function(e){this.input=e},this.getEntries=function(){return this.entries},this.isWhitespace=function(e){return" "==e||"\r"==e||"\t"==e||"\n"==e},this.match=function(e,t){if(void 0!=t&&null!=t||(t=!0),this.skipWhitespace(t),this.input.substring(this.pos,this.pos+e.length)!=e)throw"Token mismatch, expected "+e+", found "+this.input.substring(this.pos);this.pos+=e.length,this.skipWhitespace(t)},this.tryMatch=function(e,t){return void 0!=t&&null!=t||(t=!0),this.skipWhitespace(t),this.input.substring(this.pos,this.pos+e.length)==e},this.matchAt=function(){for(;this.input.length>this.pos&&"@"!=this.input[this.pos];)this.pos++;return"@"==this.input[this.pos]},this.skipWhitespace=function(e){for(;this.isWhitespace(this.input[this.pos]);)this.pos++;if("%"==this.input[this.pos]&&1==e){for(;"\n"!=this.input[this.pos];)this.pos++;this.skipWhitespace(e)}},this.value_braces=function(){var e=0;this.match("{",!1);for(var t=this.pos,n=!1;;){if(!n)if("}"==this.input[this.pos]){if(!(e>0)){var i=this.pos;return this.match("}",!1),this.input.substring(t,i)}e--}else if("{"==this.input[this.pos])e++;else if(this.pos>=this.input.length-1)throw"Unterminated value";n="\\"==this.input[this.pos]&&0==n,this.pos++}},this.value_comment=function(){for(var e="",t=0;!this.tryMatch("}",!1)||0!=t;){if(e+=this.input[this.pos],"{"==this.input[this.pos]&&t++,"}"==this.input[this.pos]&&t--,this.pos>=this.input.length-1)throw"Unterminated value:"+this.input.substring(start);this.pos++}return e},this.value_quotes=function(){this.match('"',!1);for(var e=this.pos,t=!1;;){if(!t){if('"'==this.input[this.pos]){var n=this.pos;return this.match('"',!1),this.input.substring(e,n)}if(this.pos>=this.input.length-1)throw"Unterminated value:"+this.input.substring(e)}t="\\"==this.input[this.pos]&&0==t,this.pos++}},this.single_value=function(){var e=this.pos;if(this.tryMatch("{"))return this.value_braces();if(this.tryMatch('"'))return this.value_quotes();var t=this.key();if(t.match("^[0-9]+$"))return t;if(this.months.indexOf(t.toLowerCase())>=0)return t.toLowerCase();throw"Value expected:"+this.input.substring(e)+" for key: "+t},this.value=function(){var e=[];for(e.push(this.single_value());this.tryMatch("#");)this.match("#"),e.push(this.single_value());return e.join("")},this.key=function(e){for(var t=this.pos;;){if(this.pos>=this.input.length)throw"Runaway key";if(this.notKey.indexOf(this.input[this.pos])>=0)return e&&","!=this.input[this.pos]?(this.pos=t,null):this.input.substring(t,this.pos);this.pos++}},this.key_equals_value=function(){var e=this.key();if(this.tryMatch("=")){this.match("=");var t=this.value();return[e=e.trim(),t]}throw"... = value expected, equals sign missing:"+this.input.substring(this.pos)},this.key_value_list=function(){var e=this.key_equals_value();for(this.currentEntry.entryTags={},this.currentEntry.entryTags[e[0]]=e[1];this.tryMatch(",")&&(this.match(","),!this.tryMatch("}"));)e=this.key_equals_value(),this.currentEntry.entryTags[e[0]]=e[1]},this.entry_body=function(e){this.currentEntry={},this.currentEntry.citationKey=this.key(!0),this.currentEntry.entryType=e.substring(1),null!=this.currentEntry.citationKey&&this.match(","),this.key_value_list(),this.entries.push(this.currentEntry)},this.directive=function(){return this.match("@"),"@"+this.key()},this.preamble=function(){this.currentEntry={},this.currentEntry.entryType="PREAMBLE",this.currentEntry.entry=this.value_comment(),this.entries.push(this.currentEntry)},this.comment=function(){this.currentEntry={},this.currentEntry.entryType="COMMENT",this.currentEntry.entry=this.value_comment(),this.entries.push(this.currentEntry)},this.entry=function(e){this.entry_body(e)},this.alernativeCitationKey=function(){this.entries.forEach(function(e){!e.citationKey&&e.entryTags&&(e.citationKey="",e.entryTags.author&&(e.citationKey+=e.entryTags.author.split(",")[0]+=", "),e.citationKey+=e.entryTags.year)})},this.bibtex=function(){for(;this.matchAt();){var e=this.directive();this.match("{"),"@STRING"==e.toUpperCase()?this.string():"@PREAMBLE"==e.toUpperCase()?this.preamble():"@COMMENT"==e.toUpperCase()?this.comment():this.entry(e),this.match("}")}this.alernativeCitationKey()}};return t.setInput(e),t.bibtex(),t.entries},e.toBibtex=function(e){var t="";for(var n in e){if(t+="@"+e[n].entryType,t+="{",e[n].citationKey&&(t+=e[n].citationKey+", "),e[n].entry&&(t+=e[n].entry),e[n].entryTags){var i="";for(var r in e[n].entryTags)0!=i.length&&(i+=", "),i+=r+"= {"+e[n].entryTags[r]+"}";t+=i}t+="}\n\n"}return t}}(t)},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(909)),i(n(910)),i(n(557)),i(n(560)),i(n(400)),i(n(561)),i(n(958)),i(n(959)),i(n(565))},function(e,t,n){"use strict";(function(e,n,i){t.a=e.Model.extend({defaults:{url_base:"",title_id:void 0,async:!1,async_ops:[],categorical_filters:[],filters:{},sort_key:null,show_item_checkboxes:!1,advanced_search:!1,cur_page:1,num_pages:1,operation:void 0,item_ids:void 0},add_filter:function(e,t,n){if(n){var i,r=this.attributes.filters[e];if(null===r||void 0===r)i=t;else if("string"==typeof r)if("All"==r||r==t)i=t;else{var o=[];o[0]=r,o[1]=t,i=o}else-1===(i=r).indexOf(t)&&i.push(t);this.attributes.filters[e]=i}else this.attributes.filters[e]=t},remove_filter:function(e,t){var i=this.attributes.filters[e];if(null===i||void 0===i)return!1;if("string"==typeof i)this.attributes.filters[e]="";else{var r=n.indexOf(i,t);-1!==r&&(i[r]="")}},get_url_data:function(){var e={async:this.attributes.async,sort:this.attributes.sort_key,page:this.attributes.cur_page,show_item_checkboxes:this.attributes.show_item_checkboxes,advanced_search:this.attributes.advanced_search};this.attributes.operation&&(e.operation=this.attributes.operation),this.attributes.item_ids&&(e.id=this.attributes.item_ids);return n.each(n.pairs(this.attributes.filters),function(t){e["f-".concat(t[0])]=t[1]}),e},get_url:function(e){return"".concat(this.get("url_base"),"?").concat(i.param(this.get_url_data()),"&").concat(i.param(e))}})}).call(this,n(3),n(2),n(0))},function(e,t,n){"use strict";(function(e,i){var r=n(33),o=e.View.extend({className:"track-header",initialize:function(){this.model.config.get("name").on("change:value",this.update_name,this),this.render()},render:function(){this.$el.append(i("<div/>").addClass(this.model.drag_handle_class)),this.$el.append(i("<div/>").addClass("track-name").text(this.model.config.get_value("name"))),this.action_icons={},this.render_action_icons(),this.$el.dblclick(function(e){e.stopPropagation()}),this.$el.append(i("<div style='clear: both'/>"))},update_name:function(){this.$el.find(".track-name").text(this.model.config.get_value("name"))},render_action_icons:function(){var e=this;this.icons_div=i("<div/>").addClass("track-icons").hide().appendTo(this.$el),r.each(this.model.action_icons_def,function(t){e.add_action_icon(t.name,t.title,t.css_class,t.on_click_fn,t.prepend,t.hide)}),this.set_display_modes(this.model.display_modes)},add_action_icon:function(e,t,n,r,o,a){var s=this;this.action_icons[e]=i("<a/>").attr("title",t).addClass("icon-button").addClass(n).tooltip().click(function(){r(s.model)}).appendTo(this.icons_div),a&&this.action_icons[e].hide()},set_display_modes:function(e,t){if(e){this.model.display_modes=e,this.model.mode=t||this.model.config.get_value("mode")||this.model.display_modes[0],this.action_icons.mode_icon.attr("title","Set display mode (now: ".concat(this.mode,")"));for(var n=this.model,i={},r=0,o=n.display_modes.length;r<o;r++){var a=n.display_modes[r];i[a]=function(e){return function(){n.change_mode(e)}}(a)}make_popupmenu(this.action_icons.mode_icon,i)}}});t.a={TrackHeaderView:o}}).call(this,n(3),n(0))},function(e,t,n){(function(i){var r,o;r=[n(961),n(962),n(963)],void 0===(o=function(e,t){"use strict";function n(e){e&&(this.id=e)}function r(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}var o=e.Range,a=e.union,s=e.intersection,l=t.inflateBuffer,c=t.arrayCopy,u=2291137574,d=654086024,h=2273964779,f=3958540679,p=256,m=65536,g=16777216,_=4294967296,v=new RegExp("^[0-9]+,[0-9]+,[0-9]+");function y(e,t,n){Math.pow(10,6);return i.ajax({type:"GET",dataType:"native",url:e,timeout:5e3,beforeSend:function(e){e.setRequestHeader("Range","bytes="+t+"-"+(t+(n-1)))},xhrFields:{responseType:"arraybuffer"}})}function b(e,t){return e[t]+e[t+1]*p+e[t+2]*m+e[t+3]*g+e[t+4]*_}function w(){}function k(e,t,n,i){this.bwg=e,this.cirTreeOffset=t,this.cirTreeLength=n,this.isSummary=i}function M(e,t,n,i,r){this.bbi=e,this.type=t,this.fieldCount=n,this.offset=i,this.field=r}return w.prototype.readChromTree=function(){var e=this;this.chromsToIDs={},this.idsToChroms={},this.maxID=0;var t=this.unzoomedDataOffset;return t=t+4-(t-this.chromTreeOffset&3),i.when(y(this.url,this.chromTreeOffset,t-this.chromTreeOffset)).then(function(t){var n=new Uint8Array(t),i=new Int16Array(t),r=new Int32Array(t),o=(r[0],r[1],r[2]),a=(r[3],b(n,16),function(t){var r=n[t],s=i[t/2+1];t+=4;for(var l=0;l<s;++l)if(0===r){var c=b(n,t+=o);t+=8,c-=e.chromTreeOffset,a(c)}else{for(var u="",d=0;d<o;++d){var h=n[t++];0!==h&&(u+=String.fromCharCode(h))}var f=n[t+3]<<24|n[t+2]<<16|n[t+1]<<8|n[t+0];n[t+7],n[t+6],n[t+5],n[t+4];t+=8,e.chromsToIDs[u]=f,0===u.indexOf("chr")&&(e.chromsToIDs[u.substr(3)]=f),e.idsToChroms[f]=u,e.maxID=Math.max(e.maxID,f)}});a(32)})},k.prototype.readWigData=function(e,t,n){var i=this.bwg.chromsToIDs[e];return void 0===i?[]:this.readWigDataById(i,t,n)},k.prototype.readWigDataById=function(e,t,n){var r=this,s=i.Deferred();if(!this.cirHeader)return i.when(y(r.bwg.url,this.cirTreeOffset,48)).then(function(o){r.cirHeader=o;var a=new Int32Array(r.cirHeader);r.cirBlockSize=a[1],i.when(r.readWigDataById(e,t,n)).then(function(e){s.resolve(e)})}),s;var l=[],c=0,u=(Date.now(),function(i,r,o,a){return(e<0||i==e)&&r<=n&&o>=t}),d=function(e,t){if(r.bwg.instrument&&console.log("level="+t+"; offset="+e+"; time="+(0|Date.now())),c+=e.length,1==e.length&&e[0]-r.cirTreeOffset==48&&r.cachedCirRoot)return f(r.cachedCirRoot,0,t),void(0===--c&&i.when(r.fetchFeatures(u,l)).then(function(e){s.resolve(e)}));for(var n,d=4+32*r.cirBlockSize,p=0;p<e.length;++p){var m=new o(e[p],e[p]+d);n=n?a(n,m):m}for(var g=n.ranges(),_=0;_<g.length;++_){var v=g[_];h(e,v,t)}},h=function(e,t,n,o){t.max(),t.min();i.when(y(r.bwg.url,t.min(),t.max()-t.min())).then(function(o){for(var a=0;a<e.length;++a)t.contains(e[a])&&(f(o,e[a]-t.min(),n),e[a]-r.cirTreeOffset==48&&e[a]-t.min()==0&&(r.cachedCirRoot=o),0===--c&&i.when(r.fetchFeatures(u,l)).then(function(e){s.resolve(e)}))})},f=function(i,r,o){var a=new Uint8Array(i),s=new Int16Array(i),c=new Int32Array(i),u=a[r],h=s[r/2+1];if(r+=4,0!==u)for(var f=0;f<h;++f){var p=c[k=r/4],m=c[k+1],g=c[k+2],_=c[k+3],v=b(a,r+16),y=b(a,r+24);(e<0||p<e||p==e&&m<=n)&&(e<0||g>e||g==e&&_>=t)&&l.push({offset:v,size:y}),r+=32}else{var w=[];for(f=0;f<h;++f){var k;p=c[k=r/4],m=c[k+1],g=c[k+2],_=c[k+3],v=b(a,r+16);(e<0||p<e||p==e&&m<=n)&&(e<0||g>e||g==e&&_>=t)&&w.push(v),r+=24}w.length>0&&d(w,o+1)}};return d([r.cirTreeOffset+48],1),s},k.prototype.fetchFeatures=function(e,t){var n=this,r=i.Deferred();if(t.sort(function(e,t){return(0|e.offset)-(0|t.offset)}),0===t.length)return[];var o=[],a=function(e,t,i,r){r||(r={});var a=new function(){};for(var s in a._chromId=e,a.segment=n.bwg.idsToChroms[e],a.min=t,a.max=i,a.type=n.bwg.type,r)a[s]=r[s];o.push(a)},s=function(){if(0===t.length){Date.now();return r.resolve(o)}var u=t[0];if(u.data)n.parseFeatures(u.data,a,e),t.splice(0,1),s();else{for(var d=u.offset,h=u.size,f=1;f<t.length&&t[f].offset==d+h;)h+=t[f].size,++f;i.when(y(n.bwg.url,d,h)).then(function(e){for(var i=0,r=0;i<h;){var o,a=t[r];if(n.bwg.uncompressBufSize>0)o=l(e,i+2,a.size-2);else{var u=new Uint8Array(a.size);c(new Uint8Array(e,i,a.size),0,u,0,a.size),o=u.buffer}a.data=o,i+=a.size,++r}s()})}};return s(),r},k.prototype.parseFeatures=function(e,t,r){var l=new Uint8Array(e);if(this.isSummary)for(var c=new Int16Array(e),u=new Int32Array(e),d=new Float32Array(e),h=e.byteLength/32,f=0;f<h;++f){var p=u[8*f],m=u[8*f+1],g=u[8*f+2],_=u[8*f+3],y=(d[8*f+4],d[8*f+5]),b=d[8*f+6];d[8*f+7];if(r(p,m+1,g)){var w={type:"bigwig",score:b/_,maxScore:y};"bigbed"==this.bwg.type&&(w.type="density"),t(p,m+1,g,w)}}else if("bigwig"==this.bwg.type){c=new Int16Array(e),u=new Int32Array(e),d=new Float32Array(e),p=u[0];var k=u[1],M=(u[2],u[3]),x=u[4],C=l[20];h=c[11];if(3==C)for(f=0;f<h;++f){var S=d[f+6],T=k+f*M+1,L=k+f*M+x;r(p,T,L)&&t(p,T,L,{score:S})}else if(2==C)for(f=0;f<h;++f){g=(m=u[2*f+6]+1)+x-1,S=d[2*f+7];r(p,m,g)&&t(p,m,g,{score:S})}else if(1==C)for(f=0;f<h;++f){m=u[3*f+6]+1,g=u[3*f+7],S=d[3*f+8];m>g&&(m=g),r(p,m,g)&&t(p,m,g,{score:S})}else console.log("Currently not handling bwgType="+C)}else{if("bigbed"!=this.bwg.type)throw Error("Don't know what to do with "+this.bwg.type);for(var E=0,D=this.bwg.definedFieldCount,O=this.bwg.schema;E<l.length;){p=l[E+3]<<24|l[E+2]<<16|l[E+1]<<8|l[E+0],m=l[E+7]<<24|l[E+6]<<16|l[E+5]<<8|l[E+4],g=l[E+11]<<24|l[E+10]<<16|l[E+9]<<8|l[E+8];E+=12;for(var A="";;){var Y=l[E++];if(0==Y)break;A+=String.fromCharCode(Y)}var R,j={};if((R=A.length>0?A.split("\t"):[]).length>0&&D>3&&(j.label=R[0]),R.length>1&&D>4){S=parseInt(R[1]);isNaN(S)||(j.score=S)}if(R.length>2&&D>5&&(j.orientation=R[2]),R.length>5&&D>8){var P=R[5];v.test(P)&&(j.itemRgb="rgb("+P+")")}if(R.length>D-3&&O)for(var N=D-3;N<R.length;++N)j[O.fields[N+3].name]=R[N];if(r(p,m+1,g,R))if(D<12)t(p,m+1,g,j);else{var H=0|R[3],I=0|R[4],F=0|R[6],$=R[7].split(","),W=R[8].split(",");if(j.exonFrames){var z=j.exonFrames.split(",");j.exonFrames=void 0}j.type="transcript";var B=new n;for(var V in j)B[V]=j[V];if(B.id=R[0],B.segment=this.bwg.idsToChroms[p],B.min=m+1,B.max=g,B.notes=[],j.groups=[B],R.length>9){var U=j.geneName||R[9],q=U;R.length>10&&(q=R[10]),j.geneName2&&(q=j.geneName2);var G=i.extend({},B);G.id=U,G.label=q,G.type="gene",j.groups.push(G)}for(var J=[],K=0;K<F;++K){var X=(0|W[K])+m,Q=X+(0|$[K]),Z=new o(X,Q);J.push(Z)}for(var ee=a(J),te=ee.ranges(),ne=0;ne<te.length;++ne){t(p,(ce=te[ne]).min()+1,ce.max(),j)}if(I>H){var ie="+"==j.orientation?new o(H,I+3):new o(H-3,I),re=s(ee,ie);if(re){j.type="translation";for(var oe=re.ranges(),ae=0,se=0;oe[0].min()>te[se].max();)se++;for(ne=0;ne<oe.length;++ne){var le=ne;"-"==j.orientation&&(le=oe.length-ne-1);var ce=oe[le];if(j.readframe=ae,z){var ue=parseInt(z[le+se]);"number"==typeof ue&&ue>=0&&ue<=2&&(j.readframe=ue,j.readframeExplicit=!0)}ae=(ae+(ce.max()-ce.min()))%3,t(p,ce.min()+1,ce.max(),j)}}}}}}},k.prototype.getFirstAdjacent=function(e,t,n,i){var r=this.bwg.chromsToIDs[e];if(void 0===r)return i([]);this.getFirstAdjacentById(r,t,n,i)},k.prototype.getFirstAdjacentById=function(e,t,n,i){var r=this;if(this.cirHeader){var s=null,l=-1,c=-1,u=0,d=(Date.now(),function(e,t){u+=e.length;for(var n,i=4+32*r.cirBlockSize,s=0;s<e.length;++s){var l=new o(e[s],e[s]+i);n=n?a(n,l):l}for(var c=n.ranges(),d=0;d<c.length;++d){var f=c[d];h(e,f,t)}}),h=function(o,a,l,c){a.max(),a.min();r.bwg.data.slice(a.min(),a.max()-a.min()).fetch(function(c){for(var d=0;d<o.length;++d)if(a.contains(o[d])&&(f(c,o[d]-a.min(),l),0==--u)){if(!s)return n>0&&(0!=e||t>0)?r.getFirstAdjacentById(0,0,n,i):n<0&&(e!=r.bwg.maxID||t<1e9)?r.getFirstAdjacentById(r.bwg.maxID,1e9,n,i):i([]);r.fetchFeatures(function(i,r,o,a){return n<0&&(i<e||o<t)||n>0&&(i>e||r>t)},[s],function(e){for(var t=null,r=-1,o=-1,a=0;a<e.length;++a){var s=e[a],l=s._chromId,c=s.min,u=s.max;(null==t||n<0&&(l>r||u>o)||n>0&&(l<r||c<o))&&(t=s,o=n<0?u:c,r=l)}return i(null!=t?[t]:[])})}})},f=function(i,o,a){var u=new Uint8Array(i),h=new Int16Array(i),f=new Int32Array(i),p=u[o],m=h[o/2+1];if(o+=4,0!=p)for(var g=0;g<m;++g){var _=f[S=o/4],v=f[S+1],y=f[S+2],w=f[S+3],k=b(u,o+16),M=b(u,o+24);(n<0&&(_<e||_==e&&v<=t)||n>0&&(y>e||y==e&&w>=t))&&(/_random/.exec(r.bwg.idsToChroms[_])||(null==s||n<0&&(y>l||y==l&&w>c)||n>0&&(_<l||_==l&&v<c))&&(s={offset:k,size:M},c=n<0?w:v,l=n<0?y:_)),o+=32}else{var x=-1,C=-1;for(g=0;g<m;++g){var S;_=f[S=o/4],v=f[S+1],y=f[S+2],w=f[S+3],k=f[S+4]<<32|f[S+5];(n<0&&(_<e||_==e&&v<=t)&&y>=e||n>0&&(y>e||y==e&&w>=t)&&_<=e)&&(x<0||w>C)&&(x=k,C=n<0?w:v,n<0?y:_),o+=24}x>=0&&d([x],a+1)}};d([r.cirTreeOffset+48],1)}else this.bwg.data.slice(this.cirTreeOffset,48).fetch(function(o){r.cirHeader=o;var a=new Int32Array(r.cirHeader);r.cirBlockSize=a[1],r.getFirstAdjacentById(e,t,n,i)})},w.prototype.readWigData=function(e,t,n){var i,r=n-t;if(r<=25e3||0===this.zoomLevels.length)i=this.getUnzoomedView();else for(var o=0;o<this.zoomLevels.length;o++)if(r/this.zoomLevels[o].reduction<25e3){i=this.getZoomedView(o);break}return i.readWigData(e,t,n)},w.prototype.getUnzoomedView=function(){if(!this.unzoomedView){var e=4e3;this.zoomLevels[0]&&(e=this.zoomLevels[0].dataOffset-this.unzoomedIndexOffset),this.unzoomedView=new k(this,this.unzoomedIndexOffset,e,!1)}return this.unzoomedView},w.prototype.getZoomedView=function(e){var t=this.zoomLevels[e];return t.view||(t.view=new k(this,t.indexOffset,4e3,!0)),t.view},w.prototype._tsFetch=function(e,t,n,i,r){var o=this;if(!(e>=this.zoomLevels.length-1))return(e<0?this.getUnzoomedView():this.getZoomedView(e)).readWigDataById(t,n,i,r);if(this.topLevelReductionCache){for(var a=[],s=this.topLevelReductionCache,l=0;l<s.length;++l)s[l]._chromId==t&&a.push(s[l]);return r(a)}this.getZoomedView(this.zoomLevels.length-1).readWigDataById(-1,0,3e8,function(a){return o.topLevelReductionCache=a,o._tsFetch(e,t,n,i,r)})},w.prototype.thresholdSearch=function(e,t,n,i,r){n=n<0?-1:1;for(var o=this,a=this.chromsToIDs[e],s=[{chrOrd:0,chr:a,zoom:o.zoomLevels.length-4,min:0,max:3e8,fromRef:!0}],l=1;l<=this.maxID+1;++l){var c=(a+n*l)%(this.maxID+1);c<0&&(c+=this.maxID+1),s.push({chrOrd:l,chr:c,zoom:o.zoomLevels.length-1,min:0,max:3e8})}!function e(){if(0==s.length)return r(null);s.sort(function(e,t){var i=e.zoom-t.zoom;return 0!=i?i:0!=(i=e.chrOrd-t.chrOrd)?i:e.min-t.min*n});var a=s.splice(0,1)[0];o._tsFetch(a.zoom,a.chr,a.min,a.max,function(o){var l=n>0?0:3e8;a.fromRef&&(l=t);for(var c=0;c<o.length;++c){var u,d=o[c];if(u=void 0!=d.maxScore?d.maxScore:d.score,n>0){if(u>i)if(a.zoom<0){if(d.min>l)return r(d)}else d.max>l&&s.push({chr:a.chr,chrOrd:a.chrOrd,zoom:a.zoom-2,min:d.min,max:d.max,fromRef:a.fromRef})}else if(u>i)if(a.zoom<0){if(d.max<l)return r(d)}else d.min<l&&s.push({chr:a.chr,chrOrd:a.chrOrd,zoom:a.zoom-2,min:d.min,max:d.max,fromRef:a.fromRef})}e()})}()},w.prototype.getAutoSQL=function(e){if(!this.asOffset)return e(null);i.when(y(this.url,this.asOffset,2048)).then(function(t){for(var n=new Uint8Array(t),i="",r=0;r<n.length&&0!=n[r];++r)i+=String.fromCharCode(n[r]);var o=/([\w\[\]]+)\s+(\w+)\s*;\s*("([^"]+)")?\s*/g,a=/(\w+)\s+(\w+)\s+("([^"]+)")?\s+\(\s*/.exec(i);if(a){var s={declType:a[1],name:a[2],comment:a[4],fields:[]};i=i.substring(a[0]);for(var l=o.exec(i);null!=l;l=o.exec(i))s.fields.push({type:l[1],name:l[2],comment:l[4]});return e(s)}})},w.prototype.getExtraIndices=function(e){var t=this;if(this.version<4||0==this.extHeaderOffset||"bigbed"!=this.type)return e(null);this.data.slice(this.extHeaderOffset,64).fetch(function(n){if(!n)return e(null,"Couldn't fetch extension header");var i=new Uint8Array(n),r=new Int16Array(n),o=(new Int32Array(n),r[0],r[1]),a=b(i,4);if(0==o)return e(null);t.data.slice(a,20*o).fetch(function(n){if(!n)return e(null,"Couldn't fetch index info");for(var i=new Uint8Array(n),r=new Int16Array(n),a=(new Int32Array(n),[]),s=0;s<o;++s){var l=r[10*s],c=r[10*s+1],u=b(i,20*s+4),d=r[10*s+8],h=new M(t,l,c,u,d);a.push(h)}e(a)})})},M.prototype.lookup=function(e,t){var n=this;this.bbi.data.slice(this.offset,32).fetch(function(i){var o=new Uint8Array(i),a=(new Int16Array(i),new Int32Array(i)),s=(a[0],a[1]),l=a[2],c=a[3];b(o,16);!function i(o){n.bbi.data.slice(o,4+s*(l+c)).fetch(function(o){var a=new Uint8Array(o),s=new Uint16Array(o),u=(new Uint32Array(o),a[0]),d=s[1],h=4;if(0!=u){for(g=0;g<d;++g){for(_="",v=0;v<l;++v)0!=(y=a[h++])&&(_+=String.fromCharCode(y));if(_==e){var f=b(a,h),p=r(a,h+8);return n.bbi.getUnzoomedView().fetchFeatures(function(t,i,r,o){if(o&&o.length>n.field-3)return o[n.field-3]==e},[{offset:f,size:p}],t)}h+=c}return t([])}for(var m=null,g=0;g<d;++g){for(var _="",v=0;v<l;++v){var y;0!=(y=a[h++])&&(_+=String.fromCharCode(y))}var w=b(a,h);if(h+=8,e.localeCompare(_)<0&&m)return void i(m);m=w}i(m)})}(n.offset+32)})},{makeBwg:function(e){var t=i.Deferred(),n=new w;return n.url=e,i.when(y(n.url,0,512)).then(function(e){if(!e)return t.resolve(null,"Couldn't fetch file");var r=e,o=new Uint8Array(r),a=new Int16Array(r),s=new Int32Array(r),l=o[0]+p*o[1]+m*o[2]+g*o[3];if(l==u)n.type="bigwig";else{if(l!=h)return l==d||l==f?t.resolve(null,"Currently don't support big-endian BBI files"):t.resolve(null,"Not a supported format, magic=0x"+l.toString(16));n.type="bigbed"}n.version=a[2],n.numZoomLevels=a[3],n.chromTreeOffset=b(o,8),n.unzoomedDataOffset=b(o,16),n.unzoomedIndexOffset=b(o,24),n.fieldCount=a[16],n.definedFieldCount=a[17],n.asOffset=b(o,36),n.totalSummaryOffset=b(o,44),n.uncompressBufSize=s[13],n.extHeaderOffset=b(o,56),n.zoomLevels=[];for(var c=0;c<n.numZoomLevels;++c){var _=s[6*c+16],v=b(o,24*c+72),y=b(o,24*c+80);n.zoomLevels.push({reduction:_,dataOffset:v,indexOffset:y})}i.when(n.readChromTree()).then(function(){n.getAutoSQL(function(e){return n.schema=e,t.resolve(n)})})}),t}}}.apply(t,r))||(e.exports=o)}).call(this,n(0))},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(5),d=n(7),h=n.n(d),f=n(19),p=n(392),m=l.a.View.extend({events:{"click .undelete_dataset_btn":"undeleteDataset","click .undelete_folder_btn":"undeleteFolder","click .edit_folder_btn":"startModifications","click .cancel_folder_btn":"cancelModifications","click .save_folder_btn":"saveModifications"},defaults:{type:null,visibility_config:{edit_folder_btn:!1,save_folder_btn:!1,cancel_folder_btn:!1,permission_folder_btn:!1},edit_mode:!1},initialize:function(e){this.options=r.a.defaults(e||{},this.defaults),this.render(this.options)},render:function(e){this.options=r.a.extend(this.options,e);var t=this.options.model,n=null,i=Object(u.getGalaxyInstance)();return"folder"===t.get("type")||"LibraryFolder"===t.get("model_class")?(this.options.type="folder",this.prepareButtons(t),n=t.get("deleted")?this.templateRowDeletedFolder():this.templateRowFolder()):"file"===t.get("type")||"LibraryDatasetDatasetAssociation"===t.get("model_class")||"LibraryDataset"===t.get("model_class")?(this.options.type="file",n=t.get("deleted")?this.templateRowDeletedFile():this.templateRowFile()):(i.emit.error("Unknown library item type found."),i.emit.error(t.get("type")||t.get("model_class"))),this.setElement(n({content_item:t,edit_mode:this.options.edit_mode,button_config:this.options.visibility_config})),this.$el.show(),this},prepareButtons:function(e){var t=this.options.visibility_config;!1===this.options.edit_mode?(t.save_folder_btn=!1,t.cancel_folder_btn=!1,!0===e.get("deleted")?(t.edit_folder_btn=!1,t.permission_folder_btn=!1):!1===e.get("deleted")&&(t.save_folder_btn=!1,t.cancel_folder_btn=!1,!0===e.get("can_modify")&&(t.edit_folder_btn=!0),!0===e.get("can_manage")&&(t.permission_folder_btn=!0))):!0===this.options.edit_mode&&(t.edit_folder_btn=!1,t.permission_folder_btn=!1,t.save_folder_btn=!0,t.cancel_folder_btn=!0),this.options.visibility_config=t},showDatasetDetails:function(){Object(u.getGalaxyInstance)().libraries.datasetView=new p.a.LibraryDatasetView({id:this.id})},undeleteDataset:function(e){a()(".tooltip").hide();var t=Object(u.getGalaxyInstance)(),n=this,i=a()(e.target).closest("tr").data("id"),r=t.libraries.folderListView.collection.get(i);r.url="".concat(r.urlRoot+r.id,"?undelete=true"),r.destroy({success:function(e,r){t.libraries.folderListView.collection.remove(i);var o=new f.a.Item(r);t.libraries.folderListView.collection.add(o),t.libraries.folderListView.collection.sortFolder("name","asc"),h.a.success("Dataset undeleted. Click this to see it.","",{onclick:function(){var e=n.model.get("folder_id");window.location="".concat(Object(c.a)(),"library/list#folders/").concat(e,"/datasets/").concat(n.id)}})},error:function(e,t){void 0!==t.responseJSON?h.a.error("Dataset was not undeleted. ".concat(t.responseJSON.err_msg)):h.a.error("An error occured! Dataset was not undeleted. Please try again.")}})},undeleteFolder:function(e){var t=Object(u.getGalaxyInstance)();a()(".tooltip").hide();var n=a()(e.target).closest("tr").data("id"),i=t.libraries.folderListView.collection.get(n);i.url="".concat(i.urlRoot+i.id,"?undelete=true"),i.destroy({success:function(e,i){t.libraries.folderListView.collection.remove(n);var r=new f.a.FolderAsModel(i);t.libraries.folderListView.collection.add(r),t.libraries.folderListView.collection.sortFolder("name","asc"),h.a.success("Folder undeleted.")},error:function(e,t){void 0!==t.responseJSON?h.a.error("Folder was not undeleted. ".concat(t.responseJSON.err_msg)):h.a.error("An error occured! Folder was not undeleted. Please try again.")}})},startModifications:function(){this.options.edit_mode=!0,this.repaint()},cancelModifications:function(){this.options.edit_mode=!1,this.repaint()},saveModifications:function(){var e=Object(u.getGalaxyInstance)().libraries.folderListView.collection.get(this.$el.data("id")),t=!1,n=this.$el.find(".input_folder_name").val();if(void 0!==n&&n!==e.get("name")){if(!(n.length>2))return void h.a.warning("Folder name has to be at least 3 characters long.");e.set("name",n),t=!0}var i=this.$el.find(".input_folder_description").val();if(void 0!==i&&i!==e.get("description")&&(e.set("description",i),t=!0),t){var r=this;e.save(null,{patch:!0,success:function(e){r.options.edit_mode=!1,r.repaint(e),h.a.success("Changes to folder saved.")},error:function(e,t){void 0!==t.responseJSON?h.a.error(t.responseJSON.err_msg):h.a.error("An error occured while attempting to update the folder.")}})}else this.options.edit_mode=!1,this.repaint(e),h.a.info("Nothing has changed.")},repaint:function(){a()(".tooltip").hide();var e=this.$el;this.render(),e.replaceWith(this.$el),this.$el.find('[data-toggle="tooltip"]').tooltip({trigger:"hover"})},templateRowFolder:function(){return r.a.template(['<tr class="folder_row light library-row" data-id="<%- content_item.id %>">','<td class="mid">','<span title="Folder" class="fa fa-folder-o"/>',"</td>",'<td class="mid"><input style="margin: 0;" type="checkbox"></td>',"<% if(!edit_mode) { %>","<td>",'<a href="#folders/<%- content_item.id %>"><%- content_item.get("name") %></a>',"</td>","<td>",'<%- content_item.get("description") %>',"</td>","<% } else if(edit_mode){ %>",'<td><textarea rows="4" class="form-control input_folder_name" placeholder="name" ><%- content_item.get("name") %></textarea></td>','<td><textarea rows="4" class="form-control input_folder_description" placeholder="description" ><%- content_item.get("description") %></textarea></td>',"<% } %>","<td>folder</td>","<td></td>","<td>",'<%= _.escape(content_item.get("update_time")) %>',"</td>","<td></td>","<td>","<% if(edit_mode) { %>",'<button data-toggle="tooltip" data-placement="top" title="Save changes" class="primary-button btn-sm save_folder_btn" type="button" style="<% if(button_config.save_folder_btn === false) { print("display:none;") } %>">','<span class="fa fa-floppy-o"/> Save',"</button>",'<button data-toggle="tooltip" data-placement="top" title="Discard changes" class="primary-button btn-sm cancel_folder_btn" type="button" style="<% if(button_config.cancel_folder_btn === false) { print("display:none;") } %>">','<span class="fa fa-times"/> Cancel',"</button>","<% } else if (!edit_mode){%>",'<button data-toggle="tooltip" data-placement="top" title="Modify \'<%- content_item.get("name") %>\'" class="primary-button btn-sm edit_folder_btn" type="button" style="<% if(button_config.edit_folder_btn === false) { print("display:none;") } %>">','<span class="fa fa-pencil"/> Edit',"</button>",'<a href="#/folders/<%- content_item.id %>/permissions">','<button data-toggle="tooltip" data-placement="top" class="primary-button btn-sm permission_folder_btn" title="Permissions of \'<%- content_item.get("name") %>\'" style="<% if(button_config.permission_folder_btn === false) { print("display:none;") } %>">','<span class="fa fa-group"/> Manage',"</button>","</a>","<% } %>","</td>","</tr>"].join(""))},templateRowFile:function(){return r.a.template(['<tr class="dataset_row light library-row" data-id="<%- content_item.id %>">','<td class="mid">','<span title="Dataset" class="fa fa-file-o"/>',"</td>",'<td class="mid">','<input style="margin: 0;" type="checkbox">',"</td>","<td>",'<a href="#folders/<%- content_item.get("folder_id") %>/datasets/<%- content_item.id %>" class="library-dataset">','<%- content_item.get("name") %>',"<a>","</td>",'<td><%- content_item.get("message") %></td>','<td><%= _.escape(content_item.get("file_ext")) %></td>','<td><%= _.escape(content_item.get("file_size")) %></td>','<td><%= _.escape(content_item.get("update_time")) %></td>',"<td>",'<% if ( content_item.get("state") !== "ok" ) { %>','<%= _.escape(content_item.get("state")) %>',"<% } %>","</td>","<td>",'<% if (content_item.get("is_unrestricted")) { %>','<span data-toggle="tooltip" data-placement="top" title="Unrestricted dataset" style="color:grey;" class="fa fa-globe"/>',"<% } %>",'<% if (content_item.get("is_private")) { %>','<span data-toggle="tooltip" data-placement="top" title="Private dataset" style="color:grey;" class="fa fa-key"/>',"<% } %>",'<% if ((content_item.get("is_unrestricted") === false) && (content_item.get("is_private") === false)) { %>','<span data-toggle="tooltip" data-placement="top" title="Restricted dataset" style="color:grey;" class="fa fa-shield"/>',"<% } %>",'<% if (content_item.get("can_manage")) { %>','<a href="#folders/<%- content_item.get("folder_id") %>/datasets/<%- content_item.id %>/permissions">','<button data-toggle="tooltip" data-placement="top" class="primary-button btn-sm permissions-dataset-btn" title="Permissions of \'<%- content_item.get("name") %>\'">','<span class="fa fa-group"/> Manage',"</button>","</a>","<% } %>","</td>","</tr>"].join(""))},templateRowDeletedFile:function(){return r.a.template(['<tr class="active deleted_dataset library-row" data-id="<%- content_item.id %>">','<td class="mid">','<span title="Dataset" class="fa fa-file-o"/>',"</td>","<td></td>",'<td style="color:grey;">','<%- content_item.get("name") %>',"</td>","<td>",'<%- content_item.get("message") %>',"</td>","<td>",'<%= _.escape(content_item.get("file_ext")) %>',"</td>","<td>",'<%= _.escape(content_item.get("file_size")) %>',"</td>","<td>",'<%= _.escape(content_item.get("update_time")) %>',"</td>","<td>",'<% if ( content_item.get("state") !== "ok" ) { %>','<%= _.escape(content_item.get("state")) %>',"<% } %>","</td>","<td>",'<span data-toggle="tooltip" data-placement="top" title="Marked deleted" style="color:grey;" class="fa fa-ban"/>','<button data-toggle="tooltip" data-placement="top" title="Undelete \'<%- content_item.get("name") %>\'" class="primary-button btn-sm undelete_dataset_btn" type="button" style="margin-left:1em;">','<span class="fa fa-unlock"/> Undelete',"</button>","</td>","</tr>"].join(""))},templateRowDeletedFolder:function(){return r.a.template(['<tr class="active deleted_folder light library-row" data-id="<%- content_item.id %>">','<td class="mid">','<span title="Folder" class="fa fa-folder-o"/>',"</td>","<td></td>",'<td style="color:grey;">','<%- content_item.get("name") %>',"</td>","<td>",'<%- content_item.get("description") %>',"</td>","<td>","folder","</td>","<td></td>","<td>",'<%= _.escape(content_item.get("update_time")) %>',"</td>","<td></td>","<td>",'<span data-toggle="tooltip" data-placement="top" title="Marked deleted" style="color:grey;" class="fa fa-ban"/>','<button data-toggle="tooltip" data-placement="top" title="Undelete \'<%- content_item.get("name") %>\'" class="primary-button btn-sm undelete_folder_btn" type="button" style="margin-left:1em;">','<span class="fa fa-unlock"/> Undelete',"</button>","</td>","</tr>"].join(""))}});t.a={FolderRowView:m}},function(e,t,n){"use strict";(function(e,i,r,o){var a=n(7),s=n.n(a),l=e.View.extend({events:{"click .edit_library_btn":"edit_button_clicked","click .cancel_library_btn":"cancel_library_modification","click .save_library_btn":"save_library_modification","click .delete_library_btn":"delete_library","click .undelete_library_btn":"undelete_library"},edit_mode:!1,element_visibility_config:{upload_library_btn:!1,edit_library_btn:!1,permission_library_btn:!1,save_library_btn:!1,cancel_library_btn:!1,delete_library_btn:!1,undelete_library_btn:!1},initialize:function(e){this.render(e)},render:function(e){void 0===e&&(e=i.libraries.libraryListView.collection.get(this.$el.data("id")),console.log(e)),this.prepareButtons(e);var t=this.templateRow();return this.setElement(t({library:e,button_config:this.element_visibility_config,edit_mode:this.edit_mode})),this.$el.show(),this},repaint:function(e){this.$el.find('[data-toggle="tooltip"]').tooltip("dispose");var t=this.$el;this.render(),t.replaceWith(this.$el),this.$el.find('[data-toggle="tooltip"]').tooltip({trigger:"hover"})},prepareButtons:function(e){var t=this.element_visibility_config;!1===this.edit_mode?(t.save_library_btn=!1,t.cancel_library_btn=!1,t.delete_library_btn=!1,!0===e.get("deleted")?(t.undelete_library_btn=!0,t.upload_library_btn=!1,t.edit_library_btn=!1,t.permission_library_btn=!1):!1===e.get("deleted")&&(t.save_library_btn=!1,t.cancel_library_btn=!1,t.undelete_library_btn=!1,!0===e.get("can_user_add")&&(t.upload_library_btn=!0),!0===e.get("can_user_modify")&&(t.edit_library_btn=!0),!0===e.get("can_user_manage")&&(t.permission_library_btn=!0))):!0===this.edit_mode&&(t.upload_library_btn=!1,t.edit_library_btn=!1,t.permission_library_btn=!1,t.save_library_btn=!0,t.cancel_library_btn=!0,t.delete_library_btn=!0,t.undelete_library_btn=!1),this.element_visibility_config=t},edit_button_clicked:function(){this.edit_mode=!0,this.repaint()},cancel_library_modification:function(){this.edit_mode=!1,this.repaint()},save_library_modification:function(){var e=i.libraries.libraryListView.collection.get(this.$el.data("id")),t=!1,n=this.$el.find(".input_library_name").val();if(void 0!==n&&n!==e.get("name")){if(!(n.length>2))return void s.a.warning("Library name has to be at least 3 characters long.");e.set("name",n),t=!0}var r=this.$el.find(".input_library_description").val();void 0!==r&&r!==e.get("description")&&(e.set("description",r),t=!0);var o=this.$el.find(".input_library_synopsis").val();if(void 0!==o&&o!==e.get("synopsis")&&(e.set("synopsis",o),t=!0),t){var a=this;e.save(null,{patch:!0,success:function(e){a.edit_mode=!1,a.repaint(e),s.a.success("Changes to library saved.")},error:function(e,t){void 0!==t.responseJSON?s.a.error(t.responseJSON.err_msg):s.a.error("An error occured while attempting to update the library.")}})}else this.edit_mode=!1,this.repaint(e),s.a.info("Nothing has changed.")},delete_library:function(){var e=this;i.libraries.libraryListView.collection.get(this.$el.data("id")).destroy({success:function(t){t.set("deleted",!0),i.libraries.libraryListView.collection.add(t),e.edit_mode=!1,!1===i.libraries.preferences.get("with_deleted")?(r(".tooltip").hide(),e.repaint(t),e.$el.remove()):!0===i.libraries.preferences.get("with_deleted")&&e.repaint(t),s.a.success("Library has been marked deleted.")},error:function(e,t){void 0!==t.responseJSON?s.a.error(t.responseJSON.err_msg):s.a.error("An error occured during deleting the library.")}})},undelete_library:function(){var e=i.libraries.libraryListView.collection.get(this.$el.data("id")),t=this;e.url="".concat(e.urlRoot+e.id,"?undelete=true"),e.destroy({success:function(e){e.set("deleted",!1),i.libraries.libraryListView.collection.add(e),t.edit_mode=!1,t.repaint(e),s.a.success("Library has been undeleted.")},error:function(e,t){void 0!==t.responseJSON?s.a.error(t.responseJSON.err_msg):s.a.error("An error occured while undeleting the library.")}})},templateRow:function(){return o.template(['<tr class="<% if(library.get("deleted") === true) { print("active") } %>" style="display:none;" data-id="<%- library.get("id") %>">',"<% if(!edit_mode) { %>",'<% if(library.get("deleted")) { %>','<td style="color:grey;"><%- library.get("name") %></td>',"<% } else { %>",'<td><a href="#folders/<%- library.get("root_folder_id") %>"><%- library.get("name") %></a></td>',"<% } %>",'<% if(library.get("description")) { %>','<% if( (library.get("description")).length> 80 ) { %>','<td data-toggle="tooltip" data-placement="bottom" title="<%= _.escape(library.get("description")) %>"><%= _.escape(library.get("description")).substring(0, 80) + "..." %></td>',"<% } else { %>",'<td><%= _.escape(library.get("description"))%></td>',"<% } %>","<% } else { %>","<td></td>","<% } %>",'<% if(library.get("synopsis")) { %>','<% if( (library.get("synopsis")).length> 120 ) { %>','<td data-toggle="tooltip" data-placement="bottom" title="<%= _.escape(library.get("synopsis")) %>"><%= _.escape(library.get("synopsis")).substring(0, 120) + "..." %></td>',"<% } else { %>",'<td><%= _.escape(library.get("synopsis"))%></td>',"<% } %>","<% } else { %>","<td></td>","<% } %>","<% } else if(edit_mode){ %>",'<td><textarea rows="4" class="form-control input_library_name" placeholder="name" ><%- library.get("name") %></textarea></td>','<td><textarea rows="4" class="form-control input_library_description" placeholder="description" ><%- library.get("description") %></textarea></td>','<td><textarea rows="4" class="form-control input_library_synopsis" placeholder="synopsis" ><%- library.get("synopsis") %></textarea></td>',"<% } %>",'<td class="right-center">','<% if( (library.get("public")) && (library.get("deleted") === false) ) { %>','<span data-toggle="tooltip" data-placement="left" title="Unrestricted library" style="color:grey;" class="fa fa-globe fa-lg"> </span>',"<% }%>",'<button data-toggle="tooltip" data-placement="left" title="Modify \'<%- library.get("name") %>\'" class="btn btn-sm edit_library_btn" type="button" style="<% if(button_config.edit_library_btn === false) { print("display:none;") } %>"><span class="fa fa-pencil"></span> Edit</button>','<a data-toggle="tooltip" data-placement="left" title="Permissions of \'<%- library.get("name") %>\'" href="#library/<%- library.get("id") %>/permissions"><button class="btn btn-sm permission_library_btn" type="button" style="<% if(button_config.permission_library_btn === false) { print("display:none;") } %>"><span class="fa fa-group"></span> Manage</button></a>','<button data-toggle="tooltip" data-placement="left" title="Save changes" class="btn btn-sm save_library_btn" type="button" style="<% if(button_config.save_library_btn === false) { print("display:none;") } %>"><span class="fa fa-floppy-o"></span> Save</button>','<button data-toggle="tooltip" data-placement="left" title="Discard changes" class="btn btn-sm cancel_library_btn" type="button" style="<% if(button_config.cancel_library_btn === false) { print("display:none;") } %>"><span class="fa fa-times"></span> Cancel</button>','<button data-toggle="tooltip" data-placement="left" title="Delete \'<%- library.get("name") %>\'" class="btn btn-sm delete_library_btn" type="button" style="<% if(button_config.delete_library_btn === false) { print("display:none;") } %>"><span class="fa fa-trash-o"></span> Delete</button>','<span data-toggle="tooltip" data-placement="left" title="Marked deleted" style="color:grey; <% if(button_config.undelete_library_btn === false) { print("display:none;") } %>" class="fa fa-ban fa-lg"></span>','<button data-toggle="tooltip" data-placement="left" title="Undelete \'<%- library.get("name") %>\' " class="btn btn-sm undelete_library_btn" type="button" style="<% if(button_config.undelete_library_btn === false) { print("display:none;") } %>"><span class="fa fa-unlock"></span> Undelete</button>',"</td>","</tr>"].join(""))}});t.a={LibraryRowView:l}}).call(this,n(3),n(5).monitor,n(0),n(2))},function(e,t,n){"use strict";t.a=function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;var n,i,r=[];for(n=0;n<=t.length;n++)r[n]=[n];for(i=0;i<=e.length;i++)r[0][i]=i;for(n=1;n<=t.length;n++)for(i=1;i<=e.length;i++)t.charAt(n-1)===e.charAt(i-1)?r[n][i]=r[n-1][i-1]:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[t.length][e.length]}},function(e,t,n){"use strict";(function(e){var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(7),d=n.n(u),h=n(19),f=n(17),p=l.a.View.extend({el:"#center",model:null,options:{},events:{"click .toolbtn_save_permissions":"savePermissions"},initialize:function(e){this.options=r.a.extend(this.options,e),this.options.id&&this.fetchFolder()},fetchFolder:function(t){this.options=r.a.extend(this.options,t),this.model=new h.a.FolderAsModel({id:this.options.id});var n=this;this.model.fetch({success:function(){n.options.show_permissions&&n.showPermissions()},error:function(t,n){void 0!==n.responseJSON?d.a.error("".concat(n.responseJSON.err_msg," Click this to go back."),"",{onclick:function(){e.libraries.library_router.back()}}):d.a.error("An error occurred. Click this to go back.","",{onclick:function(){e.libraries.library_router.back()}})}})},showPermissions:function(t){this.options=r.a.extend(this.options,t),a()(".tooltip").remove();var n=!1;e.user&&(n=e.user.isAdmin());var i=this.templateFolderPermissions();this.$el.html(i({folder:this.model,is_admin:n}));var o=this;a.a.get("".concat(Object(c.a)(),"api/folders/").concat(o.id,"/permissions?scope=current")).done(function(e){o.prepareSelectBoxes({fetched_permissions:e})}).fail(function(){d.a.error("An error occurred while attempting to fetch folder permissions.")}),a()('#center [data-toggle="tooltip"]').tooltip({trigger:"hover"}),a()("#center").css("overflow","auto")},_serializeRoles:function(e){for(var t=[],n=0;n<e.length;n++)t.push("".concat(e[n][1],":").concat(e[n][0]));return t},prepareSelectBoxes:function(e){this.options=r.a.extend(this.options,e);var t=this.options.fetched_permissions,n=this._serializeRoles(t.add_library_item_role_list),i=this._serializeRoles(t.manage_folder_role_list),o=this._serializeRoles(t.modify_folder_role_list);this.addSelectObject=new f.a.View(this._createSelectOptions(this,"add_perm",n,!1)),this.manageSelectObject=new f.a.View(this._createSelectOptions(this,"manage_perm",i,!1)),this.modifySelectObject=new f.a.View(this._createSelectOptions(this,"modify_perm",o,!1))},_createSelectOptions:function(e,t,n){return{minimumInputLength:0,css:t,multiple:!0,placeholder:"Click to select a role",container:e.$el.find("#".concat(t)),ajax:{url:"".concat(Object(c.a)(),"api/folders/").concat(e.id,"/permissions?scope=available"),dataType:"json",quietMillis:100,data:function(e,t){return{q:e,page_limit:10,page:t}},results:function(e,t){var n=10*t<e.total;return{results:e.roles,more:n}}},formatResult:function(e){return"".concat(e.name," type: ").concat(e.type)},formatSelection:function(e){return e.name},initSelection:function(e,t){var n=[];a()(e.val().split(",")).each(function(){var e=this.split(":");n.push({id:e[0],name:e[1]})}),t(n)},initialData:n.join(","),dropdownCssClass:"bigdrop"}},_extractIds:function(e){for(var t=[],n=e.length-1;n>=0;n--)t.push(e[n].id);return t},savePermissions:function(e){var t=this,n=this._extractIds(this.addSelectObject.$el.select2("data")),i=this._extractIds(this.manageSelectObject.$el.select2("data")),r=this._extractIds(this.modifySelectObject.$el.select2("data"));a.a.post("".concat(Object(c.a)(),"api/folders/").concat(t.id,"/permissions?action=set_permissions"),{"add_ids[]":n,"manage_ids[]":i,"modify_ids[]":r}).done(function(e){t.showPermissions({fetched_permissions:e}),d.a.success("Permissions saved.")}).fail(function(){d.a.error("An error occurred while attempting to set folder permissions.")})},templateFolderPermissions:function(){return r.a.template(['<div class="library_style_container">',"<div>",'<a href="#/folders/<%= folder.get("parent_id") %>">','<button data-toggle="tooltip" data-placement="top" title="Go back to the parent folder" class="btn btn-secondary primary-button" type="button">','<span class="fa fa-caret-left fa-lg"/>',"&nbsp;Parent folder","</button>","</a>","</div>","<h1>",'Folder: <%= _.escape(folder.get("name")) %>',"</h1>",'<div class="alert alert-warning">',"<% if (is_admin) { %>","You are logged in as an <strong>administrator</strong> therefore you can manage any folder on this Galaxy instance. Please make sure you understand the consequences.","<% } else { %>","You can assign any number of roles to any of the following permission types. However please read carefully the implications of such actions.","<% }%>","</div>",'<div class="dataset_table">',"<h2>Folder permissions</h2>","<h4>","Roles that can manage permissions on this folder","</h4>",'<div id="manage_perm" class="manage_perm roles-selection"/>','<div class="alert alert-info roles-selection">',"User with <strong>any</strong> of these roles can manage permissions on this folder.","</div>","<h4>","Roles that can add items to this folder","</h4>",'<div id="add_perm" class="add_perm roles-selection"/>','<div class="alert alert-info roles-selection">',"User with <strong>any</strong> of these roles can add items to this folder (folders and datasets).","</div>","<h4>","Roles that can modify this folder","</h4>",'<div id="modify_perm" class="modify_perm roles-selection"/>','<div class="alert alert-info roles-selection">',"User with <strong>any</strong> of these roles can modify this folder (name, etc.).","</div>",'<button data-toggle="tooltip" data-placement="top" title="Save modifications" class="btn btn-secondary toolbtn_save_permissions primary-button" type="button">','<span class="fa fa-floppy-o"/>',"&nbsp;Save","</button>","</div>","</div>"].join(""))}});t.a={FolderView:p}}).call(this,n(5).monitor)},function(e,t,n){"use strict";(function(e){var i=n(3),r=n(2),o=n(1),a=n.n(o),s=n(52),l=n(34),c=i.View.extend({el:"#center",initialize:function(e){var t=this;this.options=r.defaults(this.options||[{}],e,this.defaults),this.model=new s.a.RepoStatus,this.listenTo(this.model,"sync",this.render),this.model.url+="?repositories=".concat(this.options.repositories.join("|")),this.model.fetch(),this.timer=window.setInterval(function(){var e=["installed","error"],n=!0;r.some(t.model.models,function(t){var i=t.get("status").toLowerCase();if(-1===e.indexOf(i))return n=!1,!0}),n?window.clearInterval(t.timer):t.model.fetch()},2e3)},close:function(){window.clearInterval(this.timer)},render:function(t){this.options=r.extend(this.options,t);var n=this.templateRepoStatus;this.$el.html(n({title:a()("Repository Status"),repositories:this.model.models,queue:l.a.queueLength()})),e("#center").css("overflow","auto")},templateRepoStatus:r.template(['<div class="unified-panel-header" id="panel_header" unselectable="on">','<div class="unified-panel-header-inner"><%= title %><a class="ml-auto" href="#/queue">Repository Queue (<%= queue %>)</a></div>',"</div>",'<style type="text/css">',".state-color-new,",".state-color-deactivated,",".state-color-uninstalled { border-color:#bfbfbf; background:#eee }",".state-color-cloning,",".state-color-setting-tool-versions,",".state-color-installing-repository-dependencies,",".state-color-installing-tool-dependencies,",".state-color-loading-proprietary-datatypes { border-color:#AAAA66; background:#FFFFCC }",".state-color-installed { border-color:#20b520; background:#b0f1b0 }",".state-color-error { border-color:#dd1b15; background:#f9c7c5 }","</style>",'<table id="grid-table" class="grid">','<thead id="grid-table-header">',"<tr>",'<th id="null-header">Name<span class="sort-arrow"></span></th>','<th id="null-header">Description<span class="sort-arrow"></span></th>','<th id="null-header">Owner<span class="sort-arrow"></span></th>','<th id="null-header">Revision<span class="sort-arrow"></span></th>','<th id="null-header">Installation Status<span class="sort-arrow"></span></th>',"</tr>","</thead>",'<tbody id="grid-table-body">',"<% _.each(repositories, function(repository) { %>","<tr>","<td>",'<div id="" class="">','<label id="repo-name-<%= repository.get("id") %>" for="<%= repository.get("id") %>">','<%= repository.get("name") %>',"</label>","</div>","</td>","<td>",'<div id="" class="">','<label id="repo-desc-<%= repository.get("id") %>" for="<%= repository.get("id") %>">','<%= repository.get("description") %>',"</label>","</div>","</td>","<td>",'<div id="" class="">','<label id="repo-user-<%= repository.get("id") %>" for="<%= repository.get("id") %>">','<%= repository.get("owner") %>',"</label>","</div>","</td>","<td>",'<div id="" class="">','<label id="repo-changeset-<%= repository.get("id") %>" for="<%= repository.get("id") %>">','<%= repository.get("changeset_revision") %>',"</label>","</div>","</td>","<td>",'<div id="" class="">','<label id="RepositoryStatus-<%= repository.get("id") %>" for="<%= repository.get("id") %>">','<div class="repo-status count-box state-color-<%= repository.get("status").toLowerCase().replace(/ /g, "-") %>" id="RepositoryStatus-<%= repository.get("id") %>">','<%= repository.get("status") %>',"</div>","</label>","</div>","</td>","</tr>","<% }); %>","</tbody>",'<tfoot id="grid-table-footer"></tfoot>',"</table>"].join(""))});t.a={RepoStatus:c}}).call(this,n(0))},function(e,t,n){"use strict";(function(e,i){n.d(t,"a",function(){return c});var r=n(3),o=n(2),a=n(1),s=n.n(a),l=n(27),c=r.View.extend({initialize:function(){this.modal=null},makeModalIframe:function(t){var n=e.config.communication_server_host,r=e.config.communication_server_port,a=o.escape(e.user.attributes.username),s=o.escape(e.config.persistent_communication_rooms),u="?username=".concat(a,"&persistent_communication_rooms=").concat(s),d="".concat(n,":").concat(r).concat(u),h=null,f=null,p='<iframe class="h-100 w-100" src="'.concat(d,'"> </iframe>');return i(".chat-modal").length>0&&i(".chat-modal").remove(),c.modal=new l.a.View({body:p,height:350,width:600,closing_events:!0,title_separator:!1,cls:"ui-modal chat-modal"}),c.modal.show(),h=i(".chat-modal .modal-header"),f=i(".chat-modal .modal-body"),h.addClass("modal-header-body"),f.addClass("modal-header-body"),h.find("h4").remove(),h.removeAttr("min-height padding border"),h.append('<i class="fa fa-comment" aria-hidden="true" title="Communicate with other users"></i><i class="fa fa-expand expand-compress-modal" aria-hidden="true" title="Maximize"></i><i class="fa fa-times close-modal" aria-hidden="true" title="Close"></i>'),i(".close-modal").click(function(e){i(".chat-modal").css("display","none")}),i(".expand-compress-modal").click(function(e){i(".expand-compress-modal").hasClass("fa-expand")?(i(".chat-modal .modal-dialog").width("1000px"),i(".chat-modal .modal-body").height("575px"),i(".expand-compress-modal").removeClass("fa-expand").addClass("fa-compress"),i(".expand-compress-modal").attr("title","Minimize"),i(".expand-compress-modal").css("margin-left","96.2%")):(i(".chat-modal .modal-dialog").width("".concat(600,"px")),i(".chat-modal .modal-body").height("".concat(350,"px")),i(".expand-compress-modal").removeClass("fa-compress").addClass("fa-expand"),i(".expand-compress-modal").attr("title","Maximize"),i(".expand-compress-modal").css("margin-left","93.2%"))}),this},render:function(){return{id:"show-chat-online",icon:"fa-comment-o",tooltip:s()("Chat online"),visible:!1,onclick:this.makeModalIframe}}})}).call(this,n(5).monitor,n(0))},function(e,t,n){"use strict";(function(e){var i=n(3),r=n(2),o=n(8),a=n(1),s=n.n(a),l=i.View.extend(o.a.LoggableMixin).extend({_logNamespace:"user",options:{warnAtPercent:85,errorAtPercent:100},initialize:function(e){this.log("".concat(this,".initialize:"),e),r.extend(this.options,e),this.listenTo(this.model,"change:quota_percent change:total_disk_usage",this.render)},update:function(e){return this.log("".concat(this," updating user data..."),e),this.model.loadFromApi(this.model.get("id"),e),this},isOverQuota:function(){return null!==this.model.get("quota_percent")&&this.model.get("quota_percent")>=this.options.errorAtPercent},_render_quota:function(){var t=this.model.toJSON(),n=t.quota_percent,i=e(this._templateQuotaMeter(t)),r=i.find(".progress-bar");return this.isOverQuota()?(r.attr("class","progress-bar bg-danger"),i.find(".quota-meter-text").css("color","white"),this.trigger("quota:over",t)):n>=this.options.warnAtPercent?(r.attr("class","progress-bar bg-warning"),this.trigger("quota:under quota:under:approaching",t)):(r.attr("class","progress-bar bg-success"),this.trigger("quota:under quota:under:ok",t)),i},_render_usage:function(){var t=e(this._templateUsage(this.model.toJSON()));return this.log("".concat(this,".rendering usage:"),t),t},render:function(){var e=null;return this.log("".concat(this,".model.quota_percent:"),this.model.get("quota_percent")),e=null===this.model.get("quota_percent")||void 0===this.model.get("quota_percent")?this._render_usage():this._render_quota(),this.$el.html(e),this.$el.find(".quota-meter-text").tooltip(),this},_templateQuotaMeter:function(e){return['<div id="quota-meter" class="quota-meter progress">','<div class="progress-bar" style="width: ',e.quota_percent,'%"></div>','<div class="quota-meter-text" data-placement="left" style="top: 6px"',e.nice_total_disk_usage?' title="Using '.concat(e.nice_total_disk_usage,'. Click for details.">'):">",'<a href="https://galaxyproject.org/support/account-quotas/" target="_blank">',s()("Using")," ",e.quota_percent,"%","</a>","</div>","</div>"].join("")},_templateUsage:function(e){return['<div id="quota-meter" class="quota-meter" style="background-color: transparent">','<div class="quota-meter-text" data-placement="left" data-original-title="This value is recalculated when you log out." style="top: 6px; color: white">',e.nice_total_disk_usage?s()("Using ")+e.nice_total_disk_usage:"","</div>","</div>"].join("")},toString:function(){return"UserQuotaMeter(".concat(this.model,")")}});t.a={UserQuotaMeter:l}}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var i=n(2),r=n(403),o=n(593),a=n(1),s=n.n(a),l=r.a.HDCAListItemView,c=l.extend({initialize:function(e){l.prototype.initialize.call(this,e),this.purgeAllowed=e.purgeAllowed||!1},_getFoldoutPanelClass:function(){return o.a.CollectionViewEdit},_renderPrimaryActions:function(){return this.log("".concat(this,"._renderPrimaryActions")),l.prototype._renderPrimaryActions.call(this).concat([this._renderDeleteButton()])},_renderDeleteButton:function(){return e('\n                <div class="dropdown">\n                    <a class="delete-btn icon-btn" title="'.concat(s()("Delete"),'" data-toggle="dropdown">\n                        <span class="fa fa-times"></span>\n                    </a>\n                    <div class="dropdown-menu" role="menu">\n                            <a href="#" class="dropdown-item delete-collection">\n                                ').concat(s()("Collection Only"),'\n                            </a>\n                            <a href="#" class="dropdown-item delete-collection-and-datasets">\n                                ').concat(s()("Delete Datasets"),'\n                            </a>\n                            <a href="#" style="display: ').concat(this.purgeAllowed?"inherit":"none",'" class="dropdown-item delete-collection-and-purge-datasets">\n                                ').concat(s()("Permanently Delete Datasets"),"\n                            </a>\n                    </div>\n                </div>"))},events:i.extend(i.clone(l.prototype.events),{"click .delete-collection":function(e){this.model.delete()},"click .delete-collection-and-datasets":function(e){this.model.delete(!0)},"click .delete-collection-and-purge-datasets":function(e){this.model.delete(!0,!0)}}),toString:function(){var e=this.model?"".concat(this.model):"(no model)";return"HDCAListItemEdit(".concat(e,")")}});t.a={HDCAListItemEdit:c}}).call(this,n(0))},function(e,t,n){"use strict";var i=n(5),r=n(393),o=(n(509),n(472)),a=(n(8),n(350)),s=(n(41),n(1)),l=n.n(s),c=(n(381),r.a.CollectionView),u=c.extend({DatasetDCEViewClass:o.a.DatasetDCEListItemEdit,NestedDCDCEViewClass:o.a.NestedDCDCEListItemEdit,getNestedDCDCEViewClass:function(){return o.a.NestedDCDCEListItemEdit.extend({foldoutPanelClass:u})},initialize:function(e){c.prototype.initialize.call(this,e)},_setUpBehaviors:function(e){if(e=e||this.$el,c.prototype._setUpBehaviors.call(this,e),this.model){var t=Object(i.getGalaxyInstance)();if(t.user&&!t.user.isAnonymous()){this.tagsEditorShown=!0;var n=this;e.find("> .controls .name").attr("title",l()("Click to rename collection")).tooltip({placement:"bottom"}).make_text_editable({on_finish:function(e){var t=n.model.get("name");e&&e!==t?(n.$el.find("> .controls .name").text(e),n.model.save({name:e}).fail(function(){n.$el.find("> .controls .name").text(n.model.previous("name"))})):n.$el.find("> .controls .name").text(t)}}),this.tagsEditor=new a.a.TagsEditor({model:this.model,el:e.find(".tags-display"),onshowFirstTime:function(){this.render()},usePrompt:!1}),this.tagsEditor.toggle(!0)}}},toString:function(){return"CollectionViewEdit(".concat(this.model?this.model.get("name"):"",")")}});t.a={CollectionViewEdit:u}},function(e,t,n){"use strict";(function(e,n,i){t.a=e.Model.extend({defaults:{url_base:"",async:!1,async_ops:[],categorical_filters:[],filters:{},sort_key:null,show_item_checkboxes:!1,advanced_search:!1,cur_page:1,num_pages:1,operation:void 0,item_ids:void 0},can_async_op:function(e){return-1!==n.indexOf(this.attributes.async_ops,e)},add_filter:function(e,t,n){if(n){var i,r=this.attributes.filters[e];if(null===r||void 0===r)i=t;else if("string"==typeof r)if("All"==r||r==t)i=t;else{var o=[];o[0]=r,o[1]=t,i=o}else-1===(i=r).indexOf(t)&&i.push(t);this.attributes.filters[e]=i}else this.attributes.filters[e]=t},remove_filter:function(e,t){var i=this.attributes.filters[e];if(null===i||void 0===i)return!1;if("string"==typeof i)this.attributes.filters[e]="";else{var r=n.indexOf(i,t);-1!==r&&(i[r]="")}},get_url_data:function(){var e={async:this.attributes.async,sort:this.attributes.sort_key,page:this.attributes.cur_page,show_item_checkboxes:this.attributes.show_item_checkboxes,advanced_search:this.attributes.advanced_search};this.attributes.operation&&(e.operation=this.attributes.operation),this.attributes.item_ids&&(e.id=this.attributes.item_ids);return n.each(n.pairs(this.attributes.filters),function(t){e["f-".concat(t[0])]=t[1]}),e},get_url:function(e){return"".concat(this.get("url_base"),"?").concat(i.param(this.get_url_data()),"&").concat(i.param(e))}})}).call(this,n(3),n(2),n(0))},function(e,t,n){"use strict";(function(e,i,r){var o=n(7),a=n(460),s=n(596),l=e.View.extend({el:"#groups_element",defaults:{},initialize:function(e){this.options=i.defaults(this.options||{},this.defaults,e);var t=this;window.globalTS.groups.collection=new a.a.Groups,window.globalTS.groups.collection.fetch({success:function(e){t.render()},error:function(e,t){void 0!==t.responseJSON?o.error(t.responseJSON.err_msg):o.error("An error occurred.")}})},fetch:function(){},render:function(e){this.options=i.extend(this.options,e),r(".tooltip").hide();var t=this.templateGroupsList();this.$el.html(t({length:window.globalTS.groups.collection.models.length})),this.renderRows(window.globalTS.groups.collection.models),r('#center [data-toggle="tooltip"]').tooltip({trigger:"hover"}),r("#center").css("overflow","auto")},renderRows:function(e){for(var t=0;t<e.length;t++){var n=e[t];this.renderOne({group:n})}},renderOne:function(e){var t=new s.a.GroupListRowView(e);this.$el.find("#group_list_body").append(t.el)},templateGroupsList:function(){var e=[];return e.push('<div id="groups">'),e.push("</div>"),e.push('<div class="groups_container table-responsive">'),e.push("<% if(length === 0) { %>"),e.push("<div>There are no groups yet.</div>"),e.push("<% } else{ %>"),e.push('<table class="grid table table-sm">'),e.push("   <thead>"),e.push("     <th>Name</th>"),e.push("     <th>Members</th> "),e.push("     <th>Repositories</th>"),e.push("   </thead>"),e.push('   <tbody id="group_list_body">'),e.push("   </tbody>"),e.push("</table>"),e.push("<% }%>"),e.push("</div>"),i.template(e.join(""))}});t.a={GroupListView:l}}).call(this,n(3),n(2),n(0))},function(e,t,n){"use strict";(function(e,n){var i=e.View.extend({events:{},initialize:function(e){this.render(e.group)},render:function(e){var t=this.templateRow();return this.setElement(t({group:e})),this.$el.show(),this},templateRow:function(){return n.template(['<tr class="" data-id="<%- group.get("id") %>">','<td><a href="groups#/<%= group.get("id") %>"><%= _.escape(group.get("name")) %></a></td>','<td><%= group.get("total_members") %></td>','<td><%= group.get("total_repos") %></td>',"</tr>"].join(""))}});t.a={GroupListRowView:i}}).call(this,n(3),n(2))},function(e,t,n){"use strict";(function(e,i,r){var o=n(7),a=n(460),s=e.View.extend({el:"#groups_element",options:{},app:null,initialize:function(e){this.options=i.extend(this.options,e),this.app=window.globalTS.groups,null!==this.app.collection?(this.model=this.app.collection.get(this.options.group_id),this.render()):this.fetchGroup()},fetchGroup:function(e){var t=this;this.options=i.extend(this.options,e),this.model=new a.a.Group({id:this.options.group_id}),this.model.fetch({success:function(e){console.log("received data: "),console.log(e),t.render()},error:function(e,t){void 0!==t.responseJSON?o.error(t.responseJSON.err_msg):o.error("An error occurred.")}})},render:function(){var e=this.templateRow();this.$el.html(e({group:this.model})),r('#center [data-toggle="tooltip"]').tooltip({trigger:"hover"}),r("#center").css("overflow","auto")},templateRow:function(){return i.template(["<div>",'<h3><%= _.escape(group.get("name")) %></h3>','<p class="" style="color:gray;">','A group of <%= group.get("members").length %> members with <%= group.get("repositories").length %> repositories and a total of <%= group.get("total_downloads") %> combined repository clones.</p>',"<h3>Members</h3>",'<table class="grid table table-sm">',"<thead>","<th>Name</th>","<th>Repositories</th>","<th>Registered</th>","</thead>","<tbody>",'<% _.each(group.get("members"), function(member) { %>',"<tr>","<td>","<%= _.escape(member.username) %>","</td>","<td>",'<a data-toggle="tooltip" data-placement="top" title="Repositories of <%= _.escape(member.username) %>" href="/repository/browse_repositories_by_user?user_id=<%= member.id %>&use_panels=true" id="<%= member.id %>"><%= member.user_repos_count %></a>',"</td>","<td>","<%= member.time_created %>","</td>","</tr>","<% }); %>","</tbody>","</table>","<h3>Repositories</h3>",'<table class="grid table table-sm">',"<thead>","<th>Name</th>","<th>Description</th>","<th>Clones</th>","<th>Owner</th>","<th>Categories</th>","<th>Created</th>","<th>Updated</th>","<th>Rating</th>","<th>Verified</th>","</thead>","<tbody>",'<% _.each(group.get("repositories"), function(repo) { %>',"<tr>","<td>",'<a data-toggle="tooltip" data-placement="top" title="Details of <%= _.escape(repo.name) %>" href="/view/<%= _.escape(repo.owner) %>/<%= _.escape(repo.name) %>" id="<%= repo.id %>"><%= _.escape(repo.name) %></a>',"</td>","<td>","<%= _.escape(repo.description) %>","</td>","<td>","<%= repo.times_downloaded %>","</td>","<td>","<%= _.escape(repo.owner) %>","</td>","<td>","<% _.each((repo.categories), function(cat) { %>",'<a data-toggle="tooltip" data-placement="top" title="Repositories in <%= cat.name %>" href="/repository/browse_repositories_in_category?id=<%= cat.id %>&use_panels=true"><%= cat.name %></a><br/>',"<% }); %>","</td>",'<td data-toggle="tooltip" data-placement="top" title="<%= repo.time_created_full %>">',"<%= repo.time_created %>","</td>",'<td data-toggle="tooltip" data-placement="top" title="<%= repo.time_updated_full %>">',"<%= repo.time_updated %>","</td>","<td>","<%= repo.ratings_mean %>","</td>","<td>","<%= repo.approved %>","</td>","</tr>","<% }); %>","</tbody>","</table>","</div>"].join(""))}});t.a={GroupDetailView:s}}).call(this,n(3),n(2),n(0))},function(e,t,n){"use strict";(function(e,i){var r=n(11),o=(n(6),n(347)),a=n(599),s=n(600),l=n(601);t.a=e.View.extend({initialize:function(e,t){var n=this;this.app=e,this.chart=this.app.chart,this.description=new l.a(this.app),this.title=new r.a.Input({onchange:function(){n.chart.set("title",n.title.value())}}),this.tabs=new o.a.View({}),this.tabs.add({id:"settings",icon:"fa fa-gear",tooltip:"Change settings.",$el:i("<div/>").append("<label><b>Provide a title</b><label>").append(this.title.$el).append(i("<div/>").addClass("form-text text-muted").html("This title will appear in the list of 'Saved Visualizations'.")).append(new s.a(this.app).$el)}),this.chart.plugin.groups&&this.tabs.add({id:"groups",icon:"fa-database",tooltip:"Select data.",$el:new a.a(this.app).$el}),this.setElement("<div class='charts-editor'/>"),this.$el.append(this.description.$el),this.$el.append(this.tabs.$el),this.listenTo(this.chart,"load",function(){n.title.value(n.chart.get("title"))})}})}).call(this,n(3),n(0))},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(6),d=(n(11),n(25)),h=n(450),f=n(93),p=l.a.View.extend({initialize:function(e,t){var n=this;this.deferred=e.deferred,this.chart=e.chart,this.group=t.group,this.setElement(a()("<div/>")),this.listenTo(this.chart,"change:dataset_id",function(){n.render()}),this.render()},render:function(){var e=this,t=u.a.clone(this.chart.plugin.groups)||[],n=this.chart.get("dataset_id");n&&(this.chart.state("wait","Loading metadata..."),this.deferred.execute(function(i){u.a.get({url:Object(c.a)()+"api/datasets/"+n,cache:!0,success:function(n){var r={};f.a.visitInputs(t,function(t,i){if("data_column"==t.type){r[i]=u.a.clone(t);var o=[];t.is_auto&&o.push({label:"Column: Row Number",value:"auto"}),t.is_zero&&o.push({label:"Column: None",value:"zero"});var a=n.metadata_column_types;for(var s in a)(-1!=["int","float"].indexOf(a[s])&&t.is_numeric||t.is_label)&&o.push({label:"Column: "+(parseInt(s)+1),value:s});t.data=o}var l=e.group.get(i);void 0===l||t.hidden||(t.value=l)}),t.push({name:"__data_columns",type:"hidden",hidden:!0,value:r}),e.chart.state("ok","Metadata initialized..."),e.form=new d.a({inputs:t,onchange:function(){e.group.set(e.form.data.create()),e.chart.set("modified",!0),e.chart.trigger("redraw")}}),e.group.set(e.form.data.create()),e.$el.empty().append(e.form.$el),i.resolve(),e.chart.trigger("redraw")}})}))}});t.a=l.a.View.extend({initialize:function(e){var t=this;this.app=e,this.chart=e.chart,this.repeat=new h.a.View({title:"Data series",title_new:"Data series",min:1,onnew:function(){t.chart.groups.add({id:u.a.uid()})}}),this.setElement(a()("<div/>").append(this.repeat.$el)),this.listenTo(this.chart.groups,"remove",function(e){t.repeat.del(e.id),t.chart.trigger("redraw")}),this.listenTo(this.chart.groups,"reset",function(){t.repeat.delAll()}),this.listenTo(this.chart.groups,"add",function(e){t.repeat.add({id:e.id,$el:new p(t.app,{group:e}).$el,ondel:function(){t.chart.groups.remove(e)}})})},render:function(){r.a.size(this.chart.plugin.groups)>0?this.repeat.$el.show():this.repeat.$el.hide()}})},function(e,t,n){"use strict";(function(e,i){var r=n(6),o=n(25),a=n(93);t.a=e.View.extend({initialize:function(e,t){var n=this;this.chart=e.chart,this.setElement("<div/>"),this.listenTo(this.chart,"load",function(){n.render()})},render:function(){var e=this,t=r.a.clone(this.chart.plugin.settings)||[],n=this.chart.plugin.specs.use_panels;"optional"==n?t.push({name:"__use_panels",type:"boolean",label:"Use multi-panels",help:"Would you like to separate your data into individual panels?"}):this.chart.settings.set("__use_panels","yes"==n?"true":"false"),this.$el.empty(),i.size(t)>0&&(a.a.visitInputs(t,function(t,n){var i=e.chart.settings.get(n);void 0===i||t.hidden||(t.value=i)}),this.form=new o.a({inputs:t,onchange:function(){e.chart.settings.set(e.form.data.create()),e.chart.trigger("redraw")}}),this.chart.settings.set(this.form.data.create()),this.$el.append(this.form.$el))}})}).call(this,n(3),n(2))},function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(4),a=n(6);t.a=r.a.View.extend({initialize:function(e){this.plugin=e.chart.plugin,this.setElement(this._template()),this.$title=this.$(".charts-description-title"),this.$image=this.$(".charts-description-image"),this.$text=this.$(".charts-description-text"),this.render()},render:function(){this.plugin.logo?(this.$image.attr("src",Object(o.a)()+this.plugin.logo),this.$title.html(this.plugin.html||"Unavailable"),this.$text.html(a.a.linkify(this.plugin.description||"")),this.$el.show()):this.$el.hide()},_template:function(){return'<div class="charts-description">\n                    <table>\n                    <tr>\n                        <td class="charts-description-image-td">\n                            <img class="charts-description-image"/>\n                        </td>\n                        <td>\n                            <div class="charts-description-title"/>\n                        </td>\n                    </tr>\n                    </table>\n                    <div class="charts-description-text"/>\n                </div>'}})},function(e,t,n){"use strict";(function(e,i){var r=n(6);t.a=e.View.extend({initialize:function(e,t){var n=this;this.app=e,this.chart=this.app.chart,this.options=t,this.setElement(i("<div/>").addClass("charts-viewer").append(i("<div/>").addClass("info").append(i("<span/>").addClass("icon")).append(i("<span/>").addClass("text")))),this.$info=this.$(".info"),this.$icon=this.$(".icon"),this.$text=this.$(".text"),this._fullscreen(this.$el,20),this._createContainer("div"),this.chart.on("redraw",function(e){n.chart.get("modified")&&n.chart.plugin.specs.confirm&&!e?n.chart.state("info","Please confirm the settings before rendering the results."):n.app.deferred.execute(function(e){console.debug("viewer:redraw() - Redrawing..."),n._draw(e,n.chart)})}),this.chart.on("set:state",function(){var e=n.$(".charts-viewer-container"),t=n.$info,i=n.$icon,r=n.$text;switch(i.removeClass(),t.show(),r.html(n.chart.get("state_info")),n.chart.get("state")){case"ok":t.hide(),e.show();break;case"failed":i.addClass("icon fa fa-warning"),e.hide();break;case"info":i.addClass("icon fa fa-info"),e.hide();break;default:i.addClass("icon fa fa-spinner fa-spin"),e.show()}})},_fullscreen:function(e,t){e.css("height",i(window).height()-t),i(window).resize(function(){e.css("height",i(window).height()-t)})},_createContainer:function(e,t){e=e||"div",t=t||1,this.$(".charts-viewer-container").remove(),this.targets=[];for(var n=0;n<t;n++){var o=r.a.uid(),a=i("<div/>").addClass("charts-viewer-container").width(parseInt(100/t)+"%").append(i("<"+e+" class='charts-viewer-canvas' />").attr("id",o));this.$el.append(a),this.targets.push(o)}},_draw:function(e,t){var n="true"==t.settings.get("__use_panels")?t.groups.length:1;this._createContainer(t.plugin.specs.tag,n),t.set("date",r.a.time()),t.state("wait","Please wait..."),this.app.chart_load({process:e,chart:t,dataset:this.app.dataset,targets:this.targets})}})}).call(this,n(3),n(0))},function(e,t,n){"use strict";(function(e){var i=n(11),r=n(473);n(6);t.a=e.View.extend({initialize:function(t){var n=this;this.app=t,this.model=new e.Model({visible:!0}),this.execute_button=new i.a.Button({icon:"fa-check-square",tooltip:"Confirm",onclick:function(){t.chart.trigger("redraw",!0)}}),this.export_button=new i.a.ButtonMenu({icon:"fa-camera",tooltip:"Export"}),this.export_button.addMenu({key:"png",title:"Save as PNG",icon:"fa-file",onclick:function(){n._wait(t.chart,function(){r.a.createPNG({$el:t.viewer.$el,title:t.chart.get("title"),error:function(e){t.message.update({message:e,status:"danger"})}})})}}),this.export_button.addMenu({key:"svg",title:"Save as SVG",icon:"fa-file-text-o",onclick:function(){n._wait(t.chart,function(){r.a.createSVG({$el:t.viewer.$el,title:t.chart.get("title"),error:function(e){t.message.update({message:e,status:"danger"})}})})}}),this.export_button.addMenu({key:"pdf",title:"Save as PDF",icon:"fa-file-o",onclick:function(){t.modal.show({title:"Send visualization data for PDF creation",body:"Galaxy does not provide integrated PDF export scripts. You may click 'Continue' to create the PDF by using a 3rd party service (https://export.highcharts.com).",buttons:{Cancel:function(){t.modal.hide()},Continue:function(){t.modal.hide(),n._wait(t.chart,function(){r.a.createPDF({$el:t.viewer.$el,title:t.chart.get("title"),error:function(e){t.message.update({message:e,status:"danger"})}})})}}})}}),this.left_button=new i.a.Button({icon:"fa-angle-double-left",tooltip:"Show",onclick:function(){n.model.set("visible",!0),window.dispatchEvent(new Event("resize"))}}),this.right_button=new i.a.Button({icon:"fa-angle-double-right",tooltip:"Hide",onclick:function(){n.model.set("visible",!1),window.dispatchEvent(new Event("resize"))}}),this.save_button=new i.a.Button({icon:"fa-save",tooltip:"Save",onclick:function(){t.chart.get("title")?(t.message.update({message:"Saving '".concat(t.chart.get("title"),"'. It will appear in the list of 'Saved Visualizations'."),status:"success"}),t.chart.save({error:function(){t.message.update({message:"Could not save visualization.",status:"danger"})}})):t.message.update({message:"Please provide a name.",status:"danger"})}}),this.buttons=[this.left_button,this.right_button,this.execute_button,this.export_button,this.save_button],this.setElement("<div/>");var o=!0,a=!1,s=void 0;try{for(var l,c=this.buttons[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;this.$el.append(u.$el)}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}this.listenTo(this.model,"change",function(){return n.render()}),this.render()},render:function(){var e=this.model.get("visible");this.app.$el[e?"removeClass":"addClass"]("charts-fullscreen"),this.execute_button.model.set("visible",e&&!!this.app.chart.plugin.specs.confirm),this.save_button.model.set("visible",e),this.export_button.model.set("visible",e),this.right_button.model.set("visible",e),this.left_button.model.set("visible",!e);var t=this.app.chart.plugin.specs.exports||[];this.export_button.collection.each(function(e){e.set("visible",-1!==t.indexOf(e.get("key")))})},_wait:function(e,t){this.app.deferred.ready()?t():this.app.message.update({message:"Your visualization is currently being processed. Please wait and try again."})}})}).call(this,n(3))},function(e,t,n){"use strict";(function(e){var i=n(0),r=n.n(i),o=r.a;function a(e,t){o(e).find(".tag-name").each(function(){o(this).click(function(){var e=o(this).text().split(":");return t(e[0],e[1]),!0})})}r.a.fn.autocomplete_tagging=function(t){var n={get_toggle_link_text_fn:function(t){var n=e.size(t);return n>0?n+(n>1?" Tags":" Tag"):"Add tags"},tag_click_fn:function(e,t){},editable:!0,input_size:20,in_form:!1,tags:{},use_toggle_link:!0,item_id:"",add_tag_img:"",add_tag_img_rollover:"",delete_tag_img:"",ajax_autocomplete_tag_url:"",ajax_retag_url:"",ajax_delete_tag_url:"",ajax_add_tag_url:""},i=r.a.extend(n,t),s=o(this),l=s.find(".tag-area"),c=s.find(".toggle-link"),u=s.find(".tag-input"),d=s.find(".add-tag-button");c.click(function(){var e;return e=l.is(":hidden")?function(){0===o(this).find(".tag-button").length&&l.click()}:function(){l.blur()},l.slideToggle("fast",e),o(this)}),i.editable&&u.hide(),u.keyup(function(e){if(27===e.keyCode)o(this).trigger("blur");else if(13===e.keyCode||188===e.keyCode||32===e.keyCode){var t=this.value;if(-1!==t.indexOf(": ",t.length-2))return this.value=t.substring(0,t.length-1),!1;if(188!==e.keyCode&&32!==e.keyCode||(t=t.substring(0,t.length-1)),(t=o.trim(t)).length<2)return!1;this.value="";var n=function(e){var t=o("<img/>").attr("src",i.delete_tag_img).addClass("delete-tag-img");f(t);var n=o("<span>").text(e).addClass("tag-name");n.click(function(){var t=e.split(":");return i.tag_click_fn(t[0],t[1]),!0});var r=o("<span></span>").addClass("tag-button");r.append(n),i.editable&&r.append(t);return r}(t),r=l.children(".tag-button");if(0!==r.length)r.slice(r.length-1).after(n);else l.prepend(n);var a=t.split(":");i.tags[a[0]]=a[1];var s=i.get_toggle_link_text_fn(i.tags);c.text(s);var u=o(this);return o.ajax({url:i.ajax_add_tag_url,data:{new_tag:t},error:function(){n.remove(),delete i.tags[a[0]];var e=i.get_toggle_link_text_fn(i.tags);c.text(e),alert("Add tag failed")},success:function(){u.data("autocompleter").cacheFlush()}}),!1}});var h={selectFirst:!1,formatItem:function(e,t,n,i,r){var o=i.split(":");return 1===o.length?o[0]:o[1]},autoFill:!1,highlight:!1};function f(e){o(e).mouseenter(function(){o(this).attr("src",i.delete_tag_img_rollover)}),o(e).mouseleave(function(){o(this).attr("src",i.delete_tag_img)}),o(e).click(function(){var t=o(this).parent(),n=t.find(".tag-name").eq(0).text().split(":"),r=n[0],a=n[1],s=t.prev();t.remove(),delete i.tags[r];var u=i.get_toggle_link_text_fn(i.tags);return c.text(u),o.ajax({url:i.ajax_delete_tag_url,data:{tag_name:r},error:function(){i.tags[r]=a,s.hasClass("tag-button")?s.after(t):l.prepend(t),alert("Remove tag failed"),c.text(i.get_toggle_link_text_fn(i.tags)),e.mouseenter(function(){o(this).attr("src",i.delete_tag_img_rollover)}),e.mouseleave(function(){o(this).attr("src",i.delete_tag_img)})},success:function(){}}),!0})}u.autocomplete_verheul(i.ajax_autocomplete_tag_url,h),s.find(".delete-tag-img").each(function(){f(o(this))}),a(o(this),i.tag_click_fn),d.click(function(){return o(this).hide(),l.click(),!1}),i.editable&&(l.bind("blur",function(t){e.size(i.tags)>0&&(d.show(),u.hide(),l.removeClass("active-tag-area"))}),l.click(function(e){var t=o(this).hasClass("active-tag-area");if(o(e.target).hasClass("delete-tag-img")&&!t)return!1;if(o(e.target).hasClass("tag-name")&&!t)return!1;o(this).addClass("active-tag-area"),d.hide(),u.show(),u.focus();return o(window).bind("click.tagging_blur",function(e){!function(e,t){e.attr("id"),t!==e&&(e.blur(),o(window).unbind("click.tagging_blur"),o(this).addClass("tooltip"))}(l,o(e.target))}),!1})),i.use_toggle_link&&l.hide()},t.a=a}).call(this,n(2))},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return l});var i=n(634),r=n(18),o=n(5),a=n(4);function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(t,[{key:"dialog",value:function(t){var n=r.a.extend(i.a),o=document.createElement("div");e("body").append(o),new n({propsData:{callback:t}}).$mount(o)}},{key:"create",value:function(t){var n=Object(o.getGalaxyInstance)().currHistoryPanel,i=t.history_id;!i&&n&&(i=n.model.get("id")),e.uploadpost({url:"".concat(Object(a.a)(),"api/tools"),success:function(e){n&&n.refreshContents(),t.success&&t.success(e)},error:t.error,data:{payload:{tool_id:"upload1",history_id:i,inputs:JSON.stringify({"files_0|type":"upload_dataset","files_0|NAME":t.file_name,"files_0|space_to_tab":t.space_to_tab?"Yes":null,"files_0|to_posix_lines":t.to_posix_lines?"Yes":null,"files_0|dbkey":t.genome||"?","files_0|file_type":t.extension||"auto","files_0|url_paste":t.url_paste})}}})}}]),t}()}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var i=n(1),r=n.n(i),o=n(6),a=n(27),s=n(347),l=n(38),c=n(607),u=n(608),d=n(611),h=n(613),f=n(615),p=n(5);t.a=e.View.extend({options:{ftp_upload_site:"n/a",default_genome:l.a.DEFAULT_GENOME,default_extension:l.a.DEFAULT_EXTENSION,height:500,width:900,auto:l.a.AUTO_EXTENSION},list_extensions:[],list_genomes:[],initialize:function(e){var t=this;this.options=o.a.merge(e,this.options),this.ui_button=new c.a.View({onclick:function(e){e.preventDefault(),t.show()},onunload:function(){var e=t.ui_button.model.get("percentage",0);if(e>0&&e<100)return"Several uploads are queued."}}),this.setElement(this.ui_button.$el),l.a.getUploadDatatypes(function(e){t.list_extensions=e},this.options.datatypes_disable_auto,this.options.auto),l.a.getUploadGenomes(function(e){t.list_genomes=e},this.default_genome)},show:function(){var e=Object(p.getGalaxyInstance)(),t=this;e.currHistoryPanel&&e.currHistoryPanel.model?(this.current_user=e.user.id,this.modal||(this.tabs=new s.a.View,this.default_view=new u.a(this),this.tabs.add({id:"regular",title:r()("Regular"),$el:this.default_view.$el}),this.composite_view=new d.a(this),this.tabs.add({id:"composite",title:r()("Composite"),$el:this.composite_view.$el}),this.collection_view=new h.a(this),this.tabs.add({id:"collection",title:r()("Collection"),$el:this.collection_view.$el}),this.rule_based_view=new f.a(this),this.tabs.add({id:"rule-based",title:r()("Rule-based"),$el:this.rule_based_view.$el}),this.modal=new a.a.View({title:r()("Download from web or upload from disk"),body:this.tabs.$el,height:this.options.height,width:this.options.width,closing_events:!0,title_separator:!1})),this.modal.show()):window.setTimeout(function(){t.show()},500)},currentHistory:function(){var e=Object(p.getGalaxyInstance)();return this.current_user&&e.currHistoryPanel.model.get("id")},currentFtp:function(){return this.current_user&&this.options.ftp_upload_site},toData:function(e,t){var n={payload:{tool_id:"upload1",history_id:t||this.currentHistory(),inputs:{}},files:[],error_message:null};if(e&&e.length>0){var i={file_count:e.length,dbkey:e[0].get("genome","?"),file_type:e[0].get("extension")||"auto"};for(var r in e){var o=e[r];if(o.set("status","running"),!(o.get("file_size")>0)){n.error_message="Upload content incomplete.",o.set("status","error"),o.set("info",n.error_message);break}var a="files_".concat(r,"|");switch(i["".concat(a,"type")]="upload_dataset","New File"!=o.get("file_name")&&(i["".concat(a,"NAME")]=o.get("file_name")),i["".concat(a,"space_to_tab")]=o.get("space_to_tab")?"Yes":null,i["".concat(a,"to_posix_lines")]=o.get("to_posix_lines")?"Yes":null,i["".concat(a,"dbkey")]=o.get("genome",null),i["".concat(a,"file_type")]=o.get("extension",null),o.get("file_mode")){case"new":i["".concat(a,"url_paste")]=o.get("url_paste");break;case"ftp":i["".concat(a,"ftp_files")]=o.get("file_path");break;case"local":n.files.push({name:"".concat(a,"file_data"),file:o.get("file_data")})}}n.payload.inputs=JSON.stringify(i)}return n}})}).call(this,n(3))},function(e,t,n){"use strict";(function(e,i){var r=n(1),o=n.n(r),a=e.View.extend({initialize:function(t){var n=this;this.model=t&&t.model||new e.Model({icon:"fa-upload",tooltip:o()("Download from URL or upload files from disk"),label:"Load Data",percentage:0,status:"",onunload:function(){},onclick:function(){}}).set(t),this.setElement(this._template()),this.$progress=this.$(".progress-bar"),this.listenTo(this.model,"change",this.render,this),this.render(),i(window).on("beforeunload",function(){return n.model.get("onunload")()})},render:function(){var e=this.model.attributes;this.$el.off("click").on("click",function(t){e.onclick(t)}).tooltip({title:this.model.get("tooltip"),placement:"bottom",trigger:"hover"}),this.$progress.removeClass().addClass("progress-bar").addClass("progress-bar-notransition").addClass(""!=e.status&&"progress-bar-".concat(e.status)).css({width:"".concat(e.percentage,"%")})},_template:function(){return'<div class="upload-button"><div class="progress"><div class="progress-bar"/><a class="panel-header-button" href="javascript:void(0)" id="tool-panel-upload-button"><span class="fa fa-upload"/></a></div></div>'}});t.a={View:a}}).call(this,n(3),n(0))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(3),a=n.n(o),s=n(2),l=n.n(s),c=n(1),u=n.n(c),d=n(82),h=n(609),f=n(390),p=n(354),m=n(51),g=n(17),_=n(11),v=n(610),y=(n(506),n(5));t.a=a.a.View.extend({upload_size:0,collection:new d.a.Collection,counter:{announce:0,success:0,error:0,running:0,reset:function(){this.announce=this.success=this.error=this.running=0}},initialize:function(e){var t=this;this.app=e,this.options=e.options,this.list_extensions=e.list_extensions,this.list_genomes=e.list_genomes,this.ui_button=e.ui_button,this.ftp_upload_site=e.currentFtp(),this.setElement(this._template()),this.$uploadbox=this.$(".upload-box"),this.$uploadtable=this.$(".upload-table"),this.btnLocal=new _.a.Button({id:"btn-local",title:u()("Choose local file"),onclick:function(){t.uploadbox.select()},icon:"fa fa-laptop"}),this.btnFtp=new _.a.Button({id:"btn-ftp",title:u()("Choose FTP file"),onclick:function(){t._eventFtp()},icon:"fa fa-folder-open-o"}),this.btnCreate=new _.a.Button({id:"btn-new",title:"Paste/Fetch data",onclick:function(){t._eventCreate()},icon:"fa fa-edit"}),this.btnStart=new _.a.Button({id:"btn-start",title:u()("Start"),onclick:function(){t._eventStart()}}),this.btnStop=new _.a.Button({id:"btn-stop",title:u()("Pause"),onclick:function(){t._eventStop()}}),this.btnReset=new _.a.Button({id:"btn-reset",title:u()("Reset"),onclick:function(){t._eventReset()}}),this.btnClose=new _.a.Button({id:"btn-close",title:u()("Close"),onclick:function(){t.app.modal.hide()}}),l.a.each([this.btnLocal,this.btnFtp,this.btnCreate,this.btnStop,this.btnReset,this.btnStart,this.btnClose],function(e){t.$(".upload-buttons").prepend(e.$el)}),this.uploadbox=this.$uploadbox.uploadbox({url:this.app.options.upload_path,announce:function(e,n){t._eventAnnounce(e,n)},initialize:function(e){return t.app.toData([t.collection.get(e)],t.history_id)},progress:function(e,n){t._eventProgress(e,n)},success:function(e,n){t._eventSuccess(e,n)},error:function(e,n){t._eventError(e,n)},warning:function(e,n){t._eventWarning(e,n)},complete:function(){t._eventComplete()},ondragover:function(){t.$uploadbox.addClass("highlight")},ondragleave:function(){t.$uploadbox.removeClass("highlight")}}),this.ftp=new m.a({title:u()("FTP files"),container:this.btnFtp.$el}),this.select_extension=new g.a.View({css:"upload-footer-selection",container:this.$(".upload-footer-extension"),data:l.a.filter(this.list_extensions,function(e){return!e.composite_files}),value:this.options.default_extension,onchange:function(e){t._changeExtension(e)}}),this.$(".upload-footer-extension-info").on("click",function(e){new p.a({$el:r()(e.target),title:t.select_extension.text(),extension:t.select_extension.value(),list:t.list_extensions,placement:"top"})}).on("mousedown",function(e){e.preventDefault()}),this.select_genome=new g.a.View({css:"upload-footer-selection",container:this.$(".upload-footer-genome"),data:this.list_genomes,value:this.options.default_genome,onchange:function(e){t._changeGenome(e)}}),this.loader=new v.a({$container:this.$uploadbox,collection:this.collection,new_content:function(e){var n=new h.a(t,{model:e});return t.$uploadtable.find("> tbody:first").append(n.$el),n.render(),n}}),this.collection.on("remove",function(e){t._eventRemove(e)}),this.render()},render:function(){var e="";e=0===this.counter.announce?this.uploadbox.compatible()?"&nbsp;":"Browser does not support Drag & Drop. Try Firefox 4+, Chrome 7+, IE 10+, Opera 12+ or Safari 6+.":0===this.counter.running?"You added ".concat(this.counter.announce," file(s) to the queue. Add more files or click 'Start' to proceed."):"Please wait...".concat(this.counter.announce," out of ").concat(this.counter.running," remaining."),this.$(".upload-top-info").html(e);var t=0===this.counter.running&&this.counter.announce+this.counter.success+this.counter.error>0,n=0===this.counter.running&&this.counter.announce>0,i=0===this.counter.running,r=this.counter.announce+this.counter.success+this.counter.error>0;this.btnReset[t?"enable":"disable"](),this.btnStart[n?"enable":"disable"](),this.btnStart.$el[n?"addClass":"removeClass"]("btn-primary"),this.btnStop[this.counter.running>0?"enable":"disable"](),this.btnLocal[i?"enable":"disable"](),this.btnFtp[i?"enable":"disable"](),this.btnCreate[i?"enable":"disable"](),this.btnFtp.$el[this.ftp_upload_site?"show":"hide"](),this.$(".upload-table")[r?"show":"hide"](),this.$(".upload-helper")[r?"hide":"show"]()},_eventAnnounce:function(e,t){this.counter.announce++;var n=new d.a.Model({id:e,file_name:t.name,file_size:t.size,file_mode:t.mode||"local",file_path:t.path,file_data:t});this.render(),this.collection.add(n)},_eventProgress:function(e,t){var n=this.collection.get(e);n.set({percentage:t,status:"running",info:""}),this.ui_button.model.set("percentage",this._uploadPercentage(t,n.get("file_size")))},_eventSuccess:function(e,t){var n=Object(y.getGalaxyInstance)(),i=this.collection.get(e);i.set({percentage:100,status:"success"}),this.ui_button.model.set("percentage",this._uploadPercentage(100,i.get("file_size"))),this.upload_completed+=100*i.get("file_size"),this.counter.announce--,this.counter.success++,this.render(),n.currHistoryPanel.refreshContents()},_eventWarning:function(e,t){this.collection.get(e).set({status:"warning",info:t})},_eventError:function(e,t){var n=this.collection.get(e);n.set({percentage:100,status:"error",info:t}),this.ui_button.model.set({percentage:this._uploadPercentage(100,n.get("file_size")),status:"danger"}),this.upload_completed+=100*n.get("file_size"),this.counter.announce--,this.counter.error++,this.render()},_eventComplete:function(){this.collection.each(function(e){"queued"==e.get("status")&&e.set("status","init")}),this.counter.running=0,this.render()},_eventRemove:function(e){var t=e.get("status");"success"==t?this.counter.success--:"error"==t?this.counter.error--:this.counter.announce--,this.uploadbox.remove(e.id),this.render()},_eventFtp:function(){var e=this;this.ftp.show(new f.a({collection:this.collection,ftp_upload_site:this.ftp_upload_site,onadd:function(t){return e.uploadbox.add([{mode:"ftp",name:t.path,size:t.size,path:t.path}])},onremove:function(t){e.collection.remove(t)}}).$el)},_eventCreate:function(){this.uploadbox.add([{name:"New File",size:0,mode:"new"}])},_eventStart:function(){if(0!==this.counter.announce&&0===this.counter.running){var e=this;this.upload_size=0,this.upload_completed=0,this.collection.each(function(t){"init"==t.get("status")&&(t.set("status","queued"),e.upload_size+=t.get("file_size"))}),this.ui_button.model.set({percentage:0,status:"success"}),this.counter.running=this.counter.announce,this.history_id=this.app.currentHistory(),this._uploadFtp();var t=Object(y.getGalaxyInstance)();this.uploadbox.start({id:t.user.id,chunk_upload_size:this.app.options.chunk_upload_size}),this.render()}},_eventStop:function(){this.counter.running>0&&(this.ui_button.model.set("status","info"),r()(".upload-top-info").html("Queue will pause after completing the current file..."),this.uploadbox.stop())},_eventReset:function(){0===this.counter.running&&(this.collection.reset(),this.counter.reset(),this.uploadbox.reset(),this.select_extension.value(this.options.default_extension),this.select_genome.value(this.options.default_genome),this.ui_button.model.set("percentage",0),this.render())},_changeExtension:function(e,t){var n=this;this.collection.each(function(i){"init"!=i.get("status")||i.get("extension")!=n.options.default_extension&&t||i.set("extension",e)})},_changeGenome:function(e,t){var n=this;this.collection.each(function(i){"init"!=i.get("status")||i.get("genome")!=n.options.default_genome&&t||i.set("genome",e)})},_uploadFtp:function(){var e=this,t=[];this.collection.each(function(n){"queued"==n.get("status")&&"ftp"==n.get("file_mode")&&(e.uploadbox.remove(n.id),t.push(n))}),t.length>0&&r.a.uploadpost({data:this.app.toData(t),url:this.app.options.upload_path,success:function(n){l.a.each(t,function(t){e._eventSuccess(t.id)})},error:function(n){l.a.each(t,function(t){e._eventError(t.id,n)})}})},_uploadPercentage:function(e,t){return(this.upload_completed+e*t)/this.upload_size},_template:function(){return'<div class="upload-view-default">\n                    <div class="upload-top">\n                        <h6 class="upload-top-info"/>\n                    </div>\n                    <div class="upload-box">\n                        <div class="upload-helper">\n                            <i class="fa fa-files-o"/>Drop files here\n                        </div>\n                        <table class="upload-table ui-table-striped" style="display: none;">\n                            <thead>\n                                <tr>\n                                    <th>Name</th>\n                                    <th>Size</th>\n                                    <th>Type</th>\n                                    <th>Genome</th>\n                                    <th>Settings</th>\n                                    <th>Status</th>\n                                    <th/>\n                                </tr>\n                            </thead>\n                            <tbody/>\n                        </table>\n                    </div>\n                    <div class="upload-footer">\n                        <span class="upload-footer-title">Type (set all):</span>\n                        <span class="upload-footer-extension"/>\n                        <span class="upload-footer-extension-info upload-icon-button fa fa-search"/>\n                        <span class="upload-footer-title">Genome (set all):</span>\n                        <span class="upload-footer-genome"/>\n                    </div>\n                    <div class="upload-buttons"/>\n                </div>'}})},function(e,t,n){"use strict";(function(e,i,r){var o=n(1),a=n.n(o),s=n(6),l=(n(82),n(389)),c=n(51),u=n(354),d=n(17);t.a=e.View.extend({status_classes:{init:"upload-icon-button fa fa-trash-o",queued:"upload-icon fa fa-spinner fa-spin",running:"upload-icon fa fa-spinner fa-spin",warning:"upload-icon fa fa-spinner fa-spin",success:"upload-icon-button fa fa-check",error:"upload-icon-button fa fa-exclamation-triangle"},initialize:function(e,t){var n=this,o=this;this.app=e,this.list_extensions=e.list_extensions,this.model=t.model,this.setElement(this._template(t.model)),this.$mode=this.$(".upload-mode"),this.$title=this.$(".upload-title"),this.$text=this.$(".upload-text"),this.$size=this.$(".upload-size"),this.$info_text=this.$(".upload-info-text"),this.$info_progress=this.$(".upload-info-progress"),this.$text_content=this.$(".upload-text-content"),this.$settings=this.$(".upload-settings"),this.$symbol=this.$(".upload-symbol"),this.$progress_bar=this.$(".upload-progress-bar"),this.$percentage=this.$(".upload-percentage"),this.settings=new c.a({title:a()("Upload configuration"),container:this.$(".upload-settings"),placement:"bottom"});var s=this.app.select_genome.value(),l=this.app.select_extension.value();this.select_genome=new d.a.View({css:"upload-genome",data:o.app.list_genomes,container:this.$(".upload-genome"),value:s,onchange:function(e){o.model.set("genome",e)}}),this.select_extension=new d.a.View({css:"upload-extension",data:i.filter(this.list_extensions,function(e){return!e.composite_files}),container:this.$(".upload-extension"),value:l,onchange:function(e){o.model.set("extension",e)}}),this.model.set({genome:s,extension:l}),this.$symbol.on("click",function(){o._removeRow()}),this.$(".upload-extension-info").on("click",function(e){var t=n.upload_extension;t?t.extension_popup.visible?t.extension_popup.hide():(t.extension_popup.remove(),n._makeUploadExtensionsPopover(e)):n._makeUploadExtensionsPopover(e)}).on("mousedown",function(e){e.preventDefault()}),this.$settings.on("click",function(e){o._showSettings()}).on("mousedown",function(e){e.preventDefault()}),this.$text_content.on("change input",function(e){o.model.set({url_paste:r(e.target).val(),file_size:r(e.target).val().length})}),this.$title.on("change input",function(e){o.model.set({file_name:r(e.target).val()})}),this.listenTo(this.model,"change:percentage",function(){o._refreshPercentage()}),this.listenTo(this.model,"change:status",function(){o._refreshStatus()}),this.listenTo(this.model,"change:info",function(){o._refreshInfo()}),this.listenTo(this.model,"change:genome",function(){o._refreshGenome()}),this.listenTo(this.model,"change:extension",function(){o._refreshExtension()}),this.listenTo(this.model,"change:file_size",function(){o._refreshFileSize()})},render:function(){this._refreshType(),this._refreshPercentage(),this._refreshStatus(),this._refreshInfo(),this._refreshGenome(),this._refreshExtension(),this._refreshFileSize()},remove:function(){this.select_genome.remove(),this.select_extension.remove(),e.View.prototype.remove.apply(this)},_refreshType:function(){var e=this.model.attributes;this.$title.val(i.escape(e.file_name)),this.$size.html(s.a.bytesToString(e.file_size)),this.$mode.removeClass().addClass("upload-mode").addClass("text-primary"),"new"==e.file_mode?(this.$text.css({width:"".concat(this.$el.width()-16,"px"),top:"".concat(this.$el.height()-8,"px")}).show(),this.$el.height(this.$el.height()-8+this.$text.height()+16),this.$mode.addClass("fa fa-edit")):"local"==e.file_mode?this.$mode.addClass("fa fa-laptop"):"ftp"==e.file_mode&&this.$mode.addClass("fa fa-folder-open-o")},_refreshExtension:function(){this.select_extension.value(this.model.get("extension"))},_refreshGenome:function(){this.select_genome.value(this.model.get("genome"))},_refreshInfo:function(){var e=this.model.get("info");e?this.$info_text.html("<strong>Warning: </strong>".concat(e)).show():this.$info_text.hide()},_refreshPercentage:function(){var e=parseInt(this.model.get("percentage"));this.$progress_bar.css({width:"".concat(e,"%")}),this.$percentage.html(100!=e?"".concat(e,"%"):"Adding to history...")},_refreshStatus:function(){var e=this.model.get("status");this.$symbol.removeClass().addClass("upload-symbol").addClass(this.status_classes[e]),this.model.set("enabled","init"==e);var t=this.model.get("enabled");this.$text_content.attr("disabled",!t),this.$title.attr("disabled",!t),t?(this.select_genome.enable(),this.select_extension.enable()):(this.select_genome.disable(),this.select_extension.disable()),this.$info_progress.show(),this.$el.removeClass().addClass("upload-row"),"success"==e?(this.$el.addClass("table-success"),this.$percentage.html("100%")):"error"==e?(this.$el.addClass("table-danger"),this.$info_progress.hide()):"warning"==e&&(this.$el.addClass("table-warning"),this.$info_progress.hide())},_refreshFileSize:function(){this.$size.html(s.a.bytesToString(this.model.get("file_size")))},_removeRow:function(){-1!==["init","success","error"].indexOf(this.model.get("status"))&&this.app.collection.remove(this.model)},_showSettings:function(){this.settings.show(new l.a(this).$el)},_makeUploadExtensionsPopover:function(e){this.upload_extension=new u.a({$el:r(e.target),title:this.select_extension.text(),extension:this.select_extension.value(),list:this.list_extensions})},_template:function(e){return'<tr id="upload-row-'.concat(e.id,'" class="upload-row">\n                    <td>\n                        <div class="upload-text-column">\n                            <div class="upload-mode"/>\n                            <input class="upload-title ml-2 border rounded"/>\n                            <div class="upload-text">\n                                <div class="upload-text-info">\n                                    You can tell Galaxy to download data from web by entering URL in this box (one per line). You can also directly paste the contents of a file.\n                                </div>\n                                <textarea class="upload-text-content form-control"/>\n                            </div>\n                        </div>\n                    </td>\n                    <td>\n                        <div class="upload-size"/>\n                    </td>\n                    <td>\n                        <div class="upload-extension float-left mr-1"/>\n                        <div class="upload-extension-info upload-icon-button fa fa-search"/>\n                    </td>\n                    <td>\n                        <div class="upload-genome"/>\n                    </td>\n                    <td>\n                        <div class="upload-settings upload-icon-button fa fa-gear"/>\n                    </td>\n                    <td>\n                        <div class="upload-info">\n                            <div class="upload-info-text"/>\n                            <div class="upload-info-progress progress">\n                                <div class="upload-progress-bar progress-bar progress-bar-success"/>\n                                <div class="upload-percentage">0%</div>\n                            </div>\n                        </div>\n                    </td>\n                    <td>\n                        <div class="upload-symbol ').concat(this.status_classes.init,'"/>\n                    </td>\n                </tr>')}})}).call(this,n(3),n(2),n(0))},function(e,t,n){"use strict";(function(e,n,i){t.a=e.View.extend({initialize:function(e){this.$container=e.$container,this.collection=e.collection,this.new_content=e.new_content,this.max=e.max||50,this.content_list={},this.$message=n("<div/>").addClass("ui-limitloader").append("...only the first ".concat(this.max," entries are visible.")).hide(),this.$container.append(this.$message),this.listenTo(this.collection,"reset",this._reset,this),this.listenTo(this.collection,"add",this._refresh,this),this.listenTo(this.collection,"remove",this._remove,this)},_done:function(){var e=i.size(this.content_list)>this.max;return this.$message[e?"show":"hide"](),e},_reset:function(){i.each(this.content_list,function(e){e.remove()}),this.content_list={},this.$message.hide()},_remove:function(e){var t=e.id,n=this.content_list[t];n&&(n.remove(),delete this.content_list[t]),this._refresh()},_refresh:function(){if(!this._done())for(var e in this.collection.models){var t=this.collection.models[e];this.content_list[t.id];if(!this.content_list[t.id]){var n=this.new_content(t);if(this.content_list[t.id]=n,this._done())break}}}})}).call(this,n(3),n(0),n(2))},function(e,t,n){"use strict";(function(e,i,r,o){var a=n(1),s=n.n(a),l=(n(6),n(82)),c=n(612),u=n(354),d=n(17),h=n(11);t.a=e.View.extend({collection:new l.a.Collection,initialize:function(e){var t=this;this.app=e,this.options=e.options,this.list_extensions=e.list_extensions,this.list_genomes=e.list_genomes,this.ftp_upload_site=e.currentFtp(),this.setElement(this._template()),this.btnStart=new h.a.Button({title:s()("Start"),onclick:function(){t._eventStart()}}),this.btnClose=new h.a.Button({title:s()("Close"),onclick:function(){t.app.modal.hide()}}),i.each([this.btnStart,this.btnClose],function(e){t.$(".upload-buttons").prepend(e.$el)}),this.select_extension=new d.a.View({css:"upload-footer-selection",container:this.$(".upload-footer-extension"),data:i.filter(this.list_extensions,function(e){return e.composite_files}),onchange:function(e){t.collection.reset();var n=i.findWhere(t.list_extensions,{id:e});n&&n.composite_files&&i.each(n.composite_files,function(e){t.collection.add({id:t.collection.size(),file_desc:e.description||e.name})})}}),this.$(".upload-footer-extension-info").on("click",function(e){new u.a({$el:r(e.target),title:t.select_extension.text(),extension:t.select_extension.value(),list:t.list_extensions,placement:"top"})}).on("mousedown",function(e){e.preventDefault()}),this.select_genome=new d.a.View({css:"upload-footer-selection",container:this.$(".upload-footer-genome"),data:this.list_genomes,value:this.options.default_genome}),this.listenTo(this.collection,"add",function(e){t._eventAnnounce(e)}),this.listenTo(this.collection,"change add",function(){t.render()}),this.select_extension.options.onchange(this.select_extension.value()),this.render()},render:function(){var e=this.collection.first();e&&"running"==e.get("status")?(this.select_genome.disable(),this.select_extension.disable()):(this.select_genome.enable(),this.select_extension.enable()),this.collection.where({status:"ready"}).length==this.collection.length&&this.collection.length>0?(this.btnStart.enable(),this.btnStart.$el.addClass("btn-primary")):(this.btnStart.disable(),this.btnStart.$el.removeClass("btn-primary")),this.$(".upload-table")[this.collection.length>0?"show":"hide"]()},_eventAnnounce:function(e){var t=new c.a(this,{model:e});this.$(".upload-table > tbody:first").append(t.$el),this.$(".upload-table")[this.collection.length>0?"show":"hide"](),t.render()},_eventStart:function(){var e=this;this.collection.each(function(t){t.set({genome:e.select_genome.value(),extension:e.select_extension.value()})}),r.uploadpost({url:this.app.options.upload_path,data:this.app.toData(this.collection.filter()),success:function(t){e._eventSuccess(t)},error:function(t){e._eventError(t)},progress:function(t){e._eventProgress(t)}})},_eventProgress:function(e){this.collection.each(function(t){t.set("percentage",e)})},_eventSuccess:function(e){this.collection.each(function(e){e.set("status","success")}),o.currHistoryPanel.refreshContents()},_eventError:function(e){this.collection.each(function(t){t.set({status:"error",info:e})})},_template:function(){return'<div class="upload-view-composite"><div class="upload-top"><h6 class="upload-top-info"/></div><div class="upload-box"><table class="upload-table ui-table-striped" style="display: none;"><thead><tr><th/><th/><th>Description</th><th>Name</th><th>Size</th><th>Settings</th><th>Status</th></tr></thead><tbody/></table></div><div class="upload-footer"><span class="upload-footer-title">Composite Type:</span><span class="upload-footer-extension"/><span class="upload-footer-extension-info upload-icon-button fa fa-search"/> <span class="upload-footer-title">Genome/Build:</span><span class="upload-footer-genome"/></div><div class="upload-buttons"/></div>'}})}).call(this,n(3),n(2),n(0),n(5).monitor)},function(e,t,n){"use strict";(function(e,i,r){var o=n(1),a=n.n(o),s=n(6),l=n(389),c=n(390),u=n(51),d=n(11);n(17),n(506);t.a=e.View.extend({status_classes:{init:"upload-mode fa fa-exclamation text-primary",ready:"upload-mode fa fa-check text-success",running:"upload-mode fa fa-spinner fa-spin",success:"upload-mode fa fa-check",error:"upload-mode fa fa-exclamation-triangle"},initialize:function(e,t){var n=this;this.app=e,this.model=t.model,this.setElement(this._template()),this.$source=this.$(".upload-source"),this.$settings=this.$(".upload-settings"),this.$status=this.$(".upload-status"),this.$text=this.$(".upload-text"),this.$text_content=this.$(".upload-text-content"),this.$info_text=this.$(".upload-info-text"),this.$info_progress=this.$(".upload-info-progress"),this.$file_name=this.$(".upload-file-name"),this.$file_desc=this.$(".upload-file-desc"),this.$file_size=this.$(".upload-file-size"),this.$progress_bar=this.$(".upload-progress-bar"),this.$percentage=this.$(".upload-percentage"),this.uploadinput=this.$el.uploadinput({ondragover:function(){n.model.get("enabled")&&n.$el.addClass("alert-success")},ondragleave:function(){n.$el.removeClass("alert-success")},onchange:function(e){"running"!=n.model.get("status")&&e&&e.length>0&&(n.model.reset({file_data:e[0],file_name:e[0].name,file_size:e[0].size,file_mode:e[0].mode||"local"}),n._refreshReady())}}),this.button_menu=new d.a.ButtonMenu({icon:"fa-caret-down",title:a()("Select"),pull:"left"}),this.$source.append(this.button_menu.$el),this.button_menu.addMenu({icon:"fa-laptop",title:a()("Choose local file"),onclick:function(){n.uploadinput.dialog()}}),this.app.ftp_upload_site&&this.button_menu.addMenu({icon:"fa-folder-open-o",title:a()("Choose FTP file"),onclick:function(){n._showFtp()}}),this.button_menu.addMenu({icon:"fa-edit",title:"Paste/Fetch data",onclick:function(){n.model.reset({file_mode:"new",file_name:"New File"})}}),this.ftp=new u.a({title:"Select a file",container:this.$source.find(".dropdown"),placement:"right"}),this.settings=new u.a({title:a()("Upload configuration"),container:this.$settings,placement:"bottom"}),this.$text_content.on("change input",function(e){n.model.set({url_paste:i(e.target).val(),file_size:i(e.target).val().length}),n._refreshReady()}),this.$settings.on("click",function(e){n._showSettings()}).on("mousedown",function(e){e.preventDefault()}),this.listenTo(this.model,"change:percentage",function(){n._refreshPercentage()}),this.listenTo(this.model,"change:status",function(){n._refreshStatus()}),this.listenTo(this.model,"change:info",function(){n._refreshInfo()}),this.listenTo(this.model,"change:file_name",function(){n._refreshFileName()}),this.listenTo(this.model,"change:file_mode",function(){n._refreshMode()}),this.listenTo(this.model,"change:file_size",function(){n._refreshFileSize()}),this.listenTo(this.model,"remove",function(){n.remove()}),this.app.collection.on("reset",function(){n.remove()})},render:function(){this.$el.attr("id","upload-row-".concat(this.model.id)),this.$file_name.html(r.escape(this.model.get("file_name")||"-")),this.$file_desc.html(this.model.get("file_desc")||"Unavailable"),this.$file_size.html(s.a.bytesToString(this.model.get("file_size"))),this.$status.removeClass().addClass(this.status_classes.init)},remove:function(){e.View.prototype.remove.apply(this)},_refreshReady:function(){this.app.collection.each(function(e){e.set("status",e.get("file_size")>0?"ready":"init")})},_refreshMode:function(){"new"==this.model.get("file_mode")?(this.height=this.$el.height(),this.$text.css({width:"".concat(this.$el.width()-16,"px"),top:"".concat(this.$el.height()-8,"px")}).show(),this.$el.height(this.$el.height()-8+this.$text.height()+16),this.$text_content.val("").trigger("keyup")):(this.$el.height(this.height),this.$text.hide())},_refreshInfo:function(){var e=this.model.get("info");e?this.$info_text.html("<strong>Failed: </strong>".concat(e)).show():this.$info_text.hide()},_refreshPercentage:function(){var e=parseInt(this.model.get("percentage"));0!=e?this.$progress_bar.css({width:"".concat(e,"%")}):(this.$progress_bar.addClass("no-transition"),this.$progress_bar.css({width:"0%"}),this.$progress_bar[0].offsetHeight,this.$progress_bar.removeClass("no-transition")),this.$percentage.html(100!=e?"".concat(e,"%"):"Adding to history...")},_refreshStatus:function(){var e=this.model.get("status");this.$status.removeClass().addClass(this.status_classes[e]),this.model.set("enabled","running"!=e),this.$text_content.attr("disabled",!this.model.get("enabled")),this.$el.removeClass("table-success table-danger table-warning"),"running"!=e&&"ready"!=e||this.model.set("percentage",0),this.$source.find(".button")["running"==e?"addClass":"removeClass"]("disabled"),"success"==e&&(this.$el.addClass("table-success"),this.model.set("percentage",100),this.$percentage.html("100%")),"error"==e?(this.$el.addClass("table-danger"),this.model.set("percentage",0),this.$info_progress.hide(),this.$info_text.show()):(this.$info_progress.show(),this.$info_text.hide())},_refreshFileName:function(){this.$file_name.html(this.model.get("file_name")||"-")},_refreshFileSize:function(){this.$file_size.html(s.a.bytesToString(this.model.get("file_size")))},_showFtp:function(){var e=this;this.ftp.show(new c.a({ftp_upload_site:this.app.ftp_upload_site,onchange:function(t){e.ftp.hide(),"running"!=e.model.get("status")&&t&&(e.model.reset({file_mode:"ftp",file_name:t.path,file_size:t.size,file_path:t.path}),e._refreshReady())}}).$el)},_showSettings:function(){this.settings.show(new l.a(this).$el)},_template:function(){return'<tr class="upload-row"><td><div class="upload-source"/><div class="upload-text-column"><div class="upload-text"><div class="upload-text-info">You can tell Galaxy to download data from web by entering URL in this box (one per line). You can also directly paste the contents of a file.</div><textarea class="upload-text-content form-control"/></div></div></td><td><div class="upload-status"/></td><td><div class="upload-file-desc upload-title"/></td><td><div class="upload-file-name upload-title"/></td><td><div class="upload-file-size upload-size"/></td><td><div class="upload-settings upload-icon-button fa fa-gear"/></td><td><div class="upload-info"><div class="upload-info-text"/><div class="upload-info-progress progress"><div class="upload-progress-bar progress-bar progress-bar-success"/><div class="upload-percentage">0%</div></div></div></td></tr>'}})}).call(this,n(3),n(0),n(2))},function(e,t,n){"use strict";(function(e,i,r,o){var a=n(1),s=n.n(a),l=(n(6),n(82)),c=n(614),u=n(390),d=n(354),h=n(51),f=n(17),p=n(11);n(53),n(506);t.a=e.View.extend({upload_size:0,collection:new l.a.Collection,counter:{announce:0,success:0,error:0,running:0,reset:function(){this.announce=this.success=this.error=this.running=0}},initialize:function(e){var t=this;this.app=e,this.options=e.options,this.list_extensions=e.list_extensions,this.list_genomes=e.list_genomes,this.ui_button=e.ui_button,this.ftp_upload_site=e.currentFtp(),this.setElement(this._template()),this.btnLocal=new p.a.Button({id:"btn-local",title:s()("Choose local files"),onclick:function(){t.uploadbox.select()},icon:"fa fa-laptop"}),this.btnFtp=new p.a.Button({id:"btn-ftp",title:s()("Choose FTP files"),onclick:function(){t._eventFtp()},icon:"fa fa-folder-open-o"}),this.btnCreate=new p.a.Button({id:"btn-new",title:"Paste/Fetch data",onclick:function(){t._eventCreate()},icon:"fa fa-edit"}),this.btnStart=new p.a.Button({id:"btn-start",title:s()("Start"),onclick:function(){t._eventStart()}}),this.btnBuild=new p.a.Button({id:"btn-build",title:s()("Build"),onclick:function(){t._eventBuild()}}),this.btnStop=new p.a.Button({id:"btn-stop",title:s()("Pause"),onclick:function(){t._eventStop()}}),this.btnReset=new p.a.Button({id:"btn-reset",title:s()("Reset"),onclick:function(){t._eventReset()}}),this.btnClose=new p.a.Button({id:"btn-close",title:s()("Close"),onclick:function(){t.app.modal.hide()}}),i.each([this.btnLocal,this.btnFtp,this.btnCreate,this.btnStop,this.btnReset,this.btnStart,this.btnBuild,this.btnClose],function(e){t.$(".upload-buttons").prepend(e.$el)}),this.uploadbox=this.$(".upload-box").uploadbox({url:this.app.options.upload_path,announce:function(e,n){t._eventAnnounce(e,n)},initialize:function(e){return t.app.toData([t.collection.get(e)],t.history_id)},progress:function(e,n){t._eventProgress(e,n)},success:function(e,n){t._eventSuccess(e,n)},error:function(e,n){t._eventError(e,n)},complete:function(){t._eventComplete()},ondragover:function(){t.$(".upload-box").addClass("highlight")},ondragleave:function(){t.$(".upload-box").removeClass("highlight")}}),this.ftp=new h.a({title:s()("FTP files"),container:this.btnFtp.$el}),this.select_extension=new f.a.View({css:"upload-footer-selection-compressed",container:this.$(".upload-footer-extension"),data:i.filter(this.list_extensions,function(e){return!e.composite_files}),value:this.options.default_extension,onchange:function(e){t.updateExtension(e)}}),this.collectionType="list",this.select_collection=new f.a.View({css:"upload-footer-selection-compressed",container:this.$(".upload-footer-collection-type"),data:[{id:"list",text:"List"},{id:"paired",text:"Paired"},{id:"list:paired",text:"List of Pairs"}],value:"list",onchange:function(e){t.updateCollectionType(e)}}),this.$(".upload-footer-extension-info").on("click",function(e){new d.a({$el:r(e.target),title:t.select_extension.text(),extension:t.select_extension.value(),list:t.list_extensions,placement:"top"})}).on("mousedown",function(e){e.preventDefault()}),this.select_genome=new f.a.View({css:"upload-footer-selection",container:this.$(".upload-footer-genome"),data:this.list_genomes,value:this.options.default_genome,onchange:function(e){t.updateGenome(e)}}),this.collection.on("remove",function(e){t._eventRemove(e)}),this._updateScreen()},_eventAnnounce:function(e,t){this.counter.announce++;var n=new l.a.Model({id:e,file_name:t.name,file_size:t.size,file_mode:t.mode||"local",file_path:t.path,file_data:t,extension:this.select_extension.value(),genome:this.select_genome.value()});this.collection.add(n);var i=new c.a(this,{model:n});this.$(".upload-table > tbody:first").append(i.$el),this._updateScreen(),i.render()},_eventProgress:function(e,t){var n=this.collection.get(e);n.set("percentage",t),this.ui_button.model.set("percentage",this._uploadPercentage(t,n.get("file_size")))},_eventSuccess:function(e,t){var n=i.pluck(t.outputs,"hid"),r=this.collection.get(e);r.set({percentage:100,status:"success",hids:n}),this.ui_button.model.set("percentage",this._uploadPercentage(100,r.get("file_size"))),this.upload_completed+=100*r.get("file_size"),this.counter.announce--,this.counter.success++,this._updateScreen(),o.currHistoryPanel.refreshContents()},_eventError:function(e,t){var n=this.collection.get(e);n.set({percentage:100,status:"error",info:t}),this.ui_button.model.set({percentage:this._uploadPercentage(100,n.get("file_size")),status:"danger"}),this.upload_completed+=100*n.get("file_size"),this.counter.announce--,this.counter.error++,this._updateScreen()},_eventComplete:function(){this.collection.each(function(e){"queued"==e.get("status")&&e.set("status","init")}),this.counter.running=0,this._updateScreen()},_eventBuild:function(){var e=[];i.forEach(this.collection.models,function(t){e.push.apply(e,t.get("hids"))});var t=i.map(e,function(e){return o.currHistoryPanel.collection.getByHid(e)}),n=new o.currHistoryPanel.collection.constructor(t);n.historyId=o.currHistoryPanel.collection.historyId,o.currHistoryPanel.buildCollection(this.collectionType,n,!0),this.counter.running=0,this._updateScreen(),this._eventReset(),this.app.modal.hide()},_eventRemove:function(e){var t=e.get("status");"success"==t?this.counter.success--:"error"==t?this.counter.error--:this.counter.announce--,this.uploadbox.remove(e.id),this._updateScreen()},_eventFtp:function(){var e=this;this.ftp.show(new u.a({collection:this.collection,ftp_upload_site:this.ftp_upload_site,onadd:function(t){return e.uploadbox.add([{mode:"ftp",name:t.path,size:t.size,path:t.path}])},onremove:function(t){e.collection.remove(t)}}).$el)},_eventCreate:function(){this.uploadbox.add([{name:"New File",size:0,mode:"new"}])},_eventStart:function(){if(!(0==this.counter.announce||this.counter.running>0)){var e=this;this.upload_size=0,this.upload_completed=0,this.collection.each(function(t){"init"==t.get("status")&&(t.set("status","queued"),e.upload_size+=t.get("file_size"))}),this.ui_button.model.set({percentage:0,status:"success"}),this.counter.running=this.counter.announce,this.history_id=this.app.currentHistory(),this.uploadbox.start(),this._updateScreen()}},_eventStop:function(){this.counter.running>0&&(this.ui_button.model.set("status","info"),r(".upload-top-info").html("Queue will pause after completing the current file..."),this.uploadbox.stop())},_eventReset:function(){0==this.counter.running&&(this.collection.reset(),this.counter.reset(),this.uploadbox.reset(),this.select_extension.value(this.options.default_extension),this.select_genome.value(this.options.default_genome),this.ui_button.model.set("percentage",0),this._updateScreen())},updateExtension:function(e,t){var n=this;this.collection.each(function(i){"init"!=i.get("status")||i.get("extension")!=n.options.default_extension&&t||i.set("extension",e)})},updateCollectionType:function(e){this.collectionType=e},updateGenome:function(e,t){var n=this;this.collection.each(function(i){"init"!=i.get("status")||i.get("genome")!=n.options.default_genome&&t||i.set("genome",e)})},_updateScreen:function(){var e="";e=0==this.counter.announce?this.uploadbox.compatible()?"&nbsp;":"Browser does not support Drag & Drop. Try Firefox 4+, Chrome 7+, IE 10+, Opera 12+ or Safari 6+.":0==this.counter.running?"You added ".concat(this.counter.announce," file(s) to the queue. Add more files or click 'Start' to proceed."):"Please wait...".concat(this.counter.announce," out of ").concat(this.counter.running," remaining."),this.$(".upload-top-info").html(e);var t=0==this.counter.running&&this.counter.announce+this.counter.success+this.counter.error>0,n=0==this.counter.running&&this.counter.announce>0,i=0==this.counter.running&&0==this.counter.announce&&this.counter.success>0&&0==this.counter.error,r=0==this.counter.running,o=this.counter.announce+this.counter.success+this.counter.error>0;this.btnReset[t?"enable":"disable"](),this.btnStart[n?"enable":"disable"](),this.btnStart.$el[n?"addClass":"removeClass"]("btn-primary"),this.btnBuild[i?"enable":"disable"](),this.btnBuild.$el[i?"addClass":"removeClass"]("btn-primary"),this.btnStop[this.counter.running>0?"enable":"disable"](),this.btnLocal[r?"enable":"disable"](),this.btnFtp[r?"enable":"disable"](),this.btnCreate[r?"enable":"disable"](),this.btnFtp.$el[this.ftp_upload_site?"show":"hide"](),this.$(".upload-table")[o?"show":"hide"](),this.$(".upload-helper")[o?"hide":"show"]()},_uploadPercentage:function(e,t){return(this.upload_completed+e*t)/this.upload_size},_template:function(){return'<div class="upload-view-default"><div class="upload-top"><h6 class="upload-top-info"/></div><div class="upload-box"><div class="upload-helper"><i class="fa fa-files-o"/>Drop files here</div><table class="upload-table ui-table-striped" style="display: none;"><thead><tr><th>Name</th><th>Size</th><th>Status</th><th/></tr></thead><tbody/></table></div><div class="upload-footer"><span class="upload-footer-title-compressed">Collection Type:</span><span class="upload-footer-collection-type"/><span class="upload-footer-title-compressed">File Type:</span><span class="upload-footer-extension"/><span class="upload-footer-extension-info upload-icon-button fa fa-search"/> <span class="upload-footer-title-compressed">Genome (set all):</span><span class="upload-footer-genome"/></div><div class="upload-buttons"/></div>'}})}).call(this,n(3),n(2),n(0),n(5).monitor)},function(e,t,n){"use strict";(function(e,i,r){var o=n(1),a=n.n(o),s=n(6),l=(n(82),n(389)),c=n(51);n(17);t.a=e.View.extend({status_classes:{init:"upload-icon-button fa fa-trash-o",queued:"upload-icon fa fa-spinner fa-spin",running:"upload-icon fa fa-spinner fa-spin",success:"upload-icon-button fa fa-check",error:"upload-icon-button fa fa-exclamation-triangle"},initialize:function(e,t){var n=this;this.app=e,this.model=t.model,this.setElement(this._template(t.model)),this.$mode=this.$(".upload-mode"),this.$title=this.$(".upload-title-extended"),this.$text=this.$(".upload-text"),this.$size=this.$(".upload-size"),this.$info_text=this.$(".upload-info-text"),this.$info_progress=this.$(".upload-info-progress"),this.$text_content=this.$(".upload-text-content"),this.$symbol=this.$(".upload-symbol"),this.$progress_bar=this.$(".upload-progress-bar"),this.$percentage=this.$(".upload-percentage"),this.settings=new c.a({title:a()("Upload configuration"),container:this.$(".upload-settings"),placement:"bottom"});this.app.select_genome.value(),this.app.select_extension.value();this.$symbol.on("click",function(){n._removeRow()}),this.$text_content.on("change input",function(e){n.model.set({url_paste:i(e.target).val(),file_size:i(e.target).val().length})}),this.listenTo(this.model,"change:percentage",function(){n._refreshPercentage()}),this.listenTo(this.model,"change:status",function(){n._refreshStatus()}),this.listenTo(this.model,"change:info",function(){n._refreshInfo()}),this.listenTo(this.model,"change:file_size",function(){n._refreshFileSize()}),this.listenTo(this.model,"remove",function(){n.remove()}),this.app.collection.on("reset",function(){n.remove()})},render:function(){var e=this.model.attributes;this.$title.html(r.escape(e.file_name)),this.$size.html(s.a.bytesToString(e.file_size)),this.$mode.removeClass().addClass("upload-mode").addClass("text-primary"),"new"==e.file_mode?(this.$text.css({width:"".concat(this.$el.width()-16,"px"),top:"".concat(this.$el.height()-8,"px")}).show(),this.$el.height(this.$el.height()-8+this.$text.height()+16),this.$mode.addClass("fa fa-edit")):"local"==e.file_mode?this.$mode.addClass("fa fa-laptop"):"ftp"==e.file_mode&&this.$mode.addClass("fa fa-folder-open-o")},_refreshInfo:function(){var e=this.model.get("info");e?this.$info_text.html("<strong>Failed: </strong>".concat(e)).show():this.$info_text.hide()},_refreshPercentage:function(){var e=parseInt(this.model.get("percentage"));this.$progress_bar.css({width:"".concat(e,"%")}),this.$percentage.html(100!=e?"".concat(e,"%"):"Adding to history...")},_refreshStatus:function(){var e=this.model.get("status");this.$symbol.removeClass().addClass("upload-symbol").addClass(this.status_classes[e]),this.model.set("enabled","init"==e);var t=this.model.get("enabled");this.$text_content.attr("disabled",!t),"success"==e&&(this.$el.addClass("table-success"),this.$percentage.html("100%")),"error"==e&&(this.$el.addClass("table-danger"),this.$info_progress.hide())},_refreshFileSize:function(){this.$size.html(s.a.bytesToString(this.model.get("file_size")))},_removeRow:function(){-1!==["init","success","error"].indexOf(this.model.get("status"))&&this.app.collection.remove(this.model)},_showSettings:function(){this.settings.show(new l.a(this).$el)},_template:function(e){return'<tr id="upload-row-'.concat(e.id,'" class="upload-row"><td><div class="upload-text-column"><div class="upload-mode"/><div class="upload-title-extended"/><div class="upload-text"><div class="upload-text-info">You can tell Galaxy to download data from web by entering URL in this box (one per line). You can also directly paste the contents of a file.</div><textarea class="upload-text-content form-control"/></div></div></td><td><div class="upload-size"/></td><td><div class="upload-info"><div class="upload-info-text"/><div class="upload-info-progress progress"><div class="upload-progress-bar progress-bar progress-bar-success"/><div class="upload-percentage">0%</div></div></div></td><td><div class="upload-symbol ').concat(this.status_classes.init,'"/></td></tr>')}})}).call(this,n(3),n(0),n(2))},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(3),a=n.n(o),s=n(4),l=n(5),c=n(1),u=n.n(c),d=n(11),h=n(17),f=n(38),p=n(15),m=n.n(p);t.a=a.a.View.extend({initialize:function(e){var t=this;this.app=e,this.options=e.options,this.ftpFiles=[],this.ftpUploadSite=e.currentFtp(),this.setElement(this._template()),this.btnBuild=new d.a.Button({id:"btn-build",title:u()("Build"),onclick:function(){t._eventBuild()}}),this.btnBuild.$el.addClass("btn-primary"),this.btnReset=new d.a.Button({id:"btn-reset",title:u()("Reset"),onclick:function(){return t._eventReset()}}),this.btnClose=new d.a.Button({id:"btn-close",title:u()("Close"),onclick:function(){return t.app.modal.hide()}}),r.a.each([this.btnReset,this.btnBuild,this.btnClose],function(e){t.$(".upload-buttons").prepend(e.$el)});this.dataType="datasets",this.dataTypeView=new h.a.View({css:"upload-footer-selection",container:this.$(".rule-data-type"),data:[{id:"datasets",text:"Datasets"},{id:"collections",text:"Collection(s)"}],value:this.dataType,onchange:function(e){t.dataType=e}});var n=[{id:"paste",text:"Pasted Table"},{id:"dataset",text:"History Dataset"}];this.ftpUploadSite&&n.push({id:"ftp",text:"FTP Directory"}),this.selectionType="paste",this.selectionTypeView=new h.a.View({css:"upload-footer-selection",container:this.$(".rule-select-type"),data:n,value:this.selectionType,onchange:function(e){t.selectionType=e,t._renderSelectedType()}}),this.selectedDatasetId=null,this.$sourceContent=this.$(".upload-rule-source-content"),this.$sourceContent.on("change keyup paste",function(){t._updateBuildState()}),this._renderSelectedType()},_renderSelectedType:function(){var e=this,t=this.selectionType,n=Object(l.getGalaxyInstance)();if("dataset"==t)if(this.datasetSelectorView)this.datasetSelectorView.value(null);else{this.selectedDatasetId=null;var i=(n&&n.currHistoryPanel&&n.currHistoryPanel.model).contents.models,o=[],a=!0,s=!1,c=void 0;try{for(var d,p=i[Symbol.iterator]();!(a=(d=p.next()).done);a=!0){var m=d.value.attributes;"dataset"===m.history_content_type&&o.push({id:m.id,text:"".concat(m.hid,": ").concat(r.a.escape(m.name))})}}catch(e){s=!0,c=e}finally{try{a||null==p.return||p.return()}finally{if(s)throw c}}this.datasetSelectorView=new h.a.View({container:this.$(".dataset-selector"),data:o,placeholder:u()("Select a dataset"),onchange:function(t){e._onDataset(t)}})}else"ftp"==t&&f.a.getRemoteFiles(function(t){e._setPreview(t.map(function(e){return e.path}).join("\n")),e.ftpFiles=t});this._updateScreen()},_onDataset:function(e){var t=this,n=Object(l.getGalaxyInstance)();this.selectedDatasetId=e,e?m.a.get("".concat(Object(s.a)(),"api/histories/").concat(n.currHistoryPanel.model.id,"/contents/").concat(e,"/display")).then(function(e){t._setPreview(e.data)}).catch(function(e){return console.log(e)}):this._setPreview("")},_eventReset:function(){this.datasetSelectorView&&this.datasetSelectorView.value(null),this.$sourceContent.val(""),this._updateScreen()},_eventBuild:function(){var e=this.$sourceContent.val();this._buildSelection(e)},_buildSelection:function(e){var t=this.selectionType,n={},i=Object(l.getGalaxyInstance)();"dataset"==t||"paste"==t?(n.selectionType="raw",n.content=e):"ftp"==t&&(n.selectionType="ftp",n.elements=this.ftpFiles,n.ftpUploadSite=this.ftpUploadSite),n.dataType=this.dataType,i.currHistoryPanel.buildCollection("rules",n,!0),this.app.modal.hide()},_setPreview:function(e){this.$sourceContent.val(e),this._updateScreen()},_updateScreen:function(){this._updateBuildState();var e=this.selectionType;this.$("#upload-rule-dataset-option")["dataset"==e?"show":"hide"](),this.$sourceContent.attr("disabled","paste"!==e)},_updateBuildState:function(){var e=this.$sourceContent.val();this.btnBuild[e?"enable":"disable"](),this.btnBuild.$el[e?"addClass":"removeClass"]("btn-primary")},_template:function(){return'\n            <div class="upload-view-default">\n                <div class="upload-top">\n                    <h6 class="upload-top-info">\n                        Tabular source data to extract collection files and metadata from\n                    </h6>\n                </div>\n                <div class="upload-box" style="height: 335px;">\n                    <span style="width: 25%; display: inline; height: 100%" class="float-left">\n                        <div class="upload-rule-option">\n                            <div class="upload-rule-option-title">'.concat(u()("Upload data as"),':</div>\n                            <div class="rule-data-type" />\n                        </div>\n                        <div class="upload-rule-option">\n                            <div class="upload-rule-option-title">').concat(u()("Load tabular data from"),':</div>\n                            <div class="rule-select-type" />\n                        </div>\n                        <div id="upload-rule-dataset-option" class="upload-rule-option">\n                            <div class="upload-rule-option-title">').concat(u()("Select dataset to load"),':</div>\n                            <div class="dataset-selector" />\n                        </div>\n                    </span>\n                    <span style="display: inline; float: right; width: 75%; height: 300px">\n                    <textarea class="upload-rule-source-content form-control" style="height: 100%"></textarea>\n                    </span>\n                </div>\n                <div class="clear" />\n                \x3c!--\n                <div class="upload-footer">\n                </div>\n                --\x3e\n                <div class="upload-buttons"/>\n                </div>\n        ')}})},function(e,t,n){"use strict";(function(e){var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(4),l=n(5),c=n(1),u=n.n(c),d=n(387),h=n(47),f=n(69),p=[{html:u()("History Lists"),header:!0},{html:u()("Saved Histories"),href:"histories/list",target:"_top"},{html:u()("Histories Shared with Me"),href:"histories/list_shared",target:"_top"},{html:u()("Current History"),header:!0,anon:!0},{html:u()("Create New"),func:function(){var e=Object(l.getGalaxyInstance)();e&&e.currHistoryPanel&&e.currHistoryPanel.createNewHistory()}},{html:u()("Copy History"),func:function(){var e=Object(l.getGalaxyInstance)();Object(h.a)(e.currHistoryPanel.model).done(function(){e.currHistoryPanel.loadCurrentHistory()})}},{html:u()("Share or Publish"),func:function(){var e=Object(l.getGalaxyInstance)();e&&e.currHistoryPanel&&e.router&&e.router.push("/histories/sharing?id=".concat(e.currHistoryPanel.model.id))}},{html:u()("Show Structure"),anon:!0,func:function(){var e=Object(l.getGalaxyInstance)();e&&e.currHistoryPanel&&e.router&&e.router.push("/histories/show_structure")}},{html:u()("Extract Workflow"),href:"workflow/build_from_current_history"},{html:u()("Delete"),anon:!0,func:function(){var e=Object(l.getGalaxyInstance)();e&&e.currHistoryPanel&&confirm(u()("Really delete the current history?"))&&e.currHistoryPanel.model._delete().done(function(){e.currHistoryPanel.loadCurrentHistory()})}},{html:u()("Delete Permanently"),purge:!0,anon:!0,func:function(){var e=Object(l.getGalaxyInstance)();e&&e.currHistoryPanel&&confirm(u()("Really delete the current history permanently? This cannot be undone."))&&e.currHistoryPanel.model.purge().done(function(){e.currHistoryPanel.loadCurrentHistory()})}},{html:u()("Make Data Private"),anon:!0,func:function(){e&&e.currHistoryPanel&&confirm(u()("This will make all the data in this history private (excluding library datasets), and will set permissions such that all new data is created as private.  Any datasets within that are currently shared will need to be re-shared or published.  Are you sure you want to do this?"))&&a.a.post("".concat(e.root,"history/make_private"),{history_id:e.currHistoryPanel.model.id},function(){e.currHistoryPanel.loadCurrentHistory()})}},{html:u()("Dataset Actions"),header:!0,anon:!0},{html:u()("Copy Datasets"),href:"dataset/copy_datasets"},{html:u()("Dataset Security"),func:function(){var e=Object(l.getGalaxyInstance)();e&&e.currHistoryPanel&&e.router&&e.router.push("/histories/permissions?id=".concat(e.currHistoryPanel.model.id))}},{html:u()("Resume Paused Jobs"),href:"history/resume_paused_jobs?current=True",anon:!0},{html:u()("Collapse Expanded Datasets"),func:function(){var e=Object(l.getGalaxyInstance)();e&&e.currHistoryPanel&&e.currHistoryPanel.collapseAll()}},{html:u()("Unhide Hidden Datasets"),anon:!0,func:function(){var e=Object(l.getGalaxyInstance)();e&&e.currHistoryPanel&&confirm(u()("Really unhide all hidden datasets?"))&&a.a.post("".concat(Object(s.a)(),"history/adjust_hidden"),{user_action:"unhide"},function(){e.currHistoryPanel.loadCurrentHistory()})}},{html:u()("Delete Hidden Datasets"),anon:!0,func:function(){var e=Object(l.getGalaxyInstance)();e&&e.currHistoryPanel&&confirm(u()("Really delete all hidden datasets?"))&&a.a.post("".concat(Object(s.a)(),"history/adjust_hidden"),{user_action:"delete"},function(){e.currHistoryPanel.loadCurrentHistory()})}},{html:u()("Purge Deleted Datasets"),confirm:u()("Really delete all deleted datasets permanently? This cannot be undone."),href:"history/purge_deleted_datasets",purge:!0,anon:!0},{html:u()("Downloads"),header:!0},{html:u()("Export Tool Citations"),anon:!0,func:function(){var e=Object(l.getGalaxyInstance)();e&&e.currHistoryPanel&&e.router&&e.router.push("/histories/citations?id=".concat(e.currHistoryPanel.model.id))}},{html:u()("Export History to File"),href:"history/export_archive?preview=True",anon:!0},{html:u()("Other Actions"),header:!0},{html:u()("Import from File"),href:"histories/import",target:"_top"}];function m(e,t,n){return r.a.clone(p).filter(function(i){return!(e&&!i.anon)&&(!(!t&&i.purge)&&(i.href&&(i.href=n+i.href,i.target=i.target||"galaxy_main"),i.confirm&&(i.func=function(){confirm(i.confirm)&&(galaxy_main.location=i.href)}),!0))})}f.a.load({type:"history-menu",async:!1,callback:function(e){var t=[];e.each(function(e){var n=e.toJSON();n.activate&&t.push({html:u()(n.config.title),anon:!0})}),t.length>0&&(t.unshift({html:u()("Webhooks"),header:!0}),a.a.merge(p,t))}});t.a=function(e,t){var n=m(void 0===(t=t||{}).anonymous||t.anonymous,t.purgeAllowed||!1,Object(s.a)());return new d.a(e,n)}}).call(this,n(5).monitor)},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(5),d=n(1),h=n.n(d),f=n(6),p=n(11),m=n(27),g=n(385),_=n(69),v=l.a.View.extend({initialize:function(e){var t=Object(u.getGalaxyInstance)(),n=this;this.modal=t.modal||new m.a.View,this.form=new g.a(f.a.merge({listen_to_history:!0,always_refresh:!1,buildmodel:function(e,i){var r=i.model.attributes,o="",s={},l=r.job_id;l?o="".concat(Object(c.a)(),"api/jobs/").concat(l,"/build_for_rerun"):(o="".concat(Object(c.a)(),"api/tools/").concat(r.id,"/build"),(s=a.a.extend({},t.params)).tool_id&&delete s.tool_id),r.version&&(s.tool_version=r.version),f.a.get({url:o,data:s,success:function(r){r.display?(i.model.set(r),n._customize(i),t.emit.debug("tool-form-base::_buildModel()","Initial tool model ready.",r),e.resolve()):window.location=Object(c.a)()},error:function(n,o){var s=n&&n.err_msg||"Uncaught error.";401==o?window.location="".concat(Object(c.a)(),"user/login?").concat(a.a.param({redirect:"".concat(Object(c.a)(),"?tool_id=").concat(r.id)})):i.$el.is(":empty")?i.$el.prepend(new p.a.Message({message:s,status:"danger",persistent:!0}).$el):t.modal&&t.modal.show({title:h()("Tool request failed"),body:s,buttons:{Close:function(){t.modal.hide()}}}),t.emit.debug("tool-form-base::_buildModel()","Initial tool model request failed.",n),e.reject()}})},postchange:function(e,n){var i={tool_id:n.model.get("id"),tool_version:n.model.get("version"),inputs:a.a.extend(!0,{},n.data.create())};n.wait(!0),t.emit.debug("tool-form::postchange()","Sending current state.",i),f.a.request({type:"POST",url:"".concat(Object(c.a)(),"api/tools/").concat(n.model.get("id"),"/build"),data:i,success:function(i){n.update(i),n.wait(!1),t.emit.debug("tool-form::postchange()","Received new model.",i),e.resolve()},error:function(n){t.emit.debug("tool-form::postchange()","Refresh request failed.",n),e.reject()}})}},e)),this.deferred=this.form.deferred,this.setElement("<div/>"),this.$el.append(this.form.$el)},_customize:function(e){var t=this,n=e.model.attributes,i=new p.a.Button({icon:"fa-check",tooltip:"Execute: ".concat(n.name," (").concat(n.version,")"),title:h()("Execute"),cls:"btn btn-primary",wait_cls:"btn btn-info",onclick:function(){i.wait(),e.portlet.disable(),t.submit(n,function(){i.unwait(),e.portlet.enable()})}});if(n.buttons={execute:i},n.job_id&&n.job_remap){if("job_produced_collection_elements"===n.job_remap)var r="Replace elements in collection ?",o="The previous run of this tool failed. Use this option to replace the failed element(s) in the dataset collection that were produced during the previous tool run.";else r="Resume dependencies from this job ?",o="The previous run of this tool failed and other tools were waiting for it to finish successfully. Use this option to resume those tools using the new output(s) of this tool run.";n.inputs.push({label:r,name:"rerun_remap_job_id",type:"select",display:"radio",ignore:"__ignore__",value:"__ignore__",options:[["Yes",n.job_id],["No","__ignore__"]],help:o})}var a=Object(u.getGalaxyInstance)(),s={};a.user.attributes.preferences&&"extra_user_preferences"in a.user.attributes.preferences&&(s=JSON.parse(a.user.attributes.preferences.extra_user_preferences)),"true"===("use_cached_job|use_cached_job_checkbox"in s&&s["use_cached_job|use_cached_job_checkbox"])&&n.inputs.push({label:"BETA: Attempt to re-use jobs with identical parameters ?",help:"This may skip executing jobs that you have already run",name:"use_cached_job",type:"select",display:"radio",ignore:"__ignore__",value:"__ignore__",options:[["No",!1],["Yes",!0]]})},submit:function(e,t){var n=Object(u.getGalaxyInstance)(),i=this,o={tool_id:e.id,tool_version:e.version,inputs:this.form.data.create()};if(this.form.trigger("reset"),!i.validate(o))return n.emit.debug("tool-form::submit()","Submission canceled. Validation failed."),void(t&&t());if(e.action!=="".concat(Object(c.a)(),"tool_runner/index")){var s=a()("<form/>").attr({action:e.action,method:e.method,enctype:e.enctype});return r.a.each(o.inputs,function(e,t){s.append(a()("<input/>").attr({name:t,value:e}))}),s.hide().appendTo("body").submit().remove(),void(t&&t())}n.emit.debug("tool-form::submit()","Validation complete.",o),f.a.request({type:"POST",url:"".concat(Object(c.a)(),"api/tools"),data:o,success:function(e){if(t&&t(),i.$el.children().hide(),i.$el.append(i._templateSuccess(e,o)),e.jobs&&e.jobs.length>0){i.$el.append(a()("<div/>",{id:"webhook-view"}));new _.a.WebhookView({type:"tool",toolId:o.tool_id})}n&&n.currHistoryPanel&&n.currHistoryPanel.refreshContents()},error:function(e){t&&t(),n.emit.debug("tool-form::submit","Submission failed.",e);var r=!1;if(e&&e.err_data){var a=i.form.data.matchResponse(e.err_data);for(var s in a){i.form.highlight(s,a[s]),r=!0;break}}r||i.modal.show({title:h()("Job submission failed"),body:i._templateError(o,e&&e.err_msg),buttons:{Close:function(){i.modal.hide()}}})}})},validate:function(e){var t=this,n=Object(u.getGalaxyInstance)(),i=e.inputs,r=-1,o=null;for(var a in i){var s=i[a],l=this.form.data.match(a),c=this.form.field_list[l],d=this.form.input_list[l];if(l&&d&&c){if(!d.optional&&null==s)return this.form.highlight(l),!1;if(c.validate){var h=c.validate(function(){t.form.trigger("reset")});if(!h.valid)return this.form.highlight(l,h.message),!1}if(s&&s.batch){var f=s.values.length,p=f>0&&s.values[0]&&s.values[0].src;if(p)if(null===o)o=p;else if(o!==p)return this.form.highlight(l,"Please select either dataset or dataset list fields for all batch mode fields."),!1;if(-1===r)r=f;else if(r!==f)return this.form.highlight(l,"Please make sure that you select the same number of inputs for all batch mode fields. This field contains <b>".concat(f,"</b> selection(s) while a previous field contains <b>").concat(r,"</b>.")),!1}}else n.emit.debug("tool-form::validate()","Retrieving input objects failed.")}return!0},_getInputs:function(e){var t=[],n={};for(var i in e.inputs){var r=e.inputs[i];if(r&&a.a.isArray(r.values)){var o=!0,s=!1,l=void 0;try{for(var c,u=r.values[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var d=c.value;d.src&&!n[d.id]&&(t.push(d),n[d.id]=!0)}}catch(e){s=!0,l=e}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}}}return t},_templateRow:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i="";if(e.sort(function(e,t){return t.hid-e.hid}),e.length>0){i+="<p>".concat(t,":</p>");var o=!0,a=!1,s=void 0;try{for(var l,c=e[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,d=n>0?"".concat(u.hid,": ").concat(r.a.escape(u.name)):"...";if(i+='<p class="messagerow">\n                            <b>'.concat(d,"</b>\n                          </p>"),n--<=0)break}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}}return i},_templateSuccess:function(e,t){var n=e.jobs.length;if(n>0){var i=this._getInputs(t),r=i.length,o=e.outputs.length,a=n>1?"".concat(n," jobs"):"1 job",s=r>1?"".concat(r," inputs"):"this input",l=o>1?"".concat(o," outputs"):"this output",c=this.form.model.get("name");return'<div class="donemessagelarge">\n                        <p>\n                            Executed <b>'.concat(c,"</b> and successfully added ").concat(a," to the queue.\n                        </p>\n                        ").concat(this._templateRow(i,"The tool uses ".concat(s)),"\n                        ").concat(this._templateRow(e.outputs,"It produces ".concat(l)),"\n                        <p>\n                            You can check the status of queued jobs and view the resulting data by refreshing the History panel. When the job has been run the status will change from 'running' to 'finished' if completed successfully or 'error' if problems were encountered.\n                        </p>\n                    </div>")}return this._templateError(e,"Invalid success response. No jobs found.")},_templateError:function(e,t){return a()("<div/>").addClass("errormessagelarge").append(a()("<p/>").text("The server could not complete the request. Please contact the Galaxy Team if this error persists. ".concat(t||""))).append(a()("<pre/>").text(JSON.stringify(e,null,4)))}});t.a={View:v}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(3),a=n.n(o),s=n(4),l=n(5),c=n(1),u=n.n(c),d=n(11),h=n(25),f=n(619),p=a.a.Collection.extend({comparator:function(e,t){return(e=e.get("name"))>(t=t.get("name"))?1:e<t?-1:0}}),m=a.a.View.extend({initialize:function(e){var t=Object(l.getGalaxyInstance)(),n=this;this.active_tab="user";var i=t.currHistoryPanel&&t.currHistoryPanel.model.id;this.model=new a.a.Model,this.model.url="".concat(Object(s.a)(),"api/histories/").concat(i,"/custom_builds_metadata"),this.collection=new p,this.collection.url="".concat(Object(s.a)(),"api/users/").concat(t.user.id,"/custom_builds"),this.message=new d.a.Message({}),this.installed_builds=new d.a.Select.View({optional:!0,onchange:function(){n.installed_builds.value(null)},empty_text:"List of available builds:",error_text:"No system installed builds available."}),this.table=new f.a.View({cls:"grid",selectable:!1}),this.table.addHeader("Name"),this.table.addHeader("Key"),this.table.addHeader("Number of chroms/contigs"),this.table.addHeader(""),this.table.appendHeader(),this.setElement(r()("<div/>").append(r()("<h4/>").text("Current Custom Builds")).append(this.table.$el).append(this.$installed=r()("<div/>").append(r()("<h4/>").text("System Installed Builds").addClass("mt-1")).append(this.installed_builds.$el)).append(r()("<h4/>").text("Add a Custom Build").addClass("mt-4")).append(r()("<span/>").addClass("row").append(r()("<div/>").addClass("col").append(this.message.$el).append(this.$form=r()("<div/>").addClass("mt-1"))).append(this.$help=r()("<div/>").addClass("col m-2")))),this.listenTo(this.collection,"add remove reset",function(){n._renderTable()}),this.listenTo(this.model,"change",function(){n._renderForm()}),this.collection.fetch(),this.model.fetch()},render:function(){this._renderTable(),this._renderForm()},_renderTable:function(){var e=this;this.table.delAll(),this.collection.sort(),this.collection.each(function(t){e.table.add(t.get("name")),e.table.add(t.id),e.table.add(void 0!==t.get("count")?t.get("count"):"Processing..."),e.table.add(new d.a.Button({icon:"fa-trash-o",cls:"ui-button-icon-plain",tooltip:u()("Delete custom build."),onclick:function(){t.destroy()}}).$el),e.table.append(t.id)})},_renderForm:function(){var e=this,t=new h.a({inputs:[{type:"text",name:"name",label:"Name",help:"Specify a build name e.g. Hamster."},{type:"text",name:"id",label:"Key",help:"Specify a build key e.g. hamster_v1."},{name:"len",type:"conditional",test_param:{name:"type",label:"Definition",help:u()("Provide the data source."),type:"select",value:"fasta",data:[{value:"fasta",label:"FASTA-file from history"},{value:"file",label:"Len-file from disk"},{value:"text",label:"Len-file by copy/paste"}]},cases:[{value:"fasta",inputs:[{type:"select",name:"value",label:"FASTA-file",data:this.model.get("fasta_hdas")}]},{value:"file",inputs:[{type:"upload",name:"value",label:"Len-file",data:this.model.get("len_hdas")}]},{value:"text",inputs:[{type:"text",area:!0,name:"value",label:"Edit/Paste"}]}]}],buttons:{save:new d.a.Button({icon:"fa-save",tooltip:u()("Create new Build"),title:u()("Save"),cls:"btn btn-primary",onclick:function(){var n=t.data.create();n.id&&n.name?e.collection.create(n,{wait:!0,success:function(t){t.get("message")?e.message.update({message:t.get("message"),status:"warning"}):e.message.update({message:"Successfully added a new custom build.",status:"success"})},error:function(t,n){var i=n&&n.responseJSON&&n.responseJSON.err_msg;e.message.update({message:i||"Failed to create custom build.",status:"danger"})}}):e.message.update({message:"All inputs are required.",status:"danger"})}})},onchange:function(){var n=t.data.match("len|type");if(n){var i=t.field_list[n];e._renderHelp(i.value())}}});this.$form.empty().append(t.$el);var n=this.model.get("installed_builds");n&&n.length?(this.$installed.show(),this.installed_builds.update(this.model.get("installed_builds"))):this.$installed.hide(),this._renderHelp("fasta")},_renderHelp:function(e){this.$help.empty().addClass("alert alert-info").html("fasta"==e?this._templateFasta():this._templateLen())},_templateLen:function(){return"<h4>Length Format</h4><p>The length format is two-column, separated by whitespace, of the form:<pre>chrom/contig   length of chrom/contig</pre></p><p>For example, the first few entries of <em>mm9.len</em> are as follows:<pre>chr1    197195432\nchr2    181748087\nchr3    159599783\nchr4    155630120\nchr5    152537259</pre></p><p>Trackster uses this information to populate the select box for chrom/contig, andto set the maximum basepair of the track browser. You may either upload a .len fileof this format (Len File option), or directly enter the information into the box (Len Entry option).</p>"},_templateFasta:function(){return"<h4>FASTA format</h4><p>This is a multi-fasta file from your current history that provides the genomesequences for each chromosome/contig in your build.</p><p>Here is a snippet from an example multi-fasta file:<pre>>chr1\nATTATATATAAGACCACAGAGAGAATATTTTGCCCGG...\n\n>chr2\nGGCGGCCGCGGCGATATAGAACTACTCATTATATATA...\n\n...</pre></p>"}});t.a={View:m}},function(e,t,n){"use strict";(function(e,i){var r=n(6),o=e.View.extend({initialize:function(e){this.options=r.a.merge(e,{content:"No content available.",onchange:null,ondblclick:null,onconfirm:null,cls:"grid",selectable:!0}),this.setElement(this._template()),this.$thead=this.$("thead"),this.$tbody=this.$("tbody"),this.$tmessage=this.$("tmessage"),this.row=i("<tr/>"),this.row_count=0},events:{click:"_onclick",dblclick:"_ondblclick"},addHeader:function(e){this.row.append(i("<th/>").append(e))},appendHeader:function(){this.$thead.append(this.row),this.row=i("<tr/>")},add:function(e,t,n){var r=i("<td/>");t&&r.css("width",t),n&&r.css("text-align",n),this.row.append(r.append(e))},append:function(e,t){this._commit(e,t,!1)},prepend:function(e,t){this._commit(e,t,!0)},get:function(e){return this.$("#".concat(e))},del:function(e){var t=this.$tbody.find("#".concat(e));t.length>0&&(t.remove(),this.row_count--,this._refresh())},delAll:function(){this.$tbody.empty(),this.row_count=0,this._refresh()},value:function(e){if(this.options.selectable){this.before=this.$tbody.find(".current").attr("id"),void 0!==e&&(this.$tbody.find("tr").removeClass("current"),e&&this.$tbody.find("#".concat(e)).addClass("current"));var t=this.$tbody.find(".current").attr("id");return void 0===t?null:(t!=this.before&&this.options.onchange&&this.options.onchange(e),t)}},size:function(){return this.$tbody.find("tr").length},_commit:function(e,t,n){this.del(e),this.row.attr("id",e),n?this.$tbody.prepend(this.row):this.$tbody.append(this.row),t&&(this.row.hide(),this.row.fadeIn()),this.row=i("<tr/>"),this.row_count++,this._refresh()},_onclick:function(e){var t=this.value(),n=i(e.target).closest("tr").attr("id");""!=n&&n&&t!=n&&(this.options.onconfirm?this.options.onconfirm(n):this.value(n))},_ondblclick:function(e){var t=this.value();t&&this.options.ondblclick&&this.options.ondblclick(t)},_refresh:function(){0==this.row_count?this.$tmessage.show():this.$tmessage.hide()},_template:function(){return'<div><table class="'.concat(this.options.cls,'"><thead/><tbody/></table><tmessage>').concat(this.options.content,"</tmessage><div>")}});t.a={View:o}}).call(this,n(3),n(0))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(3),a=n.n(o),s=n(4),l=n(5),c=n(1),u=n.n(c),d=n(72),h=n(6),f=n(28),p=n(31),m=n(47),g=n(81),_=f.a.extend({initialize:function(e){this.ajaxQueue=new d.a.AjaxQueue,f.a.prototype.initialize.call(this,e)},init_grid_elements:function(){var e=this.ajaxQueue;e.stop(),f.a.prototype.init_grid_elements.call(this),r.a.makeArray(this.$el.find(".delayed-value-datasets_by_state").map(function(e,t){return function(){var e=r()(t).data("id"),n="".concat(Object(s.a)(),"api/histories/").concat(e,"?keys=nice_size,contents_active,contents_states"),i={};return i.url=n,i.type="GET",i.success=function(t){for(var n=t.contents_states,i="",o=["ok","running","queued","new","error"],a=0;a<o.length;a++){var s=o[a],l=n[s];l&&(i+='<div class="count-box state-color-'.concat(s,'" title="Datasets in ').concat(s,' state">').concat(l,"</div> "))}var c=t.contents_active,u=c.deleted;u&&(i+='<div class="count-box state-color-deleted" title="Deleted datasets">'.concat(u,"</div> "));var d=c.hidden;d&&(i+='<div class="count-box state-color-hidden" title="Hidden datasets">'.concat(d,"</div> ")),r()(".delayed-value-datasets_by_state[data-id='".concat(e,"']")).html(i),r()(".delayed-value-disk_size[data-id='".concat(e,"']")).html(t.nice_size)},r.a.ajax(i)}})).forEach(function(t){return e.add(t)}),e.start()},_showCopyDialog:function(e){var t=new p.a({id:e});t.fetch().fail(function(){alert("History could not be fetched. Please contact an administrator")}).done(function(){Object(m.a)(t,{}).done(function(){var e=Object(l.getGalaxyInstance)();e&&e.currHistoryPanel&&e.currHistoryPanel.loadCurrentHistory(),window.location.reload(!0)})})},add_operation:function(e,t,n){var i=this;"Copy"==t.label&&(t.onclick=function(e){i._showCopyDialog(e)}),f.a.prototype.add_operation.call(this,e,t,n)}}),v=a.a.View.extend({title:u()("Histories"),initialize:function(e){var t=this,n=Object(l.getGalaxyInstance)();g.a.markViewAsLoading(this),"list_published"==e.action_id?this.active_tab="shared":"list"==e.action_id&&(this.active_tab="user"),this.model=new a.a.Model,h.a.get({url:"".concat(Object(s.a)(),"history/").concat(e.action_id,"?").concat(r.a.param(n.params)),success:function(e){t.model.set(e),t.render()}})},render:function(){var e=new _(this.model.attributes);this.$el.empty().append(e.$el)}});t.a={View:v}},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(5),d=n(1),h=n.n(d),f=n(6),p=n(386),m=n(11),g=n(25),_=n(93),v=n(385),y=n(27),b=n(69),w=n(405),k=l.a.View.extend({initialize:function(e){var t=Object(u.getGalaxyInstance)();this.modal=t.modal||new y.a.View,this.model=e&&e.model||new l.a.Model(e),this.deferred=new p.a,e&&e.active_tab&&(this.active_tab=e.active_tab),this.setElement(a()("<div/>").addClass("ui-form-composite").append(this.$message=a()("<div/>").addClass("mb-4")).append(this.$header=a()("<div/>")).append(this.$steps=a()("<div/>"))),a()("body").append(this.$el),this._configure(),this.render()},_configure:function(){var e=this,t=Object(u.getGalaxyInstance)();this.forms=[],this.steps=[],this.links=[],this.parms=[],r.a.each(this.model.get("steps"),function(n,i){t.emit.debug("tool-form-composite::initialize()","".concat(i," : Preparing workflow step."));var o=w.a[n.step_type],a="".concat(parseInt(i+1),": ").concat(n.step_label||n.step_name);n.annotation&&(a+=" - ".concat(n.annotation)),n.step_version&&(a+=" (Galaxy Version ".concat(n.step_version,")")),n=f.a.merge({index:i,fixed_title:r.a.escape(a),icon:o||"",help:null,citations:null,collapsible:!0,collapsed:i>0&&!e._isDataStep(n),sustain_version:!0,sustain_repeats:!0,sustain_conditionals:!0,narrow:!0,text_enable:"Edit",text_disable:"Undo",cls_enable:"fa fa-edit",cls_disable:"fa fa-undo",errors:n.messages,initial_errors:!0,cls:"ui-portlet-section",hide_operations:!0,needs_refresh:!1,always_refresh:"tool"!=n.step_type},n),e.steps[i]=n,e.links[i]=[],e.parms[i]={}}),r.a.each(this.steps,function(t,n){_.a.visitInputs(t.inputs,function(t,i){e.parms[n][i]=t})}),r.a.each(this.steps,function(t,n){r.a.each(t.output_connections,function(t){r.a.each(e.steps,function(i,r){i.step_index===t.input_step_index&&e.links[n].push(i)})})}),r.a.each(this.steps,function(t,n){r.a.each(e.steps,function(i,o){var a={};r.a.each(t.output_connections,function(e){i.step_index===e.input_step_index&&(a[e.input_name]=e)}),r.a.each(e.parms[o],function(e,i){var r=a[i];r&&(e.type="hidden",e.help=e.step_linked?"".concat(e.help,", "):"",e.help+="Output dataset '".concat(r.output_name,"' from step ").concat(parseInt(n)+1),e.step_linked=e.step_linked||[],e.step_linked.push({index:t.index,step_type:t.step_type}))})})});var n=0;function i(t){return e.wp_inputs[t]=e.wp_inputs[t]||{label:t,name:t,type:"text",color:"hsl( ".concat(100*++n,", 70%, 30% )"),style:"ui-form-wp-source",links:[]}}this.wp_inputs={},r.a.each(this.steps,function(t,n){r.a.each(e.parms[n],function(e,n){!function(e,t){for(var n,r=/\$\{(.+?)\}/g;n=r.exec(String(e));)t(i(n[1]))}(e.value,function(n){n.links.push(t),e.wp_linked=!0,e.type="text",e.backdrop=!0,e.style="ui-form-wp-target"})}),r.a.each(t.replacement_parameters,function(e){i(e)})}),r.a.each(this.steps,function(t,n){if("tool"==t.step_type){var i=!0;_.a.visitInputs(t.inputs,function(n,r,o){var a=n.value&&"RuntimeValue"==n.value.__class__,s=-1!=["data","data_collection"].indexOf(n.type),l=o[n.data_ref];n.step_linked&&!e._isDataStep(n.step_linked)&&(i=!1),n.options&&(0==n.options.length&&!i||n.wp_linked)&&(n.is_workflow=!0),l&&(n.is_workflow=l.step_linked&&!e._isDataStep(l.step_linked)||n.wp_linked),(s||n.value&&"RuntimeValue"==n.value.__class__&&!n.step_linked)&&(t.collapsed=!1),a&&(n.value=null),n.flavor="workflow",a||s||"hidden"===n.type||n.wp_linked||(n.optional||!f.a.isEmpty(n.value)&&""!==n.value)&&(n.collapsible_value=n.value,n.collapsible_preview=!0)})}})},render:function(){var e=this;this.deferred.reset(),this._renderHeader(),this._renderMessage(),this._renderParameters(),this._renderHistory(),this._renderUseCachedJob(),this._renderResourceParameters(),r.a.each(this.steps,function(t){e._renderStep(t)})},_renderHeader:function(){var e=this;this.execute_btn=new m.a.Button({icon:"fa-check",title:h()("Run workflow"),cls:"btn btn-primary",onclick:function(){e._execute()}}),this.$header.addClass("h4").empty().append("<b>Workflow: ".concat(this.model.get("name"),"<b>")).append(this.execute_btn.$el.addClass("float-right mt-3"))},_renderMessage:function(){this.$message.empty(),this.model.get("has_upgrade_messages")&&this.$message.append(new m.a.Message({message:"Some tools in this workflow may have changed since it was last saved or some errors were found. The workflow may still run, but any new options will have default values. Please review the messages below to make a decision about whether the changes will affect your analysis.",status:"warning",persistent:!0,fade:!1}).$el);var e=this.model.get("step_version_changes");e&&e.length>0&&this.$message.append(new m.a.Message({message:"Some tools are being executed with different versions compared to those available when this workflow was last saved because the other versions are not or no longer available on this Galaxy instance. To upgrade your workflow and dismiss this message simply edit the workflow and re-save it.",status:"warning",persistent:!0,fade:!1}).$el)},_renderParameters:function(){var e=this;this.wp_form=null,r.a.isEmpty(this.wp_inputs)||(this.wp_form=new g.a({title:"<b>Workflow Parameters</b>",inputs:this.wp_inputs,cls:"ui-portlet-section",onchange:function(){r.a.each(e.wp_form.input_list,function(t,n){r.a.each(t.links,function(t){e._refreshStep(t)})})}}),this._append(this.$steps.empty(),this.wp_form.$el))},_renderHistory:function(){this.history_form=new g.a({cls:"ui-portlet-section",title:"<b>History Options</b>",inputs:[{type:"conditional",name:"new_history",test_param:{name:"check",label:"Send results to a new history",type:"boolean",value:"false",help:""},cases:[{value:"true",inputs:[{name:"name",label:"History name",type:"text",value:this.model.get("name")}]}]}]}),this._append(this.$steps,this.history_form.$el)},_renderResourceParameters:function(){this.workflow_resource_parameters_form=null,r.a.isEmpty(this.model.get("workflow_resource_parameters"))||(this.workflow_resource_parameters_form=new g.a({cls:"ui-portlet-section",title:"<b>Workflow Resource Options</b>",inputs:this.model.get("workflow_resource_parameters")}),this._append(this.$steps,this.workflow_resource_parameters_form.$el))},_renderUseCachedJob:function(){var e=Object(u.getGalaxyInstance)(),t={};e.user.attributes.preferences&&"extra_user_preferences"in e.user.attributes.preferences&&(t=JSON.parse(e.user.attributes.preferences.extra_user_preferences));var n="use_cached_job|use_cached_job_checkbox"in t&&t["use_cached_job|use_cached_job_checkbox"];this.display_use_cached_job_checkbox="true"===n,this.display_use_cached_job_checkbox&&(this.job_options_form=new g.a({cls:"ui-portlet-section",title:"<b>Job re-use Options</b>",inputs:[{type:"conditional",name:"use_cached_job",test_param:{name:"check",label:"BETA: Attempt to reuse jobs with identical parameters?",type:"boolean",value:"false",help:"This may skip executing jobs that you have already run."}}]}),this._append(this.$steps,this.job_options_form.$el))},_renderStep:function(e){var t=Object(u.getGalaxyInstance)(),n=this,i=null;this.deferred.execute(function(o){if(n.$steps.addClass("ui-steps"),"tool"==e.step_type)e.postchange=function(n,i){var r={tool_id:e.id,tool_version:e.version,inputs:a.a.extend(!0,{},i.data.create())};i.wait(!0),t.emit.debug("tool-form-composite::postchange()","Sending current state.",r),f.a.request({type:"POST",url:"".concat(Object(c.a)(),"api/tools/").concat(e.id,"/build"),data:r,success:function(e){i.update(e),i.wait(!1),t.emit.debug("tool-form-composite::postchange()","Received new model.",e),n.resolve()},error:function(e){t.emit.debug("tool-form-composite::postchange()","Refresh request failed.",e),n.reject()}})},i=new v.a(e),e.post_job_actions&&e.post_job_actions.length&&i.portlet.append(a()("<div/>").addClass("ui-form-element-disabled").append(a()("<div/>").addClass("ui-form-title").html("<b>Job Post Actions</b>")).append(a()("<div/>").addClass("ui-form-preview").html(r.a.reduce(e.post_job_actions,function(e,t){return"".concat(e," ").concat(t.short_str)},""))));else{var s=-1!=["data_input","data_collection_input"].indexOf(e.step_type);r.a.each(e.inputs,function(e){e.flavor="module",e.hide_label=s}),i=new g.a(f.a.merge({title:e.fixed_title,onchange:function(){r.a.each(n.links[e.index],function(e){n._refreshStep(e)})},inputs:e.inputs&&e.inputs.length>0?e.inputs:[{type:"hidden",name:"No options available.",ignore:null}]},e)),e.step_label&&i.$el.attr("step-label",e.step_label)}n.forms[e.index]=i,n._append(n.$steps,i.$el),e.needs_refresh&&n._refreshStep(e),i.portlet[n.show_progress?"disable":"enable"](),n.show_progress&&n.execute_btn.model.set({wait:!0,wait_text:"Preparing...",percentage:100*(e.index+1)/n.steps.length}),t.emit.debug("tool-form-composite::initialize()","".concat(e.index," : Workflow step state ready."),e),window.setTimeout(function(){o.resolve()},0)})},_refreshStep:function(e){var t=this,n=this.forms[e.index];n?(r.a.each(t.parms[e.index],function(e,i){if(e.step_linked||e.wp_linked){var o=n.field_list[n.data.match(i)];if(o){var a;if(e.step_linked)a={values:[]},r.a.each(e.step_linked,function(e){if(t._isDataStep(e)){var n=t.forms[e.index].data.create().input;n&&r.a.each(n.values,function(e){a.values.push(e)})}}),!e.multiple&&a.values.length>0&&(a={values:[a.values[0]]});else if(e.wp_linked){a=e.value;for(var s,l=/\$\{(.+?)\}/g;s=l.exec(e.value);){var c=t.wp_form.field_list[t.wp_form.data.match(s[1])],u=c&&c.value();u&&(a=a.split(s[0]).join(u))}}void 0!==a&&o.value(a)}}}),n.trigger("change")):e.needs_refresh=!0},_refreshHistory:function(){var e=Object(u.getGalaxyInstance)(),t=this,n=e&&e.currHistoryPanel&&e.currHistoryPanel.model;this._refresh_history&&window.clearTimeout(this._refresh_history),n&&n.refresh().success(function(){0===n.numOfUnfinishedShownContents()&&(t._refresh_history=window.setTimeout(function(){t._refreshHistory()},n.UPDATE_DELAY))})},_execute:function(){var e=this;this.show_progress=!0,this._enabled(!1),this.deferred.execute(function(t){window.setTimeout(function(){t.resolve(),e._submit()},0)})},_submit:function(){var e=Object(u.getGalaxyInstance)(),t=this,n=this.history_form.data.create(),i={new_history_name:n["new_history|name"]?n["new_history|name"]:null,history_id:n["new_history|name"]?null:this.model.get("history_id"),resource_params:this.workflow_resource_parameters_form?this.workflow_resource_parameters_form.data.create():{},replacement_params:this.wp_form?this.wp_form.data.create():{},parameters:{},parameters_normalized:!0,batch:!0};this.display_use_cached_job_checkbox&&(i.use_cached_job="true"===this.job_options_form.data.create()["use_cached_job|check"]);var r=!0;for(var o in this.forms){var s=this.forms[o],l=s.data.create(),d=t.steps[o],p=d.step_index;for(var m in s.trigger("reset"),l){var g=l[m],_=s.data.match(m),v=s.input_list[_];if(!v.step_linked){if(!(r=this._isDataStep(d)?g&&g.values&&g.values.length>0:v.optional||v.is_workflow&&""!==g||!v.is_workflow&&null!==g)){s.highlight(_);break}i.parameters[p]=i.parameters[p]||{},i.parameters[p][m]=l[m]}}if(!r)break}r?(e.emit.debug("tool-form-composite::submit()","Validation complete.",i),f.a.request({type:"POST",url:"".concat(Object(c.a)(),"api/workflows/").concat(this.model.id,"/invocations"),data:i,success:function(n){e.emit.debug("tool-form-composite::submit","Submission successful.",n),t.$el.children().hide(),t.$el.append(t._templateSuccess(n)),a.a.isArray(n)&&n.length>0&&(t.$el.append(a()("<div/>",{id:"webhook-view"})),new b.a.WebhookView({type:"workflow",toolId:i.tool_id,toolVersion:i.tool_version})),t._refreshHistory()},error:function(n){e.emit.debug("tool-form-composite::submit","Submission failed.",n);var r=!1;if(n&&n.err_data)for(var o in t.forms){var a=t.forms[o],s=n.err_data[a.model.get("step_index")];if(s){var l=a.data.matchResponse(s);for(var c in l){a.highlight(c,l[c]),r=!0;break}}}r||t.modal.show({title:h()("Workflow submission failed"),body:t._templateError(i,n&&n.err_msg),buttons:{Close:function(){t.modal.hide()}}})},complete:function(){t._enabled(!0)}})):(t._enabled(!0),e.emit.debug("tool-form-composite::submit()","Validation failed.",i))},_append:function(e,t){e.append("<p/>").append(t)},_enabled:function(e){this.execute_btn.model.set({wait:!e,wait_text:"Sending...",percentage:-1}),this.wp_form&&this.wp_form.portlet[e?"enable":"disable"](),this.history_form&&this.history_form.portlet[e?"enable":"disable"](),r.a.each(this.forms,function(t){t&&t.portlet[e?"enable":"disable"]()})},_isDataStep:function(e){for(var t=a.a.isArray(e)?e:[e],n=0;n<t.length;n++){var i=t[n];if(!i||!i.step_type||!i.step_type.startsWith("data"))return!1}return!0},_templateSuccess:function(e){var t=Object(u.getGalaxyInstance)();if(a.a.isArray(e)&&e.length>0){var n="",i="You can check the status of queued jobs and view the resulting data by refreshing the History pane, if this has not already happened automatically.",r=e[0].history_id&&t.currHistoryPanel&&t.currHistoryPanel.model.id!=e[0].history_id||!1;return e.length>1?(n="<em> - ".concat(e.length," times</em>"),r&&(i='This workflow will generate results in multiple histories.  You can observe progress in the <a href="'.concat(Object(c.a)(),'history/view_multiple">history multi-view</a>.'))):r&&(i='This workflow will generate results in a new history. <a href="'.concat(Object(c.a)(),"history/switch_to_history?hist_id=").concat(e[0].history_id,'">Switch to that history now</a>.')),a()('\n                <div class="donemessagelarge">\n                    <p>\n                        Successfully invoked workflow <b>'.concat(f.a.sanitize(this.model.get("name")),"</b>").concat(n,".\n                    </p>\n                    <p>\n                        ").concat(i,"\n                    </p>\n                </div>"))}return this._templateError(e,"Invalid success response. No invocations found.")},_templateError:function(e,t){return a()("<div/>").addClass("errormessagelarge").append(a()("<p/>").text("The server could not complete the request. Please contact the Galaxy Team if this error persists. ".concat(JSON.stringify(t)||""))).append(a()("<pre/>").text(JSON.stringify(e,null,4)))}});t.a={View:k}},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(5),d=n(1),h=n.n(d),f=n(6),p=n(11),m=n(25),g=l.a.View.extend({initialize:function(){var e=Object(u.getGalaxyInstance)();this.setElement("<div/>"),this.model=new l.a.Model({dataset_id:e.params.dataset_id}),this.active_tab="user",this.render()},render:function(){var e=this,t="".concat(Object(c.a)(),"api/datasets/").concat(this.model.get("dataset_id"));f.a.get({url:t,success:function(t){var n="".concat(Object(c.a)(),"api/jobs/").concat(t.creating_job,"?full=True");f.a.get({url:n,success:function(n){e.render_error_page(t,n)},error:function(t){e.display_message({status:"error",message:"Error occured while loading the job.",persistent:!0,cls:"errormessage"},e.$(".response-message"))}})},error:function(t){e.display_message({status:"error",message:"Error occured while loading the dataset.",persistent:!0,cls:"errormessage"},e.$(".response-message"))}})},render_error_page:function(e,t){this.$el.empty().append("\n            ".concat(this._templateHeader(),"\n            <h2>Dataset Error</h2>\n            <p>An error occured while running the tool <b>").concat(t.tool_id,'</b>.</p>\n            <p>Tool execution generated the following messages:</p>\n            <pre class="code">').concat(r.a.escape(t.stderr),'</pre>\n\n            <h3>Troubleshoot This Error</h3>\n            <p>\n                There are a number of help resources to self diagnose and\n                correct problems.\n                Start here: <a\n                href="https://galaxyproject.org/support/tool-error/"\n                target="_blank"> My job ended with an error. What can I do?</a>\n            </p>\n\n            <h3>Report This Error</h3>\n            <p>\n                Usually the local Galaxy administrators regularly review errors\n                that occur on the server However, if you would like to provide\n                additional information (such as what you were trying to do when\n                the error occurred) and a contact e-mail address, we will be\n                better able to investigate your problem and get back to you.\n            </p>')),this.$el.append(this._getBugFormTemplate(e,t))},display_message:function(e,t,n,i){i?n?t.append(new p.a.UnescapedMessage(e).$el):t.empty().html(new p.a.UnescapedMessage(e).$el):n?t.append(new p.a.Message(e).$el):t.empty().html(new p.a.Message(e).$el)},_templateHeader:function(){return'<div class="page-container edit-attr"><div class="response-message"></div></div>'},_getBugFormTemplate:function(e,t){var n=this,i=Object(u.getGalaxyInstance)(),r=[{help:h()("Your email address"),options:[],type:"text",name:"email",label:"Your email",value:i.user.get("email")},{help:h()("Any additional comments you can provide regarding what you were doing at the time of the bug."),options:[],type:"text",area:!0,name:"message",label:"Message"}],o=new m.a({title:h()("Error Report"),inputs:r,buttons:{save:new p.a.Button({icon:"fa-bug",title:h()("Report"),cls:"ui-button btn btn-primary",floating:"clear",onclick:function(){var i=o.data.create(),r="".concat(Object(c.a)(),"api/jobs/").concat(t.id,"/error");i.dataset_id=e.id,n.submit(i,r)}})}});return o.$el},submit:function(e,t){var n=this;a.a.ajax({type:"POST",url:t,data:e,success:function(e){n.$el.empty().append(n._templateHeader()),e.messages.forEach(function(e){n.display_message({status:e[1],message:e[0],persistent:!0},n.$(".response-message"),!0,!0)})},error:function(e){n.display_message({status:"error",message:"Error occured while saving. Please fill all the required fields and try again.",persistent:!0,cls:"errormessage"},n.$(".response-message"))}})}});t.a={View:g}},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(5),d=n(1),h=n.n(d),f=n(347),p=n(11),m=n(25),g=l.a.View.extend({initialize:function(){var e=Object(u.getGalaxyInstance)();this.setElement("<div/>"),this.model=new l.a.Model({dataset_id:e.params.dataset_id}),this.message=new p.a.Message({persistent:!0}),this.tabs=this._createTabs(),this.active_tab="user",this.$el.append(a()("<h4/>").append("Edit dataset attributes")).append(this.message.$el).append("<p/>").append(this.tabs.$el).hide(),this.render()},render:function(){var e=this;a.a.ajax({url:"".concat(Object(c.a)(),"dataset/get_edit?dataset_id=").concat(e.model.get("dataset_id")),success:function(t){!e.initial_message&&e.message.update(t),e.initial_message=!0,r.a.each(e.forms,function(e,n){e.model.set("inputs",t["".concat(n,"_inputs")]),e.model.set("hide_operations",t["".concat(n,"_disable")]),e.render()}),e.$el.show()},error:function(t){var n=t.responseJSON&&t.responseJSON.err_msg;e.message.update({status:"danger",message:n||"Error occured while loading the dataset."})}})},_submit:function(e,t){var n=this,i=t.data.create();i.dataset_id=this.model.get("dataset_id"),i.operation=e,a.a.ajax({type:"PUT",url:"".concat(Object(c.a)(),"dataset/set_edit"),data:i,success:function(e){n.message.update(e),n.render(),n._reloadHistory()},error:function(e){var t=e.responseJSON&&e.responseJSON.err_msg;n.message.update({status:"danger",message:t||"Error occured while editing the dataset attributes."})}})},_createTabs:function(){this.forms={attribute:this._getAttribute(),conversion:this._getConversion(),datatype:this._getDatatype(),permission:this._getPermission()};var e=new f.a.View;return e.add({id:"attribute",title:h()("Attributes"),icon:"fa fa-bars",tooltip:h()("Edit dataset attributes"),$el:this.forms.attribute.$el}),e.add({id:"convert",title:h()("Convert"),icon:"fa-gear",tooltip:h()("Convert to new format"),$el:this.forms.conversion.$el}),e.add({id:"datatype",title:h()("Datatypes"),icon:"fa-database",tooltip:h()("Change data type"),$el:this.forms.datatype.$el}),e.add({id:"permissions",title:h()("Permissions"),icon:"fa-user",tooltip:h()("Permissions"),$el:this.forms.permission.$el}),e},_getAttribute:function(){var e=this,t=new m.a({title:h()("Edit attributes"),operations:{submit_attributes:new p.a.Button({tooltip:h()("Save attributes of the dataset."),icon:"fa-floppy-o",title:h()("Save"),onclick:function(){e._submit("attributes",t)}}),submit_autodetect:new p.a.Button({tooltip:"This will inspect the dataset and attempt to correct the values of fields if they are not accurate.",icon:"fa-undo",title:"Auto-detect",onclick:function(){e._submit("autodetect",t)}})}});return t},_getConversion:function(){var e=this,t=new m.a({title:h()("Convert to new format"),operations:{submit_conversion:new p.a.Button({tooltip:h()("Convert the datatype to a new format."),title:h()("Convert datatype"),icon:"fa-exchange",onclick:function(){e._submit("conversion",t)}})}});return t},_getDatatype:function(){var e=this,t=new m.a({title:h()("Change datatype"),operations:{submit_datatype:new p.a.Button({tooltip:h()("Change the datatype to a new type."),title:h()("Change datatype"),icon:"fa-exchange",onclick:function(){e._submit("datatype",t)}}),submit_datatype_detect:new p.a.Button({tooltip:h()("Detect the datatype and change it."),title:h()("Detect datatype"),icon:"fa-undo",onclick:function(){e._submit("datatype_detect",t)}})}});return t},_getPermission:function(){var e=this,t=new m.a({title:h()("Manage dataset permissions"),operations:{submit_permission:new p.a.Button({tooltip:h()("Save permissions."),title:h()("Save permissions"),icon:"fa-floppy-o ",onclick:function(){e._submit("permission",t)}})}});return t},_reloadHistory:function(){var e=Object(u.getGalaxyInstance)();e&&e.currHistoryPanel.loadCurrentHistory()}});t.a={View:g}},function(e,t,n){"use strict";var i=n(4),r=n(15),o=n.n(r),a=n(463),s=n(462),l={props:{isLoaded:{type:Boolean,required:!0},rows:{type:Array,required:!0}},data:function(){return{columns:[{text:"Name",dataIndex:"name"},{text:"Filename",dataIndex:"filename"},{text:"Tool data path",dataIndex:"tool_data_path"},{text:"Errors",dataIndex:"errors"}]}},components:{"base-grid":s.a},methods:{handleTableNameClick:function(e){this.$emit("changeview",e.target.text)}}},c=n(14),u=Object(c.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("base-grid",{attrs:{"is-loaded":e.isLoaded,columns:e.columns,id:"data-tables-grid"}},[n("template",{slot:"title"},[e._v("\n    Current data table registry contains "+e._s(e.rows.length)+" data tables\n  ")]),e._v(" "),e._l(e.rows,function(t,i){return n("template",{slot:"rows"},[n("tr",{class:[i%2==0?"tr":"odd_row"]},[n("td",[n("a",{attrs:{href:"javascript:void(0)"},on:{click:e.handleTableNameClick}},[e._v(e._s(t.name))])]),e._v(" "),n("td",[e._v(e._s(t.filename))]),e._v(" "),n("td",[e._v(e._s(t.tool_data_path))]),e._v(" "),n("td",[e._v(e._s(t.errors))])])])})],2)},[],!1,null,null,null);u.options.__file="DataTablesGrid.vue";var d=u.exports,h={props:{dataManagerTableName:{type:String,required:!0},dataManagerColumns:{type:Array,required:!0},dataManagerItems:{type:Array,required:!0}},methods:{handleReloadButtonClick:function(e){this.$emit("reloaddatamanager",this.dataManagerTableName)}}},f=Object(c.a)(h,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"tabletip"},[n("thead",[n("tr",[n("th",{staticStyle:{"font-size":"120%"},attrs:{colspan:e.dataManagerColumns.length}},[e._v("\n        Data Manager: "+e._s(e.dataManagerTableName)+"\n        "),n("a",{staticClass:"icon-btn",attrs:{href:"javascript:void(0)",title:"Reload "+e.dataManagerTableName+" tool data table"},on:{click:e.handleReloadButtonClick}},[n("span",{staticClass:"fa fa-refresh"})])])]),e._v(" "),n("tr",e._l(e.dataManagerColumns,function(t){return n("th",[e._v(e._s(t))])}))]),e._v(" "),e._l(e.dataManagerItems,function(t){return n("tbody",[n("tr",e._l(e.dataManagerColumns,function(i){return n("td",[e._v(e._s(t[i]))])}))])})],2)},[],!1,null,null,null);f.options.__file="DataManagerGrid.vue";var p=f.exports,m={data:function(){return{currentView:"data-tables-grid",isLoaded:!1,dataTables:[],dataManagerTableName:"",dataManagerColumns:[],dataManagerItems:[],message:"",status:""}},components:{message:a.a,"data-tables-grid":d,"data-manager-grid":p},computed:{currentProps:function(){return"data-tables-grid"===this.currentView?{isLoaded:this.isLoaded,rows:this.dataTables}:{dataManagerTableName:this.dataManagerTableName,dataManagerColumns:this.dataManagerColumns,dataManagerItems:this.dataManagerItems}}},methods:{showDataManager:function(e){var t=this;o.a.get("".concat(Object(i.a)(),"data_manager/tool_data_table_items"),{params:{table_name:e}}).then(function(n){t.message=n.data.message,t.status=n.data.status,"error"!==n.data.status&&"warning"!==n.data.status&&(t.dataManagerTableName=e,t.dataManagerColumns=n.data.data.columns,t.dataManagerItems=n.data.data.items,t.currentView="data-manager-grid")}).catch(function(e){console.error(e)})},reloadDataManager:function(e){var t=this;o.a.get("".concat(Object(i.a)(),"data_manager/reload_tool_data_table"),{params:{table_name:e}}).then(function(e){t.message=e.data.message,t.status=e.data.status,"error"!==e.data.status&&"warning"!==e.data.status&&(t.dataManagerItems=e.data.data.items)}).catch(function(e){console.error(e)})}},created:function(){var e=this;o.a.get("".concat(Object(i.a)(),"admin/data_tables_list")).then(function(t){e.isLoaded=!0,e.dataTables=t.data.data,e.message=t.data.message,e.status=t.data.status}).catch(function(e){console.error(e)})}},g=Object(c.a)(m,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("message",{attrs:{message:e.message,status:e.status}}),e._v(" "),"error"!==e.status?n(e.currentView,e._b({tag:"component",on:{changeview:e.showDataManager,reloaddatamanager:e.reloadDataManager}},"component",e.currentProps,!1)):e._e()],1)},[],!1,null,null,null);g.options.__file="DataTables.vue";t.a=g.exports},function(e,t,n){"use strict";var i=n(3),r=n.n(i),o=n(4),a=n(15),s=n.n(a),l=n(1),c=n.n(l),u=n(11),d=n(18),h=n(53),f=n(59),p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"rule"},[n("span",{staticClass:"rule-display"},[e._v(e._s(e.title)+"\n            ")]),e._v(" "),e.rule.warn?n("span",{staticClass:"rule-warning"},[e._v("\n                "+e._s(e.rule.warn)+"\n            ")]):e._e(),e._v(" "),e.rule.error?n("span",{staticClass:"rule-error"},[n("span",{staticClass:"alert-message"},[e._v(e._s(e.rule.error))])]):e._e()])},staticRenderFns:[],props:{rule:{required:!0,type:Object},colHeaders:{type:Array,required:!1}},computed:{title:function(){var e=this.rule.type;return f.a.RULES[e].display(this.rule,this.colHeaders)}},methods:{}},m={render:function(){var e=this.$createElement;return(this._self._c||e)("li",{staticClass:"rule",attrs:{title:this.help}},[this._v("\n        Set "+this._s(this.columnsLabel)+" as "+this._s(this.typeDisplay)+"\n      ")])},staticRenderFns:[],props:{type:{type:String,required:!0},columns:{required:!0},colHeaders:{type:Array,required:!0}},computed:{typeDisplay:function(){return f.a.MAPPING_TARGETS[this.type].label},help:function(){return f.a.MAPPING_TARGETS[this.type].help||""},columnsLabel:function(){return f.a.columnDisplay(this.columns,this.colHeaders)}}},g={data:function(){return{}},computed:{mapping:function(){return this.inputRules?this.inputRules.mapping:[]},rules:function(){return this.inputRules?this.inputRules.rules:[]},columnData:function(){var e=[];return{colHeadersPerRule:e,columns:f.a.applyRules([],[],[],this.rules,e).columns}},colHeaders:function(){var e=this.columnData.columns;return f.a.colHeadersFor([],e)}},props:{inputRules:{required:!1,type:Object}},components:{RuleDisplayPreview:p,IdentifierDisplayPreview:m}},_=n(14),v=Object(_.a)(g,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ol",{staticClass:"rules"},[e._l(e.rules,function(t,i){return n("rule-display-preview",{key:i,attrs:{rule:t,index:i,"col-headers":e.columnData.colHeadersPerRule[i]}})}),e._v(" "),e._l(e.mapping,function(t,i){return n("identifier-display-preview",e._b({key:t.type,attrs:{index:i,"col-headers":e.colHeaders}},"identifier-display-preview",t,!1))})],2)])},[],!1,null,null,null);v.options.__file="RulesDisplay.vue";var y=v.exports,b=r.a.View.extend({initialize:function(e){var t=this;this.options=e,this.target=e.target,this.reset=null;var n=this;this.browse_button=new u.a.Button({title:c()("Edit"),icon:"fa fa-edit",tooltip:c()("Edit Rules"),onclick:function(){n.target?n._fetcCollectionAndEdit():n._showRuleEditor(null)}}),this.on("change",function(){e.onchange&&e.onchange(t.value())}),this.setElement(this._template(e)),this.$(".ui-rules-edit-button").append(this.browse_button.$el);var i=d.a.extend(y),r=document.createElement("div");this.$(".ui-rules-preview").append(r),this.instance=new i({propsData:{initialRules:{rules:[],mapping:[]}}}),this.instance.$mount(r),this.collapsible_disabled=!0},_fetcCollectionAndEdit:function(){var e=this,t="".concat(Object(o.a)(),"api/dataset_collections/").concat(this.target.id,"?instance_type=history");s.a.get(t).then(function(t){return e._showCollection(t)}).catch(this._renderFetchError)},_showCollection:function(e){var t=e.data;this._showRuleEditor(t)},_showRuleEditor:function(e){var t=this,n={saveRulesFn:function(e){return t._handleRulesSave(e)},initialRules:this._value};h.a.ruleBasedCollectionCreatorModal(e,"collection_contents","collections",n).done(function(){})},_handleRulesSave:function(e){this._setValue(e)},_renderFetchError:function(e){console.log(e),console.log("problem fetching collection")},_template:function(e){return'\n            <div class="ui-rules-edit clearfix">\n                <span class="ui-rules-preview" />\n                <span class="ui-rules-edit-button float-left" />\n            </div>\n        '},value:function(e){if(void 0===e)return this._getValue();this._setValue(e)},update:function(e){this.target=e.target},_getValue:function(){return this._value},_setValue:function(e){e&&("string"==typeof e&&(e=JSON.parse(e)),this._value=e,this.trigger("change"),this.instance.inputRules=e,this.reset&&(this.reset(),this.reset=null))},validate:function(e){var t=this._value,n=null;if(t&&0!==t.rules.length)if(0===t.mapping.length)n="No collection identifiers defined, specify at least one collection identifier.";else{var i=!0,r=!1,o=void 0;try{for(var a,s=t.rules[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){if(a.value.error){n="One or more rules in error.";break}}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}}else n="No rules defined, define at least one rule.";return this.reset=e,{valid:!n,message:n}}});t.a={View:b}},function(e,t,n){"use strict";var i=n(408),r={data:function(){return{errorStack:[],errorStackLoaded:!1,errorStackAttributes:[{key:"time",sortable:!0},{key:"phase",sortable:!0},{key:"file",sortable:!0},{key:"error"}],messageText:null}},computed:{errorStackVisible:function(){return this.errorStack.length>0},messageVisible:function(){return null!=this.messageText},infoVisible:function(){return!this.errorStackVisible&&this.errorStackLoaded}},created:function(){var e=this;Object(i.b)().then(function(t){e.errorStack=t.data,e.errorStackLoaded=!0}).catch(function(t){var n=t&&t.response&&t.response.data&&t.response.data.err_msg;e.messageText=n||"Request failed for an unknown reason."})}},o=n(14),a=Object(o.a)(r,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-alert",{attrs:{show:e.messageVisible,variant:"danger"}},[e._v("\n        "+e._s(e.messageText)+"\n    ")]),e._v(" "),n("b-alert",{attrs:{show:e.infoVisible,variant:"info"}},[e._v("\n        No errors available.\n    ")]),e._v(" "),e.errorStackVisible?n("b-table",{attrs:{striped:"",fields:e.errorStackAttributes,items:e.errorStack}}):e._e()],1)},[],!1,null,null,null);a.options.__file="ErrorStack.vue";t.a=a.exports},function(e,t,n){"use strict";var i=n(4),r=n(5),o=n(15),a=n.n(o),s=n(18),l=n(83);s.a.use(l.a);var c={data:function(){var e=Object(r.getGalaxyInstance)();return{sourceFile:null,sourceURL:null,errorMessage:null,myexperiment_target_url:"http://".concat(e.config.myexperiment_target_url,"/galaxy?galaxy_url=").concat(window.location.protocol,"//").concat(window.location.host)}},computed:{hasErrorMessage:function(){return null!=this.errorMessage}},methods:{submit:function(e){var t=this;if(e.preventDefault(),this.sourceFile||this.sourceURL){var n=new FormData;n.append("archive_file",this.sourceFile),n.append("archive_source",this.sourceURL),a.a.post("".concat(Object(i.a)(),"api/workflows"),n).then(function(e){window.location="".concat(Object(i.a)(),"workflows/list?message=").concat(e.data.message,"&status=success")}).catch(function(e){var n=e.response.data&&e.response.data.err_msg;t.errorMessage=n||"Import failed for an unknown reason."})}else this.errorMessage="You must provide a workflow archive URL or file."}}},u=n(14),d=Object(u.a)(c,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-form",{on:{submit:e.submit}},[n("b-card",{attrs:{title:"Import Workflow"}},[n("b-alert",{attrs:{show:e.hasErrorMessage,variant:"danger"}},[e._v(e._s(e.errorMessage))]),e._v(" "),n("p",[e._v("Please provide a Galaxy workflow export URL or a workflow file.")]),e._v(" "),n("b-form-group",{attrs:{label:"Archived Workflow URL"}},[n("b-form-input",{attrs:{id:"workflow-import-url-input",type:"url"},model:{value:e.sourceURL,callback:function(t){e.sourceURL=t},expression:"sourceURL"}}),e._v("\n            If the workflow is accessible via a URL, enter the URL above and click Import.\n        ")],1),e._v(" "),n("b-form-group",{attrs:{label:"Archived Workflow File"}},[n("b-form-file",{model:{value:e.sourceFile,callback:function(t){e.sourceFile=t},expression:"sourceFile"}}),e._v("\n            If the workflow is in a file on your computer, choose it and then click Import.\n        ")],1),e._v(" "),n("b-button",{attrs:{id:"workflow-import-button",type:"submit"}},[e._v("Import workflow")]),e._v(" "),n("p",{staticClass:"mt-4"}),n("h4",[e._v("Import a Workflow from myExperiment")]),e._v(" "),n("a",{attrs:{href:e.myexperiment_target_url}},[e._v("Visit myExperiment")]),e._v(" "),n("div",{staticClass:"form-text"},[e._v("Click the link above to visit myExperiment and search for Galaxy workflows.")]),e._v(" "),n("p")],1)],1)},[],!1,null,null,null);d.options.__file="WorkflowImport.vue";t.a=d.exports},function(e,t,n){"use strict";var i=n(408),r={data:function(){return{applications:[],applicationsLoaded:!1,applicationsAttributes:[{key:"reload"},{key:"name",sortable:!0},{key:"id",sortable:!0},{key:"version"},{key:"links"}],messageText:null,messageVariant:null}},computed:{applicationsIndex:function(){var e={},t=!0,n=!1,i=void 0;try{for(var r,o=this.applications[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;e[a.id]=a}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return e},applicationsAll:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var r,o=this.applications[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;e.push(a.id)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}return e},applicationsVisible:function(){return this.applications.length>0},applicationsLength:function(){return this.applications.length},messageVisible:function(){return null!=this.messageText},warningVisible:function(){return!this.applicationsVisible&&this.applicationsLoaded}},created:function(){var e=this;Object(i.a)().then(function(t){e.applications=t.data,e.applicationsLoaded=!0}).catch(function(t){e._errorMessage(t)})},methods:{reload:function(e){this._reload([e])},reloadAll:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var r,o=this.applications[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;e.push(a.id)}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}this._reload(e)},_reload:function(e){var t=this;this._highlightRows(this.applicationsAll,"default"),Object(i.c)(e).then(function(e){t.messageVariant="info",t.messageText=e.data.message,t._highlightRows(e.data.failed,"danger"),t._highlightRows(e.data.reloaded,"success")}).catch(function(e){t._errorMessage(e)})},_highlightRows:function(e,t){var n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=this.applicationsIndex[s];l&&(l._rowVariant=t)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}},_errorMessage:function(e){var t=e&&e.response&&e.response.data&&e.response.data.err_msg;this.messageText=t||"Request failed for an unknown reason.",this.messageVariant="danger"}}},o=n(14),a=Object(o.a)(r,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-alert",{attrs:{show:e.messageVisible,variant:e.messageVariant}},[e._v("\n        "+e._s(e.messageText)+"\n    ")]),e._v(" "),n("b-alert",{attrs:{show:e.warningVisible,variant:"warning"}},[e._v("\n        No display applications available.\n    ")]),e._v(" "),e.applicationsVisible?n("div",{staticClass:"card-header"},[e._v("\n        There are currently "+e._s(e.applicationsLength)+"\n        "),n("b-button",{attrs:{size:"sm",title:"Reload all display applications","data-placement":"bottom"},on:{click:function(t){t.preventDefault(),e.reloadAll()}}},[n("span",{staticClass:"fa fa-refresh"})]),e._v("\n        display applications loaded.\n    ")],1):e._e(),e._v(" "),e.applicationsVisible?n("b-table",{attrs:{id:"display-applications-grid",striped:"",fields:e.applicationsAttributes,items:e.applications},scopedSlots:e._u([{key:"reload",fn:function(t){return[n("b-button",{attrs:{size:"sm",title:"Reload display application","data-placement":"bottom"},on:{click:function(n){n.preventDefault(),e.reload(t.item.id,t.index)}}},[n("span",{staticClass:"fa fa-refresh"})])]}},{key:"links",fn:function(t){return e._l(t.item.links,function(t){return n("li",[e._v(e._s(t.name))])})}}])}):e._e()],1)},[],!1,null,null,null);a.options.__file="DisplayApplications.vue";t.a=a.exports},function(e,t,n){"use strict";var i=n(4),r=n(15),o=n.n(r),a=n(463),s=n(462),l={components:{Message:a.a,BaseGrid:s.a},data:function(){return{showAllColumns:!1,keys:[],dataTypes:[],message:"",status:""}},methods:{prettyColumns:function(){return[{text:"Extension",dataIndex:"extension"},{text:"Type",dataIndex:"type"},{text:"MIME Type",dataIndex:"mimetype"},{text:"Display in Upload",dataIndex:"display_in_upload"}]}},computed:{columns:function(){var e=this.prettyColumns();if(this.keys.length>0&&this.showAllColumns){var t=this.keys,n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t=t.filter(function(e){return e!==s.dataIndex})}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}e=t.reduce(function(e,t){var n=t[0].toUpperCase();return n+=t.slice(1).replace(/_/g," "),e.push({text:n,dataIndex:t}),e},e)}return e},isDataLoaded:function(){return""!==status||this.dataTypes.length>0}},created:function(){var e=this;o.a.get("".concat(Object(i.a)(),"admin/data_types_list")).then(function(t){e.keys=t.data.keys,e.dataTypes=t.data.data,e.message=t.data.message,e.status=t.data.status}).catch(function(e){console.error(e)})}},c=n(14),u=Object(c.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Message",{attrs:{message:e.message,status:e.status}}),e._v(" "),"error"!==e.status?n("BaseGrid",{attrs:{columns:e.columns,rows:e.dataTypes,isLoaded:e.isDataLoaded,id:"data-types-grid"}},[n("template",{slot:"title"},[n("p",[e._v("Current data types registry contains "+e._s(e.dataTypes.length)+" data types.")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.showAllColumns,expression:"showAllColumns"}],attrs:{type:"checkbox",id:"showAllColumns"},domProps:{checked:Array.isArray(e.showAllColumns)?e._i(e.showAllColumns,null)>-1:e.showAllColumns},on:{change:function(t){var n=e.showAllColumns,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&(e.showAllColumns=n.concat([null])):o>-1&&(e.showAllColumns=n.slice(0,o).concat(n.slice(o+1)))}else e.showAllColumns=r}}}),e._v(" "),n("label",{attrs:{for:"showAllColumns"}},[e._v("Show all columns")])])],2):e._e()],1)},[],!1,null,null,null);u.options.__file="DataTypes.vue";t.a=u.exports},function(e,t,n){"use strict";var i=n(4),r=n(15),o=n.n(r),a=n(18),s=n(83);a.a.use(s.a);var l={data:function(){return{sourceFile:null,sourceURL:null,errorMessage:null}},computed:{hasErrorMessage:function(){return null!=this.errorMessage}},methods:{submit:function(e){var t=this;if(e.preventDefault(),this.sourceFile||this.sourceURL){var n=new FormData;n.append("archive_file",this.sourceFile),n.append("archive_source",this.sourceURL),o.a.post("".concat(Object(i.a)(),"api/histories"),n).then(function(e){window.location="".concat(Object(i.a)(),"histories/list?message=").concat(e.data.message,"&status=success")}).catch(function(e){var n=e.response.data&&e.response.data.err_msg;t.errorMessage=n||"Import failed for an unknown reason."})}else this.errorMessage="You must provide a history archive URL or file."}}},c=n(14),u=Object(c.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-form",{on:{submit:e.submit}},[n("b-card",{attrs:{title:"Import a history from an archive"}},[n("b-alert",{attrs:{show:e.hasErrorMessage,variant:"danger"}},[e._v(e._s(e.errorMessage))]),e._v(" "),n("p",[e._v("Please provide a Galaxy history export URL or a history file.")]),e._v(" "),n("b-form-group",{attrs:{label:"Archived History URL"}},[n("b-form-input",{attrs:{type:"url"},model:{value:e.sourceURL,callback:function(t){e.sourceURL=t},expression:"sourceURL"}})],1),e._v(" "),n("b-form-group",{attrs:{label:"Archived History File"}},[n("b-form-file",{model:{value:e.sourceFile,callback:function(t){e.sourceFile=t},expression:"sourceFile"}})],1),e._v(" "),n("b-button",{attrs:{type:"submit"}},[e._v("Import history")])],1)],1)},[],!1,null,null,null);u.options.__file="HistoryImport.vue";t.a=u.exports},function(e,t,n){"use strict";var i=n(446).a,r=n(14),o=Object(r.a)(i,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui-thumbnails"},[e.error?n("div",{staticClass:"alert alert-danger"},[e._v("\n        "+e._s(e.error)+"\n    ")]):n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"search-query parent-width",attrs:{name:"query",placeholder:"search visualizations",autocomplete:"off",type:"text"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),e._l(e.plugins,function(t){return n("div",[e.match(t)?n("table",[n("tr",{staticClass:"ui-thumbnails-item",on:{click:function(n){e.select(t)}}},[n("td",[t.logo?n("img",{staticClass:"ui-thumbnails-image",attrs:{src:t.logo}}):n("div",{staticClass:"ui-thumbnails-icon fa fa-eye"})]),e._v(" "),n("td",[n("div",{staticClass:"ui-thumbnails-title font-weight-bold text-dark"},[e._v("\n                            "+e._s(t.html)+"\n                        ")]),e._v(" "),n("div",{staticClass:"ui-thumbnails-text text-dark"},[e._v("\n                            "+e._s(t.description)+"\n                        ")])])]),e._v(" "),e.fixed?e._e():n("tr",[n("td"),e._v(" "),t.name==e.name?n("td",[e.hdas&&e.hdas.length>0?n("div",[n("div",{staticClass:"font-weight-bold text-dark"},[e._v("Select a dataset to visualize:")]),e._v(" "),n("div",{staticClass:"ui-select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],staticClass:"select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selected=t.target.multiple?n:n[0]}}},e._l(e.hdas,function(t){return n("option",{domProps:{value:t.id}},[e._v(e._s(t.name))])})),e._v(" "),n("div",{staticClass:"icon-dropdown fa fa-caret-down"})]),e._v(" "),n("button",{staticClass:"ui-button-default float-left mt-3 btn btn-primary",attrs:{type:"button"},on:{click:function(n){e.create(t)}}},[n("i",{staticClass:"icon fa fa-check"}),e._v(" "),n("span",{staticClass:"title"},[e._v("Create Visualization")])])]):n("div",{staticClass:"alert alert-danger"},[e._v("\n                            There is no suitable dataset in your current history which can be visualized with this plugin.\n                        ")])]):e._e()])]):e._e()])})],2)])},[],!1,null,null,null);o.options.__file="PluginList.vue";t.a=o.exports},function(e,t,n){"use strict";var i=n(442).a,r=(n(982),n(14)),o=Object(r.a)(i,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"structured-history-view"}},[n("div",{staticClass:"clear",attrs:{id:"history-view-controls"}},[n("div",{staticClass:"float-left"},[0==e.historyHistory.purged?n("span",[0==e.historyData.user_is_owner?n("span",[n("button",{staticClass:"btn btn-secondary",attrs:{id:"import"}},[e._v("Import and start using history")])]):e._e(),e._v(" "),e.historyData.user_is_owner&&0==e.historyData.history_is_current?n("span",[n("button",{staticClass:"btn btn-secondary",attrs:{id:"switch-history"},on:{click:e.switchHistory}},[e._v("Switch to this history")])]):e._e(),e._v(" "),n("button",{staticClass:"btn btn-secondary",attrs:{id:"show-structure"},on:{click:e.showStructure}},[e._v("Show structure")])]):e._e()]),e._v(" "),e._m(0)]),e._v(" "),e._l(e.errorMessages,function(t){return n("div",[n("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v("\n            "+e._s(t)+"\n        ")])])}),e._v(" "),n("div",{staticClass:"history-panel unified-panel-body",staticStyle:{overflow:"auto"},attrs:{id:"history-"+e.historyHistory.id}})],2)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"float-right"},[t("button",{staticClass:"btn btn-secondary",attrs:{id:"toggle-deleted"}},[this._v("Include deleted")]),this._v(" "),t("button",{staticClass:"btn btn-secondary",attrs:{id:"toggle-hidden"}},[this._v("Include hidden")])])}],!1,null,null,null);o.options.__file="HistoryView.vue";t.a=o.exports},function(e,t,n){"use strict";var i=n(433).a,r=(n(431),n(908),n(14)),o=Object(r.a)(i,function(){var e=this,t=e.$createElement,n=e._self._c||t;return"build"==e.state?n("state-div",["source"==e.ruleView?n("rule-modal-header",[e._v("\n        Below is a raw JSON description of the rules to apply to the tabular data. This is an advanced setting.\n    ")]):"datasets"==e.elementsType||"library_datasets"==e.elementsType?n("rule-modal-header",[e._v("\n        Use this form to describe rules for building collection(s) from the specified datasets. "),n("b",[e._v("Be sure to specify at least one column as a list identifier")]),e._v(' - specify more to created nested list structures. Specify a column to serve as "collection name" to group datasets into multiple collections.\n    ')]):"datasets"==e.importType?n("rule-modal-header",[e._v("\n        Use this form to describe rules for import datasets. At least one column should be defined to a source to fetch data from (URLs, FTP files, etc...).\n    ")]):n("rule-modal-header",[e._v("\n        Use this form to describe rules for import datasets. At least one column should be defined to a source to fetch data from (URLs, FTP files, etc...). "),n("b",[e._v("Be sure to specify at least one column as a list identifier")]),e._v(' - specify more to created nested list structures. Specify a column to serve as "collection name" to group datasets into multiple collections.\n    ')]),e._v(" "),"source"==e.ruleView?n("rule-modal-middle",[e.ruleSourceError?n("p",{staticClass:"errormessagelarge"},[e._v(e._s(e.ruleSourceError))]):e._e(),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.ruleSource,expression:"ruleSource"}],staticClass:"rule-source",domProps:{value:e.ruleSource},on:{input:function(t){t.target.composing||(e.ruleSource=t.target.value)}}})]):n("rule-modal-middle",["normal"==e.ruleView?n("div",{staticClass:"rule-builder-body vertically-spaced",class:{"flex-column-container":e.vertical}},[n("div",{staticClass:"rule-column",class:e.orientation},[n("div",{staticClass:"rules-container",class:{"rules-container-vertical":e.initialElements&&e.vertical,"rules-container-horizontal":e.initialElements&&e.horizontal,"rules-container-full":null==e.initialElements}},[n("rule-component",{attrs:{"rule-type":"sort","display-rule-type":e.displayRuleType,builder:this}},[n("column-selector",{attrs:{target:e.addSortingTarget,"col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.addSortingTarget=t}}}),e._v(" "),n("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.titleNumericSort}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.addSortingNumeric,expression:"addSortingNumeric"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.addSortingNumeric)?e._i(e.addSortingNumeric,null)>-1:e.addSortingNumeric},on:{change:function(t){var n=e.addSortingNumeric,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&(e.addSortingNumeric=n.concat([null])):o>-1&&(e.addSortingNumeric=n.slice(0,o).concat(n.slice(o+1)))}else e.addSortingNumeric=r}}}),e._v("\n                            "+e._s(e.l("Numeric sorting."))+"\n                        ")])],1),e._v(" "),n("rule-component",{attrs:{"rule-type":"add_column_basename","display-rule-type":e.displayRuleType,builder:this}},[n("column-selector",{attrs:{target:e.addColumnBasenameTarget,"col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.addColumnBasenameTarget=t}}})],1),e._v(" "),n("rule-component",{attrs:{"rule-type":"add_column_rownum","display-rule-type":e.displayRuleType,builder:this}},[n("label",[e._v("\n                            "+e._s(e.l("Starting from"))+"\n                            "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.addColumnRownumStart,expression:"addColumnRownumStart"}],attrs:{type:"number",min:"0"},domProps:{value:e.addColumnRownumStart},on:{input:function(t){t.target.composing||(e.addColumnRownumStart=t.target.value)}}})])]),e._v(" "),n("rule-component",{attrs:{"rule-type":"add_column_metadata","display-rule-type":e.displayRuleType,builder:this}},[n("label",[e._v("\n                            "+e._s(e.l("For"))+"\n                            "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.addColumnMetadataValue,expression:"addColumnMetadataValue"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.addColumnMetadataValue=t.target.multiple?n:n[0]}}},e._l(e.metadataOptions,function(t,i){return n("option",{domProps:{value:i}},[e._v(e._s(t))])}))])]),e._v(" "),n("rule-component",{attrs:{"rule-type":"add_column_group_tag_value","display-rule-type":e.displayRuleType,builder:this}},[n("label",[e._v("\n                            "+e._s(e.l("Value"))+"\n                            "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.addColumnGroupTagValueValue,expression:"addColumnGroupTagValueValue"}],attrs:{type:"text"},domProps:{value:e.addColumnGroupTagValueValue},on:{input:function(t){t.target.composing||(e.addColumnGroupTagValueValue=t.target.value)}}})]),e._v(" "),n("label",[e._v("\n                            "+e._s(e.l("Default"))+"\n                            "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.addColumnGroupTagValueDefault,expression:"addColumnGroupTagValueDefault"}],attrs:{type:"text"},domProps:{value:e.addColumnGroupTagValueDefault},on:{input:function(t){t.target.composing||(e.addColumnGroupTagValueDefault=t.target.value)}}})])]),e._v(" "),n("rule-component",{attrs:{"rule-type":"add_column_regex","display-rule-type":e.displayRuleType,builder:this}},[n("column-selector",{attrs:{target:e.addColumnRegexTarget,"col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.addColumnRegexTarget=t}}}),e._v(" "),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.addColumnRegexType,expression:"addColumnRegexType"}],attrs:{type:"radio",value:"global"},domProps:{checked:e._q(e.addColumnRegexType,"global")},on:{change:function(t){e.addColumnRegexType="global"}}}),e._v("Create column matching expression.")]),n("br"),e._v(" "),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.addColumnRegexType,expression:"addColumnRegexType"}],attrs:{type:"radio",value:"groups"},domProps:{checked:e._q(e.addColumnRegexType,"groups")},on:{change:function(t){e.addColumnRegexType="groups"}}}),e._v("Create columns matching expression groups.")]),n("br"),e._v(" "),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.addColumnRegexType,expression:"addColumnRegexType"}],attrs:{type:"radio",value:"replacement"},domProps:{checked:e._q(e.addColumnRegexType,"replacement")},on:{change:function(t){e.addColumnRegexType="replacement"}}}),e._v("Create column from expression replacement.")]),n("br"),e._v(" "),n("regular-expression-input",{attrs:{target:e.addColumnRegexExpression},on:{"update:target":function(t){e.addColumnRegexExpression=t}}}),e._v(" "),"groups"==e.addColumnRegexType?n("label",[e._v("\n                            "+e._s(e.l("Number of Groups"))+"\n                            "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.addColumnRegexGroupCount,expression:"addColumnRegexGroupCount"}],attrs:{type:"number",min:"1"},domProps:{value:e.addColumnRegexGroupCount},on:{input:function(t){t.target.composing||(e.addColumnRegexGroupCount=t.target.value)}}})]):e._e(),e._v(" "),"replacement"==e.addColumnRegexType?n("label",[e._v("\n                            "+e._s(e.l("Replacement Expression"))+"\n                            "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.addColumnRegexReplacement,expression:"addColumnRegexReplacement"}],staticClass:"rule-replacement",attrs:{type:"text"},domProps:{value:e.addColumnRegexReplacement},on:{input:function(t){t.target.composing||(e.addColumnRegexReplacement=t.target.value)}}})]):e._e()],1),e._v(" "),n("rule-component",{attrs:{"rule-type":"add_column_concatenate","display-rule-type":e.displayRuleType,builder:this}},[n("column-selector",{attrs:{target:e.addColumnConcatenateTarget0,"col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.addColumnConcatenateTarget0=t}}}),e._v(" "),n("column-selector",{attrs:{target:e.addColumnConcatenateTarget1,"col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.addColumnConcatenateTarget1=t}}})],1),e._v(" "),n("rule-component",{attrs:{"rule-type":"add_column_substr","display-rule-type":e.displayRuleType,builder:this}},[n("column-selector",{attrs:{target:e.addColumnSubstrTarget,"col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.addColumnSubstrTarget=t}}}),e._v(" "),n("label",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.addColumnSubstrType,expression:"addColumnSubstrType"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.addColumnSubstrType=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"keep_prefix"}},[e._v("Keep only prefix specified.")]),e._v(" "),n("option",{attrs:{value:"drop_prefix"}},[e._v("Strip off prefix specified.")]),e._v(" "),n("option",{attrs:{value:"keep_suffix"}},[e._v("Keep only suffix specified.")]),e._v(" "),n("option",{attrs:{value:"drop_suffix"}},[e._v("Strip off suffix specified.")])])]),e._v(" "),n("label",[e._v("\n                            "+e._s(e.l("Prefix or suffix length"))+"\n                            "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.addColumnSubstrLength,expression:"addColumnSubstrLength"}],attrs:{type:"number",min:"0"},domProps:{value:e.addColumnSubstrLength},on:{input:function(t){t.target.composing||(e.addColumnSubstrLength=t.target.value)}}})])],1),e._v(" "),n("rule-component",{attrs:{"rule-type":"add_column_value","display-rule-type":e.displayRuleType,builder:this}},[n("label",[e._v("\n                            "+e._s(e.l("Value"))+"\n                            "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.addColumnValue,expression:"addColumnValue"}],attrs:{type:"text"},domProps:{value:e.addColumnValue},on:{input:function(t){t.target.composing||(e.addColumnValue=t.target.value)}}})])]),e._v(" "),n("rule-component",{attrs:{"rule-type":"remove_columns","display-rule-type":e.displayRuleType,builder:this}},[n("column-selector",{attrs:{target:e.removeColumnTargets,"col-headers":e.activeRuleColHeaders,multiple:!0},on:{"update:target":function(t){e.removeColumnTargets=t}}})],1),e._v(" "),n("rule-component",{attrs:{"rule-type":"split_columns","display-rule-type":e.displayRuleType,builder:this}},[n("column-selector",{attrs:{target:e.splitColumnsTargets0,label:"Odd Row Column(s)","col-headers":e.activeRuleColHeaders,multiple:!0},on:{"update:target":function(t){e.splitColumnsTargets0=t}}}),e._v(" "),n("column-selector",{attrs:{target:e.splitColumnsTargets1,label:"Even Row Column(s)","col-headers":e.activeRuleColHeaders,multiple:!0},on:{"update:target":function(t){e.splitColumnsTargets1=t}}})],1),e._v(" "),n("rule-component",{attrs:{"rule-type":"swap_columns","display-rule-type":e.displayRuleType,builder:this}},[n("column-selector",{attrs:{target:e.swapColumnsTarget0,label:"Swap Column","col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.swapColumnsTarget0=t}}}),e._v(" "),n("column-selector",{attrs:{target:e.swapColumnsTarget1,label:"With Column","col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.swapColumnsTarget1=t}}})],1),e._v(" "),n("rule-component",{attrs:{"rule-type":"add_filter_regex","display-rule-type":e.displayRuleType,builder:this}},[n("column-selector",{attrs:{target:e.addFilterRegexTarget,"col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.addFilterRegexTarget=t}}}),e._v(" "),n("regular-expression-input",{attrs:{target:e.addFilterRegexExpression},on:{"update:target":function(t){e.addFilterRegexExpression=t}}}),e._v(" "),n("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.titleInvertFilterRegex}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.addFilterRegexInvert,expression:"addFilterRegexInvert"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.addFilterRegexInvert)?e._i(e.addFilterRegexInvert,null)>-1:e.addFilterRegexInvert},on:{change:function(t){var n=e.addFilterRegexInvert,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&(e.addFilterRegexInvert=n.concat([null])):o>-1&&(e.addFilterRegexInvert=n.slice(0,o).concat(n.slice(o+1)))}else e.addFilterRegexInvert=r}}}),e._v("\n                            "+e._s(e.l("Invert filter."))+"\n                        ")])],1),e._v(" "),n("rule-component",{attrs:{"rule-type":"add_filter_matches","display-rule-type":e.displayRuleType,builder:this}},[n("column-selector",{attrs:{target:e.addFilterMatchesTarget,"col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.addFilterMatchesTarget=t}}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.addFilterMatchesValue,expression:"addFilterMatchesValue"}],attrs:{type:"text"},domProps:{value:e.addFilterMatchesValue},on:{input:function(t){t.target.composing||(e.addFilterMatchesValue=t.target.value)}}}),e._v(" "),n("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.titleInvertFilterMatches}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.addFilterMatchesInvert,expression:"addFilterMatchesInvert"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.addFilterMatchesInvert)?e._i(e.addFilterMatchesInvert,null)>-1:e.addFilterMatchesInvert},on:{change:function(t){var n=e.addFilterMatchesInvert,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&(e.addFilterMatchesInvert=n.concat([null])):o>-1&&(e.addFilterMatchesInvert=n.slice(0,o).concat(n.slice(o+1)))}else e.addFilterMatchesInvert=r}}}),e._v("\n                            "+e._s(e.l("Invert filter."))+"\n                        ")])],1),e._v(" "),n("rule-component",{attrs:{"rule-type":"add_filter_compare","display-rule-type":e.displayRuleType,builder:this}},[n("column-selector",{attrs:{target:e.addFilterCompareTarget,"col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.addFilterCompareTarget=t}}}),e._v(" "),n("label",[e._v("\n                            Filter out rows\n                            "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.addFilterCompareType,expression:"addFilterCompareType"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.addFilterCompareType=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"less_than"}},[e._v(e._s(e.l("less than"))+" ")]),e._v(" "),n("option",{attrs:{value:"less_than_equal"}},[e._v(e._s(e.l("less than or equal to")))]),e._v(" "),n("option",{attrs:{value:"greater_than"}},[e._v(e._s(e.l("greater than")))]),e._v(" "),n("option",{attrs:{value:"greater_than_equal"}},[e._v(e._s(e.l("greater than or equal to")))])])]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.addFilterCompareValue,expression:"addFilterCompareValue"}],attrs:{type:"text"},domProps:{value:e.addFilterCompareValue},on:{input:function(t){t.target.composing||(e.addFilterCompareValue=t.target.value)}}})],1),e._v(" "),n("rule-component",{attrs:{"rule-type":"add_filter_count","display-rule-type":e.displayRuleType,builder:this}},[n("label",[e._v("\n                            Filter which rows?\n                            "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.addFilterCountWhich,expression:"addFilterCountWhich"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.addFilterCountWhich=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"first"}},[e._v("first")]),e._v(" "),n("option",{attrs:{value:"last"}},[e._v("last")])])]),e._v(" "),n("label",[e._v("\n                            Filter how many rows?\n                            "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.addFilterCountN,expression:"addFilterCountN"}],attrs:{type:"number"},domProps:{value:e.addFilterCountN},on:{input:function(t){t.target.composing||(e.addFilterCountN=t.target.value)}}})]),e._v(" "),n("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.titleInvertFilterMatches}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.addFilterCountInvert,expression:"addFilterCountInvert"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.addFilterCountInvert)?e._i(e.addFilterCountInvert,null)>-1:e.addFilterCountInvert},on:{change:function(t){var n=e.addFilterCountInvert,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&(e.addFilterCountInvert=n.concat([null])):o>-1&&(e.addFilterCountInvert=n.slice(0,o).concat(n.slice(o+1)))}else e.addFilterCountInvert=r}}}),e._v("\n                            "+e._s(e.l("Invert filter."))+"\n                        ")])]),e._v(" "),n("rule-component",{attrs:{"rule-type":"add_filter_empty","display-rule-type":e.displayRuleType,builder:this}},[n("column-selector",{attrs:{target:e.addFilterEmptyTarget,"col-headers":e.activeRuleColHeaders},on:{"update:target":function(t){e.addFilterEmptyTarget=t}}}),e._v(" "),n("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.titleInvertFilterEmpty}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.addFilterEmptyInvert,expression:"addFilterEmptyInvert"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.addFilterEmptyInvert)?e._i(e.addFilterEmptyInvert,null)>-1:e.addFilterEmptyInvert},on:{change:function(t){var n=e.addFilterEmptyInvert,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&(e.addFilterEmptyInvert=n.concat([null])):o>-1&&(e.addFilterEmptyInvert=n.slice(0,o).concat(n.slice(o+1)))}else e.addFilterEmptyInvert=r}}}),e._v("\n                            "+e._s(e.l("Invert filter."))+"\n                        ")])],1),e._v(" "),"mapping"==e.displayRuleType?n("div",[e._l(e.mapping,function(t,i){return n("div",{key:t.type,staticClass:"map",attrs:{index:i}},[n("column-selector",{class:"rule-map-"+t.type.replace(/_/g,"-"),attrs:{label:e.mappingTargets()[t.type].label,help:e.mappingTargets()[t.type].help,target:t.columns,"ordered-edit":t.editing,"col-headers":e.colHeaders,multiple:e.mappingTargets()[t.type].multiple,ordered:!0,"value-as-list":!0},on:{"update:target":function(n){e.$set(t,"columns",n)},"update:orderedEdit":function(n){e.$set(t,"editing",n)}}},[n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fa fa-times",attrs:{title:e.titleRemoveMapping},on:{click:function(t){e.removeMapping(i)}}})])],1)}),e._v(" "),n("div",{staticClass:"buttons rule-edit-buttons d-flex justify-content-end"},[e.unmappedTargets.length>0?n("button",{staticClass:"dropdown-toggle btn btn-primary mr-1",attrs:{type:"button","data-toggle":"dropdown"}},[n("span",{staticClass:"fa fa-plus rule-add-mapping"}),e._v(" "+e._s("Add Definition")),n("span",{staticClass:"caret"})]):e._e(),e._v(" "),n("div",{staticClass:"dropdown-menu",attrs:{role:"menu"}},e._l(e.unmappedTargets,function(t){return n("a",{key:t,staticClass:"dropdown-item",class:"rule-add-mapping-"+t.replace(/_/g,"-"),attrs:{index:t,href:"javascript:void(0)"},on:{click:function(n){e.addIdentifier(t)}}},[e._v("\n                                  "+e._s(e.mappingTargets()[t].label)+"\n                                ")])})),e._v(" "),e.hasActiveMappingEdit?e._e():n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",modifiers:{hover:!0,bottom:!0}}],staticClass:"rule-mapping-ok",attrs:{title:e.titleApplyColumnDefinitions},on:{click:function(t){e.displayRuleType=null}}},[e._v(e._s(e.l("Apply")))])],1)],2):e._e(),e._v(" "),null==e.displayRuleType?n("div",{staticClass:"rule-summary"},[n("span",{staticClass:"title"},[e._v("\n                            "+e._s(e.l("Rules"))+"\n                            "),n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fa fa-wrench rule-builder-view-source",attrs:{title:e.titleViewSource},on:{click:e.viewSource}})]),e._v(" "),e.jaggedData?n("div",{staticClass:"rule-warning"},[e._v("\n                            Rows contain differing numbers of columns, there was likely a problem parsing your data.\n                        ")]):e._e(),e._v(" "),n("ol",{staticClass:"rules"},[e._l(e.rules,function(t,i){return n("rule-display",{key:i,attrs:{rule:t,index:i,"col-headers":e.colHeadersPerRule[i]},on:{edit:function(n){e.editRule(t,i)},remove:function(t){e.removeRule(i)}}})}),e._v(" "),e._l(e.mapping,function(t,i){return n("identifier-display",e._b({key:t.type,attrs:{index:i,"col-headers":e.colHeaders},on:{remove:function(t){e.removeMapping(i)},edit:function(t){e.displayRuleType="mapping"}},nativeOn:{mouseover:function(n){t.columns.forEach(function(t){return e.highlightColumn(t)})},mouseout:function(n){t.columns.forEach(function(t){return e.unhighlightColumn(t)})}}},"identifier-display",t,!1))}),e._v(" "),0==e.mapping.length?n("div",[e._v("\n                                One or more column definitions must be specified. These are required to specify how to build collections and datasets from rows and columns of the table. "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){e.displayRuleType="mapping"}}},[e._v("Click here")]),e._v(" to manage column definitions.\n                            ")]):e._e()],2),e._v(" "),n("div",{staticClass:"rules-buttons"},[n("div",{staticClass:"btn-group dropup"},[n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",modifiers:{hover:!0,bottom:!0}}],staticClass:"rule-menu-rules-button primary-button dropdown-toggle",attrs:{type:"button",title:e.titleRulesMenu,"data-toggle":"dropdown"}},[n("span",{staticClass:"fa fa-plus"}),e._v(" "+e._s(e.l("Rules"))),n("span",{staticClass:"caret"})]),e._v(" "),n("div",{staticClass:"dropdown-menu",attrs:{role:"menu"}},[n("rule-target-component",{attrs:{builder:this,"rule-type":"sort"}}),e._v(" "),n("rule-target-component",{attrs:{builder:this,"rule-type":"remove_columns"}}),e._v(" "),n("rule-target-component",{attrs:{builder:this,"rule-type":"split_columns"}}),e._v(" "),n("rule-target-component",{attrs:{builder:this,"rule-type":"swap_columns"}}),e._v(" "),n("a",{staticClass:"dropdown-item rule-link rule-link-mapping",attrs:{href:"javascript:void(0)"},on:{click:function(t){e.displayRuleType="mapping"}}},[e._v("Add / Modify Column Definitions")])],1)]),e._v(" "),n("div",{staticClass:"btn-group dropup"},[n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",modifiers:{hover:!0,bottom:!0}}],staticClass:"rule-menu-filter-button primary-button dropdown-toggle",attrs:{type:"button",title:e.titleFilterMenu,"data-toggle":"dropdown"}},[n("span",{staticClass:"fa fa-plus"}),e._v(" "+e._s(e.l("Filter"))),n("span",{staticClass:"caret"})]),e._v(" "),n("div",{staticClass:"dropdown-menu",attrs:{role:"menu"}},[n("rule-target-component",{attrs:{builder:this,"rule-type":"add_filter_regex"}}),e._v(" "),n("rule-target-component",{attrs:{builder:this,"rule-type":"add_filter_matches"}}),e._v(" "),n("rule-target-component",{attrs:{builder:this,"rule-type":"add_filter_compare"}}),e._v(" "),n("rule-target-component",{attrs:{builder:this,"rule-type":"add_filter_empty"}}),e._v(" "),n("rule-target-component",{attrs:{builder:this,"rule-type":"add_filter_count"}})],1)]),e._v(" "),n("div",{staticClass:"btn-group dropup"},[n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottom",modifiers:{hover:!0,bottom:!0}}],staticClass:"rule-menu-column-button primary-button dropdown-toggle",attrs:{type:"button",title:e.titleColumMenu,"data-toggle":"dropdown"}},[n("span",{staticClass:"fa fa-plus"}),e._v(" "+e._s(e.l("Column"))),n("span",{staticClass:"caret"})]),e._v(" "),n("div",{staticClass:"dropdown-menu",attrs:{role:"menu"}},[n("rule-target-component",{attrs:{builder:this,"rule-type":"add_column_basename"}}),e._v(" "),e.metadataOptions?n("rule-target-component",{attrs:{builder:this,"rule-type":"add_column_metadata"}}):e._e(),e._v(" "),e.hasTagsMetadata?n("rule-target-component",{attrs:{builder:this,"rule-type":"add_column_group_tag_value"}}):e._e(),e._v(" "),n("rule-target-component",{attrs:{builder:this,"rule-type":"add_column_regex"}}),e._v(" "),n("rule-target-component",{attrs:{builder:this,"rule-type":"add_column_concatenate"}}),e._v(" "),n("rule-target-component",{attrs:{builder:this,"rule-type":"add_column_rownum"}}),e._v(" "),n("rule-target-component",{attrs:{builder:this,"rule-type":"add_column_value"}}),e._v(" "),n("rule-target-component",{attrs:{builder:this,"rule-type":"add_column_substr"}})],1)])])]):e._e()],1)]),e._v(" "),null!==e.initialElements?n("div",{staticClass:"table-column",class:e.orientation,staticStyle:{width:"100%"}},[n("hot-table",{ref:"hotTable",attrs:{id:"hot-table",data:e.hotData.data,colHeaders:e.colHeadersDisplay,readOnly:!0,stretchH:"all"}})],1):e._e()]):e._e()]),e._v(" "),"source"==e.ruleView?n("rule-modal-footer",[n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"rule-btn-cancel",attrs:{title:e.titleSourceCancel},on:{click:e.cancelSourceEdit}},[e._v("\n            "+e._s(e.l("Cancel"))+"\n        ")]),e._v(" "),n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"creator-reset-btn rule-btn-reset",attrs:{title:e.titleSourceReset}},[e._v("\n            "+e._s(e.l("Reset"))+"\n        ")]),e._v(" "),n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"rule-btn-okay",attrs:{title:e.titleSourceApply},on:{click:e.attemptRulePreview}},[e._v("\n            "+e._s(e.l("Apply"))+"\n        ")])],1):"normal"==e.ruleView?n("rule-modal-footer",[n("div",{staticClass:"rule-footer-inputs",attrs:{slot:"inputs"},slot:"inputs"},["datasets"==e.elementsType?n("label",[e._v("\n                "+e._s(e.l("Hide original elements"))+":\n            ")]):e._e(),e._v(" "),"datasets"==e.elementsType?n("input",{directives:[{name:"model",rawName:"v-model",value:e.hideSourceItems,expression:"hideSourceItems"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.hideSourceItems)?e._i(e.hideSourceItems,null)>-1:e.hideSourceItems},on:{change:function(t){var n=e.hideSourceItems,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&(e.hideSourceItems=n.concat([null])):o>-1&&(e.hideSourceItems=n.slice(0,o).concat(n.slice(o+1)))}else e.hideSourceItems=r}}}):e._e(),e._v(" "),e.extension&&e.showFileTypeSelector?n("div",{staticClass:"rule-footer-extension-group"},[n("label",[e._v("\n                    "+e._s(e.l("Type"))+":\n                ")]),e._v(" "),n("select2",{staticClass:"extension-select",attrs:{name:"extension"},model:{value:e.extension,callback:function(t){e.extension=t},expression:"extension"}},e._l(e.extensions,function(t,i){return n("option",{domProps:{value:t.id}},[e._v(e._s(t.text))])}))],1):e._e(),e._v(" "),e.genome&&e.showGenomeSelector?n("div",{staticClass:"rule-footer-genome-group"},[n("label",[e._v("\n                    "+e._s(e.l("Genome"))+":\n                ")]),e._v(" "),n("select2",{staticClass:"genome-select",model:{value:e.genome,callback:function(t){e.genome=t},expression:"genome"}},e._l(e.genomes,function(t,i){return n("option",{domProps:{value:t.id}},[e._v(e._s(t.text))])}))],1):e._e(),e._v(" "),e.showAddNameTag?n("label",[e._v("\n                "+e._s(e.l("Add nametag for name"))+":\n            ")]):e._e(),e._v(" "),e.showAddNameTag?n("input",{directives:[{name:"model",rawName:"v-model",value:e.addNameTag,expression:"addNameTag"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.addNameTag)?e._i(e.addNameTag,null)>-1:e.addNameTag},on:{change:function(t){var n=e.addNameTag,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&(e.addNameTag=n.concat([null])):o>-1&&(e.addNameTag=n.slice(0,o).concat(n.slice(o+1)))}else e.addNameTag=r}}}):e._e(),e._v(" "),e.showCollectionNameInput?n("div",{staticClass:"rule-footer-name-group"},[n("b-input",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"collection-name",attrs:{placeholder:e.namePlaceholder,title:e.namePlaceholder},model:{value:e.collectionName,callback:function(t){e.collectionName=t},expression:"collectionName"}}),e._v(" "),n("label",[e._v("\n                    "+e._s(e.l("Name"))+":\n                ")])],1):e._e()]),e._v(" "),n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"creator-cancel-btn rule-btn-cancel",attrs:{help:e.titleCancel,tabindex:"-1"},on:{click:e.cancel}},[e._v("\n            "+e._s(e.l("Cancel"))+"\n        ")]),e._v(" "),n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"creator-reset-btn rule-btn-reset",attrs:{title:e.titleReset},on:{click:e.resetRulesAndState}},[e._v("\n            "+e._s(e.l("Reset"))+"\n        ")]),e._v(" "),n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"create-collection rule-btn-okay",attrs:{title:e.titleFinish,variant:"primary",disabled:!e.validInput},on:{click:e.createCollection}},[e._v("\n            "+e._s(e.finishButtonTitle)+"\n        ")])],1):e._e()],1):"wait"==e.state?n("state-div",["datasets"==e.importType?n("rule-modal-header",[e._v("\n        "+e._s(e.l("Datasets submitted to Galaxy for creation, this dialog will close when dataset creation is complete. You may close this dialog at any time, but you will not be informed of errors with dataset creation and you may have to refresh your history manually to view new datasets once complete."))+"\n    ")]):"collections"==e.importType?n("rule-modal-header",[e._v("\n        "+e._s(e.l("Galaxy is waiting for collection creation, this dialog will close when this is complete. You may close this dialog at any time, but you will not be informed of errors with collection creation and you may have to refresh your history manually to view new collections once complete."))+"\n    ")]):e._e(),e._v(" "),n("rule-modal-footer",[n("b-button",{staticClass:"creator-cancel-btn",attrs:{tabindex:"-1"},on:{click:e.cancel}},[e._v("\n            "+e._s(e.l("Close"))+"\n        ")])],1)],1):"error"==e.state?n("state-div",[n("rule-modal-header",[e._v("\n        A problem was encountered.\n    ")]),e._v(" "),n("rule-modal-middle",[n("p",{staticClass:"errormessagelarge"},[e._v(e._s(e.errorMessage))])]),e._v(" "),n("rule-modal-footer",[n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"creator-cancel-btn",attrs:{title:e.titleCancel,tabindex:"-1"},on:{click:e.cancel}},[e._v("\n            "+e._s(e.l("Close"))+"\n        ")]),e._v(" "),n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.titleErrorOkay,tabindex:"-1"},on:{click:function(t){e.state="build"}}},[e._v("\n            "+e._s(e.l("Okay"))+"\n        ")])],1)],1):e._e()},[],!1,null,null,null);o.options.__file="RuleCollectionBuilder.vue";t.a=o.exports},function(e,t,n){"use strict";var i=n(438).a,r=(n(978),n(14)),o=Object(r.a)(i,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{staticClass:"data-dialog-modal",attrs:{"ok-only":!0,"ok-title":"Close"},model:{value:e.modalShow,callback:function(t){e.modalShow=t},expression:"modalShow"}},[n("template",{slot:"modal-header"},[n("h5",{staticClass:"modal-title"},[e._v(e._s(e.modalTitle))]),e._v(" "),e.optionsShow?n("b-input-group",[n("b-input",{attrs:{placeholder:"Type to Search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),e._v(" "),n("b-input-group-append",[n("b-btn",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Clear")])],1)],1):e._e()],1),e._v(" "),e.errorMessage?n("b-alert",{attrs:{variant:"danger",show:e.errorShow}},[e._v("\n        "+e._s(e.errorMessage)+"\n    ")]):n("div",[e.optionsShow?n("div",[n("b-table",{attrs:{small:"",hover:"",items:e.items,fields:e.fields,filter:e.filter},on:{"row-clicked":e.clicked,filtered:e.filtered},scopedSlots:e._u([{key:"name",fn:function(t){return["dataset"==t.item.history_content_type?n("i",{staticClass:"fa fa-file-o"}):n("i",{staticClass:"fa fa-copy"}),e._v("\n                    "+e._s(t.item.hid)+": "+e._s(t.value)+"\n                ")]}},{key:"extension",fn:function(t){return[e._v("\n                    "+e._s(t.value?t.value:"-")+"\n                ")]}},{key:"update_time",fn:function(t){return[e._v("\n                    "+e._s(t.value?t.value.substring(0,16).replace("T"," "):"-")+"\n                ")]}}])}),e._v(" "),0==e.nItems?n("div",[e._v("\n                No search results found for: "+e._s(this.filter)+".\n            ")]):e._e()],1):n("div",[n("span",{staticClass:"fa fa-spinner fa-spin"}),e._v(" "),n("span",[e._v("Please wait...")])])])],2)},[],!1,null,null,null);o.options.__file="DataDialog.vue";t.a=o.exports},function(e,t,n){"use strict";var i=n(14),r=Object(i.a)({},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h2",{staticClass:"mb-3"},[t("span",{attrs:{id:"data-managers-title"}},[this._v("Data Manager")]),this._v(" "),t("b-badge",{attrs:{href:"https://galaxyproject.org/admin/tools/data-managers/",target:"_blank",variant:"secondary"}},[this._v("Wiki")])],1),this._v(" "),t("router-view")],1)},[],!1,null,null,null);r.options.__file="DataManagerView.vue";t.a=r.exports},function(e,t,n){"use strict";var i=n(2),r=n.n(i),o=n(0),a=n.n(o),s=n(3),l=n.n(s),c=n(4),u=n(5),d=n(7),h=n(350),f=n(8),p=l.a.Model.extend(f.a.LoggableMixin).extend({_logNamespace:"workflow",urlRoot:"".concat(Object(c.a)(),"api/workflows"),toJSON:function(){return{workflow:this.attributes}}}),m={WorkflowItem:p,WorkflowCollection:l.a.Collection.extend({model:p,url:"".concat(Object(c.a)(),"api/workflows")})},g=n(22),_=n(1),v=n.n(_),y=n(81),b=l.a.View.extend({tagName:"tr",initialize:function(){r.a.bindAll(this,"render","_rowTemplate","renderTagEditor","_templateActions","removeWorkflow","copyWorkflow"),d.options.timeOut=1500},events:{"click #show-in-tool-panel":"showInToolPanel","click #delete-workflow":"removeWorkflow","click #rename-workflow":"renameWorkflow","click #copy-workflow":"copyWorkflow"},render:function(){return a()(this.el).html(this._rowTemplate()),this},showInToolPanel:function(){this.model.save({show_in_tool_panel:!this.model.get("show_in_tool_panel")},{success:function(){window.location="".concat(Object(c.a)(),"workflows/list")}})},removeWorkflow:function(){var e=this.model.get("name");window.confirm("Are you sure you want to delete workflow '".concat(e,"'?"))&&(this.model.destroy({success:function(){d.success("Successfully deleted workflow '".concat(e,"'"))}}),this.remove())},renameWorkflow:function(){var e=this.model.get("name"),t=window.prompt("Enter a new Name for workflow '".concat(e,"'"),e);t&&(this.model.save({name:t},{success:function(){d.success("Successfully renamed workflow '".concat(e,"' to '").concat(t,"'"))}}),this.render())},copyWorkflow:function(){var e=this,t=Object(u.getGalaxyInstance)(),n=this.model.get("name");a.a.getJSON("".concat(this.model.urlRoot,"/").concat(this.model.id,"/download"),function(i){var r="Copy of ".concat(n),o=e.model.get("owner");o!=t.user.attributes.username&&(r+=" shared by user ".concat(o)),i.name=r,e.collection.create(i,{at:0,wait:!0,success:function(){d.success("Successfully copied workflow '".concat(n,"' to '").concat(r,"'"))},error:function(e,t,n){d.error(n.errorThrown)}})}).error(function(e,t,n){d.error(e.responseJSON.err_msg)})},_rowTemplate:function(){var e=Object(u.getGalaxyInstance)(),t=this.model.get("show_in_tool_panel"),n=this.model.id,i='<input id="show-in-tool-panel" type="checkbox" class="show-in-tool-panel" '.concat(t?'checked="'.concat(t,'"'):"",' value="').concat(n,'">');return'\n            <td>\n                <div class="btn-group">\n                    <a href="'.concat(Object(c.a)(),"workflow/editor?id=").concat(this.model.id,'" class="btn btn-secondary">\n                        ').concat(r.a.escape(this.model.get("name")),'\n                    </a>\n                    <button type="button" class="btn btn-secondary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                      <span class="sr-only">Toggle Dropdown</span>\n                    </button>\n                    ').concat(this._templateActions(),'\n                </div>\n            </td>\n            <td>\n                <div class="').concat(n,' tags-display">\n                </div>\n            </td>\n            <td>\n                ').concat(this.model.get("owner")===e.user.attributes.username?"You":this.model.get("owner"),"\n            </td>\n            <td>").concat(this.model.get("number_of_steps"),"</td>\n            <td>").concat(this.model.get("published")?"Yes":"No","</td>\n            <td>").concat(i,"</td>")},renderTagEditor:function(){var e=new h.a.TagsEditor({model:this.model,el:a.a.find(".".concat(this.model.id,".tags-display")),workflow_mode:!0});e.toggle(!0),e.render()},_templateActions:function(){var e=Object(u.getGalaxyInstance)();return this.model.get("owner")===e.user.attributes.username?'<div class="dropdown-menu">\n                        <a class="dropdown-item" href="'.concat(Object(c.a)(),"workflow/editor?id=").concat(this.model.id,'">Edit</a>\n                        <a class="dropdown-item" href="').concat(Object(c.a)(),"workflows/run?id=").concat(this.model.id,'">Run</a>\n                        <a class="dropdown-item" href="').concat(Object(c.a)(),"workflow/sharing?id=").concat(this.model.id,'">Share</a>\n                        <a class="dropdown-item" href="').concat(Object(c.a)(),"api/workflows/").concat(this.model.id,'/download?format=json-download">Download</a>\n                        <a class="dropdown-item" id="copy-workflow" style="cursor: pointer;">Copy</a>\n                        <a class="dropdown-item" id="rename-workflow" style="cursor: pointer;">Rename</a>\n                        <a class="dropdown-item" href="').concat(Object(c.a)(),"workflow/display_by_id?id=").concat(this.model.id,'">View</a>\n                        <a class="dropdown-item" id="delete-workflow" style="cursor: pointer;">Delete</a>\n                    </div>'):'<ul class="dropdown-menu">\n                        <li><a href="'.concat(Object(c.a)(),"workflow/display_by_username_and_slug?username=").concat(this.model.get("owner"),"&slug=").concat(this.model.get("slug"),'">View</a></li>\n                        <li><a href="').concat(Object(c.a)(),"workflows/run?id=").concat(this.model.id,'">Run</a></li>\n                        <li><a id="copy-workflow" style="cursor: pointer;">Copy</a></li>\n                        <li><a class="link-confirm-shared-').concat(this.model.id,'" href="').concat(Object(c.a)(),"workflow/sharing?unshare_me=True&id=").concat(this.model.id,'">Remove</a></li>\n                    </ul>')}}),w=l.a.View.extend({title:v()("Workflows"),active_tab:"workflow",initialize:function(){y.a.markViewAsLoading(this),r.a.bindAll(this,"adjustActiondropdown"),this.collection=new m.WorkflowCollection,this.collection.fetch().done(this.render()),this.collection.bind("add",this.appendItem),this.collection.on("sync",this.render,this)},events:{dragover:"highlightDropZone",dragleave:"unhighlightDropZone"},highlightDropZone:function(e){a()(".hidden_description_layer").addClass("dragover"),a()(".menubutton").addClass("background-none"),e.preventDefault()},unhighlightDropZone:function(){a()(".hidden_description_layer").removeClass("dragover"),a()(".menubutton").removeClass("background-none")},drop:function(e){this.unhighlightDropZone(),e.preventDefault();for(var t,n=e.dataTransfer.files,i=0;t=n[i];i++)this.readWorkflowFiles(t)},readWorkflowFiles:function(e){var t=this,n=new FileReader;n.onload=function(i){var r;try{r=JSON.parse(n.result)}catch(t){d.error("Could not read file '".concat(e.name,"'. Verify it is a valid Galaxy workflow")),r=null}r&&t.collection.create(r,{at:0,wait:!0,success:function(){d.success("Successfully imported workflow '".concat(r.name,"'"))},error:function(e,t,n){d.error(n.errorThrown)}})},n.readAsText(e,"utf-8")},_showArgErrors:r.a.once(function(){var e=g.a.get("message");"error"===g.a.get("status")?d.error(r.a.escape(e||"Unknown Error, please report this to an administrator.")):e&&d.info(r.a.escape(e))}),render:function(){var e=this,t=this._templateHeader(),n=this._templateActionButtons(),i=this._templateWorkflowTable();this.$el.html(t+n+i),r.a.each(this.collection.models,function(t){e.appendItem(t),e.confirmDelete(t)});return this.searchWorkflow(this.$(".search-wf"),this.$(".workflow-search tr"),3),this.adjustActiondropdown(),this._showArgErrors(),this.$(".hidden_description_layer").get(0).addEventListener("drop",r.a.bind(this.drop,this)),this},appendItem:function(e){var t=new b({model:e,collection:this.collection});a()(".workflow-search").append(t.render().el),t.renderTagEditor()},confirmDelete:function(e){this.$(".link-confirm-shared-".concat(e.id)).click(function(){return window.confirm("Are you sure you want to remove the shared workflow '".concat(e.attributes.name,"'?"))})},searchWorkflow:function(e,t,n){e.on("keyup",function(){var e=a()(this).val();if(e.length>=n){var i=new RegExp(e,"i");t.hide(),t.filter(function(){return i.test(a()(this).text())}).show()}else t.show()})},adjustActiondropdown:function(){a()(this.el).on("show.bs.dropdown",function(){a()(this.el).css("overflow","inherit")}),a()(this.el).on("hide.bs.dropdown",function(){a()(this.el).css("overflow","auto")})},_templateNoWorkflow:function(){return'<div class="wf-nodata"> You have no workflows. </div>'},_templateActionButtons:function(){return'<ul class="manage-table-actions"><li><input class="search-wf form-control" type="text" autocomplete="off" placeholder="search for workflow..."></li><li><a class="action-button fa fa-plus wf-action" id="new-workflow" title="Create new workflow" href="'.concat(Object(c.a)(),'workflows/create"></a></li><li><a class="action-button fa fa-upload wf-action" id="import-workflow" title="Upload or import workflow" href="').concat(Object(c.a)(),'workflows/import"></a></li></ul>')},_templateWorkflowTable:function(){return"".concat('<table class="table colored"><thead><tr class="header"><th>Name</th><th>Tags</th><th>Owner</th><th># of Steps</th><th>Published</th><th>Show in tools panel</th></tr></thead>','<tbody class="workflow-search "><div class="hidden_description_layer"><p>Drop workflow files here to import</p></tbody></table></div>')},_templateHeader:function(){return'<div class="page-container"><div class="user-workflows wf"><div class="response-message"></div><h2>'+v()("Your workflows")+"</h2></div></div>"}});t.a={View:w}},,function(e,t,n){"use strict";(function(e){n(641);!function(){window.console=window.console||{log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){},assert:function(){}},console.debug("Polyfills are running"),Object.assign=Object.assign||e.extend;for(var t=0,n=["ms","moz","webkit","o"],i=0;i<n.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window["".concat(n[i],"RequestAnimationFrame")],window.cancelRequestAnimationFrame=window["".concat(n[i],"CancelRequestAnimationFrame")];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var i=(new Date).getTime(),r=Math.max(0,16-(i-t)),o=window.setTimeout(function(){e(i+r)},r);return t=i+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)});var r=[{name:"canvas",compatible:function(){return window.CanvasRenderingContext2D}},{name:"sessionStorage",compatible:function(){try{return window.sessionStorage.length>=0}catch(e){}return!1}}].filter(function(e){return!e.compatible()}).map(function(e){return e.name});if(r.length){var o=document.querySelectorAll('link[rel="index"]').item(0);o&&(window.location="".concat(o.href,"static/incompatible-browser.html")),console.log("incompatible browser:\n".concat(r.join("\n")))}}()}).call(this,n(2))},function(e,t,n){(function(t){e.exports=t.underscore=n(640)}).call(this,n(39))},function(e,t,n){(function(e,n){var i;!function(){var r="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},o=r._,a=Array.prototype,s=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,c=a.push,u=a.slice,d=s.toString,h=s.hasOwnProperty,f=Array.isArray,p=Object.keys,m=Object.create,g=function(){},_=function(e){return e instanceof _?e:this instanceof _?void(this._wrapped=e):new _(e)};t.nodeType?r._=_:(!n.nodeType&&n.exports&&(t=n.exports=_),t._=_),_.VERSION="1.9.1";var v,y=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}},b=function(e,t,n){return _.iteratee!==v?_.iteratee(e,t):null==e?_.identity:_.isFunction(e)?y(e,t,n):_.isObject(e)&&!_.isArray(e)?_.matcher(e):_.property(e)};_.iteratee=v=function(e,t){return b(e,t,1/0)};var w=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var o=Array(t+1);for(r=0;r<t;r++)o[r]=arguments[r];return o[t]=i,e.apply(this,o)}},k=function(e){if(!_.isObject(e))return{};if(m)return m(e);g.prototype=e;var t=new g;return g.prototype=null,t},M=function(e){return function(t){return null==t?void 0:t[e]}},x=function(e,t){return null!=e&&h.call(e,t)},C=function(e,t){for(var n=t.length,i=0;i<n;i++){if(null==e)return;e=e[t[i]]}return n?e:void 0},S=Math.pow(2,53)-1,T=M("length"),L=function(e){var t=T(e);return"number"==typeof t&&t>=0&&t<=S};_.each=_.forEach=function(e,t,n){var i,r;if(t=y(t,n),L(e))for(i=0,r=e.length;i<r;i++)t(e[i],i,e);else{var o=_.keys(e);for(i=0,r=o.length;i<r;i++)t(e[o[i]],o[i],e)}return e},_.map=_.collect=function(e,t,n){t=b(t,n);for(var i=!L(e)&&_.keys(e),r=(i||e).length,o=Array(r),a=0;a<r;a++){var s=i?i[a]:a;o[a]=t(e[s],s,e)}return o};var E=function(e){return function(t,n,i,r){var o=arguments.length>=3;return function(t,n,i,r){var o=!L(t)&&_.keys(t),a=(o||t).length,s=e>0?0:a-1;for(r||(i=t[o?o[s]:s],s+=e);s>=0&&s<a;s+=e){var l=o?o[s]:s;i=n(i,t[l],l,t)}return i}(t,y(n,r,4),i,o)}};_.reduce=_.foldl=_.inject=E(1),_.reduceRight=_.foldr=E(-1),_.find=_.detect=function(e,t,n){var i=(L(e)?_.findIndex:_.findKey)(e,t,n);if(void 0!==i&&-1!==i)return e[i]},_.filter=_.select=function(e,t,n){var i=[];return t=b(t,n),_.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i},_.reject=function(e,t,n){return _.filter(e,_.negate(b(t)),n)},_.every=_.all=function(e,t,n){t=b(t,n);for(var i=!L(e)&&_.keys(e),r=(i||e).length,o=0;o<r;o++){var a=i?i[o]:o;if(!t(e[a],a,e))return!1}return!0},_.some=_.any=function(e,t,n){t=b(t,n);for(var i=!L(e)&&_.keys(e),r=(i||e).length,o=0;o<r;o++){var a=i?i[o]:o;if(t(e[a],a,e))return!0}return!1},_.contains=_.includes=_.include=function(e,t,n,i){return L(e)||(e=_.values(e)),("number"!=typeof n||i)&&(n=0),_.indexOf(e,t,n)>=0},_.invoke=w(function(e,t,n){var i,r;return _.isFunction(t)?r=t:_.isArray(t)&&(i=t.slice(0,-1),t=t[t.length-1]),_.map(e,function(e){var o=r;if(!o){if(i&&i.length&&(e=C(e,i)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)})}),_.pluck=function(e,t){return _.map(e,_.property(t))},_.where=function(e,t){return _.filter(e,_.matcher(t))},_.findWhere=function(e,t){return _.find(e,_.matcher(t))},_.max=function(e,t,n){var i,r,o=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,l=(e=L(e)?e:_.values(e)).length;s<l;s++)null!=(i=e[s])&&i>o&&(o=i);else t=b(t,n),_.each(e,function(e,n,i){((r=t(e,n,i))>a||r===-1/0&&o===-1/0)&&(o=e,a=r)});return o},_.min=function(e,t,n){var i,r,o=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,l=(e=L(e)?e:_.values(e)).length;s<l;s++)null!=(i=e[s])&&i<o&&(o=i);else t=b(t,n),_.each(e,function(e,n,i){((r=t(e,n,i))<a||r===1/0&&o===1/0)&&(o=e,a=r)});return o},_.shuffle=function(e){return _.sample(e,1/0)},_.sample=function(e,t,n){if(null==t||n)return L(e)||(e=_.values(e)),e[_.random(e.length-1)];var i=L(e)?_.clone(e):_.values(e),r=T(i);t=Math.max(Math.min(t,r),0);for(var o=r-1,a=0;a<t;a++){var s=_.random(a,o),l=i[a];i[a]=i[s],i[s]=l}return i.slice(0,t)},_.sortBy=function(e,t,n){var i=0;return t=b(t,n),_.pluck(_.map(e,function(e,n,r){return{value:e,index:i++,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var D=function(e,t){return function(n,i,r){var o=t?[[],[]]:{};return i=b(i,r),_.each(n,function(t,r){var a=i(t,r,n);e(o,t,a)}),o}};_.groupBy=D(function(e,t,n){x(e,n)?e[n].push(t):e[n]=[t]}),_.indexBy=D(function(e,t,n){e[n]=t}),_.countBy=D(function(e,t,n){x(e,n)?e[n]++:e[n]=1});var O=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;_.toArray=function(e){return e?_.isArray(e)?u.call(e):_.isString(e)?e.match(O):L(e)?_.map(e,_.identity):_.values(e):[]},_.size=function(e){return null==e?0:L(e)?e.length:_.keys(e).length},_.partition=D(function(e,t,n){e[n?0:1].push(t)},!0),_.first=_.head=_.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:_.initial(e,e.length-t)},_.initial=function(e,t,n){return u.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},_.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:_.rest(e,Math.max(0,e.length-t))},_.rest=_.tail=_.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},_.compact=function(e){return _.filter(e,Boolean)};var A=function(e,t,n,i){for(var r=(i=i||[]).length,o=0,a=T(e);o<a;o++){var s=e[o];if(L(s)&&(_.isArray(s)||_.isArguments(s)))if(t)for(var l=0,c=s.length;l<c;)i[r++]=s[l++];else A(s,t,n,i),r=i.length;else n||(i[r++]=s)}return i};_.flatten=function(e,t){return A(e,t,!1)},_.without=w(function(e,t){return _.difference(e,t)}),_.uniq=_.unique=function(e,t,n,i){_.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=b(n,i));for(var r=[],o=[],a=0,s=T(e);a<s;a++){var l=e[a],c=n?n(l,a,e):l;t&&!n?(a&&o===c||r.push(l),o=c):n?_.contains(o,c)||(o.push(c),r.push(l)):_.contains(r,l)||r.push(l)}return r},_.union=w(function(e){return _.uniq(A(e,!0,!0))}),_.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=T(e);i<r;i++){var o=e[i];if(!_.contains(t,o)){var a;for(a=1;a<n&&_.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},_.difference=w(function(e,t){return t=A(t,!0,!0),_.filter(e,function(e){return!_.contains(t,e)})}),_.unzip=function(e){for(var t=e&&_.max(e,T).length||0,n=Array(t),i=0;i<t;i++)n[i]=_.pluck(e,i);return n},_.zip=w(_.unzip),_.object=function(e,t){for(var n={},i=0,r=T(e);i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n};var Y=function(e){return function(t,n,i){n=b(n,i);for(var r=T(t),o=e>0?0:r-1;o>=0&&o<r;o+=e)if(n(t[o],o,t))return o;return-1}};_.findIndex=Y(1),_.findLastIndex=Y(-1),_.sortedIndex=function(e,t,n,i){for(var r=(n=b(n,i,1))(t),o=0,a=T(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<r?o=s+1:a=s}return o};var R=function(e,t,n){return function(i,r,o){var a=0,s=T(i);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return i[o=n(i,r)]===r?o:-1;if(r!=r)return(o=t(u.call(i,a,s),_.isNaN))>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(i[o]===r)return o;return-1}};_.indexOf=R(1,_.findIndex,_.sortedIndex),_.lastIndexOf=R(-1,_.findLastIndex),_.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;o<i;o++,e+=n)r[o]=e;return r},_.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],i=0,r=e.length;i<r;)n.push(u.call(e,i,i+=t));return n};var j=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=k(e.prototype),a=e.apply(o,r);return _.isObject(a)?a:o};_.bind=w(function(e,t,n){if(!_.isFunction(e))throw new TypeError("Bind must be called on a function");var i=w(function(r){return j(e,i,t,this,n.concat(r))});return i}),_.partial=w(function(e,t){var n=_.partial.placeholder,i=function(){for(var r=0,o=t.length,a=Array(o),s=0;s<o;s++)a[s]=t[s]===n?arguments[r++]:t[s];for(;r<arguments.length;)a.push(arguments[r++]);return j(e,i,this,this,a)};return i}),_.partial.placeholder=_,_.bindAll=w(function(e,t){var n=(t=A(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=t[n];e[i]=_.bind(e[i],e)}}),_.memoize=function(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);return x(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n},_.delay=w(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),_.defer=_.partial(_.delay,_,1),_.throttle=function(e,t,n){var i,r,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:_.now(),i=null,a=e.apply(r,o),i||(r=o=null)},c=function(){var c=_.now();s||!1!==n.leading||(s=c);var u=t-(c-s);return r=this,o=arguments,u<=0||u>t?(i&&(clearTimeout(i),i=null),s=c,a=e.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(l,u)),a};return c.cancel=function(){clearTimeout(i),s=0,i=r=o=null},c},_.debounce=function(e,t,n){var i,r,o=function(t,n){i=null,n&&(r=e.apply(t,n))},a=w(function(a){if(i&&clearTimeout(i),n){var s=!i;i=setTimeout(o,t),s&&(r=e.apply(this,a))}else i=_.delay(o,t,this,a);return r});return a.cancel=function(){clearTimeout(i),i=null},a},_.wrap=function(e,t){return _.partial(t,e)},_.negate=function(e){return function(){return!e.apply(this,arguments)}},_.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},_.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},_.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},_.once=_.partial(_.before,2),_.restArguments=w;var P=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],H=function(e,t){var n=N.length,i=e.constructor,r=_.isFunction(i)&&i.prototype||s,o="constructor";for(x(e,o)&&!_.contains(t,o)&&t.push(o);n--;)(o=N[n])in e&&e[o]!==r[o]&&!_.contains(t,o)&&t.push(o)};_.keys=function(e){if(!_.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)x(e,n)&&t.push(n);return P&&H(e,t),t},_.allKeys=function(e){if(!_.isObject(e))return[];var t=[];for(var n in e)t.push(n);return P&&H(e,t),t},_.values=function(e){for(var t=_.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i},_.mapObject=function(e,t,n){t=b(t,n);for(var i=_.keys(e),r=i.length,o={},a=0;a<r;a++){var s=i[a];o[s]=t(e[s],s,e)}return o},_.pairs=function(e){for(var t=_.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i},_.invert=function(e){for(var t={},n=_.keys(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t},_.functions=_.methods=function(e){var t=[];for(var n in e)_.isFunction(e[n])&&t.push(n);return t.sort()};var I=function(e,t){return function(n){var i=arguments.length;if(t&&(n=Object(n)),i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],a=e(o),s=a.length,l=0;l<s;l++){var c=a[l];t&&void 0!==n[c]||(n[c]=o[c])}return n}};_.extend=I(_.allKeys),_.extendOwn=_.assign=I(_.keys),_.findKey=function(e,t,n){t=b(t,n);for(var i,r=_.keys(e),o=0,a=r.length;o<a;o++)if(t(e[i=r[o]],i,e))return i};var F,$,W=function(e,t,n){return t in n};_.pick=w(function(e,t){var n={},i=t[0];if(null==e)return n;_.isFunction(i)?(t.length>1&&(i=y(i,t[1])),t=_.allKeys(e)):(i=W,t=A(t,!1,!1),e=Object(e));for(var r=0,o=t.length;r<o;r++){var a=t[r],s=e[a];i(s,a,e)&&(n[a]=s)}return n}),_.omit=w(function(e,t){var n,i=t[0];return _.isFunction(i)?(i=_.negate(i),t.length>1&&(n=t[1])):(t=_.map(A(t,!1,!1),String),i=function(e,n){return!_.contains(t,n)}),_.pick(e,i,n)}),_.defaults=I(_.allKeys,!0),_.create=function(e,t){var n=k(e);return t&&_.extendOwn(n,t),n},_.clone=function(e){return _.isObject(e)?_.isArray(e)?e.slice():_.extend({},e):e},_.tap=function(e,t){return t(e),e},_.isMatch=function(e,t){var n=_.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;o<i;o++){var a=n[o];if(t[a]!==r[a]||!(a in r))return!1}return!0},F=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var r=typeof e;return("function"===r||"object"===r||"object"==typeof t)&&$(e,t,n,i)},$=function(e,t,n,i){e instanceof _&&(e=e._wrapped),t instanceof _&&(t=t._wrapped);var r=d.call(e);if(r!==d.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return l.valueOf.call(e)===l.valueOf.call(t)}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(_.isFunction(a)&&a instanceof a&&_.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var c=n.length;c--;)if(n[c]===e)return i[c]===t;if(n.push(e),i.push(t),o){if((c=e.length)!==t.length)return!1;for(;c--;)if(!F(e[c],t[c],n,i))return!1}else{var u,h=_.keys(e);if(c=h.length,_.keys(t).length!==c)return!1;for(;c--;)if(u=h[c],!x(t,u)||!F(e[u],t[u],n,i))return!1}return n.pop(),i.pop(),!0},_.isEqual=function(e,t){return F(e,t)},_.isEmpty=function(e){return null==e||(L(e)&&(_.isArray(e)||_.isString(e)||_.isArguments(e))?0===e.length:0===_.keys(e).length)},_.isElement=function(e){return!(!e||1!==e.nodeType)},_.isArray=f||function(e){return"[object Array]"===d.call(e)},_.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},_.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){_["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),_.isArguments(arguments)||(_.isArguments=function(e){return x(e,"callee")});var z=r.document&&r.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof z&&(_.isFunction=function(e){return"function"==typeof e||!1}),_.isFinite=function(e){return!_.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},_.isNaN=function(e){return _.isNumber(e)&&isNaN(e)},_.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===d.call(e)},_.isNull=function(e){return null===e},_.isUndefined=function(e){return void 0===e},_.has=function(e,t){if(!_.isArray(t))return x(e,t);for(var n=t.length,i=0;i<n;i++){var r=t[i];if(null==e||!h.call(e,r))return!1;e=e[r]}return!!n},_.noConflict=function(){return r._=o,this},_.identity=function(e){return e},_.constant=function(e){return function(){return e}},_.noop=function(){},_.property=function(e){return _.isArray(e)?function(t){return C(t,e)}:M(e)},_.propertyOf=function(e){return null==e?function(){}:function(t){return _.isArray(t)?C(e,t):e[t]}},_.matcher=_.matches=function(e){return e=_.extendOwn({},e),function(t){return _.isMatch(t,e)}},_.times=function(e,t,n){var i=Array(Math.max(0,e));t=y(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i},_.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},_.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},V=_.invert(B),U=function(e){var t=function(t){return e[t]},n="(?:"+_.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};_.escape=U(B),_.unescape=U(V),_.result=function(e,t,n){_.isArray(t)||(t=[t]);var i=t.length;if(!i)return _.isFunction(n)?n.call(e):n;for(var r=0;r<i;r++){var o=null==e?void 0:e[t[r]];void 0===o&&(o=n,r=i),e=_.isFunction(o)?o.call(e):o}return e};var q=0;_.uniqueId=function(e){var t=++q+"";return e?e+t:t},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var G=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\u2028|\u2029/g,X=function(e){return"\\"+J[e]};_.template=function(e,t,n){!t&&n&&(t=n),t=_.defaults({},t,_.templateSettings);var i,r=RegExp([(t.escape||G).source,(t.interpolate||G).source,(t.evaluate||G).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(r,function(t,n,i,r,s){return a+=e.slice(o,s).replace(K,X),o=s+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?a+="'+\n((__t=("+i+"))==null?'':__t)+\n'":r&&(a+="';\n"+r+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(t.variable||"obj","_",a)}catch(e){throw e.source=a,e}var s=function(e){return i.call(this,e,_)},l=t.variable||"obj";return s.source="function("+l+"){\n"+a+"}",s},_.chain=function(e){var t=_(e);return t._chain=!0,t};var Q=function(e,t){return e._chain?_(t).chain():t};_.mixin=function(e){return _.each(_.functions(e),function(t){var n=_[t]=e[t];_.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),Q(this,n.apply(_,e))}}),_},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];_.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],Q(this,n)}}),_.each(["concat","join","slice"],function(e){var t=a[e];_.prototype[e]=function(){return Q(this,t.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return String(this._wrapped)},void 0===(i=function(){return _}.apply(t,[]))||(n.exports=i)}()}).call(this,n(39),n(412)(e))},function(e,t,n){"use strict";(function(e){n(642),n(786),n(788),n(790),n(792),n(794),n(796),n(798),n(800),n(802),n(806),e._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),e._babelPolyfill=!0}).call(this,n(39))},function(e,t,n){n(643),n(645),n(646),n(647),n(648),n(649),n(650),n(651),n(652),n(653),n(654),n(655),n(656),n(657),n(658),n(659),n(661),n(662),n(663),n(664),n(665),n(666),n(667),n(668),n(669),n(670),n(671),n(672),n(673),n(674),n(675),n(676),n(677),n(678),n(679),n(680),n(681),n(682),n(683),n(684),n(685),n(686),n(687),n(689),n(690),n(691),n(692),n(693),n(694),n(695),n(696),n(697),n(698),n(699),n(700),n(701),n(702),n(703),n(704),n(705),n(706),n(707),n(708),n(709),n(710),n(711),n(712),n(713),n(714),n(715),n(716),n(717),n(718),n(719),n(720),n(721),n(722),n(724),n(725),n(727),n(728),n(729),n(730),n(731),n(732),n(733),n(736),n(737),n(738),n(739),n(740),n(741),n(742),n(743),n(744),n(745),n(746),n(747),n(748),n(497),n(749),n(750),n(540),n(751),n(752),n(753),n(754),n(541),n(757),n(758),n(759),n(760),n(761),n(762),n(763),n(764),n(765),n(766),n(767),n(768),n(769),n(770),n(771),n(772),n(773),n(774),n(775),n(776),n(777),n(778),n(779),n(780),n(781),n(782),n(783),n(784),n(785),e.exports=n(44)},function(e,t,n){"use strict";var i=n(23),r=n(60),o=n(43),a=n(12),s=n(55),l=n(97).KEY,c=n(21),u=n(477),d=n(374),h=n(360),f=n(30),p=n(478),m=n(522),g=n(644),_=n(481),v=n(29),y=n(24),b=n(62),w=n(96),k=n(359),M=n(364),x=n(525),C=n(75),S=n(35),T=n(362),L=C.f,E=S.f,D=x.f,O=i.Symbol,A=i.JSON,Y=A&&A.stringify,R=f("_hidden"),j=f("toPrimitive"),P={}.propertyIsEnumerable,N=u("symbol-registry"),H=u("symbols"),I=u("op-symbols"),F=Object.prototype,$="function"==typeof O,W=i.QObject,z=!W||!W.prototype||!W.prototype.findChild,B=o&&c(function(){return 7!=M(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=L(F,t);i&&delete F[t],E(e,t,n),i&&e!==F&&E(F,t,i)}:E,V=function(e){var t=H[e]=M(O.prototype);return t._k=e,t},U=$&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},q=function(e,t,n){return e===F&&q(I,t,n),v(e),t=w(t,!0),v(n),r(H,t)?(n.enumerable?(r(e,R)&&e[R][t]&&(e[R][t]=!1),n=M(n,{enumerable:k(0,!1)})):(r(e,R)||E(e,R,k(1,{})),e[R][t]=!0),B(e,t,n)):E(e,t,n)},G=function(e,t){v(e);for(var n,i=g(t=b(t)),r=0,o=i.length;o>r;)q(e,n=i[r++],t[n]);return e},J=function(e){var t=P.call(this,e=w(e,!0));return!(this===F&&r(H,e)&&!r(I,e))&&(!(t||!r(this,e)||!r(H,e)||r(this,R)&&this[R][e])||t)},K=function(e,t){if(e=b(e),t=w(t,!0),e!==F||!r(H,t)||r(I,t)){var n=L(e,t);return!n||!r(H,t)||r(e,R)&&e[R][t]||(n.enumerable=!0),n}},X=function(e){for(var t,n=D(b(e)),i=[],o=0;n.length>o;)r(H,t=n[o++])||t==R||t==l||i.push(t);return i},Q=function(e){for(var t,n=e===F,i=D(n?I:b(e)),o=[],a=0;i.length>a;)!r(H,t=i[a++])||n&&!r(F,t)||o.push(H[t]);return o};$||(s((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===F&&t.call(I,n),r(this,R)&&r(this[R],e)&&(this[R][e]=!1),B(this,e,k(1,n))};return o&&z&&B(F,e,{configurable:!0,set:t}),V(e)}).prototype,"toString",function(){return this._k}),C.f=K,S.f=q,n(365).f=x.f=X,n(397).f=J,n(414).f=Q,o&&!n(361)&&s(F,"propertyIsEnumerable",J,!0),p.f=function(e){return V(f(e))}),a(a.G+a.W+a.F*!$,{Symbol:O});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)f(Z[ee++]);for(var te=T(f.store),ne=0;te.length>ne;)m(te[ne++]);a(a.S+a.F*!$,"Symbol",{for:function(e){return r(N,e+="")?N[e]:N[e]=O(e)},keyFor:function(e){if(!U(e))throw TypeError(e+" is not a symbol!");for(var t in N)if(N[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),a(a.S+a.F*!$,"Object",{create:function(e,t){return void 0===t?M(e):G(M(e),t)},defineProperty:q,defineProperties:G,getOwnPropertyDescriptor:K,getOwnPropertyNames:X,getOwnPropertySymbols:Q}),A&&a(a.S+a.F*(!$||c(function(){var e=O();return"[null]"!=Y([e])||"{}"!=Y({a:e})||"{}"!=Y(Object(e))})),"JSON",{stringify:function(e){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=t=i[1],(y(t)||void 0!==e)&&!U(e))return _(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!U(t))return t}),i[1]=t,Y.apply(A,i)}}),O.prototype[j]||n(61)(O.prototype,j,O.prototype.valueOf),d(O,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(e,t,n){var i=n(362),r=n(414),o=n(397);e.exports=function(e){var t=i(e),n=r.f;if(n)for(var a,s=n(e),l=o.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var i=n(12);i(i.S,"Object",{create:n(364)})},function(e,t,n){var i=n(12);i(i.S+i.F*!n(43),"Object",{defineProperty:n(35).f})},function(e,t,n){var i=n(12);i(i.S+i.F*!n(43),"Object",{defineProperties:n(524)})},function(e,t,n){var i=n(62),r=n(75).f;n(76)("getOwnPropertyDescriptor",function(){return function(e,t){return r(i(e),t)}})},function(e,t,n){var i=n(63),r=n(366);n(76)("getPrototypeOf",function(){return function(e){return r(i(e))}})},function(e,t,n){var i=n(63),r=n(362);n(76)("keys",function(){return function(e){return r(i(e))}})},function(e,t,n){n(76)("getOwnPropertyNames",function(){return n(525).f})},function(e,t,n){var i=n(24),r=n(97).onFreeze;n(76)("freeze",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},function(e,t,n){var i=n(24),r=n(97).onFreeze;n(76)("seal",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},function(e,t,n){var i=n(24),r=n(97).onFreeze;n(76)("preventExtensions",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},function(e,t,n){var i=n(24);n(76)("isFrozen",function(e){return function(t){return!i(t)||!!e&&e(t)}})},function(e,t,n){var i=n(24);n(76)("isSealed",function(e){return function(t){return!i(t)||!!e&&e(t)}})},function(e,t,n){var i=n(24);n(76)("isExtensible",function(e){return function(t){return!!i(t)&&(!e||e(t))}})},function(e,t,n){var i=n(12);i(i.S+i.F,"Object",{assign:n(526)})},function(e,t,n){var i=n(12);i(i.S,"Object",{is:n(660)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var i=n(12);i(i.S,"Object",{setPrototypeOf:n(483).set})},function(e,t,n){"use strict";var i=n(415),r={};r[n(30)("toStringTag")]="z",r+""!="[object z]"&&n(55)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(e,t,n){var i=n(12);i(i.P,"Function",{bind:n(527)})},function(e,t,n){var i=n(35).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||n(43)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var i=n(24),r=n(366),o=n(30)("hasInstance"),a=Function.prototype;o in a||n(35).f(a,o,{value:function(e){if("function"!=typeof this||!i(e))return!1;if(!i(this.prototype))return e instanceof this;for(;e=r(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var i=n(12),r=n(529);i(i.G+i.F*(parseInt!=r),{parseInt:r})},function(e,t,n){var i=n(12),r=n(530);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},function(e,t,n){"use strict";var i=n(23),r=n(60),o=n(89),a=n(485),s=n(96),l=n(21),c=n(365).f,u=n(75).f,d=n(35).f,h=n(416).trim,f=i.Number,p=f,m=f.prototype,g="Number"==o(n(364)(m)),_="trim"in String.prototype,v=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,i,r,o=(t=_?t.trim():h(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+t}for(var a,l=t.slice(2),c=0,u=l.length;c<u;c++)if((a=l.charCodeAt(c))<48||a>r)return NaN;return parseInt(l,i)}}return+t};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof f&&(g?l(function(){m.valueOf.call(n)}):"Number"!=o(n))?a(new p(v(t)),n,f):v(t)};for(var y,b=n(43)?c(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)r(p,y=b[w])&&!r(f,y)&&d(f,y,u(p,y));f.prototype=m,m.constructor=f,n(55)(i,"Number",f)}},function(e,t,n){"use strict";var i=n(12),r=n(91),o=n(531),a=n(486),s=1..toFixed,l=Math.floor,c=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",d=function(e,t){for(var n=-1,i=t;++n<6;)i+=e*c[n],c[n]=i%1e7,i=l(i/1e7)},h=function(e){for(var t=6,n=0;--t>=0;)n+=c[t],c[t]=l(n/e),n=n%e*1e7},f=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},p=function(e,t,n){return 0===t?n:t%2==1?p(e,t-1,n*e):p(e*e,t/2,n)};i(i.P+i.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(21)(function(){s.call({})})),"Number",{toFixed:function(e){var t,n,i,s,l=o(this,u),c=r(e),m="",g="0";if(c<0||c>20)throw RangeError(u);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(m="-",l=-l),l>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(l*p(2,69,1))-69)<0?l*p(2,-t,1):l/p(2,t,1),n*=4503599627370496,(t=52-t)>0){for(d(0,n),i=c;i>=7;)d(1e7,0),i-=7;for(d(p(10,i,1),0),i=t-1;i>=23;)h(1<<23),i-=23;h(1<<i),d(1,1),h(2),g=f()}else d(0,n),d(1<<-t,0),g=f()+a.call("0",c);return g=c>0?m+((s=g.length)<=c?"0."+a.call("0",c-s)+g:g.slice(0,s-c)+"."+g.slice(s-c)):m+g}})},function(e,t,n){"use strict";var i=n(12),r=n(21),o=n(531),a=1..toPrecision;i(i.P+i.F*(r(function(){return"1"!==a.call(1,void 0)})||!r(function(){a.call({})})),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,n){var i=n(12);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var i=n(12),r=n(23).isFinite;i(i.S,"Number",{isFinite:function(e){return"number"==typeof e&&r(e)}})},function(e,t,n){var i=n(12);i(i.S,"Number",{isInteger:n(532)})},function(e,t,n){var i=n(12);i(i.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var i=n(12),r=n(532),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(e){return r(e)&&o(e)<=9007199254740991}})},function(e,t,n){var i=n(12);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var i=n(12);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var i=n(12),r=n(530);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(e,t,n){var i=n(12),r=n(529);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(e,t,n){var i=n(12),r=n(533),o=Math.sqrt,a=Math.acosh;i(i.S+i.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:r(e-1+o(e-1)*o(e+1))}})},function(e,t,n){var i=n(12),r=Math.asinh;i(i.S+i.F*!(r&&1/r(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,n){var i=n(12),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var i=n(12),r=n(487);i(i.S,"Math",{cbrt:function(e){return r(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var i=n(12);i(i.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var i=n(12),r=Math.exp;i(i.S,"Math",{cosh:function(e){return(r(e=+e)+r(-e))/2}})},function(e,t,n){var i=n(12),r=n(488);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},function(e,t,n){var i=n(12);i(i.S,"Math",{fround:n(688)})},function(e,t,n){var i=n(487),r=Math.pow,o=r(2,-52),a=r(2,-23),s=r(2,127)*(2-a),l=r(2,-126);e.exports=Math.fround||function(e){var t,n,r=Math.abs(e),c=i(e);return r<l?c*function(e){return e+1/o-1/o}(r/l/a)*l*a:(n=(t=(1+a/o)*r)-(t-r))>s||n!=n?c*(1/0):c*n}},function(e,t,n){var i=n(12),r=Math.abs;i(i.S,"Math",{hypot:function(e,t){for(var n,i,o=0,a=0,s=arguments.length,l=0;a<s;)l<(n=r(arguments[a++]))?(o=o*(i=l/n)*i+1,l=n):o+=n>0?(i=n/l)*i:n;return l===1/0?1/0:l*Math.sqrt(o)}})},function(e,t,n){var i=n(12),r=Math.imul;i(i.S+i.F*n(21)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(e,t){var n=+e,i=+t,r=65535&n,o=65535&i;return 0|r*o+((65535&n>>>16)*o+r*(65535&i>>>16)<<16>>>0)}})},function(e,t,n){var i=n(12);i(i.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var i=n(12);i(i.S,"Math",{log1p:n(533)})},function(e,t,n){var i=n(12);i(i.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var i=n(12);i(i.S,"Math",{sign:n(487)})},function(e,t,n){var i=n(12),r=n(488),o=Math.exp;i(i.S+i.F*n(21)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(r(e)-r(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,n){var i=n(12),r=n(488),o=Math.exp;i(i.S,"Math",{tanh:function(e){var t=r(e=+e),n=r(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},function(e,t,n){var i=n(12);i(i.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var i=n(12),r=n(363),o=String.fromCharCode,a=String.fromCodePoint;i(i.S+i.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],i=arguments.length,a=0;i>a;){if(t=+arguments[a++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var i=n(12),r=n(62),o=n(45);i(i.S,"String",{raw:function(e){for(var t=r(e.raw),n=o(t.length),i=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<i&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){"use strict";n(416)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";var i=n(534)(!0);n(489)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var i=n(12),r=n(534)(!1);i(i.P,"String",{codePointAt:function(e){return r(this,e)}})},function(e,t,n){"use strict";var i=n(12),r=n(45),o=n(490),a="".endsWith;i(i.P+i.F*n(492)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=r(t.length),s=void 0===n?i:Math.min(r(n),i),l=String(e);return a?a.call(t,l,s):t.slice(s-l.length,s)===l}})},function(e,t,n){"use strict";var i=n(12),r=n(490);i(i.P+i.F*n(492)("includes"),"String",{includes:function(e){return!!~r(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var i=n(12);i(i.P,"String",{repeat:n(486)})},function(e,t,n){"use strict";var i=n(12),r=n(45),o=n(490),a="".startsWith;i(i.P+i.F*n(492)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return a?a.call(t,i,n):t.slice(n,n+i.length)===i}})},function(e,t,n){"use strict";n(56)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,n){"use strict";n(56)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(56)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(56)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";n(56)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(56)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,n){"use strict";n(56)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,n){"use strict";n(56)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";n(56)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,n){"use strict";n(56)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(56)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(56)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(56)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){var i=n(12);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var i=n(12),r=n(63),o=n(96);i(i.P+i.F*n(21)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=r(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var i=n(12),r=n(723);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(e,t,n){"use strict";var i=n(21),r=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=i(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!i(function(){o.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),i=t<0?"-":t>9999?"+":"";return i+("00000"+Math.abs(t)).slice(i?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(e,t,n){var i=Date.prototype,r=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&n(55)(i,"toString",function(){var e=o.call(this);return e==e?r.call(this):"Invalid Date"})},function(e,t,n){var i=n(30)("toPrimitive"),r=Date.prototype;i in r||n(61)(r,i,n(726))},function(e,t,n){"use strict";var i=n(29),r=n(96);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return r(i(this),"number"!=e)}},function(e,t,n){var i=n(12);i(i.S,"Array",{isArray:n(481)})},function(e,t,n){"use strict";var i=n(87),r=n(12),o=n(63),a=n(536),s=n(493),l=n(45),c=n(494),u=n(495);r(r.S+r.F*!n(417)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,d,h=o(e),f="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,_=0,v=u(h);if(g&&(m=i(m,p>2?arguments[2]:void 0,2)),void 0==v||f==Array&&s(v))for(n=new f(t=l(h.length));t>_;_++)c(n,_,g?m(h[_],_):h[_]);else for(d=v.call(h),n=new f;!(r=d.next()).done;_++)c(n,_,g?a(d,m,[r.value,_],!0):r.value);return n.length=_,n}})},function(e,t,n){"use strict";var i=n(12),r=n(494);i(i.S+i.F*n(21)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)r(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var i=n(12),r=n(62),o=[].join;i(i.P+i.F*(n(396)!=Object||!n(71)(o)),"Array",{join:function(e){return o.call(r(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var i=n(12),r=n(482),o=n(89),a=n(363),s=n(45),l=[].slice;i(i.P+i.F*n(21)(function(){r&&l.call(r)}),"Array",{slice:function(e,t){var n=s(this.length),i=o(this);if(t=void 0===t?n:t,"Array"==i)return l.call(this,e,t);for(var r=a(e,n),c=a(t,n),u=s(c-r),d=new Array(u),h=0;h<u;h++)d[h]="String"==i?this.charAt(r+h):this[r+h];return d}})},function(e,t,n){"use strict";var i=n(12),r=n(88),o=n(63),a=n(21),s=[].sort,l=[1,2,3];i(i.P+i.F*(a(function(){l.sort(void 0)})||!a(function(){l.sort(null)})||!n(71)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),r(e))}})},function(e,t,n){"use strict";var i=n(12),r=n(77)(0),o=n(71)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(e){return r(this,e,arguments[1])}})},function(e,t,n){var i=n(735);e.exports=function(e,t){return new(i(e))(t)}},function(e,t,n){var i=n(24),r=n(481),o=n(30)("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)||(t=void 0),i(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var i=n(12),r=n(77)(1);i(i.P+i.F*!n(71)([].map,!0),"Array",{map:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(12),r=n(77)(2);i(i.P+i.F*!n(71)([].filter,!0),"Array",{filter:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(12),r=n(77)(3);i(i.P+i.F*!n(71)([].some,!0),"Array",{some:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(12),r=n(77)(4);i(i.P+i.F*!n(71)([].every,!0),"Array",{every:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(12),r=n(537);i(i.P+i.F*!n(71)([].reduce,!0),"Array",{reduce:function(e){return r(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var i=n(12),r=n(537);i(i.P+i.F*!n(71)([].reduceRight,!0),"Array",{reduceRight:function(e){return r(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var i=n(12),r=n(413)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(a||!n(71)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:r(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(12),r=n(62),o=n(91),a=n(45),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(l||!n(71)(s)),"Array",{lastIndexOf:function(e){if(l)return s.apply(this,arguments)||0;var t=r(this),n=a(t.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in t&&t[i]===e)return i||0;return-1}})},function(e,t,n){var i=n(12);i(i.P,"Array",{copyWithin:n(538)}),n(376)("copyWithin")},function(e,t,n){var i=n(12);i(i.P,"Array",{fill:n(496)}),n(376)("fill")},function(e,t,n){"use strict";var i=n(12),r=n(77)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(376)("find")},function(e,t,n){"use strict";var i=n(12),r=n(77)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),i(i.P+i.F*a,"Array",{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(376)(o)},function(e,t,n){n(377)("Array")},function(e,t,n){var i=n(23),r=n(485),o=n(35).f,a=n(365).f,s=n(491),l=n(498),c=i.RegExp,u=c,d=c.prototype,h=/a/g,f=/a/g,p=new c(h)!==h;if(n(43)&&(!p||n(21)(function(){return f[n(30)("match")]=!1,c(h)!=h||c(f)==f||"/a/i"!=c(h,"i")}))){c=function(e,t){var n=this instanceof c,i=s(e),o=void 0===t;return!n&&i&&e.constructor===c&&o?e:r(p?new u(i&&!o?e.source:e,t):u((i=e instanceof c)?e.source:e,i&&o?l.call(e):t),n?this:d,c)};for(var m=function(e){e in c||o(c,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},g=a(u),_=0;g.length>_;)m(g[_++]);d.constructor=c,c.prototype=d,n(55)(i,"RegExp",c)}n(377)("RegExp")},function(e,t,n){"use strict";n(540);var i=n(29),r=n(498),o=n(43),a=/./.toString,s=function(e){n(55)(RegExp.prototype,"toString",e,!0)};n(21)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?r.call(e):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(e,t,n){n(418)("match",1,function(e,t,n){return[function(n){"use strict";var i=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i):new RegExp(n)[t](String(i))},n]})},function(e,t,n){n(418)("replace",2,function(e,t,n){return[function(i,r){"use strict";var o=e(this),a=void 0==i?void 0:i[t];return void 0!==a?a.call(i,o,r):n.call(String(o),i,r)},n]})},function(e,t,n){n(418)("search",1,function(e,t,n){return[function(n){"use strict";var i=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i):new RegExp(n)[t](String(i))},n]})},function(e,t,n){n(418)("split",2,function(e,t,i){"use strict";var r=n(491),o=i,a=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=void 0===/()??/.exec("")[1];i=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!r(e))return o.call(n,e,t);var i,l,c,u,d,h=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,m=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,f+"g");for(s||(i=new RegExp("^"+g.source+"$(?!\\s)",f));(l=g.exec(n))&&!((c=l.index+l[0].length)>p&&(h.push(n.slice(p,l.index)),!s&&l.length>1&&l[0].replace(i,function(){for(d=1;d<arguments.length-2;d++)void 0===arguments[d]&&(l[d]=void 0)}),l.length>1&&l.index<n.length&&a.apply(h,l.slice(1)),u=l[0].length,p=c,h.length>=m));)g.lastIndex===l.index&&g.lastIndex++;return p===n.length?!u&&g.test("")||h.push(""):h.push(n.slice(p)),h.length>m?h.slice(0,m):h}}else"0".split(void 0,0).length&&(i=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function(n,r){var o=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,o,r):i.call(String(o),n,r)},i]})},function(e,t,n){var i=n(23),r=n(499).set,o=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,l="process"==n(89)(a);e.exports=function(){var e,t,n,c=function(){var i,r;for(l&&(i=a.domain)&&i.exit();e;){r=e.fn,e=e.next;try{r()}catch(i){throw e?n():t=void 0,i}}t=void 0,i&&i.enter()};if(l)n=function(){a.nextTick(c)};else if(!o||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(c)}}else n=function(){r.call(i,c)};else{var d=!0,h=document.createTextNode("");new o(c).observe(h,{characterData:!0}),n=function(){h.data=d=!d}}return function(i){var r={fn:i,next:void 0};t&&(t.next=r),e||(e=r,n()),t=r}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){"use strict";var i=n(544),r=n(380);e.exports=n(422)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=i.getEntry(r(this,"Map"),e);return t&&t.v},set:function(e,t){return i.def(r(this,"Map"),0===e?0:e,t)}},i,!0)},function(e,t,n){"use strict";var i=n(544),r=n(380);e.exports=n(422)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(r(this,"Set"),e=0===e?0:e,e)}},i)},function(e,t,n){"use strict";var i,r=n(77)(0),o=n(55),a=n(97),s=n(526),l=n(545),c=n(24),u=n(21),d=n(380),h=a.getWeak,f=Object.isExtensible,p=l.ufstore,m={},g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},_={get:function(e){if(c(e)){var t=h(e);return!0===t?p(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(d(this,"WeakMap"),e,t)}},v=e.exports=n(422)("WeakMap",g,_,l,!0,!0);u(function(){return 7!=(new v).set((Object.freeze||Object)(m),7).get(m)})&&(s((i=l.getConstructor(g,"WeakMap")).prototype,_),a.NEED=!0,r(["delete","has","get","set"],function(e){var t=v.prototype,n=t[e];o(t,e,function(t,r){if(c(t)&&!f(t)){this._f||(this._f=new i);var o=this._f[e](t,r);return"set"==e?this:o}return n.call(this,t,r)})}))},function(e,t,n){"use strict";var i=n(545),r=n(380);n(422)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(r(this,"WeakSet"),e,!0)}},i,!1,!0)},function(e,t,n){"use strict";var i=n(12),r=n(423),o=n(500),a=n(29),s=n(363),l=n(45),c=n(24),u=n(23).ArrayBuffer,d=n(420),h=o.ArrayBuffer,f=o.DataView,p=r.ABV&&u.isView,m=h.prototype.slice,g=r.VIEW;i(i.G+i.W+i.F*(u!==h),{ArrayBuffer:h}),i(i.S+i.F*!r.CONSTR,"ArrayBuffer",{isView:function(e){return p&&p(e)||c(e)&&g in e}}),i(i.P+i.U+i.F*n(21)(function(){return!new h(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(a(this),e);for(var n=a(this).byteLength,i=s(e,n),r=s(void 0===t?n:t,n),o=new(d(this,h))(l(r-i)),c=new f(this),u=new f(o),p=0;i<r;)u.setUint8(p++,c.getUint8(i++));return o}}),n(377)("ArrayBuffer")},function(e,t,n){var i=n(12);i(i.G+i.W+i.F*!n(423).ABV,{DataView:n(500).DataView})},function(e,t,n){n(92)("Int8",1,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(92)("Uint8",1,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(92)("Uint8",1,function(e){return function(t,n,i){return e(this,t,n,i)}},!0)},function(e,t,n){n(92)("Int16",2,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(92)("Uint16",2,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(92)("Int32",4,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(92)("Uint32",4,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(92)("Float32",4,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(92)("Float64",8,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){var i=n(12),r=n(88),o=n(29),a=(n(23).Reflect||{}).apply,s=Function.apply;i(i.S+i.F*!n(21)(function(){a(function(){})}),"Reflect",{apply:function(e,t,n){var i=r(e),l=o(n);return a?a(i,t,l):s.call(i,t,l)}})},function(e,t,n){var i=n(12),r=n(364),o=n(88),a=n(29),s=n(24),l=n(21),c=n(527),u=(n(23).Reflect||{}).construct,d=l(function(){function e(){}return!(u(function(){},[],e)instanceof e)}),h=!l(function(){u(function(){})});i(i.S+i.F*(d||h),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(h&&!d)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(c.apply(e,i))}var l=n.prototype,f=r(s(l)?l:Object.prototype),p=Function.apply.call(e,f,t);return s(p)?p:f}})},function(e,t,n){var i=n(35),r=n(12),o=n(29),a=n(96);r(r.S+r.F*n(21)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return i.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var i=n(12),r=n(75).f,o=n(29);i(i.S,"Reflect",{deleteProperty:function(e,t){var n=r(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var i=n(12),r=n(29),o=function(e){this._t=r(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(535)(o,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),i(i.S,"Reflect",{enumerate:function(e){return new o(e)}})},function(e,t,n){var i=n(75),r=n(366),o=n(60),a=n(12),s=n(24),l=n(29);a(a.S,"Reflect",{get:function e(t,n){var a,c,u=arguments.length<3?t:arguments[2];return l(t)===u?t[n]:(a=i.f(t,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(u):void 0:s(c=r(t))?e(c,n,u):void 0}})},function(e,t,n){var i=n(75),r=n(12),o=n(29);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return i.f(o(e),t)}})},function(e,t,n){var i=n(12),r=n(366),o=n(29);i(i.S,"Reflect",{getPrototypeOf:function(e){return r(o(e))}})},function(e,t,n){var i=n(12);i(i.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var i=n(12),r=n(29),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(e){return r(e),!o||o(e)}})},function(e,t,n){var i=n(12);i(i.S,"Reflect",{ownKeys:n(547)})},function(e,t,n){var i=n(12),r=n(29),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(e){r(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,n){var i=n(35),r=n(75),o=n(366),a=n(60),s=n(12),l=n(359),c=n(29),u=n(24);s(s.S,"Reflect",{set:function e(t,n,s){var d,h,f=arguments.length<4?t:arguments[3],p=r.f(c(t),n);if(!p){if(u(h=o(t)))return e(h,n,s,f);p=l(0)}if(a(p,"value")){if(!1===p.writable||!u(f))return!1;if(d=r.f(f,n)){if(d.get||d.set||!1===d.writable)return!1;d.value=s,i.f(f,n,d)}else i.f(f,n,l(0,s));return!0}return void 0!==p.set&&(p.set.call(f,s),!0)}})},function(e,t,n){var i=n(12),r=n(483);r&&i(i.S,"Reflect",{setPrototypeOf:function(e,t){r.check(e,t);try{return r.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){n(787),e.exports=n(44).Array.includes},function(e,t,n){"use strict";var i=n(12),r=n(413)(!0);i(i.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(376)("includes")},function(e,t,n){n(789),e.exports=n(44).String.padStart},function(e,t,n){"use strict";var i=n(12),r=n(548),o=n(421);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){n(791),e.exports=n(44).String.padEnd},function(e,t,n){"use strict";var i=n(12),r=n(548),o=n(421);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){n(793),e.exports=n(478).f("asyncIterator")},function(e,t,n){n(522)("asyncIterator")},function(e,t,n){n(795),e.exports=n(44).Object.getOwnPropertyDescriptors},function(e,t,n){var i=n(12),r=n(547),o=n(62),a=n(75),s=n(494);i(i.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,i=o(e),l=a.f,c=r(i),u={},d=0;c.length>d;)void 0!==(n=l(i,t=c[d++]))&&s(u,t,n);return u}})},function(e,t,n){n(797),e.exports=n(44).Object.values},function(e,t,n){var i=n(12),r=n(549)(!1);i(i.S,"Object",{values:function(e){return r(e)}})},function(e,t,n){n(799),e.exports=n(44).Object.entries},function(e,t,n){var i=n(12),r=n(549)(!0);i(i.S,"Object",{entries:function(e){return r(e)}})},function(e,t,n){"use strict";n(541),n(801),e.exports=n(44).Promise.finally},function(e,t,n){"use strict";var i=n(12),r=n(44),o=n(23),a=n(420),s=n(543);i(i.P+i.R,"Promise",{finally:function(e){var t=a(this,r.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){n(803),n(804),n(805),e.exports=n(44)},function(e,t,n){var i=n(23),r=n(12),o=n(421),a=[].slice,s=/MSIE .\./.test(o),l=function(e){return function(t,n){var i=arguments.length>2,r=!!i&&a.call(arguments,2);return e(i?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,n)}};r(r.G+r.B+r.F*s,{setTimeout:l(i.setTimeout),setInterval:l(i.setInterval)})},function(e,t,n){var i=n(12),r=n(499);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(e,t,n){for(var i=n(497),r=n(362),o=n(55),a=n(23),s=n(61),l=n(375),c=n(30),u=c("iterator"),d=c("toStringTag"),h=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(f),m=0;m<p.length;m++){var g,_=p[m],v=f[_],y=a[_],b=y&&y.prototype;if(b&&(b[u]||s(b,u,h),b[d]||s(b,d,_),l[_]=h,v))for(g in i)b[g]||o(b,g,i[g],!0)}},function(e,t){!function(t){"use strict";var n,i=Object.prototype,r=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",c="object"==typeof e,u=t.regeneratorRuntime;if(u)c&&(e.exports=u);else{(u=t.regeneratorRuntime=c?e.exports:{}).wrap=b;var d="suspendedStart",h="suspendedYield",f="executing",p="completed",m={},g={};g[a]=function(){return this};var _=Object.getPrototypeOf,v=_&&_(_(O([])));v&&v!==i&&r.call(v,a)&&(g=v);var y=x.prototype=k.prototype=Object.create(g);M.prototype=y.constructor=x,x.constructor=M,x[l]=M.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===M||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(y),e},u.awrap=function(e){return{__await:e}},C(S.prototype),S.prototype[s]=function(){return this},u.AsyncIterator=S,u.async=function(e,t,n,i){var r=new S(b(e,t,n,i));return u.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},C(y),y[l]="Generator",y[a]=function(){return this},y.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},u.values=O,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(i,r){return s.type="throw",s.arg=e,t.next=i,r&&(t.method="next",t.arg=n),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;E(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:O(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=n),m}}}function b(e,t,n,i){var r=t&&t.prototype instanceof k?t:k,o=Object.create(r.prototype),a=new D(i||[]);return o._invoke=function(e,t,n){var i=d;return function(r,o){if(i===f)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw o;return A()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var l=w(e,t,n);if("normal"===l.type){if(i=n.done?p:h,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=p,n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function w(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function k(){}function M(){}function x(){}function C(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function S(e){var t;this._invoke=function(n,i){function o(){return new Promise(function(t,o){!function t(n,i,o,a){var s=w(e[n],e,i);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(c).then(function(e){l.value=e,o(l)},a)}a(s.arg)}(n,i,t,o)})}return t=t?t.then(o,o):o()}}function T(e,t){var i=e.iterator[t.method];if(i===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,T(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=w(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,m;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(r.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){(function(t){e.exports=t.$=n(808)}).call(this,n(39))},function(e,t,n){var i=n(46);n(809),n(810),n(811),n(812),n(813),n(814),n(815),n(816),n(817),n(818),n(819),n(820),n(821),n(822),e.exports=i},function(e,t,n){
/**
 * @fileOverview jquery-autocomplete, the jQuery Autocompleter
 * @author <a href="mailto:dylan@dyve.net">Dylan Verheul</a>
 * @version 2.4.4
 * @requires jQuery 1.6+
 * @license MIT | GPL | Apache 2.0, see LICENSE.txt
 * @see https://github.com/dyve/jquery-autocomplete
 */
!function(e){"use strict";e.fn.autocomplete_verheul=function(t){var n;arguments.length>1?(n=t,(t=arguments[1]).url=n):"string"==typeof t&&(t={url:n=t});var i=e.extend({},e.fn.autocomplete_verheul.defaults,t);return this.each(function(){var t=e(this);t.data("autocompleter",new e.Autocompleter(t,e.meta?e.extend({},i,t.data()):i))})},e.fn.autocomplete_verheul.defaults={inputClass:"acInput",loadingClass:"acLoading",resultsClass:"acResults",selectClass:"acSelect",queryParamName:"q",extraParams:{},remoteDataType:!1,lineSeparator:"\n",cellSeparator:"|",minChars:2,maxItemsToShow:10,delay:400,useCache:!0,maxCacheLength:10,matchSubset:!0,matchCase:!1,matchInside:!0,mustMatch:!1,selectFirst:!1,selectOnly:!1,showResult:null,preventDefaultReturn:1,preventDefaultTab:0,autoFill:!1,filterResults:!0,filter:!0,sortResults:!0,sortFunction:null,onItemSelect:null,onNoMatch:null,onFinish:null,matchStringConverter:null,beforeUseConverter:null,autoWidth:"min-width",useDelimiter:!1,delimiterChar:",",delimiterKeyCode:188,processData:null,onError:null,enabled:!0};var t=function(t){var n,i,r=typeof t;return"string"===r?(n=t,i={}):e.isArray(t)?(n=t[0],i=t.slice(1)):"object"===r&&(n=t.value,i=t.data),n=String(n),"object"!=typeof i&&(i={}),{value:n,data:i}},n=function(e,t,n){var i=parseInt(e,10);return n=n||{},(isNaN(i)||n.min&&i<n.min)&&(i=t),i},i=function(t,n){var i=[];return e.each(n,function(e,t){i.push(function(e,t){return[e,encodeURIComponent(t)].join("=")}(e,t))}),i.length&&(t+=-1===t.indexOf("?")?"?":"&",t+=i.join("&")),t};e.Autocompleter=function(t,i){if(!t||!(t instanceof e)||1!==t.length||"INPUT"!==t.get(0).tagName.toUpperCase()&&"TEXTAREA"!==t.get(0).tagName.toUpperCase())throw new Error("Invalid parameter for jquery.Autocompleter, jQuery object with one element with INPUT or TEXTAREA tag expected.");var r=this;this.options=i,this.cacheData_={},this.cacheLength_=0,this.selectClass_="jquery-autocomplete-selected-item",this.keyTimeout_=null,this.finishTimeout_=null,this.lastKeyPressed_=null,this.lastProcessedValue_=null,this.lastSelectedValue_=null,this.active_=!1,this.finishOnBlur_=!0,this.options.minChars=n(this.options.minChars,e.fn.autocomplete_verheul.defaults.minChars,{min:0}),this.options.maxItemsToShow=n(this.options.maxItemsToShow,e.fn.autocomplete_verheul.defaults.maxItemsToShow,{min:0}),this.options.maxCacheLength=n(this.options.maxCacheLength,e.fn.autocomplete_verheul.defaults.maxCacheLength,{min:1}),this.options.delay=n(this.options.delay,e.fn.autocomplete_verheul.defaults.delay,{min:0}),2!=this.options.preventDefaultReturn&&(this.options.preventDefaultReturn=this.options.preventDefaultReturn?1:0),2!=this.options.preventDefaultTab&&(this.options.preventDefaultTab=this.options.preventDefaultTab?1:0),this.dom={},this.dom.$elem=t,this.dom.$elem.attr("autocomplete","off").addClass(this.options.inputClass),this.dom.$results=e("<div></div>").hide().addClass(this.options.resultsClass).css({position:"absolute"}),e("body").append(this.dom.$results),t.keydown(function(e){switch(r.lastKeyPressed_=e.keyCode,r.lastKeyPressed_){case r.options.delimiterKeyCode:r.options.useDelimiter&&r.active_&&r.selectCurrent();break;case 35:case 36:case 16:case 17:case 18:case 37:case 39:break;case 38:return e.preventDefault(),r.active_?r.focusPrev():r.activate(),!1;case 40:return e.preventDefault(),r.active_?r.focusNext():r.activate(),!1;case 9:if(r.active_&&(r.selectCurrent(),r.options.preventDefaultTab))return e.preventDefault(),!1;if(2===r.options.preventDefaultTab)return e.preventDefault(),!1;break;case 13:if(r.active_&&(r.selectCurrent(),r.options.preventDefaultReturn))return e.preventDefault(),!1;if(2===r.options.preventDefaultReturn)return e.preventDefault(),!1;break;case 27:if(r.active_)return e.preventDefault(),r.deactivate(!0),!1;break;default:r.activate()}}),t.on("paste",function(){r.activate()});var o=function(){r.deactivate(!0)};t.blur(function(){r.finishOnBlur_&&(r.finishTimeout_=setTimeout(o,200))}),t.parents("form").on("submit",o)},e.Autocompleter.prototype.position=function(){var t=this.dom.$elem.offset(),n=this.dom.$results.outerHeight(),i=e(window).outerHeight(),r=t.top+this.dom.$elem.outerHeight(),o=r+n,a={top:r,left:t.left};if(o>i){var s=t.top-n;s>=0&&(a.top=s)}this.dom.$results.css(a)},e.Autocompleter.prototype.cacheRead=function(e){var t,n,i,r,o;if(this.options.useCache)for(t=(e=String(e)).length,n=this.options.matchSubset?1:t;n<=t;){for(r=this.options.matchInside?t-n:0,o=0;o<=r;){if(i=e.substr(0,n),void 0!==this.cacheData_[i])return this.cacheData_[i];o++}n++}return!1},e.Autocompleter.prototype.cacheWrite=function(e,t){return!!this.options.useCache&&(this.cacheLength_>=this.options.maxCacheLength&&this.cacheFlush(),e=String(e),void 0!==this.cacheData_[e]&&this.cacheLength_++,this.cacheData_[e]=t,this.cacheData_[e])},e.Autocompleter.prototype.cacheFlush=function(){this.cacheData_={},this.cacheLength_=0},e.Autocompleter.prototype.callHook=function(t,n){var i=this.options[t];return!(!i||!e.isFunction(i))&&i(n,this)},e.Autocompleter.prototype.activate=function(){if(this.options.enabled){var e=this;this.keyTimeout_&&clearTimeout(this.keyTimeout_),this.keyTimeout_=setTimeout(function(){e.activateNow()},this.options.delay)}},e.Autocompleter.prototype.activateNow=function(){var e=this.beforeUseConverter(this.dom.$elem.val());e!==this.lastProcessedValue_&&e!==this.lastSelectedValue_&&this.fetchData(e)},e.Autocompleter.prototype.fetchData=function(e){var t=this,n=function(e,n){t.options.processData&&(e=t.options.processData(e)),t.showResults(t.filterResults(e,n),n)};this.lastProcessedValue_=e,e.length<this.options.minChars?n([],e):this.options.data?n(this.options.data,e):this.fetchRemoteData(e,function(t){n(t,e)})},e.Autocompleter.prototype.fetchRemoteData=function(t,n){var i=this.cacheRead(t);if(i)n(i);else{var r=this,o="json"===r.options.remoteDataType?"json":"text",a=function(e){var i=!1;!1!==e&&(i=r.parseRemoteData(e),r.cacheWrite(t,i)),r.dom.$elem.removeClass(r.options.loadingClass),n(i)};this.dom.$elem.addClass(this.options.loadingClass),e.ajax({url:this.makeUrl(t),success:a,error:function(t,n,i){e.isFunction(r.options.onError)?r.options.onError(t,n,i):a(!1)},dataType:o})}},e.Autocompleter.prototype.setExtraParam=function(t,n){var i=e.trim(String(t));return i&&(this.options.extraParams||(this.options.extraParams={}),this.options.extraParams[i]!==n&&(this.options.extraParams[i]=n,this.cacheFlush())),this},e.Autocompleter.prototype.makeUrl=function(t){var n=this.options.url,r=e.extend({},this.options.extraParams);return!1===this.options.queryParamName?n+=encodeURIComponent(t):r[this.options.queryParamName]=t,i(n,r)},e.Autocompleter.prototype.parseRemoteData=function(t){var n,i=t;if("json"===this.options.remoteDataType){switch(n=typeof t){case"object":i=t;break;case"string":i=e.parseJSON(t);break;default:throw new Error("Unexpected remote data type: "+n)}return i}return function(e,t,n){var i,r,o,a,s,l,c=[];for(l=String(e).replace("\r\n","\n").split(t),i=0;i<l.length;i++){for(a=l[i].split(n),o=[],r=0;r<a.length;r++)o.push(decodeURIComponent(a[r]));s=o.shift(),c.push({value:s,data:o})}return c}(i,this.options.lineSeparator,this.options.cellSeparator)},e.Autocompleter.prototype.defaultFilter=function(e,t){if(!e.value)return!1;if(this.options.filterResults){var n=this.matchStringConverter(t),i=this.matchStringConverter(e.value);this.options.matchCase||(n=n.toLowerCase(),i=i.toLowerCase());var r=i.indexOf(n);return this.options.matchInside?r>-1:0===r}return!0},e.Autocompleter.prototype.filterResult=function(t,n){return!1===this.options.filter||(e.isFunction(this.options.filter)?this.options.filter(t,n):this.defaultFilter(t,n))},e.Autocompleter.prototype.filterResults=function(e,n){var i,r,o=[];for(i=0;i<e.length;i++)r=t(e[i]),this.filterResult(r,n)&&o.push(r);return this.options.sortResults&&(o=this.sortResults(o,n)),this.options.maxItemsToShow>0&&this.options.maxItemsToShow<o.length&&(o.length=this.options.maxItemsToShow),o},e.Autocompleter.prototype.sortResults=function(t,n){var i=this,r=this.options.sortFunction;return e.isFunction(r)||(r=function(e,t,n){return function(e,t,n){return e=String(e.value),t=String(t.value),n||(e=e.toLowerCase(),t=t.toLowerCase()),e>t?1:e<t?-1:0}(e,t,i.options.matchCase)}),t.sort(function(e,t){return r(e,t,n,i.options)}),t},e.Autocompleter.prototype.matchStringConverter=function(t,n,i){var r=this.options.matchStringConverter;return e.isFunction(r)&&(t=r(t,n,i)),t},e.Autocompleter.prototype.beforeUseConverter=function(t){t=this.getValue(t);var n=this.options.beforeUseConverter;return e.isFunction(n)&&(t=n(t)),t},e.Autocompleter.prototype.enableFinishOnBlur=function(){this.finishOnBlur_=!0},e.Autocompleter.prototype.disableFinishOnBlur=function(){this.finishOnBlur_=!1},e.Autocompleter.prototype.createItemFromResult=function(t){var n=this,i=e("<li/>");return i.html(this.showResult(t.value,t.data)),i.data({value:t.value,data:t.data}).click(function(){n.selectItem(i)}).mousedown(n.disableFinishOnBlur).mouseup(n.enableFinishOnBlur),i},e.Autocompleter.prototype.getItems=function(){return e(">ul>li",this.dom.$results)},e.Autocompleter.prototype.showResults=function(t,n){var i,r,o,a,s=t.length,l=this,c=e("<ul></ul>"),u=!1,d=!1;if(s){for(i=0;i<s;i++)r=t[i],o=this.createItemFromResult(r),c.append(o),!1===u&&(u=String(r.value),d=o,o.addClass(this.options.firstItemClass)),i===s-1&&o.addClass(this.options.lastItemClass);this.dom.$results.html(c).show(),this.position(),this.options.autoWidth&&(a=this.dom.$elem.outerWidth()-this.dom.$results.outerWidth()+this.dom.$results.width(),this.dom.$results.css(this.options.autoWidth,a)),this.getItems().hover(function(){l.focusItem(this)},function(){}),(this.autoFill(u,n)||this.options.selectFirst||this.options.selectOnly&&1===s)&&this.focusItem(d),this.active_=!0}else this.hideResults(),this.active_=!1},e.Autocompleter.prototype.showResult=function(t,n){return e.isFunction(this.options.showResult)?this.options.showResult(t,n):e("<p></p>").text(t).html()},e.Autocompleter.prototype.autoFill=function(e,t){var n,i,r,o;if(this.options.autoFill&&8!==this.lastKeyPressed_&&(n=String(e).toLowerCase(),i=String(t).toLowerCase(),r=e.length,o=t.length,n.substr(0,o)===i)){var a=this.getDelimiterOffsets(),s=a.start?" ":"";this.setValue(s+e);var l=o+a.start+s.length,c=r+a.start+s.length;return this.selectRange(l,c),!0}return!1},e.Autocompleter.prototype.focusNext=function(){this.focusMove(1)},e.Autocompleter.prototype.focusPrev=function(){this.focusMove(-1)},e.Autocompleter.prototype.focusMove=function(t){var i=this.getItems();if(t=n(t,0))for(var r=0;r<i.length;r++)if(e(i[r]).hasClass(this.selectClass_))return void this.focusItem(r+t);this.focusItem(0)},e.Autocompleter.prototype.focusItem=function(t){var n,i=this.getItems();i.length&&(i.removeClass(this.selectClass_).removeClass(this.options.selectClass),"number"==typeof t?(t<0?t=0:t>=i.length&&(t=i.length-1),n=e(i[t])):n=e(t),n&&n.addClass(this.selectClass_).addClass(this.options.selectClass))},e.Autocompleter.prototype.selectCurrent=function(){var t=e("li."+this.selectClass_,this.dom.$results);1===t.length?this.selectItem(t):this.deactivate(!1)},e.Autocompleter.prototype.selectItem=function(e){var t=e.data("value"),n=e.data("data"),i=this.displayValue(t,n),r=this.beforeUseConverter(i);this.lastProcessedValue_=r,this.lastSelectedValue_=r;var o=this.getDelimiterOffsets(),a=this.options.delimiterChar,s=this.dom.$elem,l=0;this.options.useDelimiter&&(s.val().substring(o.start-1,o.start)==a&&" "!=a&&(i=" "+i),s.val().substring(o.end,o.end+1)!=a&&this.lastKeyPressed_!=this.options.delimiterKeyCode?i+=a:l=1),this.setValue(i),this.setCaret(o.start+i.length+l),this.callHook("onItemSelect",{value:t,data:n}),this.deactivate(!0),s.focus()},e.Autocompleter.prototype.displayValue=function(t,n){return e.isFunction(this.options.displayValue)?this.options.displayValue(t,n):t},e.Autocompleter.prototype.hideResults=function(){this.dom.$results.hide()},e.Autocompleter.prototype.deactivate=function(e){this.finishTimeout_&&clearTimeout(this.finishTimeout_),this.keyTimeout_&&clearTimeout(this.keyTimeout_),e&&(this.lastProcessedValue_!==this.lastSelectedValue_&&(this.options.mustMatch&&this.setValue(""),this.callHook("onNoMatch")),this.active_&&this.callHook("onFinish"),this.lastKeyPressed_=null,this.lastProcessedValue_=null,this.lastSelectedValue_=null,this.active_=!1),this.hideResults()},e.Autocompleter.prototype.selectRange=function(e,t){var n=this.dom.$elem.get(0);if(n.setSelectionRange)n.focus(),n.setSelectionRange(e,t);else if(n.createTextRange){var i=n.createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}},e.Autocompleter.prototype.setCaret=function(e){this.selectRange(e,e)},e.Autocompleter.prototype.getCaret=function(){var e,t,n,i,r,o,a=this.dom.$elem,s=a[0];return s.createTextRange?(t=document.selection,"textarea"!=s.tagName.toLowerCase()?(e=a.val(),(n=t.createRange().duplicate()).moveEnd("character",e.length),i=""===n.text?e.length:e.lastIndexOf(n.text),(n=t.createRange().duplicate()).moveStart("character",-e.length),r=n.text.length):((o=(n=t.createRange()).duplicate()).moveToElementText(s),o.setEndPoint("EndToEnd",n),r=(i=o.text.length-n.text.length)+n.text.length)):(i=a[0].selectionStart,r=a[0].selectionEnd),{start:i,end:r}},e.Autocompleter.prototype.setValue=function(e){if(this.options.useDelimiter){var t=this.dom.$elem.val(),n=this.getDelimiterOffsets();e=t.substring(0,n.start)+e+t.substring(n.end)}this.dom.$elem.val(e)},e.Autocompleter.prototype.getValue=function(e){if(this.options.useDelimiter){var t=this.getDelimiterOffsets();return e.substring(t.start,t.end).trim()}return e},e.Autocompleter.prototype.getDelimiterOffsets=function(){var e=this.dom.$elem.val();if(this.options.useDelimiter){var t=e.substring(0,this.getCaret().start).lastIndexOf(this.options.delimiterChar)+1,n=e.substring(this.getCaret().start).indexOf(this.options.delimiterChar);-1==n&&(n=e.length),n+=this.getCaret().start}else t=0,n=e.length;return{start:t,end:n}}}(n(46))},function(e,t,n){!function(e){e.fn._hover=e.fn.hover,e.fn.hover=function(e,t,n){return n&&this.bind("hoverstart",e),t&&this.bind("hoverend",n||t),e?this.bind("hover",n?t:e):this.trigger("hover")};var t=e.event.special.hover={delay:100,speed:100,setup:function(i){i=e.extend({speed:t.speed,delay:t.delay,hovered:0},i||{}),e.event.add(this,"mouseenter mouseleave",n,i)},teardown:function(){e.event.remove(this,"mouseenter mouseleave",n)}};function n(t){var i=t.data||t;switch(t.type){case"mouseenter":i.dist2=0,i.event=t,t.type="hoverstart",!1!==e.event.dispatch.call(this,t)&&(i.elem=this,e.event.add(this,"mousemove",n,i),i.timer=setTimeout(r,i.delay));break;case"mousemove":i.dist2+=Math.pow(t.pageX-i.event.pageX,2)+Math.pow(t.pageY-i.event.pageY,2),i.event=t;break;case"mouseleave":clearTimeout(i.timer),i.hovered?(t.type="hoverend",e.event.dispatch.call(this,t),i.hovered--):e.event.remove(i.elem,"mousemove",n);break;default:i.dist2<=Math.pow(i.speed*(i.delay/1e3),2)?(e.event.remove(i.elem,"mousemove",n),i.event.type="hover",!1!==e.event.dispatch.call(i.elem,i.event)&&i.hovered++):i.timer=setTimeout(r,i.delay),i.dist2=0}function r(){n(i)}}}(n(46))},function(e,t,n){!function(e){e.fn.drag=function(t,n,i){var r="string"==typeof t?t:"",o=e.isFunction(t)?t:e.isFunction(n)?n:null;return 0!==r.indexOf("drag")&&(r="drag"+r),i=(t==o?n:i)||{},o?this.bind(r,i,o):this.trigger(r)};var t=e.event,n=t.special,i=n.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(t){var n=e.data(this,i.datakey),r=t.data||{};n.related+=1,e.each(i.defaults,function(e,t){void 0!==r[e]&&(n[e]=r[e])})},remove:function(){e.data(this,i.datakey).related-=1},setup:function(){if(!e.data(this,i.datakey)){var n=e.extend({related:0},i.defaults);e.data(this,i.datakey,n),t.add(this,"touchstart mousedown",i.init,n),this.attachEvent&&this.attachEvent("ondragstart",i.dontstart)}},teardown:function(){(e.data(this,i.datakey)||{}).related||(e.removeData(this,i.datakey),t.remove(this,"touchstart mousedown",i.init),i.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",i.dontstart))},init:function(r){if(!i.touched){var o,a=r.data;if(!(0!=r.which&&a.which>0&&r.which!=a.which)&&!e(r.target).is(a.not)&&(!a.handle||e(r.target).closest(a.handle,r.currentTarget).length)&&(i.touched="touchstart"==r.type?this:null,a.propagates=1,a.mousedown=this,a.interactions=[i.interaction(this,a)],a.target=r.target,a.pageX=r.pageX,a.pageY=r.pageY,a.dragging=null,o=i.hijack(r,"draginit",a),a.propagates))return(o=i.flatten(o))&&o.length&&(a.interactions=[],e.each(o,function(){a.interactions.push(i.interaction(this,a))})),a.propagates=a.interactions.length,!1!==a.drop&&n.drop&&n.drop.handler(r,a),i.textselect(!1),i.touched?t.add(i.touched,"touchmove touchend",i.handler,a):t.add(document,"mousemove mouseup",i.handler,a),!(!i.touched||a.live)&&void 0}},interaction:function(t,n){var r=e(t)[n.relative?"position":"offset"]()||{top:0,left:0};return{drag:t,callback:new i.callback,droppable:[],offset:r}},handler:function(r){var o=r.data;switch(r.type){case!o.dragging&&"touchmove":r.preventDefault();case!o.dragging&&"mousemove":if(Math.pow(r.pageX-o.pageX,2)+Math.pow(r.pageY-o.pageY,2)<Math.pow(o.distance,2))break;r.target=o.target,i.hijack(r,"dragstart",o),o.propagates&&(o.dragging=!0);case"touchmove":r.preventDefault();case"mousemove":if(o.dragging){if(i.hijack(r,"drag",o),o.propagates){!1!==o.drop&&n.drop&&n.drop.handler(r,o);break}r.type="mouseup"}case"touchend":case"mouseup":default:i.touched?t.remove(i.touched,"touchmove touchend",i.handler):t.remove(document,"mousemove mouseup",i.handler),o.dragging?(!1!==o.drop&&n.drop&&n.drop.handler(r,o),i.hijack(r,"dragend",o)):i.hijack(r,"dragclickonly",o),i.textselect(!0),!1===o.click&&o.dragging&&e.data(o.mousedown,"suppress.click",(new Date).getTime()+5),o.dragging=i.touched=!1}},hijack:function(n,r,o,a,s){if(o){var l,c,u,d={event:n.originalEvent,type:n.type},h=r.indexOf("drop")?"drag":"drop",f=a||0,p=isNaN(a)?o.interactions.length:a;n.type=r,n.originalEvent=null,o.results=[];do{if(c=o.interactions[f]){if("dragend"!==r&&c.cancelled)continue;u=i.properties(n,o,c),c.results=[],e(s||c[h]||o.droppable).each(function(a,s){if(u.target=s,n.isPropagationStopped=function(){return!1},!1===(l=s?t.dispatch.call(s,n,u):null)?("drag"==h&&(c.cancelled=!0,o.propagates-=1),"drop"==r&&(c[h][a]=null)):"dropinit"==r&&c.droppable.push(i.element(l)||s),"dragstart"==r&&(c.proxy=e(i.element(l)||c.drag)[0]),c.results.push(l),delete n.result,"dropinit"!==r)return l}),o.results[f]=i.flatten(c.results),"dropinit"==r&&(c.droppable=i.flatten(c.droppable)),"dragstart"!=r||c.cancelled||u.update()}}while(++f<p);return n.type=d.type,n.originalEvent=d.event,i.flatten(o.results)}},properties:function(e,t,n){var r=n.callback;return r.drag=n.drag,r.proxy=n.proxy||n.drag,r.startX=t.pageX,r.startY=t.pageY,r.deltaX=e.pageX-t.pageX,r.deltaY=e.pageY-t.pageY,r.originalX=n.offset.left,r.originalY=n.offset.top,r.offsetX=r.originalX+r.deltaX,r.offsetY=r.originalY+r.deltaY,r.drop=i.flatten((n.drop||[]).slice()),r.available=i.flatten((n.droppable||[]).slice()),r},element:function(e){if(e&&(e.jquery||1==e.nodeType))return e},flatten:function(t){return e.map(t,function(t){return t&&t.jquery?e.makeArray(t):t&&t.length?i.flatten(t):t})},textselect:function(t){e(document)[t?"unbind":"bind"]("selectstart",i.dontstart).css("MozUserSelect",t?"":"none"),document.unselectable=t?"off":"on"},dontstart:function(){return!1},callback:function(){}};i.callback.prototype={update:function(){n.drop&&this.available.length&&e.each(this.available,function(e){n.drop.locate(this,e)})}};var r=t.dispatch;t.dispatch=function(t){if(!(e.data(this,"suppress."+t.type)-(new Date).getTime()>0))return r.apply(this,arguments);e.removeData(this,"suppress."+t.type)};var o=t.fixHooks.touchstart=t.fixHooks.touchmove=t.fixHooks.touchend=t.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(t,n){if(n){var i=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0]||null;i&&e.each(o.props,function(e,n){t[n]=i[n]})}return t}};n.draginit=n.dragstart=n.dragend=i}(n(46))},function(e,t,n){!function(e){e.fn.drop=function(t,n,i){var r="string"==typeof t?t:"",o=e.isFunction(t)?t:e.isFunction(n)?n:null;return 0!==r.indexOf("drop")&&(r="drop"+r),i=(t==o?n:i)||{},o?this.bind(r,i,o):this.trigger(r)},e.drop=function(t){t=t||{},n.multi=!0===t.multi?1/0:!1===t.multi?1:isNaN(t.multi)?n.multi:t.multi,n.delay=t.delay||n.delay,n.tolerance=e.isFunction(t.tolerance)?t.tolerance:null===t.tolerance?null:n.tolerance,n.mode=t.mode||n.mode||"intersect"};var t=e.event.special,n=e.event.special.drop={multi:1,delay:20,mode:"overlap",targets:[],datakey:"dropdata",noBubble:!0,add:function(t){e.data(this,n.datakey).related+=1},remove:function(){e.data(this,n.datakey).related-=1},setup:function(){if(!e.data(this,n.datakey)){e.data(this,n.datakey,{related:0,active:[],anyactive:0,winner:0,location:{}}),n.targets.push(this)}},teardown:function(){if(!(e.data(this,n.datakey)||{}).related){e.removeData(this,n.datakey);var t=this;n.targets=e.grep(n.targets,function(e){return e!==t})}},handler:function(i,r){var o;if(r)switch(i.type){case"mousedown":case"touchstart":o=e(n.targets),"string"==typeof r.drop&&(o=o.filter(r.drop)),o.each(function(){var t=e.data(this,n.datakey);t.active=[],t.anyactive=0,t.winner=0}),r.droppable=o,t.drag.hijack(i,"dropinit",r);break;case"mousemove":case"touchmove":n.event=i,n.timer||n.tolerate(r);break;case"mouseup":case"touchend":n.timer=clearTimeout(n.timer),r.propagates&&(t.drag.hijack(i,"drop",r),t.drag.hijack(i,"dropend",r))}},locate:function(t,i){var r=e.data(t,n.datakey),o=e(t),a=o.offset()||{},s=o.outerHeight(),l=o.outerWidth(),c={elem:t,width:l,height:s,top:a.top,left:a.left,right:a.left+l,bottom:a.top+s};return r&&(r.location=c,r.index=i,r.elem=t),c},contains:function(e,t){return(t[0]||t.left)>=e.left&&(t[0]||t.right)<=e.right&&(t[1]||t.top)>=e.top&&(t[1]||t.bottom)<=e.bottom},modes:{intersect:function(e,t,n){return this.contains(n,[e.pageX,e.pageY])?1e9:this.modes.overlap.apply(this,arguments)},overlap:function(e,t,n){return Math.max(0,Math.min(n.bottom,t.bottom)-Math.max(n.top,t.top))*Math.max(0,Math.min(n.right,t.right)-Math.max(n.left,t.left))},fit:function(e,t,n){return this.contains(n,t)?1:0},middle:function(e,t,n){return this.contains(n,[t.left+.5*t.width,t.top+.5*t.height])?1:0}},sort:function(e,t){return t.winner-e.winner||e.index-t.index},tolerate:function(i){var r,o,a,s,l,c,u,d,h=0,f=i.interactions.length,p=[n.event.pageX,n.event.pageY],m=n.tolerance||n.modes[n.mode];do{if(d=i.interactions[h]){if(!d)return;d.drop=[],l=[],c=d.droppable.length,m&&(a=n.locate(d.proxy)),r=0;do{if(u=d.droppable[r]){if(!(o=(s=e.data(u,n.datakey)).location))continue;s.winner=m?m.call(n,n.event,a,o):n.contains(o,p)?1:0,l.push(s)}}while(++r<c);l.sort(n.sort),r=0;do{(s=l[r])&&(s.winner&&d.drop.length<n.multi?(s.active[h]||s.anyactive||(!1!==t.drag.hijack(n.event,"dropstart",i,h,s.elem)[0]?(s.active[h]=1,s.anyactive+=1):s.winner=0),s.winner&&d.drop.push(s.elem)):s.active[h]&&1==s.anyactive&&(t.drag.hijack(n.event,"dropend",i,h,s.elem),s.active[h]=0,s.anyactive-=1))}while(++r<c)}}while(++h<f);n.last&&p[0]==n.last.pageX&&p[1]==n.last.pageY?delete n.timer:n.timer=setTimeout(function(){n.tolerate(i)},n.delay),n.last=n.event}};t.dropinit=t.dropstart=t.dropend=n}(n(46))},function(e,t,n){n(46);
/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */
!function(t){e.exports=t}(function(e){var t,n,i=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o=Array.prototype.slice;if(e.event.fixHooks)for(var a=i.length;a;)e.event.fixHooks[i[--a]]=e.event.mouseHooks;var s=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],l,!1);else this.onmousewheel=l;e.data(this,"mousewheel-line-height",s.getLineHeight(this)),e.data(this,"mousewheel-page-height",s.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],l,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),i=n["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(i){var r,a=i||window.event,l=o.call(arguments,1),d=0,h=0,f=0,p=0,m=0;if((i=e.event.fix(a)).type="mousewheel","detail"in a&&(f=-1*a.detail),"wheelDelta"in a&&(f=a.wheelDelta),"wheelDeltaY"in a&&(f=a.wheelDeltaY),"wheelDeltaX"in a&&(h=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(h=-1*f,f=0),d=0===f?h:f,"deltaY"in a&&(d=f=-1*a.deltaY),"deltaX"in a&&(h=a.deltaX,0===f&&(d=-1*h)),0!==f||0!==h){if(1===a.deltaMode){var g=e.data(this,"mousewheel-line-height");d*=g,f*=g,h*=g}else if(2===a.deltaMode){var _=e.data(this,"mousewheel-page-height");d*=_,f*=_,h*=_}if(r=Math.max(Math.abs(f),Math.abs(h)),(!n||r<n)&&(n=r,u(a,r)&&(n/=40)),u(a,r)&&(d/=40,h/=40,f/=40),d=Math[d>=1?"floor":"ceil"](d/n),h=Math[h>=1?"floor":"ceil"](h/n),f=Math[f>=1?"floor":"ceil"](f/n),s.settings.normalizeOffset&&this.getBoundingClientRect){var v=this.getBoundingClientRect();p=i.clientX-v.left,m=i.clientY-v.top}return i.deltaX=h,i.deltaY=f,i.deltaFactor=n,i.offsetX=p,i.offsetY=m,i.deltaMode=0,l.unshift(i,d,h,f),t&&clearTimeout(t),t=setTimeout(c,200),(e.event.dispatch||e.event.handle).apply(this,l)}}function c(){n=null}function u(e,t){return s.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})},function(e,t,n){var i=n(46);
/*!
 * jQuery Form Plugin
 * version: 3.45.0-2013.10.17
 * Requires jQuery v1.5 or later
 * Copyright (c) 2013 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */!function(e){"use strict";var t={};t.fileapi=void 0!==e("<input type='file'/>").get(0).files,t.formdata=void 0!==window.FormData;var n=!!e.fn.prop;function i(t){var n=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(n))}function r(t){var n=t.target,i=e(n);if(!i.is("[type=submit],[type=image]")){var r=i.closest("[type=submit]");if(0===r.length)return;n=r[0]}var o=this;if(o.clk=n,"image"==n.type)if(void 0!==t.offsetX)o.clk_x=t.offsetX,o.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var a=i.offset();o.clk_x=t.pageX-a.left,o.clk_y=t.pageY-a.top}else o.clk_x=t.pageX-n.offsetLeft,o.clk_y=t.pageY-n.offsetTop;setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}function o(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}e.fn.attr2=function(){if(!n)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(i){if(!this.length)return o("ajaxSubmit: skipping submit process - no element selected"),this;var r,a,s,l=this;"function"==typeof i?i={success:i}:void 0===i&&(i={}),r=i.type||this.attr2("method"),(s=(s="string"==typeof(a=i.url||this.attr2("action"))?e.trim(a):"")||window.location.href||"")&&(s=(s.match(/^([^#]+)/)||[])[1]),i=e.extend(!0,{url:s,success:e.ajaxSettings.success,type:r||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},i);var c={};if(this.trigger("form-pre-serialize",[this,i,c]),c.veto)return o("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(i.beforeSerialize&&!1===i.beforeSerialize(this,i))return o("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var u=i.traditional;void 0===u&&(u=e.ajaxSettings.traditional);var d,h=[],f=this.formToArray(i.semantic,h);if(i.data&&(i.extraData=i.data,d=e.param(i.data,u)),i.beforeSubmit&&!1===i.beforeSubmit(f,this,i))return o("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[f,this,i,c]),c.veto)return o("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var p=e.param(f,u);d&&(p=p?p+"&"+d:d),"GET"==i.type.toUpperCase()?(i.url+=(i.url.indexOf("?")>=0?"&":"?")+p,i.data=null):i.data=p;var m=[];if(i.resetForm&&m.push(function(){l.resetForm()}),i.clearForm&&m.push(function(){l.clearForm(i.includeHidden)}),!i.dataType&&i.target){var g=i.success||function(){};m.push(function(t){var n=i.replaceTarget?"replaceWith":"html";e(i.target)[n](t).each(g,arguments)})}else i.success&&m.push(i.success);if(i.success=function(e,t,n){for(var r=i.context||this,o=0,a=m.length;o<a;o++)m[o].apply(r,[e,t,n||l,l])},i.error){var _=i.error;i.error=function(e,t,n){var r=i.context||this;_.apply(r,[e,t,n,l])}}if(i.complete){var v=i.complete;i.complete=function(e,t){var n=i.context||this;v.apply(n,[e,t,l])}}var y=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}).length>0,b="multipart/form-data",w=l.attr("enctype")==b||l.attr("encoding")==b,k=t.fileapi&&t.formdata;o("fileAPI :"+k);var M,x=(y||w)&&!k;!1!==i.iframe&&(i.iframe||x)?i.closeKeepAlive?e.get(i.closeKeepAlive,function(){M=S(f)}):M=S(f):M=(y||w)&&k?function(t){for(var n=new FormData,o=0;o<t.length;o++)n.append(t[o].name,t[o].value);if(i.extraData){var a=function(t){var n,r,o=e.param(t,i.traditional).split("&"),a=o.length,s=[];for(n=0;n<a;n++)o[n]=o[n].replace(/\+/g," "),r=o[n].split("="),s.push([decodeURIComponent(r[0]),decodeURIComponent(r[1])]);return s}(i.extraData);for(o=0;o<a.length;o++)a[o]&&n.append(a[o][0],a[o][1])}i.data=null;var s=e.extend(!0,{},e.ajaxSettings,i,{contentType:!1,processData:!1,cache:!1,type:r||"POST"});i.uploadProgress&&(s.xhr=function(){var t=e.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",function(e){var t=0,n=e.loaded||e.position,r=e.total;e.lengthComputable&&(t=Math.ceil(n/r*100)),i.uploadProgress(e,n,r,t)},!1),t});s.data=null;var l=s.beforeSend;return s.beforeSend=function(e,t){i.formData?t.data=i.formData:t.data=n,l&&l.call(this,e,t)},e.ajax(s)}(f):e.ajax(i),l.removeData("jqxhr").data("jqxhr",M);for(var C=0;C<h.length;C++)h[C]=null;return this.trigger("form-submit-notify",[this,i]),this;function S(t){var a,s,c,u,d,f,p,m,g,_,v,y,b=l[0],w=e.Deferred();if(w.abort=function(e){m.abort(e)},t)for(s=0;s<h.length;s++)a=e(h[s]),n?a.prop("disabled",!1):a.removeAttr("disabled");if((c=e.extend(!0,{},e.ajaxSettings,i)).context=c.context||c,d="jqFormIO"+(new Date).getTime(),c.iframeTarget?(_=(f=e(c.iframeTarget)).attr2("name"))?d=_:f.attr2("name",d):(f=e('<iframe name="'+d+'" src="'+c.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),p=f[0],m={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var n="timeout"===t?"timeout":"aborted";o("aborting upload... "+n),this.aborted=1;try{p.contentWindow.document.execCommand&&p.contentWindow.document.execCommand("Stop")}catch(e){}f.attr("src",c.iframeSrc),m.error=n,c.error&&c.error.call(c.context,m,n,t),u&&e.event.trigger("ajaxError",[m,c,n]),c.complete&&c.complete.call(c.context,m,n)}},(u=c.global)&&0==e.active++&&e.event.trigger("ajaxStart"),u&&e.event.trigger("ajaxSend",[m,c]),c.beforeSend&&!1===c.beforeSend.call(c.context,m,c))return c.global&&e.active--,w.reject(),w;if(m.aborted)return w.reject(),w;(g=b.clk)&&(_=g.name)&&!g.disabled&&(c.extraData=c.extraData||{},c.extraData[_]=g.value,"image"==g.type&&(c.extraData[_+".x"]=b.clk_x,c.extraData[_+".y"]=b.clk_y));var k=1,M=2;function x(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(e){o("cannot get iframe.contentWindow document: "+e)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(n){o("cannot get iframe.contentDocument: "+n),t=e.document}return t}var C=e("meta[name=csrf-token]").attr("content"),S=e("meta[name=csrf-param]").attr("content");function T(){var t=l.attr2("target"),n=l.attr2("action");b.setAttribute("target",d),r&&!/post/i.test(r)||b.setAttribute("method","POST"),n!=c.url&&b.setAttribute("action",c.url),c.skipEncodingOverride||r&&!/post/i.test(r)||l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),c.timeout&&(y=setTimeout(function(){v=!0,A(k)},c.timeout));var i=[];try{if(c.extraData)for(var a in c.extraData)c.extraData.hasOwnProperty(a)&&(e.isPlainObject(c.extraData[a])&&c.extraData[a].hasOwnProperty("name")&&c.extraData[a].hasOwnProperty("value")?i.push(e('<input type="hidden" name="'+c.extraData[a].name+'">').val(c.extraData[a].value).appendTo(b)[0]):i.push(e('<input type="hidden" name="'+a+'">').val(c.extraData[a]).appendTo(b)[0]));c.iframeTarget||f.appendTo("body"),p.attachEvent?p.attachEvent("onload",A):p.addEventListener("load",A,!1),setTimeout(function e(){try{var t=x(p).readyState;o("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(e){o("Server abort: ",e," (",e.name,")"),A(M),y&&clearTimeout(y),y=void 0}},15);try{b.submit()}catch(e){document.createElement("form").submit.apply(b)}}finally{b.setAttribute("action",n),t?b.setAttribute("target",t):l.removeAttr("target"),e(i).remove()}}S&&C&&(c.extraData=c.extraData||{},c.extraData[S]=C),c.forceSync?T():setTimeout(T,10);var L,E,D,O=50;function A(t){if(!m.aborted&&!D){if((E=x(p))||(o("cannot access response document"),t=M),t===k&&m)return m.abort("timeout"),void w.reject(m,"timeout");if(t==M&&m)return m.abort("server abort"),void w.reject(m,"error","server abort");if(E&&E.location.href!=c.iframeSrc||v){p.detachEvent?p.detachEvent("onload",A):p.removeEventListener("load",A,!1);var n,i="success";try{if(v)throw"timeout";var r="xml"==c.dataType||E.XMLDocument||e.isXMLDoc(E);if(o("isXml="+r),!r&&window.opera&&(null===E.body||!E.body.innerHTML)&&--O)return o("requeing onLoad callback, DOM not available"),void setTimeout(A,250);var a=E.body?E.body:E.documentElement;m.responseText=a?a.innerHTML:null,m.responseXML=E.XMLDocument?E.XMLDocument:E,r&&(c.dataType="xml"),m.getResponseHeader=function(e){return{"content-type":c.dataType}[e.toLowerCase()]},a&&(m.status=Number(a.getAttribute("status"))||m.status,m.statusText=a.getAttribute("statusText")||m.statusText);var s=(c.dataType||"").toLowerCase(),l=/(json|script|text)/.test(s);if(l||c.textarea){var d=E.getElementsByTagName("textarea")[0];if(d)m.responseText=d.value,m.status=Number(d.getAttribute("status"))||m.status,m.statusText=d.getAttribute("statusText")||m.statusText;else if(l){var h=E.getElementsByTagName("pre")[0],g=E.getElementsByTagName("body")[0];h?m.responseText=h.textContent?h.textContent:h.innerText:g&&(m.responseText=g.textContent?g.textContent:g.innerText)}}else"xml"==s&&!m.responseXML&&m.responseText&&(m.responseXML=Y(m.responseText));try{L=j(m,s,c)}catch(e){i="parsererror",m.error=n=e||i}}catch(e){o("error caught: ",e),i="error",m.error=n=e||i}m.aborted&&(o("upload aborted"),i=null),m.status&&(i=m.status>=200&&m.status<300||304===m.status?"success":"error"),"success"===i?(c.success&&c.success.call(c.context,L,"success",m),w.resolve(m.responseText,"success",m),u&&e.event.trigger("ajaxSuccess",[m,c])):i&&(void 0===n&&(n=m.statusText),c.error&&c.error.call(c.context,m,i,n),w.reject(m,"error",n),u&&e.event.trigger("ajaxError",[m,c,n])),u&&e.event.trigger("ajaxComplete",[m,c]),u&&!--e.active&&e.event.trigger("ajaxStop"),c.complete&&c.complete.call(c.context,m,i),D=!0,c.timeout&&clearTimeout(y),setTimeout(function(){c.iframeTarget?f.attr("src",c.iframeSrc):f.remove(),m.responseXML=null},100)}}}var Y=e.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},R=e.parseJSON||function(e){return window.eval("("+e+")")},j=function(t,n,i){var r=t.getResponseHeader("content-type")||"",o="xml"===n||!n&&r.indexOf("xml")>=0,a=o?t.responseXML:t.responseText;return o&&"parsererror"===a.documentElement.nodeName&&e.error&&e.error("parsererror"),i&&i.dataFilter&&(a=i.dataFilter(a,n)),"string"==typeof a&&("json"===n||!n&&r.indexOf("json")>=0?a=R(a):("script"===n||!n&&r.indexOf("javascript")>=0)&&e.globalEval(a)),a};return w}},e.fn.ajaxForm=function(t){if((t=t||{}).delegation=t.delegation&&e.isFunction(e.fn.on),!t.delegation&&0===this.length){var n={s:this.selector,c:this.context};return!e.isReady&&n.s?(o("DOM not ready, queuing ajaxForm"),e(function(){e(n.s,n.c).ajaxForm(t)}),this):(o("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return t.delegation?(e(document).off("submit.form-plugin",this.selector,i).off("click.form-plugin",this.selector,r).on("submit.form-plugin",this.selector,t,i).on("click.form-plugin",this.selector,t,r),this):this.ajaxFormUnbind().bind("submit.form-plugin",t,i).bind("click.form-plugin",t,r)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(n,i){var r=[];if(0===this.length)return r;var o,a,s,l,c,u,d,h=this[0],f=n?h.getElementsByTagName("*"):h.elements;if(!f)return r;for(o=0,u=f.length;o<u;o++)if((s=(c=f[o]).name)&&!c.disabled)if(n&&h.clk&&"image"==c.type)h.clk==c&&(r.push({name:s,value:e(c).val(),type:c.type}),r.push({name:s+".x",value:h.clk_x},{name:s+".y",value:h.clk_y}));else if((l=e.fieldValue(c,!0))&&l.constructor==Array)for(i&&i.push(c),a=0,d=l.length;a<d;a++)r.push({name:s,value:l[a]});else if(t.fileapi&&"file"==c.type){i&&i.push(c);var p=c.files;if(p.length)for(a=0;a<p.length;a++)r.push({name:s,value:p[a],type:c.type});else r.push({name:s,value:"",type:c.type})}else null!==l&&void 0!==l&&(i&&i.push(c),r.push({name:s,value:l,type:c.type,required:c.required}));if(!n&&h.clk){var m=e(h.clk),g=m[0];(s=g.name)&&!g.disabled&&"image"==g.type&&(r.push({name:s,value:m.val()}),r.push({name:s+".x",value:h.clk_x},{name:s+".y",value:h.clk_y}))}return r},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var n=[];return this.each(function(){var i=this.name;if(i){var r=e.fieldValue(this,t);if(r&&r.constructor==Array)for(var o=0,a=r.length;o<a;o++)n.push({name:i,value:r[o]});else null!==r&&void 0!==r&&n.push({name:this.name,value:r})}}),e.param(n)},e.fn.fieldValue=function(t){for(var n=[],i=0,r=this.length;i<r;i++){var o=this[i],a=e.fieldValue(o,t);null===a||void 0===a||a.constructor==Array&&!a.length||(a.constructor==Array?e.merge(n,a):n.push(a))}return n},e.fieldValue=function(t,n){var i=t.name,r=t.type,o=t.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!i||t.disabled||"reset"==r||"button"==r||("checkbox"==r||"radio"==r)&&!t.checked||("submit"==r||"image"==r)&&t.form&&t.form.clk!=t||"select"==o&&-1==t.selectedIndex))return null;if("select"==o){var a=t.selectedIndex;if(a<0)return null;for(var s=[],l=t.options,c="select-one"==r,u=c?a+1:l.length,d=c?a:0;d<u;d++){var h=l[d];if(h.selected){var f=h.value;if(f||(f=h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value),c)return f;s.push(f)}}return s}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,r=this.tagName.toLowerCase();n.test(i)||"textarea"==r?this.value="":"checkbox"==i||"radio"==i?this.checked=!1:"select"==r?this.selectedIndex=-1:"file"==i?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(!0===t&&/hidden/.test(i)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=t;else if("option"==this.tagName.toLowerCase()){var i=e(this).parent("select");t&&i[0]&&"select-one"==i[0].type&&i.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1}(void 0!==i?i:window.Zepto)},function(e,t,n){var i=n(46);window.jQuery&&function(e){if(!e.support.opacity&&!e.support.style)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}e.fn.rating=function(t){if(0==this.length)return this;if("string"==typeof arguments[0]){if(this.length>1){var n=arguments;return this.each(function(){e.fn.rating.apply(e(this),n)})}return e.fn.rating[arguments[0]].apply(this,e.makeArray(arguments).slice(1)||[]),this}t=e.extend({},e.fn.rating.options,t||{});return e.fn.rating.calls++,this.not(".star-rating-applied").addClass("star-rating-applied").each(function(){var n,i=e(this),r=(this.name||"unnamed-rating").replace(/\[|\]/g,"_").replace(/^\_+|\_+$/g,""),o=e(this.form||document.body),a=o.data("rating");a&&a.call==e.fn.rating.calls||(a={count:0,call:e.fn.rating.calls});var s=a[r]||o.data("rating"+r);s&&(n=s.data("rating")),s&&n?n.count++:((n=e.extend({},t||{},(e.metadata?i.metadata():e.meta?i.data():null)||{},{count:0,stars:[],inputs:[]})).serial=a.count++,s=e('<span class="star-rating-control"/>'),i.before(s),s.addClass("rating-to-be-drawn"),(i.attr("disabled")||i.hasClass("disabled"))&&(n.readOnly=!0),i.hasClass("required")&&(n.required=!0),s.append(n.cancel=e('<div class="rating-cancel"><a title="'+n.cancel+'">'+n.cancelValue+"</a></div>").on("mouseover",function(){e(this).rating("drain"),e(this).addClass("star-rating-hover")}).on("mouseout",function(){e(this).rating("draw"),e(this).removeClass("star-rating-hover")}).on("click",function(){e(this).rating("select")}).data("rating",n)));var l=e('<div role="text" aria-label="'+this.title+'" class="star-rating rater-'+n.serial+'"><a title="'+(this.title||this.value)+'">'+this.value+"</a></div>");if(s.append(l),this.id&&l.attr("id",this.id),this.className&&l.addClass(this.className),n.half&&(n.split=2),"number"==typeof n.split&&n.split>0){var c=(e.fn.width?l.width():0)||n.starWidth,u=n.count%n.split,d=Math.floor(c/n.split);l.width(d).find("a").css({"margin-left":"-"+u*d+"px"})}n.readOnly?l.addClass("star-rating-readonly"):l.addClass("star-rating-live").on("mouseover",function(){e(this).rating("fill"),e(this).rating("focus")}).on("mouseout",function(){e(this).rating("draw"),e(this).rating("blur")}).on("click",function(){e(this).rating("select")}),this.checked&&(n.current=l),"A"==this.nodeName&&e(this).hasClass("selected")&&(n.current=l),i.hide(),i.on("change.rating",function(t){if(t.selfTriggered)return!1;e(this).rating("select")}),l.data("rating.input",i.data("rating.star",l)),n.stars[n.stars.length]=l[0],n.inputs[n.inputs.length]=i[0],n.rater=a[r]=s,n.context=o,i.data("rating",n),s.data("rating",n),l.data("rating",n),o.data("rating",a),o.data("rating"+r,s)}),e(".rating-to-be-drawn").rating("draw").removeClass("rating-to-be-drawn"),this},e.extend(e.fn.rating,{calls:0,focus:function(){var t=this.data("rating");if(!t)return this;if(!t.focus)return this;var n=e(this).data("rating.input")||e("INPUT"==this.tagName?this:null);t.focus&&t.focus.apply(n[0],[n.val(),e("a",n.data("rating.star"))[0]])},blur:function(){var t=this.data("rating");if(!t)return this;if(!t.blur)return this;var n=e(this).data("rating.input")||e("INPUT"==this.tagName?this:null);t.blur&&t.blur.apply(n[0],[n.val(),e("a",n.data("rating.star"))[0]])},fill:function(){var e=this.data("rating");if(!e)return this;e.readOnly||(this.rating("drain"),this.prevAll().addBack().filter(".rater-"+e.serial).addClass("star-rating-hover"))},drain:function(){var e=this.data("rating");if(!e)return this;e.readOnly||e.rater.children().filter(".rater-"+e.serial).removeClass("star-rating-on").removeClass("star-rating-hover")},draw:function(){var t=this.data("rating");if(!t)return this;this.rating("drain");var n=e(t.current),i=n.length?n.prevAll().addBack().filter(".rater-"+t.serial):null;i&&i.addClass("star-rating-on"),t.cancel[t.readOnly||t.required?"hide":"show"](),this.siblings()[t.readOnly?"addClass":"removeClass"]("star-rating-readonly")},select:function(t,n){var i=this.data("rating");if(!i)return this;if(!i.readOnly){if(i.current=null,void 0!==t||this.length>1){if("number"==typeof t)return e(i.stars[t]).rating("select",void 0,n);if("string"==typeof t)return e.each(i.stars,function(){e(this).data("rating.input").val()==t&&e(this).rating("select",void 0,n)}),this}else i.current="INPUT"==this[0].tagName?this.data("rating.star"):this.is(".rater-"+i.serial)?this:null;this.data("rating",i),this.rating("draw");var r=e(i.current?i.current.data("rating.input"):null),o=e(i.inputs).filter(":checked");return e(i.inputs).not(r).prop("checked",!1),r.prop("checked",!0),e(r.length?r:o).trigger({type:"change",selfTriggered:!0}),(n||void 0==n)&&i.callback&&i.callback.apply(r[0],[r.val(),e("a",i.current)[0]]),this}},readOnly:function(t,n){var i=this.data("rating");if(!i)return this;i.readOnly=!(!t&&void 0!=t),n?e(i.inputs).attr("disabled","disabled"):e(i.inputs).removeAttr("disabled"),this.data("rating",i),this.rating("draw")},disable:function(){this.rating("readOnly",!0,!0)},enable:function(){this.rating("readOnly",!1,!1)}}),e.fn.rating.options={cancel:"Cancel Rating",cancelValue:"",split:0,starWidth:16},e(function(){e("input[type=radio].star").rating()})}(i)},function(e,t,n){var i=n(46);!function(e){void 0===e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var n=e([0]),i=-1,r=this.length;++i<r&&(n.context=n[0]=this[i])&&!1!==t.call(n[0],i,n););return this}})}(i),function(e,t){"use strict";if(window.Select2===t){var n,i,r,o,a,s,l,c={x:0,y:0},u={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case u.LEFT:case u.RIGHT:case u.UP:case u.DOWN:return!0}return!1},isControl:function(e){switch(e.which){case u.SHIFT:case u.CTRL:case u.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return(e=e.which?e.which:e)>=112&&e<=123}},d="<div class='select2-measure-scrollbar'></div>",h={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};s=e(document),o=function(){var e=1;return function(){return e++}}(),i=O(n=O(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var i,r;this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+o()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",n.element.attr("title")),this.body=e("body"),k(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(E(n.containerCss,this.opts.element)),this.container.addClass(E(n.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",w),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),k(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(E(n.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",w),this.results=i=this.container.find(".select2-results"),this.search=r=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",w),function(n){n.on("mousemove",function(n){var i=c;i!==t&&i.x===n.pageX&&i.y===n.pageY||e(n.target).trigger("mousemove-filtered",n)})}(this.results),this.dropdown.on("mousemove-filtered",".select2-results",this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",".select2-results",this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",".select2-results",this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",".select2-results",this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(e){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),function(e,t){var n=b(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){m(e.target,t.get())>=0&&n(e)})}(80,this.results),this.dropdown.on("scroll-debounced",".select2-results",this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&i.mousewheel(function(e,t,n,r){var o=i.scrollTop();r>0&&o-r<=0?(i.scrollTop(0),w(e)):r<0&&i.get(0).scrollHeight-i.scrollTop()+r<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),w(e))}),y(r),r.on("keyup-change input paste",this.bind(this.updateResults)),r.on("focus",function(){r.addClass("select2-focused")}),r.on("blur",function(){r.removeClass("select2-focused")}),this.dropdown.on("mouseup",".select2-results",this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.nextSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var a=n.element.prop("disabled");a===t&&(a=!1),this.enable(!a);var s=n.element.prop("readonly");s===t&&(s=!1),this.readonly(s),l=l||function(){var t=e(d);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",n.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,n=e.data("select2"),i=this;this.close(),e.length&&e[0].detachEvent&&e.each(function(){this.detachEvent("onpropertychange",i._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,n!==t&&(n.container.remove(),n.liveRegion.remove(),n.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show()),D.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:g(e.attr("locked"),"locked")||g(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(n){var i,r,a,s,l=this;if("select"===(i=n.element).get(0).tagName.toLowerCase()&&(this.select=r=n.element),r&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),"function"!=typeof(n=e.extend({},{populateResults:function(i,r,a){var s,c=this.opts.id,u=this.liveRegion;(s=function(i,r,d){var h,f,p,m,g,_,v,y,b,w,k=[];for(h=0,f=(i=n.sortResults(i,r,a)).length;h<f;h+=1)m=!(g=!0===(p=i[h]).disabled)&&c(p)!==t,_=p.children&&p.children.length>0,(v=e("<li></li>")).addClass("select2-results-dept-"+d),v.addClass("select2-result"),v.addClass(m?"select2-result-selectable":"select2-result-unselectable"),g&&v.addClass("select2-disabled"),_&&v.addClass("select2-result-with-children"),v.addClass(l.opts.formatResultCssClass(p)),v.attr("role","presentation"),(y=e(document.createElement("div"))).addClass("select2-result-label"),y.attr("id","select2-result-label-"+o()),y.attr("role","option"),(w=n.formatResult(p,y,a,l.opts.escapeMarkup))!==t&&(y.html(w),v.append(y)),_&&((b=e("<ul></ul>")).addClass("select2-result-sub"),s(p.children,b,d+1),v.append(b)),v.data("select2-data",p),k.push(v[0]);r.append(k),u.text(n.formatMatches(i.length))})(r,i,0)}},e.fn.select2.defaults,n)).id&&(a=n.id,n.id=function(e){return e[a]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(r?(n.query=this.bind(function(e){var n,r,o,a={results:[],more:!1},s=e.term;o=function(t,n){var i;t.is("option")?e.matcher(s,t.text(),t)&&n.push(l.optionToData(t)):t.is("optgroup")&&(i=l.optionToData(t),t.children().each2(function(e,t){o(t,i.children)}),i.children.length>0&&n.push(i))},n=i.children(),this.getPlaceholder()!==t&&n.length>0&&(r=this.getPlaceholderOption())&&(n=n.not(r)),n.each2(function(e,t){o(t,a.results)}),e.callback(a)}),n.id=function(e){return e.id}):"query"in n||("ajax"in n?((s=n.element.data("ajax-url"))&&s.length>0&&(n.ajax.url=s),n.query=C.call(n.element,n.ajax)):"data"in n?n.query=S(n.data):"tags"in n&&(n.query=T(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(t,i){var r=[];e(_(t.val(),n.separator)).each(function(){var t={id:this,text:this},i=n.tags;e.isFunction(i)&&(i=i()),e(i).each(function(){if(g(this.id,t.id))return t=this,!1}),r.push(t)}),i(r)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");if("top"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof n.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return n},monitorSource:function(){var n,i=this.opts.element,r=this;i.on("change.select2",this.bind(function(e){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()})),this._sync=this.bind(function(){var e=i.prop("disabled");e===t&&(e=!1),this.enable(!e);var n=i.prop("readonly");n===t&&(n=!1),this.readonly(n),k(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(E(this.opts.containerCssClass,this.opts.element)),k(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(E(this.opts.dropdownCssClass,this.opts.element))}),i.length&&i[0].attachEvent&&i.each(function(){this.attachEvent("onpropertychange",r._sync)}),(n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(function(t){e.each(t,r._sync)}),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,i,r,o,a=this.dropdown,s=this.container.offset(),c=this.container.outerHeight(!1),u=this.container.outerWidth(!1),d=a.outerHeight(!1),h=e(window),f=h.width(),p=h.height(),m=h.scrollLeft()+f,g=h.scrollTop()+p,_=s.top+c,v=s.left,y=_+d<=g,b=s.top-d>=h.scrollTop(),w=a.outerWidth(!1),k=v+w<=m;a.hasClass("select2-drop-above")?(n=!0,!b&&y&&(i=!0,n=!1)):(n=!1,!y&&b&&(i=!0,n=!0)),i&&(a.hide(),s=this.container.offset(),c=this.container.outerHeight(!1),u=this.container.outerWidth(!1),d=a.outerHeight(!1),m=h.scrollLeft()+f,g=h.scrollTop()+p,_=s.top+c,k=(v=s.left)+(w=a.outerWidth(!1))<=m,a.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(o=e(".select2-results",a)[0],a.addClass("select2-drop-auto-width"),a.css("width",""),(w=a.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:l.width))>u?u=w:w=u,d=a.outerHeight(!1),k=v+w<=m):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(_-=(t=this.body.offset()).top,v-=t.left),k||(v=s.left+this.container.outerWidth(!1)-w),r={left:v,width:u},n?(r.top=s.top-d,r.bottom="auto",this.container.addClass("select2-drop-above"),a.addClass("select2-drop-above")):(r.top=_,r.bottom="auto",this.container.removeClass("select2-drop-above"),a.removeClass("select2-drop-above")),r=e.extend(r,E(this.opts.dropdownCss,this.opts.element)),a.css(r)},shouldOpen:function(){var t;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),s.on("mousemove.select2Event",function(e){c.x=e.pageX,c.y=e.pageY}),!0)},opening:function(){var t,n=this.containerEventName,i="scroll."+n,r="resize."+n,o="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),0==(t=e("#select2-drop-mask")).length&&((t=e(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(n){f(t);var i,r=e("#select2-drop");r.length>0&&((i=r.data("select2")).opts.selectOnBlur&&i.selectHighlighted({noFocus:!0}),i.close(),n.preventDefault(),n.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each(function(){e(this).on(r+" "+i+" "+o,function(e){a.opened()&&a.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,n="scroll."+t,i="resize."+t,r="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(i).off(r)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),s.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return E(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,n,i,r,o,a,s,l,c=this.results;(n=this.highlight())<0||(0!=n?(t=this.findHighlightableChoices().find(".select2-result-label"),r=(l=((i=e(t[n])).offset()||{}).top||0)+i.outerHeight(!0),n===t.length-1&&(s=c.find("li.select2-more-results")).length>0&&(r=s.offset().top+s.outerHeight(!0)),r>(o=c.offset().top+c.outerHeight(!0))&&c.scrollTop(c.scrollTop()+(r-o)),(a=l-c.offset().top)<0&&"none"!=i.css("display")&&c.scrollTop(c.scrollTop()+a)):c.scrollTop(0))},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<n.length;){var r=e(n[i+=t]);if(r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(t){var n,i,r=this.findHighlightableChoices();if(0===arguments.length)return m(r.filter(".select2-highlighted")[0],r.get());t>=r.length&&(t=r.length-1),t<0&&(t=0),this.removeHighlight(),(n=e(r[t])).addClass("select2-highlighted"),this.search.attr("aria-activedescendant",n.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(n.text()),(i=n.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e=this.results,t=e.find("li.select2-more-results"),n=this.resultsPage+1,i=this,r=this.search.val(),o=this.context;0!==t.length&&t.offset().top-e.offset().top-e.height()<=this.opts.loadMorePadding&&(t.addClass("select2-active"),this.opts.query({element:this.opts.element,term:r,page:n,context:o,matcher:this.opts.matcher,callback:this.bind(function(a){i.opened()&&(i.opts.populateResults.call(this,e,a.results,{term:r,page:n,context:o}),i.postprocessResults(a,!1,!1),!0===a.more?(t.detach().appendTo(e).text(E(i.opts.formatLoadMore,i.opts.element,n+1)),window.setTimeout(function(){i.loadMoreIfNeeded()},10)):t.remove(),i.positionDropdown(),i.resultsPage=n,i.context=a.context,this.opts.element.trigger({type:"select2-loaded",items:a}))})}))},tokenize:function(){},updateResults:function(n){var i,r,o,a=this.search,s=this.results,l=this.opts,c=this,u=a.val(),d=e.data(this.container,"select2-last-term");if((!0===n||!d||!g(u,d))&&(e.data(this.container,"select2-last-term",u),!0===n||!1!==this.showSearchInput&&this.opened())){o=++this.queryCount;var h=this.getMaximumSelectionSize();if(!(h>=1&&(i=this.data(),e.isArray(i)&&i.length>=h&&L(l.formatSelectionTooBig,"formatSelectionTooBig"))))return a.val().length<l.minimumInputLength?(L(l.formatInputTooShort,"formatInputTooShort")?p("<li class='select2-no-results'>"+E(l.formatInputTooShort,l.element,a.val(),l.minimumInputLength)+"</li>"):p(""),void(n&&this.showSearch&&this.showSearch(!0))):void(l.maximumInputLength&&a.val().length>l.maximumInputLength?L(l.formatInputTooLong,"formatInputTooLong")?p("<li class='select2-no-results'>"+E(l.formatInputTooLong,l.element,a.val(),l.maximumInputLength)+"</li>"):p(""):(l.formatSearching&&0===this.findHighlightableChoices().length&&p("<li class='select2-searching'>"+E(l.formatSearching,l.element)+"</li>"),a.addClass("select2-active"),this.removeHighlight(),(r=this.tokenize())!=t&&null!=r&&a.val(r),this.resultsPage=1,l.query({element:l.element,term:a.val(),page:this.resultsPage,context:null,matcher:l.matcher,callback:this.bind(function(i){var r;o==this.queryCount&&(this.opened()?i.hasError!==t&&L(l.formatAjaxError,"formatAjaxError")?p("<li class='select2-ajax-error'>"+E(l.formatAjaxError,l.element,i.jqXHR,i.textStatus,i.errorThrown)+"</li>"):(this.context=i.context===t?null:i.context,this.opts.createSearchChoice&&""!==a.val()&&(r=this.opts.createSearchChoice.call(c,a.val(),i.results))!==t&&null!==r&&c.id(r)!==t&&null!==c.id(r)&&0===e(i.results).filter(function(){return g(c.id(this),c.id(r))}).length&&this.opts.createSearchChoicePosition(i.results,r),0===i.results.length&&L(l.formatNoMatches,"formatNoMatches")?p("<li class='select2-no-results'>"+E(l.formatNoMatches,l.element,a.val())+"</li>"):(s.empty(),c.opts.populateResults.call(this,s,i.results,{term:a.val(),page:this.resultsPage,context:null}),!0===i.more&&L(l.formatLoadMore,"formatLoadMore")&&(s.append("<li class='select2-more-results'>"+l.escapeMarkup(E(l.formatLoadMore,l.element,this.resultsPage))+"</li>"),window.setTimeout(function(){c.loadMoreIfNeeded()},10)),this.postprocessResults(i,n),f(),this.opts.element.trigger({type:"select2-loaded",items:i}))):this.search.removeClass("select2-active"))})})));p("<li class='select2-selection-limit'>"+E(l.formatSelectionTooBig,l.element,h)+"</li>")}function f(){a.removeClass("select2-active"),c.positionDropdown(),s.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?c.liveRegion.text(s.text()):c.liveRegion.text(c.opts.formatMatches(s.find(".select2-result-selectable").length))}function p(e){s.html(e),f()}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){!function(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],i=e.val().length;e.focus(),(n.offsetWidth>0||n.offsetHeight>0)&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&((t=n.createTextRange()).collapse(!1),t.select()))},0)}(this.search)},selectHighlighted:function(e){if(this._touchMoved)this.clearTouchMoved();else{var t=this.highlight(),n=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");n?(this.highlight(t),this.onSelect(n,e)):e&&e.noFocus&&this.close()}},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var n=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&n||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(n.text())&&""===n.val())return n}},initContainerWidth:function(){var n=function(){var n,i,r,o,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if((n=this.opts.element.attr("style"))!==t)for(o=0,a=(i=n.split(";")).length;o<a;o+=1)if(null!==(r=i[o].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&r.length>=1)return r[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width")).indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==n&&this.container.css("width",n)}}),{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,i,r;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),(n=this.search.get(0)).createTextRange?((i=n.createTextRange()).collapse(!1),i.select()):n.setSelectionRange&&(r=this.search.val().length,n.setSelectionRange(r,r))),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),D.call(this,"selection","focusser")},initContainer:function(){var t,n,i=this.container,r=this.dropdown,a=o();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+a),this.focusser.attr("aria-labelledby","select2-chosen-"+a),this.results.attr("id","select2-results-"+a),this.search.attr("aria-owns","select2-results-"+a),this.focusser.attr("id","s2id_autogen"+a),n=e("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(n.text()).attr("for",this.focusser.attr("id"));var s=this.opts.element.attr("title");this.opts.element.attr("title",s||n.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&229!=e.keyCode)if(e.which!==u.PAGE_UP&&e.which!==u.PAGE_DOWN)switch(e.which){case u.UP:case u.DOWN:return this.moveHighlight(e.which===u.UP?-1:1),void w(e);case u.ENTER:return this.selectHighlighted(),void w(e);case u.TAB:return void this.selectHighlighted({noFocus:!0});case u.ESC:return this.cancel(e),void w(e)}else w(e)})),this.search.on("blur",this.bind(function(e){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==u.TAB&&!u.isControl(e)&&!u.isFunctionKey(e)&&e.which!==u.ESC){if(!1!==this.opts.openOnEnter||e.which!==u.ENTER){if(e.which==u.DOWN||e.which==u.UP||e.which==u.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void w(e)}return e.which==u.DELETE||e.which==u.BACKSPACE?(this.opts.allowClear&&this.clear(),void w(e)):void 0}w(e)}})),y(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),function(e){e.preventDefault(),e.stopImmediatePropagation()}(e),this.close(),this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(n){f(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),w(n)})),r.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(e){w(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var i=e.Event("select2-clearing");if(this.opts.element.trigger(i),i.isDefaultPrevented())return;var r=this.getPlaceholderOption();this.opts.element.val(r?r.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==t&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder(),e.nextSearchTerm=e.opts.nextSearchTerm(n,e.search.val()))})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()!==t&&((e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val())},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=e.find("option").filter(function(){return this.selected&&!this.disabled});t(n.optionToData(i))}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var r=n.val(),o=null;t.query({matcher:function(e,n,i){var a=g(r,t.id(i));return a&&(o=i),a},callback:e.isFunction(i)?function(){i(o)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,n,i){var r=0,o=this;if(this.findHighlightableChoices().each2(function(e,t){if(g(o.id(t.data("select2-data")),o.opts.element.val()))return r=e,!1}),!1!==i&&(!0===n&&r>=0?this.highlight(r):this.highlight(0)),!0===n){var a=this.opts.minimumResultsForSearch;a>=0&&this.showSearch(function t(n){var i=0;return e.each(n,function(e,n){n.children?i+=t(n.children):i++}),i}(t.results)>=a)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),g(n,this.id(e))||this.triggerChange({added:e,removed:i})}},updateSelection:function(e){var n,i,r=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),r.empty(),null!==e&&(n=this.opts.formatSelection(e,r,this.opts.escapeMarkup)),n!==t&&r.append(n),(i=this.opts.formatSelectionCssClass(e,r))!==t&&r.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,i=null,r=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return i=r.optionToData(t),!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange({added:i,removed:o});else{if(!e&&0!==e)return void this.clear(n);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){r.opts.element.val(e?r.id(e):""),r.updateSelection(e),r.setPlaceholder(),n&&r.triggerChange({added:e,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n,i=!1;if(0===arguments.length)return(n=this.selection.data("select2-data"))==t&&(n=null),n;arguments.length>1&&(i=arguments[1]),e?(n=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),i&&this.triggerChange({added:e,removed:n})):this.clear(i)}}),r=O(n,{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){i.push(n.optionToData(t))}),t(i)}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var r=_(n.val(),t.separator),o=[];t.query({matcher:function(n,i,a){var s=e.grep(r,function(e){return g(e,t.id(a))}).length;return s&&o.push(a),s},callback:e.isFunction(i)?function(){for(var e=[],n=0;n<r.length;n++)for(var a=r[n],s=0;s<o.length;s++){var l=o[s];if(g(a,t.id(l))){e.push(l),o.splice(s,1);break}}i(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),D.call(this,"searchContainer","selection")},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n);var i=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(t){i.search[0].focus(),i.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+o()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(n){if(this.isInterfaceEnabled()){++this.keydowns;var i=t.find(".select2-search-choice-focus"),r=i.prev(".select2-search-choice:not(.select2-locked)"),o=i.next(".select2-search-choice:not(.select2-locked)"),a=function(t){var n=0,i=0;if("selectionStart"in(t=e(t)[0]))n=t.selectionStart,i=t.selectionEnd-n;else if("selection"in document){t.focus();var r=document.selection.createRange();i=document.selection.createRange().text.length,r.moveStart("character",-t.value.length),n=r.text.length-i}return{offset:n,length:i}}(this.search);if(i.length&&(n.which==u.LEFT||n.which==u.RIGHT||n.which==u.BACKSPACE||n.which==u.DELETE||n.which==u.ENTER)){var s=i;return n.which==u.LEFT&&r.length?s=r:n.which==u.RIGHT?s=o.length?o:null:n.which===u.BACKSPACE?this.unselect(i.first())&&(this.search.width(10),s=r.length?r:o):n.which==u.DELETE?this.unselect(i.first())&&(this.search.width(10),s=o.length?o:null):n.which==u.ENTER&&(s=null),this.selectChoice(s),w(n),void(s&&s.length||this.open())}if((n.which===u.BACKSPACE&&1==this.keydowns||n.which==u.LEFT)&&0==a.offset&&!a.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void w(n);if(this.selectChoice(null),this.opened())switch(n.which){case u.UP:case u.DOWN:return this.moveHighlight(n.which===u.UP?-1:1),void w(n);case u.ENTER:return this.selectHighlighted(),void w(n);case u.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case u.ESC:return this.cancel(n),void w(n)}if(n.which!==u.TAB&&!u.isControl(n)&&!u.isFunctionKey(n)&&n.which!==u.BACKSPACE&&n.which!==u.ESC){if(n.which===u.ENTER){if(!1===this.opts.openOnEnter)return;if(n.altKey||n.ctrlKey||n.shiftKey||n.metaKey)return}this.open(),n.which!==u.PAGE_UP&&n.which!==u.PAGE_DOWN||w(n),n.which===u.ENTER&&w(n)}}})),this.search.on("keyup",this.bind(function(e){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],i=[],r=this;e(t).each(function(){m(r.id(this),n)<0&&(n.push(r.id(this)),i.push(this))}),t=i,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){r.addSelectedChoice(this)}),r.postprocessResults()},tokenize:function(){var e=this.search.val();null!=(e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts))&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,n){this.triggerSelect(e)&&""!==e.text&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.moveHighlight(1),!this.select&&this.opts.closeOnSelect||this.postprocessResults(e,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.clearSearch(),this.updateResults(),this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),n&&n.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,r,o=!n.locked,a=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=o?a:s,c=this.id(n),u=this.getVal();(i=this.opts.formatSelection(n,l.find("div"),this.opts.escapeMarkup))!=t&&l.find("div").replaceWith("<div>"+i+"</div>"),(r=this.opts.formatSelectionCssClass(n,l.find("div")))!=t&&l.addClass(r),o&&l.find(".select2-search-choice-close").on("mousedown",w).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),w(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",n),l.insertBefore(this.searchContainer),u.push(c),this.setVal(u)},unselect:function(t){var n,i,r=this.getVal();if(0===(t=t.closest(".select2-search-choice")).length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(n=t.data("select2-data")){var o=e.Event("select2-removing");if(o.val=this.id(n),o.choice=n,this.opts.element.trigger(o),o.isDefaultPrevented())return!1;for(;(i=m(this.id(n),r))>=0;)r.splice(i,1),this.setVal(r),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}),!0}},postprocessResults:function(e,t,n){var i=this.getVal(),r=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),a=this;r.each2(function(e,t){m(a.id(t.data("select2-data")),i)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),o.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&!1!==n&&a.highlight(0),!this.opts.createSearchChoice&&!r.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&L(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+E(a.opts.formatNoMatches,a.opts.element,a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-v(this.search)},resizeSearch:function(){var t,n,i,r,o=v(this.search);t=function(t){if(!a){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);(a=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),e("body").append(a)}return a.text(t.val()),a.width()}(this.search)+10,n=this.search.offset().left,(r=(i=this.selection.width())-(n-this.selection.offset().left)-o)<t&&(r=i-o),r<40&&(r=i-o),r<=0&&(r=t),this.search.width(Math.floor(r))},getVal:function(){var e;return this.select?null===(e=this.select.val())?[]:e:_(e=this.opts.element.val(),this.opts.separator)},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){m(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(e,t){t=t.slice(0),e=e.slice(0);for(var n=0;n<t.length;n++)for(var i=0;i<e.length;i++)g(this.opts.id(t[n]),this.opts.id(e[i]))&&(t.splice(n,1),n>0&&n--,e.splice(i,1),i--);return{added:t,removed:e}},val:function(n,i){var r,o=this;if(0===arguments.length)return this.getVal();if((r=this.data()).length||(r=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:r}));if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(r,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,o.id);o.setVal(n),o.updateSelection(t),o.clearSearch(),i&&o.triggerChange(o.buildChangeDetails(r,o.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var i,r,o=this;if(0===arguments.length)return this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get();r=this.data(),t||(t=[]),i=e.map(t,function(e){return o.opts.id(e)}),this.setVal(i),this.updateSelection(t),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(r,this.data()))}}),e.fn.select2=function(){var n,i,r,o,a,s=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],c=["opened","isFocused","container","dropdown"],u=["val","data"],d={search:"externalSearch"};return this.each(function(){if(0===s.length||"object"==typeof s[0])(n=0===s.length?{}:e.extend({},s[0])).element=e(this),"select"===n.element.get(0).tagName.toLowerCase()?a=n.element.prop("multiple"):(a=n.multiple||!1,"tags"in n&&(n.multiple=a=!0)),(i=a?new window.Select2.class.multi:new window.Select2.class.single).init(n);else{if("string"!=typeof s[0])throw"Invalid arguments to select2 plugin: "+s;if(m(s[0],l)<0)throw"Unknown method: "+s[0];if(o=t,(i=e(this).data("select2"))===t)return;if("container"===(r=s[0])?o=i.container:"dropdown"===r?o=i.dropdown:(d[r]&&(r=d[r]),o=i[r].apply(i,s.slice(1))),m(s[0],c)>=0||m(s[0],u)>=0&&1==s.length)return!1}}),o===t?this:o},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,i){var r=[];return M(e.text,n.term,r,i),r.join("")},formatSelection:function(e,n,i){return e?i(e.text):t},sortResults:function(e,t,n){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(e,n){return t},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},matcher:function(e,t){return p(""+t).toUpperCase().indexOf(p(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:function(e,n,i,r){var o,a,s,l,c,u=e,d=!1;if(!r.createSearchChoice||!r.tokenSeparators||r.tokenSeparators.length<1)return t;for(;;){for(a=-1,s=0,l=r.tokenSeparators.length;s<l&&(c=r.tokenSeparators[s],!((a=e.indexOf(c))>=0));s++);if(a<0)break;if(o=e.substring(0,a),e=e.substring(a+c.length),o.length>0&&(o=r.createSearchChoice.call(this,o,n))!==t&&null!==o&&r.id(o)!==t&&null!==r.id(o)){for(d=!1,s=0,l=n.length;s<l;s++)if(g(r.id(o),r.id(n[s]))){d=!0;break}d||i(o)}}return u!==e?e:void 0},escapeMarkup:x,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null},nextSearchTerm:function(e,n){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){return!("ontouchstart"in window||navigator.msMaxTouchPoints>0)||!(e.opts.minimumResultsForSearch<0)}},e.fn.select2.locales=[],e.fn.select2.locales.en={formatMatches:function(e){return 1===e?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(e,t,n){return"Loading failed"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" or more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(e){return"Loading more results…"},formatSearching:function(){return"Searching…"}},e.extend(e.fn.select2.defaults,e.fn.select2.locales.en),e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:C,local:S,tags:T},util:{debounce:b,markMatch:M,escapeMarkup:x,stripDiacritics:p},class:{abstract:n,single:i,multi:r}}}function f(t){var n=e(document.createTextNode(""));t.before(n),n.before(t),n.remove()}function p(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return h[e]||e})}function m(e,t){for(var n=0,i=t.length;n<i;n+=1)if(g(e,t[n]))return n;return-1}function g(e,n){return e===n||e!==t&&n!==t&&(null!==e&&null!==n&&(e.constructor===String?e+""==n+"":n.constructor===String&&n+""==e+""))}function _(t,n){var i,r,o;if(null===t||t.length<1)return[];for(r=0,o=(i=t.split(n)).length;r<o;r+=1)i[r]=e.trim(i[r]);return i}function v(e){return e.outerWidth(!1)-e.width()}function y(n){var i="keyup-change-value";n.on("keydown",function(){e.data(n,i)===t&&e.data(n,i,n.val())}),n.on("keyup",function(){var r=e.data(n,i);r!==t&&n.val()!==r&&(e.removeData(n,i),n.trigger("keyup-change"))})}function b(e,n,i){var r;return i=i||t,function(){var t=arguments;window.clearTimeout(r),r=window.setTimeout(function(){n.apply(i,t)},e)}}function w(e){e.preventDefault(),e.stopPropagation()}function k(t,n,i){var r,o,a=[];(r=e.trim(t.attr("class")))&&e((r=""+r).split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&a.push(this)}),(r=e.trim(n.attr("class")))&&e((r=""+r).split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(o=i(this))&&a.push(o)}),t.attr("class",a.join(" "))}function M(e,t,n,i){var r=p(e.toUpperCase()).indexOf(p(t.toUpperCase())),o=t.length;r<0?n.push(i(e)):(n.push(i(e.substring(0,r))),n.push("<span class='select2-match'>"),n.push(i(e.substring(r,r+o))),n.push("</span>"),n.push(i(e.substring(r+o,e.length))))}function x(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function C(n){var i,r=null,o=n.quietMillis||100,a=n.url,s=this;return function(l){window.clearTimeout(i),i=window.setTimeout(function(){var i=n.data,o=a,c=n.transport||e.fn.select2.ajaxDefaults.transport,u={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},d=e.extend({},e.fn.select2.ajaxDefaults.params,u);i=i?i.call(s,l.term,l.page,l.context):null,o="function"==typeof o?o.call(s,l.term,l.page,l.context):o,r&&"function"==typeof r.abort&&r.abort(),n.params&&(e.isFunction(n.params)?e.extend(d,n.params.call(s)):e.extend(d,n.params)),e.extend(d,{url:o,dataType:n.dataType,data:i,success:function(e){var t=n.results(e,l.page,l);l.callback(t)},error:function(e,t,n){var i={hasError:!0,jqXHR:e,textStatus:t,errorThrown:n};l.callback(i)}}),r=c.call(s,d)},o)}}function S(t){var n,i,r=t,o=function(e){return""+e.text};e.isArray(r)&&(r={results:i=r}),!1===e.isFunction(r)&&(i=r,r=function(){return i});var a=r();return a.text&&(o=a.text,e.isFunction(o)||(n=a.text,o=function(e){return e[n]})),function(t){var n,i=t.term,a={results:[]};""!==i?(n=function(r,a){var s,l;if((r=r[0]).children){for(l in s={},r)r.hasOwnProperty(l)&&(s[l]=r[l]);s.children=[],e(r.children).each2(function(e,t){n(t,s.children)}),(s.children.length||t.matcher(i,o(s),r))&&a.push(s)}else t.matcher(i,o(r),r)&&a.push(r)},e(r().results).each2(function(e,t){n(t,a.results)}),t.callback(a)):t.callback(r())}}function T(n){var i=e.isFunction(n);return function(r){var o=r.term,a={results:[]},s=i?n(r):n;e.isArray(s)&&(e(s).each(function(){var e=this.text!==t,n=e?this.text:this;(""===o||r.matcher(o,n))&&a.results.push(e?this:{id:this,text:this})}),r.callback(a))}}function L(t,n){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(n+" must be a string, function, or falsy value")}function E(t,n){if(e.isFunction(t)){var i=Array.prototype.slice.call(arguments,2);return t.apply(n,i)}return t}function D(){var t=this;e.each(arguments,function(e,n){t[n].remove(),t[n]=null})}function O(t,n){var i=function(){};return(i.prototype=new t).constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,n),i}}(i)},function(e,t,n){var i=n(46);
/*! jQuery UI - v1.9.1 - 2012-10-29
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.menu.js, jquery.ui.slider.js
* Copyright (c) 2012 jQuery Foundation and other contributors Licensed MIT */
/*! jQuery UI - v1.9.1 - 2012-10-29
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.menu.js, jquery.ui.slider.js
* Copyright (c) 2012 jQuery Foundation and other contributors Licensed MIT */
!function(e,t){function n(t,n){var r,o,a,s=t.nodeName.toLowerCase();return"area"===s?(o=(r=t.parentNode).name,!(!t.href||!o||"map"!==r.nodeName.toLowerCase())&&(!!(a=e("img[usemap=#"+o+"]")[0])&&i(a))):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s&&t.href||n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.9.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,n){return"number"==typeof t?this.each(function(){var i=this;setTimeout(function(){e(i).focus(),n&&n.call(i)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,r,o=e(this[0]);o.length&&o[0]!==document;){if(("absolute"===(i=o.css("position"))||"relative"===i||"fixed"===i)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,i){function r(t,n,i,r){return e.each(o,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?s["inner"+i].call(this):this.each(function(){e(this).css(a,r(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?s["outer"+i].call(this,t):this.each(function(){e(this).css(a,r(this,t,!0,n)+"px")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(t,!r)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===n.offsetHeight,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];e.ui.ie=!!t.length,e.ui.ie6=6===parseFloat(t[1],10)}(),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,i){var r,o=e.ui[t].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(e,t,n){var i,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},contains:e.contains,hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0||(t[i]=1,r=t[i]>0,t[i]=0,r)},isOverAxis:function(e,t,n){return e>t&&e<t+n},isOver:function(t,n,i,r,o,a){return e.ui.isOverAxis(t,i,o)&&e.ui.isOverAxis(n,r,a)}}))}(i),function(e,t){var n=0,i=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(e){}r(t)},e.widget=function(t,n,i){var r,o,a,s,l=t.split(".")[0];t=t.split(".")[1],r=l+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[l]=e[l]||{},o=e[l][t],a=e[l][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),(s=new n).options=e.widget.extend({},s.options),e.each(i,function(t,r){e.isFunction(r)&&(i[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=o,t}}())}),a.prototype=e.widget.extend(s,{widgetEventPrefix:s.widgetEventPrefix||t},i,{constructor:a,namespace:l,widgetName:t,widgetBaseClass:r,widgetFullName:r}),o?(e.each(o._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a)},e.widget.extend=function(n){for(var r,o,a=i.call(arguments,1),s=0,l=a.length;s<l;s++)for(r in a[s])o=a[s][r],a[s].hasOwnProperty(r)&&o!==t&&(e.isPlainObject(o)?n[r]=e.isPlainObject(n[r])?e.widget.extend({},n[r],o):e.widget.extend({},o):n[r]=o);return n},e.widget.bridge=function(n,r){var o=r.prototype.widgetFullName;e.fn[n]=function(a){var s="string"==typeof a,l=i.call(arguments,1),c=this;return a=!s&&l.length?e.widget.extend.apply(null,[a].concat(l)):a,s?this.each(function(){var i,r=e.data(this,o);return r?e.isFunction(r[a])&&"_"!==a.charAt(0)?(i=r[a].apply(r,l))!==r&&i!==t?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):void 0:e.error("no such method '"+a+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+a+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(a||{})._init():new r(a,this)}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetName,this),e.data(i,this.widgetFullName,this),this._on(this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var r,o,a,s=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(s={},n=(r=n.split(".")).shift(),r.length){for(o=s[n]=e.widget.extend({},this.options[n]),a=0;a<r.length-1;a++)o[r[a]]=o[r[a]]||{},o=o[r[a]];if(n=r.pop(),i===t)return o[n]===t?null:o[n];o[n]=i}else{if(i===t)return this.options[n]===t?null:this.options[n];s[n]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n){var i,r=this;n?(t=i=e(t),this.bindings=this.bindings.add(t)):(n=t,t=this.element,i=this.widget()),e.each(n,function(n,o){function a(){if(!0!==r.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof o?r[o]:o).apply(r,arguments)}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||e.guid++);var s=n.match(/^(\w+)\s*(.*)$/),l=s[1]+r.eventNamespace,c=s[2];c?i.delegate(c,l,a):t.bind(l,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,o,a=this.options[t];if(i=i||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?!0===r||"number"==typeof r?n:r.effect||n:t;"number"==typeof(r=r||{})&&(r={duration:r}),a=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&e.effects&&(e.effects.effect[s]||!1!==e.uiBackCompat&&e.effects[s])?i[t](r):s!==t&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}}),!1!==e.uiBackCompat&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}(i),function(e,t){var n=!1;e(document).mouseup(function(e){n=!1}),e.widget("ui.mouse",{version:"1.9.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!n){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,r=1===t.which,o=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,!0))}},_mouseMove:function(t){return!e.ui.ie||document.documentMode>=9||t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return!0}})}(i),function(e,t){function n(e,t,n){return[parseInt(e[0],10)*(f.test(e[0])?t/100:1),parseInt(e[1],10)*(f.test(e[1])?n/100:1)]}function r(t,n){return parseInt(e.css(t,n),10)||0}e.ui=e.ui||{};var o,a=Math.max,s=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+%?/,h=/^\w+/,f=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(o!==t)return o;var n,i,r=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=r.children()[0];return e("body").append(r),n=a.offsetWidth,r.css("overflow","scroll"),n===(i=a.offsetWidth)&&(i=r[0].clientWidth),r.remove(),o=n-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),i=t.isWindow?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,o="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:r?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]);return{element:n,isWindow:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i?n.width():n.outerWidth(),height:i?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return p.apply(this,arguments);t=e.extend({},t);var i,o,f,m,g,_=e(t.of),v=e.position.getWithinInfo(t.within),y=e.position.getScrollInfo(v),b=_[0],w=(t.collision||"flip").split(" "),k={};return 9===b.nodeType?(o=_.width(),f=_.height(),m={top:0,left:0}):e.isWindow(b)?(o=_.width(),f=_.height(),m={top:_.scrollTop(),left:_.scrollLeft()}):b.preventDefault?(t.at="left top",o=f=0,m={top:b.pageY,left:b.pageX}):(o=_.outerWidth(),f=_.outerHeight(),m=_.offset()),g=e.extend({},m),e.each(["my","at"],function(){var e,n,i=(t[this]||"").split(" ");1===i.length&&(i=c.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=d.exec(i[0]),n=d.exec(i[1]),k[this]=[e?e[0]:0,n?n[0]:0],t[this]=[h.exec(i[0])[0],h.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===t.at[0]?g.left+=o:"center"===t.at[0]&&(g.left+=o/2),"bottom"===t.at[1]?g.top+=f:"center"===t.at[1]&&(g.top+=f/2),i=n(k.at,o,f),g.left+=i[0],g.top+=i[1],this.each(function(){var c,u,d=e(this),h=d.outerWidth(),p=d.outerHeight(),b=r(this,"marginLeft"),M=r(this,"marginTop"),x=h+b+r(this,"marginRight")+y.width,C=p+M+r(this,"marginBottom")+y.height,S=e.extend({},g),T=n(k.my,d.outerWidth(),d.outerHeight());"right"===t.my[0]?S.left-=h:"center"===t.my[0]&&(S.left-=h/2),"bottom"===t.my[1]?S.top-=p:"center"===t.my[1]&&(S.top-=p/2),S.left+=T[0],S.top+=T[1],e.support.offsetFractions||(S.left=l(S.left),S.top=l(S.top)),c={marginLeft:b,marginTop:M},e.each(["left","top"],function(n,r){e.ui.position[w[n]]&&e.ui.position[w[n]][r](S,{targetWidth:o,targetHeight:f,elemWidth:h,elemHeight:p,collisionPosition:c,collisionWidth:x,collisionHeight:C,offset:[i[0]+T[0],i[1]+T[1]],my:t.my,at:t.at,within:v,elem:d})}),e.fn.bgiframe&&d.bgiframe(),t.using&&(u=function(e){var n=m.left-S.left,i=n+o-h,r=m.top-S.top,l=r+f-p,c={target:{element:_,left:m.left,top:m.top,width:o,height:f},element:{element:d,left:S.left,top:S.top,width:h,height:p},horizontal:i<0?"left":n>0?"right":"center",vertical:l<0?"top":r>0?"bottom":"middle"};o<h&&s(n+i)<o&&(c.horizontal="center"),f<p&&s(r+l)<f&&(c.vertical="middle"),a(s(n),s(i))>a(s(r),s(l))?c.important="horizontal":c.important="vertical",t.using.call(this,e,c)}),d.offset(e.extend(S,{using:u}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,s=e.left-t.collisionPosition.marginLeft,l=r-s,c=s+t.collisionWidth-o-r;t.collisionWidth>o?l>0&&c<=0?(n=e.left+l+t.collisionWidth-o-r,e.left+=l-n):e.left=c>0&&l<=0?r:l>c?r+o-t.collisionWidth:r:l>0?e.left+=l:c>0?e.left-=c:e.left=a(e.left-s,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,o=t.within.height,s=e.top-t.collisionPosition.marginTop,l=r-s,c=s+t.collisionHeight-o-r;t.collisionHeight>o?l>0&&c<=0?(n=e.top+l+t.collisionHeight-o-r,e.top+=l-n):e.top=c>0&&l<=0?r:l>c?r+o-t.collisionHeight:r:l>0?e.top+=l:c>0?e.top-=c:e.top=a(e.top-s,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,o=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-a-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,f="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];u<0?((n=e.left+h+f+p+t.collisionWidth-a-o)<0||n<s(u))&&(e.left+=h+f+p):d>0&&((i=e.left-t.collisionPosition.marginLeft+h+f+p-l)>0||s(i)<d)&&(e.left+=h+f+p)},top:function(e,t){var n,i,r=t.within,o=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-a-l,h="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1];u<0?(i=e.top+h+f+p+t.collisionHeight-a-o,e.top+h+f+p>u&&(i<0||i<s(u))&&(e.top+=h+f+p)):d>0&&(n=e.top-t.collisionPosition.marginTop+h+f+p-l,e.top+h+f+p>d&&(n>0||s(n)<d)&&(e.top+=h+f+p))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,r,o,a=document.getElementsByTagName("body")[0],s=document.createElement("div");for(o in t=document.createElement(a?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"}),i)t.style[o]=i[o];t.appendChild(s),(n=a||document.documentElement).insertBefore(t,n.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",r=e(s).offset().left,e.support.offsetFractions=r>10&&r<11,t.innerHTML="",n.removeChild(t)}(),!1!==e.uiBackCompat&&function(e){var n=e.fn.position;e.fn.position=function(i){if(!i||!i.offset)return n.call(this,i);var r=i.offset.split(" "),o=i.at.split(" ");return 1===r.length&&(r[1]=r[0]),/^\d/.test(r[0])&&(r[0]="+"+r[0]),/^\d/.test(r[1])&&(r[1]="+"+r[1]),1===o.length&&(/left|center|right/.test(o[0])?o[1]="center":(o[1]=o[0],o[0]="center")),n.call(this,e.extend(i,{at:o[0]+r[0]+" "+o[1]+r[1],offset:t}))}}(i)}(i),function(e,t){var n=0;e.widget("ui.autocomplete",{version:"1.9.1",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var t,n,i;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,i=!0,void(n=!0);t=!1,i=!1,n=!1;var o=e.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case o.UP:t=!0,this._keyEvent("previous",r);break;case o.DOWN:t=!0,this._keyEvent("next",r);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(t)return t=!1,void i.preventDefault();if(!n){var r=e.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(e){if(i)return i=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:e(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(i){i.target!==t.element[0]&&i.target!==n&&!e.contains(n,i.target)&&t.close()})})},menufocus:function(t,n){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});var i=n.item.data("ui-autocomplete-item")||n.item.data("item.autocomplete");!1!==this._trigger("focus",t,{item:i})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value):this.liveRegion.text(i.value)},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item")||t.item.data("item.autocomplete"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),e.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this.document.find(t||"body")[0]),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return!!this.element.is("textarea")||!this.element.is("input")&&this.element.prop("isContentEditable")},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,r){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,t=++n;return function(i){t===n&&e.__response(i),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var n=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(n,t),this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,function(e,n){i._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<a>").text(n.label)).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(i),function(e,t){var n,i,r,o,a="ui-button ui-widget ui-state-default ui-corner-all",s="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},c=function(t){var n=t.name,i=t.form,r=e([]);return n&&(r=i?e(i).find("[name='"+n+"']"):e("[name='"+n+"']",t.ownerDocument).filter(function(){return!this.form})),r};e.widget("ui.button",{version:"1.9.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,s=this.options,u="checkbox"===this.type||"radio"===this.type,d="ui-state-hover"+(u?"":" ui-state-active"),h="ui-state-focus";null===s.label&&(s.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this.buttonElement.addClass(a).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){s.disabled||(e(this).addClass("ui-state-hover"),this===n&&e(this).addClass("ui-state-active"))}).bind("mouseleave"+this.eventNamespace,function(){s.disabled||e(this).removeClass(d)}).bind("click"+this.eventNamespace,function(e){s.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){t.buttonElement.addClass(h)}).bind("blur"+this.eventNamespace,function(){t.buttonElement.removeClass(h)}),u&&(this.element.bind("change"+this.eventNamespace,function(){o||t.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){s.disabled||(o=!1,i=e.pageX,r=e.pageY)}).bind("mouseup"+this.eventNamespace,function(e){s.disabled||i===e.pageX&&r===e.pageY||(o=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(s.disabled||o)return!1;e(this).toggleClass("ui-state-active"),t.buttonElement.attr("aria-pressed",t.element[0].checked)}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(s.disabled||o)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var n=t.element[0];c(n).not(n).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(s.disabled)return!1;e(this).addClass("ui-state-active"),n=this,t.document.one("mouseup",function(){n=null})}).bind("mouseup"+this.eventNamespace,function(){if(s.disabled)return!1;e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){if(s.disabled)return!1;(t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",s.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(n=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(a+" ui-state-hover ui-state-active  "+s).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){this._super(e,t),"disabled"!==e?this._resetButton():t?this.element.prop("disabled",!0):this.element.prop("disabled",!1)},refresh:function(){var t=this.element.is(":disabled")||this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?c(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var t=this.buttonElement.removeClass(s),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),i=this.options.icons,r=i.primary&&i.secondary,o=[];i.primary||i.secondary?(this.options.text&&o.push("ui-button-text-icon"+(r?"s":i.primary?"-primary":"-secondary")),i.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(o.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),e.widget("ui.buttonset",{version:"1.9.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(i),function(e,t){var n=!1;e.widget("ui.menu",{version:"1.9.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,e.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(t){var i=e(t.target).closest(".ui-menu-item");!n&&i.not(".ui-state-disabled").length&&(n=!0,this.select(t),i.has(".ui-menu").length?this.expand(t):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){var n=e(t.currentTarget);n.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){e(t.target).closest(".ui-menu").length||this.collapseAll(t),n=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){function n(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,r,o,a,s,l=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:l=!1,r=this.previousFilter||"",o=String.fromCharCode(t.keyCode),a=!1,clearTimeout(this.filterTimer),o===r?a=!0:o=r+o,s=new RegExp("^"+n(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(e(this).children("a").text())}),(i=a&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(o=String.fromCharCode(t.keyCode),s=new RegExp("^"+n(o),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return s.test(e(this).children("a").text())})),i.length?(this.focus(t,i),i.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n=this.options.icons.submenu,i=this.element.find(this.options.menus+":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"});(t=i.add(this.element)).children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),t.children(":not(.ui-menu-item)").each(function(){var t=e(this);/[^\-—–\s]/.test(t.text())||t.addClass("ui-widget-content ui-menu-divider")}),t.children(".ui-state-disabled").attr("aria-disabled","true"),i.each(function(){var t=e(this),i=t.prev("a"),r=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(r),t.attr("aria-labelledby",i.attr("id"))}),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(e,t){var n,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=t.children(".ui-menu")).length&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,r,o,a,s;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=t.height(),r<0?this.activeMenu.scrollTop(o+r):r+s>a&&this.activeMenu.scrollTop(o+r-a+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(n,i)},nextPage:function(t){var n,i,r;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(n=e(this)).offset().top-i-r<0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var n,i,r;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(n=e(this)).offset().top-i+r>0}),this.focus(t,n)):this.focus(t,this.activeMenu.children(".ui-menu-item").first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)}})}(i),function(e,t){e.widget("ui.slider",e.ui.mouse,{version:"1.9.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var t,n,i=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(i.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),i.range&&(!0===i.range&&(i.values||(i.values=[this._valueMin(),this._valueMin()]),i.values.length&&2!==i.values.length&&(i.values=[i.values[0],i.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===i.range||"max"===i.range?" ui-slider-range-"+i.range:""))),n=i.values&&i.values.length||1,t=r.length;t<n;t++)o.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=r.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(e){e.preventDefault()}).mouseenter(function(){i.disabled||e(this).addClass("ui-state-hover")}).mouseleave(function(){e(this).removeClass("ui-state-hover")}).focus(function(){i.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)}),this._on(this.handles,{keydown:function(t){var n,i,r,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),!1===this._start(t,o)))return}switch(r=this.options.step,n=i=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:i=this._valueMin();break;case e.ui.keyCode.END:i=this._valueMax();break;case e.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/5);break;case e.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/5);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+r);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-r)}this._slide(t,o,i)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,i,r,o,a,s,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(i-c.values(t));r>n&&(r=n,o=e(this),a=t)}),!0===u.range&&this.values(1)===u.min&&(a+=1,o=e(this.handles[a])),!1!==this._start(t,a)&&(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),s=o.offset(),l=!e(t.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-s.left-o.width()/2,top:t.pageY-s.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,r,o;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/t)>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var i,r,o;this.options.values&&this.options.values.length?(i=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&n>i||1===t&&n<i)&&(n=i),n!==this.values(t)&&((r=this.values())[t]=n,o=this._trigger("slide",e,{handle:this.handles[t],value:n,values:r}),i=this.values(t?0:1),!1!==o&&this.values(t,n,!0))):n!==this.value()&&(!1!==(o=this._trigger("slide",e,{handle:this.handles[t],value:n}))&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var i,r,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,n){var i,r=0;switch(e.isArray(this.options.values)&&(r=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments),t){case"disabled":n?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;i<r;i+=1)this._change(null,i);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,n,i,r,o,a=this.options.range,s=this.options,l=this,c=!this._animateOff&&s.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](u,s.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:s.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:s.animate}))),t=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](u,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:s.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:s.animate}))}})}(i)},function(e,t,n){!function(e){e.fn.farbtastic=function(t){return e.farbtastic(this,t),this},e.farbtastic=function(t,n){return(t=e(t)[0]).farbtastic||(t.farbtastic=new e._farbtastic(t,n))},e._farbtastic=function(t,n){var i=this;i.linkTo=function(t){return"object"==typeof i.callback&&e(i.callback).unbind("keyup",i.updateValue),i.color=null,"function"==typeof t?i.callback=t:"object"!=typeof t&&"string"!=typeof t||(i.callback=e(t),i.callback.bind("keyup",i.updateValue),i.callback[0].value&&i.setColor(i.callback[0].value)),this},i.updateValue=function(e){this.value&&this.value!=i.color&&i.setColor(this.value)},i.setColor=function(e){var t=i.unpack(e);return i.color!=e&&t&&(i.color=e,i.rgb=t,i.hsl=i.RGBToHSL(i.rgb),i.updateDisplay()),this},i.setHSL=function(e){return i.hsl=e,i.rgb=i.HSLToRGB(e),i.color=i.pack(i.rgb),i.updateDisplay(),this},i.initWidget=function(){var r={width:n.width,height:n.width};e(t).html('<div class="farbtastic" style="position: relative"><div class="farbtastic-solid"></div><canvas class="farbtastic-mask"></canvas><canvas class="farbtastic-overlay"></canvas></div>').find("*").attr(r).css(r).end().find("div>*").css("position","absolute"),e.browser.msie,i.radius=(n.width-n.wheelWidth)/2-1,i.square=Math.floor(.7*(i.radius-n.wheelWidth/2))-1,i.mid=Math.floor(n.width/2),i.markerSize=.3*n.wheelWidth,i.solidFill=e(".farbtastic-solid",t).css({width:2*i.square-1,height:2*i.square-1,left:i.mid-i.square,top:i.mid-i.square}),i.cnvMask=e(".farbtastic-mask",t),i.ctxMask=i.cnvMask[0].getContext("2d"),i.cnvOverlay=e(".farbtastic-overlay",t),i.ctxOverlay=i.cnvOverlay[0].getContext("2d"),i.ctxMask.translate(i.mid,i.mid),i.ctxOverlay.translate(i.mid,i.mid),i.drawCircle(),i.drawMask()},i.drawCircle=function(){new Date;var t,r,o=i.radius,a=n.wheelWidth,s=8/o/24*Math.PI,l=i.ctxMask,c=0;l.save(),l.lineWidth=a/o,l.scale(o,o);for(var u=0;u<=24;++u){var d=u/24,h=d*Math.PI*2,f=Math.sin(c),p=-Math.cos(c);if(x2=Math.sin(h),y2=-Math.cos(h),am=(c+h)/2,tan=1/Math.cos((h-c)/2),xm=Math.sin(am)*tan,ym=-Math.cos(am)*tan,color2=i.pack(i.HSLToRGB([d,1,.5])),u>0)if(e.browser.msie){var m=(1+Math.min(Math.abs(Math.tan(c)),Math.abs(Math.tan(Math.PI/2-c))))/24;t=i.pack(i.HSLToRGB([r-.15*m,1,.5])),color2=i.pack(i.HSLToRGB([d+.15*m,1,.5])),(v=l.createLinearGradient(f,p,x2,y2)).addColorStop(0,t),v.addColorStop(1,color2),l.fillStyle=v;var g=(o+a/2)/o,_=(o-a/2)/o;l.beginPath(),l.moveTo(f*g,p*g),l.quadraticCurveTo(xm*g,ym*g,x2*g,y2*g),l.lineTo(x2*_,y2*_),l.quadraticCurveTo(xm*_,ym*_,f*_,p*_),l.fill()}else{var v;(v=l.createLinearGradient(f,p,x2,y2)).addColorStop(0,t),v.addColorStop(1,color2),l.strokeStyle=v,l.beginPath(),l.moveTo(f,p),l.quadraticCurveTo(xm,ym,x2,y2),l.stroke()}c=h-s,t=color2,r=d}l.restore()},i.drawMask=function(){new Date;var t=2*i.square,n=i.square;function r(e,t,n){for(var i=1/e,r=1/t,o=0;o<=t;++o)for(var a=1-o*r,s=0;s<=e;++s){var l=1-s*i,c=1-2*Math.min(a*l,(1-a)*l);n(s,o,c>0?.5*(2*a-1+c)/c:0,c)}}if(i.ctxMask.getImageData){var o=Math.floor(t/2),a=document.createElement("canvas");a.width=a.height=o+1;var s=a.getContext("2d"),l=s.getImageData(0,0,o+1,o+1),c=0;r(o,o,function(e,t,n,i){l.data[c++]=l.data[c++]=l.data[c++]=255*n,l.data[c++]=255*i}),s.putImageData(l,0,0),i.ctxMask.drawImage(a,0,0,o+1,o+1,-n,-n,2*n,2*n)}else if(e.browser.msie){var u,d,h=Math.floor(t/6);r(h,6,function(t,r,o,a){if(0==t&&(u=d,d=[]),o=Math.round(255*o),a=Math.round(255*a),r>0){var s=u[t][0],l=u[t][1],c=i.packDX(s,l),f=i.packDX(o,a),p=Math.round(i.mid+(.333*(r-1)-1)*n),m=Math.round(i.mid+(.333*r-1)*n);e("<div>").css({position:"absolute",filter:"progid:DXImageTransform.Microsoft.Gradient(StartColorStr="+c+", EndColorStr="+f+", GradientType=0)",top:p,height:m-p,left:i.mid+(6*t-n-1),width:6-(t==h?Math.round(3):0)}).appendTo(i.cnvMask)}d.push([o,a])})}else{r(o=Math.floor(t/2),o,function(e,t,r,o){r=Math.round(255*r),i.ctxMask.fillStyle="rgba("+r+", "+r+", "+r+", "+o+")",i.ctxMask.fillRect(2*e-n-1,2*t-n-1,2,2)})}},i.drawMarkers=function(){var e=n.width,t=Math.ceil(i.markerSize/4),r=i.markerSize-t+1,o=6.28*i.hsl[0],a=Math.sin(o)*i.radius,s=-Math.cos(o)*i.radius,l=2*i.square*(.5-i.hsl[1]),c=2*i.square*(.5-i.hsl[2]),u=i.invert?"#fff":"#000",d=i.invert?"#000":"#fff",h=[{x:a,y:s,r:r,c:"#000",lw:t+1},{x:a,y:s,r:i.markerSize,c:"#fff",lw:t},{x:l,y:c,r:r,c:d,lw:t+1},{x:l,y:c,r:i.markerSize,c:u,lw:t}];i.ctxOverlay.clearRect(-i.mid,-i.mid,e,e);for(var f=0;f<h.length;f++){var p=h[f];i.ctxOverlay.lineWidth=p.lw,i.ctxOverlay.strokeStyle=p.c,i.ctxOverlay.beginPath(),i.ctxOverlay.arc(p.x,p.y,p.r,0,2*Math.PI,!0),i.ctxOverlay.stroke()}},i.updateDisplay=function(){i.invert=.3*i.rgb[0]+.59*i.rgb[1]+.11*i.rgb[2]<=.6,i.solidFill.css("backgroundColor",i.pack(i.HSLToRGB([i.hsl[0],1,.5]))),i.drawMarkers(),"object"==typeof i.callback?(e(i.callback).css({backgroundColor:i.color,color:i.invert?"#fff":"#000"}),e(i.callback).each(function(){"string"==typeof this.value&&this.value!=i.color&&(this.value=i.color)}).change()):"function"==typeof i.callback&&i.callback.call(i,i.color)},i.widgetCoords=function(e){return{x:e.pageX-i.offset.left-i.mid,y:e.pageY-i.offset.top-i.mid}},i.mousedown=function(n){e._farbtastic.dragging||(e(document).bind("mousemove",i.mousemove).bind("mouseup",i.mouseup),e._farbtastic.dragging=!0),i.offset=e(t).offset();var r=i.widgetCoords(n);return i.circleDrag=Math.max(Math.abs(r.x),Math.abs(r.y))>i.square+2,i.mousemove(n),!1},i.mousemove=function(e){var t=i.widgetCoords(e);if(i.circleDrag){var n=Math.atan2(t.x,-t.y)/6.28;i.setHSL([(n+1)%1,i.hsl[1],i.hsl[2]])}else{var r=Math.max(0,Math.min(1,-t.x/i.square/2+.5)),o=Math.max(0,Math.min(1,-t.y/i.square/2+.5));i.setHSL([i.hsl[0],r,o])}return!1},i.mouseup=function(){e(document).unbind("mousemove",i.mousemove),e(document).unbind("mouseup",i.mouseup),e._farbtastic.dragging=!1},i.dec2hex=function(e){return(e<16?"0":"")+e.toString(16)},i.packDX=function(e,t){return"#"+i.dec2hex(t)+i.dec2hex(e)+i.dec2hex(e)+i.dec2hex(e)},i.pack=function(e){var t=Math.round(255*e[0]),n=Math.round(255*e[1]),r=Math.round(255*e[2]);return"#"+i.dec2hex(t)+i.dec2hex(n)+i.dec2hex(r)},i.unpack=function(e){if(7==e.length){function t(t){return parseInt(e.substring(t,t+2),16)/255}return[t(1),t(3),t(5)]}if(4==e.length){function t(t){return parseInt(e.substring(t,t+1),16)/15}return[t(1),t(2),t(3)]}},i.HSLToRGB=function(e){var t,n,i=e[0],r=e[1],o=e[2];return t=2*o-(n=o<=.5?o*(r+1):o+r-o*r),[this.hueToRGB(t,n,i+.33333),this.hueToRGB(t,n,i),this.hueToRGB(t,n,i-.33333)]},i.hueToRGB=function(e,t,n){return 6*(n=(n+1)%1)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(.66666-n)*6:e},i.RGBToHSL=function(e){var t=e[0],n=e[1],i=e[2],r=Math.min(t,n,i),o=Math.max(t,n,i),a=o-r,s=0,l=0,c=(r+o)/2;return c>0&&c<1&&(l=a/(c<.5?2*c:2-2*c)),a>0&&(o==t&&o!=n&&(s+=(n-i)/a),o==n&&o!=i&&(s+=2+(i-t)/a),o==i&&o!=t&&(s+=4+(t-n)/a),s/=6),[s,l,c]},n.callback||(n={callback:n}),n=e.extend({width:300,wheelWidth:(n.width||300)/10,callback:null},n),i.initWidget(),e("canvas.farbtastic-overlay",t).mousedown(i.mousedown),n.callback&&i.linkTo(n.callback),i.color||i.setColor("#808080")}}(n(46))},function(e,t,n){n(46),n(46);
/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
!function(e){e(n(0))}(function(e){var t=/\+/g;function n(e){return o.raw?e:encodeURIComponent(e)}function i(e){return o.raw?e:decodeURIComponent(e)}function r(n,i){var r=o.raw?n:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(t," ")),o.json?JSON.parse(e):e}catch(e){}}(n);return e.isFunction(i)?i(r):r}var o=e.cookie=function(t,a,s){if(void 0!==a&&!e.isFunction(a)){if("number"==typeof(s=e.extend({},o.defaults,s)).expires){var l=s.expires,c=s.expires=new Date;c.setTime(+c+864e5*l)}return document.cookie=[n(t),"=",function(e){return n(o.json?JSON.stringify(e):String(e))}(a),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}for(var u=t?void 0:{},d=document.cookie?document.cookie.split("; "):[],h=0,f=d.length;h<f;h++){var p=d[h].split("="),m=i(p.shift()),g=p.join("=");if(t&&t===m){u=r(g,a);break}t||void 0===(g=r(g))||(u[m]=g)}return u};o.defaults={},e.removeCookie=function(t,n){return void 0!==e.cookie(t)&&(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}})},function(module,exports,__webpack_require__){var jQuery=__webpack_require__(46),_canLog=!0;
/*! ****************************************************************************
	jquery.dynatree.js
	Dynamic tree view control, with support for lazy loading of branches.

	Copyright (c) 2006-2014, Martin Wendt (http://wwWendt.de)
	Dual licensed under the MIT or GPL Version 2 licenses.
	http://code.google.com/p/dynatree/wiki/LicenseInfo

	A current version and some documentation is available at
		http://dynatree.googlecode.com/

	@version: 1.2.8
	@date:    2015-07-04T16:44

	@depends: jquery.js
	@depends: jquery.ui.core.js
	@depends: jquery.cookie.js
*******************************************************************************/function _log(e,t){if(_canLog){var n=Array.prototype.slice.apply(arguments,[1]),i=new Date,r=i.getHours()+":"+i.getMinutes()+":"+i.getSeconds()+"."+i.getMilliseconds();n[0]=r+" - "+n[0];try{switch(e){case"info":window.console.info.apply(window.console,n);break;case"warn":window.console.warn.apply(window.console,n);break;default:window.console.log.apply(window.console,n)}}catch(e){window.console?-2146827850===e.number&&window.console.log(n.join(", ")):_canLog=!1}}}function logMsg(e){Array.prototype.unshift.apply(arguments,["debug"]),_log.apply(this,arguments)}var getDynaTreePersistData=null,DTNodeStatus_Error=-1,DTNodeStatus_Loading=1,DTNodeStatus_Ok=0;!function($){var Class={create:function(){return function(){this.initialize.apply(this,arguments)}}};function getDtNodeFromElement(e){return alert("getDtNodeFromElement is deprecated"),$.ui.dynatree.getNode(e)}function noop(){}function offsetString(e){return 0===e?"":e>0?"+"+e:""+e}function _checkBrowser(){var e,t;return t={},(e=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}(navigator.userAgent)).browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),t}function versionCompare(e,t){var n,i,r,o=(""+e).split("."),a=(""+t).split("."),s=Math.min(o.length,a.length);for(r=0;r<s;r++)if(n=parseInt(o[r],10),i=parseInt(a[r],10),isNaN(n)&&(n=o[r]),isNaN(i)&&(i=a[r]),n!=i)return n>i?1:n<i?-1:NaN;return o.length===a.length?0:o.length<a.length?-1:1}var BROWSER=_checkBrowser(),jquerySupports={positionMyOfs:versionCompare($.ui.version,"1.9")>=0},DynaTreeNode=Class.create();DynaTreeNode.prototype={initialize:function(e,t,n){this.parent=e,this.tree=t,"string"==typeof n&&(n={title:n}),null==n.key?n.key="_"+t._nodeCount++:n.key=""+n.key,this.data=$.extend({},$.ui.dynatree.nodedatadefaults,n),this.li=null,this.span=null,this.ul=null,this.childList=null,this._isLoading=!1,this.hasSubSel=!1,this.bExpanded=!1,this.bSelected=!1},toString:function(){return"DynaTreeNode<"+this.data.key+">: '"+this.data.title+"'"},toDict:function(e,t){var n,i=$.extend({},this.data);if(i.activate=this.tree.activeNode===this,i.focus=this.tree.focusNode===this,i.expand=this.bExpanded,i.select=this.bSelected,t&&t(i),e&&this.childList){i.children=[];for(var r=0,o=this.childList.length;r<o;r++)(n=this.childList[r]).isStatusNode()||i.children.push(n.toDict(!0,t))}else delete i.children;return i},fromDict:function(e){var t=e.children;if(void 0===t)return this.data=$.extend(this.data,e),void this.render();(e=$.extend({},e)).children=void 0,this.data=$.extend(this.data,e),this.removeChildren(),this.addChild(t)},_getInnerHtml:function(){var e=this.tree,t=e.options,n=e.cache,i=this.getLevel(),r=this.data,o="";i<t.minExpandLevel?i>1&&(o+=n.tagConnector):!1!==this.hasChildren()?o+=n.tagExpander:o+=n.tagConnector,t.checkbox&&!0!==r.hideCheckbox&&!r.isStatusNode&&(o+=n.tagCheckbox),r.icon?o+="<img src='"+("/"===r.icon.charAt(0)?r.icon:t.imagePath+r.icon)+"' alt='' />":!1===r.icon||(r.iconClass?o+="<span class=' "+r.iconClass+"'></span>":o+=n.tagNodeIcon);var a="";if(t.onCustomRender&&(a=t.onCustomRender.call(e,this)||""),!a){var s=r.tooltip?' title="'+r.tooltip.replace(/\"/g,"&quot;")+'"':"",l=r.href||"#";a=t.noLink||r.noLink?'<span style="display:inline-block;" class="'+t.classNames.title+'"'+s+">"+r.title+"</span>":'<a href="'+l+'" class="'+t.classNames.title+'"'+s+">"+r.title+"</a>"}return o+=a},_fixOrder:function(){var e=this.childList;if(e&&this.ul)for(var t=this.ul.firstChild,n=0,i=e.length-1;n<i;n++){var r=e[n],o=t.dtnode;r!==o?(this.tree.logDebug("_fixOrder: mismatch at index "+n+": "+r+" != "+o),this.ul.insertBefore(r.li,o.li)):t=t.nextSibling}},render:function(e,t){var n=this.tree,i=this.parent,r=this.data,o=n.options,a=o.classNames,s=this.isLastSibling(),l=!1;if(i||this.ul){if(i){this.li||(l=!0,this.li=document.createElement("li"),this.li.dtnode=this,r.key&&o.generateIds&&(this.li.id=o.idPrefix+r.key),this.span=document.createElement("span"),this.span.className=a.title,this.li.appendChild(this.span),i.ul||(i.ul=document.createElement("ul"),i.ul.style.display="none",i.li.appendChild(i.ul)),i.ul.appendChild(this.li)),this.span.innerHTML=this._getInnerHtml();var c=[];c.push(a.node),r.isFolder&&c.push(a.folder),this.bExpanded&&c.push(a.expanded),!1!==this.hasChildren()&&c.push(a.hasChildren),r.isLazy&&null===this.childList&&c.push(a.lazy),s&&c.push(a.lastsib),this.bSelected&&c.push(a.selected),this.hasSubSel&&c.push(a.partsel),n.activeNode===this&&c.push(a.active),r.addClass&&c.push(r.addClass),c.push(a.combinedExpanderPrefix+(this.bExpanded?"e":"c")+(r.isLazy&&null===this.childList?"d":"")+(s?"l":"")),c.push(a.combinedIconPrefix+(this.bExpanded?"e":"c")+(r.isFolder?"f":"")),this.span.className=c.join(" "),this.li.className=s?a.lastsib:"",l&&o.onCreate&&o.onCreate.call(n,this,this.span),o.onRender&&o.onRender.call(n,this,this.span)}}else this.li=this.span=null,this.ul=document.createElement("ul"),o.minExpandLevel>1?this.ul.className=a.container+" "+a.noConnector:this.ul.className=a.container;if((this.bExpanded||!0===t)&&this.childList){for(var u=0,d=this.childList.length;u<d;u++)this.childList[u].render(!1,t);this._fixOrder()}if(this.ul){var h="none"===this.ul.style.display,f=!!this.bExpanded;if(e&&o.fx&&h===f){var p=o.fx.duration||200;$(this.ul).animate(o.fx,p)}else this.ul.style.display=this.bExpanded||!i?"":"none"}},getKeyPath:function(e){var t=[],n=this.tree.options.keyPathSeparator;return this.visitParents(function(e){e.parent&&t.unshift(e.data.key)},!e),n+t.join(n)},getParent:function(){return this.parent},getChildren:function(){if(void 0!==this.hasChildren())return this.childList},hasChildren:function(){if(this.data.isLazy){if(null===this.childList||void 0===this.childList)return;if(0===this.childList.length)return!1;if(1===this.childList.length&&this.childList[0].isStatusNode())return;return!0}return!!this.childList},isFirstSibling:function(){var e=this.parent;return!e||e.childList[0]===this},isLastSibling:function(){var e=this.parent;return!e||e.childList[e.childList.length-1]===this},isLoading:function(){return!!this._isLoading},getPrevSibling:function(){if(!this.parent)return null;for(var e=this.parent.childList,t=1,n=e.length;t<n;t++)if(e[t]===this)return e[t-1];return null},getNextSibling:function(){if(!this.parent)return null;for(var e=this.parent.childList,t=0,n=e.length-1;t<n;t++)if(e[t]===this)return e[t+1];return null},isStatusNode:function(){return!0===this.data.isStatusNode},isChildOf:function(e){return this.parent&&this.parent===e},isDescendantOf:function(e){if(!e)return!1;for(var t=this.parent;t;){if(t===e)return!0;t=t.parent}return!1},countChildren:function(){var e=this.childList;if(!e)return 0;for(var t=e.length,n=0,i=t;n<i;n++){t+=e[n].countChildren()}return t},sortChildren:function(e,t){var n=this.childList;if(n){if(e=e||function(e,t){var n=e.data.title.toLowerCase(),i=t.data.title.toLowerCase();return n===i?0:n>i?1:-1},n.sort(e),t)for(var i=0,r=n.length;i<r;i++)n[i].childList&&n[i].sortChildren(e,"$norender$");"$norender$"!==t&&this.render()}},_setStatusNode:function(e){var t=this.childList?this.childList[0]:null;if(e)t?(e.isStatusNode=!0,e.key="_statusNode",t.data=e,t.render()):(e.isStatusNode=!0,e.key="_statusNode",t=this.addChild(e));else if(t&&t.isStatusNode()){try{this.ul&&(this.ul.removeChild(t.li),t.li=null)}catch(e){}1===this.childList.length?this.childList=[]:this.childList.shift()}},setLazyNodeStatus:function(e,t){var n=t&&t.tooltip?t.tooltip:null,i=t&&t.info?" ("+t.info+")":"";switch(e){case DTNodeStatus_Ok:this._setStatusNode(null),$(this.span).removeClass(this.tree.options.classNames.nodeLoading),this._isLoading=!1,this.tree.options.autoFocus&&(this===this.tree.tnRoot&&this.childList&&this.childList.length>0?this.childList[0].focus():this.focus());break;case DTNodeStatus_Loading:this._isLoading=!0,$(this.span).addClass(this.tree.options.classNames.nodeLoading),this.parent||this._setStatusNode({title:this.tree.options.strings.loading+i,tooltip:n,addClass:this.tree.options.classNames.nodeWait});break;case DTNodeStatus_Error:this._isLoading=!1,this._setStatusNode({title:this.tree.options.strings.loadError+i,tooltip:n,addClass:this.tree.options.classNames.nodeError});break;default:throw"Bad LazyNodeStatus: '"+e+"'."}},_parentList:function(e,t){for(var n=[],i=t?this:this.parent;i;)(e||i.parent)&&n.unshift(i),i=i.parent;return n},getLevel:function(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e},_getTypeForOuterNodeEvent:function(e){var t=this.tree.options.classNames,n=e.target;if(n.className.indexOf(t.node)<0)return null;for(var i=e.pageX-n.offsetLeft,r=e.pageY-n.offsetTop,o=0,a=n.childNodes.length;o<a;o++){var s=n.childNodes[o],l=s.offsetLeft-n.offsetLeft,c=s.offsetTop-n.offsetTop,u=s.clientWidth,d=s.clientHeight;if(i>=l&&i<=l+u&&r>=c&&r<=c+d){if(s.className==t.title)return"title";if(s.className==t.expander)return"expander";if(s.className==t.checkbox||s.className==t.radio)return"checkbox";if(s.className==t.nodeIcon)return"icon"}}return"prefix"},getEventTargetType:function(e){var t=e&&e.target?e.target.className:"",n=this.tree.options.classNames;return t.indexOf(n.title)>=0?"title":t.indexOf(n.expander)>=0?"expander":t.indexOf(n.checkbox)>=0||t.indexOf(n.radio)>=0?"checkbox":t.indexOf(n.nodeIcon)>=0?"icon":t.indexOf(n.empty)>=0||t.indexOf(n.vline)>=0||t.indexOf(n.connector)>=0?"prefix":t.indexOf(n.node)>=0?this._getTypeForOuterNodeEvent(e):null},isVisible:function(){for(var e=this._parentList(!0,!1),t=0,n=e.length;t<n;t++)if(!e[t].bExpanded)return!1;return!0},makeVisible:function(){for(var e=this._parentList(!0,!1),t=0,n=e.length;t<n;t++)e[t]._expand(!0)},focus:function(){this.makeVisible();try{$(this.span).find(">a").focus()}catch(e){}},isFocused:function(){return this.tree.tnFocused===this},_activate:function(e,t){this.tree.logDebug("dtnode._activate(%o, fireEvents=%o) - %o",e,t,this);var n=this.tree.options;if(!this.data.isStatusNode)if(e){if(t&&n.onQueryActivate&&!1===n.onQueryActivate.call(this.tree,e,this))return;if(this.tree.activeNode){if(this.tree.activeNode===this)return;this.tree.activeNode.deactivate()}n.activeVisible&&this.makeVisible(),this.tree.activeNode=this,n.persist&&$.cookie(n.cookieId+"-active",this.data.key,n.cookie),this.tree.persistence.activeKey=this.data.key,$(this.span).addClass(n.classNames.active),t&&n.onActivate&&n.onActivate.call(this.tree,this)}else if(this.tree.activeNode===this){if(n.onQueryActivate&&!1===n.onQueryActivate.call(this.tree,!1,this))return;$(this.span).removeClass(n.classNames.active),n.persist&&$.cookie(n.cookieId+"-active","",n.cookie),this.tree.persistence.activeKey=null,this.tree.activeNode=null,t&&n.onDeactivate&&n.onDeactivate.call(this.tree,this)}},activate:function(){this._activate(!0,!0)},activateSilently:function(){this._activate(!0,!1)},deactivate:function(){this._activate(!1,!0)},isActive:function(){return this.tree.activeNode===this},_userActivate:function(){var e=!0,t=!1;if(this.data.isFolder)switch(this.tree.options.clickFolderMode){case 2:e=!1,t=!0;break;case 3:e=t=!0}null===this.parent&&(t=!1),t&&(this.toggleExpand(),this.focus()),e&&this.activate()},_setSubSel:function(e){e?(this.hasSubSel=!0,$(this.span).addClass(this.tree.options.classNames.partsel)):(this.hasSubSel=!1,$(this.span).removeClass(this.tree.options.classNames.partsel))},_updatePartSelectionState:function(){var e;if(!this.hasChildren())return e=this.bSelected&&!this.data.unselectable&&!this.data.isStatusNode,this._setSubSel(!1),e;var t,n,i=this.childList,r=!0,o=!0;for(t=0,n=i.length;t<n;t++){var a=i[t]._updatePartSelectionState();!1!==a&&(o=!1),!0!==a&&(r=!1)}return e=!!r||!o&&void 0,this._setSubSel(void 0===e),this.bSelected=!0===e,e},_fixSelectionState:function(){var e,t,n;if(this.bSelected)for(this.visit(function(e){e.parent._setSubSel(!0),e.data.unselectable||e._select(!0,!1,!1)}),e=this.parent;e;){e._setSubSel(!0);var i=!0;for(t=0,n=e.childList.length;t<n;t++){var r=e.childList[t];if(!r.bSelected&&!r.data.isStatusNode&&!r.data.unselectable){i=!1;break}}i&&e._select(!0,!1,!1),e=e.parent}else for(this._setSubSel(!1),this.visit(function(e){e._setSubSel(!1),e._select(!1,!1,!1)}),e=this.parent;e;){e._select(!1,!1,!1);var o=!1;for(t=0,n=e.childList.length;t<n;t++)if(e.childList[t].bSelected||e.childList[t].hasSubSel){o=!0;break}e._setSubSel(o),e=e.parent}},_select:function(e,t,n){var i=this.tree.options;this.data.isStatusNode||this.bSelected!==e&&(t&&i.onQuerySelect&&!1===i.onQuerySelect.call(this.tree,e,this)||(1==i.selectMode&&e&&this.tree.visit(function(e){if(e.bSelected)return e._select(!1,!1,!1),!1}),this.bSelected=e,e?(i.persist&&this.tree.persistence.addSelect(this.data.key),$(this.span).addClass(i.classNames.selected),n&&3===i.selectMode&&this._fixSelectionState(),t&&i.onSelect&&i.onSelect.call(this.tree,!0,this)):(i.persist&&this.tree.persistence.clearSelect(this.data.key),$(this.span).removeClass(i.classNames.selected),n&&3===i.selectMode&&this._fixSelectionState(),t&&i.onSelect&&i.onSelect.call(this.tree,!1,this))))},select:function(e){return this.data.unselectable?this.bSelected:this._select(!1!==e,!0,!0)},toggleSelect:function(){return this.select(!this.bSelected)},isSelected:function(){return this.bSelected},isLazy:function(){return!!this.data.isLazy},_loadContent:function(){try{var e=this.tree.options;this.tree.logDebug("_loadContent: start - %o",this),this.setLazyNodeStatus(DTNodeStatus_Loading),!0===e.onLazyRead.call(this.tree,this)&&(this.setLazyNodeStatus(DTNodeStatus_Ok),this.tree.logDebug("_loadContent: succeeded - %o",this))}catch(e){this.tree.logWarning("_loadContent: failed - %o",e),this.setLazyNodeStatus(DTNodeStatus_Error,{tooltip:""+e})}},_expand:function(e,t){if(this.bExpanded!==e){this.tree.logDebug("dtnode._expand(%o) - %o",e,this);var n=this.tree.options;if(!e&&this.getLevel()<n.minExpandLevel)this.tree.logDebug("dtnode._expand(%o) prevented collapse - %o",e,this);else if(!n.onQueryExpand||!1!==n.onQueryExpand.call(this.tree,e,this)){this.bExpanded=e,n.persist&&(e?this.tree.persistence.addExpand(this.data.key):this.tree.persistence.clearExpand(this.data.key));var i=!(this.data.isLazy&&null===this.childList||this._isLoading||t);if(this.render(i),this.bExpanded&&this.parent&&n.autoCollapse)for(var r=this._parentList(!1,!0),o=0,a=r.length;o<a;o++)r[o].collapseSiblings();n.activeVisible&&this.tree.activeNode&&!this.tree.activeNode.isVisible()&&this.tree.activeNode.deactivate(),e&&this.data.isLazy&&null===this.childList&&!this._isLoading?this._loadContent():n.onExpand&&n.onExpand.call(this.tree,e,this)}}else this.tree.logDebug("dtnode._expand(%o) IGNORED - %o",e,this)},isExpanded:function(){return this.bExpanded},expand:function(e){e=!1!==e,(this.childList||this.data.isLazy||!e)&&(null!==this.parent||e)&&this._expand(e)},scheduleAction:function(e,t){this.tree.timer&&(clearTimeout(this.tree.timer),this.tree.logDebug("clearTimeout(%o)",this.tree.timer));var n=this;switch(e){case"cancel":break;case"expand":this.tree.timer=setTimeout(function(){n.tree.logDebug("setTimeout: trigger expand"),n.expand(!0)},t);break;case"activate":this.tree.timer=setTimeout(function(){n.tree.logDebug("setTimeout: trigger activate"),n.activate()},t);break;default:throw"Invalid mode "+e}this.tree.logDebug("setTimeout(%s, %s): %s",e,t,this.tree.timer)},toggleExpand:function(){this.expand(!this.bExpanded)},collapseSiblings:function(){if(null!==this.parent)for(var e=this.parent.childList,t=0,n=e.length;t<n;t++)e[t]!==this&&e[t].bExpanded&&e[t]._expand(!1)},_onClick:function(e){var t=this.getEventTargetType(e);if("expander"===t)this.toggleExpand(),this.focus();else if("checkbox"===t)this.toggleSelect(),this.focus();else{this._userActivate();var n=this.span.getElementsByTagName("a");if(!n[0])return!0;BROWSER.msie&&parseInt(BROWSER.version,10)<9||n[0].focus()}e.preventDefault()},_onDblClick:function(e){},_onKeydown:function(e){var t,n=!0;switch(e.which){case 107:case 187:this.bExpanded||this.toggleExpand();break;case 109:case 189:this.bExpanded&&this.toggleExpand();break;case 32:this._userActivate();break;case 8:this.parent&&this.parent.focus();break;case 37:this.bExpanded?(this.toggleExpand(),this.focus()):this.parent&&this.parent.parent&&this.parent.focus();break;case 39:this.bExpanded||!this.childList&&!this.data.isLazy?this.childList&&this.childList[0].focus():(this.toggleExpand(),this.focus());break;case 38:for(t=this.getPrevSibling();t&&t.bExpanded&&t.childList;)t=t.childList[t.childList.length-1];!t&&this.parent&&this.parent.parent&&(t=this.parent),t&&t.focus();break;case 40:if(this.bExpanded&&this.childList)t=this.childList[0];else for(var i=this._parentList(!1,!0),r=i.length-1;r>=0&&!(t=i[r].getNextSibling());r--);t&&t.focus();break;default:n=!1}n&&e.preventDefault()},_onKeypress:function(e){},_onFocus:function(e){var t=this.tree.options;"blur"==e.type||"focusout"==e.type?(t.onBlur&&t.onBlur.call(this.tree,this),this.tree.tnFocused&&$(this.tree.tnFocused.span).removeClass(t.classNames.focused),this.tree.tnFocused=null,t.persist&&$.cookie(t.cookieId+"-focus","",t.cookie)):"focus"!=e.type&&"focusin"!=e.type||(this.tree.tnFocused&&this.tree.tnFocused!==this&&(this.tree.logDebug("dtnode.onFocus: out of sync: curFocus: %o",this.tree.tnFocused),$(this.tree.tnFocused.span).removeClass(t.classNames.focused)),this.tree.tnFocused=this,t.onFocus&&t.onFocus.call(this.tree,this),$(this.tree.tnFocused.span).addClass(t.classNames.focused),t.persist&&$.cookie(t.cookieId+"-focus",this.data.key,t.cookie))},visit:function(e,t){var n=!0;if(!0===t&&(!1===(n=e(this))||"skip"===n))return n;if(this.childList)for(var i=0,r=this.childList.length;i<r&&!1!==(n=this.childList[i].visit(e,!0));i++);return n},visitParents:function(e,t){if(t&&!1===e(this))return!1;for(var n=this.parent;n;){if(!1===e(n))return!1;n=n.parent}return!0},remove:function(){if(this===this.tree.root)throw"Cannot remove system root";return this.parent.removeChild(this)},removeChild:function(e){var t=this.childList;if(1===t.length){if(e!==t[0])throw"removeChild: invalid child";return this.removeChildren()}e===this.tree.activeNode&&e.deactivate(),this.tree.options.persist&&(e.bSelected&&this.tree.persistence.clearSelect(e.data.key),e.bExpanded&&this.tree.persistence.clearExpand(e.data.key)),e.removeChildren(!0),this.ul&&e.li&&this.ul.removeChild(e.li);for(var n=0,i=t.length;n<i;n++)if(t[n]===e){this.childList.splice(n,1);break}},removeChildren:function(e,t){this.tree.logDebug("%s.removeChildren(%o)",this,e);var n=this.tree,i=this.childList;if(i){for(var r=0,o=i.length;r<o;r++){var a=i[r];a!==n.activeNode||t||a.deactivate(),this.tree.options.persist&&!t&&(a.bSelected&&this.tree.persistence.clearSelect(a.data.key),a.bExpanded&&this.tree.persistence.clearExpand(a.data.key)),a.removeChildren(!0,t),this.ul&&a.li&&$("li",$(this.ul)).remove()}this.childList=null}e||(this._isLoading=!1,this.render())},setTitle:function(e){this.fromDict({title:e})},reload:function(e){throw"Use reloadChildren() instead"},reloadChildren:function(e){if(null===this.parent)throw"Use tree.reload() instead";if(!this.data.isLazy)throw"node.reloadChildren() requires lazy nodes.";if(e){var t=this,n="nodeLoaded.dynatree."+this.tree.$tree.attr("id")+"."+this.data.key;this.tree.$tree.bind(n,function(i,r,o){if(t.tree.$tree.unbind(n),t.tree.logDebug("loaded %o, %o, %o",i,r,o),r!==t)throw"got invalid load event";e.call(t.tree,r,o)})}this.removeChildren(),this._loadContent()},_loadKeyPath:function(e,t){var n=this.tree;if(n.logDebug("%s._loadKeyPath(%s)",this,e),""===e)throw"Key path must not be empty";var i=e.split(n.options.keyPathSeparator);if(""===i[0])throw"Key path must be relative (don't start with '/')";var r=i.shift();if(this.childList)for(var o=0,a=this.childList.length;o<a;o++){var s=this.childList[o];if(s.data.key===r){if(0===i.length)t.call(n,s,"ok");else if(!s.data.isLazy||null!==s.childList&&void 0!==s.childList)t.call(n,s,"loaded"),s._loadKeyPath(i.join(n.options.keyPathSeparator),t);else{n.logDebug("%s._loadKeyPath(%s) -> reloading %s...",this,e,s);var l=this;s.reloadChildren(function(r,o){o?(n.logDebug("%s._loadKeyPath(%s) -> reloaded %s.",r,e,r),t.call(n,s,"loaded"),r._loadKeyPath(i.join(n.options.keyPathSeparator),t)):(n.logWarning("%s._loadKeyPath(%s) -> reloadChildren() failed.",l,e),t.call(n,s,"error"))})}return}}t.call(n,void 0,"notfound",r,0===i.length),n.logWarning("Node not found: "+r)},resetLazy:function(){if(null===this.parent)throw"Use tree.reload() instead";if(!this.data.isLazy)throw"node.resetLazy() requires lazy nodes.";this.expand(!1),this.removeChildren()},_addChildNode:function(e,t){var n=this.tree,i=n.options,r=n.persistence;if(e.parent=this,null===this.childList?this.childList=[]:t||this.childList.length>0&&$(this.childList[this.childList.length-1].span).removeClass(i.classNames.lastsib),t){var o=$.inArray(t,this.childList);if(o<0)throw"<beforeNode> must be a child of <this>";this.childList.splice(o,0,e)}else this.childList.push(e);var a=n.isInitializing();if(i.persist&&r.cookiesFound&&a?(r.activeKey===e.data.key&&(n.activeNode=e),r.focusedKey===e.data.key&&(n.focusNode=e),e.bExpanded=$.inArray(e.data.key,r.expandedKeyList)>=0,e.bSelected=$.inArray(e.data.key,r.selectedKeyList)>=0):(e.data.activate&&(n.activeNode=e,i.persist&&(r.activeKey=e.data.key)),e.data.focus&&(n.focusNode=e,i.persist&&(r.focusedKey=e.data.key)),e.bExpanded=!0===e.data.expand,e.bExpanded&&i.persist&&r.addExpand(e.data.key),e.bSelected=!0===e.data.select,e.bSelected&&i.persist&&r.addSelect(e.data.key)),i.minExpandLevel>=e.getLevel()&&(this.bExpanded=!0),e.bSelected&&3==i.selectMode)for(var s=this;s;)s.hasSubSel||s._setSubSel(!0),s=s.parent;return n.bEnableUpdate&&this.render(),e},addChild:function(e,t){if("string"==typeof e)throw"Invalid data type for "+e;if(e&&0!==e.length){if(e instanceof DynaTreeNode)return this._addChildNode(e,t);e.length||(e=[e]);for(var n=this.tree.enableUpdate(!1),i=null,r=0,o=e.length;r<o;r++){var a=e[r],s=this._addChildNode(new DynaTreeNode(this,this.tree,a),t);i||(i=s),a.children&&s.addChild(a.children,null)}return this.tree.enableUpdate(n),i}},append:function(e){return this.tree.logWarning("node.append() is deprecated (use node.addChild() instead)."),this.addChild(e,null)},appendAjax:function(e){var t=this;if(this.removeChildren(!1,!0),this.setLazyNodeStatus(DTNodeStatus_Loading),e.debugLazyDelay){var n=e.debugLazyDelay;return e.debugLazyDelay=0,this.tree.logInfo("appendAjax: waiting for debugLazyDelay "+n),void setTimeout(function(){t.appendAjax(e)},n)}var i=e.success,r=e.error,o="nodeLoaded.dynatree."+this.tree.$tree.attr("id")+"."+this.data.key,a=$.extend({},this.tree.options.ajaxDefaults,e,{success:function(e,n,r){var a=t.tree.phase,s=t.tree.options;t.tree.phase="init",s.postProcess?e=s.postProcess.call(this,e,this.dataType):e&&e.hasOwnProperty("d")&&(e="string"==typeof e.d?$.parseJSON(e.d):e.d),$.isArray(e)&&0===e.length||t.addChild(e,null),t.tree.phase="postInit",i&&i.call(s,t,e,n),t.tree.logDebug("trigger "+o),t.tree.$tree.trigger(o,[t,!0]),t.tree.phase=a,t.setLazyNodeStatus(DTNodeStatus_Ok),$.isArray(e)&&0===e.length&&(t.childList=[],t.render())},error:function(e,n,i){t.tree.logWarning("appendAjax failed:",n,":\n",e,"\n",i),r&&r.call(a,t,e,n,i),t.tree.$tree.trigger(o,[t,!1]),t.setLazyNodeStatus(DTNodeStatus_Error,{info:n,tooltip:""+i})}});$.ajax(a)},move:function(e,t){var n;if(this!==e){if(!this.parent)throw"Cannot move system root";void 0!==t&&"over"!=t||(t="child");var i=this.parent,r="child"===t?e:e.parent;if(r.isDescendantOf(this))throw"Cannot move a node to it's own descendant";if(1==this.parent.childList.length)this.parent.childList=this.parent.data.isLazy?[]:null,this.parent.bExpanded=!1;else{if((n=$.inArray(this,this.parent.childList))<0)throw"Internal error";this.parent.childList.splice(n,1)}if(this.parent.ul&&this.li&&this.parent.ul.removeChild(this.li),this.parent=r,r.hasChildren())switch(t){case"child":r.childList.push(this);break;case"before":if((n=$.inArray(e,r.childList))<0)throw"Internal error";r.childList.splice(n,0,this);break;case"after":if((n=$.inArray(e,r.childList))<0)throw"Internal error";r.childList.splice(n+1,0,this);break;default:throw"Invalid mode "+t}else r.childList=[this];if(r.ul||(r.ul=document.createElement("ul"),r.ul.style.display="none",r.li&&r.li.appendChild(r.ul)),this.li&&r.ul.appendChild(this.li),this.tree!==e.tree)throw this.visit(function(t){t.tree=e.tree},null,!0),"Not yet implemented.";i.isDescendantOf(r)||i.render(),r.isDescendantOf(i)||r.render()}},lastentry:void 0};var DynaTreeStatus=Class.create();DynaTreeStatus._getTreePersistData=function(e,t){var n=new DynaTreeStatus(e,t);return n.read(),n.toDict()},getDynaTreePersistData=DynaTreeStatus._getTreePersistData,DynaTreeStatus.prototype={initialize:function(e,t){void 0===e&&(e=$.ui.dynatree.prototype.options.cookieId),t=$.extend({},$.ui.dynatree.prototype.options.cookie,t),this.cookieId=e,this.cookieOpts=t,this.cookiesFound=void 0,this.activeKey=null,this.focusedKey=null,this.expandedKeyList=null,this.selectedKeyList=null},_log:function(e){Array.prototype.unshift.apply(arguments,["debug"]),_log.apply(this,arguments)},read:function(){this.cookiesFound=!1;var e=$.cookie(this.cookieId+"-active");this.activeKey=e||"",e&&(this.cookiesFound=!0),e=$.cookie(this.cookieId+"-focus"),this.focusedKey=e||"",e&&(this.cookiesFound=!0),e=$.cookie(this.cookieId+"-expand"),this.expandedKeyList=e?e.split(","):[],e&&(this.cookiesFound=!0),e=$.cookie(this.cookieId+"-select"),this.selectedKeyList=e?e.split(","):[],e&&(this.cookiesFound=!0)},write:function(){$.cookie(this.cookieId+"-active",null===this.activeKey?"":this.activeKey,this.cookieOpts),$.cookie(this.cookieId+"-focus",null===this.focusedKey?"":this.focusedKey,this.cookieOpts),$.cookie(this.cookieId+"-expand",null===this.expandedKeyList?"":this.expandedKeyList.join(","),this.cookieOpts),$.cookie(this.cookieId+"-select",null===this.selectedKeyList?"":this.selectedKeyList.join(","),this.cookieOpts)},addExpand:function(e){$.inArray(e,this.expandedKeyList)<0&&(this.expandedKeyList.push(e),$.cookie(this.cookieId+"-expand",this.expandedKeyList.join(","),this.cookieOpts))},clearExpand:function(e){var t=$.inArray(e,this.expandedKeyList);t>=0&&(this.expandedKeyList.splice(t,1),$.cookie(this.cookieId+"-expand",this.expandedKeyList.join(","),this.cookieOpts))},addSelect:function(e){$.inArray(e,this.selectedKeyList)<0&&(this.selectedKeyList.push(e),$.cookie(this.cookieId+"-select",this.selectedKeyList.join(","),this.cookieOpts))},clearSelect:function(e){var t=$.inArray(e,this.selectedKeyList);t>=0&&(this.selectedKeyList.splice(t,1),$.cookie(this.cookieId+"-select",this.selectedKeyList.join(","),this.cookieOpts))},isReloading:function(){return!0===this.cookiesFound},toDict:function(){return{cookiesFound:this.cookiesFound,activeKey:this.activeKey,focusedKey:this.activeKey,expandedKeyList:this.expandedKeyList,selectedKeyList:this.selectedKeyList}},lastentry:void 0};var DynaTree=Class.create();function _initDragAndDrop(e){var t=e.options.dnd||null;t&&(t.onDragStart||t.onDrop)&&_registerDnd(),t&&t.onDragStart&&e.$tree.draggable({addClasses:!1,appendTo:"body",containment:!1,delay:0,distance:4,revert:!0===t.revert&&function(e){if(logMsg("draggable.revert(), dropped=",e),"boolean"==typeof e)return!e;var t=$.ui.ddmanager&&$.ui.ddmanager.current&&$.ui.ddmanager.current.helper;return t&&t.hasClass("dynatree-drop-reject")},scroll:!0,scrollSpeed:7,scrollSensitivity:10,connectToDynatree:!0,helper:function(e){var t=$.ui.dynatree.getNode(e.target);return t?t.tree._onDragEvent("helper",t,null,e,null,null):"<div></div>"},start:function(e,t){return!!t.helper.data("dtSourceNode")}}),t&&t.onDrop&&e.$tree.droppable({addClasses:!1,tolerance:"pointer",greedy:!1})}DynaTree.version="@@Version",DynaTree.prototype={initialize:function(e){this.phase="init",this.$widget=e,this.options=e.options,this.$tree=e.element,this.timer=null,this.divTree=this.$tree.get(0),_initDragAndDrop(this)},_load:function(e){this.$widget;var t=this.options,n=this;this.bEnableUpdate=!0,this._nodeCount=1,this.activeNode=null,this.focusNode=null,void 0!==t.rootVisible&&this.logWarning("Option 'rootVisible' is no longer supported."),t.minExpandLevel<1&&(this.logWarning("Option 'minExpandLevel' must be >= 1."),t.minExpandLevel=1),t.classNames!==$.ui.dynatree.prototype.options.classNames&&(t.classNames=$.extend({},$.ui.dynatree.prototype.options.classNames,t.classNames)),t.ajaxDefaults!==$.ui.dynatree.prototype.options.ajaxDefaults&&(t.ajaxDefaults=$.extend({},$.ui.dynatree.prototype.options.ajaxDefaults,t.ajaxDefaults)),t.dnd!==$.ui.dynatree.prototype.options.dnd&&(t.dnd=$.extend({},$.ui.dynatree.prototype.options.dnd,t.dnd)),t.imagePath||$("script").each(function(){if(this.src.search(/.*dynatree[^\/]*\.js$/i)>=0)return this.src.indexOf("/")>=0?t.imagePath=this.src.slice(0,this.src.lastIndexOf("/"))+"/skin/":t.imagePath="skin/",n.logDebug("Guessing imagePath from '%s': '%s'",this.src,t.imagePath),!1}),this.persistence=new DynaTreeStatus(t.cookieId,t.cookie),t.persist&&($.cookie||_log("warn","Please include jquery.cookie.js to use persistence."),this.persistence.read()),this.logDebug("DynaTree.persistence: %o",this.persistence.toDict()),this.cache={tagEmpty:"<span class='"+t.classNames.empty+"'></span>",tagVline:"<span class='"+t.classNames.vline+"'></span>",tagExpander:"<span class='"+t.classNames.expander+"'></span>",tagConnector:"<span class='"+t.classNames.connector+"'></span>",tagNodeIcon:"<span class='"+t.classNames.nodeIcon+"'></span>",tagCheckbox:"<span class='"+t.classNames.checkbox+"'></span>",lastentry:void 0},(t.children||t.initAjax&&t.initAjax.url||t.initId)&&$(this.divTree).empty();var i=this.$tree.find(">ul:first").hide();this.tnRoot=new DynaTreeNode(null,this,{}),this.tnRoot.bExpanded=!0,this.tnRoot.render(),this.divTree.appendChild(this.tnRoot.ul);var r=this.tnRoot,o=t.persist&&this.persistence.isReloading(),a=!1,s=this.enableUpdate(!1);this.logDebug("Dynatree._load(): read tree structure..."),t.children?r.addChild(t.children):t.initAjax&&t.initAjax.url?(a=!0,r.data.isLazy=!0,this._reloadAjax(e)):t.initId?this._createFromTag(r,$("#"+t.initId)):(this._createFromTag(r,i),i.remove()),this._checkConsistency(),a||3!=t.selectMode||r._updatePartSelectionState(),this.logDebug("Dynatree._load(): render nodes..."),this.enableUpdate(s),this.logDebug("Dynatree._load(): bind events..."),this.$widget.bind(),this.logDebug("Dynatree._load(): postInit..."),this.phase="postInit",t.persist&&this.persistence.write(),this.focusNode&&this.focusNode.isVisible()&&(this.logDebug("Focus on init: %o",this.focusNode),this.focusNode.focus()),a||(t.onPostInit&&t.onPostInit.call(this,o,!1),e&&e.call(this,"ok")),this.phase="idle"},_reloadAjax:function(e){var t=this.options;if(!t.initAjax||!t.initAjax.url)throw"tree.reload() requires 'initAjax' mode.";var n=this.persistence,i=$.extend({},t.initAjax);i.addActiveKey&&(i.data.activeKey=n.activeKey),i.addFocusedKey&&(i.data.focusedKey=n.focusedKey),i.addExpandedKeyList&&(i.data.expandedKeyList=n.expandedKeyList.join(",")),i.addSelectedKeyList&&(i.data.selectedKeyList=n.selectedKeyList.join(",")),i.success&&this.logWarning("initAjax: success callback is ignored; use onPostInit instead."),i.error&&this.logWarning("initAjax: error callback is ignored; use onPostInit instead.");var r=n.isReloading();i.success=function(n,i,o){3==t.selectMode&&n.tree.tnRoot._updatePartSelectionState(),t.onPostInit&&t.onPostInit.call(n.tree,r,!1),e&&e.call(n.tree,"ok")},i.error=function(n,i,o,a){t.onPostInit&&t.onPostInit.call(n.tree,r,!0,i,o,a),e&&e.call(n.tree,"error",i,o,a)},this.logDebug("Dynatree._init(): send Ajax request..."),this.tnRoot.appendAjax(i)},toString:function(){return"Dynatree '"+this.$tree.attr("id")+"'"},toDict:function(e){var t=this.tnRoot.toDict(!0);return e?t:t.children},serializeArray:function(e){for(var t=this.getSelectedNodes(e),n=this.$tree.attr("name")||this.$tree.attr("id"),i=[],r=0,o=t.length;r<o;r++)i.push({name:n,value:t[r].data.key});return i},getPersistData:function(){return this.persistence.toDict()},logDebug:function(e){this.options.debugLevel>=2&&(Array.prototype.unshift.apply(arguments,["debug"]),_log.apply(this,arguments))},logInfo:function(e){this.options.debugLevel>=1&&(Array.prototype.unshift.apply(arguments,["info"]),_log.apply(this,arguments))},logWarning:function(e){Array.prototype.unshift.apply(arguments,["warn"]),_log.apply(this,arguments)},isInitializing:function(){return"init"==this.phase||"postInit"==this.phase},isReloading:function(){return("init"==this.phase||"postInit"==this.phase)&&this.options.persist&&this.persistence.cookiesFound},isUserEvent:function(){return"userEvent"==this.phase},redraw:function(){this.tnRoot.render(!1,!1)},renderInvisibleNodes:function(){this.tnRoot.render(!1,!0)},reload:function(e){this._load(e)},getRoot:function(){return this.tnRoot},enable:function(){this.$widget.enable()},disable:function(){this.$widget.disable()},getNodeByKey:function(e){var t=document.getElementById(this.options.idPrefix+e);if(t)return t.dtnode?t.dtnode:null;var n=null;return this.visit(function(t){if(t.data.key===e)return n=t,!1},!0),n},getActiveNode:function(){return this.activeNode},reactivate:function(e){var t=this.activeNode;t&&(this.activeNode=null,t.activate(),e&&t.focus())},getSelectedNodes:function(e){var t=[];return this.tnRoot.visit(function(n){if(n.bSelected&&(t.push(n),!0===e))return"skip"}),t},activateKey:function(e){var t=null===e?null:this.getNodeByKey(e);return t?(t.focus(),t.activate(),t):(this.activeNode&&this.activeNode.deactivate(),this.activeNode=null,null)},loadKeyPath:function(e,t){var n=e.split(this.options.keyPathSeparator);return""===n[0]&&n.shift(),n[0]==this.tnRoot.data.key&&(this.logDebug("Removed leading root key."),n.shift()),e=n.join(this.options.keyPathSeparator),this.tnRoot._loadKeyPath(e,t)},selectKey:function(e,t){var n=this.getNodeByKey(e);return n?(n.select(t),n):null},enableUpdate:function(e){return this.bEnableUpdate==e?e:(this.bEnableUpdate=e,e&&this.redraw(),!e)},count:function(){return this.tnRoot.countChildren()},visit:function(e,t){return this.tnRoot.visit(e,t)},_createFromTag:function(parentTreeNode,$ulParent){var self=this;$ulParent.find(">li").each(function(){var $li=$(this),$liSpan=$li.find(">span:first"),$liA=$li.find(">a:first"),title,href=null,target=null,tooltip;if($liSpan.length)title=$liSpan.html();else if($liA.length)title=$liA.html(),href=$liA.attr("href"),target=$liA.attr("target"),tooltip=$liA.attr("title");else{title=$li.html();var iPos=title.search(/<ul/i);title=iPos>=0?$.trim(title.substring(0,iPos)):$.trim(title)}var data={title:title,tooltip:tooltip,isFolder:$li.hasClass("folder"),isLazy:$li.hasClass("lazy"),expand:$li.hasClass("expanded"),select:$li.hasClass("selected"),activate:$li.hasClass("active"),focus:$li.hasClass("focused"),noLink:$li.hasClass("noLink")};if(href&&(data.href=href,data.target=target),$li.attr("title")&&(data.tooltip=$li.attr("title")),$li.attr("id")&&(data.key=""+$li.attr("id")),$li.attr("data")){var dataAttr=$.trim($li.attr("data"));if(dataAttr){"{"!=dataAttr.charAt(0)&&(dataAttr="{"+dataAttr+"}");try{$.extend(data,eval("("+dataAttr+")"))}catch(e){throw"Error parsing node data: "+e+"\ndata:\n'"+dataAttr+"'"}}}var childNode=parentTreeNode.addChild(data),$ul=$li.find(">ul:first");$ul.length&&self._createFromTag(childNode,$ul)})},_checkConsistency:function(){},_setDndStatus:function(e,t,n,i,r){var o,a=e?$(e.span):null,s=$(t.span),l=0,c="center";if(this.$dndMarker||(this.$dndMarker=$("<div id='dynatree-drop-marker'></div>").hide().css({"z-index":1e3}).prependTo($(this.divTree).parent())),"after"===i||"before"===i||"over"===i){switch(i){case"before":this.$dndMarker.removeClass("dynatree-drop-after dynatree-drop-over"),this.$dndMarker.addClass("dynatree-drop-before"),c="top";break;case"after":this.$dndMarker.removeClass("dynatree-drop-before dynatree-drop-over"),this.$dndMarker.addClass("dynatree-drop-after"),c="bottom";break;default:this.$dndMarker.removeClass("dynatree-drop-after dynatree-drop-before"),this.$dndMarker.addClass("dynatree-drop-over"),s.addClass("dynatree-drop-target"),l=8}o=jquerySupports.positionMyOfs?{my:"left"+offsetString(l)+" center",at:"left "+c,of:s}:{my:"left center",at:"left "+c,of:s,offset:l+" 0"},this.$dndMarker.show().position(o)}else s.removeClass("dynatree-drop-target"),this.$dndMarker.hide();"after"===i?s.addClass("dynatree-drop-after"):s.removeClass("dynatree-drop-after"),"before"===i?s.addClass("dynatree-drop-before"):s.removeClass("dynatree-drop-before"),!0===r?(a&&a.addClass("dynatree-drop-accept"),s.addClass("dynatree-drop-accept"),n.addClass("dynatree-drop-accept")):(a&&a.removeClass("dynatree-drop-accept"),s.removeClass("dynatree-drop-accept"),n.removeClass("dynatree-drop-accept")),!1===r?(a&&a.addClass("dynatree-drop-reject"),s.addClass("dynatree-drop-reject"),n.addClass("dynatree-drop-reject")):(a&&a.removeClass("dynatree-drop-reject"),s.removeClass("dynatree-drop-reject"),n.removeClass("dynatree-drop-reject"))},_onDragEvent:function(e,t,n,i,r,o){var a,s,l,c=this.options.dnd,u=null,d=$(t.span);switch(e){case"helper":var h=$("<div class='dynatree-drag-helper'><span class='dynatree-drag-helper-img' /></div>").append(d.find(".dynatree-title").clone());$("ul.dynatree-container",t.tree.divTree).append(h),h.data("dtSourceNode",t),u=h;break;case"start":t.isStatusNode()?u=!1:c.onDragStart&&(u=c.onDragStart(t)),!1===u?(this.logDebug("tree.onDragStart() cancelled"),r.helper.trigger("mouseup"),r.helper.hide()):d.addClass("dynatree-drag-source");break;case"enter":u=!!(l=c.onDragEnter?c.onDragEnter(t,n,r,o):null)&&($.isArray(l)?{over:$.inArray("over",l)>=0,before:$.inArray("before",l)>=0,after:$.inArray("after",l)>=0}:{over:!0===l||"over"===l,before:!0===l||"before"===l,after:!0===l||"after"===l}),r.helper.data("enterResponse",u);break;case"over":if(a=null,!1===(s=r.helper.data("enterResponse")));else if("string"==typeof s)a=s;else{var f=d.offset(),p={x:i.pageX-f.left,y:i.pageY-f.top},m={x:p.x/d.width(),y:p.y/d.height()};s.after&&m.y>.75?a="after":!s.over&&s.after&&m.y>.5?a="after":s.before&&m.y<=.25?a="before":!s.over&&s.before&&m.y<=.5?a="before":s.over&&(a="over"),c.preventVoidMoves&&(t===n?a=null:"before"===a&&n&&t===n.getNextSibling()?a=null:"after"===a&&n&&t===n.getPrevSibling()?a=null:"over"===a&&n&&n.parent===t&&n.isLastSibling()&&(a=null)),r.helper.data("hitMode",a)}"over"===a&&c.autoExpandMS&&!1!==t.hasChildren()&&!t.bExpanded&&t.scheduleAction("expand",c.autoExpandMS),a&&c.onDragOver&&("over"!==(u=c.onDragOver(t,n,a,r,o))&&"before"!==u&&"after"!==u||(a=u)),this._setDndStatus(n,t,r.helper,a,!1!==u&&null!==a);break;case"drop":var g=r.helper.hasClass("dynatree-drop-reject");(a=r.helper.data("hitMode"))&&c.onDrop&&!g&&c.onDrop(t,n,a,r,o);break;case"leave":t.scheduleAction("cancel"),r.helper.data("enterResponse",null),r.helper.data("hitMode",null),this._setDndStatus(n,t,r.helper,"out",void 0),c.onDragLeave&&c.onDragLeave(t,n,r,o);break;case"stop":d.removeClass("dynatree-drag-source"),c.onDragStop&&c.onDragStop(t);break;default:throw"Unsupported drag event: "+e}return u},cancelDrag:function(){var e=$.ui.ddmanager.current;e&&e.cancel()},lastentry:void 0},$.widget("ui.dynatree",{_init:function(){if(versionCompare($.ui.version,"1.8")<0)return this.options.debugLevel>=0&&_log("warn","ui.dynatree._init() was called; you should upgrade to jquery.ui.core.js v1.8 or higher."),this._create();this.options.debugLevel>=2&&_log("debug","ui.dynatree._init() was called; no current default functionality.")},_create:function(){this.options.debugLevel>=1&&logMsg("Dynatree._create(): version='%s', debugLevel=%o.",$.ui.dynatree.version,this.options.debugLevel),this.options.event+=".dynatree";this.element.get(0);this.tree=new DynaTree(this),this.tree._load(),this.tree.logDebug("Dynatree._init(): done.")},bind:function(){this.unbind();var e="click.dynatree dblclick.dynatree";function t(e){e=$.event.fix(e||window.event);var t=$.ui.dynatree.getNode(e.target);return!!t&&t._onFocus(e)}this.options.keyboard&&(e+=" keypress.dynatree keydown.dynatree"),this.element.bind(e,function(e){var t=$.ui.dynatree.getNode(e.target);if(!t)return!0;var n=t.tree,i=n.options;n.logDebug("event(%s): dtnode: %s",e.type,t);var r=n.phase;n.phase="userEvent";try{switch(e.type){case"click":return(!i.onClick||!1!==i.onClick.call(n,t,e))&&t._onClick(e);case"dblclick":return(!i.onDblClick||!1!==i.onDblClick.call(n,t,e))&&t._onDblClick(e);case"keydown":return(!i.onKeydown||!1!==i.onKeydown.call(n,t,e))&&t._onKeydown(e);case"keypress":return(!i.onKeypress||!1!==i.onKeypress.call(n,t,e))&&t._onKeypress(e)}}catch(i){n.logWarning("bind(%o): dtnode: %o, error: %o",e,t,i)}finally{n.phase=r}});var n=this.tree.divTree;n.addEventListener?(n.addEventListener("focus",t,!0),n.addEventListener("blur",t,!0)):n.onfocusin=n.onfocusout=t},unbind:function(){this.element.unbind(".dynatree")},enable:function(){this.bind(),$.Widget.prototype.enable.apply(this,arguments)},disable:function(){this.unbind(),$.Widget.prototype.disable.apply(this,arguments)},getTree:function(){return this.tree},getRoot:function(){return this.tree.getRoot()},getActiveNode:function(){return this.tree.getActiveNode()},getSelectedNodes:function(){return this.tree.getSelectedNodes()},lastentry:void 0}),versionCompare($.ui.version,"1.8")<0&&($.ui.dynatree.getter="getTree getRoot getActiveNode getSelectedNodes"),$.extend($.ui.dynatree,{version:"1.2.8",buildType:"release",_DynaTreeClass:DynaTree,_DynaTreeNodeClass:DynaTreeNode,getNode:function(e){if(e instanceof DynaTreeNode)return e;for(void 0!==e.selector&&(e=e[0]);e;){if(e.dtnode)return e.dtnode;e=e.parentNode}return null},getPersistData:DynaTreeStatus._getTreePersistData}),$.ui.dynatree.prototype.options={title:"Dynatree",minExpandLevel:1,imagePath:null,children:null,initId:null,initAjax:null,autoFocus:!0,keyboard:!0,persist:!1,autoCollapse:!1,clickFolderMode:3,activeVisible:!0,checkbox:!1,selectMode:2,fx:null,noLink:!1,onClick:null,onDblClick:null,onKeydown:null,onKeypress:null,onFocus:null,onBlur:null,onQueryActivate:null,onQuerySelect:null,onQueryExpand:null,onPostInit:null,onActivate:null,onDeactivate:null,onSelect:null,onExpand:null,onLazyRead:null,onCustomRender:null,onCreate:null,onRender:null,postProcess:null,dnd:{onDragStart:null,onDragStop:null,revert:!1,autoExpandMS:1e3,preventVoidMoves:!0,onDragEnter:null,onDragOver:null,onDrop:null,onDragLeave:null},ajaxDefaults:{cache:!1,timeout:0,dataType:"json"},strings:{loading:"Loading&#8230;",loadError:"Load error!"},generateIds:!1,idPrefix:"dynatree-id-",keyPathSeparator:"/",cookieId:"dynatree",cookie:{expires:null},classNames:{container:"dynatree-container",node:"dynatree-node",folder:"dynatree-folder",empty:"dynatree-empty",vline:"dynatree-vline",expander:"dynatree-expander",connector:"dynatree-connector",checkbox:"dynatree-checkbox",radio:"dynatree-radio",nodeIcon:"dynatree-icon",title:"dynatree-title",noConnector:"dynatree-no-connector",nodeError:"dynatree-statusnode-error",nodeWait:"dynatree-statusnode-wait",hidden:"dynatree-hidden",combinedExpanderPrefix:"dynatree-exp-",combinedIconPrefix:"dynatree-ico-",nodeLoading:"dynatree-loading",hasChildren:"dynatree-has-children",active:"dynatree-active",selected:"dynatree-selected",expanded:"dynatree-expanded",lazy:"dynatree-lazy",focused:"dynatree-focused",partsel:"dynatree-partsel",lastsib:"dynatree-lastsib"},debugLevel:1,lastentry:void 0},versionCompare($.ui.version,"1.8")<0&&($.ui.dynatree.defaults=$.ui.dynatree.prototype.options),$.ui.dynatree.nodedatadefaults={title:null,key:null,isFolder:!1,isLazy:!1,tooltip:null,href:null,icon:null,addClass:null,noLink:!1,activate:!1,focus:!1,expand:!1,select:!1,hideCheckbox:!1,unselectable:!1,children:null,lastentry:void 0};var didRegisterDnd=!1,_registerDnd=function(){didRegisterDnd||($.ui.plugin.add("draggable","connectToDynatree",{start:function(e,t){var n=$(this).data("ui-draggable")||$(this).data("draggable"),i=t.helper.data("dtSourceNode")||null;if(i)return n.offset.click.top=-2,n.offset.click.left=16,i.tree._onDragEvent("start",i,null,e,t,n)},drag:function(e,t){var n=$(this).data("ui-draggable")||$(this).data("draggable"),i=t.helper.data("dtSourceNode")||null,r=t.helper.data("dtTargetNode")||null,o=$.ui.dynatree.getNode(e.target);if(e.target&&!o&&$(e.target).closest("div.dynatree-drag-helper,#dynatree-drop-marker").length>0)return;t.helper.data("dtTargetNode",o),r&&r!==o&&r.tree._onDragEvent("leave",r,i,e,t,n),o&&o.tree.options.dnd.onDrop&&(o===r?o.tree._onDragEvent("over",o,i,e,t,n):o.tree._onDragEvent("enter",o,i,e,t,n))},stop:function(e,t){var n=$(this).data("ui-draggable")||$(this).data("draggable"),i=t.helper.data("dtSourceNode")||null,r=t.helper.data("dtTargetNode")||null,o="mouseup"==e.type&&1==e.which;logMsg("draggable-connectToDynatree.stop: targetNode(from event): %s, dtTargetNode: %s",r,t.helper.data("dtTargetNode")),o||logMsg("Drag was cancelled"),r&&(o&&r.tree._onDragEvent("drop",r,i,e,t,n),r.tree._onDragEvent("leave",r,i,e,t,n)),i&&i.tree._onDragEvent("stop",i,null,e,t,n)}}),didRegisterDnd=!0)}}(jQuery)},function(e,t,n){!function(e){e.fn.extend({complexify:function(t,n){var i=49,r=120,o=[[32,32],[48,57],[65,90],[97,122],[33,47],[58,64],[91,96],[123,126],[128,255],[256,383],[384,591],[592,687],[688,767],[768,879],[880,1023],[1024,1279],[1328,1423],[1424,1535],[1536,1791],[1792,1871],[1920,1983],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3456,3583],[3584,3711],[3712,3839],[3840,4095],[4096,4255],[4256,4351],[4352,4607],[4608,4991],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[7680,7935],[7936,8191],[8192,8303],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703],[8704,8959],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[10240,10495],[11904,12031],[12032,12255],[12272,12287],[12288,12351],[12352,12447],[12448,12543],[12544,12591],[12592,12687],[12688,12703],[12704,12735],[12800,13055],[13056,13311],[13312,19893],[19968,40959],[40960,42127],[42128,42191],[44032,55203],[55296,56191],[56192,56319],[56320,57343],[57344,63743],[63744,64255],[64256,64335],[64336,65023],[65056,65071],[65072,65103],[65104,65135],[65136,65278],[65279,65279],[65280,65519],[65520,65533]],a={minimumChars:8,strengthScaleFactor:1,bannedPasswords:window.COMPLEXIFY_BANLIST||[],banMode:"strict"};function s(e,t){for(var n=e.length-1;n>=0;n--)if(t[0]<=e.charCodeAt(n)&&e.charCodeAt(n)<=t[1])return t[1]-t[0]+1;return 0}function l(){var a,l=e(this).val(),c=0;if(function(n){if("strict"===t.banMode){for(var i=0;i<t.bannedPasswords.length;i++)if(-1!==n.toLowerCase().indexOf(t.bannedPasswords[i].toLowerCase()))return!0;return!1}return e.inArray(n,t.bannedPasswords)>-1}(l))c=1;else for(var u=o.length-1;u>=0;u--)c+=s(l,o[u]);a=(c=Math.log(Math.pow(c,l.length))*(1/t.strengthScaleFactor))>i&&l.length>=t.minimumChars,c=(c=c/r*100)>100?100:c,n.call(this,a,c)}return e.isFunction(t)&&!n&&(n=t,t={}),t=e.extend(a,t),this.each(function(){e(this).val()&&l.apply(this)}),this.each(function(){e(this).bind("keyup focus input propertychange mouseup",l)})}})}(n(46))},function(e,t,n){
/*!
 * jQuery Migrate - v1.4.1 - 2016-05-19
 * Copyright jQuery Foundation and other contributors
 */
!function(e,t,n){e.migrateVersion="1.4.1";var i={};function r(n){var r=t.console;i[n]||(i[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn("JQMIGRATE: "+n),e.migrateTrace&&r.trace&&r.trace()))}function o(t,n,i,o){if(Object.defineProperty)try{return void Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return r(o),i},set:function(e){r(o),i=e}})}catch(e){}e._definePropertyBroken=!0,t[n]=i}e.migrateWarnings=[],t.console&&t.console.log&&t.console.log("JQMIGRATE: Migrate is installed"+(e.migrateMute?"":" with logging active")+", version "+e.migrateVersion),void 0===e.migrateTrace&&(e.migrateTrace=!0),e.migrateReset=function(){i={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var a=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,l=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){},u=/^(?:input|button)$/i,d=/^[238]$/,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;o(e,"attrFn",a||{},"jQuery.attrFn is deprecated"),e.attr=function(t,n,i,o){var l=n.toLowerCase(),c=t&&t.nodeType;return o&&(s.length<4&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(c)&&(a?n in a:e.isFunction(e.fn[n])))?e(t)[n](i):("type"===n&&void 0!==i&&u.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[l]&&h.test(l)&&(e.attrHooks[l]={get:function(t,n){var i,r=e.prop(t,n);return!0===r||"boolean"!=typeof r&&(i=t.getAttributeNode(n))&&!1!==i.nodeValue?n.toLowerCase():void 0},set:function(t,n,i){var r;return!1===n?e.removeAttr(t,i):((r=e.propFix[i]||i)in t&&(t[r]=!0),t.setAttribute(i,i.toLowerCase())),i}},f.test(l)&&r("jQuery.fn.attr('"+l+"') might use property instead of attribute")),s.call(e,t,n,i))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?l.apply(this,arguments):("input"!==n&&"option"!==n&&r("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var n=(e.nodeName||"").toLowerCase();if("button"===n)return c.apply(this,arguments);"input"!==n&&"option"!==n&&r("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t}};var p,m,g,_=e.fn.init,v=e.find,y=e.parseJSON,b=/^\s*</,w=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,k=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,M=/^([^<]*)(<[\w\W]+>)([^>]*)$/;for(g in e.fn.init=function(t,n,i){var o,a;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(o=M.exec(e.trim(t)))&&o[0]&&(b.test(t)||r("$(html) HTML strings must start with '<' character"),o[3]&&r("$(html) HTML text after last tag is ignored"),"#"===o[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&n.context.nodeType&&(n=n.context),e.parseHTML)?_.call(this,e.parseHTML(o[2],n&&n.ownerDocument||n||document,!0),n,i):(a=_.apply(this,arguments),t&&void 0!==t.selector?(a.selector=t.selector,a.context=t.context):(a.selector="string"==typeof t?t:"",t&&(a.context=t.nodeType?t:n||document)),a)},e.fn.init.prototype=e.fn,e.find=function(e){var t=Array.prototype.slice.call(arguments);if("string"==typeof e&&w.test(e))try{document.querySelector(e)}catch(n){e=e.replace(k,function(e,t,n,i){return"["+t+n+'"'+i+'"]'});try{document.querySelector(e),r("Attribute selector with '#' must be quoted: "+t[0]),t[0]=e}catch(e){r("Attribute selector with '#' was not fixed: "+t[0])}}return v.apply(this,t)},v)Object.prototype.hasOwnProperty.call(v,g)&&(e.find[g]=v[g]);e.parseJSON=function(e){return e?y.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(m={},(p=e.uaMatch(navigator.userAgent)).browser&&(m[p.browser]=!0,m.version=p.version),m.chrome?m.webkit=!0:m.webkit&&(m.safari=!0),e.browser=m),o(e,"browser",e.browser,"jQuery.browser is deprecated"),e.boxModel=e.support.boxModel="CSS1Compat"===document.compatMode,o(e,"boxModel",e.boxModel,"jQuery.boxModel is deprecated"),o(e.support,"boxModel",e.support.boxModel,"jQuery.support.boxModel is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,r){var o=e.fn.init.call(this,i,r,n);return o instanceof t?o:t(o)},t.fn.init.prototype=t.fn;var n=t(document);return r("jQuery.sub() is deprecated"),t},e.fn.size=function(){return r("jQuery.fn.size() is deprecated; use the .length property"),this.length};var x=!1;e.swap&&e.each(["height","width","reliableMarginRight"],function(t,n){var i=e.cssHooks[n]&&e.cssHooks[n].get;i&&(e.cssHooks[n].get=function(){var e;return x=!0,e=i.apply(this,arguments),x=!1,e})}),e.swap=function(e,t,n,i){var o,a,s={};for(a in x||r("jQuery.swap() is undocumented and deprecated"),t)s[a]=e.style[a],e.style[a]=t[a];for(a in o=n.apply(e,i||[]),t)e.style[a]=s[a];return o},e.ajaxSetup({converters:{"text json":e.parseJSON}});var C=e.fn.data;e.fn.data=function(t){var n,i,o=this[0];return!o||"events"!==t||1!==arguments.length||(n=e.data(o,t),i=e._data(o,t),void 0!==n&&n!==i||void 0===i)?C.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),i)};var S=/\/(java|ecma)script/i;e.clean||(e.clean=function(t,n,i,o){n=(n=!(n=n||document).nodeType&&n[0]||n).ownerDocument||n,r("jQuery.clean() is deprecated");var a,s,l,c,u=[];if(e.merge(u,e.buildFragment(t,n).childNodes),i)for(l=function(e){if(!e.type||S.test(e.type))return o?o.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e)},a=0;null!=(s=u[a]);a++)e.nodeName(s,"script")&&l(s)||(i.appendChild(s),void 0!==s.getElementsByTagName&&(c=e.grep(e.merge([],s.getElementsByTagName("script")),l),u.splice.apply(u,[a+1,0].concat(c)),a+=c.length));return u});var T=e.event.add,L=e.event.remove,E=e.event.trigger,D=e.fn.toggle,O=e.fn.live,A=e.fn.die,Y=e.fn.load,R="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",j=new RegExp("\\b(?:"+R+")\\b"),P=/(?:^|\s)hover(\.\S+|)\b/,N=function(t){return"string"!=typeof t||e.event.special.hover?t:(P.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(P,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&o(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,i,o){e!==document&&j.test(t)&&r("AJAX events should be attached to document: "+t),T.call(this,e,N(t||""),n,i,o)},e.event.remove=function(e,t,n,i,r){L.call(this,e,N(t)||"",n,i,r)},e.each(["load","unload","error"],function(t,n){e.fn[n]=function(){var e=Array.prototype.slice.call(arguments,0);return"load"===n&&"string"==typeof e[0]?Y.apply(this,e):(r("jQuery.fn."+n+"() is deprecated"),e.splice(0,0,n),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this))}}),e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return D.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var i=arguments,o=t.guid||e.guid++,a=0,s=function(n){var r=(e._data(this,"lastToggle"+t.guid)||0)%a;return e._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),i[r].apply(this,arguments)||!1};for(s.guid=o;a<i.length;)i[a++].guid=o;return this.click(s)},e.fn.live=function(t,n,i){return r("jQuery.fn.live() is deprecated"),O?O.apply(this,arguments):(e(this.context).on(t,this.selector,n,i),this)},e.fn.die=function(t,n){return r("jQuery.fn.die() is deprecated"),A?A.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,i){return n||j.test(e)||r("Global events are undocumented and deprecated"),E.call(this,e,t,n||document,i)},e.each(R.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,Array.prototype.slice.call(arguments,1),t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}}),e.event.special.ready={setup:function(){this===document&&r("'ready' event is deprecated")}};var H=e.fn.andSelf||e.fn.addBack,I=e.fn.find;if(e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),H.apply(this,arguments)},e.fn.find=function(e){var t=I.apply(this,arguments);return t.context=this.context,t.selector=this.selector?this.selector+" "+e:e,t},e.Callbacks){var F=e.Deferred,$=[["resolve","done",e.Callbacks("once memory"),e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory"),e.Callbacks("memory")]];e.Deferred=function(t){var n=F(),i=n.promise();return n.pipe=i.pipe=function(){var t=arguments;return r("deferred.pipe() is deprecated"),e.Deferred(function(r){e.each($,function(o,a){var s=e.isFunction(t[o])&&t[o];n[a[1]](function(){var t=s&&s.apply(this,arguments);t&&e.isFunction(t.promise)?t.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[a[0]+"With"](this===i?r.promise():this,s?[t]:arguments)})}),t=null}).promise()},n.isResolved=function(){return r("deferred.isResolved is deprecated"),"resolved"===n.state()},n.isRejected=function(){return r("deferred.isRejected is deprecated"),"rejected"===n.state()},t&&t.call(n,n),n}}}(n(46),window)},function(e,t){var n={__root:{"Analyze Data":!1,Workflow:!1,"Shared Data":!1,"Data Libraries":!1,Histories:!1,Workflows:!1,Visualizations:!1,Pages:!1,Visualization:!1,"New Track Browser":!1,"Saved Visualizations":!1,"Interactive Environments":!1,Admin:!1,Help:!1,Support:!1,Search:!1,"Mailing Lists":!1,Videos:!1,Wiki:!1,"How to Cite Galaxy":!1,"Interactive Tours":!1,User:!1,Login:!1,Register:!1,"Login or Register":!1,"Logged in as":!1,Preferences:!1,"Custom Builds":!1,Logout:!1,"Saved Histories":!1,"Saved Datasets":!1,"Saved Pages":!1,"Account and saved data":!1,"Account registration or login":!1,"Support, contact, and community":!1,"Administer this Galaxy":!1,"Visualize datasets":!1,"Access published resources":!1,"Chain tools into workflows":!1,"Analysis home view":!1,"History Lists":!1,"Histories Shared with Me":!1,"Current History":!1,"Create New":!1,"Copy History":!1,"Share or Publish":!1,"Show Structure":!1,"Extract Workflow":!1,"Delete Permanently":!1,"Dataset Actions":!1,"Copy Datasets":!1,"Dataset Security":!1,"Resume Paused Jobs":!1,"Collapse Expanded Datasets":!1,"Unhide Hidden Datasets":!1,"Delete Hidden Datasets":!1,"Purge Deleted Datasets":!1,Downloads:!1,"Export Tool Citations":!1,"Export History to File":!1,"Other Actions":!1,"Import from File":!1,Webhooks:!1,"This history is empty":!1,"No matching datasets found":!1,"An error occurred while getting updates from the server":!1,"Please contact a Galaxy administrator if the problem persists":!1,"search datasets":!1,"You are currently viewing a deleted history!":!1,"You are over your disk quota":!1,"Tool execution is on hold until your disk usage drops below your allocated quota":!1,All:!1,None:!1,"For all selected":!1,"Edit history tags":!1,"Edit history Annotation":!1,"Click to rename history":!1,"Operations on multiple datasets":!1,"Hide datasets":!1,"Unhide datasets":!1,"Delete datasets":!1,"Undelete datasets":!1,"Permanently delete datasets":!1,"This will permanently remove the data in your datasets. Are you sure?":!1,Dataset:!1,Annotation:!1,"This history is empty. Click 'Get Data' on the left tool menu to start":!1,"You must be logged in to create histories":!1,"Unable to purge dataset":!1,"Cannot display datasets removed from disk":!1,"This dataset must finish uploading before it can be viewed":!1,"This dataset is not yet viewable":!1,"View data":!1,Download:!1,"Download dataset":!1,"Additional files":!1,"View details":!1,"This is a new dataset and not all of its data are available yet":!1,"You do not have permission to view this dataset":!1,"The job creating this dataset was cancelled before completion":!1,"This job is waiting to run":!1,"This dataset is currently uploading":!1,"Metadata is being auto-detected":!1,"This job is currently running":!1,'This job is paused. Use the "Resume Paused Jobs" in the history menu to resume':!1,"An error occurred with this dataset":!1,"No data":!1,"An error occurred setting the metadata for this dataset":!1,"There was an error getting the data for this dataset":!1,"This dataset has been deleted and removed from disk":!1,"This dataset has been deleted":!1,"This dataset has been hidden":!1,format:!1,database:!1,"Edit attributes":!1,"Cannot edit attributes of datasets removed from disk":!1,"Undelete dataset to edit attributes":!1,"This dataset must finish uploading before it can be edited":!1,"This dataset is not yet editable":!1,Delete:!1,"Dataset is already deleted":!1,"View or report this error":!1,"Run this job again":!1,Visualize:!1,"Visualize in":!1,"Undelete it":!1,"Permanently remove it from disk":!1,"Unhide it":!1,"You may be able to":!1,"set it manually or retry auto-detection":!1,"Edit dataset tags":!1,"Edit dataset annotation":!1,"Tool Help":!1,"Reset passwords":!1,"Search Tool Shed":!1,"Monitor installing repositories":!1,"Manage installed tools":!1,"Reset metadata":!1,"Download local tool":!1,"Tool lineage":!1,"Reload a tool's configuration":!1,"Review tool migration stages":!1,"View Tool Error Logs":!1,"Manage Display Whitelist":!1,"Manage Tool Dependencies":!1,Users:!1,Groups:!1,"API keys":!1,"Impersonate a user":!1,Data:!1,Quotas:!1,Roles:!1,"Local data":!1,"Form Definitions":!1,"Enable/Disable Scratchbook":!1,"Show/Hide Scratchbook":!1,Tags:!1,"Edit annotation":!1,Subscript:!1,Superscript:!1,Trackster:!1,"Any additional comments you can provide regarding what you were doing at the time of the bug.":!1,"Your email address":!1,Report:!1,"Error Report":!1,"Dataset details":!1,"Save permissions.":!1,"Change the datatype to a new type.":!1,"Convert the datatype to a new format.":!1,"Save attributes of the dataset.":!1,"Change data type":!1,"Edit dataset attributes":!1,"Save permissions":!1,"Manage dataset permissions":!1,"Change datatype":!1,"Convert datatype":!1,"Convert to new format":!1,Save:!1,Permissions:!1,Datatypes:!1,Convert:!1,Attributes:!1,"Import into History":!1,"Location Details":!1,"Deleting selected items":!1,"Please select folders or files":!1,"Please enter paths to import":!1,"Adding datasets from your history":!1,"Create New Folder":!1,"Create New Library":!1,Tours:!1,"Click here to sign out of all sessions.":!1,"Add or remove custom builds using history datasets.":!1,"Associate OpenIDs with your account.":!1,"Customize your Toolbox by displaying or omitting sets of Tools.":!1,"Access your current API key or create a new one.":!1,"Enable or disable the communication feature to chat with other users.":!1,"Allows you to change your login credentials.":!1,"User Preferences":!1,"Sign out":!1,"Manage custom builds":!1,"Manage OpenIDs":!1,"Manage Toolbox filters":!1,"Manage API key":!1,"Set dataset permissions for new histories":!1,"Change communication settings":!1,"Change password":!1,"Manage information":!1,"Configured Galaxy Tool Sheds":!1,"Repository Installation Queue":!1,"Repository Status":!1,"Workflows Missing Tools":!1,"See in Tool Shed":!1,Requirements:!1,Share:!1,"Workflow submission failed":!1,"Run workflow":!1,"Job submission failed":!1,Execute:!1,"Tool request failed":!1,"Copy and insert individual steps":!1,Warning:!1,"An email notification will be sent when the job has completed.":!1,"Add a step label.":!1,"Assign columns":!1,"Delete this repeat block":!1,placeholder:!1,Repeat:!1,"Browse GenomeSpace":!1,Browse:!1,Error:!1,Close:!1,"Download from web or upload from disk":!1,Collection:!1,Composite:!1,Regular:!1,"Upload configuration":!1,"FTP files":!1,Reset:!1,Pause:!1,Start:!1,"Choose FTP file":!1,"Choose local file":!1,Build:!1,"Choose FTP files":!1,"Choose local files":!1,Select:!1,"Create a collection of paired datasets":!1,"View all histories":!1,"History options":!1,"Refresh history":!1,"View error logs":!1,"View migration stages":!1,"View lineage":!1,"Manage dependencies":!1,"Manage whitelist":!1,"Manage metadata":!1,"Manage tools":!1,"Monitor installation":!1,"Install new tools":!1,"Tool Management":!1,Forms:!1,"User Management":!1,"Manage jobs":!1,"Display applications":!1,"Data tables":!1,"Data types":!1,Server:!1,"Could Not Save":!1,"Saving...":!1,Settings:!1,"Add tracks":!1,"New Visualization":!1,"Add Data to Saved Visualization":!1,"Close visualization":!1,Circster:!1,Bookmarks:!1,"Add group":!1,"Remove parameter from tree":!1,"Add parameter to tree":!1,Remove:!1,"Select datasets for new tracks":!1,Libraries:!1,"Zoom out":!1,"Zoom in":!1,"Phyloviz Help":!1,"Save visualization":!1,"PhyloViz Settings":!1,Title:!1,"Filtering Dataset":!1,"Filter Dataset":!1,"Show individual tracks":!1,"Trackster Error":!1,"Tool parameter space visualization":!1,Tool:!1,"Set as overview":!1,"Set display mode":!1,Filters:!1,"Show composite track":!1,"Edit settings":!1,"Test title":!1,"Test Title":!1,"Test button":!1,title:!1,"Create new Build":!1,"Delete custom build.":!1,"Provide the data source.":!1,"Next in History":!1,"Previous in History":!1,"Chat online":!1,"Multiple collections":!1,"Dataset collections":!1,"Dataset collection":!1,"Multiple datasets":!1,"Single dataset":!1,"Download from URL or upload files from disk":!1,"tool tooltip":!1},__ja:{"Analyze Data":"データ解析",Workflow:"ワークフロー","Shared Data":"共有データ","Data Libraries":"データライブラリ",Histories:"ヒストリー",Workflows:"ワークフロー",Visualizations:"可視化",Pages:"ページ",Visualization:"可視化","New Track Browser":"新しい Track Browser","Saved Visualizations":"保存された可視化","Interactive Environments":"インタラクティブ環境",Admin:"管理者",Help:"ヘルプ",Support:"サポート",Search:"検索","Mailing Lists":"メーリングリスト",Videos:"動画","How to Cite Galaxy":"Galaxy を引用する方法","Interactive Tours":"インタラクティブツアー",User:"ユーザー",Login:"ログイン",Register:"登録","Login or Register":"ログイン/登録",Preferences:"設定","Custom Builds":"カスタムビルド",Logout:"ログアウト","Saved Histories":"保存されたヒストリ","Saved Datasets":"保存されたデータセット","Saved Pages":"保存されたページ","Account and saved data":"アカウントと保存されたデータ","Account registration or login":"アカウントの登録またはログイン","Support, contact, and community":"サポート、コンタクト、コミュニティ","Administer this Galaxy":"この Galaxy の管理者","Visualize datasets":"データセットの可視化","Access published resources":"パブリッシュされたリソースへアクセス","Chain tools into workflows":"ツールとワークフローの連携","Analysis home view":"解析ホーム","History Lists":"ヒストリーリスト","Histories Shared with Me":"私と共有されているヒストリー","Current History":"現在のヒストリー","Create New":"新しく作成","Copy History":"ヒストリーをコピーする","Share or Publish":"共有またはパブリッシュ","Show Structure":"構造を見る","Extract Workflow":"ワークフローを抽出","Delete Permanently":"永久に削除","Dataset Actions":"データセットの操作","Copy Datasets":"データセットをコピー","Dataset Security":"データセットのセキュリティ","Resume Paused Jobs":"一時停止したジョブの再開","Collapse Expanded Datasets":"展開されたデータセットを畳む","Unhide Hidden Datasets":"隠されたデータセットを表示する","Delete Hidden Datasets":"隠されたデータセットを削除する","Purge Deleted Datasets":"削除されたデータセットを永久に削除",Downloads:"ダウンロード","Export Tool Citations":"ツールの引用をエクスポート","Export History to File":"ヒストリーをファイルへエクスポート","Other Actions":"その他のアクション","Import from File":"ファイルからの読み込み",Webhooks:"Webhooks","This history is empty":"ヒストリーは空です","No matching datasets found":"一致するデータセットが見つかりませんでした","Search datasets":"データセットを検索する","You are currently viewing a deleted history!":"消去したヒストリーをみています。","You are over your disk quota":"あなたはディスククォータを超えている",All:"一式",None:"なし","For all selected":"各項目を","Edit history tags":"ヒストリーのタグを編集","Edit history annotation":"ヒストリーのアノテーションを編集","Click to rename history":"ヒストリーの名前を変更するにはクリック","Operations on multiple datasets":"複数のデータセットに対する操作","Permanently delete datasets":"永久にデータセットを削除","This will permanently remove the data in your datasets. Are you sure?":"これは永久にあなたのデータセット内のデータを削除します。本当に？",Dataset:"データセット","This history is empty. Click 'Get Data' on the left tool menu to start":"ヒストリーは空です。解析をはじめるには、左パネルの 'データ取得' をクリック","You must be logged in to create histories":"ヒストリーを作成するためにはログインする必要があります","View data":"データを表示",Download:"ダウンロード","Download dataset":"データセットをダウンロード","View details":"細部を表示","This job is waiting to run":"ジョブは実行待ちです","This job is currently running":"ジョブは実行中です","An error occurred with this dataset":"このジョブの実行中に発生したエラー","No data":"データ無し","This dataset has been deleted and removed from disk":"このデータセットは、永続的にディスクから削除されました","This dataset has been deleted":"このデータセットは削除されました","This dataset has been hidden":"このデータセットは、非表示にされた",format:"フォーマット",database:"データベース","Edit attributes":"変数を編集する",Delete:"削除する","View or report this error":"このエラーを届け出る","Run this job again":"もう一度このジョブを実行する",Visualize:"可視化する","Undelete it":"復元する","Permanently remove it from disk":"永久にディスクから削除","Unhide it":"非表示解除する","Search Tool Shed":"Tool Shed で探す","Search Tool Shed (Beta)":"Tool Shed (Beta) で探す","Monitor installing repositories":"インストールレポジトリのモニタ","Manage installed tools":"インストールしたツールの管理","Reset metadata":"メタデータのリセット","Download local tool":"ローカルツールのダウンロード","Tool lineage":"ツール系統","Reload a tool's configuration":"ツールのコンフィグのリロード","Review tool migration stages":"ツール移行ステージのレビュー","View Tool Error Logs":"ツールのエラーログ","Manage Display Whitelist":"表示ホワイトリストの管理","Manage Tool Dependencies":"ツール依存関係の管理",Users:"ユーザー",Groups:"グループ","API keys":"API キー","Impersonate a user":"ユーザー偽装",Data:"データ",Quotas:"クォータ",Roles:"ロール","Local data":"ローカルデータ","Form definitions":"フォーム定義",Administration:"管理",Server:"サーバー","Tools and Tool Shed":"ツールと Tool Shed","User Management":"ユーザ管理","Form Definitions":"フォーム定義","Your workflows":"あなたのワークフロー"},__fr:{"Analyze Data":"Analyse de données",Workflow:"Workflow","Shared Data":"Données partagées","Data Libraries":"Bibliothèque de données",Histories:!1,Workflows:!1,Visualizations:"Visualisations",Pages:"Pages",Visualization:!1,"New Track Browser":"Nouveau Navigateur de Tracks/Pistes","Saved Visualizations":"Visualisations sauvegardées","Interactive Environments":"Environnements interactifs",Admin:"Admin",Help:"Aide",Support:"Assistance",Search:!1,"Mailing Lists":"Liste de diffusion",Videos:"Vidéos",Wiki:"Documentations","How to Cite Galaxy":"Comment citer Galaxy","Interactive Tours":"Guides interactifs",User:"Utilisateur",Login:"Authentification",Register:"Enregistrement","Login or Register":"Authentification et Enregistrement","Logged in as":"Authentifié en tant que",Preferences:"Préférences","Custom Builds":"Mes génomes Builds de référence",Logout:"Déconnexion","Saved Histories":"Historiques sauvegardés","Saved Datasets":"Jeux de données sauvegardés","Saved Pages":"Pages sauvegardées","Account and saved data":"Compte et données sauvegardées","Account registration or login":"Enregistrement ou authentification","Support, contact, and community":"Support,contact et communauté","Administer this Galaxy":"Outils Admin","Visualize datasets":"Visualiser les jeux de données","Access published resources":"Accéder aux données partagées","Chain tools into workflows":"Relier outils dans un workflow","Analysis home view":"Accueil analyse de données","History Lists":"Tableaux des historiques","Histories Shared with Me":"Historiques partagés avec moi","Current History":"Cet Historique","Create New":"Créer un nouveau","Copy History":"Copier l'Historique","Share or Publish":"Partager et publier","Show Structure":"Montrer la structure","Extract Workflow":"Extraire un Workflow","Delete Permanently":"Supprimer définitivement","Dataset Actions":"Actions sur les jeux de données","Copy Datasets":"Copier des jeux de données","Dataset Security":"Permissions/Sécurité","Resume Paused Jobs":"Reprendre les processus en pause","Collapse Expanded Datasets":"Réduire les données étendues","Unhide Hidden Datasets":"Afficher les données cachées","Delete Hidden Datasets":"Supprimer les données cachées","Purge Deleted Datasets":"Purger les données supprimées",Downloads:"Télécharger","Export Tool Citations":"Exporter les citations des outils","Export History to File":"Exporter l'Historique dans un fichier","Other Actions":"Autres actions","Import from File":"Importer depuis un fichier",Webhooks:"Webhooks","This history is empty":"Cet historique est vide","No matching datasets found":"Aucunes données correspondantes n'ont été trouvées","An error occurred while getting updates from the server":"Une erreur s'est produite lors de la réception des données depuis le serveur","Please contact a Galaxy administrator if the problem persists":"Veuillez contacter un administrateur de l'instance Galaxy si ce problème persiste","search datasets":"Rechercher des données","You are currently viewing a deleted history!":"Vous consultez actuellement un historique supprimé!","You are over your disk quota":"Vous avez dépassé votre quota d'espace disque","Tool execution is on hold until your disk usage drops below your allocated quota":"L'exécution de l'outil est en attente tant que votre utilisation d'espace disque dépasse le quota attribué",All:"Tout",None:"Aucun","For all selected":"Pour toute la sélection","Edit history tags":"Editer les mots-clés de l'historique","Edit history Annotation":"Editer l'annotation de l'historique","Click to rename history":"Cliquer pour renommer l'historique","Operations on multiple datasets":"Opérer sur plusieurs jeux de données en même temps","Hide datasets":"Cacher les jeux de données","Unhide datasets":"Afficher les jeux de données cachés","Delete datasets":"Supprimer les jeux de données","Undelete datasets":"Restaurer les jeux de données supprimés","Permanently delete datasets":"Supprimer définitivement les jeux de données","This will permanently remove the data in your datasets. Are you sure?":"Cela supprimera de manière permanente les données de votre historique. Êtes-vous certain?",Dataset:"Jeu de données",Annotation:"Annotation","This history is empty. Click 'Get Data' on the left tool menu to start":"Cet historique est vide. Cliquer sur 'Get Data' au niveau du menu d'outils à gauche pour démarrer","You must be logged in to create histories":"Vous devez être connecté pour créer un historique","load your own data":"Charger vos propres données","get data from an external source":"Charger des données depuis une source externe","Include Deleted Datasets":"Inclure les jeux de données supprimés","Include Hidden Datasets":"Inclure les jeux de données cachés","Unable to purge dataset":"Impossible de purger le jeu de données","Cannot display datasets removed from disk":"Impossible de visualiser les jeux de données supprimés du disque","This dataset must finish uploading before it can be viewed":"Le jeu de données doit être totalement téléversé avant de pouvoir être visualiser","This dataset is not yet viewable":"Ce jeu de données n'est pas visualisable","View data":"Voir les données",Download:!1,"Download dataset":"Télécharger le jeu de données","Additional files":"Fichiers additionnels","View details":"Voir les détails","This is a new dataset and not all of its data are available yet":"Il s'agit d'un nouveau jeu de données et seule une partie des données est accessible pour le moment","You do not have permission to view this dataset":"Vous n'avez pas la permission de voir ce jeu de données","The job creating this dataset was cancelled before completion":"Le processus à l'origine de ce jeu de données a été annulé prématurément","This job is waiting to run":"Ce calcul est en attente de traitement","This dataset is currently uploading":"Ce jeu de données est en cours de téléversement","Metadata is being auto-detected":"Les métadonnées sont auto-détectées","This job is currently running":"Le traitement est en cours",'This job is paused. Use the "Resume Paused Jobs" in the history menu to resume':'Ce traitement est en pause. Utilisez le "Relancer les traitements en pause" dans le menu d\'historique pour le relancer',"An error occurred with this dataset":"Une erreur est survenue avec ce jeu de données","No data":"Aucune donnée","An error occurred setting the metadata for this dataset":"Une erreur est survenue pendant la récupération des métadonnées de ce jeu de données","There was an error getting the data for this dataset":"Il est survenu une erreur durant la récupération du contenu de ce jeu de données","This dataset has been deleted and removed from disk":"Ce jeu de données a été supprimé et effacé du disque","This dataset has been deleted":"Ce jeu de données a été supprimé","This dataset has been hidden":"Ce jeu de données a été caché",format:"format",database:"génome de référence","Edit attributes":"Editer les attributs","Cannot edit attributes of datasets removed from disk":"Impossible d'éditer les attributs de jeux de données effacés du disque","Undelete dataset to edit attributes":"Restaurer le jeu de données pour en éditer les attributs","This dataset must finish uploading before it can be edited":"Ce jeu de données doit être entièrement téléversé avant toute modification","This dataset is not yet editable":"Ce jeu de données n'est pas encore éditable",Delete:"Supprimer","Dataset is already deleted":"Le jeu de données est déjà supprimé","View or report this error":"Voir ou remonter cette erreur","Run this job again":"Exécuter ce traitement à nouveau",Visualize:!1,"Visualize in":"Visualiser via","Undelete it":"Restaurer","Permanently remove it from disk":"Supprimer définitivement du disque","Unhide it":"Rendre visible","You may be able to":"Vous devriez être en mesure de","set it manually or retry auto-detection":"Traitez le manuellement ou retenter la détection automatique","Edit dataset tags":"Editer les mots-clés du jeu de données","Edit dataset annotation":"Editer les annotations du jeu de données","Tool Help":"Aide outil","Reset passwords":"Réinitialiser les mots de passe","Search Tool Shed":"Chercher via un Tool Shed","Monitor installing repositories":"Contrôler les dépôts installés","Manage installed tools":"Gérer les outils installés","Reset metadata":"Réinitialiser les métadonnées","Download local tool":"Télécharger un outil en local","Tool lineage":"Affiliation des outils","Reload a tool's configuration":"Recharger une configuration d'outils","Review tool migration stages":"Vérifier les étapes de migration d'outils","View Tool Error Logs":"Voir les logs d'erreur d'outils","Manage Display Whitelist":"Gérer la liste blanche d'outils graphiques","Manage Tool Dependencies":"Gérer les dépendances d'outils",Users:!1,Groups:!1,"API keys":"Clé d'API","Impersonate a user":"Prendre la place d'un utilisateur",Data:!1,Quotas:!1,Roles:!1,"Local data":"Données locales","Form Definitions":"Définitions de formulaires","Enable/Disable Scratchbook":"Activer/Désactiver la visu Scratchbook","Show/Hide Scratchbook":"Montrer/cacher la visu Scratchbook",Tags:"Mots-clés","Edit annotation":"Editer les annotations",Subscript:!1,Superscript:!1,Trackster:!1,"Any additional comments you can provide regarding what you were doing at the time of the bug.":"N'importe quel commentaire que vous pouvez fournir concernant ce que vous faisiez lorsque le bug est apparu","Your email address":"Votre adresse e-mail",Report:!1,"Error Report":"Rapport d'erreur","Dataset details":"Détails du jeu de données","Save permissions.":"Sauvegarder les permissions","Change the datatype to a new type.":"Changer en un nouveau format de données","Convert the datatype to a new format.":"Convertir le format de données","Save attributes of the dataset.":"Sauvegarder les attributs du jeu de données","Change data type":"Changer le format de données","Edit dataset attributes":"Modifier les attributs du jeu de données","Save permissions":"Sauvegarder les permissions","Manage dataset permissions":"Gérer les permissions sur les jeux de données","Change datatype":"Changer le format de données","Convert datatype":"Convertir le format de données","Convert to new format":"Convertir en un nouveau format de données",Save:!1,Permissions:!1,Datatypes:!1,Convert:!1,Attributes:!1,"Import into History":"Importer dans l'historique","Location Details":"Détails de localisation","Deleting selected items":"Suppression des objets sélectionnés","Please select folders or files":"S'il vous plaît sélectionnez des dossiers ou fichiers","Please enter paths to import":"S'il vous plaît entrer des chemins/URLs à importer","Adding datasets from your history":"Ajouts de jeux de données à partir de votre historique","Create New Folder":"Créer un nouveau dossier","Create New Library":"Créer une nouvelle bibliothèque",Tours:!1,"Click here to sign out of all sessions.":!1,"Add or remove custom builds using history datasets.":!1,"Associate OpenIDs with your account.":!1,"Customize your Toolbox by displaying or omitting sets of Tools.":!1,"Access your current API key or create a new one.":!1,"Enable or disable the communication feature to chat with other users.":!1,"Allows you to change your login credentials.":!1,"User Preferences":!1,"Sign out":!1,"Manage custom builds":!1,"Manage OpenIDs":!1,"Manage Toolbox filters":!1,"Manage API key":!1,"Set dataset permissions for new histories":!1,"Change communication settings":!1,"Change password":!1,"Manage information":!1,"Configured Galaxy Tool Sheds":!1,"Repository Installation Queue":!1,"Repository Status":!1,"Workflows Missing Tools":!1,"See in Tool Shed":!1,Requirements:!1,Share:!1,"Workflow submission failed":!1,"Run workflow":!1,"Job submission failed":!1,Execute:!1,"Tool request failed":!1,"Copy and insert individual steps":!1,Warning:!1,"An email notification will be sent when the job has completed.":!1,"Add a step label.":!1,"Assign columns":!1,"Delete this repeat block":!1,placeholder:!1,Repeat:!1,"Browse GenomeSpace":!1,Browse:!1,Error:!1,Close:!1,"Download from web or upload from disk":!1,Collection:!1,Composite:!1,Regular:!1,"Upload configuration":!1,"FTP files":!1,Reset:!1,Pause:!1,Start:!1,"Choose FTP file":!1,"Choose local file":!1,Build:!1,"Choose FTP files":!1,"Choose local files":!1,Select:!1,"Create a collection of paired datasets":!1,"View all histories":!1,"History options":!1,"Refresh history":!1,"View error logs":!1,"View migration stages":!1,"View lineage":!1,"Manage dependencies":!1,"Manage whitelist":!1,"Manage metadata":!1,"Manage tools":!1,"Monitor installation":!1,"Install new tools":!1,"Tool Management":!1,Forms:!1,"User Management":!1,"Manage jobs":!1,"Display applications":!1,"Data tables":!1,"Data types":!1,Server:!1,"Could Not Save":!1,"Saving...":!1,Settings:!1,"Add tracks":!1,"New Visualization":!1,"Add Data to Saved Visualization":!1,"Close visualization":!1,Circster:!1,Bookmarks:!1,"Add group":!1,"Remove parameter from tree":!1,"Add parameter to tree":!1,Remove:!1,"Select datasets for new tracks":!1,Libraries:!1,"Zoom out":!1,"Zoom in":!1,"Phyloviz Help":!1,"Save visualization":!1,"PhyloViz Settings":!1,Title:!1,"Filtering Dataset":!1,"Filter Dataset":!1,"Show individual tracks":!1,"Trackster Error":!1,"Tool parameter space visualization":!1,Tool:!1,"Set as overview":!1,"Set display mode":!1,Filters:!1,"Show composite track":!1,"Edit settings":!1,"Test title":!1,"Test Title":!1,"Test button":!1,title:!1,"Create new Build":!1,"Delete custom build.":!1,"Provide the data source.":!1,"Next in History":!1,"Previous in History":!1,"Chat online":!1,"Multiple collections":!1,"Dataset collections":!1,"Dataset collection":!1,"Multiple datasets":!1,"Single dataset":!1,"Download from URL or upload files from disk":!1,"tool tooltip":!1},__zh:{"Analyze Data":"数据分析",Workflow:"流程","Shared Data":"共享的数据","Data Libraries":"数据库",Histories:"已发布的历史",Workflows:"已发布的流程",Visualizations:"已发布的可视化",Pages:"已发布的页面",Visualization:"可视化","New Track Browser":"创建 Track Browser","Saved Visualizations":"已保存的可视化","Interactive Environments":"交互式环境",Admin:"管理员",Help:"帮助",Support:"支持",Search:"搜索","Mailing Lists":"邮件列表",Videos:"视频",Wiki:!1,"How to Cite Galaxy":"引用","Interactive Tours":"使用引导",User:"用户",Login:"登陆",Register:"注册","Login or Register":"登陆或注册","Logged in as":"您已登陆为",Preferences:"用户偏好性","Custom Builds":"自定义构建集",Logout:"退出","Saved Histories":"保存历史","Saved Datasets":"保存数据集","Saved Pages":"保存页面",Tools:"工具","Account and saved data":"账号及数据保存","Account registration or login":"注册与登录","Support, contact, and community":"支持，联系，社区","Administer this Galaxy":"管理您的Galaxy","Visualize datasets":"数据集可视化","Access published resources":"访问发布的资源","Chain tools into workflows":"将工具链接到工作流程中","Analysis home view":"数据分析主页",History:"历史","History Lists":"历史列表","Histories Shared with Me":"分享给您历史","Current History":"当前历史","Create New":"创建新的历史","Copy History":"复制历史","Share or Publish":"分享或发布历史","Show Structure":"展示结构","Extract Workflow":"提取为工作流",Delete:"删除","Delete Permanently":"永久删除","Dataset Actions":"数据操作","Copy Datasets":"复制数据集","Dataset Security":"数据安全","Resume Paused Jobs":"恢复已暂停的任务","Collapse Expanded Datasets":!1,"Unhide Hidden Datasets":"取消隐藏的数据集","Delete Hidden Datasets":"删除隐藏的数据集","Purge Deleted Datasets":"清空已删除的数据集",Downloads:"下载","Export Tool Citations":"导出工具文献引用","Export History to File":"导出历史到文件","Other Actions":"其他操作","Import from File":"从文件导入",Webhooks:!1,"This history is empty":"历史已空","No matching datasets found":"未找到匹配的数据集","An error occurred while getting updates from the server":"从服务器更新出现错误","Please contact a Galaxy administrator if the problem persists":"如果问题仍然存在，请联系Galaxy管理员","An error was encountered while <% where %>":"出现错误，当执行以下操作时: <% where %>","search datasets":"搜索数据集","You are currently viewing a deleted history!":"您正在查看已删除的历史记录","You are over your disk quota":"您超出了您的磁盘配额","Tool execution is on hold until your disk usage drops below your allocated quota":"工具执行处于暂停状态，直到您的磁盘使用量低于您分配的配额",All:"所有的",None:"一个也没有","For all selected":"为每个选定","Edit history tags":"编辑历史标签","Edit history Annotation":"编辑历史备注","Click to rename history":"单击要重命名的历史","Operations on multiple datasets":"编辑多个数据集","Hide datasets":"隐藏数据集","Unhide datasets":"显示数据集","Delete datasets":"删除数据集","Undelete datasets":"取消删除数据集","Permanently delete datasets":"永久删除数据集","This will permanently remove the data in your datasets. Are you sure?":"这将永久在您的数据集删除数据。你确定？",Dataset:"数据",Annotation:"备注","This history is empty. Click 'Get Data' on the left tool menu to start":"历史已空，请单击左边窗格中‘获取数据’","You must be logged in to create histories":"你必须登录后才能创建历史","You can ":"您可以 "," or ":" 或者 ","load your own data":"上传您的个人数据","get data from an external source":"从外部来源获取数据","Unable to purge dataset":"无法清除数据集","Cannot display datasets removed from disk":"无法显示已从磁盘中删除的数据集","This dataset must finish uploading before it can be viewed":"此数据集必须先完成上传, 然后才能查看","This dataset is not yet viewable":"此数据集是不可见的","View data":"查看数据",Download:"下载","Download dataset":"下载数据集","Additional files":"其他文件","View details":"查看详情","This is a new dataset and not all of its data are available yet":"这是一个新的数据集，并不是所有的数据都可用","You do not have permission to view this dataset":"您无权查看此数据集","The job creating this dataset was cancelled before completion":"创建此数据集的任务在完成之前已被取消","This job is waiting to run":"任务正在等待运行","This dataset is currently uploading":"此数据集正在上传中","Metadata is being auto-detected":"元数据正在被自动检测中","This job is currently running":"任务正在运行中",'This job is paused. Use the "Resume Paused Jobs" in the history menu to resume':'此任务已暂停。使用历史菜单中的 "恢复已暂停的工作" 来恢复',"An error occurred with this dataset":"此数据集发生错误","No data":"没有数据","An error occurred setting the metadata for this dataset":"设置此数据集的元数据时发生错误","There was an error getting the data for this dataset":"获取此数据集的数据时出错","This dataset has been deleted and removed from disk":"此数据集已被删除并从磁盘中删除","This dataset has been deleted":"此数据集已被删除","This dataset has been hidden":"此数据集已被隐藏",format:"格式",database:"数据库","Edit attributes":"编辑属性","Cannot edit attributes of datasets removed from disk":"无法编辑已从磁盘中删除的数据集的属性","Undelete dataset to edit attributes":"取消删除数据集以编辑属性","This dataset must finish uploading before it can be edited":"该数据集必须先上传完成, 然后才能编辑","This dataset is not yet editable":"该数据集不可编辑","Dataset is already deleted":"数据集已被删除","View or report this error":"查看或报告此错误","Run this job again":"重新运行此任务",Visualize:"可视化","Visualize in":"的可视化","Undelete it":"取消删除","Permanently remove it from disk":"从磁盘中永久删除","Unhide it":"取消隐藏","You may be able to":"您可能可以","set it manually or retry auto-detection":"手动设置或重试自动检测","Edit dataset tags":"编辑数据集标签","Edit dataset annotation":"编辑数据集备注","Tool Help":"工具帮助","Search Tool Shed":"搜索 Tool Shed","Monitor installing repositories":"","Manage installed tools":"管理已安装的工具","Reset metadata":"重置元数据","Download local tool":"下载本地工具","Tool lineage":!1,"Reload a tool's configuration":"重新加载工具的配置","Review tool migration stages":"查看工具迁移状态","View Tool Error Logs":"查看工具错误日志","Manage Display Whitelist":"管理显示白名单","Manage Tool Dependencies":"管理工具依赖",Users:"用户",Groups:"组别","API keys":!1,"Impersonate a user":"模拟用户",Data:"数据",Quotas:"配额",Roles:"角色","Local data":"本地数据","Form Definitions":"定义表单","Enable/Disable Scratchbook":"启用/禁用 Scratchbook","Show/Hide Scratchbook":"显示/隐藏 Scratchbook",Tags:"标签","Edit annotation":"编辑备注",ja:!0,fr:!0,zh:!0},init:function(e){e||(e=window._i18n&&window._i18n.locale?window._i18n.locale:document.documentElement.lang?document.documentElement.lang:"root");var t=this["__"+e]||this.__root;if(t)for(var n in t)this[n]=t[n];for(var n in this.__root)void 0===this[n]&&(this[n]=this.__root[n])}};n.init(),e.exports=n},function(e,t,n){var i,r,o=function(e,t){return function(){return e.apply(t,arguments)}};!function(o,a){i=[n(0)],void 0!==(r=function(e){return o.Tour=a(e)}.apply(t,i))&&(e.exports=r)}(window,function(e){var t;return t=window.document,function(){function n(t){var n;this._showPopoverAndOverlay=o(this._showPopoverAndOverlay,this);try{n=window.localStorage}catch(e){n=!1}this._options=e.extend({name:"tour",steps:[],container:"body",autoscroll:!0,keyboard:!0,storage:n,debug:!1,backdrop:!1,backdropContainer:"body",backdropPadding:0,redirect:!0,orphan:!1,duration:!1,delay:!1,basePath:"",template:'<div class="popover" role="tooltip"> <div class="arrow"></div> <h3 class="popover-header"></h3> <div class="popover-body"></div> <div class="popover-navigation"> <div class="btn-group"> <button class="btn btn-sm btn-secondary" data-role="prev">&laquo; Prev</button> <button class="btn btn-sm btn-secondary" data-role="next">Next &raquo;</button> <button class="btn btn-sm btn-secondary" data-role="pause-resume" data-pause-text="Pause" data-resume-text="Resume">Pause</button> </div> <button class="btn btn-sm btn-secondary" data-role="end">End tour</button> </div> </div>',afterSetState:function(e,t){},afterGetState:function(e,t){},afterRemoveState:function(e){},onStart:function(e){},onEnd:function(e){},onShow:function(e){},onShown:function(e){},onHide:function(e){},onHidden:function(e){},onNext:function(e){},onPrev:function(e){},onPause:function(e,t){},onResume:function(e,t){},onRedirectError:function(e){}},t),this._force=!1,this._inited=!1,this._current=null,this.backdrops=[]}return n.prototype.addSteps=function(e){var t,n,i;for(t=0,n=e.length;t<n;t++)i=e[t],this.addStep(i);return this},n.prototype.addStep=function(e){return this._options.steps.push(e),this},n.prototype.getStep=function(t){if(null!=this._options.steps[t])return e.extend({id:"step-"+t,path:"",host:"",placement:"right",title:"",content:"<p></p>",next:t===this._options.steps.length-1?-1:t+1,prev:t-1,animation:!0,container:this._options.container,autoscroll:this._options.autoscroll,backdrop:this._options.backdrop,backdropContainer:this._options.backdropContainer,backdropPadding:this._options.backdropPadding,redirect:this._options.redirect,reflexElement:this._options.steps[t].element,backdropElement:this._options.steps[t].element,orphan:this._options.orphan,duration:this._options.duration,delay:this._options.delay,template:this._options.template,onShow:this._options.onShow,onShown:this._options.onShown,onHide:this._options.onHide,onHidden:this._options.onHidden,onNext:this._options.onNext,onPrev:this._options.onPrev,onPause:this._options.onPause,onResume:this._options.onResume,onRedirectError:this._options.onRedirectError},this._options.steps[t])},n.prototype.init=function(e){return this._force=e,this.ended()?(this._debug("Tour ended, init prevented."),this):(this.setCurrentStep(),this._initMouseNavigation(),this._initKeyboardNavigation(),null!==this._current&&this.showStep(this._current),this._inited=!0,this)},n.prototype.start=function(e){var t;return null==e&&(e=!1),this._inited||this.init(e),null===this._current&&(t=this._makePromise(null!=this._options.onStart?this._options.onStart(this):void 0),this._callOnPromiseDone(t,this.showStep,0)),this},n.prototype.next=function(){var e;return e=this.hideStep(this._current,this._current+1),this._callOnPromiseDone(e,this._showNextStep)},n.prototype.prev=function(){var e;return e=this.hideStep(this._current,this._current-1),this._callOnPromiseDone(e,this._showPrevStep)},n.prototype.goTo=function(e){var t;return t=this.hideStep(this._current,e),this._callOnPromiseDone(t,this.showStep,e)},n.prototype.end=function(){var n,i;return n=function(n){return function(i){if(e(t).off("click.tour-"+n._options.name),e(t).off("keyup.tour-"+n._options.name),n._setState("end","yes"),n._inited=!1,n._force=!1,n._clearTimer(),null!=n._options.onEnd)return n._options.onEnd(n)}}(this),i=this.hideStep(this._current),this._callOnPromiseDone(i,n)},n.prototype.ended=function(){return!this._force&&!!this._getState("end")},n.prototype.restart=function(){return this._removeState("current_step"),this._removeState("end"),this._removeState("redirect_to"),this.start()},n.prototype.pause=function(){var e;return(e=this.getStep(this._current))&&e.duration?(this._paused=!0,this._duration-=(new Date).getTime()-this._start,window.clearTimeout(this._timer),this._debug("Paused/Stopped step "+(this._current+1)+" timer ("+this._duration+" remaining)."),null!=e.onPause?e.onPause(this,this._duration):void 0):this},n.prototype.resume=function(){var e;return(e=this.getStep(this._current))&&e.duration?(this._paused=!1,this._start=(new Date).getTime(),this._duration=this._duration||e.duration,this._timer=window.setTimeout(function(e){return function(){return e._isLast()?e.next():e.end()}}(this),this._duration),this._debug("Started step "+(this._current+1)+" timer with duration "+this._duration),null!=e.onResume&&this._duration!==e.duration?e.onResume(this,this._duration):void 0):this},n.prototype.hideStep=function(t,n){var i,r,o,a;if(a=this.getStep(t))return this._clearTimer(),o=this._makePromise(null!=a.onHide?a.onHide(this,t):void 0),r=function(i){return function(r){var o,s;if((o=e(a.element)).data("bs.popover")||(o=e("body")),o.popover("dispose").removeClass("tour-"+i._options.name+"-element tour-"+i._options.name+"-"+t+"-element").removeData("bs.popover"),a.reflex&&e(a.reflexElement).removeClass("tour-step-element-reflex").off(i._reflexEvent(a.reflex)+".tour-"+i._options.name),a.backdrop&&((s=null!=n&&i.getStep(n))&&s.backdrop&&s.backdropElement===a.backdropElement||i._hideOverlayElement(a)),null!=a.onHidden)return a.onHidden(i)}}(this),i=a.delay.hide||a.delay,"[object Number]"==={}.toString.call(i)&&i>0?(this._debug("Wait "+i+" milliseconds to hide the step "+(this._current+1)),window.setTimeout(function(e){return function(){return e._callOnPromiseDone(o,r)}}(this),i)):this._callOnPromiseDone(o,r),o},n.prototype.showStep=function(e){var n,i,r,o,a,s;return this.ended()?(this._debug("Tour ended, showStep prevented."),this):(s=this.getStep(e))&&(a=e<this._current,i=this._makePromise(null!=s.onShow?s.onShow(this,e):void 0),this.setCurrentStep(e),n=function(){switch({}.toString.call(s.path)){case"[object Function]":return s.path();case"[object String]":return this._options.basePath+s.path;default:return s.path}}.call(this),!s.redirect||!this._isRedirect(s.host,n,t.location)||(this._redirect(s,e,n),this._isJustPathHashDifferent(s.host,n,t.location)))?(o=function(t){return function(n){if(t._isOrphan(s)){if(!1===s.orphan)return t._debug("Skip the orphan step "+(t._current+1)+".\nOrphan option is false and the element does not exist or is hidden."),void(a?t._showPrevStep():t._showNextStep());t._debug("Show the orphan step "+(t._current+1)+". Orphans option is true.")}if(s.autoscroll?t._scrollIntoView(e):t._showPopoverAndOverlay(e),s.duration)return t.resume()}}(this),r=s.delay.show||s.delay,"[object Number]"==={}.toString.call(r)&&r>0?(this._debug("Wait "+r+" milliseconds to show the step "+(this._current+1)),window.setTimeout(function(e){return function(){return e._callOnPromiseDone(i,o)}}(this),r)):this._callOnPromiseDone(i,o),i):void 0},n.prototype.getCurrentStep=function(){return this._current},n.prototype.setCurrentStep=function(e){return null!=e?(this._current=e,this._setState("current_step",e)):(this._current=this._getState("current_step"),this._current=null===this._current?null:parseInt(this._current,10)),this},n.prototype.redraw=function(){return this._showOverlayElement(this.getStep(this.getCurrentStep()))},n.prototype._setState=function(e,t){var n;if(this._options.storage){n=this._options.name+"_"+e;try{this._options.storage.setItem(n,t)}catch(e){e.code===DOMException.QUOTA_EXCEEDED_ERR&&this._debug("LocalStorage quota exceeded. State storage failed.")}return this._options.afterSetState(n,t)}return null==this._state&&(this._state={}),this._state[e]=t},n.prototype._removeState=function(e){var t;return this._options.storage?(t=this._options.name+"_"+e,this._options.storage.removeItem(t),this._options.afterRemoveState(t)):null!=this._state?delete this._state[e]:void 0},n.prototype._getState=function(e){var t,n;return this._options.storage?(t=this._options.name+"_"+e,n=this._options.storage.getItem(t)):null!=this._state&&(n=this._state[e]),void 0!==n&&"null"!==n||(n=null),this._options.afterGetState(e,n),n},n.prototype._showNextStep=function(){var e,t,n;return n=this.getStep(this._current),t=function(e){return function(t){return e.showStep(n.next)}}(this),e=this._makePromise(null!=n.onNext?n.onNext(this):void 0),this._callOnPromiseDone(e,t)},n.prototype._showPrevStep=function(){var e,t,n;return n=this.getStep(this._current),t=function(e){return function(t){return e.showStep(n.prev)}}(this),e=this._makePromise(null!=n.onPrev?n.onPrev(this):void 0),this._callOnPromiseDone(e,t)},n.prototype._debug=function(e){if(this._options.debug)return window.console.log("Bootstrap Tour '"+this._options.name+"' | "+e)},n.prototype._isRedirect=function(e,t,n){var i;return!(null==e||""===e||!("[object RegExp]"==={}.toString.call(e)&&!e.test(n.origin)||"[object String]"==={}.toString.call(e)&&this._isHostDifferent(e,n)))||(i=[n.pathname,n.search,n.hash].join(""),null!=t&&""!==t&&("[object RegExp]"==={}.toString.call(t)&&!t.test(i)||"[object String]"==={}.toString.call(t)&&this._isPathDifferent(t,i)))},n.prototype._isHostDifferent=function(e,t){switch({}.toString.call(e)){case"[object RegExp]":return!e.test(t.origin);case"[object String]":return this._getProtocol(e)!==this._getProtocol(t.href)||this._getHost(e)!==this._getHost(t.href);default:return!0}},n.prototype._isPathDifferent=function(e,t){return this._getPath(e)!==this._getPath(t)||!this._equal(this._getQuery(e),this._getQuery(t))||!this._equal(this._getHash(e),this._getHash(t))},n.prototype._isJustPathHashDifferent=function(e,t,n){var i;return(null==e||""===e||!this._isHostDifferent(e,n))&&(i=[n.pathname,n.search,n.hash].join(""),"[object String]"==={}.toString.call(t)&&(this._getPath(t)===this._getPath(i)&&this._equal(this._getQuery(t),this._getQuery(i))&&!this._equal(this._getHash(t),this._getHash(i))))},n.prototype._redirect=function(n,i,r){var o;return e.isFunction(n.redirect)?n.redirect.call(this,r):(o="[object String]"==={}.toString.call(n.host)?""+n.host+r:r,this._debug("Redirect to "+o),this._getState("redirect_to")!==""+i?(this._setState("redirect_to",""+i),t.location.href=o):(this._debug("Error redirection loop to "+r),this._removeState("redirect_to"),null!=n.onRedirectError?n.onRedirectError(this):void 0))},n.prototype._isOrphan=function(t){return null==t.element||!e(t.element).length||e(t.element).is(":hidden")&&"http://www.w3.org/2000/svg"!==e(t.element)[0].namespaceURI},n.prototype._isLast=function(){return this._current<this._options.steps.length-1},n.prototype._showPopoverAndOverlay=function(e){var t;if(this.getCurrentStep()===e&&!this.ended())return(t=this.getStep(e)).backdrop&&this._showOverlayElement(t),this._showPopover(t,e),null!=t.onShown&&t.onShown(this),this._debug("Step "+(this._current+1)+" of "+this._options.steps.length)},n.prototype._showPopover=function(t,n){var i,r,o;return e(".tour-"+this._options.name).remove(),o=e.extend({},this._options),r=this._isOrphan(t),t.template=this._template(t,n),r&&(t.element="body",t.placement="top"),(i=e(t.element)).addClass("tour-"+this._options.name+"-element tour-"+this._options.name+"-"+n+"-element"),t.options&&e.extend(o,t.options),t.reflex&&!r&&e(t.reflexElement).addClass("tour-step-element-reflex").off(this._reflexEvent(t.reflex)+".tour-"+this._options.name).on(this._reflexEvent(t.reflex)+".tour-"+this._options.name,function(e){return function(){return e._isLast()?e.next():e.end()}}(this)),i.popover({placement:t.placement,trigger:"manual",title:t.title,content:t.content,html:!0,animation:t.animation,container:t.container,template:t.template,selector:t.element}).popover("show"),e(i.data("bs.popover").getTipElement()).attr("id",t.id)},n.prototype._template=function(t,n){var i,r,o,a,s,l;return l=t.template,this._isOrphan(t)&&"[object Boolean]"!=={}.toString.call(t.orphan)&&(l=t.orphan),o=(i=(s=e.isFunction(l)?e(l(n,t)):e(l)).find(".popover-navigation")).find('[data-role="prev"]'),r=i.find('[data-role="next"]'),a=i.find('[data-role="pause-resume"]'),this._isOrphan(t)&&s.addClass("orphan"),s.addClass("tour-"+this._options.name+" tour-"+this._options.name+"-"+n),t.reflex&&s.addClass("tour-"+this._options.name+"-reflex"),t.prev<0&&o.addClass("disabled").prop("disabled",!0).prop("tabindex",-1),t.next<0&&r.addClass("disabled").prop("disabled",!0).prop("tabindex",-1),t.duration||a.remove(),s.clone().wrap("<div>").parent().html()},n.prototype._reflexEvent=function(e){return"[object Boolean]"==={}.toString.call(e)?"click":e},n.prototype._scrollIntoView=function(t){var n,i,r,o,a,s,l,c;if(l=this.getStep(t),!(n=e(l.element)).length)return this._showPopoverAndOverlay(t);switch(i=e(window),a=n.offset().top,o=n.outerHeight(),c=i.height(),s=0,l.placement){case"top":s=Math.max(0,a-c/2);break;case"left":case"right":s=Math.max(0,a+o/2-c/2);break;case"bottom":s=Math.max(0,a+o-c/2)}return this._debug("Scroll into view. ScrollTop: "+s+". Element offset: "+a+". Window height: "+c+"."),r=0,e("body, html").stop(!0,!0).animate({scrollTop:Math.ceil(s)},function(e){return function(){if(2==++r)return e._showPopoverAndOverlay(t),e._debug("Scroll into view.\nAnimation end element offset: "+n.offset().top+".\nWindow height: "+i.height()+".")}}(this))},n.prototype._initMouseNavigation=function(){var n;return n=this,e(t).off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']").on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']",function(e){return function(t){return t.preventDefault(),e.next()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']",function(e){return function(t){if(t.preventDefault(),e._current>0)return e.prev()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']",function(e){return function(t){return t.preventDefault(),e.end()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']",function(t){var i;return t.preventDefault(),(i=e(this)).text(n._paused?i.data("pause-text"):i.data("resume-text")),n._paused?n.resume():n.pause()})},n.prototype._initKeyboardNavigation=function(){if(this._options.keyboard)return e(t).on("keyup.tour-"+this._options.name,function(e){return function(t){if(t.which)switch(t.which){case 39:return t.preventDefault(),e._isLast()?e.next():e.end();case 37:if(t.preventDefault(),e._current>0)return e.prev()}}}(this))},n.prototype._makePromise=function(t){return t&&e.isFunction(t.then)?t:null},n.prototype._callOnPromiseDone=function(e,t,n){return e?e.then(function(e){return function(i){return t.call(e,n)}}(this)):t.call(this,n)},n.prototype._showBackground=function(n,i){var r,o,a,s,l,c,u,d,h;for(a=e(t).height(),h=e(t).width(),d=[],s=0,l=(u=["top","bottom","left","right"]).length;s<l;s++)switch(c=u[s],r=null!=(o=this.backdrops)[c]?o[c]:o[c]=e("<div>",{class:"tour-backdrop "+c}),e(n.backdropContainer).append(r),c){case"top":d.push(r.height(i.offset.top>0?i.offset.top:0).width(h).offset({top:0,left:0}));break;case"bottom":d.push(r.offset({top:i.offset.top+i.height,left:0}).height(a-(i.offset.top+i.height)).width(h));break;case"left":d.push(r.offset({top:i.offset.top,left:0}).height(i.height).width(i.offset.left>0?i.offset.left:0));break;case"right":d.push(r.offset({top:i.offset.top,left:i.offset.left+i.width}).height(i.height).width(h-(i.offset.left+i.width)));break;default:d.push(void 0)}return d},n.prototype._showOverlayElement=function(t){var n,i;return 0===(n=e(t.backdropElement)).length?i={width:0,height:0,offset:{top:0,left:0}}:(i={width:n.innerWidth(),height:n.innerHeight(),offset:n.offset()},n.addClass("tour-step-backdrop"),t.backdropPadding&&(i=this._applyBackdropPadding(t.backdropPadding,i))),this._showBackground(t,i)},n.prototype._hideOverlayElement=function(t){var n,i,r;for(i in e(t.backdropElement).removeClass("tour-step-backdrop"),r=this.backdrops)(n=r[i])&&void 0!==n.remove&&n.remove();return this.backdrops=[]},n.prototype._applyBackdropPadding=function(e,t){return"object"==typeof e?(null==e.top&&(e.top=0),null==e.right&&(e.right=0),null==e.bottom&&(e.bottom=0),null==e.left&&(e.left=0),t.offset.top=t.offset.top-e.top,t.offset.left=t.offset.left-e.left,t.width=t.width+e.left+e.right,t.height=t.height+e.top+e.bottom):(t.offset.top=t.offset.top-e,t.offset.left=t.offset.left-e,t.width=t.width+2*e,t.height=t.height+2*e),t},n.prototype._clearTimer=function(){return window.clearTimeout(this._timer),this._timer=null,this._duration=null},n.prototype._getProtocol=function(e){return(e=e.split("://")).length>1?e[0]:"http"},n.prototype._getHost=function(e){return(e=(e=e.split("//")).length>1?e[1]:e[0]).split("/")[0]},n.prototype._getPath=function(e){return e.replace(/\/?$/,"").split("?")[0].split("#")[0]},n.prototype._getQuery=function(e){return this._getParams(e,"?")},n.prototype._getHash=function(e){return this._getParams(e,"#")},n.prototype._getParams=function(e,t){var n,i,r,o,a;if(1===(o=e.split(t)).length)return{};for(a={},n=0,i=(o=o[1].split("&")).length;n<i;n++)a[(r=(r=o[n]).split("="))[0]]=r[1]||"";return a},n.prototype._equal=function(e,t){var n,i,r,o,a,s;if("[object Object]"==={}.toString.call(e)&&"[object Object]"==={}.toString.call(t)){if(o=Object.keys(e),a=Object.keys(t),o.length!==a.length)return!1;for(i in e)if(s=e[i],!this._equal(t[i],s))return!1;return!0}if("[object Array]"==={}.toString.call(e)&&"[object Array]"==={}.toString.call(t)){if(e.length!==t.length)return!1;for(i=n=0,r=e.length;n<r;i=++n)if(s=e[i],!this._equal(s,t[i]))return!1;return!0}return e===t},n}()})},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";var i=n(64),r=n(550),o=n(828),a=n(501);function s(e){var t=new o(e),n=r(o.prototype.request,t);return i.extend(n,o.prototype,t),i.extend(n,t),n}var l=s(a);l.Axios=o,l.create=function(e){return s(i.merge(a,e))},l.Cancel=n(555),l.CancelToken=n(842),l.isCancel=n(554),l.all=function(e){return Promise.all(e)},l.spread=n(843),e.exports=l,e.exports.default=l},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var i=n(501),r=n(64),o=n(837),a=n(838);function s(e){this.defaults=e,this.interceptors={request:new o,response:new o}}s.prototype.request=function(e){"string"==typeof e&&(e=r.merge({url:arguments[0]},arguments[1])),(e=r.merge(i,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},r.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}}),r.forEach(["post","put","patch"],function(e){s.prototype[e]=function(t,n,i){return this.request(r.merge(i||{},{method:e,url:t,data:n}))}}),e.exports=s},function(e,t,n){"use strict";var i=n(64);e.exports=function(e,t){i.forEach(e,function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])})}},function(e,t,n){"use strict";var i=n(553);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(i("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,i,r){return e.config=t,n&&(e.code=n),e.request=i,e.response=r,e}},function(e,t,n){"use strict";var i=n(64);function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var a=[];i.forEach(t,function(e,t){null!==e&&void 0!==e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))}))}),o=a.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,n){"use strict";var i=n(64),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(i.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),n=i.trim(e.substr(o+1)),t){if(a[t]&&r.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var i=n(64);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=i.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(){this.message="String contains an invalid character"}r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,o=String(e),a="",s=0,l=i;o.charAt(0|s)||(l="=",s%1);a+=l.charAt(63&t>>8-s%1*8)){if((n=o.charCodeAt(s+=.75))>255)throw new r;t=t<<8|n}return a}},function(e,t,n){"use strict";var i=n(64);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,r,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var i=n(64);function r(){this.handlers=[]}r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},function(e,t,n){"use strict";var i=n(64),r=n(839),o=n(554),a=n(501),s=n(840),l=n(841);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!s(e.url)&&(e.url=l(e.baseURL,e.url)),e.headers=e.headers||{},e.data=r(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return c(e),t.data=r(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=r(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var i=n(64);e.exports=function(e,t,n){return i.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var i=n(555);function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new i(e),t(n.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r(function(t){e=t}),cancel:e}},e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){
/*!
 * (The MIT License)
 * 
 * Copyright (c) 2012-2014 Marcin Warpechowski
 * Copyright (c) 2015 Handsoncode sp. z o.o. <hello@handsoncode.net>
 * 
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * 'Software'), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * 
 * Version: 2.0.0
 * Release date: 11/04/2018 (built at 10/04/2018 11:38:33)
 */
!function(t,i){e.exports=i(n(10),n(845),n(907))}("undefined"!=typeof self&&self,function(e,t,n){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=206)}([function(e,t,n){"use strict";t.__esModule=!0,t.HTML_CHARACTERS=void 0,t.getParent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1,i=null;for(;null!=e;){if(n===t){i=e;break}e.host&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e=e.host:(n++,e=e.parentNode)}return i},t.closest=l,t.closestDown=function(e,t,n){var i=[];for(;e&&(e=l(e,t,n))&&(!n||n.contains(e));)i.push(e),e=e.host&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.host:e.parentNode;var r=i.length;return r?i[r-1]:null},t.isChildOf=function(e,t){var n=e.parentNode,i=[];"string"==typeof t?i=Array.prototype.slice.call(document.querySelectorAll(t),0):i.push(t);for(;null!=n;){if(i.indexOf(n)>-1)return!0;n=n.parentNode}return!1},t.isChildOfWebComponentTable=function(e){var t,n="hot-table",i=!1;function r(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName===n.toUpperCase()}t=c(e);for(;null!=t;){if(r(t)){i=!0;break}if(t.host&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(i=r(t.host))break;t=t.host}t=t.parentNode}return i},t.polymerWrap=c,t.polymerUnwrap=u,t.index=function(e){var t=0;if(e.previousSibling)for(;e=e.previousSibling;)++t;return t},t.overlayContainsElement=function(e,t){var n=document.querySelector(".ht_clone_"+e);return n?n.contains(t):null},t.hasClass=function(e,t){return i(e,t)},t.addClass=function(e,t){return r(e,t)},t.removeClass=function(e,t){return o(e,t)},t.removeTextNodes=function e(t,n){if(3===t.nodeType)n.removeChild(t);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(t.nodeName)>-1)for(var i=t.childNodes,r=i.length-1;r>=0;r--)e(i[r],t)},t.empty=p,t.fastInnerHTML=function(e,t){m.test(t)?e.innerHTML=t:v(e,t)},t.fastInnerText=v,t.isVisible=function e(t){var n=t;for(;u(n)!==document.documentElement;){if(null===n)return!1;if(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(n.host){if(n.host.impl)return e(n.host.impl);if(n.host)return e(n.host);throw new Error("Lost in Web Components world")}return!1}if("none"===n.style.display)return!1;n=n.parentNode}return!0},t.offset=function(e){var t,n,i,r,o;if(r=document.documentElement,(0,s.hasCaptionProblem)()&&e.firstChild&&"CAPTION"===e.firstChild.nodeName)return{top:(o=e.getBoundingClientRect()).top+(window.pageYOffset||r.scrollTop)-(r.clientTop||0),left:o.left+(window.pageXOffset||r.scrollLeft)-(r.clientLeft||0)};t=e.offsetLeft,n=e.offsetTop,i=e;for(;(e=e.offsetParent)&&e!==document.body;)t+=e.offsetLeft,n+=e.offsetTop,i=e;i&&"fixed"===i.style.position&&(t+=window.pageXOffset||r.scrollLeft,n+=window.pageYOffset||r.scrollTop);return{left:t,top:n}},t.getWindowScrollTop=y,t.getWindowScrollLeft=b,t.getScrollTop=function(e){if(e===window)return y();return e.scrollTop},t.getScrollLeft=function(e){if(e===window)return b();return e.scrollLeft},t.getScrollableElement=function(e){var t,n,i,r=e.parentNode,o=["auto","scroll"],a="",s="",l="",c="";for(;r&&r.style&&document.body!==r;){if(t=r.style.overflow,n=r.style.overflowX,i=r.style.overflowY,"scroll"==t||"scroll"==n||"scroll"==i)return r;if(window.getComputedStyle&&(a=window.getComputedStyle(r),s=a.getPropertyValue("overflow"),l=a.getPropertyValue("overflow-y"),c=a.getPropertyValue("overflow-x"),"scroll"===s||"scroll"===c||"scroll"===l))return r;if(r.clientHeight<=r.scrollHeight+1&&(-1!==o.indexOf(i)||-1!==o.indexOf(t)||-1!==o.indexOf(s)||-1!==o.indexOf(l)))return r;if(r.clientWidth<=r.scrollWidth+1&&(-1!==o.indexOf(n)||-1!==o.indexOf(t)||-1!==o.indexOf(s)||-1!==o.indexOf(c)))return r;r=r.parentNode}return window},t.getTrimmingContainer=function(e){var t=e.parentNode;for(;t&&t.style&&document.body!==t;){if("visible"!==t.style.overflow&&""!==t.style.overflow)return t;if(window.getComputedStyle){var n=window.getComputedStyle(t);if("visible"!==n.getPropertyValue("overflow")&&""!==n.getPropertyValue("overflow"))return t}t=t.parentNode}return window},t.getStyle=function(e,t){if(!e)return;if(e===window)return"width"===t?window.innerWidth+"px":"height"===t?window.innerHeight+"px":void 0;var n,i=e.style[t];if(""!==i&&void 0!==i)return i;if(""!==(n=w(e))[t]&&void 0!==n[t])return n[t]},t.getComputedStyle=w,t.outerWidth=function(e){return e.offsetWidth},t.outerHeight=function(e){if((0,s.hasCaptionProblem)()&&e.firstChild&&"CAPTION"===e.firstChild.nodeName)return e.offsetHeight+e.firstChild.offsetHeight;return e.offsetHeight},t.innerHeight=function(e){return e.clientHeight||e.innerHeight},t.innerWidth=function(e){return e.clientWidth||e.innerWidth},t.addEvent=function(e,t,n){window.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEvent=function(e,t,n){window.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.getCaretPosition=function(e){if(e.selectionStart)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange();if(null==t)return 0;var n=e.createTextRange(),i=n.duplicate();return n.moveToBookmark(t.getBookmark()),i.setEndPoint("EndToStart",n),i.text.length}return 0},t.getSelectionEndPosition=function(e){if(e.selectionEnd)return e.selectionEnd;if(document.selection){var t=document.selection.createRange();if(null==t)return 0;var n=e.createTextRange();return n.text.indexOf(t.text)+t.text.length}return 0},t.getSelectionText=function(){var e="";window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(e=document.selection.createRange().text);return e},t.setCaretPosition=function(e,t,n){void 0===n&&(n=t);if(e.setSelectionRange){e.focus();try{e.setSelectionRange(t,n)}catch(o){var i=e.parentNode,r=i.style.display;i.style.display="block",e.setSelectionRange(t,n),i.style.display=r}}else if(e.createTextRange){var o=e.createTextRange();o.collapse(!0),o.moveEnd("character",n),o.moveStart("character",t),o.select()}},t.getScrollbarWidth=function(){void 0===g&&(g=function(){var e=document.createElement("div");e.style.height="200px",e.style.width="100%";var t=document.createElement("div");t.style.boxSizing="content-box",t.style.height="150px",t.style.left="0px",t.style.overflow="hidden",t.style.position="absolute",t.style.top="0px",t.style.width="200px",t.style.visibility="hidden",t.appendChild(e),(document.body||document.documentElement).appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var i=e.offsetWidth;n==i&&(i=t.clientWidth);return(document.body||document.documentElement).removeChild(t),n-i}());return g},t.hasVerticalScrollbar=function(e){return e.offsetWidth!==e.clientWidth},t.hasHorizontalScrollbar=function(e){return e.offsetHeight!==e.clientHeight},t.setOverlayPosition=function(e,t,n){(0,a.isIE8)()||(0,a.isIE9)()?(e.style.top=n,e.style.left=t):(0,a.isSafari)()?e.style["-webkit-transform"]="translate3d("+t+","+n+",0)":e.style.transform="translate3d("+t+","+n+",0)"},t.getCssTransform=function(e){var t;if(e.style.transform&&""!==(t=e.style.transform))return["transform",t];if(e.style["-webkit-transform"]&&""!==(t=e.style["-webkit-transform"]))return["-webkit-transform",t];return-1},t.resetCssTransform=function(e){e.style.transform&&""!==e.style.transform?e.style.transform="":e.style["-webkit-transform"]&&""!==e.style["-webkit-transform"]&&(e.style["-webkit-transform"]="")},t.isInput=k,t.isOutsideInput=function(e){return k(e)&&-1==e.className.indexOf("handsontableInput")&&-1==e.className.indexOf("copyPaste")};var i,r,o,a=n(27),s=n(40);function l(e,t,n){for(;null!=e&&e!==n;){if(e.nodeType===Node.ELEMENT_NODE&&(t.indexOf(e.nodeName)>-1||t.indexOf(e)>-1))return e;e=e.host&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.host:e.parentNode}return null}function c(e){return"undefined"!=typeof Polymer&&"function"==typeof wrap?wrap(e):e}function u(e){return"undefined"!=typeof Polymer&&"function"==typeof unwrap?unwrap(e):e}function d(e){var t=[];if(!e||!e.length)return t;for(var n=0;e[n];)t.push(e[n]),n++;return t}if(!!document.documentElement.classList){var h=function(){var e=document.createElement("div");return e.classList.add("test","test2"),e.classList.contains("test2")}();i=function(e,t){return void 0!==e.classList&&"string"==typeof t&&""!==t&&e.classList.contains(t)},r=function(e,t){if("string"==typeof t&&(t=t.split(" ")),(t=d(t)).length>0)if(h)e.classList.add.apply(e.classList,t);else for(var n=0;t&&t[n];)e.classList.add(t[n]),n++},o=function(e,t){if("string"==typeof t&&(t=t.split(" ")),(t=d(t)).length>0)if(h)e.classList.remove.apply(e.classList,t);else for(var n=0;t&&t[n];)e.classList.remove(t[n]),n++}}else{var f=function(e){return new RegExp("(\\s|^)"+e+"(\\s|$)")};i=function(e,t){return void 0!==e.className&&f(t).test(e.className)},r=function(e,t){var n=0,i=e.className;if("string"==typeof t&&(t=t.split(" ")),""===i)i=t.join(" ");else for(;t&&t[n];)f(t[n]).test(i)||(i+=" "+t[n]),n++;e.className=i},o=function(e,t){var n=0,i=e.className;for("string"==typeof t&&(t=t.split(" "));t&&t[n];)i=i.replace(f(t[n])," ").trim(),n++;e.className!==i&&(e.className=i)}}function p(e){for(var t;t=e.lastChild;)e.removeChild(t)}var m=t.HTML_CHARACTERS=/(<(.*)>|&(.*);)/;var g,_=!!document.createTextNode("test").textContent;function v(e,t){var n=e.firstChild;n&&3===n.nodeType&&null===n.nextSibling?_?n.textContent=t:n.data=t:(p(e),e.appendChild(document.createTextNode(t)))}function y(){var e=window.scrollY;return void 0===e&&(e=document.documentElement.scrollTop),e}function b(){var e=window.scrollX;return void 0===e&&(e=document.documentElement.scrollLeft),e}function w(e){return e.currentStyle||document.defaultView.getComputedStyle(e)}function k(e){return e&&(["INPUT","SELECT","TEXTAREA"].indexOf(e.nodeName)>-1||"true"===e.contentEditable)}},function(e,t,n){"use strict";function i(e,t,n,i){var r=-1,o=e;Array.isArray(e)||(o=Array.from(e));var a=o.length;for(i&&a&&(n=o[++r]);++r<a;)n=t(n,o[r],r,o);return n}function r(e,t){var n=-1,i=e;Array.isArray(e)||(i=Array.from(e));for(var r=i.length;++n<r&&!1!==t(i[n],n,i););return e}function o(e){return i(e,function(e,t){return e+t},0)}t.__esModule=!0,t.to2dArray=function(e){var t=0,n=e.length;for(;t<n;)e[t]=[e[t]],t++},t.extendArray=function(e,t){var n=0,i=t.length;for(;n<i;)e.push(t[n]),n++},t.pivot=function(e){var t=[];if(!e||0===e.length||!e[0]||0===e[0].length)return t;for(var n=e.length,i=e[0].length,r=0;r<n;r++)for(var o=0;o<i;o++)t[o]||(t[o]=[]),t[o][r]=e[r][o];return t},t.arrayReduce=i,t.arrayFilter=function(e,t){var n=-1,i=e;Array.isArray(e)||(i=Array.from(e));var r=i.length,o=[],a=-1;for(;++n<r;){var s=i[n];t(s,n,i)&&(o[++a]=s)}return o},t.arrayMap=function(e,t){var n=-1,i=e;Array.isArray(e)||(i=Array.from(e));var r=i.length,o=[],a=-1;for(;++n<r;){var s=i[n];o[++a]=t(s,n,i)}return o},t.arrayEach=r,t.arraySum=o,t.arrayMax=function(e){return i(e,function(e,t){return e>t?e:t},Array.isArray(e)?e[0]:void 0)},t.arrayMin=function(e){return i(e,function(e,t){return e<t?e:t},Array.isArray(e)?e[0]:void 0)},t.arrayAvg=function(e){if(!e.length)return 0;return o(e)/e.length},t.arrayFlatten=function e(t){return i(t,function(t,n){return t.concat(Array.isArray(n)?e(n):n)},[])},t.arrayUnique=function(e){var t=[];return r(e,function(e){-1===t.indexOf(e)&&t.push(e)}),t}},function(e,t,n){"use strict";t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.duckSchema=function e(t){var n;Array.isArray(t)?n=[]:(n={},l(t,function(t,r){"__children"!==r&&(t&&"object"===(void 0===t?"undefined":i(t))&&!Array.isArray(t)?n[r]=e(t):Array.isArray(t)?t.length&&"object"===i(t[0])&&!Array.isArray(t[0])?n[r]=[e(t[0])]:n[r]=[]:n[r]=null)}));return n},t.inherit=function(e,t){return t.prototype.constructor=t,e.prototype=new t,e.prototype.constructor=e,e},t.extend=function(e,t){return l(t,function(t,n){e[n]=t}),e},t.deepExtend=function e(t,n){l(n,function(r,o){n[o]&&"object"===i(n[o])?(t[o]||(Array.isArray(n[o])?t[o]=[]:"[object Date]"===Object.prototype.toString.call(n[o])?t[o]=n[o]:t[o]={}),e(t[o],n[o])):t[o]=n[o]})},t.deepClone=a,t.clone=function(e){var t={};return l(e,function(e,n){t[n]=e}),t},t.mixin=function(e){e.MIXINS||(e.MIXINS=[]);for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return(0,r.arrayEach)(n,function(t){e.MIXINS.push(t.MIXIN_NAME),l(t,function(t,n){if(void 0!==e.prototype[n])throw new Error("Mixin conflict. Property '"+n+"' already exist and cannot be overwritten.");"function"==typeof t?e.prototype[n]=t:Object.defineProperty(e.prototype,n,{get:function(e,t){return e="_"+e,function(){return void 0===this[e]&&(this[e]=function(e){return(Array.isArray(e)||s(e))&&(e=a(e)),e}(t)),this[e]}}(n,t),set:function(e){return e="_"+e,function(t){this[e]=t}}(n),configurable:!0})})}),e},t.isObjectEqual=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},t.isObject=s,t.defineGetter=function(e,t,n,i){i.value=n,i.writable=!1!==i.writable,i.enumerable=!1!==i.enumerable,i.configurable=!1!==i.configurable,Object.defineProperty(e,t,i)},t.objectEach=l,t.getProperty=function(e,t){var n=t.split("."),i=e;return l(n,function(e){if(void 0===(i=i[e]))return i=void 0,!1}),i},t.deepObjectSize=function(e){if(!s(e))return 0;return function e(t){var n=0;return s(t)?l(t,function(t){n+=e(t)}):n++,n}(e)},t.createObjectPropListener=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value",i="_"+n,r=(o(t={_touched:!1},i,e),o(t,"isTouched",function(){return this._touched}),t);return Object.defineProperty(r,n,{get:function(){return this[i]},set:function(e){this._touched=!0,this[i]=e},enumerable:!0,configurable:!0}),r},t.hasOwnProperty=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var r=n(1);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return"object"===(void 0===e?"undefined":i(e))?JSON.parse(JSON.stringify(e)):e}function s(e){return"[object Object]"==Object.prototype.toString.call(e)}function l(e,t){for(var n in e)if((!e.hasOwnProperty||e.hasOwnProperty&&Object.prototype.hasOwnProperty.call(e,n))&&!1===t(e[n],n,e))break;return e}},function(e,t,n){var i=n(14),r=n(44),o=n(31),a=n(30),s=n(32),l=function(e,t,n){var c,u,d,h,f=e&l.F,p=e&l.G,m=e&l.S,g=e&l.P,_=e&l.B,v=p?i:m?i[t]||(i[t]={}):(i[t]||{}).prototype,y=p?r:r[t]||(r[t]={}),b=y.prototype||(y.prototype={});for(c in p&&(n=t),n)d=((u=!f&&v&&void 0!==v[c])?v:n)[c],h=_&&u?s(d,i):g&&"function"==typeof d?s(Function.call,d):d,v&&a(v,c,d,e&l.U),y[c]!=d&&o(y,c,h),g&&b[c]!=d&&(b[c]=d)};i.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){"use strict";t.__esModule=!0,t.Viewport=t.TableRenderer=t.Table=t.Settings=t.Selection=t.Scroll=t.Overlays=t.Event=t.Core=t.default=t.Border=t.TopLeftCornerOverlay=t.TopOverlay=t.LeftOverlay=t.DebugOverlay=t.RowFilter=t.ColumnFilter=t.CellRange=t.CellCoords=t.ViewportRowsCalculator=t.ViewportColumnsCalculator=void 0,n(96),n(111),n(112),n(116),n(117),n(119),n(122),n(123),n(124),n(125),n(126),n(127),n(128),n(129),n(130),n(131),n(132),n(133),n(134),n(135),n(136),n(137),n(138),n(139),n(141),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(85),n(156),n(157),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(167),n(168),n(169),n(172),n(173),n(174);var i=M(n(175)),r=M(n(176)),o=M(n(54)),a=M(n(86)),s=M(n(177)),l=M(n(178)),c=M(n(228)),u=M(n(229)),d=M(n(230)),h=M(n(231)),f=M(n(187)),p=M(n(179)),m=M(n(180)),g=M(n(181)),_=M(n(182)),v=M(n(232)),y=M(n(183)),b=M(n(184)),w=M(n(185)),k=M(n(186));function M(e){return e&&e.__esModule?e:{default:e}}t.ViewportColumnsCalculator=i.default,t.ViewportRowsCalculator=r.default,t.CellCoords=o.default,t.CellRange=a.default,t.ColumnFilter=s.default,t.RowFilter=l.default,t.DebugOverlay=c.default,t.LeftOverlay=u.default,t.TopOverlay=d.default,t.TopLeftCornerOverlay=h.default,t.Border=f.default,t.default=p.default,t.Core=p.default,t.Event=m.default,t.Overlays=g.default,t.Scroll=_.default,t.Selection=v.default,t.Settings=y.default,t.Table=b.default,t.TableRenderer=w.default,t.Viewport=k.default},function(e,t,n){"use strict";t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isNumeric=function(e){var t=void 0===e?"undefined":i(e);return"number"==t?!isNaN(e)&&isFinite(e):"string"==t?!!e.length&&(1==e.length?/\d/.test(e):/^\s*[+-]?\s*(?:(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?)|(?:0x[a-f\d]+))\s*$/i.test(e)):"object"==t&&!(!e||"number"!=typeof e.valueOf()||e instanceof Date)},t.rangeEach=function(e,t,n){var i=-1;"function"==typeof t?(n=t,t=e):i=e-1;for(;++i<=t&&!1!==n(i););},t.rangeEachReverse=function(e,t,n){var i=e+1;"function"==typeof t&&(n=t,t=0);for(;--i>=t&&!1!==n(i););},t.valueAccordingPercent=function(e,t){return t=parseInt(t.toString().replace("%",""),10),t=parseInt(e*t/100,10)}},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.getListenersCounter=function(){return l};var r=n(0),o=n(2),a=n(40),s=n(12);var l=0,c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t||this,this.context.eventListeners||(this.context.eventListeners=[])}return i(e,[{key:"addEventListener",value:function(e,t,n){var i=this,r=this.context;function o(e){e=u(r,e),n.call(this,e)}return this.context.eventListeners.push({element:e,event:t,callback:n,callbackProxy:o}),window.addEventListener?e.addEventListener(t,o,!1):e.attachEvent("on"+t,o),l++,function(){i.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){for(var i=this.context.eventListeners.length,r=void 0;i--;)if((r=this.context.eventListeners[i]).event==t&&r.element==e){if(n&&n!=r.callback)continue;this.context.eventListeners.splice(i,1),r.element.removeEventListener?r.element.removeEventListener(r.event,r.callbackProxy,!1):r.element.detachEvent("on"+r.event,r.callbackProxy),l--}}},{key:"clearEvents",value:function(){if(this.context)for(var e=this.context.eventListeners.length;e--;){var t=this.context.eventListeners[e];t&&this.removeEventListener(t.element,t.event,t.callback)}}},{key:"clear",value:function(){this.clearEvents()}},{key:"destroy",value:function(){this.clearEvents(),this.context=null}},{key:"fireEvent",value:function(e,t){var n,i={bubbles:!0,cancelable:"mousemove"!==t,view:window,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};document.createEvent?(n=document.createEvent("MouseEvents")).initMouseEvent(t,i.bubbles,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget||document.body.parentNode):n=document.createEventObject(),e.dispatchEvent?e.dispatchEvent(n):e.fireEvent("on"+t,n)}}]),e}();function u(e,t){var n=void 0,i=void 0,l=void 0,u=void 0,d=void 0,h=void 0;if(t.isTargetWebComponent=!1,t.realTarget=t.target,h=t.stopImmediatePropagation,t.stopImmediatePropagation=function(){h.apply(this),(0,s.stopImmediatePropagation)(this)},!c.isHotTableEnv)return t;for(d=(t=(0,r.polymerWrap)(t)).path?t.path.length:0;d--;){if("HOT-TABLE"===t.path[d].nodeName)n=!0;else if(n&&t.path[d].shadowRoot){u=t.path[d];break}0!==d||u||(u=t.path[d])}return u||(u=t.target),t.isTargetWebComponent=!0,(0,a.isWebComponentSupportedNatively)()?t.realTarget=t.srcElement||t.toElement:((0,o.hasOwnProperty)(e,"hot")||e.isHotTableEnv||e.wtTable)&&((0,o.hasOwnProperty)(e,"hot")?i=e.hot?e.hot.view.wt.wtTable.TABLE:null:e.isHotTableEnv?i=e.view.activeWt.wtTable.TABLE.parentNode.parentNode:e.wtTable&&(i=e.wtTable.TABLE.parentNode.parentNode),l=(0,r.closest)(t.target,["HOT-TABLE"],i),t.realTarget=l&&i.querySelector("HOT-TABLE")||t.target),Object.defineProperty(t,"target",{get:function(){return(0,r.polymerWrap)(u)},enumerable:!0,configurable:!0}),t}t.default=c},function(e,t,n){"use strict";t.__esModule=!0;var i=t.CONTEXT_MENU_ITEMS_NAMESPACE="ContextMenu:items",r=(t.CONTEXTMENU_ITEMS_ROW_ABOVE=i+".insertRowAbove",t.CONTEXTMENU_ITEMS_ROW_BELOW=i+".insertRowBelow",t.CONTEXTMENU_ITEMS_INSERT_LEFT=i+".insertColumnOnTheLeft",t.CONTEXTMENU_ITEMS_INSERT_RIGHT=i+".insertColumnOnTheRight",t.CONTEXTMENU_ITEMS_REMOVE_ROW=i+".removeRow",t.CONTEXTMENU_ITEMS_REMOVE_COLUMN=i+".removeColumn",t.CONTEXTMENU_ITEMS_UNDO=i+".undo",t.CONTEXTMENU_ITEMS_REDO=i+".redo",t.CONTEXTMENU_ITEMS_READ_ONLY=i+".readOnly",t.CONTEXTMENU_ITEMS_CLEAR_COLUMN=i+".clearColumn",t.CONTEXTMENU_ITEMS_COPY=i+".copy",t.CONTEXTMENU_ITEMS_CUT=i+".cut",t.CONTEXTMENU_ITEMS_FREEZE_COLUMN=i+".freezeColumn",t.CONTEXTMENU_ITEMS_UNFREEZE_COLUMN=i+".unfreezeColumn",t.CONTEXTMENU_ITEMS_MERGE_CELLS=i+".mergeCells",t.CONTEXTMENU_ITEMS_UNMERGE_CELLS=i+".unmergeCells",t.CONTEXTMENU_ITEMS_ADD_COMMENT=i+".addComment",t.CONTEXTMENU_ITEMS_EDIT_COMMENT=i+".editComment",t.CONTEXTMENU_ITEMS_REMOVE_COMMENT=i+".removeComment",t.CONTEXTMENU_ITEMS_READ_ONLY_COMMENT=i+".readOnlyComment",t.CONTEXTMENU_ITEMS_ALIGNMENT=i+".align",t.CONTEXTMENU_ITEMS_ALIGNMENT_LEFT=i+".align.left",t.CONTEXTMENU_ITEMS_ALIGNMENT_CENTER=i+".align.center",t.CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT=i+".align.right",t.CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY=i+".align.justify",t.CONTEXTMENU_ITEMS_ALIGNMENT_TOP=i+".align.top",t.CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE=i+".align.middle",t.CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM=i+".align.bottom",t.CONTEXTMENU_ITEMS_BORDERS=i+".borders",t.CONTEXTMENU_ITEMS_BORDERS_TOP=i+".borders.top",t.CONTEXTMENU_ITEMS_BORDERS_RIGHT=i+".borders.right",t.CONTEXTMENU_ITEMS_BORDERS_BOTTOM=i+".borders.bottom",t.CONTEXTMENU_ITEMS_BORDERS_LEFT=i+".borders.left",t.CONTEXTMENU_ITEMS_REMOVE_BORDERS=i+".borders.remove",t.CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD=i+".nestedHeaders.insertChildRow",t.CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD=i+".nestedHeaders.detachFromParent",t.CONTEXTMENU_ITEMS_HIDE_COLUMN=i+".hideColumn",t.CONTEXTMENU_ITEMS_SHOW_COLUMN=i+".showColumn",t.CONTEXTMENU_ITEMS_HIDE_ROW=i+".hideRow",t.CONTEXTMENU_ITEMS_SHOW_ROW=i+".showRow",t.FILTERS_NAMESPACE="Filters:"),o=t.FILTERS_CONDITIONS_NAMESPACE=r+"conditions";t.FILTERS_CONDITIONS_NONE=o+".none",t.FILTERS_CONDITIONS_EMPTY=o+".isEmpty",t.FILTERS_CONDITIONS_NOT_EMPTY=o+".isNotEmpty",t.FILTERS_CONDITIONS_EQUAL=o+".isEqualTo",t.FILTERS_CONDITIONS_NOT_EQUAL=o+".isNotEqualTo",t.FILTERS_CONDITIONS_BEGINS_WITH=o+".beginsWith",t.FILTERS_CONDITIONS_ENDS_WITH=o+".endsWith",t.FILTERS_CONDITIONS_CONTAINS=o+".contains",t.FILTERS_CONDITIONS_NOT_CONTAIN=o+".doesNotContain",t.FILTERS_CONDITIONS_BY_VALUE=o+".byValue",t.FILTERS_CONDITIONS_GREATER_THAN=o+".greaterThan",t.FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL=o+".greaterThanOrEqualTo",t.FILTERS_CONDITIONS_LESS_THAN=o+".lessThan",t.FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL=o+".lessThanOrEqualTo",t.FILTERS_CONDITIONS_BETWEEN=o+".isBetween",t.FILTERS_CONDITIONS_NOT_BETWEEN=o+".isNotBetween",t.FILTERS_CONDITIONS_AFTER=o+".after",t.FILTERS_CONDITIONS_BEFORE=o+".before",t.FILTERS_CONDITIONS_TODAY=o+".today",t.FILTERS_CONDITIONS_TOMORROW=o+".tomorrow",t.FILTERS_CONDITIONS_YESTERDAY=o+".yesterday",t.FILTERS_DIVS_FILTER_BY_CONDITION=r+"labels.filterByCondition",t.FILTERS_DIVS_FILTER_BY_VALUE=r+"labels.filterByValue",t.FILTERS_LABELS_CONJUNCTION=r+"labels.conjunction",t.FILTERS_LABELS_DISJUNCTION=r+"labels.disjunction",t.FILTERS_VALUES_BLANK_CELLS=r+"values.blankCells",t.FILTERS_BUTTONS_SELECT_ALL=r+"buttons.selectAll",t.FILTERS_BUTTONS_CLEAR=r+"buttons.clear",t.FILTERS_BUTTONS_OK=r+"buttons.ok",t.FILTERS_BUTTONS_CANCEL=r+"buttons.cancel",t.FILTERS_BUTTONS_PLACEHOLDER_SEARCH=r+"buttons.placeholder.search",t.FILTERS_BUTTONS_PLACEHOLDER_VALUE=r+"buttons.placeholder.value",t.FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE=r+"buttons.placeholder.secondValue"},function(e,t,n){"use strict";t.__esModule=!0,t.getPluginName=t.getRegistredPluginNames=t.getPlugin=t.registerPlugin=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(15)),r=n(2),o=n(36);var a=new WeakMap;t.registerPlugin=function(e,t){e=(0,o.toUpperCaseFirst)(e),i.default.getSingleton().add("construct",function(){var n=void 0;a.has(this)||a.set(this,{}),(n=a.get(this))[e]||(n[e]=new t(this))}),i.default.getSingleton().add("afterDestroy",function(){if(a.has(this)){var e=a.get(this);(0,r.objectEach)(e,function(e){return e.destroy()}),a.delete(this)}})},t.getPlugin=function(e,t){if("string"!=typeof t)throw Error('Only strings can be passed as "plugin" parameter');var n=(0,o.toUpperCaseFirst)(t);if(a.has(e)&&a.get(e)[n])return a.get(e)[n]},t.getRegistredPluginNames=function(e){return a.has(e)?Object.keys(a.get(e)):[]},t.getPluginName=function(e,t){var n=null;return a.has(e)&&(0,r.objectEach)(a.get(e),function(e,i){e===t&&(n=i)}),n}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(2),o=n(1),a=n(193),s=n(8);var l=new WeakMap,c=null,u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,r.defineGetter)(this,"hot",t,{writable:!1}),(0,r.defineGetter)(this,"t",(0,a.getTranslator)(t),{writable:!1}),l.set(this,{hooks:{}}),c=null,this.pluginName=null,this.pluginsInitializedCallbacks=[],this.isPluginsReady=!1,this.enabled=!1,this.initialized=!1,this.hot.addHook("afterPluginsInitialized",function(){return n.onAfterPluginsInitialized()}),this.hot.addHook("afterUpdateSettings",function(){return n.onUpdateSettings()}),this.hot.addHook("beforeInit",function(){return n.init()})}return i(e,[{key:"init",value:function(){this.pluginName=(0,s.getPluginName)(this.hot,this),this.isEnabled&&this.isEnabled()&&this.enablePlugin(),c||(c=(0,s.getRegistredPluginNames)(this.hot)),c.indexOf(this.pluginName)>=0&&c.splice(c.indexOf(this.pluginName),1),c.length||this.hot.runHooks("afterPluginsInitialized"),this.initialized=!0}},{key:"enablePlugin",value:function(){this.enabled=!0}},{key:"disablePlugin",value:function(){this.eventManager&&this.eventManager.clear(),this.clearHooks(),this.enabled=!1}},{key:"addHook",value:function(e,t){l.get(this).hooks[e]=l.get(this).hooks[e]||[];var n=l.get(this).hooks[e];this.hot.addHook(e,t),n.push(t),l.get(this).hooks[e]=n}},{key:"removeHooks",value:function(e){var t=this;(0,o.arrayEach)(l.get(this).hooks[e]||[],function(n){t.hot.removeHook(e,n)})}},{key:"clearHooks",value:function(){var e=this,t=l.get(this).hooks;(0,r.objectEach)(t,function(t,n){return e.removeHooks(n)}),t.length=0}},{key:"callOnPluginsReady",value:function(e){this.isPluginsReady?e():this.pluginsInitializedCallbacks.push(e)}},{key:"onAfterPluginsInitialized",value:function(){(0,o.arrayEach)(this.pluginsInitializedCallbacks,function(e){return e()}),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}},{key:"onUpdateSettings",value:function(){this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&this.updatePlugin())}},{key:"updatePlugin",value:function(){}},{key:"destroy",value:function(){var e=this;this.eventManager&&this.eventManager.destroy(),this.clearHooks(),(0,r.objectEach)(this,function(t,n){"hot"!==n&&"t"!==n&&(e[n]=null)}),delete this.t,delete this.hot}}]),e}();t.default=u},function(e,t,n){var i=n(77)("wks"),r=n(48),o=n(14).Symbol,a="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=a&&o[e]||(a?o:r)("Symbol."+e))}).store=i},function(e,t,n){"use strict";t.__esModule=!0,t.stopImmediatePropagation=function(e){e.isImmediatePropagationEnabled=!1,e.cancelBubble=!0},t.isImmediatePropagationStopped=function(e){return!1===e.isImmediatePropagationEnabled},t.stopPropagation=function(e){"function"==typeof e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.pageX=function(e){if(e.pageX)return e.pageX;return e.clientX+(0,i.getWindowScrollLeft)()},t.pageY=function(e){if(e.pageY)return e.pageY;return e.clientY+(0,i.getWindowScrollTop)()},t.isRightClick=function(e){return 2===e.button},t.isLeftClick=function(e){return 0===e.button};var i=n(0)},function(e,t,n){"use strict";t.__esModule=!0,t.getRegisteredRenderers=t.getRegisteredRendererNames=t.hasRenderer=t.getRenderer=t.registerRenderer=void 0;var i=d(n(39)),r=d(n(242)),o=d(n(243)),a=d(n(244)),s=d(n(245)),l=d(n(246)),c=d(n(248)),u=d(n(249));function d(e){return e&&e.__esModule?e:{default:e}}var h=(0,i.default)("renderers"),f=h.register,p=h.getItem,m=h.hasItem,g=h.getNames,_=h.getValues;f("base",r.default),f("autocomplete",o.default),f("checkbox",a.default),f("html",s.default),f("numeric",l.default),f("password",c.default),f("text",u.default),t.registerRenderer=f,t.getRenderer=function(e){if("function"==typeof e)return e;if(!m(e))throw Error('No registered renderer found under "'+e+'" name');return p(e)},t.hasRenderer=m,t.getRegisteredRendererNames=g,t.getRegisteredRenderers=_},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(1),o=n(2);var a=["afterCellMetaReset","afterChange","afterChangesObserved","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","beforeContextMenuShow","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterDrawSelection","beforeRemoveCellClassNames","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","afterRender","beforeRenderer","afterRenderer","afterScrollHorizontally","afterScrollVertically","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterUpdateSettings","afterValidate","beforeLanguageChange","afterLanguageChange","beforeAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeRender","beforeSetRangeStartOnly","beforeSetRangeStart","beforeSetRangeEnd","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyCol","unmodifyCol","unmodifyRow","modifyColHeader","modifyColWidth","modifyRow","modifyRowHeader","modifyRowHeight","modifyData","modifyRowData","modifyGetCellCoords","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnMove","afterColumnMove","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","modifyColumnHeaderHeight","beforeUndo","afterUndo","beforeRedo","afterRedo","modifyRowHeaderWidth","beforeAutofillInsidePopulate","modifyTransformStart","modifyTransformEnd","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","manualRowHeights","skipLengthCache","afterTrimRow","afterUntrimRow","beforeDropdownMenuShow","afterDropdownMenuShow","afterDropdownMenuHide","hiddenRow","hiddenColumn","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","afterBeginEditing","beforeMergeCells","afterMergeCells","beforeUnmergeCells","afterUnmergeCells","afterListen","afterUnlisten"],s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.globalBucket=this.createEmptyBucket()}return i(e,null,[{key:"getSingleton",value:function(){return l}}]),i(e,[{key:"createEmptyBucket",value:function(){var e=Object.create(null);return(0,r.arrayEach)(a,function(t){return e[t]=[]}),e}},{key:"getBucket",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?(e.pluginHookBucket||(e.pluginHookBucket=this.createEmptyBucket()),e.pluginHookBucket):this.globalBucket}},{key:"add",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Array.isArray(t))(0,r.arrayEach)(t,function(t){return n.add(e,t,i)});else{var o=this.getBucket(i);if(void 0===o[e]&&(this.register(e),o[e]=[]),t.skip=!1,-1===o[e].indexOf(t)){var a=!1;t.initialHook&&(0,r.arrayEach)(o[e],function(n,i){if(n.initialHook)return o[e][i]=t,a=!0,!1}),a||o[e].push(t)}}return this}},{key:"once",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Array.isArray(t)?(0,r.arrayEach)(t,function(t){return n.once(e,t,i)}):(t.runOnce=!0,this.add(e,t,i))}},{key:"remove",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.getBucket(n);return void 0!==i[e]&&i[e].indexOf(t)>=0&&(t.skip=!0,!0)}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getBucket(t);return!(void 0===n[e]||!n[e].length)}},{key:"run",value:function(e,t,n,i,r,o,a,s){var l=this.globalBucket[t],c=-1,u=l?l.length:0;if(u)for(;++c<u;)if(l[c]&&!l[c].skip){var d=l[c].call(e,n,i,r,o,a,s);void 0!==d&&(n=d),l[c]&&l[c].runOnce&&this.remove(t,l[c])}var h=this.getBucket(e)[t],f=-1,p=h?h.length:0;if(p)for(;++f<p;)if(h[f]&&!h[f].skip){var m=h[f].call(e,n,i,r,o,a,s);void 0!==m&&(n=m),h[f]&&h[f].runOnce&&this.remove(t,h[f],e)}return n}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,o.objectEach)(this.getBucket(e),function(e,t,n){return n[t].length=0})}},{key:"register",value:function(e){this.isRegistered(e)||a.push(e)}},{key:"deregister",value:function(e){this.isRegistered(e)&&a.splice(a.indexOf(e),1)}},{key:"isRegistered",value:function(e){return a.indexOf(e)>=0}},{key:"getRegistered",value:function(){return a}}]),e}(),l=new s;t.default=s},function(e,t,n){"use strict";t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n          Your license key of Handsontable Pro has expired.‌‌‌‌ \n          Renew your maintenance plan at https://handsontable.com or downgrade to the previous version of the software.\n          "],["\n          Your license key of Handsontable Pro has expired.‌‌‌‌\\x20\n          Renew your maintenance plan at https://handsontable.com or downgrade to the previous version of the software.\n          "]);t.stringify=function(e){var t=void 0;switch(void 0===e?"undefined":i(e)){case"string":case"number":t=""+e;break;case"object":t=null===e?"":e.toString();break;case"undefined":t="";break;default:t=e.toString()}return t},t.isDefined=function(e){return void 0!==e},t.isUndefined=s,t.isEmpty=l,t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t._injectProductInfo=function(e,t){var n="",i=!0,s=function(e){var t=[][c],n=t;if(e[c]!==f("Z"))return!1;for(var i="",r="B<H4P+".split(""),o=f(r.shift());o;o=f(r.shift()||"A"))--o<""[c]?n|=(d(""+d(u(i)+(u(h(e,Math.abs(o),2))+[]).padStart(2,"0")))%97||2)>>1:i=h(e,o,o?1===r[c]?9:8:6);return n===t}(e=p(e||"")),v=g(),y=l(e)||"trial"===e;if(y||s)if(s){var b=Math.floor((0,o.default)("11/04/2018","DD/MM/YYYY").toDate().getTime()/864e5),w=m(e);(w>45e3||w!==parseInt(w,10))&&(n="The license key provided to Handsontable Pro is invalid. Make sure you pass it correctly."),n||(b>w+1&&(n=(0,a.toSingleLine)(r)),i=b>w+15)}else n="Evaluation version of Handsontable Pro. Not licensed for use in a production environment.";else n="The license key provided to Handsontable Pro is invalid. Make sure you pass it correctly.";v&&(n=!1,i=!1);n&&!_&&(console[y?"info":"warn"](n),_=!0);if(i&&t.parentNode){var k=document.createElement("div");k.id="hot-display-license-info",k.appendChild(document.createTextNode("Evaluation version of Handsontable Pro.")),k.appendChild(document.createElement("br")),k.appendChild(document.createTextNode("Not licensed for production use.")),t.parentNode.insertBefore(k,t.nextSibling)}};var o=function(e){return e&&e.__esModule?e:{default:e}}(n(55)),a=n(41);function s(e){return void 0===e}function l(e){return null===e||""===e||s(e)}var c="length",u=function(e){return parseInt(e,16)},d=function(e){return parseInt(e,10)},h=function(e,t,n){return e.substr(t,n)},f=function(e){return e.codePointAt(0)-65},p=function(e){return(""+e).replace(/\-/g,"")},m=function(e){return u(h(p(e),u("12"),f("F")))/(u(h(p(e),f("B"),~~![][c]))||9)},g=function(){return"undefined"!=typeof location&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host)},_=!1},function(e,t,n){"use strict";t.__esModule=!0,t.getRegisteredEditors=t.getRegisteredEditorNames=t.hasEditor=t.getEditorInstance=t.getEditor=t.registerEditor=void 0,t.RegisteredEditor=M,t._getEditorInstance=x;var i=m(n(39)),r=m(n(15)),o=m(n(53)),a=m(n(188)),s=m(n(234)),l=m(n(235)),c=m(n(238)),u=m(n(189)),d=m(n(239)),h=m(n(240)),f=m(n(241)),p=m(n(57));function m(e){return e&&e.__esModule?e:{default:e}}var g=new WeakMap,_=(0,i.default)("editors"),v=_.register,y=_.getItem,b=_.hasItem,w=_.getNames,k=_.getValues;function M(e){var t={},n=e;this.getConstructor=function(){return e},this.getInstance=function(e){return e.guid in t||(t[e.guid]=new n(e)),t[e.guid]},r.default.getSingleton().add("afterDestroy",function(){t={}})}function x(e,t){var n=void 0;if("function"==typeof e)g.get(e)||C(null,e),n=g.get(e);else{if("string"!=typeof e)throw Error('Only strings and functions can be passed as "editor" parameter');n=y(e)}if(!n)throw Error('No editor registered under name "'+e+'"');return n.getInstance(t)}function C(e,t){var n=new M(t);"string"==typeof e&&v(e,n),g.set(t,n)}C("base",o.default),C("autocomplete",a.default),C("checkbox",s.default),C("date",l.default),C("dropdown",c.default),C("handsontable",u.default),C("numeric",d.default),C("password",h.default),C("select",f.default),C("text",p.default),t.registerEditor=C,t.getEditor=function(e){if(!b(e))throw Error('No registered editor found under "'+e+'" name');return y(e).getConstructor()},t.getEditorInstance=x,t.hasEditor=b,t.getRegisteredEditorNames=w,t.getRegisteredEditors=k},function(e,t,n){var i=n(9);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";t.__esModule=!0,t.normalizeSelection=function(e){return(0,i.arrayMap)(e,function(e){return{start:e.getTopLeftCorner(),end:e.getBottomRightCorner()}})},t.isSeparator=function(e){return(0,r.hasClass)(e,"htSeparator")},t.hasSubMenu=function(e){return(0,r.hasClass)(e,"htSubmenu")},t.isDisabled=function(e){return(0,r.hasClass)(e,"htDisabled")},t.isSelectionDisabled=function(e){return(0,r.hasClass)(e,"htSelectionDisabled")},t.getValidSelection=function(e){var t=e.getSelected();if(!t)return null;if(t[0]<0)return null;return t},t.prepareVerticalAlignClass=a,t.prepareHorizontalAlignClass=s,t.getAlignmentClasses=function(e,t){var n={};return(0,i.arrayEach)(e,function(e){for(var i=e.from,r=e.to,o=i.row;o<=r.row;o++)for(var a=i.col;a<=r.col;a++)n[o]||(n[o]=[]),n[o][a]=t(o,a)}),n},t.align=function(e,t,n,r,o){(0,i.arrayEach)(e,function(e){var i=e.from,a=e.to;if(i.row==a.row&&i.col==a.col)l(i.row,i.col,t,n,r,o);else for(var s=i.row;s<=a.row;s++)for(var c=i.col;c<=a.col;c++)l(s,c,t,n,r,o)})},t.checkSelectionConsistency=function(e,t){var n=!1;Array.isArray(e)&&(0,i.arrayEach)(e,function(e){return e.forAll(function(e,i){if(t(e,i))return n=!0,!1}),n});return n},t.markLabelAsSelected=function(e){return'<span class="selected">'+String.fromCharCode(10003)+"</span>"+e},t.isItemHidden=function(e,t){return!e.hidden||!("function"==typeof e.hidden&&e.hidden.call(t))},t.filterSeparators=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.KEY,n=e.slice(0);return n=function(e){var t=[];return(0,i.arrayEach)(e,function(e,n){n>0?t[t.length-1].name!==e.name&&t.push(e):t.push(e)}),t}(n=function(e,t){var n=e.slice(0);return n.reverse(),(n=c(n,t)).reverse(),n}(n=c(n,t),t))};var i=n(1),r=(n(5),n(0)),o=n(93);function a(e,t){return-1!=e.indexOf(t)?e:(e=e.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ",""),e+=" "+t)}function s(e,t){return-1!=e.indexOf(t)?e:(e=e.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ",""),e+=" "+t)}function l(e,t,n,i,r,o){var l=r(e,t),c=i;l.className&&(c="vertical"===n?a(l.className,i):s(l.className,i)),o(e,t,"className",c)}function c(e,t){for(var n=e.slice(0);0<n.length&&n[0].name===t;)n.shift();return n}},function(e,t,n){var i=n(18),r=n(98),o=n(73),a=Object.defineProperty;t.f=n(22)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";t.__esModule=!0,t.KEY_CODES=void 0,t.isPrintableChar=function(e){return 32==e||e>=48&&e<=57||e>=96&&e<=111||e>=186&&e<=192||e>=219&&e<=222||e>=226||e>=65&&e<=90},t.isMetaKey=function(e){return-1!==[r.ARROW_DOWN,r.ARROW_UP,r.ARROW_LEFT,r.ARROW_RIGHT,r.HOME,r.END,r.DELETE,r.BACKSPACE,r.F1,r.F2,r.F3,r.F4,r.F5,r.F6,r.F7,r.F8,r.F9,r.F10,r.F11,r.F12,r.TAB,r.PAGE_DOWN,r.PAGE_UP,r.ENTER,r.ESCAPE,r.SHIFT,r.CAPS_LOCK,r.ALT].indexOf(e)},t.isCtrlKey=function(e){var t=[];window.navigator.platform.includes("Mac")?t.push(r.COMMAND_LEFT,r.COMMAND_RIGHT,r.COMMAND_FIREFOX):t.push(r.CONTROL);return t.includes(e)},t.isCtrlMetaKey=function(e){return[r.CONTROL,r.COMMAND_LEFT,r.COMMAND_RIGHT,r.COMMAND_FIREFOX].includes(e)},t.isKey=function(e,t){var n=t.split("|"),o=!1;return(0,i.arrayEach)(n,function(t){if(e===r[t])return o=!0,!1}),o};var i=n(1),r=t.KEY_CODES={MOUSE_LEFT:1,MOUSE_RIGHT:3,MOUSE_MIDDLE:2,BACKSPACE:8,COMMA:188,INSERT:45,DELETE:46,END:35,ENTER:13,ESCAPE:27,CONTROL:17,COMMAND_LEFT:91,COMMAND_RIGHT:93,COMMAND_FIREFOX:224,ALT:18,HOME:36,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,SPACE:32,SHIFT:16,CAPS_LOCK:20,TAB:9,ARROW_RIGHT:39,ARROW_LEFT:37,ARROW_UP:38,ARROW_DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,A:65,X:88,C:67,V:86}},function(e,t,n){e.exports=!n(23)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var i=n(75),r=n(38);e.exports=function(e){return i(r(e))}},function(e,t,n){var i=n(59),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){var i=n(3),r=n(44),o=n(23);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],a={};a[e]=t(n),i(i.S+i.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){"use strict";t.__esModule=!0,t.isIE8=function(){return i},t.isIE9=function(){return r},t.isSafari=function(){return o},t.isChrome=function(){return a},t.isMobileBrowser=function(e){e||(e=navigator.userAgent);return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)};var i=!document.createTextNode("test").textContent;var r=!!document.documentMode;var o=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);var a=/Chrome/.test(navigator.userAgent)&&/Google/.test(navigator.vendor)},function(e,t,n){"use strict";t.__esModule=!0,t.getRegisteredValidators=t.getRegisteredValidatorNames=t.hasValidator=t.getValidator=t.registerValidator=void 0;var i=l(n(39)),r=l(n(250)),o=l(n(251)),a=l(n(252)),s=l(n(253));function l(e){return e&&e.__esModule?e:{default:e}}var c=(0,i.default)("validators"),u=c.register,d=c.getItem,h=c.hasItem,f=c.getNames,p=c.getValues;u("autocomplete",r.default),u("date",o.default),u("numeric",a.default),u("time",s.default),t.registerValidator=u,t.getValidator=function(e){if("function"==typeof e)return e;if(!h(e))throw Error('No registered validator found under "'+e+'" name');return d(e)},t.hasValidator=h,t.getRegisteredValidatorNames=f,t.getRegisteredValidators=p},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var i=n(14),r=n(31),o=n(29),a=n(48)("src"),s=Function.toString,l=(""+s).split("toString");n(44).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(o(n,"name")||r(n,"name",t)),e[t]!==n&&(c&&(o(n,a)||r(n,a,e[t]?""+e[t]:l.join(String(t)))),e===i?e[t]=n:s?e[t]?e[t]=n:r(e,t,n):(delete e[t],r(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,n){var i=n(20),r=n(49);e.exports=n(22)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(62);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var i=n(38);e.exports=function(e){return Object(i(e))}},function(e,t,n){var i=n(48)("meta"),r=n(9),o=n(29),a=n(20).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(23)(function(){return l(Object.preventExtensions({}))}),u=function(e){a(e,i,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,i)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[i].i},getWeak:function(e,t){if(!o(e,i)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[i].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!o(e,i)&&u(e),e}}},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=n(2),a=n(1),s=c(n(6)),l=c(n(179));function c(e){return e&&e.__esModule?e:{default:e}}var u={},d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,o.defineGetter)(this,"wot",t,{writable:!1}),this.instance=this.wot,this.type="",this.mainTableScrollableElement=null,this.TABLE=this.wot.wtTable.TABLE,this.hider=this.wot.wtTable.hider,this.spreader=this.wot.wtTable.spreader,this.holder=this.wot.wtTable.holder,this.wtRootElement=this.wot.wtTable.wtRootElement,this.trimmingContainer=(0,r.getTrimmingContainer)(this.hider.parentNode.parentNode),this.areElementSizesAdjusted=!1,this.updateStateOfRendering()}return i(e,null,[{key:"registerOverlay",value:function(t,n){if(-1===e.CLONE_TYPES.indexOf(t))throw new Error("Unsupported overlay ("+t+").");u[t]=n}},{key:"createOverlay",value:function(e,t){return new u[e](t)}},{key:"hasOverlay",value:function(e){return void 0!==u[e]}},{key:"isOverlayTypeOf",value:function(e,t){return!(!e||!u[t])&&e instanceof u[t]}},{key:"CLONE_TOP",get:function(){return"top"}},{key:"CLONE_BOTTOM",get:function(){return"bottom"}},{key:"CLONE_LEFT",get:function(){return"left"}},{key:"CLONE_TOP_LEFT_CORNER",get:function(){return"top_left_corner"}},{key:"CLONE_BOTTOM_LEFT_CORNER",get:function(){return"bottom_left_corner"}},{key:"CLONE_DEBUG",get:function(){return"debug"}},{key:"CLONE_TYPES",get:function(){return[e.CLONE_TOP,e.CLONE_BOTTOM,e.CLONE_LEFT,e.CLONE_TOP_LEFT_CORNER,e.CLONE_BOTTOM_LEFT_CORNER,e.CLONE_DEBUG]}}]),i(e,[{key:"updateStateOfRendering",value:function(){var e=this.needFullRender;this.needFullRender=this.shouldBeRendered();var t=e!==this.needFullRender;return t&&!this.needFullRender&&this.reset(),t}},{key:"shouldBeRendered",value:function(){return!0}},{key:"updateTrimmingContainer",value:function(){this.trimmingContainer=(0,r.getTrimmingContainer)(this.hider.parentNode.parentNode)}},{key:"updateMainScrollableElement",value:function(){this.mainTableScrollableElement=(0,r.getScrollableElement)(this.wot.wtTable.TABLE)}},{key:"makeClone",value:function(t){if(-1===e.CLONE_TYPES.indexOf(t))throw new Error('Clone type "'+t+'" is not supported.');var n=document.createElement("DIV"),i=document.createElement("TABLE");n.className="ht_clone_"+t+" handsontable",n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.overflow="hidden",i.className=this.wot.wtTable.TABLE.className,n.appendChild(i),this.type=t,this.wot.wtTable.wtRootElement.parentNode.appendChild(n);var o=this.wot.getSetting("preventOverflow");return!0===o||"horizontal"===o&&this.type===e.CLONE_TOP||"vertical"===o&&this.type===e.CLONE_LEFT?this.mainTableScrollableElement=window:this.mainTableScrollableElement=(0,r.getScrollableElement)(this.wot.wtTable.TABLE),new l.default({cloneSource:this.wot,cloneOverlay:this,table:i})}},{key:"refresh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.shouldBeRendered();this.clone&&(this.needFullRender||t)&&this.clone.draw(e),this.needFullRender=t}},{key:"reset",value:function(){if(this.clone){var e=this.clone.wtTable.holder,t=this.clone.wtTable.hider,n=e.style,i=t.style,r=e.parentNode.style;(0,a.arrayEach)([n,i,r],function(e){e.width="",e.height=""})}}},{key:"destroy",value:function(){new s.default(this.clone).destroy()}}]),e}();t.default=d},function(e,t,n){"use strict";t.__esModule=!0,t.toUpperCaseFirst=function(e){return e[0].toUpperCase()+e.substr(1)},t.equalsIgnoreCase=function(){for(var e=[],t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n.length;for(;o--;){var a=(0,i.stringify)(n[o]).toLowerCase();-1===e.indexOf(a)&&e.push(a)}return 1===e.length},t.randomString=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()+e()},t.isPercentValue=function(e){return/^([0-9][0-9]?%$)|(^100%$)/.test(e)},t.substitute=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(""+e).replace(/(?:\\)?\[([^[\]]+)]/g,function(e,n){return"\\"===e.charAt(0)?e.substr(1,e.length-1):void 0===t[n]?"":t[n]})},t.stripTags=function(e){return(e+="").replace(r,"")};var i=n(16);n(5);var r=/<\/?\w+\/?>|<\w+[\s|/][^>]*>/gi},function(e,t,n){var i=n(99),r=n(78);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.__esModule=!0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"common";r.has(e)||r.set(e,new Map);var t=r.get(e);return{register:function(e,n){t.set(e,n)},getItem:function(e){return t.get(e)},hasItem:function(e){return t.has(e)},getNames:function(){return[].concat(i(t.keys()))},getValues:function(){return[].concat(i(t.values()))}}};var r=t.collection=new Map},function(e,t,n){"use strict";t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.requestAnimationFrame=function(e){return s.call(window,e)},t.cancelAnimationFrame=function(e){l.call(window,e)},t.isTouchSupported=function(){return"ontouchstart"in window},t.isWebComponentSupportedNatively=function(){var e=document.createElement("div");return!(!e.createShadowRoot||!e.createShadowRoot.toString().match(/\[native code\]/))},t.hasCaptionProblem=function(){void 0===r&&function(){var e=document.createElement("TABLE");e.style.borderSpacing=0,e.style.borderWidth=0,e.style.padding=0;var t=document.createElement("TBODY");e.appendChild(t),t.appendChild(document.createElement("TR")),t.firstChild.appendChild(document.createElement("TD")),t.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var n=document.createElement("CAPTION");n.innerHTML="c<br>c<br>c<br>c",n.style.padding=0,n.style.margin=0,e.insertBefore(n,t),document.body.appendChild(e),r=e.offsetHeight<2*e.lastChild.offsetHeight,document.body.removeChild(e)}();return r},t.getComparisonFunction=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(u)return u;u="object"===("undefined"==typeof Intl?"undefined":i(Intl))?new Intl.Collator(e,t).compare:"function"==typeof String.prototype.localeCompare?function(e,t){return(""+e).localeCompare(t)}:function(e,t){return e===t?0:e>t?-1:1};return u};for(var r,o=0,a=["ms","moz","webkit","o"],s=window.requestAnimationFrame,l=window.cancelAnimationFrame,c=0;c<a.length&&!s;++c)s=window[a[c]+"RequestAnimationFrame"],l=window[a[c]+"CancelAnimationFrame"]||window[a[c]+"CancelRequestAnimationFrame"];s||(s=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-o)),i=window.setTimeout(function(){e(t+n)},n);return o=t+n,i}),l||(l=function(e){clearTimeout(e)});var u=void 0},function(e,t,n){"use strict";t.__esModule=!0,t.toSingleLine=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(0,i.arrayReduce)(e,function(e,t,i){var r=t.replace(/(?:\r?\n\s+)/g,""),o=n[i]?n[i]:"";return e+r+o},"").trim()};var i=n(1)},function(e,t,n){"use strict";t.__esModule=!0,t.isFunction=function(e){return"function"==typeof e},t.throttle=r,t.throttleAfterHits=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=r(e,t),o=n;function a(){return o?(o--,e.apply(this,arguments)):i.apply(this,arguments)}return a.clearHits=function(){o=n},a},t.debounce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=null,i=void 0;return function(){var r=this,o=arguments;n&&clearTimeout(n);return n=setTimeout(function(){i=e.apply(r,o)},t),i}},t.pipe=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],o=t.slice(1);return function(){return(0,i.arrayReduce)(o,function(e,t){return t(e)},r.apply(this,arguments))}},t.partial=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.apply(this,n.concat(i))}},t.curry=function(e){var t=e.length;return function n(i){return function(){for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];var s=i.concat(o);return s.length>=t?e.apply(this,s):n(s)}}([])},t.curryRight=function(e){var t=e.length;return function n(i){return function(){for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];var s=i.concat(o.reverse());return s.length>=t?e.apply(this,s):n(s)}}([])};var i=n(1);function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=0,i={lastCallThrottled:!0},r=null;return function(){var o=this,a=arguments,s=Date.now(),l=!1;i.lastCallThrottled=!0,n||(n=s,l=!0);var c=t-(s-n);return l?(i.lastCallThrottled=!1,e.apply(this,a)):(r&&clearTimeout(r),r=setTimeout(function(){i.lastCallThrottled=!1,e.apply(o,a),n=0,r=void 0},c)),i}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=n)},function(e,t,n){var i=n(9);e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var i=n(11)("unscopables"),r=Array.prototype;void 0==r[i]&&n(31)(r,i,{}),e.exports=function(e){r[i][e]=!0}},function(e,t,n){"use strict";t.__esModule=!0,t.createClassName=o,t.createDefaultCustomBorder=function(){return{width:1,color:"#000"}},t.createSingleEmptyBorder=a,t.createDefaultHtBorder=s,t.createEmptyBorders=function(e,t){return{className:o(e,t),border:{width:1,color:"#000",cornerVisible:!1},row:e,col:t,top:{hide:!0},right:{hide:!0},bottom:{hide:!0},left:{hide:!0}}},t.extendDefaultBorder=function(e,t){(0,i.hasOwnProperty)(t,"border")&&(e.border=t.border);(0,i.hasOwnProperty)(t,"top")&&(e.top=t.top);(0,i.hasOwnProperty)(t,"right")&&(e.right=t.right);(0,i.hasOwnProperty)(t,"bottom")&&(e.bottom=t.bottom);(0,i.hasOwnProperty)(t,"left")&&(e.left=t.left);return e},t.checkSelectionBorders=function(e,t){var n=!1;return(0,r.arrayEach)(e.getSelectedRange(),function(r){r.forAll(function(r,o){var a=e.getCellMeta(r,o).borders;if(a){if(!t)return n=!0,!1;if(!(0,i.hasOwnProperty)(a[t],"hide"))return n=!0,!1}})}),n},t.markSelected=function(e){return'<span class="selected">'+String.fromCharCode(10003)+"</span>"+e};var i=n(2),r=n(1);function o(e,t){return"border_row"+e+"col"+t}function a(){return{hide:!0}}function s(){return{width:1,color:"#000",cornerVisible:!1}}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports={}},function(e,t,n){var i=n(20).f,r=n(29),o=n(11)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";t.__esModule=!0,t.EditorState=void 0;var i=n(4),r=n(16),o=t.EditorState={VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"};function a(e){this.instance=e,this.state=o.VIRGIN,this._opened=!1,this._fullEditMode=!1,this._closeCallback=null,this.init()}a.prototype._fireCallbacks=function(e){this._closeCallback&&(this._closeCallback(e),this._closeCallback=null)},a.prototype.init=function(){},a.prototype.getValue=function(){throw Error("Editor getValue() method unimplemented")},a.prototype.setValue=function(e){throw Error("Editor setValue() method unimplemented")},a.prototype.open=function(){throw Error("Editor open() method unimplemented")},a.prototype.close=function(){throw Error("Editor close() method unimplemented")},a.prototype.prepare=function(e,t,n,i,r,a){this.TD=i,this.row=e,this.col=t,this.prop=n,this.originalValue=r,this.cellProperties=a,this.state=o.VIRGIN},a.prototype.extend=function(){var e=this.constructor;return function(e,t){function n(){}return n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e}(function(){e.apply(this,arguments)},e)},a.prototype.saveValue=function(e,t){var n=void 0,i=void 0;t?((n=this.instance.getSelectedLast())[0]>n[2]&&(i=n[0],n[0]=n[2],n[2]=i),n[1]>n[3]&&(i=n[1],n[1]=n[3],n[3]=i)):n=[this.row,this.col,null,null],this.instance.populateFromArray(n[0],n[1],e,n[2],n[3],"edit")},a.prototype.beginEditing=function(e,t){this.state===o.VIRGIN&&(this.instance.view.scrollViewport(new i.CellCoords(this.row,this.col)),this.instance.view.render(),this.state=o.EDITING,e="string"==typeof e?e:this.originalValue,this.setValue((0,r.stringify)(e)),this.open(t),this._opened=!0,this.focus(),this.instance.view.render(),this.instance.runHooks("afterBeginEditing",this.row,this.col))},a.prototype.finishEditing=function(e,t,n){var i,r=this;if(n){var a=this._closeCallback;this._closeCallback=function(e){a&&a(e),n(e),r.instance.view.render()}}if(!this.isWaiting())if(this.state!=o.VIRGIN){if(this.state==o.EDITING){if(e)return this.cancelChanges(),void this.instance.view.render();var s=this.getValue();i=this.instance.getSettings().trimWhitespace?[["string"==typeof s?String.prototype.trim.call(s||""):s]]:[[s]],this.state=o.WAITING,this.saveValue(i,t),this.instance.getCellValidator(this.cellProperties)?this.instance.addHookOnce("postAfterValidate",function(e){r.state=o.FINISHED,r.discardEditor(e)}):(this.state=o.FINISHED,this.discardEditor(!0))}}else this.instance._registerTimeout(setTimeout(function(){r._fireCallbacks(!0)},0))},a.prototype.cancelChanges=function(){this.state=o.FINISHED,this.discardEditor()},a.prototype.discardEditor=function(e){this.state===o.FINISHED&&(!1===e&&!0!==this.cellProperties.allowInvalid?(this.instance.selectCell(this.row,this.col),this.focus(),this.state=o.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=o.VIRGIN,this._fireCallbacks(!0)))},a.prototype.enableFullEditMode=function(){this._fullEditMode=!0},a.prototype.isInFullEditMode=function(){return this._fullEditMode},a.prototype.isOpened=function(){return this._opened},a.prototype.isWaiting=function(){return this.state===o.WAITING},a.prototype.checkEditorSection=function(){var e=this.instance.countRows(),t="";return this.row<this.instance.getSettings().fixedRowsTop?t=this.col<this.instance.getSettings().fixedColumnsLeft?"top-left-corner":"top":this.instance.getSettings().fixedRowsBottom&&this.row>=e-this.instance.getSettings().fixedRowsBottom?t=this.col<this.instance.getSettings().fixedColumnsLeft?"bottom-left-corner":"bottom":this.col<this.instance.getSettings().fixedColumnsLeft&&(t="left"),t},t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),void 0!==t&&void 0!==n?(this.row=t,this.col=n):(this.row=null,this.col=null)}return i(e,[{key:"isValid",value:function(e){return!(this.row<0||this.col<0)&&!(this.row>=e.getSetting("totalRows")||this.col>=e.getSetting("totalColumns"))}},{key:"isEqual",value:function(e){return e===this||this.row===e.row&&this.col===e.col}},{key:"isSouthEastOf",value:function(e){return this.row>=e.row&&this.col>=e.col}},{key:"isNorthWestOf",value:function(e){return this.row<=e.row&&this.col<=e.col}},{key:"isSouthWestOf",value:function(e){return this.row>=e.row&&this.col<=e.col}},{key:"isNorthEastOf",value:function(e){return this.row<=e.row&&this.col>=e.col}},{key:"toObject",value:function(){return{row:this.row,col:this.col}}}]),e}();t.default=r},function(t,n){t.exports=e},function(e,t,n){"use strict";t.__esModule=!0,t.log=function(){var e;(0,i.isDefined)(console)&&(e=console).log.apply(e,arguments)},t.warn=function(){var e;(0,i.isDefined)(console)&&(e=console).warn.apply(e,arguments)},t.info=function(){var e;(0,i.isDefined)(console)&&(e=console).info.apply(e,arguments)},t.error=function(){var e;(0,i.isDefined)(console)&&(e=console).error.apply(e,arguments)};var i=n(16)},function(e,t,n){"use strict";t.__esModule=!0;var i=n(0),r=u(n(233)),o=n(53),a=u(o),s=u(n(6)),l=n(21),c=n(12);function u(e){return e&&e.__esModule?e:{default:e}}var d=a.default.prototype.extend();d.prototype.init=function(){var e=this;this.createElements(),this.eventManager=new s.default(this),this.bindEvents(),this.autoResize=(0,r.default)(),this.instance.addHook("afterDestroy",function(){e.destroy()})},d.prototype.getValue=function(){return this.TEXTAREA.value},d.prototype.setValue=function(e){this.TEXTAREA.value=e};var h=function(e){var t,n=this.getActiveEditor();if(t=(e.ctrlKey||e.metaKey)&&!e.altKey,e.target===n.TEXTAREA&&!(0,c.isImmediatePropagationStopped)(e))if(17!==e.keyCode&&224!==e.keyCode&&91!==e.keyCode&&93!==e.keyCode){switch(e.keyCode){case l.KEY_CODES.ARROW_RIGHT:case l.KEY_CODES.ARROW_LEFT:n.isInFullEditMode()&&(!n.isWaiting()&&!n.allowKeyEventPropagation||!n.isWaiting()&&n.allowKeyEventPropagation&&!n.allowKeyEventPropagation(e.keyCode))&&(0,c.stopImmediatePropagation)(e);break;case l.KEY_CODES.ARROW_UP:case l.KEY_CODES.ARROW_DOWN:n.isInFullEditMode()&&(!n.isWaiting()&&!n.allowKeyEventPropagation||!n.isWaiting()&&n.allowKeyEventPropagation&&!n.allowKeyEventPropagation(e.keyCode))&&(0,c.stopImmediatePropagation)(e);break;case l.KEY_CODES.ENTER:var r=this.selection.isMultiple();if(t&&!r||e.altKey){if(n.isOpened()){var o=(0,i.getCaretPosition)(n.TEXTAREA),a=n.getValue(),s=a.slice(0,o)+"\n"+a.slice(o);n.setValue(s),(0,i.setCaretPosition)(n.TEXTAREA,o+1)}else n.beginEditing(n.originalValue+"\n");(0,c.stopImmediatePropagation)(e)}e.preventDefault();break;case l.KEY_CODES.A:case l.KEY_CODES.X:case l.KEY_CODES.C:case l.KEY_CODES.V:t&&(0,c.stopImmediatePropagation)(e);break;case l.KEY_CODES.BACKSPACE:case l.KEY_CODES.DELETE:case l.KEY_CODES.HOME:case l.KEY_CODES.END:(0,c.stopImmediatePropagation)(e)}-1===[l.KEY_CODES.ARROW_UP,l.KEY_CODES.ARROW_RIGHT,l.KEY_CODES.ARROW_DOWN,l.KEY_CODES.ARROW_LEFT].indexOf(e.keyCode)&&n.autoResize.resize(String.fromCharCode(e.keyCode))}else(0,c.stopImmediatePropagation)(e)};d.prototype.open=function(){this.refreshDimensions(),this.instance.addHook("beforeKeyDown",h)},d.prototype.close=function(e){this.textareaParentStyle.display="none",this.autoResize.unObserve(),document.activeElement===this.TEXTAREA&&this.instance.listen(),this.instance.removeHook("beforeKeyDown",h)},d.prototype.focus=function(){this.TEXTAREA.focus(),(0,i.setCaretPosition)(this.TEXTAREA,this.TEXTAREA.value.length)},d.prototype.createElements=function(){this.TEXTAREA=document.createElement("TEXTAREA"),(0,i.addClass)(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.TEXTAREA_PARENT=document.createElement("DIV"),(0,i.addClass)(this.TEXTAREA_PARENT,"handsontableInputHolder"),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.textareaParentStyle.top=0,this.textareaParentStyle.left=0,this.textareaParentStyle.display="none",this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.instance.rootElement.appendChild(this.TEXTAREA_PARENT);var e=this;this.instance._registerTimeout(setTimeout(function(){e.refreshDimensions()},0))},d.prototype.getEditedCell=function(){var e;switch(this.checkEditorSection()){case"top":e=this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=101;break;case"top-left-corner":e=this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=103;break;case"bottom-left-corner":e=this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=103;break;case"left":e=this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=102;break;case"bottom":e=this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=102;break;default:e=this.instance.getCell(this.row,this.col),this.textareaParentStyle.zIndex=""}return-1!=e&&-2!=e?e:void 0},d.prototype.refreshValue=function(){var e=this.instance.getSourceDataAtCell(this.row,this.prop);this.originalValue=e,this.setValue(e),this.refreshDimensions()},d.prototype.refreshDimensions=function(){if(this.state===o.EditorState.EDITING)if(this.TD=this.getEditedCell(),this.TD){var e=(0,i.offset)(this.TD),t=(0,i.offset)(this.instance.rootElement),n=this.instance.view.wt.wtOverlays.topOverlay.mainTableScrollableElement,r=this.instance.countRows(),a=n!==window?n.scrollTop:0,s=n!==window?n.scrollLeft:0,l=this.checkEditorSection(),c=["","left"].includes(l)?a:0,u=["","top","bottom"].includes(l)?s:0,d=e.top===t.top?0:1,h=this.instance.getSettings(),f=(this.instance.hasRowHeaders(),this.instance.hasColHeaders()),p=this.TD.style.backgroundColor,m=e.top-t.top-d-c,g=e.left-t.left-1-u,_=void 0;switch(l){case"top":_=(0,i.getCssTransform)(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);break;case"left":_=(0,i.getCssTransform)(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);break;case"top-left-corner":_=(0,i.getCssTransform)(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom-left-corner":_=(0,i.getCssTransform)(this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom":_=(0,i.getCssTransform)(this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.holder.parentNode)}(f&&0===this.instance.getSelectedLast()[0]||h.fixedRowsBottom&&this.instance.getSelectedLast()[0]===r-h.fixedRowsBottom)&&(m+=1),0===this.instance.getSelectedLast()[1]&&(g+=1),_&&-1!=_?this.textareaParentStyle[_[0]]=_[1]:(0,i.resetCssTransform)(this.TEXTAREA_PARENT),this.textareaParentStyle.top=m+"px",this.textareaParentStyle.left=g+"px";var v=this.instance.view.wt.wtViewport.rowsRenderCalculator.startPosition,y=this.instance.view.wt.wtViewport.columnsRenderCalculator.startPosition,b=this.instance.view.wt.wtOverlays.leftOverlay.getScrollPosition(),w=this.instance.view.wt.wtOverlays.topOverlay.getScrollPosition(),k=(0,i.getScrollbarWidth)(),M=this.TD.offsetTop+v-w,x=this.TD.offsetLeft+y-b,C=(0,i.innerWidth)(this.TD)-8,S=(0,i.hasVerticalScrollbar)(n)?k:0,T=(0,i.hasHorizontalScrollbar)(n)?k:0,L=this.instance.view.maximumVisibleElementWidth(x)-9-S,E=this.TD.scrollHeight+1,D=Math.max(this.instance.view.maximumVisibleElementHeight(M)-T,23),O=(0,i.getComputedStyle)(this.TD);this.TEXTAREA.style.fontSize=O.fontSize,this.TEXTAREA.style.fontFamily=O.fontFamily,this.TEXTAREA.style.backgroundColor="",this.TEXTAREA.style.backgroundColor=p||(0,i.getComputedStyle)(this.TEXTAREA).backgroundColor,this.autoResize.init(this.TEXTAREA,{minHeight:Math.min(E,D),maxHeight:D,minWidth:Math.min(C,L),maxWidth:L},!0),this.textareaParentStyle.display="block"}else this.close(!0)},d.prototype.bindEvents=function(){var e=this;this.eventManager.addEventListener(this.TEXTAREA,"cut",function(e){(0,c.stopPropagation)(e)}),this.eventManager.addEventListener(this.TEXTAREA,"paste",function(e){(0,c.stopPropagation)(e)}),this.instance.addHook("afterScrollHorizontally",function(){e.refreshDimensions()}),this.instance.addHook("afterScrollVertically",function(){e.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){e.refreshDimensions(),e.focus()}),this.instance.addHook("afterRowResize",function(){e.refreshDimensions(),e.focus()}),this.instance.addHook("afterDestroy",function(){e.eventManager.destroy()})},d.prototype.destroy=function(){this.eventManager.destroy()},t.default=d},function(e,t,n){"use strict";t.__esModule=!0;var i=n(1),r=n(2),o={_localHooks:Object.create(null),addLocalHook:function(e,t){this._localHooks[e]||(this._localHooks[e]=[]),this._localHooks[e].push(t)},runLocalHooks:function(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this._localHooks[e]&&(0,i.arrayEach)(this._localHooks[e],function(e){return e.apply(t,r)})},clearLocalHooks:function(){this._localHooks={}}};(0,r.defineGetter)(o,"MIXIN_NAME","localHooks",{writable:!1,enumerable:!1}),t.default=o},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(59),r=Math.max,o=Math.min;e.exports=function(e,t){return(e=i(e))<0?r(e+t,0):o(e,t)}},function(e,t,n){var i=n(30);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var i=n(32),r=n(102),o=n(103),a=n(18),s=n(25),l=n(104),c={},u={};(t=e.exports=function(e,t,n,d,h){var f,p,m,g,_=h?function(){return e}:l(e),v=i(n,d,t?2:1),y=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(o(_)){for(f=s(e.length);f>y;y++)if((g=t?v(a(p=e[y])[0],p[1]):v(e[y]))===c||g===u)return g}else for(m=_.call(e);!(p=m.next()).done;)if((g=r(m,v,p.value,t))===c||g===u)return g}).BREAK=c,t.RETURN=u},function(e,t){e.exports=!1},function(e,t,n){"use strict";var i=n(14),r=n(3),o=n(30),a=n(61),s=n(34),l=n(64),c=n(63),u=n(9),d=n(23),h=n(79),f=n(51),p=n(209);e.exports=function(e,t,n,m,g,_){var v=i[e],y=v,b=g?"set":"add",w=y&&y.prototype,k={},M=function(e){var t=w[e];o(w,e,"delete"==e?function(e){return!(_&&!u(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(_&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return _&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof y&&(_||w.forEach&&!d(function(){(new y).entries().next()}))){var x=new y,C=x[b](_?{}:-0,1)!=x,S=d(function(){x.has(1)}),T=h(function(e){new y(e)}),L=!_&&d(function(){for(var e=new y,t=5;t--;)e[b](t,t);return!e.has(-0)});T||((y=t(function(t,n){c(t,y,e);var i=p(new v,t,y);return void 0!=n&&l(n,g,i[b],i),i})).prototype=w,w.constructor=y),(S||L)&&(M("delete"),M("has"),g&&M("get")),(L||C)&&M(b),_&&w.clear&&delete w.clear}else y=m.getConstructor(t,e,g,b),a(y.prototype,n),s.NEED=!0;return f(y,e),k[e]=y,r(r.G+r.W+r.F*(y!=v),k),_||m.setStrong(y,e,g),y}},function(e,t,n){var i=n(52),r=n(49),o=n(24),a=n(73),s=n(29),l=n(98),c=Object.getOwnPropertyDescriptor;t.f=n(22)?c:function(e,t){if(e=o(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return r(!i.f.call(e,t),e[t])}},function(e,t,n){var i=n(32),r=n(75),o=n(33),a=n(25),s=n(210);e.exports=function(e,t){var n=1==e,l=2==e,c=3==e,u=4==e,d=6==e,h=5==e||d,f=t||s;return function(t,s,p){for(var m,g,_=o(t),v=r(_),y=i(s,p,3),b=a(v.length),w=0,k=n?f(t,b):l?f(t,0):void 0;b>w;w++)if((h||w in v)&&(g=y(m=v[w],w,_),e))if(n)k[w]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:k.push(m)}else if(u)return!1;return d?-1:c||u?u:k}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var i=n(31),r=n(30),o=n(23),a=n(38),s=n(11);e.exports=function(e,t,n){var l=s(e),c=n(a,l,""[e]),u=c[0],d=c[1];o(function(){var t={};return t[l]=function(){return 7},7!=""[e](t)})&&(r(String.prototype,e,u),i(RegExp.prototype,l,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)}))}},function(e,t,n){"use strict";t.__esModule=!0,t.DEFAULT_LANGUAGE_CODE=t.getLanguagesDictionaries=t.getDefaultLanguageDictionary=t.hasLanguageDictionary=t.getLanguageDictionary=t.registerLanguageDictionary=void 0;var i=n(2),r=n(197),o=s(n(39)),a=s(n(269));function s(e){return e&&e.__esModule?e:{default:e}}var l=a.default.languageCode,c=(0,o.default)("languagesDictionaries"),u=c.register,d=c.getItem,h=c.hasItem,f=c.getValues;function p(e,t){var n=e;return(0,i.isObject)(e)&&(n=(t=e).languageCode),function(e,t){e!==l&&(0,r.extendNotExistingKeys)(t,d(l))}(n,t),u(n,(0,i.deepClone)(t)),(0,i.deepClone)(t)}function m(e){return h(e)}t.registerLanguageDictionary=p,t.getLanguageDictionary=function(e){return m(e)?(0,i.deepClone)(d(e)):null},t.hasLanguageDictionary=m,t.getDefaultLanguageDictionary=function(){return a.default},t.getLanguagesDictionaries=function(){return f()},t.DEFAULT_LANGUAGE_CODE=l,p(a.default)},function(e,t,n){var i=n(9),r=n(14).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,n){var i=n(9);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var i=n(18),r=n(207),o=n(78),a=n(76)("IE_PROTO"),s=function(){},l=function(){var e,t=n(72)("iframe"),i=o.length;for(t.style.display="none",n(101).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;i--;)delete l.prototype[o[i]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=i(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:r(n,t)}},function(e,t,n){var i=n(43);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t,n){var i=n(77)("keys"),r=n(48);e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t,n){var i=n(14),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});e.exports=function(e){return r[e]||(r[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var i=n(11)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){var i,r,o,a=n(32),s=n(213),l=n(101),c=n(72),u=n(14),d=u.process,h=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,m=u.Dispatch,g=0,_={},v=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},y=function(e){v.call(e.data)};h&&f||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _[++g]=function(){s("function"==typeof e?e:Function(e),t)},i(g),g},f=function(e){delete _[e]},"process"==n(43)(d)?i=function(e){d.nextTick(a(v,e,1))}:m&&m.now?i=function(e){m.now(a(v,e,1))}:p?(o=(r=new p).port2,r.port1.onmessage=y,i=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(e){u.postMessage(e+"","*")},u.addEventListener("message",y,!1)):i="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),v.call(e)}}:function(e){setTimeout(a(v,e,1),0)}),e.exports={set:h,clear:f}},function(e,t,n){var i=n(99),r=n(78).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){var i=n(142),r=n(38);e.exports=function(e,t,n){if(i(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(e))}},function(e,t,n){var i=n(11)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){"use strict";var i=n(20),r=n(49);e.exports=function(e,t,n){t in e?i.f(e,t,r(0,n)):e[t]=n}},function(e,t,n){"use strict";var i=n(46),r=n(108),o=n(50),a=n(24);e.exports=n(106)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(54));var o=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.highlight=t,this.from=n,this.to=i}return i(e,[{key:"setHighlight",value:function(e){return this.highlight=e,this}},{key:"setFrom",value:function(e){return this.from=e,this}},{key:"setTo",value:function(e){return this.to=e,this}},{key:"isValid",value:function(e){return this.from.isValid(e)&&this.to.isValid(e)}},{key:"isSingle",value:function(){return this.from.row===this.to.row&&this.from.col===this.to.col}},{key:"getHeight",value:function(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}},{key:"getWidth",value:function(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}},{key:"includes",value:function(e){var t=e.row,n=e.col,i=this.getTopLeftCorner(),r=this.getBottomRightCorner();return i.row<=t&&r.row>=t&&i.col<=n&&r.col>=n}},{key:"includesRange",value:function(e){return this.includes(e.getTopLeftCorner())&&this.includes(e.getBottomRightCorner())}},{key:"isEqual",value:function(e){return Math.min(this.from.row,this.to.row)===Math.min(e.from.row,e.to.row)&&Math.max(this.from.row,this.to.row)===Math.max(e.from.row,e.to.row)&&Math.min(this.from.col,this.to.col)===Math.min(e.from.col,e.to.col)&&Math.max(this.from.col,this.to.col)===Math.max(e.from.col,e.to.col)}},{key:"overlaps",value:function(e){return e.isSouthEastOf(this.getTopLeftCorner())&&e.isNorthWestOf(this.getBottomRightCorner())}},{key:"isSouthEastOf",value:function(e){return this.getTopLeftCorner().isSouthEastOf(e)||this.getBottomRightCorner().isSouthEastOf(e)}},{key:"isNorthWestOf",value:function(e){return this.getTopLeftCorner().isNorthWestOf(e)||this.getBottomRightCorner().isNorthWestOf(e)}},{key:"isOverlappingHorizontally",value:function(e){return this.getTopRightCorner().col>=e.getTopLeftCorner().col&&this.getTopRightCorner().col<=e.getTopRightCorner().col||this.getTopLeftCorner().col<=e.getTopRightCorner().col&&this.getTopLeftCorner().col>=e.getTopLeftCorner().col}},{key:"isOverlappingVertically",value:function(e){return this.getBottomRightCorner().row>=e.getTopRightCorner().row&&this.getBottomRightCorner().row<=e.getBottomRightCorner().row||this.getTopRightCorner().row<=e.getBottomRightCorner().row&&this.getTopRightCorner().row>=e.getTopRightCorner().row}},{key:"expand",value:function(e){var t=this.getTopLeftCorner(),n=this.getBottomRightCorner();return(e.row<t.row||e.col<t.col||e.row>n.row||e.col>n.col)&&(this.from=new r.default(Math.min(t.row,e.row),Math.min(t.col,e.col)),this.to=new r.default(Math.max(n.row,e.row),Math.max(n.col,e.col)),!0)}},{key:"expandByRange",value:function(e){if(this.includesRange(e)||!this.overlaps(e))return!1;var t=this.getTopLeftCorner(),n=this.getBottomRightCorner(),i=this.getDirection(),o=e.getTopLeftCorner(),a=e.getBottomRightCorner(),s=Math.min(t.row,o.row),l=Math.min(t.col,o.col),c=Math.max(n.row,a.row),u=Math.max(n.col,a.col),d=new r.default(s,l),h=new r.default(c,u);return this.from=d,this.to=h,this.setDirection(i),this.highlight.row===this.getBottomRightCorner().row&&"N-S"===this.getVerticalDirection()&&this.flipDirectionVertically(),this.highlight.col===this.getTopRightCorner().col&&"W-E"===this.getHorizontalDirection()&&this.flipDirectionHorizontally(),!0}},{key:"getDirection",value:function(){return this.from.isNorthWestOf(this.to)?"NW-SE":this.from.isNorthEastOf(this.to)?"NE-SW":this.from.isSouthEastOf(this.to)?"SE-NW":this.from.isSouthWestOf(this.to)?"SW-NE":void 0}},{key:"getVerticalDirection",value:function(){return["NE-SW","NW-SE"].indexOf(this.getDirection())>-1?"N-S":"S-N"}},{key:"getHorizontalDirection",value:function(){return["NW-SE","SW-NE"].indexOf(this.getDirection())>-1?"W-E":"E-W"}},{key:"setDirection",value:function(e){switch(e){case"NW-SE":var t=[this.getTopLeftCorner(),this.getBottomRightCorner()];this.from=t[0],this.to=t[1];break;case"NE-SW":var n=[this.getTopRightCorner(),this.getBottomLeftCorner()];this.from=n[0],this.to=n[1];break;case"SE-NW":var i=[this.getBottomRightCorner(),this.getTopLeftCorner()];this.from=i[0],this.to=i[1];break;case"SW-NE":var r=[this.getBottomLeftCorner(),this.getTopRightCorner()];this.from=r[0],this.to=r[1]}}},{key:"flipDirectionVertically",value:function(){switch(this.getDirection()){case"NW-SE":this.setDirection("SW-NE");break;case"NE-SW":this.setDirection("SE-NW");break;case"SE-NW":this.setDirection("NE-SW");break;case"SW-NE":this.setDirection("NW-SE")}}},{key:"flipDirectionHorizontally",value:function(){switch(this.getDirection()){case"NW-SE":this.setDirection("NE-SW");break;case"NE-SW":this.setDirection("NW-SE");break;case"SE-NW":this.setDirection("SW-NE");break;case"SW-NE":this.setDirection("SE-NW")}}},{key:"getTopLeftCorner",value:function(){return new r.default(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"getBottomRightCorner",value:function(){return new r.default(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getTopRightCorner",value:function(){return new r.default(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getBottomLeftCorner",value:function(){return new r.default(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"isCorner",value:function(e,t){return!!(t&&t.includes(e)&&(this.getTopLeftCorner().isEqual(new r.default(t.from.row,t.from.col))||this.getTopRightCorner().isEqual(new r.default(t.from.row,t.to.col))||this.getBottomLeftCorner().isEqual(new r.default(t.to.row,t.from.col))||this.getBottomRightCorner().isEqual(new r.default(t.to.row,t.to.col))))||(e.isEqual(this.getTopLeftCorner())||e.isEqual(this.getTopRightCorner())||e.isEqual(this.getBottomLeftCorner())||e.isEqual(this.getBottomRightCorner()))}},{key:"getOppositeCorner",value:function(e,t){if(!(e instanceof r.default))return!1;if(t&&t.includes(e)){if(this.getTopLeftCorner().isEqual(new r.default(t.from.row,t.from.col)))return this.getBottomRightCorner();if(this.getTopRightCorner().isEqual(new r.default(t.from.row,t.to.col)))return this.getBottomLeftCorner();if(this.getBottomLeftCorner().isEqual(new r.default(t.to.row,t.from.col)))return this.getTopRightCorner();if(this.getBottomRightCorner().isEqual(new r.default(t.to.row,t.to.col)))return this.getTopLeftCorner()}return e.isEqual(this.getBottomRightCorner())?this.getTopLeftCorner():e.isEqual(this.getTopLeftCorner())?this.getBottomRightCorner():e.isEqual(this.getTopRightCorner())?this.getBottomLeftCorner():e.isEqual(this.getBottomLeftCorner())?this.getTopRightCorner():void 0}},{key:"getBordersSharedWith",value:function(e){if(!this.includesRange(e))return[];var t=Math.min(this.from.row,this.to.row),n=Math.max(this.from.row,this.to.row),i=Math.min(this.from.col,this.to.col),r=Math.max(this.from.col,this.to.col),o=Math.min(e.from.row,e.to.row),a=Math.max(e.from.row,e.to.row),s=Math.min(e.from.col,e.to.col),l=Math.max(e.from.col,e.to.col),c=[];return t==o&&c.push("top"),r==l&&c.push("right"),n==a&&c.push("bottom"),i==s&&c.push("left"),c}},{key:"getInner",value:function(){for(var e=this.getTopLeftCorner(),t=this.getBottomRightCorner(),n=[],i=e.row;i<=t.row;i++)for(var o=e.col;o<=t.col;o++)this.from.row===i&&this.from.col===o||this.to.row===i&&this.to.col===o||n.push(new r.default(i,o));return n}},{key:"getAll",value:function(){for(var e=this.getTopLeftCorner(),t=this.getBottomRightCorner(),n=[],i=e.row;i<=t.row;i++)for(var o=e.col;o<=t.col;o++)e.row===i&&e.col===o?n.push(e):t.row===i&&t.col===o?n.push(t):n.push(new r.default(i,o));return n}},{key:"forAll",value:function(e){for(var t=this.getTopLeftCorner(),n=this.getBottomRightCorner(),i=t.row;i<=n.row;i++)for(var r=t.col;r<=n.col;r++){if(!1===e(i,r))return}}},{key:"toObject",value:function(){return{from:this.from.toObject(),to:this.to.toObject()}}}]),e}();t.default=o},function(e,t,n){"use strict";t.__esModule=!0,t.getRegisteredCellTypes=t.getRegisteredCellTypeNames=t.hasCellType=t.getCellType=t.registerCellType=void 0;var i=g(n(39)),r=n(17),o=n(13),a=n(28),s=g(n(254)),l=g(n(255)),c=g(n(256)),u=g(n(257)),d=g(n(258)),h=g(n(259)),f=g(n(260)),p=g(n(261)),m=g(n(262));function g(e){return e&&e.__esModule?e:{default:e}}var _=(0,i.default)("cellTypes"),v=_.register,y=_.getItem,b=_.hasItem,w=_.getNames,k=_.getValues;function M(e,t){var n=t.editor,i=t.renderer,s=t.validator;n&&(0,r.registerEditor)(e,n),i&&(0,o.registerRenderer)(e,i),s&&(0,a.registerValidator)(e,s),v(e,t)}M("autocomplete",s.default),M("checkbox",l.default),M("date",c.default),M("dropdown",u.default),M("handsontable",d.default),M("numeric",h.default),M("password",f.default),M("text",p.default),M("time",m.default),t.registerCellType=M,t.getCellType=function(e){if(!b(e))throw Error('You declared cell type "'+e+'" as a string that is not mapped to a known object.\n                 Cell type must be an object or a string mapped to an object registered by "Handsontable.cellTypes.registerCellType" method');return y(e)},t.hasCellType=b,t.getRegisteredCellTypeNames=w,t.getRegisteredCellTypes=k},function(e,t,n){"use strict";t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["Deprecation warning: This method is going to be removed in the next release. \n      If you want to select a cell using props, please use the `selectCell` method."],["Deprecation warning: This method is going to be removed in the next release.\\x20\n      If you want to select a cell using props, please use the \\`selectCell\\` method."]);t.default=function(e,t){var n,N,F,$,W,z=this,B=arguments.length>2&&void 0!==arguments[2]&&arguments[2],V=!1,U=this,q=function(){},G=new p.default(U);(0,m.extend)(q.prototype,D.default.prototype),(0,m.extend)(q.prototype,t),(0,m.extend)(q.prototype,ie(t)),(0,R.applyLanguageSetting)(q.prototype,t.language),(0,T.hasValidParameter)(B)&&(0,T.registerAsRootInstance)(this);(0,j.startObserving)(),this.rootElement=e,this.isHotTableEnv=(0,a.isChildOfWebComponentTable)(this.rootElement),p.default.isHotTableEnv=this.isHotTableEnv,this.container=document.createElement("div"),this.renderCall=!1,e.insertBefore(this.container,e.firstChild),0;this.guid="ht_"+(0,w.randomString)();var J=(0,S.getTranslator)(U);F=new x.default(U),this.rootElement.id&&"ht_"!==this.rootElement.id.substring(0,3)||(this.rootElement.id=this.guid);n={cellSettings:[],columnSettings:[],columnsSettingConflicts:["data","width","language"],settings:new q,selRange:null,isPopulated:null,scrollable:null,firstRun:!0};var K=new P.Selection(n.settings,{countCols:function(){return U.countCols()},countRows:function(){return U.countRows()},propToCol:function(e){return N.propToCol(e)},isEditorOpened:function(){return!!U.getActiveEditor()&&U.getActiveEditor().isOpened()}});function X(e){var t=(0,R.normalizeLanguageCode)(e);(0,Y.hasLanguageDictionary)(t)?(U.runHooks("beforeLanguageChange",t),q.prototype.language=t,U.runHooks("afterLanguageChange",t)):(0,R.warnUserAboutLanguageRegistration)(e)}function Q(){var e=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue:function(){this.validatorsInQueue++,e=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(e){},checkIfQueueIsEmpty:function(){0==this.validatorsInQueue&&0==e&&(e=!0,this.onQueueEmpty(this.valid))}}}function Z(e){var t=e.replace(",",".");return!1===isNaN(parseFloat(t))?parseFloat(t):e}function ee(e,t,n){var i=new Q,o=function(e){return e.length>0&&/^-?[\d\s]*(\.|,)?\d*$/.test(e)};i.onQueueEmpty=function(){var i;e.length&&(i=U.runHooks("beforeChange",e,t||"edit"),(0,l.isFunction)(i)?(0,c.warn)("Your beforeChange callback returns a function. It's not supported since Handsontable 0.12.1 (and the returned function will not be executed)."):!1===i&&e.splice(0,e.length));n()};for(var s=e.length-1;s>=0;s--)if(null===e[s])e.splice(s,1);else{var u=r(e[s],4),d=u[0],h=u[1],f=u[3],p=N.propToCol(h),m=U.getCellMeta(d,p);"numeric"===m.type&&"string"==typeof f&&o(f)&&(e[s][3]=Z(f)),U.getCellValidator(m)&&(i.addValidatorToQueue(),U.validateCell(e[s][3],m,function(t,n){return function(r){if("boolean"!=typeof r)throw new Error("Validation error: result is not boolean");if(!1===r&&!1===n.allowInvalid){e.splice(t,1),n.valid=!0;var o=U.getCell(n.visualRow,n.visualCol);(0,a.removeClass)(o,U.getSettings().invalidCellClassName),--t}i.removeValidatorFormQueue()}}(s,m),t))}i.checkIfQueueIsEmpty()}function te(e,t){var i=e.length-1;if(!(i<0)){for(;i>=0;i--){var r=!1;if(null!==e[i]){if(null!=e[i][2]||null!=e[i][3]){if(n.settings.allowInsertRow)for(;e[i][0]>U.countRows()-1;){var o=N.createRow(void 0,void 0,t);if(0===o){r=!0;break}}if(!r){if("array"===U.dataType&&(!n.settings.columns||0===n.settings.columns.length)&&n.settings.allowInsertColumn)for(;N.propToCol(e[i][1])>U.countCols()-1;)N.createCol(void 0,void 0,t);N.set(e[i][0],e[i][1],e[i][3])}}}else e.splice(i,1)}U.forceFullRender=!0,$.adjustRowsAndCols(),U.runHooks("beforeChangeRender",e,t),W.lockEditor(),U._refreshBorders(null),W.unlockEditor(),U.view.wt.wtOverlays.adjustElementsSize(),U.runHooks("afterChange",e,t||"edit");var a=U.getActiveEditor();a&&(0,u.isDefined)(a.refreshValue)&&a.refreshValue()}}function ne(e,t,n){return"object"===(void 0===e?"undefined":i(e))?e:[[e,t,n]]}function ie(e){if((0,m.hasOwnProperty)(e,"type")){var t,n={};for(var r in"object"===i(e.type)?t=e.type:"string"==typeof e.type&&(t=(0,O.getCellType)(e.type)),t)(0,m.hasOwnProperty)(t,r)&&!(0,m.hasOwnProperty)(e,r)&&(n[r]=t[r]);return n}}this.selection=K,this.selection.addLocalHook("beforeSetRangeStart",function(e){z.runHooks("beforeSetRangeStart",e)}),this.selection.addLocalHook("beforeSetRangeStartOnly",function(e){z.runHooks("beforeSetRangeStartOnly",e)}),this.selection.addLocalHook("beforeSetRangeEnd",function(e){z.runHooks("beforeSetRangeEnd",e),e.row<0&&(e.row=z.view.wt.wtTable.getFirstVisibleRow()),e.col<0&&(e.col=z.view.wt.wtTable.getFirstVisibleColumn())}),this.selection.addLocalHook("afterSetRangeEnd",function(e){var t=(0,m.createObjectPropListener)(!1),n=z.selection.getSelectedRange(),i=n.current(),r=i.from,o=i.to,s=n.size()-1;z.runHooks("afterSelection",r.row,r.col,o.row,o.col,t,s),z.runHooks("afterSelectionByProp",r.row,U.colToProp(r.col),o.row,U.colToProp(o.col),t,s);var l=z.selection.isSelectedByAnyHeader(),c=z.selection.selectedRange.current(),u=!0;V&&(u=!1),t.isTouched()&&(u=!t.value),!1===u||l||(c&&!z.selection.isMultiple()?z.view.scrollViewport(c.from):z.view.scrollViewport(e));var d=z.selection.isSelectedByRowHeader(),h=z.selection.isSelectedByColumnHeader();d&&h?(0,a.addClass)(z.rootElement,["ht__selection--rows","ht__selection--columns"]):d?((0,a.removeClass)(z.rootElement,"ht__selection--columns"),(0,a.addClass)(z.rootElement,"ht__selection--rows")):h?((0,a.removeClass)(z.rootElement,"ht__selection--rows"),(0,a.addClass)(z.rootElement,"ht__selection--columns")):(0,a.removeClass)(z.rootElement,["ht__selection--rows","ht__selection--columns"]),z._refreshBorders(null)}),this.selection.addLocalHook("afterSelectionFinished",function(e){var t=e.length-1,n=e[t],i=n.from,r=n.to;z.runHooks("afterSelectionEnd",i.row,i.col,r.row,r.col,t),z.runHooks("afterSelectionEndByProp",i.row,U.colToProp(i.col),r.row,U.colToProp(r.col),t)}),this.selection.addLocalHook("afterIsMultipleSelection",function(e){var t=z.runHooks("afterIsMultipleSelection",e.value);e.value&&(e.value=t)}),this.selection.addLocalHook("beforeModifyTransformStart",function(e){z.runHooks("modifyTransformStart",e)}),this.selection.addLocalHook("afterModifyTransformStart",function(e,t,n){z.runHooks("afterModifyTransformStart",e,t,n)}),this.selection.addLocalHook("beforeModifyTransformEnd",function(e){z.runHooks("modifyTransformEnd",e)}),this.selection.addLocalHook("afterModifyTransformEnd",function(e,t,n){z.runHooks("afterModifyTransformEnd",e,t,n)}),this.selection.addLocalHook("afterDeselect",function(){W.destroyEditor(),z._refreshBorders(),(0,a.removeClass)(z.rootElement,["ht__selection--rows","ht__selection--columns"]),z.runHooks("afterDeselect")}),this.selection.addLocalHook("insertRowRequire",function(e){z.alter("insert_row",e,1,"auto")}),this.selection.addLocalHook("insertColRequire",function(e){z.alter("insert_col",e,1,"auto")}),$={alter:function(e,t,i,o,a){var s;function l(e,t,n,i){var r=(0,g.arrayMap)(new Array(n),function(){return function(){var e=void 0;"array"===i?e=[]:"object"===i&&(e={});return e}()});r.unshift(t,0),e.splice.apply(e,H(r))}i=i||1;var c=function(e){if(0===e.length)return[];var t=[].concat(H(e));t.sort(function(e,t){var n=r(e,1),i=n[0],o=r(t,1),a=o[0];return i===a?0:i>a?1:-1});var n=(0,g.arrayReduce)(t,function(e,t){var n=r(t,2),i=n[0],o=n[1],a=e[e.length-1],s=r(a,2),l=s[0],c=s[1],u=l+c;if(i<=u){var d=Math.max(o-(u-i),0);a[1]+=d}else e.push([i,o]);return e},[t[0]]);return n};switch(e){case"insert_row":var d=U.countSourceRows();if(U.getSettings().maxRows===d)return;t=(0,u.isDefined)(t)?t:d,s=N.createRow(t,i,o),l(n.cellSettings,t,i,"array"),s&&(K.isSelected()&&K.selectedRange.current().from.row>=t?(K.selectedRange.current().from.row+=s,K.transformEnd(s,0)):U._refreshBorders());break;case"insert_col":s=N.createCol(t,i,o);for(var h=0,f=U.countSourceRows();h<f;h++)n.cellSettings[h]&&l(n.cellSettings[h],t,i);if(s){if(Array.isArray(U.getSettings().colHeaders)){var p=[t,0];p.length+=s,Array.prototype.splice.apply(U.getSettings().colHeaders,p)}K.isSelected()&&K.selectedRange.current().from.col>=t?(K.selectedRange.current().from.col+=s,K.transformEnd(0,s)):U._refreshBorders()}break;case"remove_row":var m=function(e){var t=0;(0,g.arrayEach)(e,function(e){var i=r(e,2),a=i[0],s=i[1],l=(0,u.isEmpty)(a)?U.countRows()-1:Math.max(a-t,0);Number.isInteger(a)&&(a=Math.max(a-t,0)),N.removeRow(a,s,o),n.cellSettings.splice(l,s);var c=U.countRows(),d=U.getSettings().fixedRowsTop;d>=l+1&&(U.getSettings().fixedRowsTop-=Math.min(s,d-l));var h=U.getSettings().fixedRowsBottom;h&&l>=c-h&&(U.getSettings().fixedRowsBottom-=Math.min(s,h)),t+=s})};Array.isArray(t)?m(c(t)):m([[t,i]]),$.adjustRowsAndCols(),U._refreshBorders();break;case"remove_col":var _=function(e){var t=0;(0,g.arrayEach)(e,function(e){var i=r(e,2),a=i[0],s=i[1],l=(0,u.isEmpty)(a)?U.countCols()-1:Math.max(a-t,0),c=J.toPhysicalColumn(l);Number.isInteger(a)&&(a=Math.max(a-t,0)),N.removeCol(a,s,o);for(var d=0,h=U.countSourceRows();d<h;d++)n.cellSettings[d]&&n.cellSettings[d].splice(c,s);var f=U.getSettings().fixedColumnsLeft;f>=l+1&&(U.getSettings().fixedColumnsLeft-=Math.min(s,f-l)),Array.isArray(U.getSettings().colHeaders)&&(void 0===c&&(c=-1),U.getSettings().colHeaders.splice(c,s)),t+=s})};Array.isArray(t)?_(c(t)):_([[t,i]]),$.adjustRowsAndCols(),U._refreshBorders();break;default:throw new Error('There is no such action "'+e+'"')}a||$.adjustRowsAndCols()},adjustRowsAndCols:function(){if(n.settings.minRows){var e=U.countRows();if(e<n.settings.minRows)for(var t=0,i=n.settings.minRows;t<i-e;t++)N.createRow(U.countRows(),1,"auto")}if(n.settings.minSpareRows){var r=U.countEmptyRows(!0);if(r<n.settings.minSpareRows)for(;r<n.settings.minSpareRows&&U.countSourceRows()<n.settings.maxRows;r++)N.createRow(U.countRows(),1,"auto")}var o=void 0;if((n.settings.minCols||n.settings.minSpareCols)&&(o=U.countEmptyCols(!0)),n.settings.minCols&&!n.settings.columns&&U.countCols()<n.settings.minCols)for(;U.countCols()<n.settings.minCols;o++)N.createCol(U.countCols(),1,"auto");if(n.settings.minSpareCols&&!n.settings.columns&&"array"===U.dataType&&o<n.settings.minSpareCols)for(;o<n.settings.minSpareCols&&U.countCols()<n.settings.maxCols;o++)N.createCol(U.countCols(),1,"auto");var a=U.countRows(),s=U.countCols();0!==a&&0!==s||K.deselect(),K.isSelected()&&(0,g.arrayEach)(K.selectedRange,function(e){var t=!1,n=e.from.row,i=e.from.col,r=e.to.row,o=e.to.col;n>a-1?(t=!0,r>(n=a-1)&&(r=n)):r>a-1&&(t=!0,n>(r=a-1)&&(n=r)),i>s-1?(t=!0,o>(i=s-1)&&(o=i)):o>s-1&&(t=!0,i>(o=s-1)&&(i=o)),t&&U.selectCell(n,i,r,o)}),U.view&&U.view.wt.wtOverlays.adjustElementsSize()},populateFromArray:function(e,t,r,o,a,s,l){var c,d,h,f,p=[],g={};if(0===(d=t.length))return!1;var _,v,y,b;null===r||r.row,null===r||r.col;switch(a){case"shift_down":for(_=r?r.col-e.col+1:0,v=r?r.row-e.row+1:0,t=(0,C.translateRowsToColumns)(t),h=0,f=t.length,y=Math.max(f,_);h<y;h++)if(h<f){var w;for(c=0,d=t[h].length;c<v-d;c++)t[h].push(t[h][c%d]);t[h].unshift(e.col+h,e.row,0),(w=U).spliceCol.apply(w,H(t[h]))}else{var k;t[h%f][0]=e.col+h,(k=U).spliceCol.apply(k,H(t[h%f]))}break;case"shift_right":for(_=r?r.col-e.col+1:0,v=r?r.row-e.row+1:0,c=0,d=t.length,b=Math.max(d,v);c<b;c++)if(c<d){var M;for(h=0,f=t[c].length;h<_-f;h++)t[c].push(t[c][h%f]);t[c].unshift(e.row+c,e.col,0),(M=U).spliceRow.apply(M,H(t[c]))}else{var x;t[c%d][0]=e.row+c,(x=U).spliceRow.apply(x,H(t[c%d]))}break;case"overwrite":default:g.row=e.row,g.col=e.col;var S={row:r&&e?r.row-e.row+1:1,col:r&&e?r.col-e.col+1:1},T=0,L=0,E=!0,D=void 0,O=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=t[e%t.length];return null!==n?i[n%i.length]:i},A=t.length,Y=r?r.row-e.row+1:0;for(d=r?Y:Math.max(A,Y),c=0;c<d&&!(r&&g.row>r.row&&Y>A||!n.settings.allowInsertRow&&g.row>U.countRows()-1||g.row>=n.settings.maxRows);c++){var R=c-T,j=O(R).length,P=r?r.col-e.col+1:0;if(f=r?P:Math.max(j,P),g.col=e.col,D=U.getCellMeta(g.row,g.col),"CopyPaste.paste"!==o&&"Autofill.autofill"!==o||!D.skipRowOnPaste){for(L=0,h=0;h<f&&!(r&&g.col>r.col&&P>j||!n.settings.allowInsertColumn&&g.col>U.countCols()-1||g.col>=n.settings.maxCols);h++)if(D=U.getCellMeta(g.row,g.col),"CopyPaste.paste"!==o&&"Autofill.fill"!==o||!D.skipColumnOnPaste)if(D.readOnly)g.col++;else{var N=h-L,I=O(R,N),F=U.getDataAtCell(g.row,g.col),$={row:R,col:N};if("Autofill.fill"===o){var W=U.runHooks("beforeAutofillInsidePopulate",$,s,t,l,{},S);W&&(I=(0,u.isUndefined)(W.value)?I:W.value)}if(null!==I&&"object"===(void 0===I?"undefined":i(I)))if(null===F||"object"!==(void 0===F?"undefined":i(F)))E=!1;else{var z=(0,m.duckSchema)(F[0]||F),B=(0,m.duckSchema)(I[0]||I);(0,m.isObjectEqual)(z,B)?I=(0,m.deepClone)(I):E=!1}else null!==F&&"object"===(void 0===F?"undefined":i(F))&&(E=!1);E&&p.push([g.row,g.col,I]),E=!0,g.col++}else L++,g.col++,f++;g.row++}else T++,g.row++,d++}U.setDataAtCell(p,null,null,o||"populateFromArray")}}},this.init=function(){F.setData(n.settings.data),U.runHooks("beforeInit"),(0,d.isMobileBrowser)()&&(0,a.addClass)(U.rootElement,"mobile"),this.updateSettings(n.settings,!0),this.view=new M.default(this),W=f.default.getInstance(U,n,K,N),this.forceFullRender=!0,U.runHooks("init"),this.view.render(),"object"===i(n.firstRun)&&(U.runHooks("afterChange",n.firstRun[0],n.firstRun[1]),n.firstRun=!1),U.runHooks("afterInit")},this.validateCell=function(e,t,n,i){var r=U.getCellValidator(t);function o(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(i&&!0!==t.hidden){var r=t.visualCol,o=t.visualRow,a=U.getCell(o,r,!0);a&&"TH"!=a.nodeName&&U.view.wt.wtSettings.settings.cellRenderer(o,r,a),n(e)}else n(e)}(0,u.isRegExp)(r)&&(r=function(e){return function(t,n){n(e.test(t))}}(r)),(0,l.isFunction)(r)?(e=U.runHooks("beforeValidate",e,t.visualRow,t.prop,i),U._registerTimeout(setTimeout(function(){r.call(t,e,function(n){n=U.runHooks("afterValidate",n,e,t.visualRow,t.prop,i),t.valid=n,o(n),U.runHooks("postAfterValidate",n,e,t.visualRow,t.prop,i)})},0))):U._registerTimeout(setTimeout(function(){t.valid=!0,o(t.valid,!1)},0))},this.setDataAtCell=function(e,t,n,r){var o,a,s,l=ne(e,t,n),c=[];for(o=0,a=l.length;o<a;o++){if("object"!==i(l[o]))throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if("number"!=typeof l[o][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");s=N.colToProp(l[o][1]),c.push([l[o][0],s,F.getAtCell(J.toPhysicalRow(l[o][0]),l[o][1]),l[o][2]])}r||"object"!==(void 0===e?"undefined":i(e))||(r=t),U.runHooks("afterSetDataAtCell",c,r),ee(c,r,function(){te(c,r)})},this.setDataAtRowProp=function(e,t,n,r){var o,a,s=ne(e,t,n),l=[];for(o=0,a=s.length;o<a;o++)l.push([s[o][0],s[o][1],F.getAtCell(J.toPhysicalRow(s[o][0]),s[o][1]),s[o][2]]);r||"object"!==(void 0===e?"undefined":i(e))||(r=t),U.runHooks("afterSetDataAtRowProp",l,r),ee(l,r,function(){te(l,r)})},this.listen=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e){var t=!document.activeElement||document.activeElement&&void 0===document.activeElement.nodeName;document.activeElement&&document.activeElement!==document.body&&!t?document.activeElement.blur():t&&document.body.focus()}U&&!U.isListening()&&(I=U.guid,U.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&(I=null,U.runHooks("afterUnlisten"))},this.isListening=function(){return I===U.guid},this.destroyEditor=function(e){U._refreshBorders(e)},this.populateFromArray=function(e,t,n,r,o,a,s,l,c){var u;if("object"!==(void 0===n?"undefined":i(n))||"object"!==i(n[0]))throw new Error("populateFromArray parameter `input` must be an array of arrays");return u="number"==typeof r?new L.CellCoords(r,o):null,$.populateFromArray(new L.CellCoords(e,t),n,u,a,s,l,c)},this.spliceCol=function(e,t,n){var i;return(i=N).spliceCol.apply(i,arguments)},this.spliceRow=function(e,t,n){var i;return(i=N).spliceRow.apply(i,arguments)},this.getSelected=function(){if(K.isSelected())return(0,g.arrayMap)(K.getSelectedRange(),function(e){var t=e.from,n=e.to;return[t.row,t.col,n.row,n.col]})},this.getSelectedLast=function(){var e=this.getSelected(),t=void 0;return e&&e.length>0&&(t=e[e.length-1]),t},this.getSelectedRange=function(){if(K.isSelected())return Array.from(K.getSelectedRange())},this.getSelectedRangeLast=function(){var e=this.getSelectedRange(),t=void 0;return e&&e.length>0&&(t=e[e.length-1]),t},this.emptySelectedCells=function(){var e=this;if(K.isSelected()){var t=[];(0,g.arrayEach)(K.getSelectedRange(),function(n){var i=n.getTopLeftCorner(),r=n.getBottomRightCorner();(0,k.rangeEach)(i.row,r.row,function(n){(0,k.rangeEach)(i.col,r.col,function(i){e.getCellMeta(n,i).readOnly||t.push([n,i,""])})})}),t.length>0&&this.setDataAtCell(t)}},this.render=function(){U.view&&(U.renderCall=!0,U.forceFullRender=!0,W.lockEditor(),U._refreshBorders(null),W.unlockEditor())},this.loadData=function(e){if(Array.isArray(n.settings.dataSchema)?U.dataType="array":(0,l.isFunction)(n.settings.dataSchema)?U.dataType="function":U.dataType="object",N&&N.destroy(),N=new h.default(U,n,q),"object"===(void 0===e?"undefined":i(e))&&null!==e)e.push&&e.splice||(e=[e]);else{if(null!==e)throw new Error("loadData only accepts array of objects or array of arrays ("+(void 0===e?"undefined":i(e))+" given)");var t;e=[];var r=0,o=0,a=N.getSchema();for(r=0,o=n.settings.startRows;r<o;r++)if("object"!==U.dataType&&"function"!==U.dataType||!n.settings.dataSchema)if("array"===U.dataType)t=(0,m.deepClone)(a[0]),e.push(t);else{t=[];for(var s=0,c=n.settings.startCols;s<c;s++)t.push(null);e.push(t)}else t=(0,m.deepClone)(a),e.push(t)}n.isPopulated=!1,q.prototype.data=e,Array.isArray(e[0])&&(U.dataType="array"),N.dataSource=e,F.data=e,F.dataType=U.dataType,F.colToProp=N.colToProp.bind(N),F.propToCol=N.propToCol.bind(N),n.cellSettings.length=0,$.adjustRowsAndCols(),U.runHooks("afterLoadData",n.firstRun),n.firstRun?n.firstRun=[null,"loadData"]:(U.runHooks("afterChange",null,"loadData"),U.render()),n.isPopulated=!0},this.getData=function(e,t,n,i){return(0,u.isUndefined)(e)?N.getAll():N.getRange(new L.CellCoords(e,t),new L.CellCoords(n,i),N.DESTINATION_RENDERER)},this.getCopyableText=function(e,t,n,i){return N.getCopyableText(new L.CellCoords(e,t),new L.CellCoords(n,i))},this.getCopyableData=function(e,t){return N.getCopyable(e,N.colToProp(t))},this.getSchema=function(){return N.getSchema()},this.updateSettings=function(e,t){var i=!1,r=void 0,o=void 0,c=void 0;if((0,u.isDefined)(e.rows))throw new Error('"rows" setting is no longer supported. do you mean startRows, minRows or maxRows?');if((0,u.isDefined)(e.cols))throw new Error('"cols" setting is no longer supported. do you mean startCols, minCols or maxCols?');for(r in e)"data"!==r&&("language"!==r?E.default.getSingleton().getRegistered().indexOf(r)>-1?((0,l.isFunction)(e[r])||Array.isArray(e[r]))&&(e[r].initialHook=!0,U.addHook(r,e[r])):!t&&(0,m.hasOwnProperty)(e,r)&&(q.prototype[r]=e[r]):X(e.language));void 0===e.data&&void 0===n.settings.data?U.loadData(null):void 0!==e.data?U.loadData(e.data):void 0!==e.columns&&N.createMap(),c=U.countCols();var d=e.columns||q.prototype.columns;if(d&&(0,l.isFunction)(d)&&(c=U.countSourceCols(),i=!0),void 0===e.cell&&void 0===e.cells&&void 0===e.columns||(n.cellSettings.length=0),c>0){var h=void 0,f=void 0;for(r=0,o=0;r<c;r++)i&&!d(r)||(n.columnSettings[o]=(0,s.columnFactory)(q,n.columnsSettingConflicts),h=n.columnSettings[o].prototype,d&&(f=i?d(r):d[o])&&((0,m.extend)(h,f),(0,m.extend)(h,ie(f))),o++)}if((0,u.isDefined)(e.cell))for(var p in e.cell)if((0,m.hasOwnProperty)(e.cell,p)){var g=e.cell[p];U.setCellMetaObject(g.row,g.col,g)}U.runHooks("afterCellMetaReset"),(0,u.isDefined)(e.className)&&(q.prototype.className&&(0,a.removeClass)(U.rootElement,q.prototype.className),e.className&&(0,a.addClass)(U.rootElement,e.className));var _=U.rootElement.style.height;""!==_&&(_=parseInt(U.rootElement.style.height,10));var v=e.height;if((0,l.isFunction)(v)&&(v=v()),t){var y=U.rootElement.getAttribute("style");y&&U.rootElement.setAttribute("data-initialstyle",U.rootElement.getAttribute("style"))}if(null===v){var b=U.rootElement.getAttribute("data-initialstyle");b&&(b.indexOf("height")>-1||b.indexOf("overflow")>-1)?U.rootElement.setAttribute("style",b):(U.rootElement.style.height="",U.rootElement.style.overflow="")}else void 0!==v&&(U.rootElement.style.height=v+"px",U.rootElement.style.overflow="hidden");if(void 0!==e.width){var w=e.width;(0,l.isFunction)(w)&&(w=w()),U.rootElement.style.width=w+"px"}t||(N.clearLengthCache(),U.view&&U.view.wt.wtViewport.resetHasOversizedColumnHeadersMarked(),U.runHooks("afterUpdateSettings",e)),$.adjustRowsAndCols(),U.view&&!n.firstRun&&(U.forceFullRender=!0,W.lockEditor(),U._refreshBorders(null),W.unlockEditor()),t||!U.view||""!==_&&""!==v&&void 0!==v||_===v||U.view.wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){var e=U.getSelectedLast();if(q.prototype.getValue){if((0,l.isFunction)(q.prototype.getValue))return q.prototype.getValue.call(U);if(e)return U.getData()[e[0][0]][q.prototype.getValue]}else if(e)return U.getDataAtCell(e[0],e[1])},this.getSettings=function(){return n.settings},this.clear=function(){this.selectAll(),this.emptySelectedCells()},this.alter=function(e,t,n,i,r){$.alter(e,t,n,i,r)},this.getCell=function(e,t,n){return U.view.getCellAtCoords(new L.CellCoords(e,t),n)},this.getCoords=function(e){return this.view.wt.wtTable.getCoords.call(this.view.wt.wtTable,e)},this.colToProp=function(e){return N.colToProp(e)},this.propToCol=function(e){return N.propToCol(e)},this.toVisualRow=function(e){return J.toVisualRow(e)},this.toVisualColumn=function(e){return J.toVisualColumn(e)},this.toPhysicalRow=function(e){return J.toPhysicalRow(e)},this.toPhysicalColumn=function(e){return J.toPhysicalColumn(e)},this.getDataAtCell=function(e,t){return N.get(e,N.colToProp(t))},this.getDataAtRowProp=function(e,t){return N.get(e,t)},this.getDataAtCol=function(e){var t=[];return t.concat.apply(t,H(N.getRange(new L.CellCoords(0,e),new L.CellCoords(n.settings.data.length-1,e),N.DESTINATION_RENDERER)))},this.getDataAtProp=function(e){var t,i=[];return t=N.getRange(new L.CellCoords(0,N.propToCol(e)),new L.CellCoords(n.settings.data.length-1,N.propToCol(e)),N.DESTINATION_RENDERER),i.concat.apply(i,H(t))},this.getSourceData=function(e,t,n,i){return void 0===e?F.getData():F.getByRange(new L.CellCoords(e,t),new L.CellCoords(n,i))},this.getSourceDataArray=function(e,t,n,i){return void 0===e?F.getData(!0):F.getByRange(new L.CellCoords(e,t),new L.CellCoords(n,i),!0)},this.getSourceDataAtCol=function(e){return F.getAtColumn(e)},this.getSourceDataAtRow=function(e){return F.getAtRow(e)},this.getSourceDataAtCell=function(e,t){return F.getAtCell(e,t)},this.getDataAtRow=function(e){var t=N.getRange(new L.CellCoords(e,0),new L.CellCoords(e,this.countCols()-1),N.DESTINATION_RENDERER);return t[0]||[]},this.getDataType=function(e,t,n,i){var r=this,o=null,a=null;void 0===e&&(e=0,n=this.countRows(),t=0,i=this.countCols()),void 0===n&&(n=e),void 0===i&&(i=t);var s="mixed";return(0,k.rangeEach)(Math.min(e,n),Math.max(e,n),function(e){var n=!0;return(0,k.rangeEach)(Math.min(t,i),Math.max(t,i),function(t){var i=r.getCellMeta(e,t);return a=i.type,o?n=o===a:o=a,n}),s=n?a:"mixed",n}),s},this.removeCellMeta=function(e,t,i){var o=J.toPhysical(e,t),a=r(o,2),s=a[0],l=a[1],c=n.cellSettings[s][l][i],u=U.runHooks("beforeRemoveCellMeta",e,t,i,c);!1!==u&&(delete n.cellSettings[s][l][i],U.runHooks("afterRemoveCellMeta",e,t,i,c)),c=null},this.spliceCellsMeta=function(e,t){for(var i,r=arguments.length,o=Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];(i=n.cellSettings).splice.apply(i,[e,t].concat(o))},this.setCellMetaObject=function(e,t,n){if("object"===(void 0===n?"undefined":i(n)))for(var r in n)if((0,m.hasOwnProperty)(n,r)){var o=n[r];this.setCellMeta(e,t,r,o)}},this.setCellMeta=function(e,t,i,o){var a=J.toPhysical(e,t),l=r(a,2),c=l[0],u=l[1];n.columnSettings[u]||(n.columnSettings[u]=(0,s.columnFactory)(q,n.columnsSettingConflicts)),n.cellSettings[c]||(n.cellSettings[c]=[]),n.cellSettings[c][u]||(n.cellSettings[c][u]=new n.columnSettings[u]),n.cellSettings[c][u][i]=o,U.runHooks("afterSetCellMeta",e,t,i,o)},this.getCellsMeta=function(){return(0,g.arrayFlatten)(n.cellSettings)},this.getCellMeta=function(e,t){var i=N.colToProp(t),o=void 0,a=J.toPhysical(e,t),l=r(a,2),c=l[0],u=l[1];if(null===c&&(c=e),n.columnSettings[u]||(n.columnSettings[u]=(0,s.columnFactory)(q,n.columnsSettingConflicts)),n.cellSettings[c]||(n.cellSettings[c]=[]),n.cellSettings[c][u]||(n.cellSettings[c][u]=new n.columnSettings[u]),(o=n.cellSettings[c][u]).row=c,o.col=u,o.visualRow=e,o.visualCol=t,o.prop=i,o.instance=U,U.runHooks("beforeGetCellMeta",e,t,o),(0,m.extend)(o,ie(o)),o.cells){var d=o.cells.call(o,c,u,i);d&&((0,m.extend)(o,d),(0,m.extend)(o,ie(d)))}return U.runHooks("afterGetCellMeta",e,t,o),o},this.getCellMetaAtRow=function(e){return n.cellSettings[e]},this.isColumnModificationAllowed=function(){return!("object"===U.dataType||U.getSettings().columns)};var re=(0,C.cellMethodLookupFactory)("renderer");this.getCellRenderer=function(e,t){return(0,y.getRenderer)(re.call(this,e,t))},this.getCellEditor=(0,C.cellMethodLookupFactory)("editor");var oe=(0,C.cellMethodLookupFactory)("validator");function ae(){throw new Error("This method cannot be called because this Handsontable instance has been destroyed")}this.getCellValidator=function(e,t){var n=oe.call(this,e,t);return"string"==typeof n&&(n=(0,b.getValidator)(n)),n},this.validateCells=function(e){this._validateCells(e)},this.validateRows=function(e,t){if(!Array.isArray(e))throw new Error("validateRows parameter `rows` must be an array");this._validateCells(t,e)},this.validateColumns=function(e,t){if(!Array.isArray(e))throw new Error("validateColumns parameter `columns` must be an array");this._validateCells(t,void 0,e)},this._validateCells=function(e,t,n){var i=new Q;e&&(i.onQueueEmpty=e);for(var r=U.countRows()-1;r>=0;)if(void 0===t||-1!==t.indexOf(r)){for(var o=U.countCols()-1;o>=0;)void 0===n||-1!==n.indexOf(o)?(i.addValidatorToQueue(),U.validateCell(U.getDataAtCell(r,o),U.getCellMeta(r,o),function(e){if("boolean"!=typeof e)throw new Error("Validation error: result is not boolean");!1===e&&(i.valid=!1),i.removeValidatorFormQueue()},"validateCells"),o--):o--;r--}else r--;i.checkIfQueueIsEmpty()},this.getRowHeader=function(e){var t=n.settings.rowHeaders;return void 0!==e&&(e=U.runHooks("modifyRowHeader",e)),void 0===e?(t=[],(0,k.rangeEach)(U.countRows()-1,function(e){t.push(U.getRowHeader(e))})):Array.isArray(t)&&void 0!==t[e]?t=t[e]:(0,l.isFunction)(t)?t=t(e):t&&"string"!=typeof t&&"number"!=typeof t&&(t=e+1),t},this.hasRowHeaders=function(){return!!n.settings.rowHeaders},this.hasColHeaders=function(){if(void 0!==n.settings.colHeaders&&null!==n.settings.colHeaders)return!!n.settings.colHeaders;for(var e=0,t=U.countCols();e<t;e++)if(U.getColHeader(e))return!0;return!1},this.getColHeader=function(e){var t=n.settings.columns&&(0,l.isFunction)(n.settings.columns),i=n.settings.colHeaders;if(void 0===(e=U.runHooks("modifyColHeader",e))){for(var r=[],o=t?U.countSourceCols():U.countCols(),a=0;a<o;a++)r.push(U.getColHeader(a));i=r}else{var s=e,c=function(e){for(var t=[],n=U.countSourceCols(),i=0;i<n;i++)(0,l.isFunction)(U.getSettings().columns)&&U.getSettings().columns(i)&&t.push(i);return t[e]}(e=U.runHooks("modifyCol",e));n.settings.columns&&(0,l.isFunction)(n.settings.columns)&&n.settings.columns(c)&&n.settings.columns(c).title?i=n.settings.columns(c).title:n.settings.columns&&n.settings.columns[e]&&n.settings.columns[e].title?i=n.settings.columns[e].title:Array.isArray(n.settings.colHeaders)&&void 0!==n.settings.colHeaders[e]?i=n.settings.colHeaders[e]:(0,l.isFunction)(n.settings.colHeaders)?i=n.settings.colHeaders(e):n.settings.colHeaders&&"string"!=typeof n.settings.colHeaders&&"number"!=typeof n.settings.colHeaders&&(i=(0,C.spreadsheetColumnLabel)(s))}return i},this._getColWidthFromSettings=function(e){var t=U.getCellMeta(0,e),r=t.width;if(void 0!==r&&r!==n.settings.width||(r=t.colWidths),void 0!==r&&null!==r){switch(void 0===r?"undefined":i(r)){case"object":r=r[e];break;case"function":r=r(e)}"string"==typeof r&&(r=parseInt(r,10))}return r},this.getColWidth=function(e){var t=U._getColWidthFromSettings(e);return void 0===(t=U.runHooks("modifyColWidth",t,e))&&(t=L.ViewportColumnsCalculator.DEFAULT_WIDTH),t},this._getRowHeightFromSettings=function(e){var t=n.settings.rowHeights;if(void 0!==t&&null!==t){switch(void 0===t?"undefined":i(t)){case"object":t=t[e];break;case"function":t=t(e)}"string"==typeof t&&(t=parseInt(t,10))}return t},this.getRowHeight=function(e){var t=U._getRowHeightFromSettings(e);return t=U.runHooks("modifyRowHeight",t,e)},this.countSourceRows=function(){var e=U.runHooks("modifySourceLength");return e||(U.getSourceData()?U.getSourceData().length:0)},this.countSourceCols=function(){var e=U.getSourceData()&&U.getSourceData()[0]?U.getSourceData()[0]:[];return(0,m.isObject)(e)?(0,m.deepObjectSize)(e):e.length||0},this.countRows=function(){return N.getLength()},this.countCols=function(){var e=this.getSettings().maxCols,t=!1,i=0;if("array"===U.dataType&&(t=n.settings.data&&n.settings.data[0]&&n.settings.data[0].length),t&&(i=n.settings.data[0].length),n.settings.columns){var r=(0,l.isFunction)(n.settings.columns);if(r)if("array"===U.dataType){for(var o=0,a=0;a<i;a++)n.settings.columns(a)&&o++;i=o}else"object"!==U.dataType&&"function"!==U.dataType||(i=N.colToPropCache.length);else i=n.settings.columns.length}else"object"!==U.dataType&&"function"!==U.dataType||(i=N.colToPropCache.length);return Math.min(e,i)},this.rowOffset=function(){return U.view.wt.wtTable.getFirstRenderedRow()},this.colOffset=function(){return U.view.wt.wtTable.getFirstRenderedColumn()},this.countRenderedRows=function(){return U.view.wt.drawn?U.view.wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return U.view.wt.drawn?U.view.wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return U.view.wt.drawn?U.view.wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return U.view.wt.drawn?U.view.wt.wtTable.getVisibleColumnsCount():-1},this.countEmptyRows=function(e){var t=0;return(0,k.rangeEachReverse)(U.countRows()-1,function(n){if(U.isEmptyRow(n))t+=1;else if(!0===e)return!1}),t},this.countEmptyCols=function(e){if(U.countRows()<1)return 0;var t=0;return(0,k.rangeEachReverse)(U.countCols()-1,function(n){if(U.isEmptyCol(n))t+=1;else if(!0===e)return!1}),t},this.isEmptyRow=function(e){return n.settings.isEmptyRow.call(U,e)},this.isEmptyCol=function(e){return n.settings.isEmptyCol.call(U,e)},this.selectCell=function(e,t,n,i){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return!(0,u.isUndefined)(e)&&!(0,u.isUndefined)(t)&&this.selectCells([[e,t,n,i]],r,o)},this.selectCells=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[]],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!1===t&&(V=!0);var i=K.selectCells(e);return i&&n&&U.listen(),V=!1,i},this.selectCellByProp=function(e,t,n,i){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return(0,c.warn)((0,_.toSingleLine)(o)),this.selectCells([[e,t,n,i]],r,a)},this.selectColumns=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return K.selectColumns(e,t)},this.selectRows=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return K.selectRows(e,t)},this.deselectCell=function(){K.deselect()},this.selectAll=function(){V=!0,K.selectAll(),V=!1},this.scrollViewportTo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==e&&(e<0||e>=U.countRows()))return!1;if(void 0!==t&&(t<0||t>=U.countCols()))return!1;var r=!1;return void 0!==e&&void 0!==t&&(U.view.wt.wtOverlays.topOverlay.scrollTo(e,n),U.view.wt.wtOverlays.leftOverlay.scrollTo(t,i),r=!0),"number"==typeof e&&"number"!=typeof t&&(U.view.wt.wtOverlays.topOverlay.scrollTo(e,n),r=!0),"number"==typeof t&&"number"!=typeof e&&(U.view.wt.wtOverlays.leftOverlay.scrollTo(t,i),r=!0),r},this.destroy=function(){for(var e in U._clearTimeouts(),U.view&&U.view.destroy(),F&&F.destroy(),F=null,(0,j.stopObserving)(),(0,a.empty)(U.rootElement),G.destroy(),W&&W.destroy(),U.runHooks("afterDestroy"),E.default.getSingleton().destroy(U),U)(0,m.hasOwnProperty)(U,e)&&((0,l.isFunction)(U[e])?U[e]=ae:"guid"!==e&&(U[e]=null));N&&N.destroy(),N=null,n=null,$=null,K=null,W=null,U=null,q=null},this.getActiveEditor=function(){return W.getActiveEditor()},this.getPlugin=function(e){return(0,v.getPlugin)(this,e)},this.getInstance=function(){return U},this.addHook=function(e,t){E.default.getSingleton().add(e,t,U)},this.hasHook=function(e){return E.default.getSingleton().has(e,U)},this.addHookOnce=function(e,t){E.default.getSingleton().once(e,t,U)},this.removeHook=function(e,t){E.default.getSingleton().remove(e,t,U)},this.runHooks=function(e,t,n,i,r,o,a){return E.default.getSingleton().run(U,e,t,n,i,r,o,a)},this.getTranslatedPhrase=function(e,t){return(0,A.getTranslatedPhrase)(n.settings.language,e,t)},this.timeouts=[],this._registerTimeout=function(e){this.timeouts.push(e)},this._clearTimeouts=function(){for(var e=0,t=this.timeouts.length;e<t;e++)clearTimeout(this.timeouts[e])},this._refreshBorders=function(e){W.destroyEditor(e),U.view.render(),K.isSelected()&&W.prepareEditor()},E.default.getSingleton().run(U,"construct")};var a=n(0),s=n(89),l=n(42),c=n(56),u=n(16),d=n(27),h=N(n(263)),f=N(n(266)),p=N(n(6)),m=n(2),g=n(1),_=n(41),v=n(8),y=n(13),b=n(28),w=n(36),k=n(5),M=N(n(267)),x=N(n(268)),C=n(90),S=n(193),T=n(194),L=n(4),E=N(n(15)),D=N(n(195)),O=n(87),A=n(196),Y=n(71),R=n(197),j=n(198),P=n(272);function N(e){return e&&e.__esModule?e:{default:e}}function H(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var I=null},function(e,t,n){"use strict";t.__esModule=!0,t.columnFactory=function(e,t){function n(){}(0,i.inherit)(n,e);for(var r=0,o=t.length;r<o;r++)n.prototype[t[r]]=void 0;return n};var i=n(2)},function(e,t,n){"use strict";t.__esModule=!0,t.spreadsheetColumnLabel=s,t.spreadsheetColumnIndex=function(e){var t=0;if(e)for(var n=0,i=e.length-1;n<e.length;n+=1,i-=1)t+=Math.pow(a,i)*(o.indexOf(e[n])+1);return--t},t.createSpreadsheetData=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=[];for(e=0;e<n;e++){var o=[];for(t=0;t<i;t++)o.push(s(t)+(e+1));r.push(o)}return r},t.createSpreadsheetObjectData=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=[];for(e=0;e<n;e++){var o={};for(t=0;t<i;t++)o["prop"+t]=s(t)+(e+1);r.push(o)}return r},t.createEmptySpreadsheetData=function(e,t){for(var n=[],i=void 0,r=0;r<e;r++){i=[];for(var o=0;o<t;o++)i.push("");n.push(i)}return n},t.translateRowsToColumns=function(e){var t,n,i,r,o=[],a=0;for(t=0,n=e.length;t<n;t++)for(i=0,r=e[t].length;i<r;i++)i==a&&(o.push([]),a++),o[i].push(e[t][i]);return o},t.cellMethodLookupFactory=function(e,t){return t=void 0===t||t,function(n,o){return function n(o){if(o){if((0,r.hasOwnProperty)(o,e)&&void 0!==o[e])return o[e];if((0,r.hasOwnProperty)(o,"type")&&o.type){var a;if("string"!=typeof o.type)throw new Error("Cell type must be a string ");if(a=(0,i.getCellType)(o.type),(0,r.hasOwnProperty)(a,e))return a[e];if(t)return}return n(Object.getPrototypeOf(o))}}("number"==typeof n?this.getCellMeta(n,o):n)}};var i=n(87),r=n(2),o="ABCDEFGHIJKLMNOPQRSTUVWXYZ",a=o.length;function s(e){for(var t=e+1,n="",i=void 0;t>0;)i=(t-1)%a,n=String.fromCharCode(65+i)+n,t=parseInt((t-i)/a,10);return n}},function(e,t,n){"use strict";t.__esModule=!0,t.SELECTION_TYPES=t.SELECTION_TYPE_OBJECT=t.SELECTION_TYPE_ARRAY=t.SELECTION_TYPE_EMPTY=t.SELECTION_TYPE_UNRECOGNIZED=void 0;var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.detectSelectionType=g,t.normalizeSelectionFactory=_,t.transformSelectionToColumnDistance=function(e){var t=g(e);if(t===l||t===c)return[];var n=_(t),r=new Set;(0,a.arrayEach)(e,function(e){var t=n(e),o=i(t,4),s=o[1],l=o[3],c=l-s+1;(0,a.arrayEach)(Array.from(new Array(c),function(e,t){return s+t}),function(e){r.has(e)||r.add(e)})});var o=Array.from(r).sort(function(e,t){return e-t});return(0,a.arrayReduce)(o,function(e,t,n,i){return 0!==n&&t===i[n-1]+1?e[e.length-1][1]++:e.push([t,1]),e},[])},t.transformSelectionToRowDistance=function(e){var t=g(e);if(t===l||t===c)return[];var n=_(t),r=new Set;(0,a.arrayEach)(e,function(e){var t=n(e),o=i(t,3),s=o[0],l=o[2],c=l-s+1;(0,a.arrayEach)(Array.from(new Array(c),function(e,t){return s+t}),function(e){r.has(e)||r.add(e)})});var o=Array.from(r).sort(function(e,t){return e-t});return(0,a.arrayReduce)(o,function(e,t,n,i){return 0!==n&&t===i[n-1]+1?e[e.length-1][1]++:e.push([t,1]),e},[])},t.isValidCoord=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return"number"==typeof e&&e>=0&&e<t};var o=n(4),a=n(1),s=n(16),l=t.SELECTION_TYPE_UNRECOGNIZED=0,c=t.SELECTION_TYPE_EMPTY=1,u=t.SELECTION_TYPE_ARRAY=2,d=t.SELECTION_TYPE_OBJECT=3,h=t.SELECTION_TYPES=[d,u],f=[["number"],["number","string"],["number","undefined"],["number","string","undefined"]],p=Symbol("root"),m=Symbol("child");function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;if(t!==p&&t!==m)throw new Error("The second argument is used internally only and cannot be overwritten.");var n=Array.isArray(e),i=t===p,a=l;if(n){var s=e[0];if(0===e.length)a=c;else if(i&&s instanceof o.CellRange)a=d;else if(i&&Array.isArray(s))a=g(s,m);else if(e.length>=2&&e.length<=4){!e.some(function(e,t){return!f[t].includes(void 0===e?"undefined":r(e))})&&(a=u)}}return a}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.keepDirection,i=void 0!==n&&n,r=t.propToCol;if(!h.includes(e))throw new Error("Unsupported selection ranges schema type was provided.");return function(t){var n=e===d,o=n?t.from.row:t[0],a=n?t.from.col:t[1],l=n?t.to.row:t[2],c=n?t.to.col:t[3];if("function"==typeof r&&("string"==typeof a&&(a=r(a)),"string"==typeof c&&(c=r(c))),(0,s.isUndefined)(l)&&(l=o),(0,s.isUndefined)(c)&&(c=a),!i){var u=o,h=a,f=l,p=c;o=Math.min(u,f),a=Math.min(h,p),l=Math.max(u,f),c=Math.max(h,p)}return[o,a,l,c]}}},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=n(1);var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hot=t,this.container=null,this.injected=!1,this.rows=[],this.columns=[],this.samples=null,this.settings={useHeaders:!0}}return i(e,[{key:"addRow",value:function(e,t){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));var n={row:e};this.rows.push(n),this.samples=t,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tr.appendChild(this.createRow(e)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}},{key:"addColumnHeadersRow",value:function(e){if(null!=this.hot.getColHeader(0)){var t={row:-1};this.rows.push(t),this.container=this.createContainer(this.hot.rootElement.className),this.samples=e,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tHead.appendChild(this.createColumnHeadersRow()),this.container.container.appendChild(this.table.fragment),t.table=this.table.table}}},{key:"addColumn",value:function(e,t){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));var n={col:e};this.columns.push(n),this.samples=t,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&null!==this.hot.getColHeader(e)&&this.hot.view.appendColHeader(e,this.table.th),this.table.tBody.appendChild(this.createCol(e)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}},{key:"getHeights",value:function(e){this.injected||this.injectTable(),(0,o.arrayEach)(this.rows,function(t){e(t.row,(0,r.outerHeight)(t.table)-1)})}},{key:"getWidths",value:function(e){this.injected||this.injectTable(),(0,o.arrayEach)(this.columns,function(t){e(t.col,(0,r.outerWidth)(t.table))})}},{key:"setSettings",value:function(e){this.settings=e}},{key:"setSetting",value:function(e,t){this.settings||(this.settings={}),this.settings[e]=t}},{key:"getSettings",value:function(){return this.settings}},{key:"getSetting",value:function(e){return this.settings?this.settings[e]:null}},{key:"createColGroupsCol",value:function(){var e=this,t=document.createDocumentFragment();return this.hot.hasRowHeaders()&&t.appendChild(this.createColElement(-1)),this.samples.forEach(function(n){(0,o.arrayEach)(n.strings,function(n){t.appendChild(e.createColElement(n.col))})}),t}},{key:"createRow",value:function(e){var t=this,n=document,i=n.createDocumentFragment(),r=n.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(e,r),i.appendChild(r)),this.samples.forEach(function(r){(0,o.arrayEach)(r.strings,function(r){var o=r.col,a=t.hot.getCellMeta(e,o);a.col=o,a.row=e;var s=t.hot.getCellRenderer(a),l=n.createElement("td");s(t.hot,l,e,o,t.hot.colToProp(o),r.value,a),i.appendChild(l)})}),i}},{key:"createColumnHeadersRow",value:function(){var e=this,t=document,n=t.createDocumentFragment();if(this.hot.hasRowHeaders()){var i=t.createElement("th");this.hot.view.appendColHeader(-1,i),n.appendChild(i)}return this.samples.forEach(function(i){(0,o.arrayEach)(i.strings,function(i){var r=i.col,o=t.createElement("th");e.hot.view.appendColHeader(r,o),n.appendChild(o)})}),n}},{key:"createCol",value:function(e){var t=this,n=document,i=n.createDocumentFragment();return this.samples.forEach(function(r){(0,o.arrayEach)(r.strings,function(r){var o=r.row,a=t.hot.getCellMeta(o,e);a.col=e,a.row=o;var s=t.hot.getCellRenderer(a),l=n.createElement("td"),c=n.createElement("tr");s(t.hot,l,o,e,t.hot.colToProp(e),r.value,a),c.appendChild(l),i.appendChild(c)})}),i}},{key:"clean",value:function(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}},{key:"injectTable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.injected||((e||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}},{key:"removeTable",value:function(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}},{key:"createColElement",value:function(e){var t=document.createElement("col");return t.style.width=this.hot.view.wt.wtTable.getStretchedColumnWidth(e)+"px",t}},{key:"createTable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=document,n=t.createDocumentFragment(),i=t.createElement("table"),o=t.createElement("thead"),a=t.createElement("tbody"),s=t.createElement("colgroup"),l=t.createElement("tr"),c=t.createElement("th");return this.isVertical()&&i.appendChild(s),this.isHorizontal()&&(l.appendChild(c),o.appendChild(l),i.style.tableLayout="auto",i.style.width="auto"),i.appendChild(o),this.isVertical()&&a.appendChild(l),i.appendChild(a),(0,r.addClass)(i,e),n.appendChild(i),{fragment:n,table:i,tHead:o,tBody:a,colGroup:s,tr:l,th:c}}},{key:"createContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=document,n=t.createDocumentFragment(),i=t.createElement("div");return e="htGhostTable htAutoSize "+e.trim(),(0,r.addClass)(i,e),n.appendChild(i),{fragment:n,container:i}}},{key:"isVertical",value:function(){return!(!this.rows.length||this.columns.length)}},{key:"isHorizontal",value:function(){return!(!this.columns.length||this.rows.length)}}]),e}();t.default=a},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){return{name:i}};var i=t.KEY="---------"},function(e,t,n){"use strict";var i;t.__esModule=!0,t.ITEMS=t.UNDO=t.SEPARATOR=t.ROW_BELOW=t.ROW_ABOVE=t.REMOVE_ROW=t.REMOVE_COLUMN=t.REDO=t.READ_ONLY=t.COLUMN_RIGHT=t.COLUMN_LEFT=t.CLEAR_COLUMN=t.ALIGNMENT=void 0;var r=n(300);Object.defineProperty(t,"ALIGNMENT",{enumerable:!0,get:function(){return r.KEY}});var o=n(301);Object.defineProperty(t,"CLEAR_COLUMN",{enumerable:!0,get:function(){return o.KEY}});var a=n(302);Object.defineProperty(t,"COLUMN_LEFT",{enumerable:!0,get:function(){return a.KEY}});var s=n(303);Object.defineProperty(t,"COLUMN_RIGHT",{enumerable:!0,get:function(){return s.KEY}});var l=n(304);Object.defineProperty(t,"READ_ONLY",{enumerable:!0,get:function(){return l.KEY}});var c=n(305);Object.defineProperty(t,"REDO",{enumerable:!0,get:function(){return c.KEY}});var u=n(306);Object.defineProperty(t,"REMOVE_COLUMN",{enumerable:!0,get:function(){return u.KEY}});var d=n(307);Object.defineProperty(t,"REMOVE_ROW",{enumerable:!0,get:function(){return d.KEY}});var h=n(308);Object.defineProperty(t,"ROW_ABOVE",{enumerable:!0,get:function(){return h.KEY}});var f=n(309);Object.defineProperty(t,"ROW_BELOW",{enumerable:!0,get:function(){return f.KEY}});var p=n(93);Object.defineProperty(t,"SEPARATOR",{enumerable:!0,get:function(){return p.KEY}});var m=n(310);Object.defineProperty(t,"UNDO",{enumerable:!0,get:function(){return m.KEY}}),t.predefinedItems=function(){var e={};return(0,g.objectEach)(A,function(t,n){e[n]=t()}),e},t.addItem=function(e,t){-1===O.indexOf(e)&&(A[e]=t)};var g=n(2),_=E(r),v=E(o),y=E(a),b=E(s),w=E(l),k=E(c),M=E(u),x=E(d),C=E(h),S=E(f),T=E(p),L=E(m);function E(e){return e&&e.__esModule?e:{default:e}}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=t.ITEMS=[h.KEY,f.KEY,a.KEY,s.KEY,o.KEY,d.KEY,u.KEY,m.KEY,c.KEY,l.KEY,r.KEY,p.KEY],A=(D(i={},p.KEY,T.default),D(i,h.KEY,C.default),D(i,f.KEY,S.default),D(i,a.KEY,y.default),D(i,s.KEY,b.default),D(i,o.KEY,v.default),D(i,d.KEY,x.default),D(i,u.KEY,M.default),D(i,m.KEY,L.default),D(i,c.KEY,k.default),D(i,l.KEY,w.default),D(i,r.KEY,_.default),i)},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=u(["The merged cell declared with {row: ",", col: ",", rowspan: \n    ",", colspan: ","} contains negative values, which is not supported. It \n    will not be added to the collection."],["The merged cell declared with {row: ",", col: ",", rowspan: \n    ",", colspan: ","} contains negative values, which is not supported. It \n    will not be added to the collection."]),o=u(["The merged cell declared at [",", ","] is positioned (or positioned partially) \n       outside of the table range. It was not added to the table, please fix your setup."],["The merged cell declared at [",", ","] is positioned (or positioned partially) \n       outside of the table range. It was not added to the table, please fix your setup."]),a=u(["The merged cell declared at [",", ",'] has both "rowspan" \n     and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.'],["The merged cell declared at [",", ",'] has both "rowspan" \n     and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.']),s=u(["The merged cell declared at [",", ",'] has "rowspan" or "colspan" declared as \n      "0", which is not supported. It cannot be added to the collection.'],["The merged cell declared at [",", ",'] has "rowspan" or "colspan" declared as \n      "0", which is not supported. It cannot be added to the collection.']),l=n(4),c=n(41);function u(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.row=t,this.col=n,this.rowspan=i,this.colspan=r,this.removed=!1}return i(e,[{key:"normalize",value:function(e){var t=e.countRows(),n=e.countCols();this.row<0?this.row=0:this.row>t-1&&(this.row=t-1),this.col<0?this.col=0:this.col>n-1&&(this.col=n-1),this.row+this.rowspan>t-1&&(this.rowspan=t-this.row),this.col+this.colspan>n-1&&(this.colspan=n-this.col)}},{key:"includes",value:function(e,t){return this.row<=e&&this.col<=t&&this.row+this.rowspan-1>=e&&this.col+this.colspan-1>=t}},{key:"includesHorizontally",value:function(e){return this.col<=e&&this.col+this.colspan-1>=e}},{key:"includesVertically",value:function(e){return this.row<=e&&this.row+this.rowspan-1>=e}},{key:"shift",value:function(e,t){var n=e[0]||e[1],i=t+Math.abs(e[0]||e[1])-1,r=e[0]?"colspan":"rowspan",o=e[0]?"col":"row",a=Math.min(t,i),s=Math.max(t,i),l=this[o],c=this[o]+this[r]-1;if(l>=t&&(this[o]+=n),n>0)t<=c&&t>l&&(this[r]+=n);else if(n<0){if(a<=l&&s>=c)return this.removed=!0,!1;if(l>=a&&l<=s){var u=s-l+1,d=Math.abs(n)-u;this[o]-=d+n,this[r]-=u}else if(l<=a&&c>=s)this[r]+=n;else if(l<=a&&c>=a&&c<s){var h=c-a+1;this[r]-=h}}return!0}},{key:"isFarther",value:function(e,t){return!e||("down"===t?e.row+e.rowspan-1<this.row+this.rowspan-1:"up"===t?e.row>this.row:"right"===t?e.col+e.colspan-1<this.col+this.colspan-1:"left"===t?e.col>this.col:null)}},{key:"getLastRow",value:function(){return this.row+this.rowspan-1}},{key:"getLastColumn",value:function(){return this.col+this.colspan-1}},{key:"getRange",value:function(){return new l.CellRange(new l.CellCoords(this.row,this.col),new l.CellCoords(this.row,this.col),new l.CellCoords(this.getLastRow(),this.getLastColumn()))}}],[{key:"NEGATIVE_VALUES_WARNING",value:function(e){return(0,c.toSingleLine)(r,e.row,e.col,e.rowspan,e.colspan)}},{key:"IS_OUT_OF_BOUNDS_WARNING",value:function(e){return(0,c.toSingleLine)(o,e.row,e.col)}},{key:"IS_SINGLE_CELL",value:function(e){return(0,c.toSingleLine)(a,e.row,e.col)}},{key:"ZERO_SPAN_WARNING",value:function(e){return(0,c.toSingleLine)(s,e.row,e.col)}},{key:"containsNegativeValues",value:function(e){return e.row<0||e.col<0||e.rowspan<0||e.colspan<0}},{key:"isSingleCell",value:function(e){return 1===e.colspan&&1===e.rowspan}},{key:"containsZeroSpan",value:function(e){return 0===e.colspan||0===e.rowspan}},{key:"isOutOfBounds",value:function(e,t,n){return e.row<0||e.col<0||e.row>=t||e.row+e.rowspan-1>=t||e.col>=n||e.col+e.colspan-1>=n}}]),e}();t.default=d},function(e,t,n){"use strict";var i=n(97),r=n(45);e.exports=n(66)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=i.getEntry(r(this,"Map"),e);return t&&t.v},set:function(e,t){return i.def(r(this,"Map"),0===e?0:e,t)}},i,!0)},function(e,t,n){"use strict";var i=n(20).f,r=n(74),o=n(61),a=n(32),s=n(63),l=n(64),c=n(106),u=n(108),d=n(109),h=n(22),f=n(34).fastKey,p=n(45),m=h?"_s":"size",g=function(e,t){var n,i=f(t);if("F"!==i)return e._i[i];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var u=e(function(e,i){s(e,u,t,"_i"),e._t=t,e._i=r(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=i&&l(i,n,e[c],e)});return o(u.prototype,{clear:function(){for(var e=p(this,t),n=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=p(this,t),i=g(n,e);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[m]--}return!!i},forEach:function(e){p(this,t);for(var n,i=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!g(p(this,t),e)}}),h&&i(u.prototype,"size",{get:function(){return p(this,t)[m]}}),u},def:function(e,t,n){var i,r,o=g(e,t);return o?o.v=n:(e._l=o={i:r=f(t,!0),k:t,v:n,p:i=e._l,n:void 0,r:!1},e._f||(e._f=o),i&&(i.n=o),e[m]++,"F"!==r&&(e._i[r]=o)),e},getEntry:g,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=p(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?u(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,u(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){e.exports=!n(22)&&!n(23)(function(){return 7!=Object.defineProperty(n(72)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(29),r=n(24),o=n(100)(!1),a=n(76)("IE_PROTO");e.exports=function(e,t){var n,s=r(e),l=0,c=[];for(n in s)n!=a&&i(s,n)&&c.push(n);for(;t.length>l;)i(s,n=t[l++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var i=n(24),r=n(25),o=n(60);e.exports=function(e){return function(t,n,a){var s,l=i(t),c=r(l.length),u=o(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var i=n(14).document;e.exports=i&&i.documentElement},function(e,t,n){var i=n(18);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},function(e,t,n){var i=n(50),r=n(11)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}},function(e,t,n){var i=n(105),r=n(11)("iterator"),o=n(50);e.exports=n(44).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||o[i(e)]}},function(e,t,n){var i=n(43),r=n(11)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),r))?n:o?i(t):"Object"==(a=i(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){"use strict";var i=n(65),r=n(3),o=n(30),a=n(31),s=n(50),l=n(208),c=n(51),u=n(107),d=n(11)("iterator"),h=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,n,p,m,g,_){l(n,t,p);var v,y,b,w=function(e){if(!h&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",M="values"==m,x=!1,C=e.prototype,S=C[d]||C["@@iterator"]||m&&C[m],T=S||w(m),L=m?M?w("entries"):T:void 0,E="Array"==t&&C.entries||S;if(E&&(b=u(E.call(new e)))!==Object.prototype&&b.next&&(c(b,k,!0),i||"function"==typeof b[d]||a(b,d,f)),M&&S&&"values"!==S.name&&(x=!0,T=function(){return S.call(this)}),i&&!_||!h&&!x&&C[d]||a(C,d,T),s[t]=T,s[k]=f,m)if(v={values:M?T:w("values"),keys:g?T:w("keys"),entries:L},_)for(y in v)y in C||o(C,y,v[y]);else r(r.P+r.F*(h||x),t,v);return v}},function(e,t,n){var i=n(29),r=n(33),o=n(76)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var i=n(14),r=n(20),o=n(22),a=n(11)("species");e.exports=function(e){var t=i[e];o&&t&&!t[a]&&r.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var i=n(9),r=n(18),o=function(e,t){if(r(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{(i=n(32)(Function.call,n(67).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){"use strict";var i=n(97),r=n(45);e.exports=n(66)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(r(this,"Set"),e=0===e?0:e,e)}},i)},function(e,t,n){"use strict";var i,r=n(68)(0),o=n(30),a=n(34),s=n(114),l=n(115),c=n(9),u=n(23),d=n(45),h=a.getWeak,f=Object.isExtensible,p=l.ufstore,m={},g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},_={get:function(e){if(c(e)){var t=h(e);return!0===t?p(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(d(this,"WeakMap"),e,t)}},v=e.exports=n(66)("WeakMap",g,_,l,!0,!0);u(function(){return 7!=(new v).set((Object.freeze||Object)(m),7).get(m)})&&(s((i=l.getConstructor(g,"WeakMap")).prototype,_),a.NEED=!0,r(["delete","has","get","set"],function(e){var t=v.prototype,n=t[e];o(t,e,function(t,r){if(c(t)&&!f(t)){this._f||(this._f=new i);var o=this._f[e](t,r);return"set"==e?this:o}return n.call(this,t,r)})}))},function(e,t,n){var i=n(43);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){"use strict";var i=n(37),r=n(69),o=n(52),a=n(33),s=n(75),l=Object.assign;e.exports=!l||n(23)(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=i})?function(e,t){for(var n=a(e),l=arguments.length,c=1,u=r.f,d=o.f;l>c;)for(var h,f=s(arguments[c++]),p=u?i(f).concat(u(f)):i(f),m=p.length,g=0;m>g;)d.call(f,h=p[g++])&&(n[h]=f[h]);return n}:l},function(e,t,n){"use strict";var i=n(61),r=n(34).getWeak,o=n(18),a=n(9),s=n(63),l=n(64),c=n(68),u=n(29),d=n(45),h=c(5),f=c(6),p=0,m=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},_=function(e,t){return h(e.a,function(e){return e[0]===t})};g.prototype={get:function(e){var t=_(this,e);if(t)return t[1]},has:function(e){return!!_(this,e)},set:function(e,t){var n=_(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=f(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var c=e(function(e,i){s(e,c,t,"_i"),e._t=t,e._i=p++,e._l=void 0,void 0!=i&&l(i,n,e[o],e)});return i(c.prototype,{delete:function(e){if(!a(e))return!1;var n=r(e);return!0===n?m(d(this,t)).delete(e):n&&u(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=r(e);return!0===n?m(d(this,t)).has(e):n&&u(n,this._i)}}),c},def:function(e,t,n){var i=r(o(t),!0);return!0===i?m(e).set(t,n):i[e._i]=n,e},ufstore:m}},function(e,t,n){"use strict";var i=n(115),r=n(45);n(66)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(r(this,"WeakSet"),e,!0)}},i,!1,!0)},function(e,t,n){"use strict";var i,r,o,a,s=n(65),l=n(14),c=n(32),u=n(105),d=n(3),h=n(9),f=n(62),p=n(63),m=n(64),g=n(212),_=n(80).set,v=n(214)(),y=n(118),b=n(215),w=n(216),k=l.TypeError,M=l.process,x=l.Promise,C="process"==u(M),S=function(){},T=r=y.f,L=!!function(){try{var e=x.resolve(1),t=(e.constructor={})[n(11)("species")]=function(e){e(S,S)};return(C||"function"==typeof PromiseRejectionEvent)&&e.then(S)instanceof t}catch(e){}}(),E=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},D=function(e,t){if(!e._n){e._n=!0;var n=e._c;v(function(){for(var i=e._v,r=1==e._s,o=0,a=function(t){var n,o,a,s=r?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{s?(r||(2==e._h&&Y(e),e._h=1),!0===s?n=i:(u&&u.enter(),n=s(i),u&&(u.exit(),a=!0)),n===t.promise?c(k("Promise-chain cycle")):(o=E(n))?o.call(n,l,c):l(n)):c(i)}catch(e){u&&!a&&u.exit(),c(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&O(e)})}},O=function(e){_.call(l,function(){var t,n,i,r=e._v,o=A(e);if(o&&(t=b(function(){C?M.emit("unhandledRejection",r,e):(n=l.onunhandledrejection)?n({promise:e,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)}),e._h=C||A(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},A=function(e){return 1!==e._h&&0===(e._a||e._c).length},Y=function(e){_.call(l,function(){var t;C?M.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},R=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),D(t,!0))},j=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw k("Promise can't be resolved itself");(t=E(e))?v(function(){var i={_w:n,_d:!1};try{t.call(e,c(j,i,1),c(R,i,1))}catch(e){R.call(i,e)}}):(n._v=e,n._s=1,D(n,!1))}catch(e){R.call({_w:n,_d:!1},e)}}};L||(x=function(e){p(this,x,"Promise","_h"),f(e),i.call(this);try{e(c(j,this,1),c(R,this,1))}catch(e){R.call(this,e)}},(i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(61)(x.prototype,{then:function(e,t){var n=T(g(this,x));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=C?M.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new i;this.promise=e,this.resolve=c(j,e,1),this.reject=c(R,e,1)},y.f=T=function(e){return e===x||e===a?new o(e):r(e)}),d(d.G+d.W+d.F*!L,{Promise:x}),n(51)(x,"Promise"),n(109)("Promise"),a=n(44).Promise,d(d.S+d.F*!L,"Promise",{reject:function(e){var t=T(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!L),"Promise",{resolve:function(e){return w(s&&this===a?x:this,e)}}),d(d.S+d.F*!(L&&n(79)(function(e){x.all(e).catch(S)})),"Promise",{all:function(e){var t=this,n=T(t),i=n.resolve,r=n.reject,o=b(function(){var n=[],o=0,a=1;m(e,!1,function(e){var s=o++,l=!1;n.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,n[s]=e,--a||i(n))},r)}),--a||i(n)});return o.e&&r(o.v),n.promise},race:function(e){var t=this,n=T(t),i=n.reject,r=b(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(e,t,n){"use strict";var i=n(62);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i}),this.resolve=i(t),this.reject=i(n)}(e)}},function(e,t,n){"use strict";var i=n(14),r=n(29),o=n(22),a=n(3),s=n(30),l=n(34).KEY,c=n(23),u=n(77),d=n(51),h=n(48),f=n(11),p=n(120),m=n(217),g=n(218),_=n(113),v=n(18),y=n(9),b=n(24),w=n(73),k=n(49),M=n(74),x=n(121),C=n(67),S=n(20),T=n(37),L=C.f,E=S.f,D=x.f,O=i.Symbol,A=i.JSON,Y=A&&A.stringify,R=f("_hidden"),j=f("toPrimitive"),P={}.propertyIsEnumerable,N=u("symbol-registry"),H=u("symbols"),I=u("op-symbols"),F=Object.prototype,$="function"==typeof O,W=i.QObject,z=!W||!W.prototype||!W.prototype.findChild,B=o&&c(function(){return 7!=M(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=L(F,t);i&&delete F[t],E(e,t,n),i&&e!==F&&E(F,t,i)}:E,V=function(e){var t=H[e]=M(O.prototype);return t._k=e,t},U=$&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},q=function(e,t,n){return e===F&&q(I,t,n),v(e),t=w(t,!0),v(n),r(H,t)?(n.enumerable?(r(e,R)&&e[R][t]&&(e[R][t]=!1),n=M(n,{enumerable:k(0,!1)})):(r(e,R)||E(e,R,k(1,{})),e[R][t]=!0),B(e,t,n)):E(e,t,n)},G=function(e,t){v(e);for(var n,i=g(t=b(t)),r=0,o=i.length;o>r;)q(e,n=i[r++],t[n]);return e},J=function(e){var t=P.call(this,e=w(e,!0));return!(this===F&&r(H,e)&&!r(I,e))&&(!(t||!r(this,e)||!r(H,e)||r(this,R)&&this[R][e])||t)},K=function(e,t){if(e=b(e),t=w(t,!0),e!==F||!r(H,t)||r(I,t)){var n=L(e,t);return!n||!r(H,t)||r(e,R)&&e[R][t]||(n.enumerable=!0),n}},X=function(e){for(var t,n=D(b(e)),i=[],o=0;n.length>o;)r(H,t=n[o++])||t==R||t==l||i.push(t);return i},Q=function(e){for(var t,n=e===F,i=D(n?I:b(e)),o=[],a=0;i.length>a;)!r(H,t=i[a++])||n&&!r(F,t)||o.push(H[t]);return o};$||(s((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===F&&t.call(I,n),r(this,R)&&r(this[R],e)&&(this[R][e]=!1),B(this,e,k(1,n))};return o&&z&&B(F,e,{configurable:!0,set:t}),V(e)}).prototype,"toString",function(){return this._k}),C.f=K,S.f=q,n(81).f=x.f=X,n(52).f=J,n(69).f=Q,o&&!n(65)&&s(F,"propertyIsEnumerable",J,!0),p.f=function(e){return V(f(e))}),a(a.G+a.W+a.F*!$,{Symbol:O});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)f(Z[ee++]);for(var te=T(f.store),ne=0;te.length>ne;)m(te[ne++]);a(a.S+a.F*!$,"Symbol",{for:function(e){return r(N,e+="")?N[e]:N[e]=O(e)},keyFor:function(e){if(!U(e))throw TypeError(e+" is not a symbol!");for(var t in N)if(N[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),a(a.S+a.F*!$,"Object",{create:function(e,t){return void 0===t?M(e):G(M(e),t)},defineProperty:q,defineProperties:G,getOwnPropertyDescriptor:K,getOwnPropertyNames:X,getOwnPropertySymbols:Q}),A&&a(a.S+a.F*(!$||c(function(){var e=O();return"[null]"!=Y([e])||"{}"!=Y({a:e})||"{}"!=Y(Object(e))})),"JSON",{stringify:function(e){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=t=i[1],(y(t)||void 0!==e)&&!U(e))return _(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!U(t))return t}),i[1]=t,Y.apply(A,i)}}),O.prototype[j]||n(31)(O.prototype,j,O.prototype.valueOf),d(O,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(e,t,n){t.f=n(11)},function(e,t,n){var i=n(24),r=n(81).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return r(e)}catch(e){return a.slice()}}(e):r(i(e))}},function(e,t,n){var i=n(9),r=n(34).onFreeze;n(26)("freeze",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},function(e,t,n){var i=n(9),r=n(34).onFreeze;n(26)("seal",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},function(e,t,n){var i=n(9),r=n(34).onFreeze;n(26)("preventExtensions",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},function(e,t,n){var i=n(9);n(26)("isFrozen",function(e){return function(t){return!i(t)||!!e&&e(t)}})},function(e,t,n){var i=n(9);n(26)("isSealed",function(e){return function(t){return!i(t)||!!e&&e(t)}})},function(e,t,n){var i=n(9);n(26)("isExtensible",function(e){return function(t){return!!i(t)&&(!e||e(t))}})},function(e,t,n){var i=n(24),r=n(67).f;n(26)("getOwnPropertyDescriptor",function(){return function(e,t){return r(i(e),t)}})},function(e,t,n){var i=n(33),r=n(107);n(26)("getPrototypeOf",function(){return function(e){return r(i(e))}})},function(e,t,n){var i=n(33),r=n(37);n(26)("keys",function(){return function(e){return r(i(e))}})},function(e,t,n){n(26)("getOwnPropertyNames",function(){return n(121).f})},function(e,t,n){var i=n(3);i(i.S+i.F,"Object",{assign:n(114)})},function(e,t,n){var i=n(3);i(i.S,"Object",{is:n(219)})},function(e,t,n){var i=n(3);i(i.S,"Object",{setPrototypeOf:n(110).set})},function(e,t,n){var i=n(20).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||n(22)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){var i=n(3),r=n(24),o=n(25);i(i.S,"String",{raw:function(e){for(var t=r(e.raw),n=o(t.length),i=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<i&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){var i=n(3),r=n(60),o=String.fromCharCode,a=String.fromCodePoint;i(i.S+i.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],i=arguments.length,a=0;i>a;){if(t=+arguments[a++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){"use strict";var i=n(3),r=n(220)(!1);i(i.P,"String",{codePointAt:function(e){return r(this,e)}})},function(e,t,n){var i=n(3);i(i.P,"String",{repeat:n(140)})},function(e,t,n){"use strict";var i=n(59),r=n(38);e.exports=function(e){var t=String(r(this)),n="",o=i(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t,n){"use strict";var i=n(3),r=n(25),o=n(82),a="".startsWith;i(i.P+i.F*n(83)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return a?a.call(t,i,n):t.slice(n,n+i.length)===i}})},function(e,t,n){var i=n(9),r=n(43),o=n(11)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},function(e,t,n){"use strict";var i=n(3),r=n(25),o=n(82),a="".endsWith;i(i.P+i.F*n(83)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=r(t.length),s=void 0===n?i:Math.min(r(n),i),l=String(e);return a?a.call(t,l,s):t.slice(s-l.length,s)===l}})},function(e,t,n){"use strict";var i=n(3),r=n(82);i(i.P+i.F*n(83)("includes"),"String",{includes:function(e){return!!~r(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){n(22)&&"g"!=/./g.flags&&n(20).f(RegExp.prototype,"flags",{configurable:!0,get:n(221)})},function(e,t,n){n(70)("match",1,function(e,t,n){return[function(n){"use strict";var i=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i):new RegExp(n)[t](String(i))},n]})},function(e,t,n){n(70)("replace",2,function(e,t,n){return[function(i,r){"use strict";var o=e(this),a=void 0==i?void 0:i[t];return void 0!==a?a.call(i,o,r):n.call(String(o),i,r)},n]})},function(e,t,n){n(70)("split",2,function(e,t,i){"use strict";var r=n(142),o=i,a=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=void 0===/()??/.exec("")[1];i=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!r(e))return o.call(n,e,t);var i,l,c,u,d,h=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,m=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,f+"g");for(s||(i=new RegExp("^"+g.source+"$(?!\\s)",f));(l=g.exec(n))&&!((c=l.index+l[0].length)>p&&(h.push(n.slice(p,l.index)),!s&&l.length>1&&l[0].replace(i,function(){for(d=1;d<arguments.length-2;d++)void 0===arguments[d]&&(l[d]=void 0)}),l.length>1&&l.index<n.length&&a.apply(h,l.slice(1)),u=l[0].length,p=c,h.length>=m));)g.lastIndex===l.index&&g.lastIndex++;return p===n.length?!u&&g.test("")||h.push(""):h.push(n.slice(p)),h.length>m?h.slice(0,m):h}}else"0".split(void 0,0).length&&(i=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function(n,r){var o=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,o,r):i.call(String(o),n,r)},i]})},function(e,t,n){n(70)("search",1,function(e,t,n){return[function(n){"use strict";var i=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i):new RegExp(n)[t](String(i))},n]})},function(e,t,n){"use strict";var i=n(32),r=n(3),o=n(33),a=n(102),s=n(103),l=n(25),c=n(84),u=n(104);r(r.S+r.F*!n(79)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,d,h=o(e),f="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,_=0,v=u(h);if(g&&(m=i(m,p>2?arguments[2]:void 0,2)),void 0==v||f==Array&&s(v))for(n=new f(t=l(h.length));t>_;_++)c(n,_,g?m(h[_],_):h[_]);else for(d=v.call(h),n=new f;!(r=d.next()).done;_++)c(n,_,g?a(d,m,[r.value,_],!0):r.value);return n.length=_,n}})},function(e,t,n){"use strict";var i=n(3),r=n(84);i(i.S+i.F*n(23)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)r(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){var i=n(3);i(i.P,"Array",{copyWithin:n(222)}),n(46)("copyWithin")},function(e,t,n){"use strict";var i=n(3),r=n(68)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(46)("find")},function(e,t,n){"use strict";var i=n(3),r=n(68)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),i(i.P+i.F*a,"Array",{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(46)(o)},function(e,t,n){var i=n(3);i(i.P,"Array",{fill:n(223)}),n(46)("fill")},function(e,t,n){var i=n(3),r=n(14).isFinite;i(i.S,"Number",{isFinite:function(e){return"number"==typeof e&&r(e)}})},function(e,t,n){var i=n(3);i(i.S,"Number",{isInteger:n(158)})},function(e,t,n){var i=n(9),r=Math.floor;e.exports=function(e){return!i(e)&&isFinite(e)&&r(e)===e}},function(e,t,n){var i=n(3),r=n(158),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(e){return r(e)&&o(e)<=9007199254740991}})},function(e,t,n){var i=n(3);i(i.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var i=n(3);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var i=n(3);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var i=n(3);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){"use strict";var i=n(3),r=n(100)(!0);i(i.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(46)("includes")},function(e,t,n){var i=n(3),r=n(166)(!1);i(i.S,"Object",{values:function(e){return r(e)}})},function(e,t,n){var i=n(37),r=n(24),o=n(52).f;e.exports=function(e){return function(t){for(var n,a=r(t),s=i(a),l=s.length,c=0,u=[];l>c;)o.call(a,n=s[c++])&&u.push(e?[n,a[n]]:a[n]);return u}}},function(e,t,n){var i=n(3),r=n(166)(!0);i(i.S,"Object",{entries:function(e){return r(e)}})},function(e,t,n){var i=n(3),r=n(224),o=n(24),a=n(67),s=n(84);i(i.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,i=o(e),l=a.f,c=r(i),u={},d=0;c.length>d;)void 0!==(n=l(i,t=c[d++]))&&s(u,t,n);return u}})},function(e,t,n){"use strict";var i=n(3),r=n(170),o=n(171);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){var i=n(25),r=n(140),o=n(38);e.exports=function(e,t,n,a){var s=String(o(e)),l=s.length,c=void 0===n?" ":String(n),u=i(t);if(u<=l||""==c)return s;var d=u-l,h=r.call(c,Math.ceil(d/c.length));return h.length>d&&(h=h.slice(0,d)),a?h+s:s+h}},function(e,t,n){var i=n(14).navigator;e.exports=i&&i.userAgent||""},function(e,t,n){"use strict";var i=n(3),r=n(170),o=n(171);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){var i=n(3),r=n(80);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(e,t,n){for(var i=n(85),r=n(37),o=n(30),a=n(14),s=n(31),l=n(50),c=n(11),u=c("iterator"),d=c("toStringTag"),h=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(f),m=0;m<p.length;m++){var g,_=p[m],v=f[_],y=a[_],b=y&&y.prototype;if(b&&(b[u]||s(b,u,h),b[d]||s(b,d,_),l[_]=h,v))for(g in i)b[g]||o(b,g,i[g],!0)}},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=new WeakMap,o=function(){function e(t,n,i,o,a,s,l){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:function(e){return e};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.set(this,{viewportWidth:t,scrollOffset:n,totalColumns:i,columnWidthFn:o,overrideFn:a,onlyFullyVisible:s,stretchingColumnWidthFn:c}),this.count=0,this.startColumn=null,this.endColumn=null,this.startPosition=null,this.stretchAllRatio=0,this.stretchLastWidth=0,this.stretch=l,this.totalTargetWidth=0,this.needVerifyLastColumnWidth=!0,this.stretchAllColumnsWidth=[],this.calculate()}return i(e,null,[{key:"DEFAULT_WIDTH",get:function(){return 50}}]),i(e,[{key:"calculate",value:function(){for(var e=0,t=!0,n=[],i=void 0,o=r.get(this),a=o.onlyFullyVisible,s=o.overrideFn,l=o.scrollOffset,c=o.totalColumns,u=o.viewportWidth,d=0;d<c;d++){if(i=this._getColumnWidth(d),e<=l&&!a&&(this.startColumn=d),e>=l&&e+i<=l+(l>0?u+1:u)&&(null==this.startColumn&&(this.startColumn=d),this.endColumn=d),n.push(e),e+=i,a||(this.endColumn=d),e>=l+u){t=!1;break}}if(this.endColumn===c-1&&t)for(this.startColumn=this.endColumn;this.startColumn>0;){var h=n[this.endColumn]+i-n[this.startColumn-1];if((h<=u||!a)&&this.startColumn--,h>u)break}null!==this.startColumn&&s&&s(this),this.startPosition=n[this.startColumn],void 0==this.startPosition&&(this.startPosition=null),null!==this.startColumn&&(this.count=this.endColumn-this.startColumn+1)}},{key:"refreshStretching",value:function(e){if("none"!==this.stretch){this.totalTargetWidth=e;for(var t=r.get(this),n=t.totalColumns,i=0,o=0;o<n;o++){var a=this._getColumnWidth(o),s=t.stretchingColumnWidthFn(void 0,o);"number"==typeof s?e-=s:i+=a}var l=e-i;if("all"===this.stretch&&l>0)this.stretchAllRatio=e/i,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if("last"===this.stretch&&e!==1/0){var c=this._getColumnWidth(n-1),u=l+c;this.stretchLastWidth=u>=0?u:c}}}},{key:"getStretchedColumnWidth",value:function(e,t){var n=null;return"all"===this.stretch&&0!==this.stretchAllRatio?n=this._getStretchedAllColumnWidth(e,t):"last"===this.stretch&&0!==this.stretchLastWidth&&(n=this._getStretchedLastColumnWidth(e)),n}},{key:"_getStretchedAllColumnWidth",value:function(e,t){var n=0,i=r.get(this),o=i.totalColumns;if(!this.stretchAllColumnsWidth[e]){var a=Math.round(t*this.stretchAllRatio),s=i.stretchingColumnWidthFn(a,e);this.stretchAllColumnsWidth[e]=void 0===s?a:isNaN(s)?this._getColumnWidth(e):s}if(this.stretchAllColumnsWidth.length===o&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(var l=0;l<this.stretchAllColumnsWidth.length;l++)n+=this.stretchAllColumnsWidth[l];n!==this.totalTargetWidth&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=this.totalTargetWidth-n)}return this.stretchAllColumnsWidth[e]}},{key:"_getStretchedLastColumnWidth",value:function(e){return e===r.get(this).totalColumns-1?this.stretchLastWidth:null}},{key:"_getColumnWidth",value:function(t){var n=r.get(this).columnWidthFn(t);return void 0===n&&(n=e.DEFAULT_WIDTH),n}}]),e}();t.default=o},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=new WeakMap,o=function(){function e(t,n,i,o,a,s,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.set(this,{viewportHeight:t,scrollOffset:n,totalRows:i,rowHeightFn:o,overrideFn:a,onlyFullyVisible:s,horizontalScrollbarHeight:l}),this.count=0,this.startRow=null,this.endRow=null,this.startPosition=null,this.calculate()}return i(e,null,[{key:"DEFAULT_HEIGHT",get:function(){return 23}}]),i(e,[{key:"calculate",value:function(){for(var t=0,n=!0,i=[],o=r.get(this),a=o.onlyFullyVisible,s=o.overrideFn,l=o.rowHeightFn,c=o.scrollOffset,u=o.totalRows,d=o.viewportHeight,h=o.horizontalScrollbarHeight||0,f=void 0,p=0;p<u;p++)if(void 0===(f=l(p))&&(f=e.DEFAULT_HEIGHT),t<=c&&!a&&(this.startRow=p),t>=c&&t+f<=c+d-h&&(null===this.startRow&&(this.startRow=p),this.endRow=p),i.push(t),t+=f,a||(this.endRow=p),t>=c+d-h){n=!1;break}if(this.endRow===u-1&&n)for(this.startRow=this.endRow;this.startRow>0;){var m=i[this.endRow]+f-i[this.startRow-1];if((m<=d-h||!a)&&this.startRow--,m>=d-h)break}null!==this.startRow&&s&&s(this),this.startPosition=i[this.startRow],void 0==this.startPosition&&(this.startPosition=null),null!==this.startRow&&(this.count=this.endRow-this.startRow+1)}}]),e}();t.default=o},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.offset=t,this.total=n,this.countTH=i}return i(e,[{key:"offsetted",value:function(e){return e+this.offset}},{key:"unOffsetted",value:function(e){return e-this.offset}},{key:"renderedToSource",value:function(e){return this.offsetted(e)}},{key:"sourceToRendered",value:function(e){return this.unOffsetted(e)}},{key:"offsettedTH",value:function(e){return e-this.countTH}},{key:"unOffsettedTH",value:function(e){return e+this.countTH}},{key:"visibleRowHeadedColumnToSourceColumn",value:function(e){return this.renderedToSource(this.offsettedTH(e))}},{key:"sourceColumnToVisibleRowHeadedColumn",value:function(e){return this.unOffsettedTH(this.sourceToRendered(e))}}]),e}();t.default=r},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.offset=t,this.total=n,this.countTH=i}return i(e,[{key:"offsetted",value:function(e){return e+this.offset}},{key:"unOffsetted",value:function(e){return e-this.offset}},{key:"renderedToSource",value:function(e){return this.offsetted(e)}},{key:"sourceToRendered",value:function(e){return this.unOffsetted(e)}},{key:"offsettedTH",value:function(e){return e-this.countTH}},{key:"unOffsettedTH",value:function(e){return e+this.countTH}},{key:"visibleColHeadedRowToSourceRow",value:function(e){return this.renderedToSource(this.offsettedTH(e))}},{key:"sourceRowToVisibleColHeadedRow",value:function(e){return this.unOffsettedTH(this.sourceToRendered(e))}}]),e}();t.default=r},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=n(2),a=n(36),s=f(n(180)),l=f(n(181)),c=f(n(182)),u=f(n(183)),d=f(n(184)),h=f(n(186));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=[];if(this.guid="wt_"+(0,a.randomString)(),t.cloneSource?(this.cloneSource=t.cloneSource,this.cloneOverlay=t.cloneOverlay,this.wtSettings=t.cloneSource.wtSettings,this.wtTable=new d.default(this,t.table,t.wtRootElement),this.wtScroll=new c.default(this),this.wtViewport=t.cloneSource.wtViewport,this.wtEvent=new s.default(this),this.selections=this.cloneSource.selections):(this.wtSettings=new u.default(this,t),this.wtTable=new d.default(this,t.table),this.wtScroll=new c.default(this),this.wtViewport=new h.default(this),this.wtEvent=new s.default(this),this.selections=this.getSetting("selections"),this.wtOverlays=new l.default(this),this.exportSettingsAsClassNames()),this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var i=0,o=this.wtTable.THEAD.childNodes[0].childNodes.length;i<o;i++)n.push(this.wtTable.THEAD.childNodes[0].childNodes[i].innerHTML);this.getSetting("columnHeaders").length||this.update("columnHeaders",[function(e,t){(0,r.fastInnerText)(t,n[e])}])}this.drawn=!1,this.drawInterrupted=!1}return i(e,[{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.drawInterrupted=!1,e||(0,r.isVisible)(this.wtTable.TABLE)?this.wtTable.draw(e):this.drawInterrupted=!0,this}},{key:"getCell",value:function(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return this.wtTable.getCell(e);var t=this.wtSettings.getSetting("totalRows"),n=this.wtSettings.getSetting("fixedRowsTop"),i=this.wtSettings.getSetting("fixedRowsBottom"),r=this.wtSettings.getSetting("fixedColumnsLeft");if(e.row<n&&e.col<r)return this.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell(e);if(e.row<n)return this.wtOverlays.topOverlay.clone.wtTable.getCell(e);if(e.col<r&&e.row>=t-i){if(this.wtOverlays.bottomLeftCornerOverlay&&this.wtOverlays.bottomLeftCornerOverlay.clone)return this.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.getCell(e)}else{if(e.col<r)return this.wtOverlays.leftOverlay.clone.wtTable.getCell(e);if(e.row<t&&e.row>t-i&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(e)}return this.wtTable.getCell(e)}},{key:"update",value:function(e,t){return this.wtSettings.update(e,t)}},{key:"scrollVertical",value:function(e){return this.wtOverlays.topOverlay.scrollTo(e),this.getSetting("onScrollVertically"),this}},{key:"scrollHorizontal",value:function(e){return this.wtOverlays.leftOverlay.scrollTo(e),this.getSetting("onScrollHorizontally"),this}},{key:"scrollViewport",value:function(e){return this.wtScroll.scrollViewport(e),this}},{key:"getViewport",value:function(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}},{key:"getOverlayName",value:function(){return this.cloneOverlay?this.cloneOverlay.type:"master"}},{key:"isOverlayName",value:function(e){return!!this.cloneOverlay&&this.cloneOverlay.type===e}},{key:"exportSettingsAsClassNames",value:function(){var e=this,t=[],n=[];(0,o.objectEach)({rowHeaders:["array"],columnHeaders:["array"]},function(i,r){i.indexOf("array")>-1&&e.getSetting(r).length&&n.push("ht"+(0,a.toUpperCaseFirst)(r)),t.push("ht"+(0,a.toUpperCaseFirst)(r))}),(0,r.removeClass)(this.wtTable.wtRootElement.parentNode,t),(0,r.addClass)(this.wtTable.wtRootElement.parentNode,n)}},{key:"getSetting",value:function(e,t,n,i,r){return this.wtSettings.getSetting(e,t,n,i,r)}},{key:"hasSetting",value:function(e){return this.wtSettings.has(e)}},{key:"destroy",value:function(){this.wtOverlays.destroy(),this.wtEvent.destroy()}}]),e}();t.default=p},function(e,t,n){"use strict";t.__esModule=!0;var i=n(0),r=n(42),o=n(27),a=function(e){return e&&e.__esModule?e:{default:e}}(n(6));function s(e){var t=this,n=new a.default(e),s=void 0;this.instance=e;var l=[null,null];this.dblClickTimeout=[null,null];var c=function(e){var n=document.activeElement,o=(0,r.partial)(i.getParent,e.realTarget),a=e.realTarget;if(a!==n&&o(0)!==n&&o(1)!==n){var s=t.parentCell(a);(0,i.hasClass)(a,"corner")?t.instance.getSetting("onCellCornerMouseDown",e,a):s.TD&&t.instance.hasSetting("onCellMouseDown")&&t.instance.getSetting("onCellMouseDown",e,s.coords,s.TD,t.instance),2!==e.button&&s.TD&&(l[0]=s.TD,clearTimeout(t.dblClickTimeout[0]),t.dblClickTimeout[0]=setTimeout(function(){l[0]=null},1e3))}},u=function(e){t.instance.touchMoving=!0},d=function(e){if(2!==e.button){var n=t.parentCell(e.realTarget);n.TD===l[0]&&n.TD===l[1]?((0,i.hasClass)(e.realTarget,"corner")?t.instance.getSetting("onCellCornerDblClick",e,n.coords,n.TD,t.instance):t.instance.getSetting("onCellDblClick",e,n.coords,n.TD,t.instance),l[0]=null,l[1]=null):n.TD===l[0]?(t.instance.getSetting("onCellMouseUp",e,n.coords,n.TD,t.instance),l[1]=n.TD,clearTimeout(t.dblClickTimeout[1]),t.dblClickTimeout[1]=setTimeout(function(){l[1]=null},500)):n.TD&&t.instance.hasSetting("onCellMouseUp")&&t.instance.getSetting("onCellMouseUp",e,n.coords,n.TD,t.instance)}},h=function(e){var n=e.target;!1!==function(e){var n=t.parentCell(e).coords;if(s&&n){var i=[n.row,s.from.row],r=i[0],o=i[1],a=[n.col,s.from.col];return r===o&&a[0]===a[1]}return!1}(n)&&!1!==["A","BUTTON","INPUT"].includes(n.tagName)||(e.preventDefault(),d(e))};if(n.addEventListener(this.instance.wtTable.holder,"mousedown",c),n.addEventListener(this.instance.wtTable.TABLE,"mouseover",function(e){var n,r,o;t.instance.hasSetting("onCellMouseOver")&&(n=t.instance.wtTable.TABLE,r=(0,i.closestDown)(e.realTarget,["TD","TH"],n),o=t.instance.cloneSource||t.instance,r&&r!==o.lastMouseOver&&(0,i.isChildOf)(r,n)&&(o.lastMouseOver=r,t.instance.getSetting("onCellMouseOver",e,t.instance.wtTable.getCoords(r),r,t.instance)))}),n.addEventListener(this.instance.wtTable.TABLE,"mouseout",function(e){var n=void 0,r=void 0,o=void 0;t.instance.hasSetting("onCellMouseOut")&&(n=t.instance.wtTable.TABLE,r=(0,i.closestDown)(e.realTarget,["TD","TH"],n),o=(0,i.closestDown)(e.relatedTarget,["TD","TH"],n),r&&r!==o&&(0,i.isChildOf)(r,n)&&t.instance.getSetting("onCellMouseOut",e,t.instance.wtTable.getCoords(r),r,t.instance))}),n.addEventListener(this.instance.wtTable.holder,"mouseup",d),this.instance.wtTable.holder.parentNode.parentNode&&(0,o.isMobileBrowser)()&&!t.instance.wtTable.isWorkingOnClone()){var f="."+this.instance.wtTable.holder.parentNode.className.split(" ").join(".");n.addEventListener(this.instance.wtTable.holder,"touchstart",function(r){s=e.selections.getCell().cellRange,t.instance.touchApplied=!0,(0,i.isChildOf)(r.target,f)&&function(e){n.addEventListener(this,"touchmove",u),t.checkIfTouchMove=setTimeout(function(){!0===t.instance.touchMoving&&(t.instance.touchMoving=void 0,n.removeEventListener("touchmove",u,!1)),c(e)},30)}.call(r.target,r)}),n.addEventListener(this.instance.wtTable.holder,"touchend",function(e){t.instance.touchApplied=!1,(0,i.isChildOf)(e.target,f)&&h.call(e.target,e)}),t.instance.momentumScrolling||(t.instance.momentumScrolling={}),n.addEventListener(this.instance.wtTable.holder,"scroll",function(e){clearTimeout(t.instance.momentumScrolling._timeout),t.instance.momentumScrolling.ongoing||t.instance.getSetting("onBeforeTouchScroll"),t.instance.momentumScrolling.ongoing=!0,t.instance.momentumScrolling._timeout=setTimeout(function(){t.instance.touchApplied||(t.instance.momentumScrolling.ongoing=!1,t.instance.getSetting("onAfterMomentumScroll"))},200)})}n.addEventListener(window,"resize",function(){"none"!==t.instance.getSetting("stretchH")&&t.instance.draw()}),this.destroy=function(){clearTimeout(this.dblClickTimeout[0]),clearTimeout(this.dblClickTimeout[1]),n.destroy()}}s.prototype.parentCell=function(e){var t={},n=this.instance.wtTable.TABLE,r=(0,i.closestDown)(e,["TD","TH"],n);return r?(t.coords=this.instance.wtTable.getCoords(r),t.TD=r):(0,i.hasClass)(e,"wtBorder")&&(0,i.hasClass)(e,"current")?(t.coords=this.instance.selections.getCell().cellRange.highlight,t.TD=this.instance.wtTable.getCell(t.coords)):(0,i.hasClass)(e,"wtBorder")&&(0,i.hasClass)(e,"area")&&this.instance.selections.createOrGetArea().cellRange&&(t.coords=this.instance.selections.createOrGetArea().cellRange.to,t.TD=this.instance.wtTable.getCell(t.coords)),t},t.default=s},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=n(1),a=n(21),s=n(27),l=u(n(6)),c=u(n(35));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=parseInt(getComputedStyle(document.body).lineHeight,10),i=1.2*parseInt(getComputedStyle(document.body).fontSize,10);this.wot=t,this.instance=this.wot,this.eventManager=new l.default(this.wot),this.wot.update("scrollbarWidth",(0,r.getScrollbarWidth)()),this.wot.update("scrollbarHeight",(0,r.getScrollbarWidth)()),this.scrollableElement=(0,r.getScrollableElement)(this.wot.wtTable.TABLE),this.prepareOverlays(),this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.overlayScrollPositions={master:{top:0,left:0},top:{top:null,left:0},bottom:{top:null,left:0},left:{top:0,left:null}},this.pendingScrollCallbacks={master:{top:0,left:0},top:{left:0},bottom:{left:0},left:{top:0}},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.delegatedScrollCallback=!1,this.registeredListeners=[],this.browserLineHeight=n||i,this.registerListeners()}return i(e,[{key:"prepareOverlays",value:function(){var e=!1;return this.topOverlay?e=this.topOverlay.updateStateOfRendering()||e:this.topOverlay=c.default.createOverlay(c.default.CLONE_TOP,this.wot),c.default.hasOverlay(c.default.CLONE_BOTTOM)||(this.bottomOverlay={needFullRender:!1,updateStateOfRendering:function(){return!1}}),c.default.hasOverlay(c.default.CLONE_BOTTOM_LEFT_CORNER)||(this.bottomLeftCornerOverlay={needFullRender:!1,updateStateOfRendering:function(){return!1}}),this.bottomOverlay?e=this.bottomOverlay.updateStateOfRendering()||e:this.bottomOverlay=c.default.createOverlay(c.default.CLONE_BOTTOM,this.wot),this.leftOverlay?e=this.leftOverlay.updateStateOfRendering()||e:this.leftOverlay=c.default.createOverlay(c.default.CLONE_LEFT,this.wot),this.topOverlay.needFullRender&&this.leftOverlay.needFullRender&&(this.topLeftCornerOverlay?e=this.topLeftCornerOverlay.updateStateOfRendering()||e:this.topLeftCornerOverlay=c.default.createOverlay(c.default.CLONE_TOP_LEFT_CORNER,this.wot)),this.bottomOverlay.needFullRender&&this.leftOverlay.needFullRender&&(this.bottomLeftCornerOverlay?e=this.bottomLeftCornerOverlay.updateStateOfRendering()||e:this.bottomLeftCornerOverlay=c.default.createOverlay(c.default.CLONE_BOTTOM_LEFT_CORNER,this.wot)),this.wot.getSetting("debug")&&!this.debug&&(this.debug=c.default.createOverlay(c.default.CLONE_DEBUG,this.wot)),e}},{key:"refreshAll",value:function(){this.wot.drawn&&(this.wot.wtTable.holder.parentNode?(this.wot.draw(!0),this.verticalScrolling&&this.leftOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1):this.destroy())}},{key:"registerListeners",value:function(){var e=this,t=this.topOverlay.mainTableScrollableElement,n=this.leftOverlay.mainTableScrollableElement,i=[];for(i.push([document.documentElement,"keydown",function(t){return e.onKeyDown(t)}]),i.push([document.documentElement,"keyup",function(){return e.onKeyUp()}]),i.push([document,"visibilitychange",function(){return e.onKeyUp()}]),i.push([t,"scroll",function(t){return e.onTableScroll(t)}]),t!==n&&i.push([n,"scroll",function(t){return e.onTableScroll(t)}]),window.devicePixelRatio&&window.devicePixelRatio>1||!(0,s.isChrome)()?i.push([this.instance.wtTable.wtRootElement.parentNode,"wheel",function(t){return e.onCloneWheel(t)}]):(this.topOverlay.needFullRender&&i.push([this.topOverlay.clone.wtTable.holder,"wheel",function(t){return e.onCloneWheel(t)}]),this.bottomOverlay.needFullRender&&i.push([this.bottomOverlay.clone.wtTable.holder,"wheel",function(t){return e.onCloneWheel(t)}]),this.leftOverlay.needFullRender&&i.push([this.leftOverlay.clone.wtTable.holder,"wheel",function(t){return e.onCloneWheel(t)}]),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.needFullRender&&i.push([this.topLeftCornerOverlay.clone.wtTable.holder,"wheel",function(t){return e.onCloneWheel(t)}]),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.needFullRender&&i.push([this.bottomLeftCornerOverlay.clone.wtTable.holder,"wheel",function(t){return e.onCloneWheel(t)}])),this.topOverlay.trimmingContainer!==window&&this.leftOverlay.trimmingContainer!==window&&i.push([window,"wheel",function(t){var n=void 0,i=t.wheelDeltaY||t.deltaY,r=t.wheelDeltaX||t.deltaX;e.topOverlay.clone.wtTable.holder.contains(t.realTarget)?n="top":e.bottomOverlay.clone&&e.bottomOverlay.clone.wtTable.holder.contains(t.realTarget)?n="bottom":e.leftOverlay.clone.wtTable.holder.contains(t.realTarget)?n="left":e.topLeftCornerOverlay&&e.topLeftCornerOverlay.clone&&e.topLeftCornerOverlay.clone.wtTable.holder.contains(t.realTarget)?n="topLeft":e.bottomLeftCornerOverlay&&e.bottomLeftCornerOverlay.clone&&e.bottomLeftCornerOverlay.clone.wtTable.holder.contains(t.realTarget)&&(n="bottomLeft"),("top"===n&&0!==i||"left"===n&&0!==r||"bottom"===n&&0!==i||("topLeft"===n||"bottomLeft"===n)&&(0!==i||0!==r))&&t.preventDefault()}]);i.length;){var r=i.pop();this.eventManager.addEventListener(r[0],r[1],r[2]),this.registeredListeners.push(r)}}},{key:"deregisterListeners",value:function(){for(;this.registeredListeners.length;){var e=this.registeredListeners.pop();this.eventManager.removeEventListener(e[0],e[1],e[2])}}},{key:"onTableScroll",value:function(e){var t=this.leftOverlay.mainTableScrollableElement,n=this.topOverlay.mainTableScrollableElement,i=e.target;this.keyPressed&&(n!==window&&i!==window&&!e.target.contains(n)||t!==window&&i!==window&&!e.target.contains(t))||this.syncScrollPositions(e)}},{key:"onCloneWheel",value:function(e){this.scrollableElement!==window&&e.preventDefault();var t=this.leftOverlay.mainTableScrollableElement,n=this.topOverlay.mainTableScrollableElement,i=e.target,r=n!==window&&i!==window&&!e.target.contains(n),o=t!==window&&i!==window&&!e.target.contains(t);this.keyPressed&&(r||o)||this.translateMouseWheelToScroll(e)}},{key:"onKeyDown",value:function(e){this.keyPressed=(0,a.isKey)(e.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}},{key:"onKeyUp",value:function(){this.keyPressed=!1}},{key:"translateMouseWheelToScroll",value:function(e){var t=isNaN(e.deltaY)?-1*e.wheelDeltaY:e.deltaY,n=isNaN(e.deltaX)?-1*e.wheelDeltaX:e.deltaX;return 1===e.deltaMode&&(n+=n*this.browserLineHeight,t+=t*this.browserLineHeight),this.scrollVertically(t),this.scrollHorizontally(n),!1}},{key:"scrollVertically",value:function(e){if(0===e)return 0;this.scrollableElement.scrollTop+=e}},{key:"scrollHorizontally",value:function(e){if(0===e)return 0;this.scrollableElement.scrollLeft+=e}},{key:"syncScrollPositions",value:function(e){if(!this.destroyed){var t=this.topOverlay.clone.wtTable.holder,n=this.leftOverlay.clone.wtTable.holder,i=[this.scrollableElement.scrollLeft,this.scrollableElement.scrollTop],r=i[0],o=i[1];this.horizontalScrolling=t.scrollLeft!==r,this.verticalScrolling=n.scrollTop!==o,this.horizontalScrolling&&(t.scrollLeft=r),this.verticalScrolling&&(n.scrollTop=o,this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=r)),this.refreshAll()}}},{key:"syncScrollWithMaster",value:function(){var e=this.topOverlay.mainTableScrollableElement,t=e.scrollLeft,n=e.scrollTop;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=t),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=t),this.leftOverlay.needFullRender&&(this.leftOverlay.clone.wtTable.holder.scrollTop=n)}},{key:"updateMainScrollableElements",value:function(){this.deregisterListeners(),this.leftOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement(),this.scrollableElement=(0,r.getScrollableElement)(this.wot.wtTable.TABLE),this.registerListeners()}},{key:"destroy",value:function(){this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.leftOverlay.destroy(),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.destroy(),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone&&this.bottomLeftCornerOverlay.destroy(),this.debug&&this.debug.destroy(),this.destroyed=!0}},{key:"refresh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.topOverlay.areElementSizesAdjusted&&this.leftOverlay.areElementSizesAdjusted){var t=this.wot.wtTable.wtRootElement.parentNode||this.wot.wtTable.wtRootElement,n=t.clientWidth,i=t.clientHeight;n===this.spreaderLastSize.width&&i===this.spreaderLastSize.height||(this.spreaderLastSize.width=n,this.spreaderLastSize.height=i,this.adjustElementsSize())}this.bottomOverlay.clone&&this.bottomOverlay.refresh(e),this.leftOverlay.refresh(e),this.topOverlay.refresh(e),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.refresh(e),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone&&this.bottomLeftCornerOverlay.refresh(e),this.debug&&this.debug.refresh(e)}},{key:"adjustElementsSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.wot.getSetting("totalColumns"),n=this.wot.getSetting("totalRows"),i=this.wot.wtViewport.getRowHeaderWidth(),r=this.wot.wtViewport.getColumnHeaderHeight(),o=this.wot.wtTable.hider.style;o.width=i+this.leftOverlay.sumCellSizes(0,t)+"px",o.height=r+this.topOverlay.sumCellSizes(0,n)+1+"px",this.topOverlay.adjustElementsSize(e),this.leftOverlay.adjustElementsSize(e),this.bottomOverlay.clone&&this.bottomOverlay.adjustElementsSize(e)}},{key:"applyToDOM",value:function(){this.topOverlay.areElementSizesAdjusted&&this.leftOverlay.areElementSizesAdjusted||this.adjustElementsSize(),this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.leftOverlay.applyToDOM()}},{key:"getParentOverlay",value:function(e){if(!e)return null;var t=[this.topOverlay,this.leftOverlay,this.bottomOverlay,this.topLeftCornerOverlay,this.bottomLeftCornerOverlay],n=null;return(0,o.arrayEach)(t,function(t,i){t&&t.clone&&t.clone.wtTable.TABLE.contains(e)&&(n=t.clone)}),n}}]),e}();t.default=d},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=n(5);var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wot=t,this.instance=t}return i(e,[{key:"scrollViewport",value:function(e){if(this.wot.drawn){var t=this._getVariables(),n=t.topOverlay,i=t.leftOverlay,r=t.totalRows,o=t.totalColumns,a=t.fixedRowsTop,s=t.fixedRowsBottom,l=t.fixedColumnsLeft;if(e.row<0||e.row>Math.max(r-1,0))throw new Error("row "+e.row+" does not exist");if(e.col<0||e.col>Math.max(o-1,0))throw new Error("column "+e.col+" does not exist");e.row>=a&&e.row<this.getFirstVisibleRow()?n.scrollTo(e.row):e.row>this.getLastVisibleRow()&&e.row<r-s&&n.scrollTo(e.row,!0),e.col>=l&&e.col<this.getFirstVisibleColumn()?i.scrollTo(e.col):e.col>this.getLastVisibleColumn()&&i.scrollTo(e.col,!0)}}},{key:"getFirstVisibleRow",value:function(){var e=this._getVariables(),t=e.topOverlay,n=e.wtTable,i=e.wtViewport,a=e.totalRows,s=e.fixedRowsTop,l=n.getFirstVisibleRow();if(t.mainTableScrollableElement===window){var c=(0,r.offset)(n.wtRootElement),u=(0,r.innerHeight)(n.hider),d=(0,r.innerHeight)(window),h=(0,r.getScrollTop)(window);if(c.top+u-d<=h){var f=i.getColumnHeaderHeight();f+=t.sumCellSizes(0,s),(0,o.rangeEachReverse)(a,1,function(e){if(f+=t.sumCellSizes(e-1,e),c.top+u-f<=h)return l=e,!1})}}return l}},{key:"getLastVisibleRow",value:function(){var e=this._getVariables(),t=e.topOverlay,n=e.wtTable,i=e.wtViewport,a=e.totalRows,s=n.getLastVisibleRow();if(t.mainTableScrollableElement===window){var l=(0,r.offset)(n.wtRootElement),c=(0,r.innerHeight)(window),u=(0,r.getScrollTop)(window);if(l.top>u){var d=i.getColumnHeaderHeight();(0,o.rangeEach)(1,a,function(e){if(d+=t.sumCellSizes(e-1,e),l.top+d-u>=c)return s=e-2,!1})}}return s}},{key:"getFirstVisibleColumn",value:function(){var e=this._getVariables(),t=e.leftOverlay,n=e.wtTable,i=e.wtViewport,a=e.totalColumns,s=(e.fixedColumnsLeft,n.getFirstVisibleColumn());if(t.mainTableScrollableElement===window){var l=(0,r.offset)(n.wtRootElement),c=(0,r.innerWidth)(n.hider),u=(0,r.innerWidth)(window),d=(0,r.getScrollLeft)(window);if(l.left+c-u<=d){var h=i.getRowHeaderWidth();(0,o.rangeEachReverse)(a,1,function(e){if(h+=t.sumCellSizes(e-1,e),l.left+c-h<=d)return s=e,!1})}}return s}},{key:"getLastVisibleColumn",value:function(){var e=this._getVariables(),t=e.leftOverlay,n=e.wtTable,i=e.wtViewport,a=e.totalColumns,s=n.getLastVisibleColumn();if(t.mainTableScrollableElement===window){var l=(0,r.offset)(n.wtRootElement),c=(0,r.innerWidth)(window),u=(0,r.getScrollLeft)(window);if(l.left>u){var d=i.getRowHeaderWidth();(0,o.rangeEach)(1,a,function(e){if(d+=t.sumCellSizes(e-1,e),l.left+d-u>=c)return s=e-2,!1})}}return s}},{key:"_getVariables",value:function(){var e=this.wot;return{topOverlay:e.wtOverlays.topOverlay,leftOverlay:e.wtOverlays.leftOverlay,wtTable:e.wtTable,wtViewport:e.wtViewport,totalRows:e.getSetting("totalRows"),totalColumns:e.getSetting("totalColumns"),fixedRowsTop:e.getSetting("fixedRowsTop"),fixedRowsBottom:e.getSetting("fixedRowsBottom"),fixedColumnsLeft:e.getSetting("fixedColumnsLeft")}}}]),e}();t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=n(2);var a=function(){function e(t,n){var i=this;for(var a in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wot=t,this.instance=t,this.defaults={table:void 0,debug:!1,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow:function(){return!1},data:void 0,freezeOverlays:!1,fixedColumnsLeft:0,fixedRowsTop:0,fixedRowsBottom:0,minSpareRows:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:function(e,t,n){var o=i.getSetting("data",e,t);(0,r.fastInnerText)(n,void 0===o||null===o?"":o)},columnWidth:function(e){},rowHeight:function(e){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeRemoveCellClassNames:null,onAfterDrawSelection:null,onBeforeDrawBorders:null,onScrollVertically:null,onScrollHorizontally:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:function(e){return e},onModifyRowHeaderWidth:null,onModifyGetCellCoords:null,scrollbarWidth:10,scrollbarHeight:10,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null},this.settings={},this.defaults)if((0,o.hasOwnProperty)(this.defaults,a))if(void 0!==n[a])this.settings[a]=n[a];else{if(void 0===this.defaults[a])throw new Error('A required setting "'+a+'" was not provided');this.settings[a]=this.defaults[a]}}return i(e,[{key:"update",value:function(e,t){if(void 0===t)for(var n in e)(0,o.hasOwnProperty)(e,n)&&(this.settings[n]=e[n]);else this.settings[e]=t;return this.wot}},{key:"getSetting",value:function(e,t,n,i,r){return"function"==typeof this.settings[e]?this.settings[e](t,n,i,r):void 0!==t&&Array.isArray(this.settings[e])?this.settings[e][t]:this.settings[e]}},{key:"has",value:function(e){return!!this.settings[e]}}]),e}();t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(0),s=n(42),l=f(n(54)),c=(f(n(86)),f(n(177))),u=f(n(178)),d=f(n(185)),h=f(n(35));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wot=t,this.instance=this.wot,this.TABLE=n,this.TBODY=null,this.THEAD=null,this.COLGROUP=null,this.tableOffset=0,this.holderOffset=0,(0,a.removeTextNodes)(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.colgroupChildrenLength=this.COLGROUP.childNodes.length,this.theadChildrenLength=this.THEAD.firstChild?this.THEAD.firstChild.childNodes.length:0,this.tbodyChildrenLength=this.TBODY.childNodes.length,this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;var r=this.wot.wtSettings.settings.rowHeaderWidth;this.wot.wtSettings.settings.rowHeaderWidth=function(){return i._modifyRowHeaderWidth(r)}}return o(e,[{key:"fixTableDomTree",value:function(){this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=document.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=document.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=document.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD)),this.wot.getSetting("columnHeaders").length&&!this.THEAD.childNodes.length&&this.THEAD.appendChild(document.createElement("TR"))}},{key:"createSpreader",value:function(e){var t=e.parentNode,n=void 0;return t&&1===t.nodeType&&(0,a.hasClass)(t,"wtHolder")||((n=document.createElement("div")).className="wtSpreader",t&&t.insertBefore(n,e),n.appendChild(e)),n.style.position="relative",n}},{key:"createHider",value:function(e){var t=e.parentNode,n=void 0;return t&&1===t.nodeType&&(0,a.hasClass)(t,"wtHolder")||((n=document.createElement("div")).className="wtHider",t&&t.insertBefore(n,e),n.appendChild(e)),n}},{key:"createHolder",value:function(e){var t=e.parentNode,n=void 0;return t&&1===t.nodeType&&(0,a.hasClass)(t,"wtHolder")||((n=document.createElement("div")).style.position="relative",n.className="wtHolder",t&&t.insertBefore(n,e),this.isWorkingOnClone()||(n.parentNode.className+="ht_master handsontable"),n.appendChild(e)),n}},{key:"alignOverlaysWithTrimmingContainer",value:function(){var e=(0,a.getTrimmingContainer)(this.wtRootElement);this.isWorkingOnClone()||(this.holder.parentNode.style.position="relative",e===window?this.wot.getSetting("preventOverflow")||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible"):(this.holder.style.width=(0,a.getStyle)(e,"width"),this.holder.style.height=(0,a.getStyle)(e,"height"),this.holder.style.overflow=""))}},{key:"isWorkingOnClone",value:function(){return!!this.wot.cloneSource}},{key:"draw",value:function(e){var t=this.wot,n=t.wtOverlays,i=t.wtViewport,r=this.instance.getSetting("totalRows"),o=this.wot.getSetting("rowHeaders").length,s=this.wot.getSetting("columnHeaders").length,l=!1;if(!this.isWorkingOnClone()&&(this.holderOffset=(0,a.offset)(this.holder),e=i.createRenderCalculators(e),o&&!this.wot.getSetting("fixedColumnsLeft"))){var d=n.leftOverlay.getScrollPosition(),f=this.correctHeaderWidth;this.correctHeaderWidth=d>0,f!==this.correctHeaderWidth&&(e=!1)}if(this.isWorkingOnClone()||(l=n.prepareOverlays()),e)this.isWorkingOnClone()||i.createVisibleCalculators(),n&&n.refresh(!0);else{this.isWorkingOnClone()?this.tableOffset=this.wot.cloneSource.wtTable.tableOffset:this.tableOffset=(0,a.offset)(this.TABLE);var p=void 0;p=h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_DEBUG)||h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_TOP)||h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_TOP_LEFT_CORNER)?0:h.default.isOverlayTypeOf(this.instance.cloneOverlay,h.default.CLONE_BOTTOM)||h.default.isOverlayTypeOf(this.instance.cloneOverlay,h.default.CLONE_BOTTOM_LEFT_CORNER)?Math.max(r-this.wot.getSetting("fixedRowsBottom"),0):i.rowsRenderCalculator.startRow;var m=void 0;m=h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_DEBUG)||h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_LEFT)||h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_TOP_LEFT_CORNER)||h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_BOTTOM_LEFT_CORNER)?0:i.columnsRenderCalculator.startColumn,this.rowFilter=new u.default(p,r,s),this.columnFilter=new c.default(m,this.wot.getSetting("totalColumns"),o),this.alignOverlaysWithTrimmingContainer(),this._doDraw()}return this.refreshSelections(e),this.isWorkingOnClone()||(n.topOverlay.resetFixedPosition(),n.bottomOverlay.clone&&n.bottomOverlay.resetFixedPosition(),n.leftOverlay.resetFixedPosition(),n.topLeftCornerOverlay&&n.topLeftCornerOverlay.resetFixedPosition(),n.bottomLeftCornerOverlay&&n.bottomLeftCornerOverlay.clone&&n.bottomLeftCornerOverlay.resetFixedPosition()),l&&n.syncScrollWithMaster(),this.wot.drawn=!0,this}},{key:"_doDraw",value:function(){new d.default(this).render()}},{key:"removeClassFromCells",value:function(e){for(var t=this.TABLE.querySelectorAll("."+e),n=0,i=t.length;n<i;n++)(0,a.removeClass)(t[n],e)}},{key:"refreshSelections",value:function(e){if(this.wot.selections){var t=Array.from(this.wot.selections),n=t.length;if(e){for(var i=[],r=0;r<n;r++){for(var o=t[r].settings,a=o.highlightHeaderClassName,s=o.highlightRowClassName,l=o.highlightColumnClassName,c=t[r].classNames,u=c.length,d=0;d<u;d++)i.includes(c[d])||i.push(c[d]);a&&!i.includes(a)&&i.push(a),s&&!i.includes(s)&&i.push(s),l&&!i.includes(l)&&i.push(l)}var h=this.wot.getSetting("onBeforeRemoveCellClassNames");if(Array.isArray(h))for(var f=0;f<h.length;f++)i.push(h[f]);for(var p=i.length,m=0;m<p;m++)this.removeClassFromCells(i[m])}for(var g=0;g<n;g++)t[g].draw(this.wot,e)}}},{key:"getCell",value:function(e){var t=e.row,n=e.col,i=this.wot.getSetting("onModifyGetCellCoords",t,n);if(i&&Array.isArray(i)){var o=r(i,2);t=o[0],n=o[1]}if(this.isRowBeforeRenderedRows(t))return-1;if(this.isRowAfterRenderedRows(t))return-2;var a=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)];return a?a.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(n)]:void 0}},{key:"getColumnHeader",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.THEAD.childNodes[t];if(n)return n.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e)]}},{key:"getRowHeader",value:function(e){if(0===this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0))return null;var t=this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)];return t?t.childNodes[0]:void 0}},{key:"getCoords",value:function(e){if("TD"!==e.nodeName&&"TH"!==e.nodeName&&(e=(0,a.closest)(e,["TD","TH"])),null===e)return null;var t=e.parentNode,n=t.parentNode,i=(0,a.index)(t),r=e.cellIndex;return(0,a.overlayContainsElement)(h.default.CLONE_TOP_LEFT_CORNER,e)||(0,a.overlayContainsElement)(h.default.CLONE_TOP,e)?"THEAD"===n.nodeName&&(i-=n.childNodes.length):i=n===this.THEAD?this.rowFilter.visibleColHeadedRowToSourceRow(i):this.rowFilter.renderedToSource(i),r=(0,a.overlayContainsElement)(h.default.CLONE_TOP_LEFT_CORNER,e)||(0,a.overlayContainsElement)(h.default.CLONE_LEFT,e)?this.columnFilter.offsettedTH(r):this.columnFilter.visibleRowHeadedColumnToSourceColumn(r),new l.default(i,r)}},{key:"getTrForRow",value:function(e){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)]}},{key:"getFirstRenderedRow",value:function(){return this.wot.wtViewport.rowsRenderCalculator.startRow}},{key:"getFirstVisibleRow",value:function(){return this.wot.wtViewport.rowsVisibleCalculator.startRow}},{key:"getFirstRenderedColumn",value:function(){return this.wot.wtViewport.columnsRenderCalculator.startColumn}},{key:"getFirstVisibleColumn",value:function(){return this.wot.wtViewport.columnsVisibleCalculator.startColumn}},{key:"getLastRenderedRow",value:function(){return this.wot.wtViewport.rowsRenderCalculator.endRow}},{key:"getLastVisibleRow",value:function(){return this.wot.wtViewport.rowsVisibleCalculator.endRow}},{key:"getLastRenderedColumn",value:function(){return this.wot.wtViewport.columnsRenderCalculator.endColumn}},{key:"getLastVisibleColumn",value:function(){return this.wot.wtViewport.columnsVisibleCalculator.endColumn}},{key:"isRowBeforeRenderedRows",value:function(e){return this.rowFilter&&this.rowFilter.sourceToRendered(e)<0&&e>=0}},{key:"isRowAfterViewport",value:function(e){return this.rowFilter&&this.rowFilter.sourceToRendered(e)>this.getLastVisibleRow()}},{key:"isRowAfterRenderedRows",value:function(e){return this.rowFilter&&this.rowFilter.sourceToRendered(e)>this.getLastRenderedRow()}},{key:"isColumnBeforeViewport",value:function(e){return this.columnFilter&&this.columnFilter.sourceToRendered(e)<0&&e>=0}},{key:"isColumnAfterViewport",value:function(e){return this.columnFilter&&this.columnFilter.sourceToRendered(e)>this.getLastVisibleColumn()}},{key:"isLastRowFullyVisible",value:function(){return this.getLastVisibleRow()===this.getLastRenderedRow()}},{key:"isLastColumnFullyVisible",value:function(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}},{key:"getRenderedColumnsCount",value:function(){var e=this.wot.wtViewport.columnsRenderCalculator.count,t=this.wot.getSetting("totalColumns");if(this.wot.isOverlayName(h.default.CLONE_DEBUG))e=t;else if(this.wot.isOverlayName(h.default.CLONE_LEFT)||this.wot.isOverlayName(h.default.CLONE_TOP_LEFT_CORNER)||this.wot.isOverlayName(h.default.CLONE_BOTTOM_LEFT_CORNER))return Math.min(this.wot.getSetting("fixedColumnsLeft"),t);return e}},{key:"getRenderedRowsCount",value:function(){var e=this.wot.wtViewport.rowsRenderCalculator.count,t=this.wot.getSetting("totalRows");return this.wot.isOverlayName(h.default.CLONE_DEBUG)?e=t:this.wot.isOverlayName(h.default.CLONE_TOP)||this.wot.isOverlayName(h.default.CLONE_TOP_LEFT_CORNER)?e=Math.min(this.wot.getSetting("fixedRowsTop"),t):(this.wot.isOverlayName(h.default.CLONE_BOTTOM)||this.wot.isOverlayName(h.default.CLONE_BOTTOM_LEFT_CORNER))&&(e=Math.min(this.wot.getSetting("fixedRowsBottom"),t)),e}},{key:"getVisibleRowsCount",value:function(){return this.wot.wtViewport.rowsVisibleCalculator.count}},{key:"allRowsInViewport",value:function(){return this.wot.getSetting("totalRows")==this.getVisibleRowsCount()}},{key:"getRowHeight",value:function(e){var t=this.wot.wtSettings.settings.rowHeight(e),n=this.wot.wtViewport.oversizedRows[e];return void 0!==n&&(t=void 0===t?n:Math.max(t,n)),t}},{key:"getColumnHeaderHeight",value:function(e){var t=this.wot.wtSettings.settings.defaultRowHeight,n=this.wot.wtViewport.oversizedColumnHeaders[e];return void 0!==n&&(t=t?Math.max(t,n):n),t}},{key:"getVisibleColumnsCount",value:function(){return this.wot.wtViewport.columnsVisibleCalculator.count}},{key:"allColumnsInViewport",value:function(){return this.wot.getSetting("totalColumns")==this.getVisibleColumnsCount()}},{key:"getColumnWidth",value:function(e){var t=this.wot.wtSettings.settings.columnWidth;return"function"==typeof t?t=t(e):"object"===(void 0===t?"undefined":i(t))&&(t=t[e]),t||this.wot.wtSettings.settings.defaultColumnWidth}},{key:"getStretchedColumnWidth",value:function(e){var t=this.getColumnWidth(e),n=null==t?this.instance.wtSettings.settings.defaultColumnWidth:t,i=this.wot.wtViewport.columnsRenderCalculator;if(i){var r=i.getStretchedColumnWidth(e,n);r&&(n=r)}return n}},{key:"_modifyRowHeaderWidth",value:function(e){var t=(0,s.isFunction)(e)?e():null;return Array.isArray(t)?(t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t)))[t.length-1]=this._correctRowHeaderWidth(t[t.length-1]):t=this._correctRowHeaderWidth(t),t}},{key:"_correctRowHeaderWidth",value:function(e){return"number"!=typeof e&&(e=this.wot.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&e++,e}}]),e}();t.default=p},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting the number \n          of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.'],['Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting the number \n          of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.']),o=n(0),a=n(56),s=n(41),l=function(e){return e&&e.__esModule?e:{default:e}}(n(35));var c=!1,u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wtTable=t,this.wot=t.instance,this.instance=t.instance,this.rowFilter=t.rowFilter,this.columnFilter=t.columnFilter,this.TABLE=t.TABLE,this.THEAD=t.THEAD,this.TBODY=t.TBODY,this.COLGROUP=t.COLGROUP,this.rowHeaders=[],this.rowHeaderCount=0,this.columnHeaders=[],this.columnHeaderCount=0,this.fixedRowsTop=0,this.fixedRowsBottom=0}return i(e,[{key:"render",value:function(){if(!this.wtTable.isWorkingOnClone()){var e={};if(this.wot.getSetting("beforeDraw",!0,e),!0===e.skipRender)return}this.rowHeaders=this.wot.getSetting("rowHeaders"),this.rowHeaderCount=this.rowHeaders.length,this.fixedRowsTop=this.wot.getSetting("fixedRowsTop"),this.fixedRowsBottom=this.wot.getSetting("fixedRowsBottom"),this.columnHeaders=this.wot.getSetting("columnHeaders"),this.columnHeaderCount=this.columnHeaders.length;var t=this.wtTable.getRenderedColumnsCount(),n=this.wtTable.getRenderedRowsCount(),i=this.wot.getSetting("totalColumns"),r=this.wot.getSetting("totalRows"),a=void 0,s=!1;if((l.default.isOverlayTypeOf(this.wot.cloneOverlay,l.default.CLONE_BOTTOM)||l.default.isOverlayTypeOf(this.wot.cloneOverlay,l.default.CLONE_BOTTOM_LEFT_CORNER))&&(this.columnHeaders=[],this.columnHeaderCount=0),i>=0&&(this.adjustAvailableNodes(),s=!0,this.renderColumnHeaders(),this.renderRows(r,n,t),this.wtTable.isWorkingOnClone()||(a=this.wot.wtViewport.getWorkspaceWidth(),this.wot.wtViewport.containerWidth=null),this.adjustColumnWidths(t),this.markOversizedColumnHeaders(),this.adjustColumnHeaderHeights()),s||this.adjustAvailableNodes(),this.removeRedundantRows(n),this.wtTable.isWorkingOnClone()&&!this.wot.isOverlayName(l.default.CLONE_BOTTOM)||this.markOversizedRows(),this.wtTable.isWorkingOnClone())this.wot.isOverlayName(l.default.CLONE_BOTTOM)&&this.wot.cloneSource.wtOverlays.adjustElementsSize();else{this.wot.wtViewport.createVisibleCalculators(),this.wot.wtOverlays.refresh(!1),this.wot.wtOverlays.applyToDOM();var c=(0,o.outerWidth)(this.wtTable.hider),u=(0,o.outerWidth)(this.wtTable.TABLE);if(0!==c&&u!==c&&this.adjustColumnWidths(t),a!==this.wot.wtViewport.getWorkspaceWidth()){this.wot.wtViewport.containerWidth=null;var d=this.wtTable.getFirstRenderedColumn(),h=this.wtTable.getLastRenderedColumn(),f=this.wot.getSetting("defaultColumnWidth"),p=this.wot.getSetting("rowHeaderWidth");if(null!=(p=this.instance.getSetting("onModifyRowHeaderWidth",p)))for(var m=0;m<this.rowHeaderCount;m++){var g=Array.isArray(p)?p[m]:p;g=null==g?f:g,this.COLGROUP.childNodes[m].style.width=g+"px"}for(var _=d;_<h;_++){var v=this.wtTable.getStretchedColumnWidth(_),y=this.columnFilter.sourceToRendered(_);this.COLGROUP.childNodes[y+this.rowHeaderCount].style.width=v+"px"}}this.wot.getSetting("onDraw",!0)}}},{key:"removeRedundantRows",value:function(e){for(;this.wtTable.tbodyChildrenLength>e;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--}},{key:"renderRows",value:function(e,t,n){for(var i=void 0,o=0,u=this.rowFilter.renderedToSource(o),d=this.wtTable.isWorkingOnClone();u<e&&u>=0&&(!c&&o>1e3&&(c=!0,(0,a.warn)((0,s.toSingleLine)(r))),void 0===t||o!==t);){if(i=this.getOrCreateTrForRow(o,i),this.renderRowHeaders(u,i),this.adjustColumns(i,n+this.rowHeaderCount),this.renderCells(u,i,n),d&&!this.wot.isOverlayName(l.default.CLONE_BOTTOM)||this.resetOversizedRow(u),i.firstChild){var h=this.wot.wtTable.getRowHeight(u);h?(h--,i.firstChild.style.height=h+"px"):i.firstChild.style.height=""}o++,u=this.rowFilter.renderedToSource(o)}}},{key:"resetOversizedRow",value:function(e){this.wot.getSetting("externalRowCalculator")||this.wot.wtViewport.oversizedRows&&this.wot.wtViewport.oversizedRows[e]&&(this.wot.wtViewport.oversizedRows[e]=void 0)}},{key:"markOversizedRows",value:function(){if(!this.wot.getSetting("externalRowCalculator")){var e=this.instance.wtTable.TBODY.childNodes.length,t=e*this.instance.wtSettings.settings.defaultRowHeight,n=(0,o.innerHeight)(this.instance.wtTable.TBODY)-1,i=void 0,r=void 0,a=void 0,s=void 0,l=void 0;this.instance.getSetting("totalRows");if(t!==n||this.instance.getSetting("fixedRowsBottom"))for(;e;)e--,a=this.instance.wtTable.rowFilter.renderedToSource(e),i=this.instance.wtTable.getRowHeight(a),r=(l=(s=this.instance.wtTable.getTrForRow(a)).querySelector("th"))?(0,o.innerHeight)(l):(0,o.innerHeight)(s)-1,(!i&&this.instance.wtSettings.settings.defaultRowHeight<r||i<r)&&(this.instance.wtViewport.oversizedRows[a]=++r)}}},{key:"markOversizedColumnHeaders",value:function(){var e=this.wot.getOverlayName();if(this.columnHeaderCount&&!this.wot.wtViewport.hasOversizedColumnHeadersMarked[e]&&!this.wtTable.isWorkingOnClone()){for(var t=this.wtTable.getRenderedColumnsCount(),n=0;n<this.columnHeaderCount;n++)for(var i=-1*this.rowHeaderCount;i<t;i++)this.markIfOversizedColumnHeader(i);this.wot.wtViewport.hasOversizedColumnHeadersMarked[e]=!0}}},{key:"adjustColumnHeaderHeights",value:function(){for(var e=this.wot.getSetting("columnHeaders"),t=this.wot.wtTable.THEAD.childNodes,n=this.wot.wtViewport.oversizedColumnHeaders,i=0,r=e.length;i<r;i++)if(n[i]){if(!t[i]||0===t[i].childNodes.length)return;t[i].childNodes[0].style.height=n[i]+"px"}}},{key:"markIfOversizedColumnHeader",value:function(e){for(var t=this.wot.wtTable.columnFilter.renderedToSource(e),n=this.columnHeaderCount,i=this.wot.wtSettings.settings.defaultRowHeight,r=void 0,a=void 0,s=void 0,l=this.wot.getSetting("columnHeaderHeight")||[];n;)n--,r=this.wot.wtTable.getColumnHeaderHeight(n),(a=this.wot.wtTable.getColumnHeader(t,n))&&(s=(0,o.innerHeight)(a),(!r&&i<s||r<s)&&(this.wot.wtViewport.oversizedColumnHeaders[n]=s),Array.isArray(l)?null!=l[n]&&(this.wot.wtViewport.oversizedColumnHeaders[n]=l[n]):isNaN(l)||(this.wot.wtViewport.oversizedColumnHeaders[n]=l),this.wot.wtViewport.oversizedColumnHeaders[n]<(l[n]||l)&&(this.wot.wtViewport.oversizedColumnHeaders[n]=l[n]||l))}},{key:"renderCells",value:function(e,t,n){for(var i=void 0,r=void 0,a=0;a<n;a++)r=this.columnFilter.renderedToSource(a),"TH"==(i=0===a?t.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(r)]:i.nextSibling).nodeName&&(i=h(i,t)),(0,o.hasClass)(i,"hide")||(i.className=""),i.removeAttribute("style"),this.wot.wtSettings.settings.cellRenderer(e,r,i);return i}},{key:"adjustColumnWidths",value:function(e){var t=0,n=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,i=this.wot.getSetting("defaultColumnWidth"),r=this.wot.getSetting("rowHeaderWidth");if(n.offsetHeight<n.scrollHeight&&(t=(0,o.getScrollbarWidth)()),this.wot.wtViewport.columnsRenderCalculator.refreshStretching(this.wot.wtViewport.getViewportWidth()-t),null!=(r=this.instance.getSetting("onModifyRowHeaderWidth",r)))for(var a=0;a<this.rowHeaderCount;a++){var s=Array.isArray(r)?r[a]:r;s=null==s?i:s,this.COLGROUP.childNodes[a].style.width=s+"px"}for(var l=0;l<e;l++){var c=this.wtTable.getStretchedColumnWidth(this.columnFilter.renderedToSource(l));this.COLGROUP.childNodes[l+this.rowHeaderCount].style.width=c+"px"}}},{key:"appendToTbody",value:function(e){this.TBODY.appendChild(e),this.wtTable.tbodyChildrenLength++}},{key:"getOrCreateTrForRow",value:function(e,t){var n=void 0;return e>=this.wtTable.tbodyChildrenLength?(n=this.createRow(),this.appendToTbody(n)):n=0===e?this.TBODY.firstChild:t.nextSibling,n.className&&n.removeAttribute("class"),n}},{key:"createRow",value:function(){for(var e=document.createElement("TR"),t=0;t<this.rowHeaderCount;t++)e.appendChild(document.createElement("TH"));return e}},{key:"renderRowHeader",value:function(e,t,n){n.className="",n.removeAttribute("style"),this.rowHeaders[t](e,n,t)}},{key:"renderRowHeaders",value:function(e,t){for(var n=t.firstChild,i=0;i<this.rowHeaderCount;i++)n?"TD"==n.nodeName&&(n=d(n,t)):(n=document.createElement("TH"),t.appendChild(n)),this.renderRowHeader(e,i,n),n=n.nextSibling}},{key:"adjustAvailableNodes",value:function(){this.adjustColGroups(),this.adjustThead()}},{key:"renderColumnHeaders",value:function(){if(this.columnHeaderCount)for(var e=this.wtTable.getRenderedColumnsCount(),t=0;t<this.columnHeaderCount;t++)for(var n=this.getTrForColumnHeaders(t),i=-1*this.rowHeaderCount;i<e;i++){var r=this.columnFilter.renderedToSource(i);this.renderColumnHeader(t,r,n.childNodes[i+this.rowHeaderCount])}}},{key:"adjustColGroups",value:function(){for(var e=this.wtTable.getRenderedColumnsCount();this.wtTable.colgroupChildrenLength<e+this.rowHeaderCount;)this.COLGROUP.appendChild(document.createElement("COL")),this.wtTable.colgroupChildrenLength++;for(;this.wtTable.colgroupChildrenLength>e+this.rowHeaderCount;)this.COLGROUP.removeChild(this.COLGROUP.lastChild),this.wtTable.colgroupChildrenLength--;this.rowHeaderCount&&(0,o.addClass)(this.COLGROUP.childNodes[0],"rowHeader")}},{key:"adjustThead",value:function(){var e=this.wtTable.getRenderedColumnsCount(),t=this.THEAD.firstChild;if(this.columnHeaders.length){for(var n=0,i=this.columnHeaders.length;n<i;n++){for((t=this.THEAD.childNodes[n])||(t=document.createElement("TR"),this.THEAD.appendChild(t)),this.theadChildrenLength=t.childNodes.length;this.theadChildrenLength<e+this.rowHeaderCount;)t.appendChild(document.createElement("TH")),this.theadChildrenLength++;for(;this.theadChildrenLength>e+this.rowHeaderCount;)t.removeChild(t.lastChild),this.theadChildrenLength--}var r=this.THEAD.childNodes.length;if(r>this.columnHeaders.length)for(var a=this.columnHeaders.length;a<r;a++)this.THEAD.removeChild(this.THEAD.lastChild)}else t&&(0,o.empty)(t)}},{key:"getTrForColumnHeaders",value:function(e){return this.THEAD.childNodes[e]}},{key:"renderColumnHeader",value:function(e,t,n){return n.className="",n.removeAttribute("style"),this.columnHeaders[e](t,n,e)}},{key:"adjustColumns",value:function(e,t){for(var n=e.childNodes.length;n<t;){var i=document.createElement("TD");e.appendChild(i),n++}for(;n>t;)e.removeChild(e.lastChild),n--}},{key:"removeRedundantColumns",value:function(e){for(;this.wtTable.tbodyChildrenLength>e;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--}}]),e}();function d(e,t){var n=document.createElement("TH");return t.insertBefore(n,e),t.removeChild(e),n}function h(e,t){var n=document.createElement("TD");return t.insertBefore(n,e),t.removeChild(e),n}t.default=u},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=n(2),a=c(n(6)),s=c(n(175)),l=c(n(176));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wot=t,this.instance=this.wot,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=new a.default(this.wot),this.eventManager.addEventListener(window,"resize",function(){n.clientHeight=n.getWorkspaceHeight()})}return i(e,[{key:"getWorkspaceHeight",value:function(){var e=this.instance.wtOverlays.topOverlay.trimmingContainer;return e===window?document.documentElement.clientHeight:(0,r.outerHeight)(e)>0&&e.clientHeight>0?e.clientHeight:1/0}},{key:"getWorkspaceWidth",value:function(){var e=void 0,t=this.wot.getSetting("totalColumns"),n=this.instance.wtOverlays.leftOverlay.trimmingContainer,i=void 0,o=this.wot.getSetting("stretchH"),a=document.documentElement.offsetWidth;return this.wot.getSetting("preventOverflow")?(0,r.outerWidth)(this.instance.wtTable.wtRootElement):(e=this.wot.getSetting("freezeOverlays")?Math.min(a-this.getWorkspaceOffset().left,a):Math.min(this.getContainerFillWidth(),a-this.getWorkspaceOffset().left,a),n===window&&t>0&&this.sumColumnWidths(0,t-1)>e?document.documentElement.clientWidth:n===window||"scroll"!=(i=(0,r.getStyle)(this.instance.wtOverlays.leftOverlay.trimmingContainer,"overflow"))&&"hidden"!=i&&"auto"!=i?"none"!==o&&o?e:Math.max(e,(0,r.outerWidth)(this.instance.wtTable.TABLE)):Math.max(e,n.clientWidth))}},{key:"hasVerticalScroll",value:function(){return this.getWorkspaceActualHeight()>this.getWorkspaceHeight()}},{key:"hasHorizontalScroll",value:function(){return this.getWorkspaceActualWidth()>this.getWorkspaceWidth()}},{key:"sumColumnWidths",value:function(e,t){for(var n=0;e<t;)n+=this.wot.wtTable.getColumnWidth(e),e++;return n}},{key:"getContainerFillWidth",value:function(){if(this.containerWidth)return this.containerWidth;var e,t=this.instance.wtTable.holder,n=void 0;return(n=document.createElement("div")).style.width="100%",n.style.height="1px",t.appendChild(n),e=n.offsetWidth,this.containerWidth=e,t.removeChild(n),e}},{key:"getWorkspaceOffset",value:function(){return(0,r.offset)(this.wot.wtTable.TABLE)}},{key:"getWorkspaceActualHeight",value:function(){return(0,r.outerHeight)(this.wot.wtTable.TABLE)}},{key:"getWorkspaceActualWidth",value:function(){return(0,r.outerWidth)(this.wot.wtTable.TABLE)||(0,r.outerWidth)(this.wot.wtTable.TBODY)||(0,r.outerWidth)(this.wot.wtTable.THEAD)}},{key:"getColumnHeaderHeight",value:function(){return isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=(0,r.outerHeight)(this.wot.wtTable.THEAD)),this.columnHeaderHeight}},{key:"getViewportHeight",value:function(){var e,t=this.getWorkspaceHeight();return t===1/0?t:((e=this.getColumnHeaderHeight())>0&&(t-=e),t)}},{key:"getRowHeaderWidth",value:function(){var e=this.instance.getSetting("rowHeaderWidth"),t=this.instance.getSetting("rowHeaders");if(e){this.rowHeaderWidth=0;for(var n=0,i=t.length;n<i;n++)this.rowHeaderWidth+=e[n]||e}if(this.wot.cloneSource)return this.wot.cloneSource.wtViewport.getRowHeaderWidth();if(isNaN(this.rowHeaderWidth))if(t.length){var o=this.instance.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(var a=0,s=t.length;a<s;a++)o?(this.rowHeaderWidth+=(0,r.outerWidth)(o),o=o.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.instance.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}},{key:"getViewportWidth",value:function(){var e,t=this.getWorkspaceWidth();return t===1/0?t:(e=this.getRowHeaderWidth())>0?t-e:t}},{key:"createRowsCalculator",value:function(){var e,t,n,i=this,o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=void 0,s=void 0,c=void 0,u=void 0;return this.rowHeaderWidth=NaN,a=this.wot.wtSettings.settings.renderAllRows&&!o?1/0:this.getViewportHeight(),(s=this.wot.wtOverlays.topOverlay.getScrollPosition()-this.wot.wtOverlays.topOverlay.getTableParentOffset())<0&&(s=0),e=this.wot.getSetting("fixedRowsTop"),t=this.wot.getSetting("fixedRowsBottom"),n=this.wot.getSetting("totalRows"),e&&(s+=u=this.wot.wtOverlays.topOverlay.sumCellSizes(0,e),a-=u),t&&this.wot.wtOverlays.bottomOverlay.clone&&(a-=u=this.wot.wtOverlays.bottomOverlay.sumCellSizes(n-t,n)),c=this.wot.wtTable.holder.clientHeight===this.wot.wtTable.holder.offsetHeight?0:(0,r.getScrollbarWidth)(),new l.default(a,s,this.wot.getSetting("totalRows"),function(e){return i.wot.wtTable.getRowHeight(e)},o?null:this.wot.wtSettings.settings.viewportRowCalculatorOverride,o,c)}},{key:"createColumnsCalculator",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.getViewportWidth(),o=void 0;if(this.columnHeaderHeight=NaN,(o=this.wot.wtOverlays.leftOverlay.getScrollPosition()-this.wot.wtOverlays.leftOverlay.getTableParentOffset())<0&&(o=0),e=this.wot.getSetting("fixedColumnsLeft")){var a=this.wot.wtOverlays.leftOverlay.sumCellSizes(0,e);o+=a,i-=a}return this.wot.wtTable.holder.clientWidth!==this.wot.wtTable.holder.offsetWidth&&(i-=(0,r.getScrollbarWidth)()),new s.default(i,o,this.wot.getSetting("totalColumns"),function(e){return t.wot.wtTable.getColumnWidth(e)},n?null:this.wot.wtSettings.settings.viewportColumnCalculatorOverride,n,this.wot.getSetting("stretchH"),function(e,n){return t.wot.getSetting("onBeforeStretchingColumnWidth",e,n)})}},{key:"createRenderCalculators",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e){var t=this.createRowsCalculator(!0),n=this.createColumnsCalculator(!0);this.areAllProposedVisibleRowsAlreadyRendered(t)&&this.areAllProposedVisibleColumnsAlreadyRendered(n)||(e=!1)}return e||(this.rowsRenderCalculator=this.createRowsCalculator(),this.columnsRenderCalculator=this.createColumnsCalculator()),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,e}},{key:"createVisibleCalculators",value:function(){this.rowsVisibleCalculator=this.createRowsCalculator(!0),this.columnsVisibleCalculator=this.createColumnsCalculator(!0)}},{key:"areAllProposedVisibleRowsAlreadyRendered",value:function(e){return!!this.rowsVisibleCalculator&&(!(e.startRow<this.rowsRenderCalculator.startRow||e.startRow===this.rowsRenderCalculator.startRow&&e.startRow>0)&&!(e.endRow>this.rowsRenderCalculator.endRow||e.endRow===this.rowsRenderCalculator.endRow&&e.endRow<this.wot.getSetting("totalRows")-1))}},{key:"areAllProposedVisibleColumnsAlreadyRendered",value:function(e){return!!this.columnsVisibleCalculator&&(!(e.startColumn<this.columnsRenderCalculator.startColumn||e.startColumn===this.columnsRenderCalculator.startColumn&&e.startColumn>0)&&!(e.endColumn>this.columnsRenderCalculator.endColumn||e.endColumn===this.columnsRenderCalculator.endColumn&&e.endColumn<this.wot.getSetting("totalColumns")-1))}},{key:"resetHasOversizedColumnHeadersMarked",value:function(){(0,o.objectEach)(this.hasOversizedColumnHeadersMarked,function(e,t,n){n[t]=void 0})}}]),e}();t.default=u},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),a=n(12),s=n(2),l=n(27),c=d(n(6)),u=d(n(54));d(n(35));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n&&(this.eventManager=new c.default(t),this.instance=t,this.wot=t,this.settings=n,this.mouseDown=!1,this.main=null,this.top=null,this.left=null,this.bottom=null,this.right=null,this.topStyle=null,this.leftStyle=null,this.bottomStyle=null,this.rightStyle=null,this.cornerDefaultStyle={width:"6px",height:"6px",borderWidth:"1px",borderStyle:"solid",borderColor:"#FFF"},this.corner=null,this.cornerStyle=null,this.createBorders(n),this.registerListeners())}return r(e,[{key:"registerListeners",value:function(){var e=this;this.eventManager.addEventListener(document.body,"mousedown",function(){return e.onMouseDown()}),this.eventManager.addEventListener(document.body,"mouseup",function(){return e.onMouseUp()});for(var t=function(t,n){e.eventManager.addEventListener(e.main.childNodes[t],"mouseenter",function(n){return e.onMouseEnter(n,e.main.childNodes[t])})},n=0,i=this.main.childNodes.length;n<i;n++)t(n)}},{key:"onMouseDown",value:function(){this.mouseDown=!0}},{key:"onMouseUp",value:function(){this.mouseDown=!1}},{key:"onMouseEnter",value:function(e,t){if(this.mouseDown&&this.wot.getSetting("hideBorderOnMouseDownOver")){e.preventDefault(),(0,a.stopImmediatePropagation)(e);var n=this,i=t.getBoundingClientRect();t.style.display="none",this.eventManager.addEventListener(document.body,"mousemove",function e(r){(function(e){return e.clientY<Math.floor(i.top)||e.clientY>Math.ceil(i.top+i.height)||e.clientX<Math.floor(i.left)||e.clientX>Math.ceil(i.left+i.width)||void 0})(r)&&(n.eventManager.removeEventListener(document.body,"mousemove",e),t.style.display="block")})}}},{key:"createBorders",value:function(e){this.main=document.createElement("div");var t=["top","left","bottom","right","corner"],n=this.main.style;n.position="absolute",n.top=0,n.left=0;for(var i=0;i<5;i++){var r=t[i],o=document.createElement("div");o.className="wtBorder "+(this.settings.className||""),this.settings[r]&&this.settings[r].hide&&(o.className+=" hidden"),(n=o.style).backgroundColor=this.settings[r]&&this.settings[r].color?this.settings[r].color:e.border.color,n.height=this.settings[r]&&this.settings[r].width?this.settings[r].width+"px":e.border.width+"px",n.width=this.settings[r]&&this.settings[r].width?this.settings[r].width+"px":e.border.width+"px",this.main.appendChild(o)}this.top=this.main.childNodes[0],this.left=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.right=this.main.childNodes[3],this.topStyle=this.top.style,this.leftStyle=this.left.style,this.bottomStyle=this.bottom.style,this.rightStyle=this.right.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),(0,l.isMobileBrowser)()&&this.createMultipleSelectorHandles(),this.disappear(),this.wot.wtTable.bordersHolder||(this.wot.wtTable.bordersHolder=document.createElement("div"),this.wot.wtTable.bordersHolder.className="htBorders",this.wot.wtTable.spreader.appendChild(this.wot.wtTable.bordersHolder)),this.wot.wtTable.bordersHolder.insertBefore(this.main,this.wot.wtTable.bordersHolder.firstChild)}},{key:"createMultipleSelectorHandles",value:function(){this.selectionHandles={topLeft:document.createElement("DIV"),topLeftHitArea:document.createElement("DIV"),bottomRight:document.createElement("DIV"),bottomRightHitArea:document.createElement("DIV")};this.selectionHandles.topLeft.className="topLeftSelectionHandle",this.selectionHandles.topLeftHitArea.className="topLeftSelectionHandle-HitArea",this.selectionHandles.bottomRight.className="bottomRightSelectionHandle",this.selectionHandles.bottomRightHitArea.className="bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={topLeft:this.selectionHandles.topLeft.style,topLeftHitArea:this.selectionHandles.topLeftHitArea.style,bottomRight:this.selectionHandles.bottomRight.style,bottomRightHitArea:this.selectionHandles.bottomRightHitArea.style};var e={position:"absolute",height:"40px",width:"40px","border-radius":parseInt(40/1.5,10)+"px"};for(var t in e)(0,s.hasOwnProperty)(e,t)&&(this.selectionHandles.styles.bottomRightHitArea[t]=e[t],this.selectionHandles.styles.topLeftHitArea[t]=e[t]);var n={position:"absolute",height:"10px",width:"10px","border-radius":parseInt(10/1.5,10)+"px",background:"#F5F5FF",border:"1px solid #4285c8"};for(var i in n)(0,s.hasOwnProperty)(n,i)&&(this.selectionHandles.styles.bottomRight[i]=n[i],this.selectionHandles.styles.topLeft[i]=n[i]);this.main.appendChild(this.selectionHandles.topLeft),this.main.appendChild(this.selectionHandles.bottomRight),this.main.appendChild(this.selectionHandles.topLeftHitArea),this.main.appendChild(this.selectionHandles.bottomRightHitArea)}},{key:"isPartRange",value:function(e,t){var n=this.wot.selections.createOrGetArea();return!(!n.cellRange||e==n.cellRange.to.row&&t==n.cellRange.to.col)}},{key:"updateMultipleSelectionHandlesPosition",value:function(e,t,n,i,r,o){var a=parseInt(this.selectionHandles.styles.topLeft.width,10),s=parseInt(this.selectionHandles.styles.topLeftHitArea.width,10);this.selectionHandles.styles.topLeft.top=parseInt(n-a,10)+"px",this.selectionHandles.styles.topLeft.left=parseInt(i-a,10)+"px",this.selectionHandles.styles.topLeftHitArea.top=parseInt(n-s/4*3,10)+"px",this.selectionHandles.styles.topLeftHitArea.left=parseInt(i-s/4*3,10)+"px",this.selectionHandles.styles.bottomRight.top=parseInt(n+o,10)+"px",this.selectionHandles.styles.bottomRight.left=parseInt(i+r,10)+"px",this.selectionHandles.styles.bottomRightHitArea.top=parseInt(n+o-s/4,10)+"px",this.selectionHandles.styles.bottomRightHitArea.left=parseInt(i+r-s/4,10)+"px",this.settings.border.cornerVisible&&this.settings.border.cornerVisible()?(this.selectionHandles.styles.topLeft.display="block",this.selectionHandles.styles.topLeftHitArea.display="block",this.isPartRange(e,t)?(this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"):(this.selectionHandles.styles.bottomRight.display="block",this.selectionHandles.styles.bottomRightHitArea.display="block")):(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.topLeftHitArea.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"),e==this.wot.wtSettings.getSetting("fixedRowsTop")||t==this.wot.wtSettings.getSetting("fixedColumnsLeft")?(this.selectionHandles.styles.topLeft.zIndex="9999",this.selectionHandles.styles.topLeftHitArea.zIndex="9999"):(this.selectionHandles.styles.topLeft.zIndex="",this.selectionHandles.styles.topLeftHitArea.zIndex="")}},{key:"appear",value:function(e){if(!this.disabled){for(var t=void 0,n=void 0,r=void 0,a=void 0,s=this.wot.wtTable.getRenderedRowsCount(),c=0;c<s;c+=1){var d=this.wot.wtTable.rowFilter.renderedToSource(c);if(d>=e[0]&&d<=e[2]){t=d;break}}for(var h=s-1;h>=0;h-=1){var f=this.wot.wtTable.rowFilter.renderedToSource(h);if(f>=e[0]&&f<=e[2]){n=f;break}}for(var p=this.wot.wtTable.getRenderedColumnsCount(),m=0;m<p;m+=1){var g=this.wot.wtTable.columnFilter.renderedToSource(m);if(g>=e[1]&&g<=e[3]){r=g;break}}for(var _=p-1;_>=0;_-=1){var v=this.wot.wtTable.columnFilter.renderedToSource(_);if(v>=e[1]&&v<=e[3]){a=v;break}}if(void 0!==t&&void 0!==r){var y=this.wot.wtTable.getCell(new u.default(t,r)),b=t!==n||r!==a,w=b?this.wot.wtTable.getCell(new u.default(n,a)):y,k=(0,o.offset)(y),M=b?(0,o.offset)(w):k,x=(0,o.offset)(this.wot.wtTable.TABLE),C=k.top,S=k.left,T=S-x.left-1,L=M.left+(0,o.outerWidth)(w)-S;if(this.isEntireColumnSelected(t,n)){var E=this.getDimensionsFromHeader("columns",r,a,x),D=null;if(E){var O=i(E,3);D=O[0],T=O[1],L=O[2]}D&&(y=D)}var A=C-x.top-1,Y=M.top+(0,o.outerHeight)(w)-C;if(this.isEntireRowSelected(r,a)){var R=this.getDimensionsFromHeader("rows",t,n,x),j=null;if(R){var P=i(R,3);j=P[0],A=P[1],Y=P[2]}j&&(y=j)}var N=(0,o.getComputedStyle)(y);parseInt(N.borderTopWidth,10)>0&&(A+=1,Y=Y>0?Y-1:0),parseInt(N.borderLeftWidth,10)>0&&(T+=1,L=L>0?L-1:0),this.topStyle.top=A+"px",this.topStyle.left=T+"px",this.topStyle.width=L+"px",this.topStyle.display="block",this.leftStyle.top=A+"px",this.leftStyle.left=T+"px",this.leftStyle.height=Y+"px",this.leftStyle.display="block";var H=Math.floor(this.settings.border.width/2);this.bottomStyle.top=A+Y-H+"px",this.bottomStyle.left=T+"px",this.bottomStyle.width=L+"px",this.bottomStyle.display="block",this.rightStyle.top=A+"px",this.rightStyle.left=T+L-H+"px",this.rightStyle.height=Y+1+"px",this.rightStyle.display="block";var I=this.settings.border.cornerVisible;I="function"==typeof I?I(this.settings.layerLevel):I;var F=this.wot.getSetting("onModifyGetCellCoords",n,a),$=n,W=a;if(F&&Array.isArray(F)){var z=i(F,4);$=z[2],W=z[3]}if((0,l.isMobileBrowser)()||!I||this.isPartRange($,W))this.cornerStyle.display="none";else{this.cornerStyle.top=A+Y-4+"px",this.cornerStyle.left=T+L-4+"px",this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none";var B=(0,o.getTrimmingContainer)(this.wot.wtTable.TABLE);if(a===this.wot.getSetting("totalColumns")-1)w.offsetLeft+(0,o.outerWidth)(w)+parseInt(this.cornerDefaultStyle.width,10)/2>=(0,o.innerWidth)(B)&&(this.cornerStyle.left=Math.floor(T+L-3-parseInt(this.cornerDefaultStyle.width,10)/2)+"px",this.cornerStyle.borderRightWidth=0);if(n===this.wot.getSetting("totalRows")-1)w.offsetTop+(0,o.outerHeight)(w)+parseInt(this.cornerDefaultStyle.height,10)/2>=(0,o.innerHeight)(B)&&(this.cornerStyle.top=Math.floor(A+Y-3-parseInt(this.cornerDefaultStyle.height,10)/2)+"px",this.cornerStyle.borderBottomWidth=0);this.cornerStyle.display="block"}(0,l.isMobileBrowser)()&&this.updateMultipleSelectionHandlesPosition(n,a,A,T,L,Y)}else this.disappear()}}},{key:"isEntireColumnSelected",value:function(e,t){return e===this.wot.wtTable.getFirstRenderedRow()&&t===this.wot.wtTable.getLastRenderedRow()}},{key:"isEntireRowSelected",value:function(e,t){return e===this.wot.wtTable.getFirstRenderedColumn()&&t===this.wot.wtTable.getLastRenderedColumn()}},{key:"getDimensionsFromHeader",value:function(e,t,n,i){var r=this,a=this.wot.wtTable.wtRootElement.parentNode,s=null,l=null,c=null,u=null,d=null,h=null,f=null,p=null;switch(e){case"rows":s=function(){var e;return(e=r.wot.wtTable).getRowHeader.apply(e,arguments)},l=function(){return o.outerHeight.apply(void 0,arguments)},c="ht__selection--rows",h="top";break;case"columns":s=function(){var e;return(e=r.wot.wtTable).getColumnHeader.apply(e,arguments)},l=function(){return o.outerWidth.apply(void 0,arguments)},c="ht__selection--columns",h="left"}if(a.className.includes(c)){var m=this.wot.getSetting("columnHeaders").length;if(f=s(t,m-1),p=s(n,m-1),!f||!p)return!1;var g=(0,o.offset)(f),_=(0,o.offset)(p);return f&&p&&(u=g[h]-i[h]-1,d=_[h]+l(p)-g[h]),[f,u,d]}return!1}},{key:"disappear",value:function(){this.topStyle.display="none",this.leftStyle.display="none",this.bottomStyle.display="none",this.rightStyle.display="none",this.cornerStyle.display="none",(0,l.isMobileBrowser)()&&(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none")}}]),e}();t.default=h},function(e,t,n){"use strict";t.__esModule=!0;var i=n(21),r=n(16),o=n(36),a=n(1),s=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(n(189));var c=l.default.prototype.extend();c.prototype.init=function(){l.default.prototype.init.apply(this,arguments),this.query=null,this.strippedChoices=[],this.rawChoices=[]},c.prototype.getValue=function(){var e=this,t=this.rawChoices.find(function(t){return e.stripValueIfNeeded(t)===e.TEXTAREA.value});return(0,r.isDefined)(t)?t:this.TEXTAREA.value},c.prototype.createElements=function(){l.default.prototype.createElements.apply(this,arguments),(0,s.addClass)(this.htContainer,"autocompleteEditor"),(0,s.addClass)(this.htContainer,-1===window.navigator.platform.indexOf("Mac")?"":"htMacScroll")};var u=!1;function d(e){u=!1;var t=this.getActiveEditor();if((0,i.isPrintableChar)(e.keyCode)||e.keyCode===i.KEY_CODES.BACKSPACE||e.keyCode===i.KEY_CODES.DELETE||e.keyCode===i.KEY_CODES.INSERT){var n=0;if(e.keyCode===i.KEY_CODES.C&&(e.ctrlKey||e.metaKey))return;t.isOpened()||(n+=10),t.htEditor&&t.instance._registerTimeout(setTimeout(function(){t.queryChoices(t.TEXTAREA.value),u=!0},n))}}c.prototype.prepare=function(){this.instance.addHook("beforeKeyDown",d),l.default.prototype.prepare.apply(this,arguments)},c.prototype.open=function(){this.TEXTAREA_PARENT.style.overflow="auto",l.default.prototype.open.apply(this,arguments),this.TEXTAREA_PARENT.style.overflow="";var e=this.htEditor.getInstance(),t=this,n=void 0===this.cellProperties.trimDropdown||this.cellProperties.trimDropdown;this.TEXTAREA.style.visibility="visible",this.focus(),e.updateSettings({colWidths:n?[(0,s.outerWidth)(this.TEXTAREA)-2]:void 0,width:n?(0,s.outerWidth)(this.TEXTAREA)+(0,s.getScrollbarWidth)()+2:void 0,afterRenderer:function(e,n,i,o,a,s){var l=t.cellProperties,c=l.filteringCaseSensitive,u=l.allowHtml,d=void 0,h=void 0;(a=(0,r.stringify)(a))&&!u&&-1!==(d=!0===c?a.indexOf(this.query):a.toLowerCase().indexOf(t.query.toLowerCase()))&&(h=a.substr(d,t.query.length),a=a.replace(h,"<strong>"+h+"</strong>")),e.innerHTML=a},autoColumnSize:!0,modifyColWidth:function(e,t){var i=this.getPlugin("autoColumnSize").widths;return i[t]&&(e=i[t]),n?e:e+15}}),this.htEditor.view.wt.wtTable.holder.parentNode.style["padding-right"]=(0,s.getScrollbarWidth)()+2+"px",u&&(u=!1),t.instance._registerTimeout(setTimeout(function(){t.queryChoices(t.TEXTAREA.value)},0))},c.prototype.close=function(){l.default.prototype.close.apply(this,arguments)},c.prototype.queryChoices=function(e){var t=this;this.query=e;var n=this.cellProperties.source;"function"==typeof n?n.call(this.cellProperties,e,function(e){t.rawChoices=e,t.updateChoicesList(t.stripValuesIfNeeded(e))}):Array.isArray(n)?(this.rawChoices=n,this.updateChoicesList(this.stripValuesIfNeeded(n))):this.updateChoicesList([])},c.prototype.updateChoicesList=function(e){var t=(0,s.getCaretPosition)(this.TEXTAREA),n=(0,s.getSelectionEndPosition)(this.TEXTAREA),i=this.cellProperties.sortByRelevance,r=this.cellProperties.filter,o=null,l=null;i&&(o=c.sortByRelevance(this.stripValueIfNeeded(this.getValue()),e,this.cellProperties.filteringCaseSensitive));var u=Array.isArray(o)?o.length:0;if(!1===r)u&&(l=o[0]);else{for(var d=[],h=0,f=e.length;h<f&&!(i&&u<=h);h++)u?d.push(e[o[h]]):d.push(e[h]);l=0,e=d}this.strippedChoices=e,this.htEditor.loadData((0,a.pivot)([e])),this.updateDropdownHeight(),this.flipDropdownIfNeeded(),!0===this.cellProperties.strict&&this.highlightBestMatchingChoice(l),this.instance.listen(!1),(0,s.setCaretPosition)(this.TEXTAREA,t,t===n?void 0:n)},c.prototype.flipDropdownIfNeeded=function(){var e=(0,s.offset)(this.TEXTAREA),t=(0,s.outerHeight)(this.TEXTAREA),n=this.getDropdownHeight(),i=(0,s.getTrimmingContainer)(this.instance.view.wt.wtTable.TABLE),r=i.scrollTop,o=(0,s.outerHeight)(this.instance.view.wt.wtTable.THEAD),a={row:0,col:0};i!==window&&(a=(0,s.offset)(i));var l=e.top-a.top-o+r,c=i.scrollHeight-l-o-t,u=n>c&&l>c;return u?this.flipDropdown(n):this.unflipDropdown(),this.limitDropdownIfNeeded(u?l:c,n),u},c.prototype.limitDropdownIfNeeded=function(e,t){if(t>e){var n,i=0,r=0,o=0;do{i+=o=this.htEditor.getRowHeight(r)||this.htEditor.view.wt.wtSettings.settings.defaultRowHeight,r++}while(i<e);n=i-o,this.htEditor.flipped&&(this.htEditor.rootElement.style.top=parseInt(this.htEditor.rootElement.style.top,10)+t-n+"px"),this.setDropdownHeight(i-o)}},c.prototype.flipDropdown=function(e){var t=this.htEditor.rootElement.style;t.position="absolute",t.top=-e+"px",this.htEditor.flipped=!0},c.prototype.unflipDropdown=function(){var e=this.htEditor.rootElement.style;"absolute"===e.position&&(e.position="",e.top=""),this.htEditor.flipped=void 0},c.prototype.updateDropdownHeight=function(){var e=this.htEditor.getColWidth(0)+(0,s.getScrollbarWidth)()+2,t=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:t?void 0:e}),this.htEditor.view.wt.wtTable.alignOverlaysWithTrimmingContainer()},c.prototype.setDropdownHeight=function(e){this.htEditor.updateSettings({height:e})},c.prototype.finishEditing=function(e){e||this.instance.removeHook("beforeKeyDown",d),l.default.prototype.finishEditing.apply(this,arguments)},c.prototype.highlightBestMatchingChoice=function(e){"number"==typeof e?this.htEditor.selectCell(e,0,void 0,void 0,void 0,!1):this.htEditor.deselectCell()},c.sortByRelevance=function(e,t,n){var i=[],a=void 0,s=e.length,l=void 0,c=void 0,u=[],d=void 0,h=t.length;if(0===s){for(d=0;d<h;d++)u.push(d);return u}for(d=0;d<h;d++)a=(0,o.stripTags)((0,r.stringify)(t[d])),-1!==(l=n?a.indexOf(e):a.toLowerCase().indexOf(e.toLowerCase()))&&(c=a.length-l-s,i.push({baseIndex:d,index:l,charsLeft:c,value:a}));for(i.sort(function(e,t){if(-1===t.index)return-1;if(-1===e.index)return 1;if(e.index<t.index)return-1;if(t.index<e.index)return 1;if(e.index===t.index){if(e.charsLeft<t.charsLeft)return-1;if(e.charsLeft>t.charsLeft)return 1}return 0}),d=0,h=i.length;d<h;d++)u.push(i[d].baseIndex);return u},c.prototype.getDropdownHeight=function(){var e=this.htEditor.getInstance().getRowHeight(0)||23,t=this.cellProperties.visibleRows;return this.strippedChoices.length>=t?t*e:this.strippedChoices.length*e+8},c.prototype.stripValueIfNeeded=function(e){return this.stripValuesIfNeeded([e])[0]},c.prototype.stripValuesIfNeeded=function(e){var t=this.cellProperties.allowHtml,n=(0,a.arrayMap)(e,function(e){return(0,r.stringify)(e)});return(0,a.arrayMap)(n,function(e){return t?e:(0,o.stripTags)(e)})},c.prototype.allowKeyEventPropagation=function(e){var t=this.htEditor.getSelectedRangeLast(),n=t?t.from.row:-1,r=!1;return e===i.KEY_CODES.ARROW_DOWN&&n>0&&n<this.htEditor.countRows()-1&&(r=!0),e===i.KEY_CODES.ARROW_UP&&n>-1&&(r=!0),r},c.prototype.discardEditor=function(e){l.default.prototype.discardEditor.apply(this,arguments),this.instance.view.render()},t.default=c},function(e,t,n){"use strict";t.__esModule=!0;var i=n(21),r=n(2),o=n(0),a=n(12),s=function(e){return e&&e.__esModule?e:{default:e}}(n(57));var l=s.default.prototype.extend();l.prototype.createElements=function(){s.default.prototype.createElements.apply(this,arguments);var e=document.createElement("DIV");e.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(e),this.htContainer=e,this.assignHooks()},l.prototype.prepare=function(e,t,n,i,o,a){s.default.prototype.prepare.apply(this,arguments);var l=this,c={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,afterOnCellMouseDown:function(e,t){var n=this.getSourceData(t.row,t.col);void 0!==n&&l.setValue(n),l.instance.destroyEditor()}};this.cellProperties.handsontable&&(0,r.extend)(c,a.handsontable),this.htOptions=c};var c=function(e){if(!(0,a.isImmediatePropagationStopped)(e)){var t,n,r=this.getActiveEditor(),o=r.htEditor.getInstance();if(e.keyCode==i.KEY_CODES.ARROW_DOWN)if(o.getSelectedLast()||o.flipped){if(o.getSelectedLast())if(o.flipped)t=o.getSelectedLast()[0]+1;else if(!o.flipped){n=o.getSelectedLast()[0];var s=o.countRows()-1;t=Math.min(s,n+1)}}else t=0;else e.keyCode==i.KEY_CODES.ARROW_UP&&(!o.getSelectedLast()&&o.flipped?t=o.countRows()-1:o.getSelectedLast()&&(o.flipped?(n=o.getSelectedLast()[0],t=Math.max(0,n-1)):t=(n=o.getSelectedLast()[0])-1));void 0!==t&&(t<0||o.flipped&&t>o.countRows()-1?o.deselectCell():o.selectCell(t,0),o.getData().length&&(e.preventDefault(),(0,a.stopImmediatePropagation)(e),r.instance.listen(),r.TEXTAREA.focus()))}};l.prototype.open=function(){this.instance.addHook("beforeKeyDown",c),s.default.prototype.open.apply(this,arguments),this.htEditor&&this.htEditor.destroy(),this.htEditor=new this.instance.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.cellProperties.strict?(this.htEditor.selectCell(0,0),this.TEXTAREA.style.visibility="hidden"):(this.htEditor.deselectCell(),this.TEXTAREA.style.visibility="visible"),(0,o.setCaretPosition)(this.TEXTAREA,0,this.TEXTAREA.value.length)},l.prototype.close=function(){this.instance.removeHook("beforeKeyDown",c),this.instance.listen(),s.default.prototype.close.apply(this,arguments)},l.prototype.focus=function(){this.instance.listen(),s.default.prototype.focus.apply(this,arguments)},l.prototype.beginEditing=function(e){var t=this.instance.getSettings().onBeginEditing;t&&!1===t()||s.default.prototype.beginEditing.apply(this,arguments)},l.prototype.finishEditing=function(e,t){if(this.htEditor&&this.htEditor.isListening()&&this.instance.listen(),this.htEditor&&this.htEditor.getSelectedLast()){var n=this.htEditor.getInstance().getValue();void 0!==n&&this.setValue(n)}return s.default.prototype.finishEditing.apply(this,arguments)},l.prototype.assignHooks=function(){var e=this;this.instance.addHook("afterDestroy",function(){e.htEditor&&e.htEditor.destroy()})},t.default=l},function(e,t,n){"use strict";t.__esModule=!0,t.getNormalizedDate=function(e){var t=new Date(e);if(!isNaN(new Date(e+"T00:00").getDate()))return new Date(t.getTime()+6e4*t.getTimezoneOffset());return t}},function(e,t,n){"use strict";!function(e){function n(e){return e.split('"').length-1}var i=function(e){var t,i,r,o,a,s,l,c=[],u=0;for((r=e.split("\n")).length>1&&""===r[r.length-1]&&r.pop(),t=0,i=r.length;t<i;t+=1){for(r[t]=r[t].split("\t"),o=0,a=r[t].length;o<a;o+=1)c[u]||(c[u]=[]),s&&0===o?(l=c[u].length-1,c[u][l]=c[u][l]+"\n"+r[t][0],s&&1&n(r[t][0])&&(s=!1,c[u][l]=c[u][l].substring(0,c[u][l].length-1).replace(/""/g,'"'))):o===a-1&&0===r[t][o].indexOf('"')&&1&n(r[t][o])?(c[u].push(r[t][o].substring(1).replace(/""/g,'"')),s=!0):(c[u].push(r[t][o].replace(/""/g,'"')),s=!1);s||(u+=1)}return c},r=function(e){var t,n,i,r,o,a="";for(t=0,n=e.length;t<n;t+=1){for(r=e[t].length,i=0;i<r;i+=1)i>0&&(a+="\t"),"string"==typeof(o=e[t][i])?o.indexOf("\n")>-1?a+='"'+o.replace(/"/g,'""')+'"':a+=o:a+=null===o||void 0===o?"":o;t!==n-1&&(a+="\n")}return a};t.parse=i,t.stringify=r}(window)},function(e,t,n){"use strict";t.__esModule=!0,t.mouseDown=o,t.mouseOver=a,t.handleMouseEvent=function(e,t){var n=t.coords,r=t.selection,o=t.controller;s.get(e.type)({coords:n,selection:r,controller:o,isShiftKey:e.shiftKey,isLeftClick:(0,i.isLeftClick)(e)||"touchstart"===e.type,isRightClick:(0,i.isRightClick)(e)})};var i=n(12),r=n(4);function o(e){var t=e.isShiftKey,n=e.isLeftClick,i=e.isRightClick,o=e.coords,a=e.selection,s=e.controller,l=a.isSelected()?a.getSelectedRange().current():null,c=a.isSelectedByCorner(),u=a.isSelectedByRowHeader();a.isSelectedByColumnHeader();if(t&&l)o.row>=0&&o.col>=0&&!s.cells?a.setRangeEnd(o):(c||u)&&o.row>=0&&o.col>=0&&!s.cells?a.setRangeEnd(new r.CellCoords(o.row,o.col)):c&&o.row<0&&!s.column?a.setRangeEnd(new r.CellCoords(l.to.row,o.col)):u&&o.col<0&&!s.row?a.setRangeEnd(new r.CellCoords(o.row,l.to.col)):(!c&&!u&&o.col<0||c&&o.col<0)&&!s.row?a.selectRows(l.from.row,o.row):(!c&&!u&&o.row<0||u&&o.row<0)&&!s.column&&a.selectColumns(l.from.col,o.col);else{var d=new r.CellCoords(o.row,o.col);d.row<0&&(d.row=0),d.col<0&&(d.col=0);var h=!a.inInSelection(d),f=n||i&&h;o.row<0&&o.col>=0&&!s.column?f&&a.selectColumns(o.col):o.col<0&&o.row>=0&&!s.row?f&&a.selectRows(o.row):o.col>=0&&o.row>=0&&!s.cells?f&&a.setRangeStart(o):o.col<0&&o.row<0&&a.setRangeStart(o)}}function a(e){var t=e.isLeftClick,n=e.coords,i=e.selection,o=e.controller;if(t){var a=i.isSelectedByRowHeader(),s=i.isSelectedByColumnHeader(),l=i.tableProps.countCols(),c=i.tableProps.countRows();s&&!o.column?i.setRangeEnd(new r.CellCoords(c-1,n.col)):a&&!o.row?i.setRangeEnd(new r.CellCoords(n.row,l-1)):o.cell||i.setRangeEnd(n)}}var s=new Map([["mousedown",o],["mouseover",a],["touchstart",o]])},function(e,t,n){"use strict";t.__esModule=!0,t.RecordTranslator=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.registerIdentity=function(e,t){s.set(e,t)},t.getTranslator=function(e){var t=void 0;if(!(e instanceof r.default)){if(!s.has(e))throw Error("Record translator was not registered for this object identity");e=s.get(e)}l.has(e)?t=l.get(e):(t=new a(e),l.set(e,t));return t};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(88)),o=n(2);var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hot=t}return i(e,[{key:"toVisualRow",value:function(e){return this.hot.runHooks("unmodifyRow",e)}},{key:"toVisualColumn",value:function(e){return this.hot.runHooks("unmodifyCol",e)}},{key:"toVisual",value:function(e,t){return(0,o.isObject)(e)?{row:this.toVisualRow(e.row),column:this.toVisualColumn(e.column)}:[this.toVisualRow(e),this.toVisualColumn(t)]}},{key:"toPhysicalRow",value:function(e){return this.hot.runHooks("modifyRow",e)}},{key:"toPhysicalColumn",value:function(e){return this.hot.runHooks("modifyCol",e)}},{key:"toPhysical",value:function(e,t){return(0,o.isObject)(e)?{row:this.toPhysicalRow(e.row),column:this.toPhysicalColumn(e.column)}:[this.toPhysicalRow(e),this.toPhysicalColumn(t)]}}]),e}();t.RecordTranslator=a;var s=new WeakMap,l=new WeakMap},function(e,t,n){"use strict";t.__esModule=!0,t.registerAsRootInstance=function(e){i.set(e,!0)},t.hasValidParameter=function(e){return e===r},t.isRootInstance=function(e){return i.has(e)};var i=t.holder=new WeakMap,r=t.rootInstanceSymbol=Symbol("rootInstance")},function(e,t,n){"use strict";t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(16),o=n(2);function a(){}a.prototype={licenseKey:"trial",data:void 0,dataSchema:void 0,width:void 0,height:void 0,startRows:5,startCols:5,rowHeaders:void 0,colHeaders:null,colWidths:void 0,rowHeights:void 0,columns:void 0,cells:void 0,cell:[],comments:!1,customBorders:!1,minRows:0,minCols:0,maxRows:1/0,maxCols:1/0,minSpareRows:0,minSpareCols:0,allowInsertRow:!0,allowInsertColumn:!0,allowRemoveRow:!0,allowRemoveColumn:!0,selectionMode:"multiple",fillHandle:!0,fixedRowsTop:0,fixedRowsBottom:0,fixedColumnsLeft:0,outsideClickDeselects:!0,enterBeginsEditing:!0,enterMoves:{row:1,col:0},tabMoves:{row:0,col:1},autoWrapRow:!1,autoWrapCol:!1,persistentState:void 0,currentRowClassName:void 0,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",activeHeaderClassName:"ht__active_highlight",className:void 0,tableClassName:void 0,stretchH:"none",isEmptyRow:function(e){var t,n,a,s;for(t=0,n=this.countCols();t<n;t++)if(""!==(a=this.getDataAtCell(e,t))&&null!==a&&(0,r.isDefined)(a))return"object"===(void 0===a?"undefined":i(a))&&(s=this.getCellMeta(e,t),(0,o.isObjectEqual)(this.getSchema()[s.prop],a));return!0},isEmptyCol:function(e){var t,n,i;for(t=0,n=this.countRows();t<n;t++)if(""!==(i=this.getDataAtCell(t,e))&&null!==i&&(0,r.isDefined)(i))return!1;return!0},observeDOMVisibility:!0,allowInvalid:!0,allowEmpty:!0,invalidCellClassName:"htInvalid",placeholder:!1,placeholderCellClassName:"htPlaceholder",readOnlyCellClassName:"htDimmed",renderer:void 0,commentedCellClassName:"htCommentCell",fragmentSelection:!1,readOnly:!1,skipColumnOnPaste:!1,search:!1,type:"text",copyable:!0,editor:void 0,autoComplete:void 0,visibleRows:10,trimDropdown:!0,debug:!1,wordWrap:!0,noWordWrapClassName:"htNoWrap",contextMenu:void 0,copyPaste:!0,undo:void 0,columnSorting:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,mergeCells:!1,viewportRowRenderingOffset:"auto",viewportColumnRenderingOffset:"auto",validator:void 0,disableVisualSelection:!1,sortIndicator:void 0,manualColumnFreeze:void 0,trimWhitespace:!0,settings:void 0,source:void 0,title:void 0,checkedTemplate:void 0,uncheckedTemplate:void 0,label:void 0,numericFormat:void 0,language:void 0,selectOptions:void 0,autoColumnSize:void 0,autoRowSize:void 0,dateFormat:void 0,correctFormat:!1,defaultDate:void 0,strict:void 0,allowHtml:!1,renderAllRows:void 0,preventOverflow:!1,bindRowsWithHeaders:void 0,collapsibleColumns:void 0,columnSummary:void 0,dropdownMenu:void 0,filters:void 0,formulas:void 0,ganttChart:void 0,headerTooltips:void 0,hiddenColumns:void 0,hiddenRows:void 0,nestedHeaders:void 0,trimRows:void 0,rowHeaderWidth:void 0,columnHeaderHeight:void 0,observeChanges:void 0,sortFunction:void 0,sortByRelevance:!0,filter:!0,filteringCaseSensitive:!1,dragToScroll:!0},t.default=a},function(e,t,n){"use strict";t.__esModule=!0,t.getTranslatedPhrase=function(e,t,n){var s=(0,r.getLanguageDictionary)(e);if(null===s)return null;var l=s[t];if((0,a.isUndefined)(l))return null;var c=function(e,t){var n=e;return(0,i.arrayEach)((0,o.getPhraseFormatters)(),function(i){n=i(e,t)}),n}(l,n);if(Array.isArray(c))return c[0];return c};var i=n(1),r=n(71),o=n(270),a=n(16)},function(e,t,n){"use strict";t.__esModule=!0;var i=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['Language with code "','" was not found. You should register particular language \n    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.'],['Language with code "','" was not found. You should register particular language \n    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.']);t.extendNotExistingKeys=function(e,t){return(0,o.objectEach)(t,function(t,n){(0,r.isUndefined)(e[n])&&(e[n]=t)}),e},t.createCellHeadersRange=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;if(e>t){var r=[i,n];n=r[0],i=r[1]}return n+"-"+i},t.normalizeLanguageCode=c,t.applyLanguageSetting=function(e,t){var n=c(t);(0,l.hasLanguageDictionary)(n)?e.language=n:(e.language=l.DEFAULT_LANGUAGE_CODE,u(t))},t.warnUserAboutLanguageRegistration=u;var r=n(16),o=n(2),a=n(56),s=n(41),l=n(71);function c(e){var t=/^([a-zA-Z]{2})-([a-zA-Z]{2})$/.exec(e);return t?t[1].toLowerCase()+"-"+t[2].toUpperCase():e}function u(e){(0,r.isDefined)(e)&&(0,a.error)((0,s.toSingleLine)(i,e))}},function(e,t,n){"use strict";t.__esModule=!0,t.stopObserving=t.startObserving=t.isPressedCtrlKey=t.isPressed=t._resetState=t._getRefCount=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(6)),r=n(21);n(1);var o=new i.default,a=new Set,s=0;function l(){o.clearEvents(),a.clear(),s=0}t._getRefCount=function(){return s},t._resetState=l,t.isPressed=function(e){return Array.from(a.values()).some(function(t){return(0,r.isKey)(t,e)})},t.isPressedCtrlKey=function(){return Array.from(a.values()).some(function(e){return(0,r.isCtrlMetaKey)(e)})},t.startObserving=function(){0===s&&(o.addEventListener(document,"keydown",function(e){a.has(e.keyCode)||a.add(e.keyCode)}),o.addEventListener(document,"keyup",function(e){a.has(e.keyCode)&&a.delete(e.keyCode)}),o.addEventListener(document,"visibilitychange",function(){document.hidden&&a.clear()})),s+=1},t.stopObserving=function(){s>0&&(s-=1),0===s&&l()}},function(e,t,n){"use strict";t.__esModule=!0,t.HEADER_TYPE=t.FILL_TYPE=t.CELL_TYPE=t.AREA_TYPE=t.ACTIVE_HEADER_TYPE=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(273),o=n(1);function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var s=t.ACTIVE_HEADER_TYPE="active-header",l=t.AREA_TYPE="area",c=t.CELL_TYPE="cell",u=t.FILL_TYPE="fill",d=t.HEADER_TYPE="header",h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.layerLevel=0,this.cell=(0,r.createHighlight)(c,t),this.fill=(0,r.createHighlight)(u,t),this.areas=new Map,this.headers=new Map,this.activeHeaders=new Map,this.borders=[]}return i(e,[{key:"isEnabledFor",value:function(e){var t=this.options.disableHighlight;return"current"===e&&(e=c),"string"==typeof t&&(t=[t]),!1===t||Array.isArray(t)&&!t.includes(e)}},{key:"useLayerLevel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.layerLevel=e,this}},{key:"getCell",value:function(){return this.cell}},{key:"getFill",value:function(){return this.fill}},{key:"createOrGetArea",value:function(){var e=this.layerLevel,t=void 0;return this.areas.has(e)?t=this.areas.get(e):(t=(0,r.createHighlight)(l,Object.assign({layerLevel:e},this.options)),this.areas.set(e,t)),t}},{key:"getAreas",value:function(){return[].concat(a(this.areas.values()))}},{key:"createOrGetHeader",value:function(){var e=this.layerLevel,t=void 0;return this.headers.has(e)?t=this.headers.get(e):(t=(0,r.createHighlight)(d,Object.assign({},this.options)),this.headers.set(e,t)),t}},{key:"getHeaders",value:function(){return[].concat(a(this.headers.values()))}},{key:"createOrGetActiveHeader",value:function(){var e=this.layerLevel,t=void 0;return this.activeHeaders.has(e)?t=this.activeHeaders.get(e):(t=(0,r.createHighlight)(s,Object.assign({},this.options)),this.activeHeaders.set(e,t)),t}},{key:"getActiveHeaders",value:function(){return[].concat(a(this.activeHeaders.values()))}},{key:"clear",value:function(){this.cell.clear(),this.fill.clear(),(0,o.arrayEach)(this.areas.values(),function(e){e.clear()}),(0,o.arrayEach)(this.headers.values(),function(e){e.clear()}),(0,o.arrayEach)(this.activeHeaders.values(),function(e){e.clear()})}},{key:Symbol.iterator,value:function(){return[this.cell,this.fill].concat(a(this.areas.values()),a(this.headers.values()),a(this.activeHeaders.values()),a(this.borders))[Symbol.iterator]()}}]),e}();t.default=h},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(2),o=n(5),a=n(16);var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.samples=null,this.dataFactory=t,this.customSampleCount=null,this.allowDuplicates=!1}return i(e,null,[{key:"SAMPLE_COUNT",get:function(){return 3}}]),i(e,[{key:"getSampleCount",value:function(){return this.customSampleCount?this.customSampleCount:e.SAMPLE_COUNT}},{key:"setSampleCount",value:function(e){this.customSampleCount=e}},{key:"setAllowDuplicates",value:function(e){this.allowDuplicates=e}},{key:"generateRowSamples",value:function(e,t){return this.generateSamples("row",t,e)}},{key:"generateColumnSamples",value:function(e,t){return this.generateSamples("col",t,e)}},{key:"generateSamples",value:function(e,t,n){var i=this,r=new Map;return"number"==typeof n&&(n={from:n,to:n}),(0,o.rangeEach)(n.from,n.to,function(n){var o=i.generateSample(e,t,n);r.set(n,o)}),r}},{key:"generateSample",value:function(e,t,n){var i=this,s=new Map,l=[],c=void 0;return(0,o.rangeEach)(t.from,t.to,function(t){var o=void 0;if("row"===e)o=i.dataFactory(n,t);else{if("col"!==e)throw new Error("Unsupported sample type");o=i.dataFactory(t,n)}c=(0,r.isObject)(o)?Object.keys(o).length:Array.isArray(o)?o.length:(0,a.stringify)(o).length,s.has(c)||s.set(c,{needed:i.getSampleCount(),strings:[]});var u=s.get(c);if(u.needed&&(!(l.indexOf(o)>-1)||i.allowDuplicates)){var d="row"===e?"col":"row";u.strings.push(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({value:o},d,t)),l.push(o),u.needed--}}),s}}]),e}();t.default=s},function(e,t,n){"use strict";t.__esModule=!0;var i=n(1),r=n(2),o=n(5);var a={_arrayMap:[],getValueByIndex:function(e){var t=null;return e<this._arrayMap.length&&(t=this._arrayMap[e]),t},getIndexByValue:function(e){var t;return-1===(t=this._arrayMap.indexOf(e))?null:t},insertItems:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=(0,i.arrayMax)(this._arrayMap)+1,a=[];return(0,o.rangeEach)(n-1,function(n){a.push(t._arrayMap.splice(e+n,0,r+n))}),a},removeItems:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=[];if(Array.isArray(e)){var o=[].concat(this._arrayMap);e.sort(function(e,t){return t-e}),r=(0,i.arrayReduce)(e,function(e,n){return t._arrayMap.splice(n,1),e.concat(o.slice(n,n+1))},[])}else r=this._arrayMap.splice(e,n);return r},unshiftItems:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.removeItems(e,t);this._arrayMap=(0,i.arrayMap)(this._arrayMap,function(e,t){var r=function(e){return(0,i.arrayReduce)(n,function(t,n){return e>n&&t++,t},0)}(e);return r&&(e-=r),e})},shiftItems:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._arrayMap=(0,i.arrayMap)(this._arrayMap,function(t){return t>=e&&(t+=n),t}),(0,o.rangeEach)(n-1,function(n){t._arrayMap.splice(e+n,0,e+n)})},swapIndexes:function(e,t){var n;(n=this._arrayMap).splice.apply(n,[t,0].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this._arrayMap.splice(e,1))))},clearMap:function(){this._arrayMap.length=0}};(0,r.defineGetter)(a,"MIXIN_NAME","arrayMapper",{writable:!1,enumerable:!1}),t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(5);var o=0,a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hot=t,this._element=null,this.state=o}return i(e,[{key:"appendTo",value:function(e){e.appendChild(this._element),this.state=2}},{key:"build",value:function(){this._element=document.createElement("div"),this.state=1}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=o}},{key:"isAppended",value:function(){return 2===this.state}},{key:"isBuilt",value:function(){return this.state>=1}},{key:"setPosition",value:function(e,t){(0,r.isNumeric)(e)&&(this._element.style.top=e+"px"),(0,r.isNumeric)(t)&&(this._element.style.left=t+"px")}},{key:"getPosition",value:function(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}},{key:"setSize",value:function(e,t){(0,r.isNumeric)(e)&&(this._element.style.width=e+"px"),(0,r.isNumeric)(t)&&(this._element.style.height=t+"px")}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(e,t){(0,r.isNumeric)(e)&&(this._element.style.marginTop=e+"px"),(0,r.isNumeric)(t)&&(this._element.style.marginLeft=t+"px")}},{key:"getOffset",value:function(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}}]),e}();t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=0,o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hot=t,this._element=null,this.state=r}return i(e,[{key:"appendTo",value:function(e){e.appendChild(this._element),this.state=2}},{key:"build",value:function(){this._element=document.createElement("div"),this.state=1}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=r}},{key:"isAppended",value:function(){return 2===this.state}},{key:"isBuilt",value:function(){return this.state>=1}},{key:"setPosition",value:function(e,t){void 0!==e&&(this._element.style.top=e+"px"),void 0!==t&&(this._element.style.left=t+"px")}},{key:"getPosition",value:function(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}},{key:"setSize",value:function(e,t){e&&(this._element.style.width=e+"px"),t&&(this._element.style.height=t+"px")}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(e,t){e&&(this._element.style.marginTop=e+"px"),t&&(this._element.style.marginLeft=t+"px")}},{key:"getOffset",value:function(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}}]),e}();t.default=o},function(e,t,n){"use strict";t.__esModule=!0,t.applySpanProperties=function(e,t,n,i){t?t.row===n&&t.col===i?(e.setAttribute("rowspan",t.rowspan.toString()),e.setAttribute("colspan",t.colspan.toString())):(e.removeAttribute("rowspan"),e.removeAttribute("colspan"),e.style.display="none"):(e.removeAttribute("rowspan"),e.removeAttribute("colspan"),e.style.display="")}},function(e,t,n){"use strict";var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},a=Error;
/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * json-patch-duplex.js version: 0.5.7
 * (c) 2013 Joachim Wester
 * MIT license
 */!function(e){var t=function(e){if(c(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t};var n={add:function(e,t){return e[t]=this.value,!0},remove:function(e,t){return delete e[t],!0},replace:function(e,t){return e[t]=this.value,!0},move:function(e,t,n){var i={op:"_get",path:this.from};return _(n,[i]),_(n,[{op:"remove",path:this.from}]),_(n,[{op:"add",path:this.path,value:i.value}]),!0},copy:function(e,t,n){var i={op:"_get",path:this.from};return _(n,[i]),_(n,[{op:"add",path:this.path,value:i.value}]),!0},test:function(e,n){return function e(n,i){switch(void 0===n?"undefined":r(n)){case"undefined":case"boolean":case"string":case"number":return n===i;case"object":if(null===n)return null===i;if(c(n)){if(!c(i)||n.length!==i.length)return!1;for(var o=0,a=n.length;o<a;o++)if(!e(n[o],i[o]))return!1;return!0}var s=t(i).length;if(t(n).length!==s)return!1;for(o=0;o<s;o++)if(!e(n[o],i[o]))return!1;return!0;default:return!1}}(e[n],this.value)},_get:function(e,t){this.value=e[t]}},i={add:function(e,t){return e.splice(t,0,this.value),!0},remove:function(e,t){return e.splice(t,1),!0},replace:function(e,t){return e[t]=this.value,!0},move:n.move,copy:n.copy,test:n.test,_get:n._get},s={add:function(e){for(var t in s.remove.call(this,e),this.value)this.value.hasOwnProperty(t)&&(e[t]=this.value[t]);return!0},remove:function(e){for(var t in e)e.hasOwnProperty(t)&&n.remove.call(this,e,t);return!0},replace:function(e){return _(e,[{op:"remove",path:this.path}]),_(e,[{op:"add",path:this.path,value:this.value}]),!0},move:n.move,copy:n.copy,test:function(e){return JSON.stringify(e)===JSON.stringify(this.value)},_get:function(e){this.value=e}};function l(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}var c,u=[],d=function(){return function(e){this.observers=[],this.obj=e}}(),h=function(){return function(e,t){this.callback=e,this.observer=t}}();function f(e){return"object"===(void 0===e?"undefined":r(e))?JSON.parse(JSON.stringify(e)):e}function p(e){for(var t,n=0,i=u.length;n<i;n++)if(u[n].obj===e.object){t=u[n];break}m(t.value,e.object,e.patches,""),e.patches.length&&_(t.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function m(e,n,i,o){for(var a=t(n),s=t(e),c=!1,u=s.length-1;u>=0;u--){var d=e[p=s[u]];if(n.hasOwnProperty(p)){var h=n[p];"object"==(void 0===d?"undefined":r(d))&&null!=d&&"object"==(void 0===h?"undefined":r(h))&&null!=h?m(d,h,i,o+"/"+l(p)):d!=h&&(!0,i.push({op:"replace",path:o+"/"+l(p),value:f(h)}))}else i.push({op:"remove",path:o+"/"+l(p)}),c=!0}if(c||a.length!=s.length)for(u=0;u<a.length;u++){var p=a[u];e.hasOwnProperty(p)||i.push({op:"add",path:o+"/"+l(p),value:f(n[p])})}}function g(e){for(var t,n=0,i=e.length;n<i;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0}function _(e,t,r){for(var o,a,l=!1,u=0,d=t.length;u<d;){o=t[u],u++;for(var h=(o.path||"").split("/"),f=e,p=1,m=h.length,_=void 0;;){if(a=h[p],r&&void 0===_&&(void 0===f[a]?_=h.slice(0,p).join("/"):p==m-1&&(_=o.path),void 0!==_&&this.validator(o,u-1,e,_)),p++,void 0===a&&p>=m){l=s[o.op].call(o,f,a,e);break}if(c(f)){if("-"===a)a=f.length;else{if(r&&!g(a))throw new v("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",u-1,o.path,o);a=parseInt(a,10)}if(p>=m){if(r&&"add"===o.op&&a>f.length)throw new v("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",u-1,o.path,o);l=i[o.op].call(o,f,a,e);break}}else if(a&&-1!=a.indexOf("~")&&(a=a.replace(/~1/g,"/").replace(/~0/g,"~")),p>=m){l=n[o.op].call(o,f,a,e);break}f=f[a]}}return l}e.unobserve=function(e,t){t.unobserve()},e.observe=function(e,t){var n,i=function(e){for(var t=0,n=u.length;t<n;t++)if(u[t].obj===e)return u[t]}(e);if(i?n=function(e,t){for(var n=0,i=e.observers.length;n<i;n++)if(e.observers[n].callback===t)return e.observers[n].observer}(i,t):(i=new d(e),u.push(i)),n)return n;if(n={},i.value=f(e),t){n.callback=t,n.next=null;var r=this.intervals||[100,1e3,1e4,6e4];if(void 0===r.push)throw new a("jsonpatch.intervals must be an array");var o=0,s=function(){p(n)},l=function(){clearTimeout(n.next),n.next=setTimeout(function(){s(),o=0,n.next=setTimeout(c,r[o++])},0)},c=function e(){s(),o==r.length&&(o=r.length-1),n.next=setTimeout(e,r[o++])};"undefined"!=typeof window&&(window.addEventListener?(window.addEventListener("mousedown",l),window.addEventListener("mouseup",l),window.addEventListener("keydown",l)):(document.documentElement.attachEvent("onmousedown",l),document.documentElement.attachEvent("onmouseup",l),document.documentElement.attachEvent("onkeydown",l))),n.next=setTimeout(c,r[o++])}return n.patches=[],n.object=e,n.unobserve=function(){p(n),clearTimeout(n.next),function(e,t){for(var n=0,i=e.observers.length;n<i;n++)if(e.observers[n].observer===t)return void e.observers.splice(n,1)}(i,n),"undefined"!=typeof window&&(window.removeEventListener?(window.removeEventListener("mousedown",l),window.removeEventListener("mouseup",l),window.removeEventListener("keydown",l)):(document.documentElement.detachEvent("onmousedown",l),document.documentElement.detachEvent("onmouseup",l),document.documentElement.detachEvent("onkeydown",l)))},i.observers.push(new h(t,n)),n},e.generate=p,c=Array.isArray?Array.isArray:function(e){return e.push&&"number"==typeof e.length},e.apply=_,e.compare=function(e,t){var n=[];return m(e,t,n,""),n};var v=function(e){function t(t,n,i,r,o){e.call(this,t),this.message=t,this.name=n,this.index=i,this.operation=r,this.tree=o}return o(t,e),t}(a);e.JsonPatchError=v,e.Error=v,e.validator=function(t,i,o,a){if("object"!==(void 0===t?"undefined":r(t))||null===t||c(t))throw new v("Operation is not an object","OPERATION_NOT_AN_OBJECT",i,t,o);if(!n[t.op])throw new v("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",i,t,o);if("string"!=typeof t.path)throw new v("Operation `path` property is not a string","OPERATION_PATH_INVALID",i,t,o);if(("move"===t.op||"copy"===t.op)&&"string"!=typeof t.from)throw new v("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",i,t,o);if(("add"===t.op||"replace"===t.op||"test"===t.op)&&void 0===t.value)throw new v("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",i,t,o);if(("add"===t.op||"replace"===t.op||"test"===t.op)&&function e(t){if(void 0===t)return!0;if("array"==typeof t||"object"==(void 0===t?"undefined":r(t)))for(var n in t)if(e(t[n]))return!0;return!1}(t.value))throw new v("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",i,t,o);if(o)if("add"==t.op){var s=t.path.split("/").length,l=a.split("/").length;if(s!==l+1&&s!==l)throw new v("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",i,t,o)}else if("replace"===t.op||"remove"===t.op||"_get"===t.op){if(t.path!==a)throw new v("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",i,t,o)}else if("move"===t.op||"copy"===t.op){var u={op:"_get",path:t.from,value:void 0},d=e.validate([u],o);if(d&&"OPERATION_PATH_UNRESOLVABLE"===d.name)throw new v("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",i,t,o)}},e.validate=function(e,t){try{if(!c(e))throw new v("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)t=JSON.parse(JSON.stringify(t)),_.call(this,t,e,!0);else for(var n=0;n<e.length;n++)this.validator(e[n],n)}catch(e){if(e instanceof v)return e;throw e}}}(i||(i={})),t.apply=i.apply,t.observe=i.observe,t.unobserve=i.unobserve,t.generate=i.generate,t.compare=i.compare,t.validate=i.validate,t.validator=i.validator,t.JsonPatchError=i.JsonPatchError,t.Error=i.Error},function(e,t,n){"use strict";t.__esModule=!0,n(96),n(111),n(112),n(116),n(117),n(119),n(122),n(123),n(124),n(125),n(126),n(127),n(128),n(129),n(130),n(131),n(132),n(133),n(134),n(135),n(136),n(137),n(138),n(139),n(141),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(85),n(156),n(157),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(167),n(168),n(169),n(172),n(173),n(174),n(225),n(226),n(227);var i=n(17),r=n(13),o=n(28),a=n(87),s=j(n(88)),l=j(n(282)),c=n(6),u=j(c),d=j(n(15)),h=j(n(92)),f=R(n(1)),p=R(n(27)),m=R(n(90)),g=R(n(190)),_=R(n(40)),v=R(n(42)),y=R(n(16)),b=R(n(5)),w=R(n(2)),k=R(n(89)),M=R(n(36)),x=R(n(21)),C=R(n(0)),S=R(n(12)),T=R(n(283)),L=n(8),E=j(n(195)),D=n(194),O=n(196),A=R(n(7)),Y=n(71);function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function j(e){return e&&e.__esModule?e:{default:e}}function P(e,t){var n=new s.default(e,t||{},D.rootInstanceSymbol);return n.init(),n}(0,l.default)(P),P.Core=s.default,P.DefaultSettings=E.default,P.EventManager=u.default,P._getListenersCounter=c.getListenersCounter,P.buildDate="10/04/2018 11:38:33",P.packageName="handsontable",P.version="2.0.0";P.hooks=d.default.getSingleton(),P.__GhostTable=h.default;var N=[f,p,m,g,_,v,y,b,w,k,M,x],H=[C,S];P.helper={},P.dom={},f.arrayEach(N,function(e){f.arrayEach(Object.getOwnPropertyNames(e),function(t){"_"!==t.charAt(0)&&(P.helper[t]=e[t])})}),f.arrayEach(H,function(e){f.arrayEach(Object.getOwnPropertyNames(e),function(t){"_"!==t.charAt(0)&&(P.dom[t]=e[t])})}),P.cellTypes={},f.arrayEach((0,a.getRegisteredCellTypeNames)(),function(e){P.cellTypes[e]=(0,a.getCellType)(e)}),P.cellTypes.registerCellType=a.registerCellType,P.cellTypes.getCellType=a.getCellType,P.editors={},f.arrayEach((0,i.getRegisteredEditorNames)(),function(e){P.editors[M.toUpperCaseFirst(e)+"Editor"]=(0,i.getEditor)(e)}),P.editors.registerEditor=i.registerEditor,P.editors.getEditor=i.getEditor,P.renderers={},f.arrayEach((0,r.getRegisteredRendererNames)(),function(e){var t=(0,r.getRenderer)(e);"base"===e&&(P.renderers.cellDecorator=t),P.renderers[M.toUpperCaseFirst(e)+"Renderer"]=t}),P.renderers.registerRenderer=r.registerRenderer,P.renderers.getRenderer=r.getRenderer,P.validators={},f.arrayEach((0,o.getRegisteredValidatorNames)(),function(e){P.validators[M.toUpperCaseFirst(e)+"Validator"]=(0,o.getValidator)(e)}),P.validators.registerValidator=o.registerValidator,P.validators.getValidator=o.getValidator,P.plugins={},f.arrayEach(Object.getOwnPropertyNames(T),function(e){var t=T[e];"Base"===e?P.plugins[e+"Plugin"]=t:P.plugins[e]=t}),P.plugins.registerPlugin=L.registerPlugin,P.languages={},P.languages.dictionaryKeys=A,P.languages.getLanguageDictionary=Y.getLanguageDictionary,P.languages.getLanguagesDictionaries=Y.getLanguagesDictionaries,P.languages.registerLanguageDictionary=Y.registerLanguageDictionary,P.languages.getTranslatedPhrase=function(){return O.getTranslatedPhrase.apply(void 0,arguments)},t.default=P},function(e,t,n){var i=n(20),r=n(18),o=n(37);e.exports=n(22)?Object.defineProperties:function(e,t){r(e);for(var n,a=o(t),s=a.length,l=0;s>l;)i.f(e,n=a[l++],t[n]);return e}},function(e,t,n){"use strict";var i=n(74),r=n(49),o=n(51),a={};n(31)(a,n(11)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(a,{next:r(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var i=n(9),r=n(110).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&i(o)&&r&&r(e,o),e}},function(e,t,n){var i=n(211);e.exports=function(e,t){return new(i(e))(t)}},function(e,t,n){var i=n(9),r=n(113),o=n(11)("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)||(t=void 0),i(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var i=n(18),r=n(62),o=n(11)("species");e.exports=function(e,t){var n,a=i(e).constructor;return void 0===a||void 0==(n=i(a)[o])?t:r(n)}},function(e,t){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var i=n(14),r=n(80).set,o=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,l="process"==n(43)(a);e.exports=function(){var e,t,n,c=function(){var i,r;for(l&&(i=a.domain)&&i.exit();e;){r=e.fn,e=e.next;try{r()}catch(i){throw e?n():t=void 0,i}}t=void 0,i&&i.enter()};if(l)n=function(){a.nextTick(c)};else if(!o||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var u=s.resolve();n=function(){u.then(c)}}else n=function(){r.call(i,c)};else{var d=!0,h=document.createTextNode("");new o(c).observe(h,{characterData:!0}),n=function(){h.data=d=!d}}return function(i){var r={fn:i,next:void 0};t&&(t.next=r),e||(e=r,n()),t=r}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var i=n(18),r=n(9),o=n(118);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var i=n(14),r=n(44),o=n(65),a=n(120),s=n(20).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var i=n(37),r=n(69),o=n(52);e.exports=function(e){var t=i(e),n=r.f;if(n)for(var a,s=n(e),l=o.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var i=n(59),r=n(38);e.exports=function(e){return function(t,n){var o,a,s=String(r(t)),l=i(n),c=s.length;return l<0||l>=c?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var i=n(18);e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var i=n(33),r=n(60),o=n(25);e.exports=[].copyWithin||function(e,t){var n=i(this),a=o(n.length),s=r(e,a),l=r(t,a),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?a:r(c,a))-l,a-s),d=1;for(l<s&&s<l+u&&(d=-1,l+=u-1,s+=u-1);u-- >0;)l in n?n[s]=n[l]:delete n[s],s+=d,l+=d;return n}},function(e,t,n){"use strict";var i=n(33),r=n(60),o=n(25);e.exports=function(e){for(var t=i(this),n=o(t.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:r(l,n);c>s;)t[s++]=e;return t}},function(e,t,n){var i=n(81),r=n(69),o=n(18),a=n(14).Reflect;e.exports=a&&a.ownKeys||function(e){var t=i.f(o(e)),n=r.f;return n?t.concat(n(e)):t}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";t.__esModule=!0;var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(n(35));var o=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clone=n.makeClone(r.default.CLONE_DEBUG),n.clone.wtTable.holder.style.opacity=.4,n.clone.wtTable.holder.style.textShadow="0 0 2px #ff0000",(0,i.addClass)(n.clone.wtTable.holder.parentNode,"wtDebugVisible"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();r.default.registerOverlay(r.default.CLONE_DEBUG,o),t.default=o},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(n(35));var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clone=n.makeClone(o.default.CLONE_LEFT),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"shouldBeRendered",value:function(){return!(!this.wot.getSetting("fixedColumnsLeft")&&!this.wot.getSetting("rowHeaders").length)}},{key:"resetFixedPosition",value:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var e=this.clone.wtTable.holder.parentNode,t=0,n=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||n&&"horizontal"===n)t=this.getScrollPosition(),(0,r.resetCssTransform)(e);else{var i=this.wot.wtTable.hider.getBoundingClientRect(),o=Math.ceil(i.left),a=Math.ceil(i.right),s=void 0,l=void 0;l=""===(l=this.wot.wtTable.hider.style.top)?0:l,t=s=o<0&&a-e.offsetWidth>0?-o:0,s+="px",(0,r.setOverlayPosition)(e,s,l)}this.adjustHeaderBordersPosition(t),this.adjustElementsSize()}}},{key:"setScrollPosition",value:function(e){this.mainTableScrollableElement===window?window.scrollTo(e,(0,r.getWindowScrollTop)()):this.mainTableScrollableElement.scrollLeft=e}},{key:"onScroll",value:function(){this.wot.getSetting("onScrollVertically")}},{key:"sumCellSizes",value:function(e,t){for(var n=0,i=this.wot.wtSettings.defaultColumnWidth;e<t;)n+=this.wot.wtTable.getStretchedColumnWidth(e)||i,e++;return n}},{key:"adjustElementsSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||e)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize(),e||(this.areElementSizesAdjusted=!0))}},{key:"adjustRootElementSize",value:function(){var e,t=this.wot.wtTable.holder,n=t.clientHeight===t.offsetHeight?0:(0,r.getScrollbarWidth)(),i=this.clone.wtTable.holder.parentNode.style,o=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||"vertical"===o){var a=this.wot.wtViewport.getWorkspaceHeight()-n;a=Math.min(a,(0,r.innerHeight)(this.wot.wtTable.wtRootElement)),i.height=a+"px"}else i.height="";this.clone.wtTable.holder.style.height=i.height,e=(0,r.outerWidth)(this.clone.wtTable.TABLE),i.width=(0===e?e:e+4)+"px"}},{key:"adjustRootChildrenSize",value:function(){var e=(0,r.getScrollbarWidth)();this.clone.wtTable.hider.style.height=this.hider.style.height,this.clone.wtTable.holder.style.height=this.clone.wtTable.holder.parentNode.style.height,0===e&&(e=30),this.clone.wtTable.holder.style.width=parseInt(this.clone.wtTable.holder.parentNode.style.width,10)+e+"px"}},{key:"applyToDOM",value:function(){var e=this.wot.getSetting("totalColumns");if(this.areElementSizesAdjusted||this.adjustElementsSize(),"number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition)this.spreader.style.left=this.wot.wtViewport.columnsRenderCalculator.startPosition+"px";else{if(0!==e)throw new Error("Incorrect value of the columnsRenderCalculator");this.spreader.style.left="0"}this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){"number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.top=this.wot.wtViewport.rowsRenderCalculator.startPosition+"px":this.clone.wtTable.spreader.style.top=""}},{key:"scrollTo",value:function(e,t){var n=this.getTableParentOffset(),i=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,o=0;t&&i.offsetWidth!==i.clientWidth&&(o=(0,r.getScrollbarWidth)()),t?(n+=this.sumCellSizes(0,e+1),n-=this.wot.wtViewport.getViewportWidth()):n+=this.sumCellSizes(this.wot.getSetting("fixedColumnsLeft"),e),n+=o,this.setScrollPosition(n)}},{key:"getTableParentOffset",value:function(){var e=0;return this.wot.getSetting("preventOverflow")||this.trimmingContainer!==window||(e=this.wot.wtTable.holderOffset.left),e}},{key:"getScrollPosition",value:function(){return(0,r.getScrollLeft)(this.mainTableScrollableElement)}},{key:"adjustHeaderBordersPosition",value:function(e){var t=this.wot.wtTable.holder.parentNode,n=this.wot.getSetting("rowHeaders"),i=this.wot.getSetting("fixedColumnsLeft");if(this.wot.getSetting("totalRows")?(0,r.removeClass)(t,"emptyRows"):(0,r.addClass)(t,"emptyRows"),i&&!n.length)(0,r.addClass)(t,"innerBorderLeft");else if(!i&&n.length){var o=(0,r.hasClass)(t,"innerBorderLeft");e?(0,r.addClass)(t,"innerBorderLeft"):(0,r.removeClass)(t,"innerBorderLeft"),(!o&&e||o&&!e)&&this.wot.wtOverlays.adjustElementsSize()}}}]),t}();o.default.registerOverlay(o.default.CLONE_LEFT,a),t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(n(35));var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clone=n.makeClone(a.default.CLONE_TOP),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"shouldBeRendered",value:function(){return!(!this.wot.getSetting("fixedRowsTop")&&!this.wot.getSetting("columnHeaders").length)}},{key:"resetFixedPosition",value:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var e=this.clone.wtTable.holder.parentNode,t=0,n=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||n&&"vertical"===n)t=this.getScrollPosition(),(0,r.resetCssTransform)(e);else{var i=this.wot.wtTable.hider.getBoundingClientRect(),o=Math.ceil(i.top),a=Math.ceil(i.bottom),s=void 0,l=void 0;s=""===(s=this.wot.wtTable.hider.style.left)?0:s,t=l=o<0&&a-e.offsetHeight>0?-o:0,l+="px",(0,r.setOverlayPosition)(e,s,l)}this.adjustHeaderBordersPosition(t),this.adjustElementsSize()}}},{key:"setScrollPosition",value:function(e){this.mainTableScrollableElement===window?window.scrollTo((0,r.getWindowScrollLeft)(),e):this.mainTableScrollableElement.scrollTop=e}},{key:"onScroll",value:function(){this.wot.getSetting("onScrollHorizontally")}},{key:"sumCellSizes",value:function(e,t){for(var n=0,i=this.wot.wtSettings.settings.defaultRowHeight;e<t;){var r=this.wot.wtTable.getRowHeight(e);n+=void 0===r?i:r,e++}return n}},{key:"adjustElementsSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||e)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize(),e||(this.areElementSizesAdjusted=!0))}},{key:"adjustRootElementSize",value:function(){var e,t=this.wot.wtTable.holder,n=t.clientWidth===t.offsetWidth?0:(0,r.getScrollbarWidth)(),i=this.clone.wtTable.holder.parentNode.style,o=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||"horizontal"===o){var a=this.wot.wtViewport.getWorkspaceWidth()-n;a=Math.min(a,(0,r.innerWidth)(this.wot.wtTable.wtRootElement)),i.width=a+"px"}else i.width="";this.clone.wtTable.holder.style.width=i.width,e=(0,r.outerHeight)(this.clone.wtTable.TABLE),i.height=(0===e?e:e+4)+"px"}},{key:"adjustRootChildrenSize",value:function(){var e=(0,r.getScrollbarWidth)();this.clone.wtTable.hider.style.width=this.hider.style.width,this.clone.wtTable.holder.style.width=this.clone.wtTable.holder.parentNode.style.width,0===e&&(e=30),this.clone.wtTable.holder.style.height=parseInt(this.clone.wtTable.holder.parentNode.style.height,10)+e+"px"}},{key:"applyToDOM",value:function(){var e=this.wot.getSetting("totalRows");if(this.areElementSizesAdjusted||this.adjustElementsSize(),"number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top=this.wot.wtViewport.rowsRenderCalculator.startPosition+"px";else{if(0!==e)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){"number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.left=this.wot.wtViewport.columnsRenderCalculator.startPosition+"px":this.clone.wtTable.spreader.style.left=""}},{key:"scrollTo",value:function(e,t){var n=this.getTableParentOffset(),i=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,o=0;if(t&&i.offsetHeight!==i.clientHeight&&(o=(0,r.getScrollbarWidth)()),t){var a=this.wot.getSetting("fixedRowsBottom"),s=(this.wot.getSetting("fixedRowsTop"),this.wot.getSetting("totalRows"));n+=this.sumCellSizes(0,e+1),n-=this.wot.wtViewport.getViewportHeight()-this.sumCellSizes(s-a,s),n+=1}else n+=this.sumCellSizes(this.wot.getSetting("fixedRowsTop"),e);n+=o,this.setScrollPosition(n)}},{key:"getTableParentOffset",value:function(){return this.mainTableScrollableElement===window?this.wot.wtTable.holderOffset.top:0}},{key:"getScrollPosition",value:function(){return(0,r.getScrollTop)(this.mainTableScrollableElement)}},{key:"redrawSelectionBorders",value:function(e){if(e&&e.cellRange){var t=e.getBorder(this.wot),n=e.getCorners();t.disappear(),t.appear(n)}}},{key:"redrawAllSelectionsBorders",value:function(){var e=this,t=this.wot.selections;this.redrawSelectionBorders(t.getCell()),(0,o.arrayEach)(t.getAreas(),function(t){e.redrawSelectionBorders(t)}),this.redrawSelectionBorders(t.getFill()),this.wot.wtTable.wot.wtOverlays.leftOverlay.refresh()}},{key:"adjustHeaderBordersPosition",value:function(e){var t=this.wot.wtTable.holder.parentNode;if(this.wot.getSetting("totalColumns")?(0,r.removeClass)(t,"emptyColumns"):(0,r.addClass)(t,"emptyColumns"),0===this.wot.getSetting("fixedRowsTop")&&this.wot.getSetting("columnHeaders").length>0){var n=(0,r.hasClass)(t,"innerBorderTop");e||0===this.wot.getSetting("totalRows")?(0,r.addClass)(t,"innerBorderTop"):(0,r.removeClass)(t,"innerBorderTop"),(!n&&e||n&&!e)&&(this.wot.wtOverlays.adjustElementsSize(),this.redrawAllSelectionsBorders())}if(0===this.wot.getSetting("rowHeaders").length){var i=this.clone.wtTable.THEAD.querySelectorAll("th:nth-of-type(2)");if(i)for(var o=0;o<i.length;o++)i[o].style["border-left-width"]=0}}}]),t}();a.default.registerOverlay(a.default.CLONE_TOP,s),t.default=s},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(n(35));var a=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clone=n.makeClone(o.default.CLONE_TOP_LEFT_CORNER),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"shouldBeRendered",value:function(){return!(!this.wot.getSetting("fixedRowsTop")&&!this.wot.getSetting("columnHeaders").length||!this.wot.getSetting("fixedColumnsLeft")&&!this.wot.getSetting("rowHeaders").length)}},{key:"resetFixedPosition",value:function(){if(this.updateTrimmingContainer(),this.wot.wtTable.holder.parentNode){var e=this.clone.wtTable.holder.parentNode,t=(0,r.outerHeight)(this.clone.wtTable.TABLE),n=(0,r.outerWidth)(this.clone.wtTable.TABLE),i=this.wot.getSetting("preventOverflow");if(this.trimmingContainer===window){var o=this.wot.wtTable.hider.getBoundingClientRect(),a=Math.ceil(o.top),s=Math.ceil(o.left),l=Math.ceil(o.bottom),c=Math.ceil(o.right),u="0",d="0";i&&"vertical"!==i||s<0&&c-e.offsetWidth>0&&(u=-s+"px"),i&&"horizontal"!==i||a<0&&l-e.offsetHeight>0&&(d=-a+"px"),(0,r.setOverlayPosition)(e,u,d)}else(0,r.resetCssTransform)(e);e.style.height=(0===t?t:t+4)+"px",e.style.width=(0===n?n:n+4)+"px"}}}]),t}();o.default.registerOverlay(o.default.CLONE_TOP_LEFT_CORNER,a),t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(0),s=u(n(187)),l=u(n(54)),c=u(n(86));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.settings=t,this.cellRange=n||null,this.instanceBorders={},this.classNames=[this.settings.className],this.classNameGenerator=this.linearClassNameGenerator(this.settings.className,this.settings.layerLevel)}return o(e,[{key:"getBorder",value:function(e){return this.instanceBorders[e.guid]||(this.instanceBorders[e.guid]=new s.default(e,this.settings)),this.instanceBorders[e.guid]}},{key:"isEmpty",value:function(){return null===this.cellRange}},{key:"add",value:function(e){return this.isEmpty()?this.cellRange=new c.default(e):this.cellRange.expand(e),this}},{key:"replace",value:function(e,t){if(!this.isEmpty()){if(this.cellRange.from.isEqual(e))return this.cellRange.from=t,!0;if(this.cellRange.to.isEqual(e))return this.cellRange.to=t,!0}return!1}},{key:"clear",value:function(){return this.cellRange=null,this}},{key:"getCorners",value:function(){var e=this.cellRange.getTopLeftCorner(),t=this.cellRange.getBottomRightCorner();return[e.row,e.col,t.row,t.col]}},{key:"addClassAtCoords",value:function(e,t,n,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=e.wtTable.getCell(new l.default(t,n));return"object"===(void 0===s?"undefined":r(s))&&(o&&(i=this.classNameGenerator(s),this.classNames.includes(i)||this.classNames.push(i)),(0,a.addClass)(s,i)),this}},{key:"linearClassNameGenerator",value:function(e,t){return function n(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(0===t||0===r)return e;var o=r>=0?r:t,s=e,l=0===(o-=1)?e:e+"-"+o;(0,a.hasClass)(i,l)?s=e+"-"+(o+1):s=n(i,o);return s}}},{key:"draw",value:function(e){if(this.isEmpty())this.settings.border&&this.getBorder(e).disappear();else{for(var t=e.wtTable.getRenderedRowsCount(),n=e.wtTable.getRenderedColumnsCount(),r=this.getCorners(),o=i(r,4),s=o[0],l=o[1],c=o[2],u=o[3],d=0;d<n;d+=1){var h=e.wtTable.columnFilter.renderedToSource(d);if(h>=l&&h<=u){var f=e.wtTable.getColumnHeader(h);if(f){var p=[];this.settings.highlightHeaderClassName&&p.push(this.settings.highlightHeaderClassName),this.settings.highlightColumnClassName&&p.push(this.settings.highlightColumnClassName),(0,a.addClass)(f,p)}}}for(var m=0;m<t;m+=1){var g=e.wtTable.rowFilter.renderedToSource(m);if(g>=s&&g<=c){var _=e.wtTable.getRowHeader(g);if(_){var v=[];this.settings.highlightHeaderClassName&&v.push(this.settings.highlightHeaderClassName),this.settings.highlightRowClassName&&v.push(this.settings.highlightRowClassName),(0,a.addClass)(_,v)}}for(var y=0;y<n;y+=1){var b=e.wtTable.columnFilter.renderedToSource(y);g>=s&&g<=c&&b>=l&&b<=u?this.settings.className&&this.addClassAtCoords(e,g,b,this.settings.className,this.settings.markIntersections):g>=s&&g<=c?this.settings.highlightRowClassName&&this.addClassAtCoords(e,g,b,this.settings.highlightRowClassName):b>=l&&b<=u&&this.settings.highlightColumnClassName&&this.addClassAtCoords(e,g,b,this.settings.highlightColumnClassName);var w=e.getSetting("onAfterDrawSelection",g,b,r,this.settings.layerLevel);"string"==typeof w&&this.addClassAtCoords(e,g,b,w)}}e.getSetting("onBeforeDrawBorders",r,this.settings.className),this.settings.border&&this.getBorder(e).appear(r)}}}]),e}();t.default=d},function(e,t,n){"use strict";e.exports=function(){var e,t={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},n=document.body,i=document.createTextNode(""),r=document.createElement("SPAN"),o=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)},a=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},s=function(o){var a,s;o?/^[a-zA-Z \.,\\\/\|0-9]$/.test(o)||(o="."):o="",void 0!==i.textContent?i.textContent=e.value+o:i.data=e.value+o,r.style.fontSize=u(e).fontSize,r.style.fontFamily=u(e).fontFamily,r.style.whiteSpace="pre",n.appendChild(r),a=r.clientWidth+2,n.removeChild(r),e.style.height=t.minHeight+"px",t.minWidth>a?e.style.width=t.minWidth+"px":a>t.maxWidth?e.style.width=t.maxWidth+"px":e.style.width=a+"px",s=e.scrollHeight?e.scrollHeight-1:0,t.minHeight>s?e.style.height=t.minHeight+"px":t.maxHeight<s?(e.style.height=t.maxHeight+"px",e.style.overflowY="visible"):e.style.height=s+"px"},l=function(){window.setTimeout(s,0)},c=function(n,a,c){e=n,function(n){if(n&&n.minHeight)if("inherit"==n.minHeight)t.minHeight=e.clientHeight;else{var o=parseInt(n.minHeight);isNaN(o)||(t.minHeight=o)}if(n&&n.maxHeight)if("inherit"==n.maxHeight)t.maxHeight=e.clientHeight;else{var a=parseInt(n.maxHeight);isNaN(a)||(t.maxHeight=a)}if(n&&n.minWidth)if("inherit"==n.minWidth)t.minWidth=e.clientWidth;else{var s=parseInt(n.minWidth);isNaN(s)||(t.minWidth=s)}if(n&&n.maxWidth)if("inherit"==n.maxWidth)t.maxWidth=e.clientWidth;else{var l=parseInt(n.maxWidth);isNaN(l)||(t.maxWidth=l)}r.firstChild||(r.className="autoResize",r.style.display="inline-block",r.appendChild(i))}(a),"TEXTAREA"==e.nodeName&&(e.style.resize="none",e.style.overflowY="",e.style.height=t.minHeight+"px",e.style.minWidth=t.minWidth+"px",e.style.maxWidth=t.maxWidth+"px",e.style.overflowY="hidden"),c&&(o(e,"change",s),o(e,"cut",l),o(e,"paste",l),o(e,"drop",l),o(e,"keydown",l),o(e,"focus",s)),s()};function u(e){return e.currentStyle||document.defaultView.getComputedStyle(e)}return{init:function(e,t,n){c(e,t,n)},unObserve:function(){a(e,"change",s),a(e,"cut",l),a(e,"paste",l),a(e,"drop",l),a(e,"keydown",l),a(e,"focus",s)},resize:s}}},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(53)),o=n(0);var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"beginEditing",value:function(e,t){if("mouseup"===t.type){var n=this.TD.querySelector('input[type="checkbox"]');(0,o.hasClass)(n,"htBadValue")||n.click()}}},{key:"finishEditing",value:function(){}},{key:"init",value:function(){}},{key:"open",value:function(){}},{key:"close",value:function(){}},{key:"getValue",value:function(){}},{key:"setValue",value:function(){}},{key:"focus",value:function(){}}]),t}();t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=f(n(55)),a=f(n(236));n(237);var s=n(0),l=n(2),c=f(n(6)),u=n(21),d=n(12),h=f(n(57));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.defaultDateFormat="DD/MM/YYYY",n.isCellEdited=!1,n.parentDestroyed=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.default),i(t,[{key:"init",value:function(){var e=this;if("function"!=typeof o.default)throw new Error("You need to include moment.js to your project.");if("function"!=typeof a.default)throw new Error("You need to include Pikaday to your project.");r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this),this.instance.addHook("afterDestroy",function(){e.parentDestroyed=!0,e.destroyElements()})}},{key:"createElements",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createElements",this).call(this),this.datePicker=document.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,(0,s.addClass)(this.datePicker,"htDatepickerHolder"),document.body.appendChild(this.datePicker),this.$datePicker=new a.default(this.getDatePickerConfig()),new c.default(this).addEventListener(this.datePicker,"mousedown",function(e){return(0,d.stopPropagation)(e)}),this.hideDatepicker()}},{key:"destroyElements",value:function(){this.$datePicker.destroy()}},{key:"prepare",value:function(e,n,i,o,a,s){this._opened=!1,r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"prepare",this).call(this,e,n,i,o,a,s)}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",this).call(this),this.showDatepicker(e)}},{key:"close",value:function(){var e=this;this._opened=!1,this.instance._registerTimeout(setTimeout(function(){e.instance._refreshBorders()},0)),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this)}},{key:"finishEditing",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var i=this.originalValue;void 0!==i&&this.setValue(i)}this.hideDatepicker(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"finishEditing",this).call(this,e,n)}},{key:"showDatepicker",value:function(e){this.$datePicker.config(this.getDatePickerConfig());var t=this.TD.getBoundingClientRect(),n=this.cellProperties.dateFormat||this.defaultDateFormat,i=this.$datePicker.config(),r=void 0,a=this.instance.view.isMouseDown(),l=!!e&&(0,u.isMetaKey)(e.keyCode);this.datePickerStyle.top=window.pageYOffset+t.top+(0,s.outerHeight)(this.TD)+"px",this.datePickerStyle.left=window.pageXOffset+t.left+"px",this.$datePicker._onInputFocus=function(){},i.format=n,this.originalValue?(r=this.originalValue,(0,o.default)(r,n,!0).isValid()&&this.$datePicker.setMoment((0,o.default)(r,n),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),l||a||this.setValue("")):this.cellProperties.defaultDate?(r=this.cellProperties.defaultDate,i.defaultDate=r,(0,o.default)(r,n,!0).isValid()&&this.$datePicker.setMoment((0,o.default)(r,n),!0),l||a||this.setValue("")):this.$datePicker.gotoToday(),this.datePickerStyle.display="block",this.$datePicker.show()}},{key:"hideDatepicker",value:function(){this.datePickerStyle.display="none",this.$datePicker.hide()}},{key:"getDatePickerConfig",value:function(){var e=this,t=this.TEXTAREA,n={};this.cellProperties&&this.cellProperties.datePickerConfig&&(0,l.deepExtend)(n,this.cellProperties.datePickerConfig);var i=n.onSelect,r=n.onClose;return n.field=t,n.trigger=t,n.container=this.datePicker,n.bound=!1,n.format=n.format||this.defaultDateFormat,n.reposition=n.reposition||!1,n.onSelect=function(t){isNaN(t.getTime())||(t=(0,o.default)(t).format(e.cellProperties.dateFormat||e.defaultDateFormat)),e.setValue(t),e.hideDatepicker(),i&&i()},n.onClose=function(){e.parentDestroyed||e.finishEditing(!1),r&&r()},n}}]),t}();t.default=p},function(e,t){e.exports=n},function(e,t){},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(188)),o=a(n(15));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"prepare",value:function(e,n,i,r,o,a){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"prepare",this).call(this,e,n,i,r,o,a),this.cellProperties.filter=!1,this.cellProperties.strict=!0}}]),t}();o.default.getSingleton().add("beforeValidate",function(e,t,n,i){var r=this.getCellMeta(t,this.propToCol(n));r.editor===s&&void 0===r.strict&&(r.filter=!1,r.strict=!0)}),t.default=s},function(e,t,n){"use strict";t.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(57));var r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),t}();t.default=r},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(n(57));var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"createElements",value:function(){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createElements",this).call(this),this.TEXTAREA=document.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,(0,r.empty)(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}}]),t}();t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(0),o=n(12),a=n(21),s=n(53),l=function(e){return e&&e.__esModule?e:{default:e}}(s);var c=l.default.prototype.extend();c.prototype.init=function(){this.select=document.createElement("SELECT"),(0,r.addClass)(this.select,"htSelectEditor"),this.select.style.display="none",this.instance.rootElement.appendChild(this.select),this.registerHooks()},c.prototype.registerHooks=function(){var e=this;this.instance.addHook("afterScrollHorizontally",function(){return e.refreshDimensions()}),this.instance.addHook("afterScrollVertically",function(){return e.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){return e.refreshDimensions()}),this.instance.addHook("afterRowResize",function(){return e.refreshDimensions()})},c.prototype.prepare=function(){l.default.prototype.prepare.apply(this,arguments);var e,t=this.cellProperties.selectOptions;for(var n in e="function"==typeof t?this.prepareOptions(t(this.row,this.col,this.prop)):this.prepareOptions(t),(0,r.empty)(this.select),e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=document.createElement("OPTION");i.value=n,(0,r.fastInnerHTML)(i,e[n]),this.select.appendChild(i)}},c.prototype.prepareOptions=function(e){var t={};if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)t[e[n]]=e[n];else"object"==(void 0===e?"undefined":i(e))&&(t=e);return t},c.prototype.getValue=function(){return this.select.value},c.prototype.setValue=function(e){this.select.value=e};var u=function(e){var t=this.getActiveEditor();switch(e.keyCode){case a.KEY_CODES.ARROW_UP:var n=t.select.selectedIndex-1;n>=0&&(t.select[n].selected=!0),(0,o.stopImmediatePropagation)(e),e.preventDefault();break;case a.KEY_CODES.ARROW_DOWN:var i=t.select.selectedIndex+1;i<=t.select.length-1&&(t.select[i].selected=!0),(0,o.stopImmediatePropagation)(e),e.preventDefault()}};c.prototype.open=function(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.instance.addHook("beforeKeyDown",u)},c.prototype.close=function(){this._opened=!1,this.select.style.display="none",this.instance.removeHook("beforeKeyDown",u)},c.prototype.focus=function(){this.select.focus()},c.prototype.refreshValue=function(){var e=this.instance.getSourceDataAtCell(this.row,this.prop);this.originalValue=e,this.setValue(e),this.refreshDimensions()},c.prototype.refreshDimensions=function(){if(this.state===s.EditorState.EDITING)if(this.TD=this.getEditedCell(),this.TD){var e,t=(0,r.outerWidth)(this.TD)+1,n=(0,r.outerHeight)(this.TD)+1,i=(0,r.offset)(this.TD),o=(0,r.offset)(this.instance.rootElement),a=(0,r.getScrollableElement)(this.TD),l=i.top-o.top-1-(a.scrollTop||0),c=i.left-o.left-1-(a.scrollLeft||0),u=this.checkEditorSection(),d=this.instance.getSettings();d.rowHeaders,d.colHeaders;switch(u){case"top":e=(0,r.getCssTransform)(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);break;case"left":e=(0,r.getCssTransform)(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);break;case"top-left-corner":e=(0,r.getCssTransform)(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom-left-corner":e=(0,r.getCssTransform)(this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom":e=(0,r.getCssTransform)(this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.holder.parentNode)}0===this.instance.getSelectedLast()[0]&&(l+=1),0===this.instance.getSelectedLast()[1]&&(c+=1);var h=this.select.style;e&&-1!=e?h[e[0]]=e[1]:(0,r.resetCssTransform)(this.select);var f=(0,r.getComputedStyle)(this.TD);parseInt(f.borderTopWidth,10)>0&&(n-=1),parseInt(f.borderLeftWidth,10)>0&&(t-=1),h.height=n+"px",h.minWidth=t+"px",h.top=l+"px",h.left=c+"px",h.margin="0px"}else this.close()},c.prototype.getEditedCell=function(){var e;switch(this.checkEditorSection()){case"top":e=this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=101;break;case"corner":e=this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=103;break;case"left":e=this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=102;break;default:e=this.instance.getCell(this.row,this.col),this.select.style.zIndex=""}return-1!=e&&-2!=e?e:void 0},t.default=c},function(e,t,n){"use strict";t.__esModule=!0;var i=n(0);t.default=function(e,t,n,r,o,a,s){var l=[],c=[];s.className&&(t.className?t.className=t.className+" "+s.className:t.className=s.className),s.readOnly&&l.push(s.readOnlyCellClassName),!1===s.valid&&s.invalidCellClassName?l.push(s.invalidCellClassName):c.push(s.invalidCellClassName),!1===s.wordWrap&&s.noWordWrapClassName&&l.push(s.noWordWrapClassName),!a&&s.placeholder&&l.push(s.placeholderCellClassName),(0,i.removeClass)(t,c),(0,i.addClass)(t,l)}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(n(6)),o=n(4),a=n(13);var s=document.createElement("DIV");s.className="htAutocompleteWrapper";var l=document.createElement("DIV");l.className="htAutocompleteArrow",l.appendChild(document.createTextNode(String.fromCharCode(9660)));t.default=function(e,t,n,c,u,d,h){s.cloneNode(!0);var f=l.cloneNode(!0);if(h.allowHtml?(0,a.getRenderer)("html").apply(this,arguments):(0,a.getRenderer)("text").apply(this,arguments),t.appendChild(f),(0,i.addClass)(t,"htAutocomplete"),t.firstChild||t.appendChild(document.createTextNode(String.fromCharCode(160))),!e.acArrowListener){var p=new r.default(e);e.acArrowListener=function(r){(0,i.hasClass)(r.target,"htAutocompleteArrow")&&e.view.wt.getSetting("onCellDblClick",null,new o.CellCoords(n,c),t)},p.addEventListener(e.rootElement,"mousedown",e.acArrowListener),e.addHookOnce("afterDestroy",function(){p.destroy()})}}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(0),r=n(36),o=function(e){return e&&e.__esModule?e:{default:e}}(n(6)),a=n(21),s=n(42),l=n(12),c=n(13);var u=new WeakMap,d=new WeakMap,h="htBadValue";function f(e){return"INPUT"===e.tagName&&"checkbox"===e.getAttribute("type")}t.default=function(e,t,n,p,m,g,_){(0,c.getRenderer)("base").apply(this,arguments),function(e){var t=d.get(e);t||((t=new o.default(e)).addEventListener(e.rootElement,"click",function(t){return function(e,t){if(!f(e.target))return!1;var n=parseInt(e.target.getAttribute("data-row"),10),i=parseInt(e.target.getAttribute("data-col"),10);t.getCellMeta(n,i).readOnly&&e.preventDefault()}(t,e)}),t.addEventListener(e.rootElement,"mouseup",function(t){return function(e,t){f(e.target)&&setTimeout(t.listen,10)}(t,e)}),t.addEventListener(e.rootElement,"change",function(t){return function(e,t){if(!f(e.target))return!1;var n=parseInt(e.target.getAttribute("data-row"),10),i=parseInt(e.target.getAttribute("data-col"),10),r=t.getCellMeta(n,i);if(!r.readOnly){var o=null;o=e.target.checked?void 0===r.uncheckedTemplate||r.checkedTemplate:void 0!==r.uncheckedTemplate&&r.uncheckedTemplate,t.setDataAtCell(n,i,o)}}(t,e)}),d.set(e,t))}(e);var v=function(){var e=document.createElement("input");return e.className="htCheckboxRendererInput",e.type="checkbox",e.setAttribute("autocomplete","off"),e.setAttribute("tabindex","-1"),e.cloneNode(!1)}(),y=_.label,b=!1;if(void 0===_.checkedTemplate&&(_.checkedTemplate=!0),void 0===_.uncheckedTemplate&&(_.uncheckedTemplate=!1),(0,i.empty)(t),g===_.checkedTemplate||(0,r.equalsIgnoreCase)(g,_.checkedTemplate)?v.checked=!0:g===_.uncheckedTemplate||(0,r.equalsIgnoreCase)(g,_.uncheckedTemplate)?v.checked=!1:null===g?(0,i.addClass)(v,"noValue"):(v.style.display="none",(0,i.addClass)(v,h),b=!0),v.setAttribute("data-row",n),v.setAttribute("data-col",p),!b&&y){var w="";y.value?w="function"==typeof y.value?y.value.call(this,n,p,m,g):y.value:y.property&&(w=e.getDataAtRowProp(n,y.property));var k=function(e){var t=document.createElement("label");return t.className="htCheckboxRendererLabel",t.appendChild(document.createTextNode(e)),t.cloneNode(!0)}(w);"before"===y.position?k.appendChild(v):k.insertBefore(v,k.firstChild),v=k}function M(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.getSelectedRangeLast();if(n){for(var i=n.getTopLeftCorner(),r=i.row,o=i.col,a=n.getBottomRightCorner(),s=a.row,l=a.col,c=[],u=r;u<=s;u+=1)for(var d=o;d<=l;d+=1){var h=e.getCellMeta(u,d);if("checkbox"!==h.type)return;if(!0!==h.readOnly){void 0===h.checkedTemplate&&(h.checkedTemplate=!0),void 0===h.uncheckedTemplate&&(h.uncheckedTemplate=!1);var f=e.getDataAtCell(u,d);!1===t?[h.checkedTemplate,h.checkedTemplate.toString()].includes(f)?c.push([u,d,h.uncheckedTemplate]):[h.uncheckedTemplate,h.uncheckedTemplate.toString(),null,void 0].includes(f)&&c.push([u,d,h.checkedTemplate]):c.push([u,d,h.uncheckedTemplate])}}c.length>0&&e.setDataAtCell(c)}}t.appendChild(v),b&&t.appendChild(document.createTextNode("#bad-value#")),u.has(e)||(u.set(e,!0),e.addHook("beforeKeyDown",function(t){var n=(0,s.partial)(a.isKey,t.keyCode);n("SPACE|ENTER|DELETE|BACKSPACE")&&!(0,l.isImmediatePropagationStopped)(t)&&function(t){var n=e.getSelectedRangeLast();if(n)for(var i=n.getTopLeftCorner(),r=n.getBottomRightCorner(),o=i.row;o<=r.row;o++)for(var a=i.col;a<=r.col;a++){var s=e.getCellMeta(o,a);if("checkbox"!==s.type)return;var l=e.getCell(o,a);if(null==l)t(o,a,s);else{var c=l.querySelectorAll("input[type=checkbox]");c.length>0&&!s.readOnly&&t(c)}}}(function(){(0,l.stopImmediatePropagation)(t),t.preventDefault()}),n("SPACE|ENTER")&&M(),n("DELETE|BACKSPACE")&&M(!0)}))}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(0),r=n(13);t.default=function(e,t,n,o,a,s,l){(0,r.getRenderer)("base").apply(this,arguments),null!==s&&void 0!==s||(s=""),(0,i.fastInnerHTML)(t,s)}},function(e,t,n){"use strict";t.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(247)),r=n(13),o=n(5);t.default=function(e,t,n,a,s,l,c){if((0,o.isNumeric)(l)){var u=c.numericFormat,d=u&&u.culture,h=u&&u.pattern,f=c.className||"",p=f.length?f.split(" "):[];void 0!==d&&i.default.culture(d),l=(0,i.default)(l).format(h||"0"),p.indexOf("htLeft")<0&&p.indexOf("htCenter")<0&&p.indexOf("htRight")<0&&p.indexOf("htJustify")<0&&p.push("htRight"),p.indexOf("htNumeric")<0&&p.push("htNumeric"),c.className=p.join(" ")}(0,r.getRenderer)("text")(e,t,n,a,s,l,c)}},function(e,n){e.exports=t},function(e,t,n){"use strict";t.__esModule=!0;var i=n(0),r=n(13),o=n(5);t.default=function(e,t,n,a,s,l,c){(0,r.getRenderer)("text").apply(this,arguments),l=t.innerHTML;var u=c.hashLength||l.length,d=c.hashSymbol||"*",h="";(0,o.rangeEach)(u-1,function(){h+=d}),(0,i.fastInnerHTML)(t,h)}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(0),r=n(16),o=n(13);t.default=function(e,t,n,a,s,l,c){(0,o.getRenderer)("base").apply(this,arguments),!l&&c.placeholder&&(l=c.placeholder);var u=(0,r.stringify)(l);if(e.getSettings().trimWhitespace||(u=u.replace(/ /g,String.fromCharCode(160))),c.rendererTemplate){(0,i.empty)(t);var d=document.createElement("TEMPLATE");d.setAttribute("bind","{{}}"),d.innerHTML=c.rendererTemplate,HTMLTemplateElement.decorate(d),d.model=e.getSourceDataAtRow(n),t.appendChild(d)}else(0,i.fastInnerText)(t,u)}},function(e,t,n){"use strict";function i(e,t){var n=e;return function(e){for(var i=!1,r=0,o=e.length;r<o;r++)if(n===e[r]){i=!0;break}t(i)}}t.__esModule=!0,t.default=function(e,t){null==e&&(e="");if(this.allowEmpty&&""===e)return void t(!0);this.strict&&this.source?"function"==typeof this.source?this.source(e,i(e,t)):i(e,t)(this.source):t(!0)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=!0,r=(0,o.getEditorInstance)("date",this.instance);null==e&&(e="");var s=(0,i.default)(new Date(e)).isValid()||(0,i.default)(e,r.defaultDateFormat).isValid(),l=(0,i.default)(e,this.dateFormat||r.defaultDateFormat,!0).isValid();this.allowEmpty&&""===e&&(s=!0,l=!0);s||(n=!1);!s&&l&&(n=!0);if(s&&!l)if(!0===this.correctFormat){var c=a(e,this.dateFormat),u=this.instance.runHooks("unmodifyRow",this.row),d=this.instance.runHooks("unmodifyCol",this.col);this.instance.setDataAtCell(u,d,c,"dateValidator"),n=!0}else n=!1;t(n)},t.correctFormat=a;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(55)),r=n(190),o=n(17);function a(e,t){var n=(0,i.default)((0,r.getNormalizedDate)(e)),o=(0,i.default)(e,t),a=e.search(/[A-z]/g)>-1;return(n.isValid()&&n.format("x")===o.format("x")||!o.isValid()||a?n:o).format(t)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){null==e&&(e="");this.allowEmpty&&""===e?t(!0):t(""!==e&&/^-?\d*(\.|,)?\d*$/.test(e))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=!0,o=this.timeFormat||"h:mm:ss a";null===e&&(e="");e=/^\d{3,}$/.test(e)?parseInt(e,10):e;var a=/^\d{1,2}$/.test(e);a&&(e+=":00");var s=(0,i.default)(e,r,!0).isValid()?(0,i.default)(e):(0,i.default)(e,o),l=s.isValid(),c=(0,i.default)(e,o,!0).isValid()&&!a;this.allowEmpty&&""===e&&(l=!0,c=!0);l||(n=!1);!l&&c&&(n=!0);if(l&&!c)if(!0===this.correctFormat){var u=s.format(o),d=this.instance.runHooks("unmodifyRow",this.row),h=this.instance.runHooks("unmodifyCol",this.col);this.instance.setDataAtCell(d,h,u,"timeValidator"),n=!0}else n=!1;t(n)};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(55));var r=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"]},function(e,t,n){"use strict";t.__esModule=!0;var i=n(17),r=n(13),o=n(28);t.default={editor:(0,i.getEditor)("autocomplete"),renderer:(0,r.getRenderer)("autocomplete"),validator:(0,o.getValidator)("autocomplete")}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(17),r=n(13);t.default={editor:(0,i.getEditor)("checkbox"),renderer:(0,r.getRenderer)("checkbox")}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(17),r=n(13),o=n(28);t.default={editor:(0,i.getEditor)("date"),renderer:(0,r.getRenderer)("autocomplete"),validator:(0,o.getValidator)("date")}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(17),r=n(13),o=n(28);t.default={editor:(0,i.getEditor)("dropdown"),renderer:(0,r.getRenderer)("autocomplete"),validator:(0,o.getValidator)("autocomplete")}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(17),r=n(13);t.default={editor:(0,i.getEditor)("handsontable"),renderer:(0,r.getRenderer)("autocomplete")}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(17),r=n(13),o=n(28);t.default={editor:(0,i.getEditor)("numeric"),renderer:(0,r.getRenderer)("numeric"),validator:(0,o.getValidator)("numeric"),dataType:"number"}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(17),r=n(13);n(28);t.default={editor:(0,i.getEditor)("password"),renderer:(0,r.getRenderer)("password"),copyable:!1}},function(e,t,n){"use strict";t.__esModule=!0;n(27);var i=n(17),r=n(13);t.default={editor:(0,i.getEditor)("text"),renderer:(0,r.getRenderer)("text")}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(17),r=n(13),o=n(28);t.default={editor:(0,i.getEditor)("text"),renderer:(0,r.getRenderer)("text"),validator:(0,o.getValidator)("time")}},function(e,t,n){"use strict";t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=h(n(191)),o=n(90),a=n(89),s=n(2),l=n(1),c=h(n(264)),u=n(5),d=h(n(265));h(n(15));function h(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){var i=this;this.instance=e,this.priv=t,this.GridSettings=n,this.dataSource=this.instance.getSettings().data,this.cachedLength=null,this.skipCache=!1,this.latestSourceRowsCount=0,this.dataSource&&this.dataSource[0]?this.duckSchema=this.recursiveDuckSchema(this.dataSource[0]):this.duckSchema={},this.createMap(),this.interval=c.default.create(function(){return i.clearLengthCache()},"15fps"),this.instance.addHook("skipLengthCache",function(e){return i.onSkipLengthCache(e)}),this.onSkipLengthCache(500)}f.prototype.DESTINATION_RENDERER=1,f.prototype.DESTINATION_CLIPBOARD_GENERATOR=2,f.prototype.recursiveDuckSchema=function(e){return(0,s.duckSchema)(e)},f.prototype.recursiveDuckColumns=function(e,t,n){var r,o;if(void 0===t&&(t=0,n=""),"object"===(void 0===e?"undefined":i(e))&&!Array.isArray(e))for(o in e)(0,s.hasOwnProperty)(e,o)&&(null===e[o]?(r=n+o,this.colToPropCache.push(r),this.propToColCache.set(r,t),t++):t=this.recursiveDuckColumns(e[o],t,o+"."));return t},f.prototype.createMap=function(){var e=void 0,t=this.getSchema();if(void 0===t)throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");this.colToPropCache=[],this.propToColCache=new d.default;var n=this.instance.getSettings().columns;if(n){var i=this.instance.getSettings().maxCols,r=Math.min(i,n.length),o=0,a=!1,l=(0,s.deepObjectSize)(t);for("function"==typeof n&&(r=l>0?l:this.instance.countSourceCols(),a=!0),e=0;e<r;e++){var c=a?n(e):n[e];if((0,s.isObject)(c)){if(void 0!==c.data){var u=a?o:e;this.colToPropCache[u]=c.data,this.propToColCache.set(c.data,u)}o++}}}else this.recursiveDuckColumns(t)},f.prototype.colToProp=function(e){return e=this.instance.runHooks("modifyCol",e),!isNaN(e)&&this.colToPropCache&&void 0!==this.colToPropCache[e]?this.colToPropCache[e]:e},f.prototype.propToCol=function(e){var t;return t=void 0===this.propToColCache.get(e)?e:this.propToColCache.get(e),t=this.instance.runHooks("unmodifyCol",t)},f.prototype.getSchema=function(){var e=this.instance.getSettings().dataSchema;return e?"function"==typeof e?e():e:this.duckSchema},f.prototype.createRow=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments[2],r=0;if(("number"!=typeof e||e>=this.instance.countSourceRows())&&(e=this.instance.countSourceRows()),!1===this.instance.runHooks("beforeCreateRow",e,n,i))return 0;for(var o=this.instance.getSettings().maxRows,a=this.instance.countCols(),l=function(){var n=null;"array"===t.instance.dataType?t.instance.getSettings().dataSchema?n=(0,s.deepClone)(t.getSchema()):(n=[],(0,u.rangeEach)(a-1,function(){return n.push(null)})):"function"===t.instance.dataType?n=t.instance.getSettings().dataSchema(e):(n={},(0,s.deepExtend)(n,t.getSchema())),e===t.instance.countSourceRows()?t.dataSource.push(n):t.spliceData(e,0,n),r++};r<n&&this.instance.countSourceRows()<o;)l();return this.instance.runHooks("afterCreateRow",e,r,i),this.instance.forceFullRender=!0,r},f.prototype.createCol=function(e,t,n){if(!this.instance.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");var i,r,o=this.instance.countSourceRows(),s=this.dataSource,l=0;t||(t=1),("number"!=typeof e||e>=this.instance.countCols())&&(e=this.instance.countCols()),this.instance.runHooks("beforeCreateCol",e,t,n),r=e;for(var c=this.instance.getSettings().maxCols;l<t&&this.instance.countCols()<c;){if(i=(0,a.columnFactory)(this.GridSettings,this.priv.columnsSettingConflicts),"number"!=typeof e||e>=this.instance.countCols()){if(o>0)for(var u=0;u<o;u++)void 0===s[u]&&(s[u]=[]),s[u].push(null);else s.push([null]);this.priv.columnSettings.push(i)}else{for(var d=0;d<o;d++)s[d].splice(r,0,null);this.priv.columnSettings.splice(r,0,i)}l++,r++}return this.instance.runHooks("afterCreateCol",e,l,n),this.instance.forceFullRender=!0,l},f.prototype.removeRow=function(e,t,n){t||(t=1),"number"!=typeof e&&(e=-t),t=this.instance.runHooks("modifyRemovedAmount",t,e),e=(this.instance.countSourceRows()+e)%this.instance.countSourceRows();var i=this.visualRowsToPhysical(e,t);if(!1!==this.instance.runHooks("beforeRemoveRow",e,t,i,n)){var r,o=this.dataSource;(r=this.filterData(e,t))&&(o.length=0,Array.prototype.push.apply(o,r)),this.instance.runHooks("afterRemoveRow",e,t,i,n),this.instance.forceFullRender=!0}},f.prototype.removeCol=function(e,t,n){if("object"===this.instance.dataType||this.instance.getSettings().columns)throw new Error("cannot remove column with object data source or columns option specified");t||(t=1),"number"!=typeof e&&(e=-t),e=(this.instance.countCols()+e)%this.instance.countCols();var i=this.visualColumnsToPhysical(e,t),r=i.slice(0).sort(function(e,t){return t-e});if(!1!==this.instance.runHooks("beforeRemoveCol",e,t,i,n)){for(var o=!0,a=r.length,s=this.dataSource,l=0;l<a;l++)o&&i[0]!==i[l]-l&&(o=!1);if(o)for(var c=0,u=this.instance.countSourceRows();c<u;c++)s[c].splice(i[0],t);else{for(var d=0,h=this.instance.countSourceRows();d<h;d++)for(var f=0;f<a;f++)s[d].splice(r[f],1);for(var p=0;p<a;p++)this.priv.columnSettings.splice(i[p],1)}this.instance.runHooks("afterRemoveCol",e,t,i,n),this.instance.forceFullRender=!0}},f.prototype.spliceCol=function(e,t,n){var i=arguments.length>=4?[].slice.call(arguments,3):[],r=this.instance.getDataAtCol(e),o=r.slice(t,t+n),a=r.slice(t+n);(0,l.extendArray)(i,a);for(var s=0;s<n;)i.push(null),s++;return(0,l.to2dArray)(i),this.instance.populateFromArray(t,e,i,null,null,"spliceCol"),o},f.prototype.spliceRow=function(e,t,n){var i=arguments.length>=4?[].slice.call(arguments,3):[],r=this.instance.getSourceDataAtRow(e),o=r.slice(t,t+n),a=r.slice(t+n);(0,l.extendArray)(i,a);for(var s=0;s<n;)i.push(null),s++;return this.instance.populateFromArray(e,t,[i],null,null,"spliceRow"),o},f.prototype.spliceData=function(e,t,n){!1!==this.instance.runHooks("beforeDataSplice",e,t,n)&&this.dataSource.splice(e,t,n)},f.prototype.filterData=function(e,t){var n=this.visualRowsToPhysical(e,t);if(!1!==this.instance.runHooks("beforeDataFilter",e,t,n))return this.dataSource.filter(function(e,t){return-1==n.indexOf(t)})},f.prototype.get=function(e,t){e=this.instance.runHooks("modifyRow",e);var n=this.dataSource[e],i=this.instance.runHooks("modifyRowData",e),r=null;if((n=isNaN(i)?i:n)&&n.hasOwnProperty&&(0,s.hasOwnProperty)(n,t))r=n[t];else if("string"==typeof t&&t.indexOf(".")>-1){var o=t.split("."),a=n;if(!a)return null;for(var l=0,c=o.length;l<c;l++)if(void 0===(a=a[o[l]]))return null;r=a}else"function"==typeof t&&(r=t(this.dataSource.slice(e,e+1)[0]));if(this.instance.hasHook("modifyData")){var u=(0,s.createObjectPropListener)(r);this.instance.runHooks("modifyData",e,this.propToCol(t),u,"get"),u.isTouched()&&(r=u.value)}return r};var p=(0,o.cellMethodLookupFactory)("copyable",!1);f.prototype.getCopyable=function(e,t){return p.call(this.instance,e,this.propToCol(t))?this.get(e,t):""},f.prototype.set=function(e,t,n,i){e=this.instance.runHooks("modifyRow",e,i||"datamapGet");var r=this.dataSource[e],o=this.instance.runHooks("modifyRowData",e);if(r=isNaN(o)?o:r,this.instance.hasHook("modifyData")){var a=(0,s.createObjectPropListener)(n);this.instance.runHooks("modifyData",e,this.propToCol(t),a,"set"),a.isTouched()&&(n=a.value)}if(r&&r.hasOwnProperty&&(0,s.hasOwnProperty)(r,t))r[t]=n;else if("string"==typeof t&&t.indexOf(".")>-1){var l,c=t.split("."),u=r,d=0;for(d=0,l=c.length-1;d<l;d++)void 0===u[c[d]]&&(u[c[d]]={}),u=u[c[d]];u[c[d]]=n}else"function"==typeof t?t(this.dataSource.slice(e,e+1)[0],n):r[t]=n},f.prototype.visualRowsToPhysical=function(e,t){for(var n,i=this.instance.countSourceRows(),r=(i+e)%i,o=[],a=t;r<i&&a;)n=this.instance.runHooks("modifyRow",r),o.push(n),a--,r++;return o},f.prototype.visualColumnsToPhysical=function(e,t){for(var n=this.instance.countCols(),i=(n+e)%n,r=[],o=t;i<n&&o;){var a=this.instance.runHooks("modifyCol",i);r.push(a),o--,i++}return r},f.prototype.clear=function(){for(var e=0;e<this.instance.countSourceRows();e++)for(var t=0;t<this.instance.countCols();t++)this.set(e,this.colToProp(t),"")},f.prototype.clearLengthCache=function(){this.cachedLength=null},f.prototype.getLength=function(){var e=this,t=void 0,n=this.instance.getSettings().maxRows;t=n<0||0===n?0:n||1/0;var i=this.instance.countSourceRows();if(this.instance.hasHook("modifyRow")){var r=this.skipCache;this.interval.start(),i!==this.latestSourceRowsCount&&(r=!0),this.latestSourceRowsCount=i,null===this.cachedLength||r?((0,u.rangeEach)(i-1,function(t){null===(t=e.instance.runHooks("modifyRow",t))&&--i}),this.cachedLength=i):i=this.cachedLength}else this.interval.stop();return Math.min(i,t)},f.prototype.getAll=function(){var e={row:0,col:0},t={row:Math.max(this.instance.countSourceRows()-1,0),col:Math.max(this.instance.countCols()-1,0)};return e.row-t.row!=0||this.instance.countSourceRows()?this.getRange(e,t,f.prototype.DESTINATION_RENDERER):[]},f.prototype.getRange=function(e,t,n){var i,r,o,a,s,l=[],c=this.instance.getSettings().maxRows,u=this.instance.getSettings().maxCols;if(0===c||0===u)return[];var d=n===this.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get;for(r=Math.min(Math.max(c-1,0),Math.max(e.row,t.row)),a=Math.min(Math.max(u-1,0),Math.max(e.col,t.col)),i=Math.min(e.row,t.row);i<=r;i++){s=[];var h=this.instance.runHooks("modifyRow",i);for(o=Math.min(e.col,t.col);o<=a&&null!==h;o++)s.push(d.call(this,i,this.colToProp(o)));null!==h&&l.push(s)}return l},f.prototype.getText=function(e,t){return r.default.stringify(this.getRange(e,t,this.DESTINATION_RENDERER))},f.prototype.getCopyableText=function(e,t){return r.default.stringify(this.getRange(e,t,this.DESTINATION_CLIPBOARD_GENERATOR))},f.prototype.onSkipLengthCache=function(e){var t=this;this.skipCache=!0,setTimeout(function(){t.skipCache=!1},e)},f.prototype.destroy=function(){this.interval.stop(),this.interval=null,this.instance=null,this.priv=null,this.GridSettings=null,this.dataSource=null,this.cachedLength=null,this.duckSchema=null},t.default=f},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.parseDelay=a;var r=n(40);var o=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.timer=null,this.func=t,this.delay=a(n),this.stopped=!0,this._then=null,this._callback=function(){return i.__callback()}}return i(e,null,[{key:"create",value:function(t,n){return new e(t,n)}}]),i(e,[{key:"start",value:function(){return this.stopped&&(this._then=Date.now(),this.stopped=!1,this.timer=(0,r.requestAnimationFrame)(this._callback)),this}},{key:"stop",value:function(){return this.stopped||(this.stopped=!0,(0,r.cancelAnimationFrame)(this.timer),this.timer=null),this}},{key:"__callback",value:function(){if(this.timer=(0,r.requestAnimationFrame)(this._callback),this.delay){var e=Date.now(),t=e-this._then;t>this.delay&&(this._then=e-t%this.delay,this.func())}else this.func()}}]),e}();function a(e){return"string"==typeof e&&/fps$/.test(e)&&(e=1e3/parseInt(e.replace("fps","")||0,10)),e}t.default=o},function(e,t,n){"use strict";t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){var e={arrayMap:[],weakMap:new WeakMap};return{get:function(i){return t(i)?e.arrayMap[i]:n(i)?e.weakMap.get(i):void 0},set:function(i,r){if(t(i))e.arrayMap[i]=r;else{if(!n(i))throw new Error("Invalid key type");e.weakMap.set(i,r)}},delete:function(i){t(i)?delete e.arrayMap[i]:n(i)&&e.weakMap.delete(i)}};function t(e){return null!==e&&!function(e){return e!=e}(e)&&("string"==typeof e||"number"==typeof e)}function n(e){return null!==e&&("object"==(void 0===e?"undefined":i(e))||"function"==typeof e)}}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(4),r=n(21),o=n(12),a=n(17),s=function(e){return e&&e.__esModule?e:{default:e}}(n(6)),l=n(53);function c(e,t,n){var c,u,d=this,h=!1,f=!1;function p(e){var i="function"==typeof t.settings.enterMoves?t.settings.enterMoves(event):t.settings.enterMoves;e?n.transformStart(-i.row,-i.col):n.transformStart(i.row,i.col,!0)}function m(a){if(e.isListening()&&(e.runHooks("beforeKeyDown",a),!h&&!(0,o.isImmediatePropagationStopped)(a)&&(t.lastKeyCode=a.keyCode,n.isSelected()))){var s=(a.ctrlKey||a.metaKey)&&!a.altKey;if(!u||u.isWaiting()||(0,r.isMetaKey)(a.keyCode)||(0,r.isCtrlMetaKey)(a.keyCode)||s||d.isEditorOpened()){var c=a.shiftKey?n.setRangeEnd:n.setRangeStart,f=void 0;switch(a.keyCode){case r.KEY_CODES.A:!d.isEditorOpened()&&s&&(e.selectAll(),a.preventDefault(),(0,o.stopPropagation)(a));break;case r.KEY_CODES.ARROW_UP:d.isEditorOpened()&&!u.isWaiting()&&d.closeEditorAndSaveChanges(s),function(e){e?n.transformEnd(-1,0):n.transformStart(-1,0)}(a.shiftKey),a.preventDefault(),(0,o.stopPropagation)(a);break;case r.KEY_CODES.ARROW_DOWN:d.isEditorOpened()&&!u.isWaiting()&&d.closeEditorAndSaveChanges(s),function(e){e?n.transformEnd(1,0):n.transformStart(1,0)}(a.shiftKey),a.preventDefault(),(0,o.stopPropagation)(a);break;case r.KEY_CODES.ARROW_RIGHT:d.isEditorOpened()&&!u.isWaiting()&&d.closeEditorAndSaveChanges(s),function(e){e?n.transformEnd(0,1):n.transformStart(0,1)}(a.shiftKey),a.preventDefault(),(0,o.stopPropagation)(a);break;case r.KEY_CODES.ARROW_LEFT:d.isEditorOpened()&&!u.isWaiting()&&d.closeEditorAndSaveChanges(s),function(e){e?n.transformEnd(0,-1):n.transformStart(0,-1)}(a.shiftKey),a.preventDefault(),(0,o.stopPropagation)(a);break;case r.KEY_CODES.TAB:f="function"==typeof t.settings.tabMoves?t.settings.tabMoves(a):t.settings.tabMoves,a.shiftKey?n.transformStart(-f.row,-f.col):n.transformStart(f.row,f.col,!0),a.preventDefault(),(0,o.stopPropagation)(a);break;case r.KEY_CODES.BACKSPACE:case r.KEY_CODES.DELETE:e.emptySelectedCells(),d.prepareEditor(),a.preventDefault();break;case r.KEY_CODES.F2:d.openEditor(null,a),u&&u.enableFullEditMode(),a.preventDefault();break;case r.KEY_CODES.ENTER:d.isEditorOpened()?(u&&u.state!==l.EditorState.WAITING&&d.closeEditorAndSaveChanges(s),p(a.shiftKey)):e.getSettings().enterBeginsEditing?(d.openEditor(null,a),u&&u.enableFullEditMode()):p(a.shiftKey),a.preventDefault(),(0,o.stopImmediatePropagation)(a);break;case r.KEY_CODES.ESCAPE:d.isEditorOpened()&&d.closeEditorAndRestoreOriginalValue(s),a.preventDefault();break;case r.KEY_CODES.HOME:a.ctrlKey||a.metaKey?c.call(n,new i.CellCoords(0,n.selectedRange.current().from.col)):c.call(n,new i.CellCoords(n.selectedRange.current().from.row,0)),a.preventDefault(),(0,o.stopPropagation)(a);break;case r.KEY_CODES.END:a.ctrlKey||a.metaKey?c.call(n,new i.CellCoords(e.countRows()-1,n.selectedRange.current().from.col)):c.call(n,new i.CellCoords(n.selectedRange.current().from.row,e.countCols()-1)),a.preventDefault(),(0,o.stopPropagation)(a);break;case r.KEY_CODES.PAGE_UP:n.transformStart(-e.countVisibleRows(),0),a.preventDefault(),(0,o.stopPropagation)(a);break;case r.KEY_CODES.PAGE_DOWN:n.transformStart(e.countVisibleRows(),0),a.preventDefault(),(0,o.stopPropagation)(a)}}else d.openEditor("",a)}}c=new s.default(e),this.lockEditor=function(){f=!0},this.unlockEditor=function(){f=!1},this.destroyEditor=function(e){f||this.closeEditor(e)},this.getActiveEditor=function(){return u},this.prepareEditor=function(){var t,n,i,r,o,s,l;f||(u&&u.isWaiting()?this.closeEditor(!1,!1,function(e){e&&d.prepareEditor()}):(t=e.selection.selectedRange.current().highlight.row,n=e.selection.selectedRange.current().highlight.col,i=e.colToProp(n),r=e.getCell(t,n),o=e.getSourceDataAtCell(e.runHooks("modifyRow",t),n),s=e.getCellMeta(t,n),(l=e.getCellEditor(s))?(u=(0,a.getEditorInstance)(l,e)).prepare(t,n,i,r,o,s):u=void 0))},this.isEditorOpened=function(){return u&&u.isOpened()},this.openEditor=function(e,t){u&&!u.cellProperties.readOnly?u.beginEditing(e,t):u&&u.cellProperties.readOnly&&t&&t.keyCode===r.KEY_CODES.ENTER&&p()},this.closeEditor=function(e,t,n){u?u.finishEditing(e,t,n):n&&n(!1)},this.closeEditorAndSaveChanges=function(e){return this.closeEditor(!1,e)},this.closeEditorAndRestoreOriginalValue=function(e){return this.closeEditor(!0,e)},this.destroy=function(){h=!0},e.addHook("afterDocumentKeyDown",m),c.addEventListener(document.documentElement,"keydown",function(t){h||e.runHooks("afterDocumentKeyDown",t)}),e.view.wt.update("onCellDblClick",function(e,t,n){"TD"===n.nodeName&&(d.openEditor(null,e),u&&u.enableFullEditMode())})}var u=new WeakMap;c.getInstance=function(e,t,n,i){var r=u.get(e);return r||(r=new c(e,t,n,i),u.set(e,r)),r},t.default=c},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(0),o=(n(27),c(n(6))),a=n(12),s=c(n(4)),l=n(192);function c(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=this,n=this;this.eventManager=new o.default(e),this.instance=e,this.settings=e.getSettings(),this.selectionMouseDown=!1;var i=e.rootElement.getAttribute("style");i&&e.rootElement.setAttribute("data-originalstyle",i),(0,r.addClass)(e.rootElement,"handsontable");var c,u=document.createElement("TABLE");(0,r.addClass)(u,"htCore"),e.getSettings().tableClassName&&(0,r.addClass)(u,e.getSettings().tableClassName),this.THEAD=document.createElement("THEAD"),u.appendChild(this.THEAD),this.TBODY=document.createElement("TBODY"),u.appendChild(this.TBODY),e.table=u,e.container.insertBefore(u,e.container.firstChild),this.eventManager.addEventListener(e.rootElement,"mousedown",function(e){this.selectionMouseDown=!0,n.isTextSelectionAllowed(e.target)||(d(),e.preventDefault(),window.focus())}),this.eventManager.addEventListener(e.rootElement,"mouseup",function(e){this.selectionMouseDown=!1}),this.eventManager.addEventListener(e.rootElement,"mousemove",function(e){this.selectionMouseDown&&!n.isTextSelectionAllowed(e.target)&&(d(),e.preventDefault())}),this.eventManager.addEventListener(document.documentElement,"keyup",function(t){e.selection.isInProgress()&&!t.shiftKey&&e.selection.finish()}),this.isMouseDown=function(){return c},this.eventManager.addEventListener(document.documentElement,"mouseup",function(t){e.selection.isInProgress()&&(0,a.isLeftClick)(t)&&e.selection.finish(),c=!1,((0,r.isOutsideInput)(document.activeElement)||!e.selection.isSelected()&&!(0,a.isRightClick)(t))&&e.unlisten()}),this.eventManager.addEventListener(document.documentElement,"mousedown",function(t){var i=t.target,o=t.target,a=t.x||t.clientX,s=t.y||t.clientY;if(!c&&e.rootElement){if(o===e.view.wt.wtTable.holder){var l=(0,r.getScrollbarWidth)();if(document.elementFromPoint(a+l,s)!==e.view.wt.wtTable.holder||document.elementFromPoint(a,s+l)!==e.view.wt.wtTable.holder)return}else for(;o!==document.documentElement;){if(null===o){if(t.isTargetWebComponent)break;return}if(o===e.rootElement)return;o=o.parentNode}("function"==typeof n.settings.outsideClickDeselects?n.settings.outsideClickDeselects(i):n.settings.outsideClickDeselects)?e.deselectCell():e.destroyEditor()}}),this.eventManager.addEventListener(u,"selectstart",function(e){n.settings.fragmentSelection||(0,r.isInput)(e.target)||e.preventDefault()});var d=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},h={debug:function(){return n.settings.debug},externalRowCalculator:this.instance.getPlugin("autoRowSize")&&this.instance.getPlugin("autoRowSize").isEnabled(),table:u,preventOverflow:function(){return t.settings.preventOverflow},stretchH:function(){return n.settings.stretchH},data:e.getDataAtCell,totalRows:function(){return e.countRows()},totalColumns:function(){return e.countCols()},fixedColumnsLeft:function(){return n.settings.fixedColumnsLeft},fixedRowsTop:function(){return n.settings.fixedRowsTop},fixedRowsBottom:function(){return n.settings.fixedRowsBottom},minSpareRows:function(){return n.settings.minSpareRows},renderAllRows:n.settings.renderAllRows,rowHeaders:function(){var t=[];return e.hasRowHeaders()&&t.push(function(e,t){n.appendRowHeader(e,t)}),e.runHooks("afterGetRowHeaderRenderers",t),t},columnHeaders:function(){var t=[];return e.hasColHeaders()&&t.push(function(e,t){n.appendColHeader(e,t)}),e.runHooks("afterGetColumnHeaderRenderers",t),t},columnWidth:e.getColWidth,rowHeight:e.getRowHeight,cellRenderer:function(e,t,i){var r=n.instance.getCellMeta(e,t),o=n.instance.colToProp(t),a=n.instance.getDataAtRowProp(e,o);n.instance.hasHook("beforeValueRender")&&(a=n.instance.runHooks("beforeValueRender",a,r)),n.instance.runHooks("beforeRenderer",i,e,t,o,a,r),n.instance.getCellRenderer(r)(n.instance,i,e,t,o,a,r),n.instance.runHooks("afterRenderer",i,e,t,o,a,r)},selections:n.instance.selection.highlight,hideBorderOnMouseDownOver:function(){return n.settings.fragmentSelection},onCellMouseDown:function(t,i,r,o){var s={row:!1,column:!1,cell:!1};e.listen(),n.activeWt=o,c=!0,e.runHooks("beforeOnCellMouseDown",t,i,r,s),(0,a.isImmediatePropagationStopped)(t)||((0,l.handleMouseEvent)(t,{coords:i,selection:e.selection,controller:s}),e.runHooks("afterOnCellMouseDown",t,i,r),n.activeWt=n.wt)},onCellMouseOut:function(t,i,r,o){n.activeWt=o,e.runHooks("beforeOnCellMouseOut",t,i,r),(0,a.isImmediatePropagationStopped)(t)||(e.runHooks("afterOnCellMouseOut",t,i,r),n.activeWt=n.wt)},onCellMouseOver:function(t,i,r,o){var s={row:!1,column:!1,cell:!1};n.activeWt=o,e.runHooks("beforeOnCellMouseOver",t,i,r,s),(0,a.isImmediatePropagationStopped)(t)||(c&&(0,l.handleMouseEvent)(t,{coords:i,selection:e.selection,controller:s}),e.runHooks("afterOnCellMouseOver",t,i,r),n.activeWt=n.wt)},onCellMouseUp:function(t,i,r,o){n.activeWt=o,e.runHooks("beforeOnCellMouseUp",t,i,r),e.runHooks("afterOnCellMouseUp",t,i,r),n.activeWt=n.wt},onCellCornerMouseDown:function(t){t.preventDefault(),e.runHooks("afterOnCellCornerMouseDown",t)},onCellCornerDblClick:function(t){t.preventDefault(),e.runHooks("afterOnCellCornerDblClick",t)},beforeDraw:function(e,t){n.beforeRender(e,t)},onDraw:function(e){n.onDraw(e)},onScrollVertically:function(){e.runHooks("afterScrollVertically")},onScrollHorizontally:function(){e.runHooks("afterScrollHorizontally")},onBeforeRemoveCellClassNames:function(){return e.runHooks("beforeRemoveCellClassNames")},onAfterDrawSelection:function(t,n,i,r){return e.runHooks("afterDrawSelection",t,n,i,r)},onBeforeDrawBorders:function(t,n){e.runHooks("beforeDrawBorders",t,n)},onBeforeTouchScroll:function(){e.runHooks("beforeTouchScroll")},onAfterMomentumScroll:function(){e.runHooks("afterMomentumScroll")},onBeforeStretchingColumnWidth:function(t,n){return e.runHooks("beforeStretchingColumnWidth",t,n)},onModifyRowHeaderWidth:function(t){return e.runHooks("modifyRowHeaderWidth",t)},onModifyGetCellCoords:function(t,n,i){return e.runHooks("modifyGetCellCoords",t,n,i)},viewportRowCalculatorOverride:function(t){var i=e.countRows(),r=n.settings.viewportRowRenderingOffset;if("auto"===r&&n.settings.fixedRowsTop&&(r=10),"number"==typeof r&&(t.startRow=Math.max(t.startRow-r,0),t.endRow=Math.min(t.endRow+r,i-1)),"auto"===r){var o=t.startRow+t.endRow-t.startRow,a=Math.ceil(o/i*12);t.startRow=Math.max(t.startRow-a,0),t.endRow=Math.min(t.endRow+a,i-1)}e.runHooks("afterViewportRowCalculatorOverride",t)},viewportColumnCalculatorOverride:function(t){var i=e.countCols(),r=n.settings.viewportColumnRenderingOffset;if("auto"===r&&n.settings.fixedColumnsLeft&&(r=10),"number"==typeof r&&(t.startColumn=Math.max(t.startColumn-r,0),t.endColumn=Math.min(t.endColumn+r,i-1)),"auto"===r){var o=t.startColumn+t.endColumn-t.startColumn,a=Math.ceil(o/i*12);t.startRow=Math.max(t.startColumn-a,0),t.endColumn=Math.min(t.endColumn+a,i-1)}e.runHooks("afterViewportColumnCalculatorOverride",t)},rowHeaderWidth:function(){return n.settings.rowHeaderWidth},columnHeaderHeight:function(){var t=e.runHooks("modifyColumnHeaderHeight");return n.settings.columnHeaderHeight||t}};e.runHooks("beforeInitWalkontable",h),this.wt=new s.default(h),this.activeWt=this.wt,this.eventManager.addEventListener(n.wt.wtTable.spreader,"mousedown",function(e){e.target===n.wt.wtTable.spreader&&3===e.which&&(0,a.stopPropagation)(e)}),this.eventManager.addEventListener(n.wt.wtTable.spreader,"contextmenu",function(e){e.target===n.wt.wtTable.spreader&&3===e.which&&(0,a.stopPropagation)(e)}),this.eventManager.addEventListener(document.documentElement,"click",function(){n.settings.observeDOMVisibility&&n.wt.drawInterrupted&&(n.instance.forceFullRender=!0,n.render())})}u.prototype.isTextSelectionAllowed=function(e){if((0,r.isInput)(e))return!0;var t=(0,r.isChildOf)(e,this.instance.view.wt.wtTable.spreader);return!(!0!==this.settings.fragmentSelection||!t)||(!("cell"!==this.settings.fragmentSelection||!this.isSelectedOnlyCell()||!t)||!(this.settings.fragmentSelection||!this.isCellEdited()||!this.isSelectedOnlyCell()))},u.prototype.isSelectedOnlyCell=function(){var e=this.instance.getSelectedLast()||[],t=i(e,4),n=t[0],r=t[1],o=t[2],a=t[3];return void 0!==n&&n===o&&r===a},u.prototype.isCellEdited=function(){var e=this.instance.getActiveEditor();return e&&e.isOpened()},u.prototype.beforeRender=function(e,t){e&&this.instance.runHooks("beforeRender",this.instance.forceFullRender,t)},u.prototype.onDraw=function(e){e&&this.instance.runHooks("afterRender",this.instance.forceFullRender)},u.prototype.render=function(){this.wt.draw(!this.instance.forceFullRender),this.instance.forceFullRender=!1,this.instance.renderCall=!1},u.prototype.getCellAtCoords=function(e,t){var n=this.wt.getCell(e,t);return n<0?null:n},u.prototype.scrollViewport=function(e){this.wt.scrollViewport(e)},u.prototype.appendRowHeader=function(e,t){if(t.firstChild){var n=t.firstChild;if(!(0,r.hasClass)(n,"relative"))return(0,r.empty)(t),void this.appendRowHeader(e,t);this.updateCellHeader(n.querySelector(".rowHeader"),e,this.instance.getRowHeader)}else{var i=document.createElement("div"),o=document.createElement("span");i.className="relative",o.className="rowHeader",this.updateCellHeader(o,e,this.instance.getRowHeader),i.appendChild(o),t.appendChild(i)}this.instance.runHooks("afterGetRowHeader",e,t)},u.prototype.appendColHeader=function(e,t){if(t.firstChild){var n=t.firstChild;(0,r.hasClass)(n,"relative")?this.updateCellHeader(n.querySelector(".colHeader"),e,this.instance.getColHeader):((0,r.empty)(t),this.appendColHeader(e,t))}else{var i=document.createElement("div"),o=document.createElement("span");i.className="relative",o.className="colHeader",this.updateCellHeader(o,e,this.instance.getColHeader),i.appendChild(o),t.appendChild(i)}this.instance.runHooks("afterGetColHeader",e,t)},u.prototype.updateCellHeader=function(e,t,n){var i=t,o=this.wt.wtOverlays.getParentOverlay(e)||this.wt;e.parentNode&&((0,r.hasClass)(e,"colHeader")?i=o.wtTable.columnFilter.sourceToRendered(t):(0,r.hasClass)(e,"rowHeader")&&(i=o.wtTable.rowFilter.sourceToRendered(t))),i>-1?(0,r.fastInnerHTML)(e,n(t)):((0,r.fastInnerText)(e,String.fromCharCode(160)),(0,r.addClass)(e,"cornerHeader"))},u.prototype.maximumVisibleElementWidth=function(e){var t=this.wt.wtViewport.getWorkspaceWidth()-e;return t>0?t:0},u.prototype.maximumVisibleElementHeight=function(e){var t=this.wt.wtViewport.getWorkspaceHeight()-e;return t>0?t:0},u.prototype.mainViewIsActive=function(){return this.wt===this.activeWt},u.prototype.destroy=function(){this.wt.destroy(),this.eventManager.destroy()},t.default=u},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(2),o=n(1),a=n(5);var s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hot=t,this.data=n,this.dataType="array",this.colToProp=function(){},this.propToCol=function(){}}return i(e,[{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.data;return e&&(t=this.getByRange({row:0,col:0},{row:Math.max(this.countRows()-1,0),col:Math.max(this.countColumns()-1,0)},!0)),t}},{key:"setData",value:function(e){this.data=e}},{key:"getAtColumn",value:function(e){var t=this,n=[];return(0,o.arrayEach)(this.data,function(i){var o=t.colToProp(e);i="string"==typeof o?(0,r.getProperty)(i,o):i[o],n.push(i)}),n}},{key:"getAtRow",value:function(e){return this.data[e]}},{key:"getAtCell",value:function(e,t){var n=null,i=this.hot.runHooks("modifyRowData",e),o=isNaN(i)?i:this.data[e];if(o){var a=this.colToProp(t);n="string"==typeof a?(0,r.getProperty)(o,a):"function"==typeof a?a(this.data.slice(e,e+1)[0]):o[a]}return n}},{key:"getByRange",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Math.min(e.row,t.row),o=Math.min(e.col,t.col),s=Math.max(e.row,t.row),l=Math.max(e.col,t.col),c=[];return(0,a.rangeEach)(r,s,function(e){var t=n.getAtRow(e),r=void 0;"array"===n.dataType?r=t.slice(o,l+1):"object"===n.dataType&&(r=i?[]:{},(0,a.rangeEach)(o,l,function(e){var o=n.colToProp(e);i?r.push(t[o]):r[o]=t[o]})),c.push(r)}),c}},{key:"countRows",value:function(){return Array.isArray(this.data)?this.data.length:0}},{key:"countColumns",value:function(){var e=0;return Array.isArray(this.data)&&("array"===this.dataType?e=this.data[0].length:"object"===this.dataType&&(e=Object.keys(this.data[0]).length)),e}},{key:"destroy",value:function(){this.data=null,this.hot=null}}]),e}();t.default=s},function(e,t,n){"use strict";var i;t.__esModule=!0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7));function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/**
                                                                                                                                                                                                                   * @preserve
                                                                                                                                                                                                                   * Authors: Handsoncode
                                                                                                                                                                                                                   * Last updated: Nov 15, 2017
                                                                                                                                                                                                                   *
                                                                                                                                                                                                                   * Description: Definition file for English - United States language-country.
                                                                                                                                                                                                                   */var a=(o(i={languageCode:"en-US"},r.CONTEXTMENU_ITEMS_ROW_ABOVE,"Insert row above"),o(i,r.CONTEXTMENU_ITEMS_ROW_BELOW,"Insert row below"),o(i,r.CONTEXTMENU_ITEMS_INSERT_LEFT,"Insert column left"),o(i,r.CONTEXTMENU_ITEMS_INSERT_RIGHT,"Insert column right"),o(i,r.CONTEXTMENU_ITEMS_REMOVE_ROW,["Remove row","Remove rows"]),o(i,r.CONTEXTMENU_ITEMS_REMOVE_COLUMN,["Remove column","Remove columns"]),o(i,r.CONTEXTMENU_ITEMS_UNDO,"Undo"),o(i,r.CONTEXTMENU_ITEMS_REDO,"Redo"),o(i,r.CONTEXTMENU_ITEMS_READ_ONLY,"Read only"),o(i,r.CONTEXTMENU_ITEMS_CLEAR_COLUMN,"Clear column"),o(i,r.CONTEXTMENU_ITEMS_ALIGNMENT,"Alignment"),o(i,r.CONTEXTMENU_ITEMS_ALIGNMENT_LEFT,"Left"),o(i,r.CONTEXTMENU_ITEMS_ALIGNMENT_CENTER,"Center"),o(i,r.CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT,"Right"),o(i,r.CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY,"Justify"),o(i,r.CONTEXTMENU_ITEMS_ALIGNMENT_TOP,"Top"),o(i,r.CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE,"Middle"),o(i,r.CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM,"Bottom"),o(i,r.CONTEXTMENU_ITEMS_FREEZE_COLUMN,"Freeze column"),o(i,r.CONTEXTMENU_ITEMS_UNFREEZE_COLUMN,"Unfreeze column"),o(i,r.CONTEXTMENU_ITEMS_BORDERS,"Borders"),o(i,r.CONTEXTMENU_ITEMS_BORDERS_TOP,"Top"),o(i,r.CONTEXTMENU_ITEMS_BORDERS_RIGHT,"Right"),o(i,r.CONTEXTMENU_ITEMS_BORDERS_BOTTOM,"Bottom"),o(i,r.CONTEXTMENU_ITEMS_BORDERS_LEFT,"Left"),o(i,r.CONTEXTMENU_ITEMS_REMOVE_BORDERS,"Remove border(s)"),o(i,r.CONTEXTMENU_ITEMS_ADD_COMMENT,"Add comment"),o(i,r.CONTEXTMENU_ITEMS_EDIT_COMMENT,"Edit comment"),o(i,r.CONTEXTMENU_ITEMS_REMOVE_COMMENT,"Delete comment"),o(i,r.CONTEXTMENU_ITEMS_READ_ONLY_COMMENT,"Read-only comment"),o(i,r.CONTEXTMENU_ITEMS_MERGE_CELLS,"Merge cells"),o(i,r.CONTEXTMENU_ITEMS_UNMERGE_CELLS,"Unmerge cells"),o(i,r.CONTEXTMENU_ITEMS_COPY,"Copy"),o(i,r.CONTEXTMENU_ITEMS_CUT,"Cut"),o(i,r.CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD,"Insert child row"),o(i,r.CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD,"Detach from parent"),o(i,r.CONTEXTMENU_ITEMS_HIDE_COLUMN,["Hide column","Hide columns"]),o(i,r.CONTEXTMENU_ITEMS_SHOW_COLUMN,["Show column","Show columns"]),o(i,r.CONTEXTMENU_ITEMS_HIDE_ROW,["Hide row","Hide rows"]),o(i,r.CONTEXTMENU_ITEMS_SHOW_ROW,["Show row","Show rows"]),o(i,r.FILTERS_CONDITIONS_NONE,"None"),o(i,r.FILTERS_CONDITIONS_EMPTY,"Is empty"),o(i,r.FILTERS_CONDITIONS_NOT_EMPTY,"Is not empty"),o(i,r.FILTERS_CONDITIONS_EQUAL,"Is equal to"),o(i,r.FILTERS_CONDITIONS_NOT_EQUAL,"Is not equal to"),o(i,r.FILTERS_CONDITIONS_BEGINS_WITH,"Begins with"),o(i,r.FILTERS_CONDITIONS_ENDS_WITH,"Ends with"),o(i,r.FILTERS_CONDITIONS_CONTAINS,"Contains"),o(i,r.FILTERS_CONDITIONS_NOT_CONTAIN,"Does not contain"),o(i,r.FILTERS_CONDITIONS_GREATER_THAN,"Greater than"),o(i,r.FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL,"Greater than or equal to"),o(i,r.FILTERS_CONDITIONS_LESS_THAN,"Less than"),o(i,r.FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL,"Less than or equal to"),o(i,r.FILTERS_CONDITIONS_BETWEEN,"Is between"),o(i,r.FILTERS_CONDITIONS_NOT_BETWEEN,"Is not between"),o(i,r.FILTERS_CONDITIONS_AFTER,"After"),o(i,r.FILTERS_CONDITIONS_BEFORE,"Before"),o(i,r.FILTERS_CONDITIONS_TODAY,"Today"),o(i,r.FILTERS_CONDITIONS_TOMORROW,"Tomorrow"),o(i,r.FILTERS_CONDITIONS_YESTERDAY,"Yesterday"),o(i,r.FILTERS_VALUES_BLANK_CELLS,"Blank cells"),o(i,r.FILTERS_DIVS_FILTER_BY_CONDITION,"Filter by condition"),o(i,r.FILTERS_DIVS_FILTER_BY_VALUE,"Filter by value"),o(i,r.FILTERS_LABELS_CONJUNCTION,"And"),o(i,r.FILTERS_LABELS_DISJUNCTION,"Or"),o(i,r.FILTERS_BUTTONS_SELECT_ALL,"Select all"),o(i,r.FILTERS_BUTTONS_CLEAR,"Clear"),o(i,r.FILTERS_BUTTONS_OK,"OK"),o(i,r.FILTERS_BUTTONS_CANCEL,"Cancel"),o(i,r.FILTERS_BUTTONS_PLACEHOLDER_SEARCH,"Search"),o(i,r.FILTERS_BUTTONS_PLACEHOLDER_VALUE,"Value"),o(i,r.FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE,"Second value"),i);t.default=a},function(e,t,n){"use strict";t.__esModule=!0,t.getPhraseFormatters=t.registerPhraseFormatter=void 0,t.register=c,t.getAll=u;var i=o(n(39)),r=o(n(271));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,i.default)("phraseFormatters"),s=a.register,l=a.getValues;function c(e,t){s(e,t)}function u(){return l()}t.registerPhraseFormatter=c,t.getPhraseFormatters=u,c("pluralize",r.default)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(Array.isArray(e)&&Number.isInteger(t))return e[t];return e}},function(e,t,n){"use strict";t.__esModule=!0,t.Selection=t.Highlight=t.handleMouseEvent=void 0;var i=a(n(199)),r=a(n(279)),o=n(192);function a(e){return e&&e.__esModule?e:{default:e}}t.handleMouseEvent=o.handleMouseEvent,t.Highlight=i.default,t.Selection=r.default},function(e,t,n){"use strict";t.__esModule=!0,t.createHighlight=void 0;var i=c(n(39)),r=c(n(274)),o=c(n(275)),a=c(n(276)),s=c(n(277)),l=c(n(278));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,i.default)("highlight/types"),d=u.register,h=u.getItem;d("active-header",r.default),d("area",o.default),d("cell",a.default),d("fill",s.default),d("header",l.default),t.createHighlight=function(e,t){return h(e)(t)}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(4);t.default=function(e){var t=e.activeHeaderClassName;return new i.Selection({highlightHeaderClassName:t})}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(4);t.default=function(e){var t=e.layerLevel,n=e.areaCornerVisible;return new i.Selection({className:"area",markIntersections:!0,layerLevel:Math.min(t,7),border:{width:1,color:"#4b89ff",cornerVisible:n}})}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(4);t.default=function(e){var t=e.cellCornerVisible;return new i.Selection({className:"current",border:{width:2,color:"#4b89ff",cornerVisible:t}})}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(4);t.default=function(){return new i.Selection({className:"fill",border:{width:1,color:"#ff0000"}})}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(4);t.default=function(e){var t=e.headerClassName,n=e.rowClassName,r=e.columnClassName;return new i.Selection({className:"highlight",highlightHeaderClassName:t,highlightRowClassName:n,highlightColumnClassName:r})}},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["Unsupported format of the selection ranges was passed. To select cells pass \n        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd, columnEnd/columnPropEnd]]) \n        or as an array of CellRange objects."],["Unsupported format of the selection ranges was passed. To select cells pass\\x20\n        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd, columnEnd/columnPropEnd]])\\x20\n        or as an array of CellRange objects."]),a=n(199),s=v(a),l=v(n(280)),c=n(4),u=n(198),d=n(2),h=n(16),f=n(1),p=v(n(58)),m=v(n(281)),g=n(91),_=n(41);function v(e){return e&&e.__esModule?e:{default:e}}var y=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.settings=t,this.tableProps=n,this.inProgress=!1,this.selectedByCorner=!1,this.selectedByRowHeader=new Set,this.selectedByColumnHeader=new Set,this.selectedRange=new l.default,this.highlight=new s.default({headerClassName:t.currentHeaderClassName,activeHeaderClassName:t.activeHeaderClassName,rowClassName:t.currentRowClassName,columnClassName:t.currentColClassName,disableHighlight:this.settings.disableVisualSelection,cellCornerVisible:function(){return i.isCellCornerVisible.apply(i,arguments)},areaCornerVisible:function(){return i.isAreaCornerVisible.apply(i,arguments)}}),this.transformation=new m.default(this.selectedRange,{countRows:function(){return i.tableProps.countRows()},countCols:function(){return i.tableProps.countCols()},fixedRowsBottom:function(){return t.fixedRowsBottom},minSpareRows:function(){return t.minSpareRows},minSpareCols:function(){return t.minSpareCols},autoWrapRow:function(){return t.autoWrapRow},autoWrapCol:function(){return t.autoWrapCol}}),this.transformation.addLocalHook("beforeTransformStart",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.runLocalHooks.apply(i,["beforeModifyTransformStart"].concat(t))}),this.transformation.addLocalHook("afterTransformStart",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.runLocalHooks.apply(i,["afterModifyTransformStart"].concat(t))}),this.transformation.addLocalHook("beforeTransformEnd",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.runLocalHooks.apply(i,["beforeModifyTransformEnd"].concat(t))}),this.transformation.addLocalHook("afterTransformEnd",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.runLocalHooks.apply(i,["afterModifyTransformEnd"].concat(t))}),this.transformation.addLocalHook("insertRowRequire",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.runLocalHooks.apply(i,["insertRowRequire"].concat(t))}),this.transformation.addLocalHook("insertColRequire",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.runLocalHooks.apply(i,["insertColRequire"].concat(t))})}return r(e,[{key:"getSelectedRange",value:function(){return this.selectedRange}},{key:"begin",value:function(){this.inProgress=!0}},{key:"finish",value:function(){this.runLocalHooks("afterSelectionFinished",Array.from(this.selectedRange)),this.inProgress=!1}},{key:"isInProgress",value:function(){return this.inProgress}},{key:"setRangeStart",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="multiple"===this.settings.selectionMode,r=(0,h.isUndefined)(t)?(0,u.isPressedCtrlKey)():t,o=e.row<0,a=e.col<0,s=o&&a;o&&(e.row=0),a&&(e.col=0),this.selectedByCorner=s,this.runLocalHooks("beforeSetRangeStart"+(n?"Only":""),e),(!i||i&&!r&&(0,h.isUndefined)(t))&&this.selectedRange.clear(),this.selectedRange.add(e),0===this.getLayerLevel()&&(this.selectedByRowHeader.clear(),this.selectedByColumnHeader.clear()),!s&&a&&this.selectedByRowHeader.add(this.getLayerLevel()),!s&&o&&this.selectedByColumnHeader.add(this.getLayerLevel()),n||this.setRangeEnd(e)}},{key:"setRangeStartOnly",value:function(e,t){this.setRangeStart(e,t,!0)}},{key:"setRangeEnd",value:function(e){if(!this.selectedRange.isEmpty()){this.runLocalHooks("beforeSetRangeEnd",e),this.begin();var t=this.selectedRange.current();"single"!==this.settings.selectionMode&&t.setTo(new c.CellCoords(e.row,e.col)),this.highlight.getCell().clear(),this.highlight.isEnabledFor(a.CELL_TYPE)&&this.highlight.getCell().add(this.selectedRange.current().highlight);var n=this.getLayerLevel();n<this.highlight.layerLevel&&((0,f.arrayEach)(this.highlight.getAreas(),function(e){e.clear()}),(0,f.arrayEach)(this.highlight.getHeaders(),function(e){e.clear()}),(0,f.arrayEach)(this.highlight.getActiveHeaders(),function(e){e.clear()})),this.highlight.useLayerLevel(n);var i=this.highlight.createOrGetArea(),r=this.highlight.createOrGetHeader(),o=this.highlight.createOrGetActiveHeader();if(i.clear(),r.clear(),o.clear(),this.highlight.isEnabledFor(a.AREA_TYPE)&&(this.isMultiple()||n>=1)&&(i.add(t.from).add(t.to),1===n&&(this.highlight.useLayerLevel(n-1).createOrGetArea().add(this.selectedRange.previous().from),this.highlight.useLayerLevel(n))),this.highlight.isEnabledFor(a.HEADER_TYPE)&&("single"===this.settings.selectionMode?r.add(t.highlight):r.add(t.from).add(t.to)),this.isSelectedByRowHeader())this.tableProps.countCols()===t.getWidth()&&o.add(new c.CellCoords(t.from.row,-1)).add(new c.CellCoords(t.to.row,-1));if(this.isSelectedByColumnHeader())this.tableProps.countRows()===t.getHeight()&&o.add(new c.CellCoords(-1,t.from.col)).add(new c.CellCoords(-1,t.to.col));this.runLocalHooks("afterSetRangeEnd",e)}}},{key:"isMultiple",value:function(){var e=(0,d.createObjectPropListener)(!this.selectedRange.current().isSingle());return this.runLocalHooks("afterIsMultipleSelection",e),e.value}},{key:"transformStart",value:function(e,t,n){this.setRangeStart(this.transformation.transformStart(e,t,n))}},{key:"transformEnd",value:function(e,t){this.setRangeEnd(this.transformation.transformEnd(e,t))}},{key:"getLayerLevel",value:function(){return this.selectedRange.size()-1}},{key:"isSelected",value:function(){return!this.selectedRange.isEmpty()}},{key:"isSelectedByRowHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return-1===e?this.selectedByRowHeader.size>0:this.selectedByRowHeader.has(e)}},{key:"isSelectedByColumnHeader",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return-1===e?this.selectedByColumnHeader.size>0:this.selectedByColumnHeader.has(e)}},{key:"isSelectedByAnyHeader",value:function(){return this.isSelectedByRowHeader(-1)||this.isSelectedByColumnHeader(-1)}},{key:"isSelectedByCorner",value:function(){return this.selectedByCorner}},{key:"inInSelection",value:function(e){return this.selectedRange.includes(e)}},{key:"isCellCornerVisible",value:function(){return this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&!this.isMultiple()}},{key:"isAreaCornerVisible",value:function(e){return(!Number.isInteger(e)||e===this.getLayerLevel())&&(this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&this.isMultiple())}},{key:"clear",value:function(){this.selectedRange.clear(),this.highlight.clear()}},{key:"deselect",value:function(){this.isSelected()&&(this.inProgress=!1,this.clear(),this.runLocalHooks("afterDeselect"))}},{key:"selectAll",value:function(){this.clear(),this.setRangeStart(new c.CellCoords(-1,-1)),this.selectedByRowHeader.add(this.getLayerLevel()),this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(new c.CellCoords(this.tableProps.countRows()-1,this.tableProps.countCols()-1))}},{key:"selectCells",value:function(e){var t=this,n=(0,g.detectSelectionType)(e);if(n===g.SELECTION_TYPE_EMPTY)return!1;if(n===g.SELECTION_TYPE_UNRECOGNIZED)throw new Error((0,_.toSingleLine)(o));var r=(0,g.normalizeSelectionFactory)(n,{propToCol:function(e){return t.tableProps.propToCol(e)},keepDirection:!0}),a=this.tableProps.countRows(),s=this.tableProps.countCols(),l=!e.some(function(e){var t=r(e),n=i(t,4),o=n[0],l=n[1],c=n[2],u=n[3];return!((0,g.isValidCoord)(o,a)&&(0,g.isValidCoord)(l,s)&&(0,g.isValidCoord)(c,a)&&(0,g.isValidCoord)(u,s))});return l&&(this.clear(),(0,f.arrayEach)(e,function(e){var n=r(e),o=i(n,4),a=o[0],s=o[1],l=o[2],u=o[3];t.setRangeStartOnly(new c.CellCoords(a,s),!1),t.setRangeEnd(new c.CellCoords(l,u)),t.finish()})),l}},{key:"selectColumns",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;e="string"==typeof e?this.tableProps.propToCol(e):e,t="string"==typeof t?this.tableProps.propToCol(t):t;var n=this.tableProps.countCols(),i=(0,g.isValidCoord)(e,n)&&(0,g.isValidCoord)(t,n);return i&&(this.setRangeStartOnly(new c.CellCoords(-1,e)),this.setRangeEnd(new c.CellCoords(this.tableProps.countRows()-1,t)),this.finish()),i}},{key:"selectRows",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.tableProps.countRows(),i=(0,g.isValidCoord)(e,n)&&(0,g.isValidCoord)(t,n);return i&&(this.setRangeStartOnly(new c.CellCoords(e,-1)),this.setRangeEnd(new c.CellCoords(t,this.tableProps.countCols()-1)),this.finish()),i}}]),e}();(0,d.mixin)(y,p.default),t.default=y},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(4);var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ranges=[]}return i(e,[{key:"isEmpty",value:function(){return 0===this.size()}},{key:"set",value:function(e){return this.clear(),this.ranges.push(new r.CellRange(e)),this}},{key:"add",value:function(e){return this.ranges.push(new r.CellRange(e)),this}},{key:"current",value:function(){return this.peekByIndex(0)}},{key:"previous",value:function(){return this.peekByIndex(-1)}},{key:"includes",value:function(e){return this.ranges.some(function(t){return t.includes(e)})}},{key:"clear",value:function(){return this.ranges.length=0,this}},{key:"size",value:function(){return this.ranges.length}},{key:"peekByIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.size()+e-1,n=void 0;return t>=0&&(n=this.ranges[t]),n}},{key:Symbol.iterator,value:function(){return this.ranges[Symbol.iterator]()}}]),e}();t.default=o},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(4),o=n(2),a=function(e){return e&&e.__esModule?e:{default:e}}(n(58));var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.range=t,this.options=n}return i(e,[{key:"transformStart",value:function(e,t,n){var i=new r.CellCoords(e,t);this.runLocalHooks("beforeTransformStart",i);var o=this.options.countRows(),a=this.options.countCols(),s=this.options.fixedRowsBottom(),l=this.options.minSpareRows(),c=this.options.minSpareCols(),u=this.options.autoWrapRow(),d=this.options.autoWrapCol(),h=this.range.current().highlight;h.row+e>o-1?n&&l>0&&!(s&&h.row>=o-s-1)?(this.runLocalHooks("insertRowRequire",o),o=this.options.countRows()):d&&(i.row=1-o,i.col=h.col+i.col==a-1?1-a:1):d&&h.row+i.row<0&&h.col+i.col>=0&&(i.row=o-1,i.col=h.col+i.col==0?a-1:-1),h.col+i.col>a-1?n&&c>0?(this.runLocalHooks("insertColRequire",o),a=this.options.countCols()):u&&(i.row=h.row+i.row==o-1?1-o:1,i.col=1-a):u&&h.col+i.col<0&&h.row+i.row>=0&&(i.row=h.row+i.row==0?o-1:-1,i.col=a-1);var f=new r.CellCoords(h.row+i.row,h.col+i.col),p=0,m=0;return f.row<0?(p=-1,f.row=0):f.row>0&&f.row>=o&&(p=1,f.row=o-1),f.col<0?(m=-1,f.col=0):f.col>0&&f.col>=a&&(m=1,f.col=a-1),this.runLocalHooks("afterTransformStart",f,p,m),f}},{key:"transformEnd",value:function(e,t){var n=new r.CellCoords(e,t);this.runLocalHooks("beforeTransformEnd",n);var i=this.options.countRows(),o=this.options.countCols(),a=this.range.current(),s=new r.CellCoords(a.to.row+n.row,a.to.col+n.col),l=0,c=0;return s.row<0?(l=-1,s.row=0):s.row>0&&s.row>=i&&(l=1,s.row=i-1),s.col<0?(c=-1,s.col=0):s.col>0&&s.col>=o&&(c=1,s.col=o-1),this.runLocalHooks("afterTransformEnd",s,l,c),s}}]),e}();(0,o.mixin)(s,a.default),t.default=s},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t="undefined"!=typeof window&&window.jQuery;if(!t)return;t.fn.handsontable=function(t){var n=this.first(),i=n.data("handsontable");if("string"!=typeof t){var r=t||{};return i?i.updateSettings(r):(i=new e.Core(n[0],r),n.data("handsontable",i),i.init()),n}var o=[],a=void 0;if(arguments.length>1)for(var s=1,l=arguments.length;s<l;s++)o.push(arguments[s]);if(i){if(void 0===i[t])throw new Error("Handsontable do not provide action: "+t);a=i[t].apply(i,o),"destroy"===t&&n.removeData()}return a}}},function(e,t,n){"use strict";t.__esModule=!0,t.Base=t.UndoRedo=t.TouchScroll=t.Search=t.PersistentState=t.ObserveChanges=t.MultipleSelectionHandles=t.MergeCells=t.ManualRowResize=t.ManualRowMove=t.ManualColumnResize=t.ManualColumnMove=t.ManualColumnFreeze=t.DragToScroll=t.CustomBorders=t.CopyPaste=t.ContextMenu=t.Comments=t.ColumnSorting=t.AutoRowSize=t.AutoFill=t.AutoColumnSize=void 0;var i=C(n(284)),r=C(n(286)),o=C(n(287)),a=C(n(289)),s=C(n(290)),l=C(n(293)),c=C(n(297)),u=C(n(314)),d=C(n(321)),h=C(n(327)),f=C(n(328)),p=C(n(332)),m=C(n(337)),g=C(n(338)),_=C(n(343)),v=C(n(344)),y=C(n(350)),b=C(n(351)),w=C(n(354)),k=C(n(355)),M=C(n(356)),x=C(n(10));function C(e){return e&&e.__esModule?e:{default:e}}t.AutoColumnSize=r.default,t.AutoFill=o.default,t.AutoRowSize=a.default,t.ColumnSorting=s.default,t.Comments=l.default,t.ContextMenu=c.default,t.CopyPaste=u.default,t.CustomBorders=d.default,t.DragToScroll=h.default,t.ManualColumnFreeze=f.default,t.ManualColumnMove=p.default,t.ManualColumnResize=m.default,t.ManualRowMove=g.default,t.ManualRowResize=_.default,t.MergeCells=v.default,t.MultipleSelectionHandles=y.default,t.ObserveChanges=b.default,t.PersistentState=i.default,t.Search=w.default,t.TouchScroll=k.default,t.UndoRedo=M.default,t.Base=x.default},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=c(n(10)),a=n(8),s=c(n(285)),l=c(n(15));function c(e){return e&&e.__esModule?e:{default:e}}l.default.getSingleton().register("persistentStateSave"),l.default.getSingleton().register("persistentStateLoad"),l.default.getSingleton().register("persistentStateReset");var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.storage=void 0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().persistentState}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.storage||(this.storage=new s.default(this.hot.rootElement.id)),this.addHook("persistentStateSave",function(t,n){return e.saveValue(t,n)}),this.addHook("persistentStateLoad",function(t,n){return e.loadValue(t,n)}),this.addHook("persistentStateReset",function(){return e.resetValue()}),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.storage=void 0,r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"loadValue",value:function(e,t){t.value=this.storage.loadValue(e)}},{key:"saveValue",value:function(e,t){this.storage.saveValue(e,t)}},{key:"resetValue",value:function(e){void 0===e?this.storage.resetAll():this.storage.reset(e)}},{key:"destroy",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}();(0,a.registerPlugin)("persistentState",u),t.default=u},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(1);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.prefix=t,this.savedKeys=[],this.loadSavedKeys()}return i(e,[{key:"saveValue",value:function(e,t){window.localStorage.setItem(this.prefix+"_"+e,JSON.stringify(t)),-1===this.savedKeys.indexOf(e)&&(this.savedKeys.push(e),this.saveSavedKeys())}},{key:"loadValue",value:function(e,t){e=void 0===e?t:e;var n=window.localStorage.getItem(this.prefix+"_"+e);return null===n?void 0:JSON.parse(n)}},{key:"reset",value:function(e){window.localStorage.removeItem(this.prefix+"_"+e)}},{key:"resetAll",value:function(){var e=this;(0,r.arrayEach)(this.savedKeys,function(t,n){window.localStorage.removeItem(e.prefix+"_"+e.savedKeys[n])}),this.clearSavedKeys()}},{key:"loadSavedKeys",value:function(){var e=window.localStorage.getItem(this.prefix+"__persistentStateKeys"),t="string"==typeof e?JSON.parse(e):void 0;this.savedKeys=t||[]}},{key:"saveSavedKeys",value:function(){window.localStorage.setItem(this.prefix+"__persistentStateKeys",JSON.stringify(this.savedKeys))}},{key:"clearSavedKeys",value:function(){this.savedKeys.length=0,this.saveSavedKeys()}}]),e}();t.default=o},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=_(n(10)),s=n(1),l=n(40),c=n(0),u=_(n(92)),d=n(2),h=n(5),f=n(8),p=_(n(200)),m=n(36),g=n(4);function _(e){return e&&e.__esModule?e:{default:e}}var v=new WeakMap,y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return v.set(n,{cachedColumnHeaders:[]}),n.widths=[],n.ghostTable=new u.default(n.hot),n.samplesGenerator=new p.default(function(e,t){return n.hot.getCellMeta(e,t).spanned?"":n.hot.getDataAtCell(e,t)}),n.firstCalculation=!0,n.inProgress=!1,n.addHook("beforeColumnResize",function(e,t,i){return n.onBeforeColumnResize(e,t,i)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),o(t,null,[{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 50}}]),o(t,[{key:"isEnabled",value:function(){return!1!==this.hot.getSettings().autoColumnSize&&!this.hot.getSettings().colWidths}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){var n=this.hot.getSettings().autoColumnSize;n&&null!=n.useHeaders&&this.ghostTable.setSetting("useHeaders",n.useHeaders),this.addHook("afterLoadData",function(){return e.onAfterLoadData()}),this.addHook("beforeChange",function(t){return e.onBeforeChange(t)}),this.addHook("beforeRender",function(t){return e.onBeforeRender(t)}),this.addHook("modifyColWidth",function(t,n){return e.getColumnWidth(n,t)}),this.addHook("afterInit",function(){return e.onAfterInit()}),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var e=this.findColumnsWhereHeaderWasChanged();e.length&&this.clearCache(e),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"calculateColumnsWidth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countRows()-1},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"number"==typeof e&&(e={from:e,to:e}),"number"==typeof n&&(n={from:n,to:n}),(0,h.rangeEach)(e.from,e.to,function(e){(i||void 0===t.widths[e]&&!t.hot._getColWidthFromSettings(e))&&t.samplesGenerator.generateColumnSamples(e,n).forEach(function(e,n){return t.ghostTable.addColumn(n,e)})}),this.ghostTable.columns.length&&(this.ghostTable.getWidths(function(e,n){t.widths[e]=n}),this.ghostTable.clean())}},{key:"calculateAllColumnsWidth",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},i=0,r=this.hot.countCols()-1,o=null;this.inProgress=!0;this.firstCalculation&&this.getSyncCalculationLimit()&&(this.calculateColumnsWidth({from:0,to:this.getSyncCalculationLimit()},n),this.firstCalculation=!1,i=this.getSyncCalculationLimit()+1),i<r?function a(){if(!e.hot)return(0,l.cancelAnimationFrame)(o),void(e.inProgress=!1);e.calculateColumnsWidth({from:i,to:Math.min(i+t.CALCULATION_STEP,r)},n),(i=i+t.CALCULATION_STEP+1)<r?o=(0,l.requestAnimationFrame)(a):((0,l.cancelAnimationFrame)(o),e.inProgress=!1,e.hot.view.wt.wtOverlays.adjustElementsSize(!0),e.hot.view.wt.wtOverlays.leftOverlay.needFullRender&&e.hot.view.wt.wtOverlays.leftOverlay.clone.draw())}():this.inProgress=!1}},{key:"setSamplingOptions",value:function(){var e=this.hot.getSettings().autoColumnSize,t=e&&(0,d.hasOwnProperty)(e,"samplingRatio")?this.hot.getSettings().autoColumnSize.samplingRatio:void 0,n=e&&(0,d.hasOwnProperty)(e,"allowSampleDuplicates")?this.hot.getSettings().autoColumnSize.allowSampleDuplicates:void 0;t&&!isNaN(t)&&this.samplesGenerator.setSampleCount(parseInt(t,10)),n&&this.samplesGenerator.setAllowDuplicates(n)}},{key:"recalculateAllColumnsWidth",value:function(){this.hot.view&&(0,c.isVisible)(this.hot.view.wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllColumnsWidth())}},{key:"getSyncCalculationLimit",value:function(){var e=t.SYNC_CALCULATION_LIMIT,n=this.hot.countCols()-1;return(0,d.isObject)(this.hot.getSettings().autoColumnSize)&&(e=this.hot.getSettings().autoColumnSize.syncLimit,(0,m.isPercentValue)(e)?e=(0,h.valueAccordingPercent)(n,e):e>>=0),Math.min(e,n)}},{key:"getColumnWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t;return void 0===i&&(i=this.widths[e],n&&"number"==typeof i&&(i=Math.max(i,g.ViewportColumnsCalculator.DEFAULT_WIDTH))),i}},{key:"getFirstVisibleColumn",value:function(){var e=this.hot.view.wt;return e.wtViewport.columnsVisibleCalculator?e.wtTable.getFirstVisibleColumn():e.wtViewport.columnsRenderCalculator?e.wtTable.getFirstRenderedColumn():-1}},{key:"getLastVisibleColumn",value:function(){var e=this.hot.view.wt;return e.wtViewport.columnsVisibleCalculator?e.wtTable.getLastVisibleColumn():e.wtViewport.columnsRenderCalculator?e.wtTable.getLastRenderedColumn():-1}},{key:"findColumnsWhereHeaderWasChanged",value:function(){var e=this.hot.getColHeader(),t=v.get(this).cachedColumnHeaders;return(0,s.arrayReduce)(e,function(e,n,i){var r=t.length;return(r-1<i||t[i]!==n)&&e.push(i),r-1<i?t.push(n):t[i]=n,e},[])}},{key:"clearCache",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.length?(0,s.arrayEach)(t,function(t){e.widths[t]=void 0}):this.widths.length=0}},{key:"isNeedRecalculate",value:function(){return!!(0,s.arrayFilter)(this.widths,function(e){return void 0===e}).length}},{key:"onBeforeRender",value:function(){var e=this.hot.renderCall;this.hot.countRows()&&(this.calculateColumnsWidth({from:this.getFirstVisibleColumn(),to:this.getLastVisibleColumn()},void 0,e),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth())}},{key:"onAfterLoadData",value:function(){var e=this;this.hot.view?this.recalculateAllColumnsWidth():setTimeout(function(){e.hot&&e.recalculateAllColumnsWidth()},0)}},{key:"onBeforeChange",value:function(e){var t=this,n=(0,s.arrayMap)(e,function(e){var n=i(e,2),r=(n[0],n[1]);return t.hot.propToCol(r)});this.clearCache(n)}},{key:"onBeforeColumnResize",value:function(e,t,n){return n&&(this.calculateColumnsWidth(e,void 0,!0),t=this.getColumnWidth(e,void 0,!1)),t}},{key:"onAfterInit",value:function(){v.get(this).cachedColumnHeaders=this.hot.getColHeader()}},{key:"destroy",value:function(){this.ghostTable.clean(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}();(0,f.registerPlugin)("autoColumnSize",y),t.default=y},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=h(n(10)),a=h(n(15)),s=n(0),l=h(n(6)),c=n(8),u=n(4),d=n(288);function h(e){return e&&e.__esModule?e:{default:e}}a.default.getSingleton().register("modifyAutofillRange"),a.default.getSingleton().register("beforeAutofill");var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.eventManager=new l.default(n),n.addingStarted=!1,n.mouseDownOnCellCorner=!1,n.mouseDragOutside=!1,n.handleDraggedCells=0,n.directions=[],n.autoInsertRow=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"isEnabled",value:function(){return this.hot.getSettings().fillHandle}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",function(t){return e.onAfterCellCornerMouseDown(t)}),this.addHook("afterOnCellCornerDblClick",function(t){return e.onCellCornerDblClick(t)}),this.addHook("beforeOnCellMouseOver",function(t,n,i){return e.onBeforeCellMouseOver(n)}),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.clearMappedSettings(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"getSelectionData",value:function(){var e={from:this.hot.getSelectedRangeLast().from,to:this.hot.getSelectedRangeLast().to};return this.hot.getData(e.from.row,e.from.col,e.to.row,e.to.col)}},{key:"fillIn",value:function(){if(this.hot.selection.highlight.getFill().isEmpty())return!1;var e=this.hot.selection.highlight.getFill().getCorners();this.resetSelectionOfDraggedArea();var t=this.getCornersOfSelectedCells();e=this.hot.runHooks("modifyAutofillRange",e,t);var n=(0,d.getDragDirectionAndRange)(t,e),i=n.directionOfDrag,r=n.startOfDragCoords,o=n.endOfDragCoords;if(r&&r.row>-1&&r.col>-1){var a=this.getSelectionData();this.hot.runHooks("beforeAutofill",r,o,a);var s=(0,d.getDeltas)(r,o,a,i),l=a;if(["up","left"].indexOf(i)>-1){l=[];var c=null,u=null;if("up"===i){u=(c=o.row-r.row+1)%a.length;for(var h=0;h<c;h++)l.push(a[(h+(a.length-u))%a.length])}else{u=(c=o.col-r.col+1)%a[0].length;for(var f=0;f<a.length;f++){l.push([]);for(var p=0;p<c;p++)l[f].push(a[f][(p+(a[f].length-u))%a[f].length])}}}this.hot.populateFromArray(r.row,r.col,l,o.row,o.col,this.pluginName+".fill",null,i,s),this.setSelection(e)}else this.hot._refreshBorders();return!0}},{key:"reduceSelectionAreaIfNeeded",value:function(e){return e.row<0&&(e.row=0),e.col<0&&(e.col=0),e}},{key:"getCoordsOfDragAndDropBorders",value:function(e){var t=this.hot.getSelectedRangeLast().getTopLeftCorner(),n=this.hot.getSelectedRangeLast().getBottomRightCorner(),i=void 0;if(this.directions.includes(d.DIRECTIONS.vertical)&&(n.row<e.row||t.row>e.row))i=new u.CellCoords(e.row,n.col);else{if(!this.directions.includes(d.DIRECTIONS.horizontal))return;i=new u.CellCoords(n.row,e.col)}return this.reduceSelectionAreaIfNeeded(i)}},{key:"showBorder",value:function(e){var t=this.getCoordsOfDragAndDropBorders(e);t&&this.redrawBorders(t)}},{key:"addRow",value:function(){var e=this;this.hot._registerTimeout(setTimeout(function(){e.hot.alter("insert_row",void 0,1,e.pluginName+".fill"),e.addingStarted=!1},200))}},{key:"addNewRowIfNeeded",value:function(){if(this.hot.selection.highlight.getFill().cellRange&&!1===this.addingStarted&&this.autoInsertRow){var e=this.hot.getSelectedLast(),t=this.hot.selection.highlight.getFill().getCorners(),n=this.hot.countRows();e[2]<n-1&&t[2]===n-1&&(this.addingStarted=!0,this.addRow())}}},{key:"getCornersOfSelectedCells",value:function(){return this.hot.selection.isMultiple()?this.hot.selection.highlight.createOrGetArea().getCorners():this.hot.selection.highlight.getCell().getCorners()}},{key:"getIndexOfLastAdjacentFilledInRow",value:function(e){for(var t=this.hot.getData(),n=this.hot.countRows(),i=void 0,r=e[2]+1;r<n;r++){for(var o=e[1];o<=e[3];o++){if(t[r][o])return-1}var a=t[r][e[1]-1],s=t[r][e[3]+1];(a||s)&&(i=r)}return i}},{key:"addSelectionFromStartAreaToSpecificRowIndex",value:function(e,t){this.hot.selection.highlight.getFill().clear().add(new u.CellCoords(e[0],e[1])).add(new u.CellCoords(t,e[3]))}},{key:"setSelection",value:function(e){var t;(t=this.hot).selectCell.apply(t,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e).concat([!1,!1]))}},{key:"selectAdjacent",value:function(){var e=this.getCornersOfSelectedCells(),t=this.getIndexOfLastAdjacentFilledInRow(e);return-1!==t&&(this.addSelectionFromStartAreaToSpecificRowIndex(e,t),!0)}},{key:"resetSelectionOfDraggedArea",value:function(){this.handleDraggedCells=0,this.hot.selection.highlight.getFill().clear()}},{key:"redrawBorders",value:function(e){this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(e),this.hot.view.render()}},{key:"getIfMouseWasDraggedOutside",value:function(e){var t=(0,s.offset)(this.hot.table).top-(window.pageYOffset||document.documentElement.scrollTop)+(0,s.outerHeight)(this.hot.table),n=(0,s.offset)(this.hot.table).left-(window.pageXOffset||document.documentElement.scrollLeft)+(0,s.outerWidth)(this.hot.table);return e.clientY>t&&e.clientX<=n}},{key:"registerEvents",value:function(){var e=this;this.eventManager.addEventListener(document.documentElement,"mouseup",function(){return e.onMouseUp()}),this.eventManager.addEventListener(document.documentElement,"mousemove",function(t){return e.onMouseMove(t)})}},{key:"onCellCornerDblClick",value:function(){this.selectAdjacent()&&this.fillIn()}},{key:"onAfterCellCornerMouseDown",value:function(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}},{key:"onBeforeCellMouseOver",value:function(e){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells++,this.showBorder(e),this.addNewRowIfNeeded())}},{key:"onMouseUp",value:function(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}},{key:"onMouseMove",value:function(e){var t=this.getIfMouseWasDraggedOutside(e);!1===this.addingStarted&&this.handleDraggedCells>0&&t?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}},{key:"clearMappedSettings",value:function(){this.directions.length=0,this.autoInsertRow=!1}},{key:"mapSettings",value:function(){var e=(0,d.getMappedFillHandleSetting)(this.hot.getSettings().fillHandle);this.directions=e.directions,this.autoInsertRow=e.autoInsertRow}},{key:"destroy",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}();(0,c.registerPlugin)("autofill",f),t.default=f},function(e,t,n){"use strict";t.__esModule=!0,t.DIRECTIONS=void 0,t.getDeltas=function(e,t,n,i){var r=n.length,o=n?n[0].length:0,a=[],s=t.row-e.row,l=t.col-e.col;if(-1!==["down","up"].indexOf(i)){for(var c=[],u=0;u<=l;u++){var d=parseInt(n[0][u],10),h=parseInt(n[r-1][u],10),f=("down"===i?h-d:d-h)/(r-1)||0;c.push(f)}a.push(c)}if(-1!==["right","left"].indexOf(i))for(var p=0;p<=s;p++){var m=parseInt(n[p][0],10),g=parseInt(n[p][o-1],10),_=("right"===i?g-m:m-g)/(o-1)||0;a.push([_])}return a},t.getDragDirectionAndRange=function(e,t){var n=void 0,i=void 0,r=void 0;t[0]===e[0]&&t[1]<e[1]?(r="left",n=new o.CellCoords(t[0],t[1]),i=new o.CellCoords(t[2],e[1]-1)):t[2]===e[2]&&t[0]===e[0]&&t[3]>e[3]?(r="right",n=new o.CellCoords(t[0],e[3]+1),i=new o.CellCoords(t[2],t[3])):t[0]<e[0]&&t[1]===e[1]?(r="up",n=new o.CellCoords(t[0],t[1]),i=new o.CellCoords(e[0]-1,t[3])):t[2]>e[2]&&t[1]===e[1]&&(r="down",n=new o.CellCoords(e[2]+1,t[1]),i=new o.CellCoords(t[2],t[3]));return{directionOfDrag:r,startOfDragCoords:n,endOfDragCoords:i}},t.getMappedFillHandleSetting=function(e){var t={};!0===e?(t.directions=Object.keys(a),t.autoInsertRow=!0):(0,i.isObject)(e)?((0,r.isDefined)(e.autoInsertRow)?e.direction===a.horizontal?t.autoInsertRow=!1:t.autoInsertRow=e.autoInsertRow:t.autoInsertRow=!1,(0,r.isDefined)(e.direction)?t.directions=[e.direction]:t.directions=Object.keys(a)):"string"==typeof e?(t.directions=[e],t.autoInsertRow=!0):(t.directions=[],t.autoInsertRow=!1);return t};var i=n(2),r=n(16),o=n(4),a=t.DIRECTIONS={horizontal:"horizontal",vertical:"vertical"}},function(e,t,n){"use strict";t.__esModule=!0;var i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=m(n(10)),a=n(1),s=n(40),l=n(0),c=m(n(92)),u=n(2),d=n(5),h=n(8),f=m(n(200)),p=n(36);function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.heights=[],n.ghostTable=new c.default(n.hot),n.samplesGenerator=new f.default(function(e,t){return e>=0?n.hot.getDataAtCell(e,t):-1===e?n.hot.getColHeader(t):null}),n.firstCalculation=!0,n.inProgress=!1,n.addHook("beforeRowResize",function(e,t,i){return n.onBeforeRowResize(e,t,i)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,null,[{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 500}}]),r(t,[{key:"isEnabled",value:function(){return!0===this.hot.getSettings().autoRowSize||(0,u.isObject)(this.hot.getSettings().autoRowSize)}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.setSamplingOptions(),this.addHook("afterLoadData",function(){return e.onAfterLoadData()}),this.addHook("beforeChange",function(t){return e.onBeforeChange(t)}),this.addHook("beforeColumnMove",function(){return e.recalculateAllRowsHeight()}),this.addHook("beforeColumnResize",function(){return e.recalculateAllRowsHeight()}),this.addHook("beforeColumnSort",function(){return e.clearCache()}),this.addHook("beforeRender",function(t){return e.onBeforeRender(t)}),this.addHook("beforeRowMove",function(t,n){return e.onBeforeRowMove(t,n)}),this.addHook("modifyRowHeight",function(t,n){return e.getRowHeight(n,t)}),this.addHook("modifyColumnHeaderHeight",function(){return e.getColumnHeaderHeight()}),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"calculateRowsHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countCols()-1},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"==typeof e&&(e={from:e,to:e}),"number"==typeof n&&(n={from:n,to:n}),null!==this.hot.getColHeader(0)){var r=this.samplesGenerator.generateRowSamples(-1,n);this.ghostTable.addColumnHeadersRow(r.get(-1))}(0,d.rangeEach)(e.from,e.to,function(e){(i||void 0===t.heights[e])&&t.samplesGenerator.generateRowSamples(e,n).forEach(function(e,n){t.ghostTable.addRow(n,e)})}),this.ghostTable.rows.length&&(this.ghostTable.getHeights(function(e,n){t.heights[e]=n}),this.ghostTable.clean())}},{key:"calculateAllRowsHeight",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},i=0,r=this.hot.countRows()-1,o=null;this.inProgress=!0;this.firstCalculation&&this.getSyncCalculationLimit()&&(this.calculateRowsHeight({from:0,to:this.getSyncCalculationLimit()},n),this.firstCalculation=!1,i=this.getSyncCalculationLimit()+1),i<r?function a(){if(!e.hot)return(0,s.cancelAnimationFrame)(o),void(e.inProgress=!1);e.calculateRowsHeight({from:i,to:Math.min(i+t.CALCULATION_STEP,r)},n),(i=i+t.CALCULATION_STEP+1)<r?o=(0,s.requestAnimationFrame)(a):((0,s.cancelAnimationFrame)(o),e.inProgress=!1,e.hot.view.wt.wtOverlays.adjustElementsSize(!0),e.hot.view.wt.wtOverlays.leftOverlay.needFullRender&&e.hot.view.wt.wtOverlays.leftOverlay.clone.draw())}():(this.inProgress=!1,this.hot.view.wt.wtOverlays.adjustElementsSize(!1))}},{key:"setSamplingOptions",value:function(){var e=this.hot.getSettings().autoRowSize,t=e&&(0,u.hasOwnProperty)(e,"samplingRatio")?this.hot.getSettings().autoRowSize.samplingRatio:void 0,n=e&&(0,u.hasOwnProperty)(e,"allowSampleDuplicates")?this.hot.getSettings().autoRowSize.allowSampleDuplicates:void 0;t&&!isNaN(t)&&this.samplesGenerator.setSampleCount(parseInt(t,10)),n&&this.samplesGenerator.setAllowDuplicates(n)}},{key:"recalculateAllRowsHeight",value:function(){(0,l.isVisible)(this.hot.view.wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllRowsHeight())}},{key:"getSyncCalculationLimit",value:function(){var e=t.SYNC_CALCULATION_LIMIT,n=this.hot.countRows()-1;return(0,u.isObject)(this.hot.getSettings().autoRowSize)&&(e=this.hot.getSettings().autoRowSize.syncLimit,(0,p.isPercentValue)(e)?e=(0,d.valueAccordingPercent)(n,e):e>>=0),Math.min(e,n)}},{key:"getRowHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=t;return void 0!==this.heights[e]&&this.heights[e]>(t||0)&&(n=this.heights[e]),n}},{key:"getColumnHeaderHeight",value:function(){return this.heights[-1]}},{key:"getFirstVisibleRow",value:function(){var e=this.hot.view.wt;return e.wtViewport.rowsVisibleCalculator?e.wtTable.getFirstVisibleRow():e.wtViewport.rowsRenderCalculator?e.wtTable.getFirstRenderedRow():-1}},{key:"getLastVisibleRow",value:function(){var e=this.hot.view.wt;return e.wtViewport.rowsVisibleCalculator?e.wtTable.getLastVisibleRow():e.wtViewport.rowsRenderCalculator?e.wtTable.getLastRenderedRow():-1}},{key:"clearCache",value:function(){this.heights.length=0,this.heights[-1]=void 0}},{key:"clearCacheByRange",value:function(e){var t=this;"number"==typeof e&&(e={from:e,to:e}),(0,d.rangeEach)(Math.min(e.from,e.to),Math.max(e.from,e.to),function(e){t.heights[e]=void 0})}},{key:"isNeedRecalculate",value:function(){return!!(0,a.arrayFilter)(this.heights,function(e){return void 0===e}).length}},{key:"onBeforeRender",value:function(){var e=this.hot.renderCall;this.calculateRowsHeight({from:this.getFirstVisibleRow(),to:this.getLastVisibleRow()},void 0,e);var t=this.hot.getSettings().fixedRowsBottom;if(t){var n=this.hot.countRows()-1;this.calculateRowsHeight({from:n-t,to:n})}this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()}},{key:"onBeforeRowMove",value:function(e,t){this.clearCacheByRange({from:e,to:t}),this.calculateAllRowsHeight()}},{key:"onBeforeRowResize",value:function(e,t,n){return n&&(this.calculateRowsHeight(e,void 0,!0),t=this.getRowHeight(e)),t}},{key:"onAfterLoadData",value:function(){var e=this;this.hot.view?this.recalculateAllRowsHeight():setTimeout(function(){e.hot&&e.recalculateAllRowsHeight()},0)}},{key:"onBeforeChange",value:function(e){var t=null;1===e.length?t=e[0][0]:e.length>1&&(t={from:e[0][0],to:e[e.length-1][0]}),null!==t&&this.clearCacheByRange(t)}},{key:"destroy",value:function(){this.ghostTable.clean(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}();(0,h.registerPlugin)("autoRowSize",g),t.default=g},function(e,t,n){"use strict";t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=m(n(55)),s=n(0),l=n(1),c=n(16),u=n(2),d=m(n(10)),h=n(8),f=m(n(291)),p=m(n(15));function m(e){return e&&e.__esModule?e:{default:e}}p.default.getSingleton().register("beforeColumnSort"),p.default.getSingleton().register("afterColumnSort");var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.sortIndicators=[],n.lastSortedColumn=null,n.sortEmptyCells=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default),r(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().columnSorting}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){this.setPluginOptions();var n=this;this.hot.sortIndex=[],this.hot.sort=function(){var e=Array.prototype.slice.call(arguments);return n.sortByColumn.apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))},void 0===this.hot.getSettings().observeChanges&&this.enableObserveChangesPlugin(),this.addHook("afterTrimRow",function(t){return e.sort()}),this.addHook("afterUntrimRow",function(t){return e.sort()}),this.addHook("modifyRow",function(t){return e.translateRow(t)}),this.addHook("unmodifyRow",function(t){return e.untranslateRow(t)}),this.addHook("afterUpdateSettings",function(){return e.onAfterUpdateSettings()}),this.addHook("afterGetColHeader",function(t,n){return e.getColHeader(t,n)}),this.addHook("afterOnCellMouseDown",function(t,n){return e.onAfterOnCellMouseDown(t,n)}),this.addHook("afterCreateRow",function(){n.afterCreateRow.apply(n,arguments)}),this.addHook("afterRemoveRow",function(){n.afterRemoveRow.apply(n,arguments)}),this.addHook("afterInit",function(){return e.sortBySettings()}),this.addHook("afterLoadData",function(){e.hot.sortIndex=[],e.hot.view&&e.sortBySettings()}),this.hot.view&&this.sortBySettings(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){this.hot.sort=void 0,o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"onAfterUpdateSettings",value:function(){this.sortBySettings()}},{key:"sortBySettings",value:function(){var e=this.hot.getSettings().columnSorting,t=this.loadSortingState(),n=void 0,i=void 0;void 0===t?(n=e.column,i=e.sortOrder):(n=t.sortColumn,i=t.sortOrder),"number"==typeof n&&(this.lastSortedColumn=n,this.sortByColumn(n,i))}},{key:"setSortingColumn",value:function(e,t){if(void 0===e)return this.hot.sortColumn=void 0,void(this.hot.sortOrder=void 0);this.hot.sortColumn===e&&void 0===t?!1===this.hot.sortOrder?this.hot.sortOrder=void 0:this.hot.sortOrder=!this.hot.sortOrder:this.hot.sortOrder=void 0===t||t,this.hot.sortColumn=e}},{key:"sortByColumn",value:function(e,t){(this.setSortingColumn(e,t),void 0!==this.hot.sortColumn)&&(!1!==this.hot.runHooks("beforeColumnSort",this.hot.sortColumn,this.hot.sortOrder)&&this.sort(),this.updateOrderClass(),this.updateSortIndicator(),this.hot.runHooks("afterColumnSort",this.hot.sortColumn,this.hot.sortOrder),this.hot.render(),this.saveSortingState())}},{key:"saveSortingState",value:function(){var e={};void 0!==this.hot.sortColumn&&(e.sortColumn=this.hot.sortColumn),void 0!==this.hot.sortOrder&&(e.sortOrder=this.hot.sortOrder),((0,u.hasOwnProperty)(e,"sortColumn")||(0,u.hasOwnProperty)(e,"sortOrder"))&&this.hot.runHooks("persistentStateSave","columnSorting",e)}},{key:"loadSortingState",value:function(){var e={};return this.hot.runHooks("persistentStateLoad","columnSorting",e),e.value}},{key:"updateOrderClass",value:function(){var e=void 0;!0===this.hot.sortOrder?e="ascending":!1===this.hot.sortOrder&&(e="descending"),this.sortOrderClass=e}},{key:"enableObserveChangesPlugin",value:function(){var e=this;this.hot._registerTimeout(setTimeout(function(){e.hot.updateSettings({observeChanges:!0})},0))}},{key:"defaultSort",value:function(e,t){return function(n,i){return"string"==typeof n[1]&&(n[1]=n[1].toLowerCase()),"string"==typeof i[1]&&(i[1]=i[1].toLowerCase()),n[1]===i[1]?0:(0,c.isEmpty)(n[1])?(0,c.isEmpty)(i[1])?0:t.columnSorting.sortEmptyCells&&e?-1:1:(0,c.isEmpty)(i[1])?(0,c.isEmpty)(n[1])?0:t.columnSorting.sortEmptyCells&&e?1:-1:isNaN(n[1])&&!isNaN(i[1])?e?1:-1:!isNaN(n[1])&&isNaN(i[1])?e?-1:1:(isNaN(n[1])||isNaN(i[1])||(n[1]=parseFloat(n[1]),i[1]=parseFloat(i[1])),n[1]<i[1]?e?-1:1:n[1]>i[1]?e?1:-1:0)}}},{key:"dateSort",value:function(e,t){return function(n,i){if(n[1]===i[1])return 0;if((0,c.isEmpty)(n[1]))return(0,c.isEmpty)(i[1])?0:t.columnSorting.sortEmptyCells&&e?-1:1;if((0,c.isEmpty)(i[1]))return(0,c.isEmpty)(n[1])?0:t.columnSorting.sortEmptyCells&&e?1:-1;var r=(0,a.default)(n[1],t.dateFormat),o=(0,a.default)(i[1],t.dateFormat);return r.isValid()?o.isValid()?o.isAfter(r)?e?-1:1:o.isBefore(r)?e?1:-1:0:-1:1}}},{key:"numericSort",value:function(e,t){return function(n,i){var r=parseFloat(n[1]),o=parseFloat(i[1]);if(r===o||isNaN(r)&&isNaN(o))return 0;if(t.columnSorting.sortEmptyCells){if((0,c.isEmpty)(n[1]))return e?-1:1;if((0,c.isEmpty)(i[1]))return e?1:-1}return isNaN(r)?1:isNaN(o)?-1:r<o?e?-1:1:r>o?e?1:-1:0}}},{key:"sort",value:function(){if(void 0!==this.hot.sortOrder){var e=this.hot.getCellMeta(0,this.hot.sortColumn),t=this.hot.countEmptyRows(),n=void 0;this.hot.sortingEnabled=!1,this.hot.sortIndex.length=0,void 0===e.columnSorting.sortEmptyCells&&(e.columnSorting={sortEmptyCells:this.sortEmptyCells});for(var i=0,r=this.hot.getSettings().maxRows===Number.POSITIVE_INFINITY?this.hot.countRows()-this.hot.getSettings().minSpareRows:this.hot.countRows()-t;i<r;i++)this.hot.sortIndex.push([i,this.hot.getDataAtCell(i,this.hot.sortColumn)]);if(e.sortFunction)n=e.sortFunction;else switch(e.type){case"date":n=this.dateSort;break;case"numeric":n=this.numericSort;break;default:n=this.defaultSort}(0,f.default)(this.hot.sortIndex,n(this.hot.sortOrder,e));for(var o=this.hot.sortIndex.length;o<this.hot.countRows();o++)this.hot.sortIndex.push([o,this.hot.getDataAtCell(o,this.hot.sortColumn)]);this.hot.sortingEnabled=!0}else this.hot.sortIndex.length=0}},{key:"updateSortIndicator",value:function(){if(void 0!==this.hot.sortOrder){var e=this.hot.getCellMeta(0,this.hot.sortColumn);this.sortIndicators[this.hot.sortColumn]=e.sortIndicator}}},{key:"translateRow",value:function(e){return this.hot.sortingEnabled&&void 0!==this.hot.sortOrder&&this.hot.sortIndex&&this.hot.sortIndex.length&&this.hot.sortIndex[e]?this.hot.sortIndex[e][0]:e}},{key:"untranslateRow",value:function(e){if(this.hot.sortingEnabled&&this.hot.sortIndex&&this.hot.sortIndex.length)for(var t=0;t<this.hot.sortIndex.length;t++)if(this.hot.sortIndex[t][0]==e)return t}},{key:"getColHeader",value:function(e,t){if(e<0||!t.parentNode)return!1;var n=t.querySelector(".colHeader"),i=(t.getAttribute("colspan"),t.parentNode.parentNode.childNodes),r=Array.prototype.indexOf.call(i,t.parentNode);r-=i.length,n&&(this.hot.getSettings().columnSorting&&e>=0&&-1===r&&(0,s.addClass)(n,"columnSorting"),(0,s.removeClass)(n,"descending"),(0,s.removeClass)(n,"ascending"),this.sortIndicators[e]&&e===this.hot.sortColumn&&("ascending"===this.sortOrderClass?(0,s.addClass)(n,"ascending"):"descending"===this.sortOrderClass&&(0,s.addClass)(n,"descending")))}},{key:"isSorted",value:function(){return void 0!==this.hot.sortColumn}},{key:"afterCreateRow",value:function(e,t){if(this.isSorted()){for(var n=0;n<this.hot.sortIndex.length;n++)this.hot.sortIndex[n][0]>=e&&(this.hot.sortIndex[n][0]+=t);for(var i=0;i<t;i++)this.hot.sortIndex.splice(e+i,0,[e+i,this.hot.getSourceData()[e+i][this.hot.sortColumn+this.hot.colOffset()]]);this.saveSortingState()}}},{key:"afterRemoveRow",value:function(e,t){if(this.isSorted()){var n=this.hot.sortIndex.splice(e,t);n=(0,l.arrayMap)(n,function(e){return e[0]}),this.hot.sortIndex=(0,l.arrayMap)(this.hot.sortIndex,function(e,t){var i=function(e){return(0,l.arrayReduce)(n,function(t,n){return e>n&&t++,t},0)}(e[0]);return i&&(e[0]-=i),e}),this.saveSortingState()}}},{key:"setPluginOptions",value:function(){var e=this.hot.getSettings().columnSorting;"object"===(void 0===e?"undefined":i(e))?this.sortEmptyCells=e.sortEmptyCells||!1:this.sortEmptyCells=!1}},{key:"onAfterOnCellMouseDown",value:function(e,t){t.row>-1||(0,s.hasClass)(e.realTarget,"columnSorting")&&(t.col!==this.lastSortedColumn&&(this.hot.sortOrder=!0),this.lastSortedColumn=t.col,this.sortByColumn(t.col))}}]),t}();(0,h.registerPlugin)("columnSorting",g),t.default=g},function(e,t,n){"use strict";t.__esModule=!0,t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(Math.abs(a-i)<=1)return[];var s=Math.ceil((i+a)/2);e(t,n,i,s);e(t,n,s,a);return o(t,n,i,s,a)},t.merge=o;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(292));var r=function(e,t){var n=e.toString(),i=t.toString();return n===i?0:n<i?-1:1};function o(e,t,n,r,o){for(var a=new i.default,s=new i.default,l=r-n,c=o-r,u=Math.max(l,c),d=o-n,h=0;h<u;h+=1)h<l&&a.push(e[n+h]),h<c&&s.push(e[r+h]);for(var f=0;f<d;)a.first&&s.first?t(a.first.data,s.first.data)>0?e[n+f]=s.shift().data:e[n+f]=a.shift().data:a.first?e[n+f]=a.shift().data:e[n+f]=s.shift().data,f+=1;return e}},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function e(t){r(this,e),this.data=t,this.next=null,this.prev=null},a=function(){function e(){r(this,e),this.first=null,this.last=null}return i(e,[{key:"push",value:function(e){var t=new o(e);if(null===this.first)this.first=t,this.last=t;else{var n=this.last;this.last=t,t.prev=n,n.next=t}}},{key:"unshift",value:function(e){var t=new o(e);if(null===this.first)this.first=t,this.last=t;else{var n=this.first;this.first=t,t.next=n,n.prev=t}}},{key:"inorder",value:function(e){for(var t=this.first;t;)e(t),t=t.next}},{key:"remove",value:function(e){if(null===this.first)return!1;for(var t=this.first,n=void 0,i=void 0;t;){if(t.data===e)return n=t.next,i=t.prev,n&&(n.prev=i),i&&(i.next=n),t===this.first&&(this.first=n),t===this.last&&(this.last=i),!0;t=t.next}return!1}},{key:"hasCycle",value:function(){for(var e=this.first,t=this.first;;){if(null===e)return!1;if(null===(e=e.next))return!1;if((e=e.next)===(t=t.next))return!0}}},{key:"pop",value:function(){if(null===this.last)return null;var e=this.last;return this.last=this.last.prev,e}},{key:"shift",value:function(){if(null===this.first)return null;var e=this.first;return this.first=this.first.next,e}},{key:"recursiveReverse",value:function(){if(this.first){!function e(t,n){n&&(e(n,n.next),n.next=t)}(this.first,this.first.next),this.first.next=null;var e=this.first;this.first=this.last,this.last=e}}},{key:"reverse",value:function(){if(this.first&&this.first.next){for(var e=this.first.next,t=this.first,n=void 0;e;)n=e.next,e.next=t,t.prev=e,t=e,e=n;this.first.next=null,this.last.prev=null,n=this.first,this.first=t,this.last=n}}}]),e}();t.NodeStructure=o,t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(0),a=n(2),s=m(n(6)),l=n(4),c=n(8),u=m(n(10)),d=m(n(294)),h=n(19),f=m(n(295)),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(296);var _=new WeakMap,v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.editor=null,n.displaySwitch=null,n.eventManager=null,n.range={},n.mouseDown=!1,n.contextMenuEvent=!1,n.timer=null,_.set(n,{tempEditorDimensions:{},cellBelowCursor:null}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),i(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().comments}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.editor||(this.editor=new d.default),this.eventManager||(this.eventManager=new s.default(this)),this.displaySwitch||(this.displaySwitch=new f.default(this.getDisplayDelaySetting())),this.addHook("afterContextMenuDefaultOptions",function(t){return e.addToContextMenu(t)}),this.addHook("afterRenderer",function(t,n,i,r,o,a){return e.onAfterRenderer(t,a)}),this.addHook("afterScrollHorizontally",function(){return e.hide()}),this.addHook("afterScrollVertically",function(){return e.hide()}),this.addHook("afterBeginEditing",function(t){return e.onAfterBeginEditing(t)}),this.displaySwitch.addLocalHook("hide",function(){return e.hide()}),this.displaySwitch.addLocalHook("show",function(t,n){return e.showAtCell(t,n)}),this.registerListeners(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this),this.displaySwitch.updateDelay(this.getDisplayDelaySetting())}},{key:"disablePlugin",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"registerListeners",value:function(){var e=this;this.eventManager.addEventListener(document,"mouseover",function(t){return e.onMouseOver(t)}),this.eventManager.addEventListener(document,"mousedown",function(t){return e.onMouseDown(t)}),this.eventManager.addEventListener(document,"mouseup",function(t){return e.onMouseUp(t)}),this.eventManager.addEventListener(this.editor.getInputElement(),"blur",function(t){return e.onEditorBlur(t)}),this.eventManager.addEventListener(this.editor.getInputElement(),"mousedown",function(t){return e.onEditorMouseDown(t)}),this.eventManager.addEventListener(this.editor.getInputElement(),"mouseup",function(t){return e.onEditorMouseUp(t)})}},{key:"setRange",value:function(e){this.range=e}},{key:"clearRange",value:function(){this.range={}}},{key:"targetIsCellWithComment",value:function(e){var t=(0,o.closest)(e.target,"TD","TBODY");return!!(t&&(0,o.hasClass)(t,"htCommentCell")&&(0,o.closest)(t,[this.hot.rootElement]))}},{key:"targetIsCommentTextArea",value:function(e){return this.editor.getInputElement()===e.target}},{key:"setComment",value:function(e){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var t=this.editor.getValue(),n="";null!=e?n=e:null!=t&&(n=t);var i=this.range.from.row,r=this.range.from.col;this.updateCommentMeta(i,r,g({},"value",n)),this.hot.render()}},{key:"setCommentAtCell",value:function(e,t,n){this.setRange({from:new l.CellCoords(e,t)}),this.setComment(n)}},{key:"removeComment",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,"comment",void 0),e&&this.hot.render(),this.hide()}},{key:"removeCommentAtCell",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.setRange({from:new l.CellCoords(e,t)}),this.removeComment(n)}},{key:"getComment",value:function(){var e=this.range.from.row,t=this.range.from.col;return this.getCommentMeta(e,t,"value")}},{key:"getCommentAtCell",value:function(e,t){return this.getCommentMeta(e,t,"value")}},{key:"show",value:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var e=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return this.refreshEditor(!0),this.editor.setValue(e.comment?e.comment.value:""),this.editor.hidden&&this.editor.show(),!0}},{key:"showAtCell",value:function(e,t){return this.setRange({from:new l.CellCoords(e,t)}),this.show()}},{key:"hide",value:function(){this.editor.hidden||this.editor.hide()}},{key:"refreshEditor",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.range.from&&this.editor.isVisible()){var e=(0,o.getScrollableElement)(this.hot.view.wt.wtTable.TABLE),t=this.hot.view.wt.wtTable.getCell(this.range.from),n=this.range.from.row,i=this.range.from.col,r=(0,o.offset)(t),a=this.hot.view.wt.wtTable.getStretchedColumnWidth(i),s=r.top<0?0:r.top,l=r.left;this.hot.view.wt.wtViewport.hasVerticalScroll()&&e!==window&&(s-=this.hot.view.wt.wtOverlays.topOverlay.getScrollPosition()),this.hot.view.wt.wtViewport.hasHorizontalScroll()&&e!==window&&(l-=this.hot.view.wt.wtOverlays.leftOverlay.getScrollPosition());var c=l+a,u=s,d=this.getCommentMeta(n,i,"style"),h=this.getCommentMeta(n,i,"readOnly");d?this.editor.setSize(d.width,d.height):this.editor.resetSize(),this.editor.setReadOnlyState(h),this.editor.setPosition(c,u)}}},{key:"checkSelectionCommentsConsistency",value:function(){var e=this.hot.getSelectedRangeLast();if(!e)return!1;var t=!1,n=e.from;return this.getCommentMeta(n.row,n.col,"value")&&(t=!0),t}},{key:"updateCommentMeta",value:function(e,t,n){var i=this.hot.getCellMeta(e,t).comment,r=void 0;i?(r=(0,a.deepClone)(i),(0,a.deepExtend)(r,n)):r=n,this.hot.setCellMeta(e,t,"comment",r)}},{key:"getCommentMeta",value:function(e,t,n){var i=this.hot.getCellMeta(e,t);if(i.comment)return i.comment[n]}},{key:"onMouseDown",value:function(e){if(this.mouseDown=!0,this.hot.view&&this.hot.view.wt){if(!this.contextMenuEvent&&!this.targetIsCommentTextArea(e)){var t=(0,o.closest)(e.target,"TD","TBODY"),n=null;t&&(n=this.hot.view.wt.wtTable.getCoords(t)),(!t||this.range.from&&n&&(this.range.from.row!==n.row||this.range.from.col!==n.col))&&this.hide()}this.contextMenuEvent=!1}}},{key:"onMouseOver",value:function(e){var t=_.get(this);if(t.cellBelowCursor=document.elementFromPoint(e.clientX,e.clientY),!(this.mouseDown||this.editor.isFocused()||(0,o.hasClass)(e.target,"wtBorder")||t.cellBelowCursor!==e.target)&&this.editor)if(this.targetIsCellWithComment(e)){var n=this.hot.view.wt.wtTable.getCoords(e.target),i={from:new l.CellCoords(n.row,n.col)};this.displaySwitch.show(i)}else(0,o.isChildOf)(e.target,document)&&!this.targetIsCommentTextArea(e)&&this.displaySwitch.hide()}},{key:"onMouseUp",value:function(e){this.mouseDown=!1}},{key:"onAfterRenderer",value:function(e,t){t.comment&&t.comment.value&&(0,o.addClass)(e,t.commentedCellClassName)}},{key:"onEditorBlur",value:function(e){this.setComment()}},{key:"onEditorMouseDown",value:function(e){_.get(this).tempEditorDimensions={width:(0,o.outerWidth)(e.target),height:(0,o.outerHeight)(e.target)}}},{key:"onEditorMouseUp",value:function(e){var t=_.get(this),n=(0,o.outerWidth)(e.target),i=(0,o.outerHeight)(e.target);n===t.tempEditorDimensions.width+1&&i===t.tempEditorDimensions.height+2||this.updateCommentMeta(this.range.from.row,this.range.from.col,g({},"style",{width:n,height:i}))}},{key:"onContextMenuAddComment",value:function(){var e=this;this.displaySwitch.cancelHiding();var t=this.hot.getSelectedRangeLast();this.contextMenuEvent=!0,this.setRange({from:t.from}),this.show(),setTimeout(function(){e.hot&&(e.hot.deselectCell(),e.editor.focus())},10)}},{key:"onContextMenuRemoveComment",value:function(){this.contextMenuEvent=!0;for(var e=this.hot.getSelectedRangeLast(),t=e.from,n=e.to,i=t.row;i<=n.row;i++)for(var r=t.col;r<=n.col;r++)this.removeCommentAtCell(i,r,!1);this.hot.render()}},{key:"onContextMenuMakeReadOnly",value:function(){this.contextMenuEvent=!0;for(var e=this.hot.getSelectedRangeLast(),t=e.from,n=e.to,i=t.row;i<=n.row;i++)for(var r=t.col;r<=n.col;r++){var o=!!this.getCommentMeta(i,r,"readOnly");this.updateCommentMeta(i,r,g({},"readOnly",!o))}}},{key:"addToContextMenu",value:function(e){var t=this;e.items.push({name:"---------"},{key:"commentsAddEdit",name:function(){return t.checkSelectionCommentsConsistency()?t.hot.getTranslatedPhrase(p.CONTEXTMENU_ITEMS_EDIT_COMMENT):t.hot.getTranslatedPhrase(p.CONTEXTMENU_ITEMS_ADD_COMMENT)},callback:function(){return t.onContextMenuAddComment()},disabled:function(){return!(this.getSelectedLast()&&!this.selection.isSelectedByCorner())}},{key:"commentsRemove",name:function(){return this.getTranslatedPhrase(p.CONTEXTMENU_ITEMS_REMOVE_COMMENT)},callback:function(){return t.onContextMenuRemoveComment()},disabled:function(){return t.hot.selection.isSelectedByCorner()}},{key:"commentsReadOnly",name:function(){var e=this,t=this.getTranslatedPhrase(p.CONTEXTMENU_ITEMS_READ_ONLY_COMMENT);return(0,h.checkSelectionConsistency)(this.getSelectedRangeLast(),function(t,n){var i=e.getCellMeta(t,n).comment;if(i&&(i=i.readOnly),i)return!0})&&(t=(0,h.markLabelAsSelected)(t)),t},callback:function(){return t.onContextMenuMakeReadOnly()},disabled:function(){return t.hot.selection.isSelectedByCorner()||!t.checkSelectionCommentsConsistency()}})}},{key:"getDisplayDelaySetting",value:function(){var e=this.hot.getSettings().comments;if((0,a.isObject)(e))return e.displayDelay}},{key:"onAfterBeginEditing",value:function(e,t){this.hide()}},{key:"destroy",value:function(){this.editor&&this.editor.destroy(),this.displaySwitch&&this.displaySwitch.destroy(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}();(0,c.registerPlugin)("comments",v),t.default=v},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0);var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.hidden=!0,this.hide()}return i(e,null,[{key:"CLASS_EDITOR_CONTAINER",get:function(){return"htCommentsContainer"}},{key:"CLASS_EDITOR",get:function(){return"htComments"}},{key:"CLASS_INPUT",get:function(){return"htCommentTextArea"}},{key:"CLASS_CELL",get:function(){return"htCommentCell"}}]),i(e,[{key:"setPosition",value:function(e,t){this.editorStyle.left=e+"px",this.editorStyle.top=t+"px"}},{key:"setSize",value:function(e,t){if(e&&t){var n=this.getInputElement();n.style.width=e+"px",n.style.height=t+"px"}}},{key:"resetSize",value:function(){var e=this.getInputElement();e.style.width="",e.style.height=""}},{key:"setReadOnlyState",value:function(e){this.getInputElement().readOnly=e}},{key:"show",value:function(){this.editorStyle.display="block",this.hidden=!1}},{key:"hide",value:function(){this.editorStyle.display="none",this.hidden=!0}},{key:"isVisible",value:function(){return"block"===this.editorStyle.display}},{key:"setValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=e||"",this.getInputElement().value=e}},{key:"getValue",value:function(){return this.getInputElement().value}},{key:"isFocused",value:function(){return document.activeElement===this.getInputElement()}},{key:"focus",value:function(){this.getInputElement().focus()}},{key:"createEditor",value:function(){var t,n=document.querySelector("."+e.CLASS_EDITOR_CONTAINER),i=void 0;return n||(n=document.createElement("div"),(0,r.addClass)(n,e.CLASS_EDITOR_CONTAINER),document.body.appendChild(n)),i=document.createElement("div"),(0,r.addClass)(i,e.CLASS_EDITOR),t=document.createElement("textarea"),(0,r.addClass)(t,e.CLASS_INPUT),i.appendChild(t),n.appendChild(i),i}},{key:"getInputElement",value:function(){return this.editor.querySelector("."+e.CLASS_INPUT)}},{key:"destroy",value:function(){this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null}}]),e}();t.default=o},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(42),o=n(2),a=function(e){return e&&e.__esModule?e:{default:e}}(n(58));var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wasLastActionShow=!0,this.showDebounced=null,this.hidingTimer=null,this.updateDelay(t)}return i(e,[{key:"hide",value:function(){var e=this;this.wasLastActionShow=!1,this.hidingTimer=setTimeout(function(){!1===e.wasLastActionShow&&e.runLocalHooks("hide")},250)}},{key:"show",value:function(e){this.wasLastActionShow=!0,this.showDebounced(e)}},{key:"cancelHiding",value:function(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}},{key:"updateDelay",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250;this.showDebounced=(0,r.debounce)(function(t){e.wasLastActionShow&&e.runLocalHooks("show",t.from.row,t.from.col)},t)}},{key:"destroy",value:function(){this.clearLocalHooks()}}]),e}();(0,o.mixin)(s,a.default),t.default=s},function(e,t){},function(e,t,n){"use strict";t.__esModule=!0;var i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=g(n(10)),a=g(n(15)),s=n(1),l=g(n(298)),c=g(n(6)),u=g(n(299)),d=g(n(311)),h=n(8),f=n(12),p=n(0),m=n(94);function g(e){return e&&e.__esModule?e:{default:e}}n(313),a.default.getSingleton().register("afterContextMenuDefaultOptions"),a.default.getSingleton().register("beforeContextMenuShow"),a.default.getSingleton().register("afterContextMenuShow"),a.default.getSingleton().register("afterContextMenuHide"),a.default.getSingleton().register("afterContextMenuExecute");var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.eventManager=new c.default(n),n.commandExecutor=new l.default(n.hot),n.itemsFactory=null,n.menu=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,null,[{key:"DEFAULT_ITEMS",get:function(){return[m.ROW_ABOVE,m.ROW_BELOW,m.SEPARATOR,m.COLUMN_LEFT,m.COLUMN_RIGHT,m.SEPARATOR,m.REMOVE_ROW,m.REMOVE_COLUMN,m.SEPARATOR,m.UNDO,m.REDO,m.SEPARATOR,m.READ_ONLY,m.SEPARATOR,m.ALIGNMENT]}}]),r(t,[{key:"isEnabled",value:function(){return this.hot.getSettings().contextMenu}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){this.itemsFactory=new u.default(this.hot,t.DEFAULT_ITEMS);var n=this.hot.getSettings().contextMenu,r={items:this.itemsFactory.getItems(n)};this.registerEvents(),"function"==typeof n.callback&&this.commandExecutor.setCommonCallback(n.callback),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this);var o=function(){if(e.hot){e.hot.runHooks("afterContextMenuDefaultOptions",r),e.itemsFactory.setPredefinedItems(r.items);var t=e.itemsFactory.getItems(n);e.menu=new d.default(e.hot,{className:"htContextMenu",keepInViewport:!0}),e.hot.runHooks("beforeContextMenuSetItems",t),e.menu.setMenuItems(t),e.menu.addLocalHook("beforeOpen",function(){return e.onMenuBeforeOpen()}),e.menu.addLocalHook("afterOpen",function(){return e.onMenuAfterOpen()}),e.menu.addLocalHook("afterClose",function(){return e.onMenuAfterClose()}),e.menu.addLocalHook("executeCommand",function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.executeCommand.apply(e,n)}),(0,s.arrayEach)(t,function(t){return e.commandExecutor.registerCommand(t.key,t)})}};this.callOnPluginsReady(function(){e.isPluginsReady?setTimeout(o,0):o()})}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var e=this;this.eventManager.addEventListener(this.hot.rootElement,"contextmenu",function(t){return e.onContextMenu(t)})}},{key:"open",value:function(e){this.menu&&(this.menu.open(),this.menu.setPosition({top:parseInt((0,f.pageY)(e),10)-(0,p.getWindowScrollTop)(),left:parseInt((0,f.pageX)(e),10)-(0,p.getWindowScrollLeft)()}),this.menu.hotMenu.isHotTableEnv=this.hot.isHotTableEnv)}},{key:"close",value:function(){this.menu&&this.menu.close()}},{key:"executeCommand",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commandExecutor.execute.apply(this.commandExecutor,t)}},{key:"onContextMenu",value:function(e){var t=this.hot.getSettings(),n=t.rowHeaders,i=t.colHeaders;var r=e.realTarget;this.close(),(0,p.hasClass)(r,"handsontableInput")||(e.preventDefault(),(0,f.stopPropagation)(e),(n||i||function(e){return"TD"===e.nodeName||"TD"===e.parentNode.nodeName}(r)||(0,p.hasClass)(r,"current")&&(0,p.hasClass)(r,"wtBorder"))&&this.open(e))}},{key:"onMenuBeforeOpen",value:function(){this.hot.runHooks("beforeContextMenuShow",this)}},{key:"onMenuAfterOpen",value:function(){this.hot.runHooks("afterContextMenuShow",this)}},{key:"onMenuAfterClose",value:function(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}},{key:"destroy",value:function(){this.close(),this.menu&&this.menu.destroy(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}();_.SEPARATOR={name:m.SEPARATOR},(0,h.registerPlugin)("contextMenu",_),t.default=_},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(1),o=n(2);var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hot=t,this.commands={},this.commonCallback=null}return i(e,[{key:"registerCommand",value:function(e,t){this.commands[e]=t}},{key:"setCommonCallback",value:function(e){this.commonCallback=e}},{key:"execute",value:function(e){for(var t=this,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var s=e.split(":");e=s[0];var l=2===s.length?s[1]:null,c=this.commands[e];if(!c)throw new Error("Menu command '"+e+"' not exists.");if(l&&c.submenu&&(c=function(e,t){var n=void 0;return(0,r.arrayEach)(t,function(t){var i=t.key?t.key.split(":"):null;if(Array.isArray(i)&&i[1]===e)return n=t,!1}),n}(l,c.submenu.items)),!0!==c.disabled&&("function"!=typeof c.disabled||!0!==c.disabled.call(this.hot))&&!(0,o.hasOwnProperty)(c,"submenu")){var u=[];"function"==typeof c.callback&&u.push(c.callback),"function"==typeof this.commonCallback&&u.push(this.commonCallback),i.unshift(s.join(":")),(0,r.arrayEach)(u,function(e){return e.apply(t.hot,i)})}}}]),e}();t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(2),o=n(1),a=n(94);var s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hot=t,this.predefinedItems=(0,a.predefinedItems)(),this.defaultOrderPattern=n}return i(e,[{key:"setPredefinedItems",value:function(e){var t=this,n={};this.defaultOrderPattern.length=0,(0,r.objectEach)(e,function(e,i){var r="";e.name===a.SEPARATOR?(n[a.SEPARATOR]=e,r=a.SEPARATOR):isNaN(parseInt(i,10))?(e.key=void 0===e.key?i:e.key,n[i]=e,r=e.key):(n[e.key]=e,r=e.key),t.defaultOrderPattern.push(r)}),this.predefinedItems=n}},{key:"getItems",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=[];e&&e.items?e=e.items:Array.isArray(e)||(e=t);(0,r.isObject)(e)?(0,r.objectEach)(e,function(e,t){var o=n["string"==typeof e?e:t];o||(o=e),(0,r.isObject)(e)?(0,r.extend)(o,e):"string"==typeof o&&(o={name:o}),void 0===o.key&&(o.key=t),i.push(o)}):(0,o.arrayEach)(e,function(e,t){var o=n[e];!o&&a.ITEMS.indexOf(e)>=0||(o||(o={name:e,key:""+t}),(0,r.isObject)(e)&&(0,r.extend)(o,e),void 0===o.key&&(o.key=t),i.push(o))});return i}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,this.defaultOrderPattern,this.predefinedItems)}}]),e}();t.default=s},function(e,t,n){"use strict";t.__esModule=!0,t.KEY=void 0,t.default=function(){return{key:a,name:function(){return this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT)},disabled:function(){return!(this.getSelectedRange()&&!this.selection.isSelectedByCorner())},submenu:{items:[{key:a+":left",name:function(){var e=this,t=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT_LEFT),n=(0,i.checkSelectionConsistency)(this.getSelectedRange(),function(t,n){var i=e.getCellMeta(t,n).className;if(i&&-1!==i.indexOf("htLeft"))return!0});return n&&(t=(0,i.markLabelAsSelected)(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=(0,i.getAlignmentClasses)(t,function(t,n){return e.getCellMeta(t,n).className});this.runHooks("beforeCellAlignment",n,t,"horizontal","htLeft"),(0,i.align)(t,"horizontal","htLeft",function(t,n){return e.getCellMeta(t,n)},function(t,n,i,r){return e.setCellMeta(t,n,i,r)}),this.render()},disabled:!1},{key:a+":center",name:function(){var e=this,t=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT_CENTER),n=(0,i.checkSelectionConsistency)(this.getSelectedRange(),function(t,n){var i=e.getCellMeta(t,n).className;if(i&&-1!==i.indexOf("htCenter"))return!0});return n&&(t=(0,i.markLabelAsSelected)(t)),t},callback:function(e,t){var n=this,r=this.getSelectedRange(),o=(0,i.getAlignmentClasses)(r,function(e,t){return n.getCellMeta(e,t).className});this.runHooks("beforeCellAlignment",o,r,"horizontal","htCenter"),(0,i.align)(r,"horizontal","htCenter",function(e,t){return n.getCellMeta(e,t)},function(e,t,i,r){return n.setCellMeta(e,t,i,r)}),this.render()},disabled:!1},{key:a+":right",name:function(){var e=this,t=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT),n=(0,i.checkSelectionConsistency)(this.getSelectedRange(),function(t,n){var i=e.getCellMeta(t,n).className;if(i&&-1!==i.indexOf("htRight"))return!0});return n&&(t=(0,i.markLabelAsSelected)(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=(0,i.getAlignmentClasses)(t,function(t,n){return e.getCellMeta(t,n).className});this.runHooks("beforeCellAlignment",n,t,"horizontal","htRight"),(0,i.align)(t,"horizontal","htRight",function(t,n){return e.getCellMeta(t,n)},function(t,n,i,r){return e.setCellMeta(t,n,i,r)}),this.render()},disabled:!1},{key:a+":justify",name:function(){var e=this,t=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY),n=(0,i.checkSelectionConsistency)(this.getSelectedRange(),function(t,n){var i=e.getCellMeta(t,n).className;if(i&&-1!==i.indexOf("htJustify"))return!0});return n&&(t=(0,i.markLabelAsSelected)(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=(0,i.getAlignmentClasses)(t,function(t,n){return e.getCellMeta(t,n).className});this.runHooks("beforeCellAlignment",n,t,"horizontal","htJustify"),(0,i.align)(t,"horizontal","htJustify",function(t,n){return e.getCellMeta(t,n)},function(t,n,i,r){return e.setCellMeta(t,n,i,r)}),this.render()},disabled:!1},{name:r.KEY},{key:a+":top",name:function(){var e=this,t=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT_TOP),n=(0,i.checkSelectionConsistency)(this.getSelectedRange(),function(t,n){var i=e.getCellMeta(t,n).className;if(i&&-1!==i.indexOf("htTop"))return!0});return n&&(t=(0,i.markLabelAsSelected)(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=(0,i.getAlignmentClasses)(t,function(t,n){return e.getCellMeta(t,n).className});this.runHooks("beforeCellAlignment",n,t,"vertical","htTop"),(0,i.align)(t,"vertical","htTop",function(t,n){return e.getCellMeta(t,n)},function(t,n,i,r){return e.setCellMeta(t,n,i,r)}),this.render()},disabled:!1},{key:a+":middle",name:function(){var e=this,t=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE),n=(0,i.checkSelectionConsistency)(this.getSelectedRange(),function(t,n){var i=e.getCellMeta(t,n).className;if(i&&-1!==i.indexOf("htMiddle"))return!0});return n&&(t=(0,i.markLabelAsSelected)(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=(0,i.getAlignmentClasses)(t,function(t,n){return e.getCellMeta(t,n).className});this.runHooks("beforeCellAlignment",n,t,"vertical","htMiddle"),(0,i.align)(t,"vertical","htMiddle",function(t,n){return e.getCellMeta(t,n)},function(t,n,i,r){return e.setCellMeta(t,n,i,r)}),this.render()},disabled:!1},{key:a+":bottom",name:function(){var e=this,t=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM),n=(0,i.checkSelectionConsistency)(this.getSelectedRange(),function(t,n){var i=e.getCellMeta(t,n).className;if(i&&-1!==i.indexOf("htBottom"))return!0});return n&&(t=(0,i.markLabelAsSelected)(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=(0,i.getAlignmentClasses)(t,function(t,n){return e.getCellMeta(t,n).className});this.runHooks("beforeCellAlignment",n,t,"vertical","htBottom"),(0,i.align)(t,"vertical","htBottom",function(t,n){return e.getCellMeta(t,n)},function(t,n,i,r){return e.setCellMeta(t,n,i,r)}),this.render()},disabled:!1}]}}};var i=n(19),r=n(93),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7));var a=t.KEY="alignment"},function(e,t,n){"use strict";t.__esModule=!0,t.KEY=void 0;var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(){return{key:a,name:function(){return this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_CLEAR_COLUMN)},callback:function(e,t){var n=t[0].start.col;this.countRows()&&this.populateFromArray(0,n,[[null]],Math.max(t[0].start.row,t[0].end.row),n,"ContextMenu.clearColumn")},disabled:function(){var e=(0,r.getValidSelection)(this);if(!e)return!0;var t=i(e[0],4),n=t[0],o=t[1],a=t[2],s=(t[3],[n,0,a,this.countCols()-1]),l=s.join(",")===e.join(",");return o<0||this.countCols()>=this.getSettings().maxCols||l}}};var r=n(19),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7));var a=t.KEY="clear_column"},function(e,t,n){"use strict";t.__esModule=!0,t.KEY=void 0;var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(){return{key:a,name:function(){return this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_INSERT_LEFT)},callback:function(e,t){var n=t[Math.max(t.length-1,0)];this.alter("insert_col",n.start.col,1,"ContextMenu.columnLeft")},disabled:function(){var e=(0,r.getValidSelection)(this);if(!e)return!0;if(!this.isColumnModificationAllowed())return!0;var t=i(e[0],4),n=t[0],o=t[1],a=t[2],s=(t[3],[n,0,a,this.countCols()-1]),l=s.join(",")===e.join(","),c=1===this.countCols();return o<0||this.countCols()>=this.getSettings().maxCols||!c&&l},hidden:function(){return!this.getSettings().allowInsertColumn}}};var r=n(19),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7));var a=t.KEY="col_left"},function(e,t,n){"use strict";t.__esModule=!0,t.KEY=void 0;var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(){return{key:a,name:function(){return this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_INSERT_RIGHT)},callback:function(e,t){var n=t[Math.max(t.length-1,0)];this.alter("insert_col",n.end.col+1,1,"ContextMenu.columnRight")},disabled:function(){var e=(0,r.getValidSelection)(this);if(!e)return!0;if(!this.isColumnModificationAllowed())return!0;var t=i(e[0],4),n=t[0],o=t[1],a=t[2],s=(t[3],[n,0,a,this.countCols()-1]),l=s.join(",")===e.join(","),c=1===this.countCols();return o<0||this.countCols()>=this.getSettings().maxCols||!c&&l},hidden:function(){return!this.getSettings().allowInsertColumn}}};var r=n(19),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7));var a=t.KEY="col_right"},function(e,t,n){"use strict";t.__esModule=!0,t.KEY=void 0,t.default=function(){return{key:a,name:function(){var e=this,t=this.getTranslatedPhrase(o.CONTEXTMENU_ITEMS_READ_ONLY),n=(0,i.checkSelectionConsistency)(this.getSelectedRange(),function(t,n){return e.getCellMeta(t,n).readOnly});return n&&(t=(0,i.markLabelAsSelected)(t)),t},callback:function(){var e=this,t=this.getSelectedRange(),n=(0,i.checkSelectionConsistency)(t,function(t,n){return e.getCellMeta(t,n).readOnly});(0,r.arrayEach)(t,function(t){t.forAll(function(t,i){e.setCellMeta(t,i,"readOnly",!n)})}),this.render()},disabled:function(){return!(this.getSelectedRange()&&!this.selection.isSelectedByCorner())}}};var i=n(19),r=n(1),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7));var a=t.KEY="make_read_only"},function(e,t,n){"use strict";t.__esModule=!0,t.KEY=void 0,t.default=function(){return{key:r,name:function(){return this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_REDO)},callback:function(){this.redo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isRedoAvailable()}}};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7));var r=t.KEY="redo"},function(e,t,n){"use strict";t.__esModule=!0,t.KEY=void 0;var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(){return{key:s,name:function(){var e=this.getSelected(),t=0;if(e)if(e.length>1)t=1;else{var n=i(e[0],4),r=n[1],o=n[3];r-o!=0&&(t=1)}return this.getTranslatedPhrase(a.CONTEXTMENU_ITEMS_REMOVE_COLUMN,t)},callback:function(){this.alter("remove_col",(0,o.transformSelectionToColumnDistance)(this.getSelected()),null,"ContextMenu.removeColumn")},disabled:function(){var e=(0,r.getValidSelection)(this),t=this.countCols();return!e||(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner()||!this.isColumnModificationAllowed()||!t)},hidden:function(){return!this.getSettings().allowRemoveColumn}}};var r=n(19),o=(n(1),n(91)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7));var s=t.KEY="remove_col"},function(e,t,n){"use strict";t.__esModule=!0,t.KEY=void 0;var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(){return{key:s,name:function(){var e=this.getSelected(),t=0;if(e)if(e.length>1)t=1;else{var n=i(e[0],3),r=n[0],o=n[2];r-o!=0&&(t=1)}return this.getTranslatedPhrase(a.CONTEXTMENU_ITEMS_REMOVE_ROW,t)},callback:function(){this.alter("remove_row",(0,o.transformSelectionToRowDistance)(this.getSelected()),null,"ContextMenu.removeRow")},disabled:function(){var e=(0,r.getValidSelection)(this),t=this.countRows();return!e||(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner()||!t)},hidden:function(){return!this.getSettings().allowRemoveRow}}};var r=n(19),o=(n(1),n(91)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7));var s=t.KEY="remove_row"},function(e,t,n){"use strict";t.__esModule=!0,t.KEY=void 0,t.default=function(){return{key:o,name:function(){return this.getTranslatedPhrase(r.CONTEXTMENU_ITEMS_ROW_ABOVE)},callback:function(e,t){var n=t[Math.max(t.length-1,0)];this.alter("insert_row",n.start.row,1,"ContextMenu.rowAbove")},disabled:function(){var e=(0,i.getValidSelection)(this);return!e||(this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows)},hidden:function(){return!this.getSettings().allowInsertRow}}};var i=n(19),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7));var o=t.KEY="row_above"},function(e,t,n){"use strict";t.__esModule=!0,t.KEY=void 0,t.default=function(){return{key:o,name:function(){return this.getTranslatedPhrase(r.CONTEXTMENU_ITEMS_ROW_BELOW)},callback:function(e,t){var n=t[Math.max(t.length-1,0)];this.alter("insert_row",n.end.row+1,1,"ContextMenu.rowBelow")},disabled:function(){var e=(0,i.getValidSelection)(this);return!e||(this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows)},hidden:function(){return!this.getSettings().allowInsertRow}}};var i=n(19),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7));var o=t.KEY="row_below"},function(e,t,n){"use strict";t.__esModule=!0,t.KEY=void 0,t.default=function(){return{key:r,name:function(){return this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_UNDO)},callback:function(){this.undo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isUndoAvailable()}}};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7));var r=t.KEY="undo"},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=_(n(88)),o=n(0),a=n(1),s=_(n(312)),l=_(n(6)),c=n(2),u=n(16),d=n(42),h=n(19),f=n(21),p=_(n(58)),m=n(94),g=n(12);function _(e){return e&&e.__esModule?e:{default:e}}var v=215,y=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hot=t,this.options=n||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1,minWidth:v},this.eventManager=new l.default(this),this.container=this.createContainer(this.options.name),this.hotMenu=null,this.hotSubMenus={},this.parentMenu=this.options.parent||null,this.menuItems=null,this.origOutsideClickDeselects=null,this.keyEvent=!1,this.offset={above:0,below:0,left:0,right:0},this._afterScrollCallback=null,this.registerEvents()}return i(e,[{key:"registerEvents",value:function(){var e=this;this.eventManager.addEventListener(document.documentElement,"mousedown",function(t){return e.onDocumentMouseDown(t)})}},{key:"setMenuItems",value:function(e){this.menuItems=e}},{key:"setOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.offset[e]=t}},{key:"isSubMenu",value:function(){return null!==this.parentMenu}},{key:"open",value:function(){var e=this;this.runLocalHooks("beforeOpen"),this.container.removeAttribute("style"),this.container.style.display="block";var t=(0,d.debounce)(function(t){return e.openSubMenu(t)},300),n=this.options.minWidth||v,i=(0,a.arrayFilter)(this.menuItems,function(t){return(0,h.isItemHidden)(t,e.hot)}),o={data:i=(0,h.filterSeparators)(i,m.SEPARATOR),colHeaders:!1,autoColumnSize:!0,modifyColWidth:function(e){return(0,u.isDefined)(e)&&e<n?n:e},autoRowSize:!1,readOnly:!0,copyPaste:!1,columns:[{data:"name",renderer:function(t,n,i,r,o,a){return e.menuItemRenderer(t,n,i,r,o,a)}}],renderAllRows:!0,fragmentSelection:"cell",disableVisualSelection:"area",beforeKeyDown:function(t){return e.onBeforeKeyDown(t)},afterOnCellMouseOver:function(n,i,r){e.isAllSubMenusClosed()?t(i.row):e.openSubMenu(i.row)},rowHeights:function(e){return i[e].name===m.SEPARATOR?1:23}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new r.default(this.container,o),this.hotMenu.addHook("afterInit",function(){return e.onAfterInit()}),this.hotMenu.addHook("afterSelection",function(){return e.onAfterSelection.apply(e,arguments)}),this.hotMenu.init(),this.hotMenu.listen(),this.blockMainTableCallbacks(),this.runLocalHooks("afterOpen")}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isOpened()&&(e&&this.parentMenu?this.parentMenu.close():(this.closeAllSubMenus(),this.container.style.display="none",this.releaseMainTableCallbacks(),this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.parentMenu&&this.parentMenu.hotMenu.listen()))}},{key:"openSubMenu",value:function(t){if(!this.hotMenu)return!1;var n=this.hotMenu.getCell(t,0);if(this.closeAllSubMenus(),!n||!(0,h.hasSubMenu)(n))return!1;var i=this.hotMenu.getSourceDataAtRow(t),r=new e(this.hot,{parent:this,name:i.name,className:this.options.className,keepInViewport:!0});return r.setMenuItems(i.submenu.items),r.open(),r.setPosition(n.getBoundingClientRect()),this.hotSubMenus[i.key]=r,r}},{key:"closeSubMenu",value:function(e){var t=this.hotMenu.getSourceDataAtRow(e),n=this.hotSubMenus[t.key];n&&(n.destroy(),delete this.hotSubMenus[t.key])}},{key:"closeAllSubMenus",value:function(){var e=this;(0,a.arrayEach)(this.hotMenu.getData(),function(t,n){return e.closeSubMenu(n)})}},{key:"isAllSubMenusClosed",value:function(){return 0===Object.keys(this.hotSubMenus).length}},{key:"destroy",value:function(){this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy()}},{key:"isOpened",value:function(){return null!==this.hotMenu}},{key:"executeCommand",value:function(e){if(this.isOpened()&&this.hotMenu.getSelectedLast()){var t=this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]);if(this.runLocalHooks("select",t,e),!1!==t.isCommand&&t.name!==m.SEPARATOR){var n=this.hot.getSelectedRange(),i=n?(0,h.normalizeSelection)(n):[],r=!0;(!0===t.disabled||"function"==typeof t.disabled&&!0===t.disabled.call(this.hot)||t.submenu)&&(r=!1),this.runLocalHooks("executeCommand",t.key,i,e),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",t.key,i,e),r&&this.close(!0)}}}},{key:"setPosition",value:function(e){var t=new s.default(e);this.options.keepInViewport?(t.fitsBelow(this.container)?this.setPositionBelowCursor(t):t.fitsAbove(this.container)?this.setPositionAboveCursor(t):this.setPositionBelowCursor(t),t.fitsOnRight(this.container)?this.setPositionOnRightOfCursor(t):this.setPositionOnLeftOfCursor(t)):(this.setPositionBelowCursor(t),this.setPositionOnRightOfCursor(t))}},{key:"setPositionAboveCursor",value:function(e){var t=this.offset.above+e.top-this.container.offsetHeight;this.isSubMenu()&&(t=e.top+e.cellHeight-this.container.offsetHeight+3),this.container.style.top=t+"px"}},{key:"setPositionBelowCursor",value:function(e){var t=this.offset.below+e.top;this.isSubMenu()&&(t=e.top-1),this.container.style.top=t+"px"}},{key:"setPositionOnRightOfCursor",value:function(e){var t=void 0;t=this.isSubMenu()?1+e.left+e.cellWidth:this.offset.right+1+e.left,this.container.style.left=t+"px"}},{key:"setPositionOnLeftOfCursor",value:function(e){var t=this.offset.left+e.left-this.container.offsetWidth+(0,o.getScrollbarWidth)()+4;this.container.style.left=t+"px"}},{key:"selectFirstCell",value:function(){var e=this.hotMenu.getCell(0,0);(0,h.isSeparator)(e)||(0,h.isDisabled)(e)||(0,h.isSelectionDisabled)(e)?this.selectNextCell(0,0):this.hotMenu.selectCell(0,0)}},{key:"selectLastCell",value:function(){var e=this.hotMenu.countRows()-1,t=this.hotMenu.getCell(e,0);(0,h.isSeparator)(t)||(0,h.isDisabled)(t)||(0,h.isSelectionDisabled)(t)?this.selectPrevCell(e,0):this.hotMenu.selectCell(e,0)}},{key:"selectNextCell",value:function(e,t){var n=e+1,i=n<this.hotMenu.countRows()?this.hotMenu.getCell(n,t):null;i&&((0,h.isSeparator)(i)||(0,h.isDisabled)(i)||(0,h.isSelectionDisabled)(i)?this.selectNextCell(n,t):this.hotMenu.selectCell(n,t))}},{key:"selectPrevCell",value:function(e,t){var n=e-1,i=n>=0?this.hotMenu.getCell(n,t):null;i&&((0,h.isSeparator)(i)||(0,h.isDisabled)(i)||(0,h.isSelectionDisabled)(i)?this.selectPrevCell(n,t):this.hotMenu.selectCell(n,t))}},{key:"menuItemRenderer",value:function(e,t,n,i,r,a){var s=this,l=e.getSourceDataAtRow(n),u=document.createElement("div"),d=function(e){return e.disableSelection};"function"==typeof a&&(a=a.call(this.hot)),(0,o.empty)(t),(0,o.addClass)(u,"htItemWrapper"),t.appendChild(u),!function(e){return new RegExp(m.SEPARATOR,"i").test(e.name)}(l)?"function"==typeof l.renderer?((0,o.addClass)(t,"htCustomMenuRenderer"),t.appendChild(l.renderer(e,u,n,i,r,a))):(0,o.fastInnerHTML)(u,a):(0,o.addClass)(t,"htSeparator"),!function(e){return!0===e.disabled||"function"==typeof e.disabled&&!0===e.disabled.call(s.hot)}(l)?d(l)?((0,o.addClass)(t,"htSelectionDisabled"),this.eventManager.addEventListener(t,"mouseenter",function(){return e.deselectCell()})):!function(e){return(0,c.hasOwnProperty)(e,"submenu")}(l)?((0,o.removeClass)(t,"htSubmenu"),(0,o.removeClass)(t,"htDisabled"),d(l)?this.eventManager.addEventListener(t,"mouseenter",function(){return e.deselectCell()}):this.eventManager.addEventListener(t,"mouseenter",function(){return e.selectCell(n,i,void 0,void 0,!1,!1)})):((0,o.addClass)(t,"htSubmenu"),d(l)?this.eventManager.addEventListener(t,"mouseenter",function(){return e.deselectCell()}):this.eventManager.addEventListener(t,"mouseenter",function(){return e.selectCell(n,i,void 0,void 0,!1,!1)})):((0,o.addClass)(t,"htDisabled"),this.eventManager.addEventListener(t,"mouseenter",function(){return e.deselectCell()}))}},{key:"createContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=void 0;return e?((0,d.isFunction)(e)&&(e=null===(e=e.call(this.hot))||(0,u.isUndefined)(e)?"":e.toString()),e=e.replace(/[^A-z0-9]/g,"_"),e=this.options.className+"Sub_"+e,t=document.querySelector("."+this.options.className+"."+e)):t=document.querySelector("."+this.options.className),t||(t=document.createElement("div"),(0,o.addClass)(t,"htMenu "+this.options.className),e&&(0,o.addClass)(t,e),document.getElementsByTagName("body")[0].appendChild(t)),t}},{key:"blockMainTableCallbacks",value:function(){this._afterScrollCallback=function(){},this.hot.addHook("afterScrollVertically",this._afterScrollCallback),this.hot.addHook("afterScrollHorizontally",this._afterScrollCallback)}},{key:"releaseMainTableCallbacks",value:function(){this._afterScrollCallback&&(this.hot.removeHook("afterScrollVertically",this._afterScrollCallback),this.hot.removeHook("afterScrollHorizontally",this._afterScrollCallback),this._afterScrollCallback=null)}},{key:"onBeforeKeyDown",value:function(e){var t=this.hotMenu.getSelectedLast(),n=!1;switch(this.keyEvent=!0,e.keyCode){case f.KEY_CODES.ESCAPE:this.close(),n=!0;break;case f.KEY_CODES.ENTER:t&&(this.hotMenu.getSourceDataAtRow(t[0]).submenu?n=!0:(this.executeCommand(e),this.close(!0)));break;case f.KEY_CODES.ARROW_DOWN:t?this.selectNextCell(t[0],t[1]):this.selectFirstCell(),n=!0;break;case f.KEY_CODES.ARROW_UP:t?this.selectPrevCell(t[0],t[1]):this.selectLastCell(),n=!0;break;case f.KEY_CODES.ARROW_RIGHT:if(t){var i=this.openSubMenu(t[0]);i&&i.selectFirstCell()}n=!0;break;case f.KEY_CODES.ARROW_LEFT:t&&this.isSubMenu()&&(this.close(),this.parentMenu&&this.parentMenu.hotMenu.listen(),n=!0)}n&&(e.preventDefault(),(0,g.stopImmediatePropagation)(e)),this.keyEvent=!1}},{key:"onAfterInit",value:function(){var e=this.hotMenu.getSettings().data,t=this.hotMenu.view.wt.wtTable.hider.style,n=this.hotMenu.view.wt.wtTable.holder.style,i=parseInt(t.width,10),r=(0,a.arrayReduce)(e,function(e,t){return e+(t.name===m.SEPARATOR?1:26)},0);n.width=i+22+"px",n.height=r+4+"px",t.height=n.height}},{key:"onAfterSelection",value:function(e,t,n,i,r){!1===this.keyEvent&&(r.value=!0)}},{key:"onDocumentMouseDown",value:function(e){this.isOpened()&&(this.container&&(0,o.isChildOf)(e.target,this.container)&&this.executeCommand(e),this.options.standalone&&this.hotMenu&&!(0,o.isChildOf)(e.target,this.hotMenu.rootElement)?this.close(!0):(this.isAllSubMenusClosed()||this.isSubMenu())&&!(0,o.isChildOf)(e.target,".htMenu")&&(0,o.isChildOf)(e.target,document)&&this.close(!0))}}]),e}();(0,c.mixin)(y,p.default),t.default=y},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),o=n(12);var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=(0,r.getWindowScrollTop)(),i=(0,r.getWindowScrollLeft)(),a=void 0,s=void 0,l=void 0,c=void 0,u=void 0,d=void 0;this.type=this.getSourceType(t),"literal"===this.type?(a=parseInt(t.top,10),l=parseInt(t.left,10),u=t.height||0,d=t.width||0,s=a,c=l,a+=n,l+=i):"event"===this.type&&(a=parseInt((0,o.pageY)(t),10),l=parseInt((0,o.pageX)(t),10),u=t.target.clientHeight,d=t.target.clientWidth,s=a-n,c=l-i),this.top=a,this.topRelative=s,this.left=l,this.leftRelative=c,this.scrollTop=n,this.scrollLeft=i,this.cellHeight=u,this.cellWidth=d}return i(e,[{key:"getSourceType",value:function(e){var t="literal";return e instanceof Event&&(t="event"),t}},{key:"fitsAbove",value:function(e){return this.topRelative>=e.offsetHeight}},{key:"fitsBelow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.innerHeight;return this.topRelative+e.offsetHeight<=t}},{key:"fitsOnRight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.innerWidth;return this.leftRelative+this.cellWidth+e.offsetWidth<=t}},{key:"fitsOnLeft",value:function(e){return this.leftRelative>=e.offsetWidth}}]),e}();t.default=a},function(e,t){},function(e,t,n){"use strict";t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=y(n(10)),s=y(n(15)),l=y(n(191)),c=n(4),u=n(0),d=n(1),h=n(5),f=n(8),p=y(n(315)),m=y(n(316)),g=y(n(317)),_=y(n(6)),v=y(n(318));function y(e){return e&&e.__esModule?e:{default:e}}n(320),s.default.getSingleton().register("afterCopyLimit"),s.default.getSingleton().register("modifyCopyableRange"),s.default.getSingleton().register("beforeCut"),s.default.getSingleton().register("afterCut"),s.default.getSingleton().register("beforePaste"),s.default.getSingleton().register("afterPaste"),s.default.getSingleton().register("beforeCopy"),s.default.getSingleton().register("afterCopy");var b=1e3,w=1e3,k=new WeakMap,M=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.eventManager=new _.default(n),n.columnsLimit=w,n.copyableRanges=[],n.pasteMode="overwrite",n.rowsLimit=b,n.textarea=void 0,k.set(n,{isTriggeredByCopy:!1,isTriggeredByCut:!1,isBeginEditing:!1,isFragmentSelectionEnabled:!1}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().copyPaste}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){var n=this.hot.getSettings(),r=k.get(this);this.textarea=p.default.getSingleton(),r.isFragmentSelectionEnabled=n.fragmentSelection,"object"===i(n.copyPaste)&&(this.pasteMode=n.copyPaste.pasteMode||this.pasteMode,this.rowsLimit=n.copyPaste.rowsLimit||this.rowsLimit,this.columnsLimit=n.copyPaste.columnsLimit||this.columnsLimit),this.addHook("afterContextMenuDefaultOptions",function(t){return e.onAfterContextMenuDefaultOptions(t)}),this.addHook("afterSelectionEnd",function(){return e.onAfterSelectionEnd()}),this.registerEvents(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.textarea&&this.textarea.destroy(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"setCopyableText",value:function(){var e=this.hot.getSelectedRangeLast();if(e){var t=e.getTopLeftCorner(),n=e.getBottomRightCorner(),i=t.row,r=t.col,o=n.row,a=n.col,s=Math.min(o,i+this.rowsLimit-1),l=Math.min(a,r+this.columnsLimit-1);this.copyableRanges.length=0,this.copyableRanges.push({startRow:i,startCol:r,endRow:s,endCol:l}),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges),o===s&&a===l||this.hot.runHooks("afterCopyLimit",o-i+1,a-r+1,this.rowsLimit,this.columnsLimit)}}},{key:"getRangedCopyableData",value:function(e){var t=this,n=[],i=[],r=[];return(0,d.arrayEach)(e,function(e){(0,h.rangeEach)(e.startRow,e.endRow,function(e){-1===i.indexOf(e)&&i.push(e)}),(0,h.rangeEach)(e.startCol,e.endCol,function(e){-1===r.indexOf(e)&&r.push(e)})}),(0,d.arrayEach)(i,function(e){var i=[];(0,d.arrayEach)(r,function(n){i.push(t.hot.getCopyableData(e,n))}),n.push(i)}),l.default.stringify(n)}},{key:"getRangedData",value:function(e){var t=this,n=[],i=[],r=[];return(0,d.arrayEach)(e,function(e){(0,h.rangeEach)(e.startRow,e.endRow,function(e){-1===i.indexOf(e)&&i.push(e)}),(0,h.rangeEach)(e.startCol,e.endCol,function(e){-1===r.indexOf(e)&&r.push(e)})}),(0,d.arrayEach)(i,function(e){var i=[];(0,d.arrayEach)(r,function(n){i.push(t.hot.getCopyableData(e,n))}),n.push(i)}),n}},{key:"copy",value:function(){k.get(this).isTriggeredByCopy=!0,this.textarea.select(),document.execCommand("copy")}},{key:"cut",value:function(){k.get(this).isTriggeredByCut=!0,this.textarea.select(),document.execCommand("cut")}},{key:"paste",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new v.default;t.clipboardData.setData("text/plain",e),this.onPaste(t)}},{key:"registerEvents",value:function(){var e=this;this.eventManager.addEventListener(this.textarea.element,"paste",function(t){return e.onPaste(t)}),this.eventManager.addEventListener(this.textarea.element,"cut",function(t){return e.onCut(t)}),this.eventManager.addEventListener(this.textarea.element,"copy",function(t){return e.onCopy(t)})}},{key:"onCopy",value:function(e){var t=k.get(this);if(this.hot.isListening()||t.isTriggeredByCopy){this.setCopyableText(),t.isTriggeredByCopy=!1;var n=this.getRangedData(this.copyableRanges),i="";!!this.hot.runHooks("beforeCopy",n,this.copyableRanges)&&(i=l.default.stringify(n),e&&e.clipboardData?e.clipboardData.setData("text/plain",i):"undefined"==typeof ClipboardEvent&&window.clipboardData.setData("Text",i),this.hot.runHooks("afterCopy",n,this.copyableRanges)),e.preventDefault()}}},{key:"onCut",value:function(e){var t=k.get(this);if(this.hot.isListening()||t.isTriggeredByCut){this.setCopyableText(),t.isTriggeredByCut=!1;var n=this.getRangedData(this.copyableRanges),i=void 0;!!this.hot.runHooks("beforeCut",n,this.copyableRanges)&&(i=l.default.stringify(n),e&&e.clipboardData?e.clipboardData.setData("text/plain",i):"undefined"==typeof ClipboardEvent&&window.clipboardData.setData("Text",i),this.hot.emptySelectedCells(),this.hot.runHooks("afterCut",n,this.copyableRanges)),e.preventDefault()}}},{key:"onPaste",value:function(e){var t=this;if(this.hot.isListening()){e&&e.preventDefault&&e.preventDefault();var n;if(e&&void 0!==e.clipboardData?this.textarea.setValue(e.clipboardData.getData("text/plain")):"undefined"==typeof ClipboardEvent&&void 0!==window.clipboardData&&this.textarea.setValue(window.clipboardData.getData("Text")),n=l.default.parse(this.textarea.getValue()),this.textarea.setValue(" "),0!==n.length)if(!!this.hot.runHooks("beforePaste",n,this.copyableRanges)){var i=this.hot.getSelectedLast(),r=new c.CellCoords(i[0],i[1]),o=new c.CellCoords(i[2],i[3]),a=new c.CellRange(r,r,o),s=a.getTopLeftCorner(),u=a.getBottomRightCorner(),h=s,f=new c.CellCoords(Math.max(u.row,n.length-1+s.row),Math.max(u.col,n[0].length-1+s.col)),p=o.row-r.row>=n.length-1,m=o.col-r.col>=n[0].length-1;this.hot.addHookOnce("afterChange",function(e){var n=e?e.length:0;if(n){var i={row:0,col:0},r=-1;(0,d.arrayEach)(e,function(t,o){var a=n>o+1?e[o+1]:null;a&&(p||(i.row+=Math.max(a[0]-t[0]-1,0)),!m&&t[1]>r&&(r=t[1],i.col+=Math.max(a[1]-t[1]-1,0)))}),t.hot.selectCell(h.row,h.col,f.row+i.row,f.col+i.col)}}),this.hot.populateFromArray(h.row,h.col,n,f.row,f.col,"CopyPaste.paste",this.pasteMode),this.hot.runHooks("afterPaste",n,this.copyableRanges)}}}},{key:"onAfterContextMenuDefaultOptions",value:function(e){e.items.push({name:"---------"},(0,m.default)(this),(0,g.default)(this))}},{key:"onAfterSelectionEnd",value:function(){var e=k.get(this),t=this.hot.getActiveEditor();t&&void 0!==t.isOpened&&t.isOpened()||e.isFragmentSelectionEnabled&&!this.textarea.isActive()&&(0,u.getSelectionText)()||(this.setCopyableText(),this.textarea.select())}},{key:"destroy",value:function(){this.textarea&&this.textarea.destroy(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}();(0,f.registerPlugin)("CopyPaste",M),t.default=M},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=void 0,this.isAppended=!1,this.refCounter=0}return i(e,null,[{key:"getSingleton",value:function(){return o.append(),o}}]),i(e,[{key:"append",value:function(){this.hasBeenDestroyed()&&this.create(),this.refCounter++,!this.isAppended&&document.body&&document.body&&(this.isAppended=!0,document.body.appendChild(this.element))}},{key:"create",value:function(){this.element=document.createElement("textarea"),this.element.id="HandsontableCopyPaste",this.element.className="copyPaste",this.element.tabIndex=-1,this.element.autocomplete="off",this.element.wrap="hard",this.element.value=" "}},{key:"deselect",value:function(){this.element===document.activeElement&&document.activeElement.blur()}},{key:"destroy",value:function(){this.refCounter--,this.refCounter=this.refCounter<0?0:this.refCounter,this.hasBeenDestroyed()&&this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.element=null,this.isAppended=!1)}},{key:"getValue",value:function(){return this.element.value}},{key:"hasBeenDestroyed",value:function(){return this.refCounter<1}},{key:"isActive",value:function(){return this.element===document.activeElement}},{key:"select",value:function(){this.element.focus(),this.element.select()}},{key:"setValue",value:function(e){this.element.value=e}}]),e}(),o=new r;t.default=r},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return{key:"copy",name:function(){return this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_COPY)},callback:function(){e.copy()},disabled:function(){var e=this.getSelected();return!e||e.length>1},hidden:!1}};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return{key:"cut",name:function(){return this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_CUT)},callback:function(){e.cut()},disabled:function(){var e=this.getSelected();return!e||e.length>1},hidden:!1}};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7))},function(e,t,n){"use strict";t.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(319));t.default=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.clipboardData=new i.default}},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data={}}return i(e,[{key:"setData",value:function(e,t){this.data[e]=t}},{key:"getData",value:function(e){return this.data[e]||void 0}}]),e}();t.default=r},function(e,t){},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=v(n(10)),a=n(8),s=n(2),l=n(5),c=n(4),u=(v(n(15)),n(1)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7)),h=v(n(322)),f=v(n(323)),p=v(n(324)),m=v(n(325)),g=v(n(326)),_=n(47);function v(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.savedBorderSettings=void 0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().customBorders}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.addHook("afterContextMenuDefaultOptions",function(t){return e.onAfterContextMenuDefaultOptions(t)}),this.addHook("afterInit",function(){return e.onAfterInit()}),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.clearBorders(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.changeBorderSettings(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"getSettingIndex",value:function(e){var t=-1;return(0,u.arrayEach)(this.hot.selection.highlight.borders,function(n,i){if(n.settings.className===e)return t=i,!1}),t}},{key:"insertBorderIntoSettings",value:function(e){var t={row:e.row,col:e.col},n=new c.Selection(e,new c.CellRange(t,t,t)),i=this.getSettingIndex(e.className);i>=0?this.hot.selection.highlight.borders[i]=n:this.hot.selection.highlight.borders.push(n)}},{key:"prepareBorderFromCustomAdded",value:function(e,t,n){var i=(0,_.createEmptyBorders)(e,t);i=(0,_.extendDefaultBorder)(i,n),this.hot.setCellMeta(e,t,"borders",i),this.insertBorderIntoSettings(i)}},{key:"prepareBorderFromCustomAddedRange",value:function(e){var t=this,n=e.range;(0,l.rangeEach)(n.from.row,n.to.row,function(i){(0,l.rangeEach)(n.from.col,n.to.col,function(r){var o=(0,_.createEmptyBorders)(i,r),a=0;i===n.from.row&&(a+=1,(0,s.hasOwnProperty)(e,"top")&&(o.top=e.top)),i===n.to.row&&(a+=1,(0,s.hasOwnProperty)(e,"bottom")&&(o.bottom=e.bottom)),r===n.from.col&&(a+=1,(0,s.hasOwnProperty)(e,"left")&&(o.left=e.left)),r===n.to.col&&(a+=1,(0,s.hasOwnProperty)(e,"right")&&(o.right=e.right)),a>0&&(t.hot.setCellMeta(i,r,"borders",o),t.insertBorderIntoSettings(o))})})}},{key:"removeBordersFromDom",value:function(e){var t=this.hot.rootElement.querySelectorAll("."+e+":not(td)");(0,l.rangeEach)(0,t.length-1,function(e){var n=t[e].parentNode;n.parentNode&&n.parentNode.removeChild(n)})}},{key:"removeAllBorders",value:function(e,t){var n=(0,_.createClassName)(e,t);this.removeBordersFromDom(n),this.hot.removeCellMeta(e,t,"borders")}},{key:"setBorder",value:function(e,t,n,i){var r=this.hot.getCellMeta(e,t).borders;r&&void 0!==r.border||(r=(0,_.createEmptyBorders)(e,t)),r[n]=i?(0,_.createSingleEmptyBorder)():(0,_.createDefaultCustomBorder)(),this.hot.setCellMeta(e,t,"borders",r);var o=(0,_.createClassName)(e,t);this.removeBordersFromDom(o),this.insertBorderIntoSettings(r),this.hot.render()}},{key:"prepareBorder",value:function(e,t,n){var i=this;(0,u.arrayEach)(e,function(e){var r=e.start,o=e.end;if(r.row===o.row&&r.col===o.col)"noBorders"===t?i.removeAllBorders(r.row,r.col):i.setBorder(r.row,r.col,t,n);else switch(t){case"noBorders":(0,l.rangeEach)(r.col,o.col,function(e){(0,l.rangeEach)(r.row,o.row,function(t){i.removeAllBorders(t,e)})});break;case"top":(0,l.rangeEach)(r.col,o.col,function(e){i.setBorder(r.row,e,t,n)});break;case"right":(0,l.rangeEach)(r.row,o.row,function(e){i.setBorder(e,o.col,t,n)});break;case"bottom":(0,l.rangeEach)(r.col,o.col,function(e){i.setBorder(o.row,e,t,n)});break;case"left":(0,l.rangeEach)(r.row,o.row,function(e){i.setBorder(e,r.col,t,n)})}})}},{key:"createCustomBorders",value:function(e){var t=this;(0,l.rangeEach)(0,e.length-1,function(n){e[n].range?t.prepareBorderFromCustomAddedRange(e[n]):t.prepareBorderFromCustomAdded(e[n].row,e[n].col,e[n])}),this.hot.render(),this.hot.view.wt.draw(!0)}},{key:"onAfterContextMenuDefaultOptions",value:function(e){this.hot.getSettings().customBorders&&e.items.push({name:"---------"},{key:"borders",name:function(){return this.getTranslatedPhrase(d.CONTEXTMENU_ITEMS_BORDERS)},disabled:function(){return this.selection.isSelectedByCorner()},submenu:{items:[(0,g.default)(this),(0,m.default)(this),(0,h.default)(this),(0,f.default)(this),(0,p.default)(this)]}})}},{key:"clearBorders",value:function(){var e=this,t=this.hot.rootElement.querySelectorAll('td[class^="border"]');(0,l.rangeEach)(0,t.length-1,function(n){e.removeBordersFromDom(t[n].className)})}},{key:"changeBorderSettings",value:function(){var e=this.hot.getSettings().customBorders;if(e)if(Array.isArray(e))this.savedBorderSettings=e,this.createCustomBorders(e);else if(void 0!==e){var t=this.savedBorderSettings?this.savedBorderSettings:e;this.createCustomBorders(t)}}},{key:"onAfterInit",value:function(){this.changeBorderSettings()}},{key:"destroy",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}();(0,a.registerPlugin)("customBorders",y),t.default=y},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return{key:"borders:bottom",name:function(){var e=this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_BORDERS_BOTTOM),t=(0,r.checkSelectionBorders)(this,"bottom");return t&&(e=(0,r.markSelected)(e)),e},callback:function(t,n){var i=(0,r.checkSelectionBorders)(this,"bottom");e.prepareBorder(n,"bottom",i)}}};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7)),r=n(47)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return{key:"borders:left",name:function(){var e=this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_BORDERS_LEFT),t=(0,r.checkSelectionBorders)(this,"left");return t&&(e=(0,r.markSelected)(e)),e},callback:function(t,n){var i=(0,r.checkSelectionBorders)(this,"left");e.prepareBorder(n,"left",i)}}};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7)),r=n(47)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return{key:"borders:no_borders",name:function(){return this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_REMOVE_BORDERS)},callback:function(t,n){e.prepareBorder(n,"noBorders")},disabled:function(){return!(0,r.checkSelectionBorders)(this)}}};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7)),r=n(47)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return{key:"borders:right",name:function(){var e=this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_BORDERS_RIGHT),t=(0,r.checkSelectionBorders)(this,"right");return t&&(e=(0,r.markSelected)(e)),e},callback:function(t,n){var i=(0,r.checkSelectionBorders)(this,"right");e.prepareBorder(n,"right",i)}}};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7)),r=n(47)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return{key:"borders:top",name:function(){var e=this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_BORDERS_TOP),t=(0,r.checkSelectionBorders)(this,"top");return t&&(e=(0,r.markSelected)(e)),e},callback:function(t,n){var i=(0,r.checkSelectionBorders)(this,"top");e.prepareBorder(n,"top",i)}}};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7)),r=n(47)},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=l(n(10)),a=l(n(6)),s=n(8);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.eventManager=new a.default(n),n.boundaries=null,n.callback=null,n.listening=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().dragToScroll}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.addHook("afterOnCellMouseDown",function(){return e.setupListening()}),this.addHook("afterOnCellCornerMouseDown",function(){return e.setupListening()}),this.registerEvents(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.unregisterEvents(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"setBoundaries",value:function(e){this.boundaries=e}},{key:"setCallback",value:function(e){this.callback=e}},{key:"check",value:function(e,t){var n=0,i=0;t<this.boundaries.top?i=t-this.boundaries.top:t>this.boundaries.bottom&&(i=t-this.boundaries.bottom),e<this.boundaries.left?n=e-this.boundaries.left:e>this.boundaries.right&&(n=e-this.boundaries.right),this.callback(n,i)}},{key:"registerEvents",value:function(){var e=this;this.eventManager.addEventListener(document,"mouseup",function(){return e.onMouseUp()}),this.eventManager.addEventListener(document,"mousemove",function(t){return e.onMouseMove(t)})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"setupListening",value:function(){var e=this.hot.view.wt.wtTable.holder;e!==window&&(this.setBoundaries(e.getBoundingClientRect()),this.setCallback(function(t,n){t<0?e.scrollLeft-=50:t>0&&(e.scrollLeft+=50),n<0?e.scrollTop-=20:n>0&&(e.scrollTop+=20)}),this.listening=!0)}},{key:"onMouseMove",value:function(e){this.listening&&this.check(e.clientX,e.clientY)}},{key:"onMouseUp",value:function(){this.listening=!1}},{key:"destroy",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}();(0,s.registerPlugin)("dragToScroll",c),t.default=c},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=u(n(10)),a=n(8),s=n(1),l=u(n(329)),c=u(n(330));function u(e){return e&&e.__esModule?e:{default:e}}n(331);var d=new WeakMap,h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return d.set(n,{moveByFreeze:!1,afterFirstUse:!1}),n.frozenColumnsBasePositions=[],n.manualColumnMovePlugin=void 0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().manualColumnFreeze}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.addHook("afterContextMenuDefaultOptions",function(t){return e.addContextMenuEntry(t)}),this.addHook("afterInit",function(){return e.onAfterInit()}),this.addHook("beforeColumnMove",function(t,n){return e.onBeforeColumnMove(t,n)}),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){var e=d.get(this);e.afterFirstUse=!1,e.moveByFreeze=!1,r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"freezeColumn",value:function(e){var t=d.get(this),n=this.hot.getSettings();t.afterFirstUse||(t.afterFirstUse=!0),n.fixedColumnsLeft===this.hot.countCols()||e<=n.fixedColumnsLeft-1||(t.moveByFreeze=!0,e!==this.getMovePlugin().columnsMapper.getValueByIndex(e)&&(this.frozenColumnsBasePositions[n.fixedColumnsLeft]=e),this.getMovePlugin().moveColumn(e,n.fixedColumnsLeft++))}},{key:"unfreezeColumn",value:function(e){var t=d.get(this),n=this.hot.getSettings();if(t.afterFirstUse||(t.afterFirstUse=!0),!(n.fixedColumnsLeft<=0||e>n.fixedColumnsLeft-1)){var i=this.getBestColumnReturnPosition(e);t.moveByFreeze=!0,n.fixedColumnsLeft--,this.getMovePlugin().moveColumn(e,i+1)}}},{key:"getMovePlugin",value:function(){return this.manualColumnMovePlugin||(this.manualColumnMovePlugin=this.hot.getPlugin("manualColumnMove")),this.manualColumnMovePlugin}},{key:"getBestColumnReturnPosition",value:function(e){var t=this.getMovePlugin(),n=this.hot.getSettings().fixedColumnsLeft,i=t.columnsMapper.getValueByIndex(n),r=void 0;if(null===this.frozenColumnsBasePositions[e]||void 0===this.frozenColumnsBasePositions[e])for(r=t.columnsMapper.getValueByIndex(e);null!==i&&i<=r;)n++,i=t.columnsMapper.getValueByIndex(n);else{for(r=this.frozenColumnsBasePositions[e],this.frozenColumnsBasePositions[e]=void 0;null!==i&&i<=r;)n++,i=t.columnsMapper.getValueByIndex(n);n=i}return n-1}},{key:"addContextMenuEntry",value:function(e){e.items.push({name:"---------"},(0,l.default)(this),(0,c.default)(this))}},{key:"onAfterInit",value:function(){this.getMovePlugin().isEnabled()||this.getMovePlugin().enablePlugin()}},{key:"onBeforeColumnMove",value:function(e,t){var n=d.get(this);if(n.afterFirstUse&&!n.moveByFreeze){var i=this.hot.getSettings().fixedColumnsLeft,r=t<i;if(r||(0,s.arrayEach)(e,function(e,t,n){if(e<i)return r=!0,!1}),r)return!1}n.moveByFreeze&&(n.moveByFreeze=!1)}},{key:"destroy",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}();(0,a.registerPlugin)("manualColumnFreeze",h),t.default=h},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){return{key:"freeze_column",name:function(){return this.getTranslatedPhrase(r.CONTEXTMENU_ITEMS_FREEZE_COLUMN)},callback:function(t,n){var r=i(n,1),o=r[0].start.col;e.freezeColumn(o),this.render(),this.view.wt.wtOverlays.adjustElementsSize(!0)},hidden:function(){var e=this.getSelectedRange(),t=!1;return void 0===e?t=!0:e.length>1?t=!0:(e[0].from.col!==e[0].to.col||e[0].from.col<=this.getSettings().fixedColumnsLeft-1)&&(t=!0),t}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7))},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){return{key:"unfreeze_column",name:function(){return this.getTranslatedPhrase(r.CONTEXTMENU_ITEMS_UNFREEZE_COLUMN)},callback:function(t,n){var r=i(n,1),o=r[0].start.col;e.unfreezeColumn(o),this.render(),this.view.wt.wtOverlays.adjustElementsSize(!0)},hidden:function(){var e=this.getSelectedRange(),t=!1;return void 0===e?t=!0:e.length>1?t=!0:(e[0].from.col!==e[0].to.col||e[0].from.col>=this.getSettings().fixedColumnsLeft)&&(t=!0),t}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7))},function(e,t){},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=m(n(10)),a=m(n(15)),s=n(1),l=n(0),c=n(5),u=m(n(6)),d=n(8),h=m(n(333)),f=m(n(334)),p=m(n(335));n(4);function m(e){return e&&e.__esModule?e:{default:e}}n(336),a.default.getSingleton().register("beforeColumnMove"),a.default.getSingleton().register("afterColumnMove"),a.default.getSingleton().register("unmodifyCol");var g=new WeakMap,_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return g.set(n,{columnsToMove:[],countCols:0,fixedColumns:0,pressed:void 0,disallowMoving:void 0,target:{eventPageX:void 0,coords:void 0,TD:void 0,col:void 0}}),n.removedColumns=[],n.columnsMapper=new h.default(n),n.eventManager=new u.default(n),n.backlight=new f.default(e),n.guideline=new p.default(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().manualColumnMove}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(t,n,i,r){return e.onBeforeOnCellMouseDown(t,n,i,r)}),this.addHook("beforeOnCellMouseOver",function(t,n,i,r){return e.onBeforeOnCellMouseOver(t,n,i,r)}),this.addHook("afterScrollVertically",function(){return e.onAfterScrollVertically()}),this.addHook("modifyCol",function(t,n){return e.onModifyCol(t,n)}),this.addHook("beforeRemoveCol",function(t,n){return e.onBeforeRemoveCol(t,n)}),this.addHook("afterRemoveCol",function(){return e.onAfterRemoveCol()}),this.addHook("afterCreateCol",function(t,n){return e.onAfterCreateCol(t,n)}),this.addHook("afterLoadData",function(){return e.onAfterLoadData()}),this.addHook("unmodifyCol",function(t){return e.onUnmodifyCol(t)}),this.registerEvents(),(0,l.addClass)(this.hot.rootElement,"ht__manualColumnMove"),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.onAfterPluginsInitialized(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var e=this.hot.getSettings().manualColumnMove;Array.isArray(e)&&this.columnsMapper.clearMap(),(0,l.removeClass)(this.hot.rootElement,"ht__manualColumnMove"),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"moveColumn",value:function(e,t){this.moveColumns([e],t)}},{key:"moveColumns",value:function(e,t){var n=this,i=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e)),r=g.get(this),o=this.hot.runHooks("beforeColumnMove",i,t);r.disallowMoving=!o,!1!==o&&((0,s.arrayEach)(e,function(e,t,i){i[t]=n.columnsMapper.getValueByIndex(e)}),(0,s.arrayEach)(e,function(e,i){var r=n.columnsMapper.getIndexByValue(e);r!==t&&n.columnsMapper.moveColumn(r,t+i)}),this.columnsMapper.clearNull()),this.hot.runHooks("afterColumnMove",i,t)}},{key:"changeSelection",value:function(e,t){this.hot.selectColumns(e,t)}},{key:"getColumnsWidth",value:function(e,t){for(var n=0,i=e;i<t;i++){n+=i<0?this.hot.view.wt.wtViewport.getRowHeaderWidth()||0:this.hot.view.wt.wtTable.getStretchedColumnWidth(i)||0}return n}},{key:"initialSettings",value:function(){var e=this.hot.getSettings().manualColumnMove;Array.isArray(e)?this.moveColumns(e,0):void 0!==e&&this.persistentStateLoad()}},{key:"isFixedColumnsLeft",value:function(e){return e<this.hot.getSettings().fixedColumnsLeft}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.columnsMapper._arrayMap)}},{key:"persistentStateLoad",value:function(){var e={};this.hot.runHooks("persistentStateLoad","manualColumnMove",e),e.value&&(this.columnsMapper._arrayMap=e.value)}},{key:"prepareColumnsToMoving",value:function(e,t){var n=[];return(0,c.rangeEach)(e,t,function(e){n.push(e)}),n}},{key:"refreshPositions",value:function(){var e=g.get(this),t=this.hot.view.wt.wtTable.getFirstVisibleColumn(),n=this.hot.view.wt.wtTable.getLastVisibleColumn(),i=this.hot.view.wt.wtTable,r=this.hot.view.wt.wtOverlays.scrollableElement,o="number"==typeof r.scrollX?r.scrollX:r.scrollLeft,a=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,e.coordsColumn),s=e.target.eventPageX-(e.rootElementOffset-(void 0===r.scrollX?o:0)),l=i.hider.offsetWidth,c=i.TBODY.offsetLeft,u=this.backlight.getOffset().left,d=this.backlight.getSize().width,h=0;if(e.rootElementOffset+i.holder.offsetWidth+o<e.target.eventPageX&&e.coordsColumn<e.countCols&&e.coordsColumn++,e.hasRowHeaders&&(h=this.hot.view.wt.wtOverlays.leftOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsLeft(e.coordsColumn)&&(a+=o),a+=h,e.coordsColumn<0)e.fixedColumns>0?e.target.col=0:e.target.col=t>0?t-1:t;else if(e.target.TD.offsetWidth/2+a<=s){var f=e.coordsColumn>=e.countCols?e.countCols-1:e.coordsColumn;e.target.col=f+1,a+=e.target.TD.offsetWidth,e.target.col>n&&this.hot.scrollViewportTo(void 0,n+1,void 0,!0)}else e.target.col=e.coordsColumn,e.target.col<=t&&e.target.col>=e.fixedColumns&&this.hot.scrollViewportTo(void 0,t-1);e.target.col<=t&&e.target.col>=e.fixedColumns&&this.hot.scrollViewportTo(void 0,t-1);var p=s,m=a;s+d+u>=l?p=l-d-u:s+u<c+h&&(p=c+h+Math.abs(u)),a>=l-1?m=l-1:0===m?m=1:void 0!==r.scrollX&&e.coordsColumn<e.fixedColumns&&(m-=e.rootElementOffset<=r.scrollX?e.rootElementOffset:0),this.backlight.setPosition(null,p),this.guideline.setPosition(null,m)}},{key:"updateColumnsMapper",value:function(){var e=this.hot.countSourceCols(),t=this.columnsMapper._arrayMap.length;if(0===t)this.columnsMapper.createMap(e||this.hot.getSettings().startCols);else if(t<e){var n=e-t;this.columnsMapper.insertItems(t,n)}else if(t>e){var i=e-1,r=[];(0,s.arrayEach)(this.columnsMapper._arrayMap,function(e,t){e>i&&r.push(t)}),this.columnsMapper.removeItems(r)}}},{key:"registerEvents",value:function(){var e=this;this.eventManager.addEventListener(document.documentElement,"mousemove",function(t){return e.onMouseMove(t)}),this.eventManager.addEventListener(document.documentElement,"mouseup",function(){return e.onMouseUp()})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeOnCellMouseDown",value:function(e,t,n,i){var r=this.hot.view.wt.wtTable,o=this.hot.selection.isSelectedByColumnHeader(),a=this.hot.getSelectedRangeLast(),s=g.get(this),c=e.realTarget.className.indexOf("columnSorting")>-1;if(!a||!o||s.pressed||0!==e.button||c)return s.pressed=!1,s.columnsToMove.length=0,void(0,l.removeClass)(this.hot.rootElement,["on-moving--columns","show-ui"]);var u=this.guideline.isBuilt()&&!this.guideline.isAppended(),d=this.backlight.isBuilt()&&!this.backlight.isAppended();u&&d&&(this.guideline.appendTo(r.hider),this.backlight.appendTo(r.hider));var h=a.from,f=a.to,p=Math.min(h.col,f.col),m=Math.max(h.col,f.col);if(t.row<0&&t.col>=p&&t.col<=m){i.column=!0,s.pressed=!0,s.target.eventPageX=e.pageX,s.coordsColumn=t.col,s.target.TD=n,s.target.col=t.col,s.columnsToMove=this.prepareColumnsToMoving(p,m),s.hasRowHeaders=!!this.hot.getSettings().rowHeaders,s.countCols=this.hot.countCols(),s.fixedColumns=this.hot.getSettings().fixedColumnsLeft,s.rootElementOffset=(0,l.offset)(this.hot.rootElement).left;var _=s.hasRowHeaders?-1:0,v=r.holder.scrollTop+r.getColumnHeaderHeight(0)+1,y=t.col<s.fixedColumns,b=this.hot.view.wt.wtOverlays.scrollableElement,w=b.scrollX?b.scrollX-s.rootElementOffset:0,k=e.layerX-(y?w:0),M=Math.abs(this.getColumnsWidth(p,t.col)+k);this.backlight.setPosition(v,this.getColumnsWidth(_,p)+M),this.backlight.setSize(this.getColumnsWidth(p,m+1),r.hider.offsetHeight-v),this.backlight.setOffset(null,-1*M),(0,l.addClass)(this.hot.rootElement,"on-moving--columns")}else(0,l.removeClass)(this.hot.rootElement,"after-selection--columns"),s.pressed=!1,s.columnsToMove.length=0}},{key:"onMouseMove",value:function(e){var t=g.get(this);if(t.pressed){if(e.realTarget===this.backlight.element){var n=this.backlight.getSize().width;this.backlight.setSize(0),setTimeout(function(){this.backlight.setPosition(n)})}t.target.eventPageX=e.pageX,this.refreshPositions()}}},{key:"onBeforeOnCellMouseOver",value:function(e,t,n,i){var r=this.hot.getSelectedRangeLast(),o=g.get(this);r&&o.pressed&&(o.columnsToMove.indexOf(t.col)>-1?(0,l.removeClass)(this.hot.rootElement,"show-ui"):(0,l.addClass)(this.hot.rootElement,"show-ui"),i.row=!0,i.column=!0,i.cell=!0,o.coordsColumn=t.col,o.target.TD=n)}},{key:"onMouseUp",value:function(){var e=g.get(this);if(e.coordsColumn=void 0,e.pressed=!1,e.backlightWidth=0,(0,l.removeClass)(this.hot.rootElement,["on-moving--columns","show-ui","after-selection--columns"]),this.hot.selection.isSelectedByColumnHeader()&&(0,l.addClass)(this.hot.rootElement,"after-selection--columns"),!(e.columnsToMove.length<1||void 0===e.target.col||e.columnsToMove.indexOf(e.target.col)>-1)){if(this.moveColumns(e.columnsToMove,e.target.col),this.persistentStateSave(),this.hot.render(),this.hot.view.wt.wtOverlays.adjustElementsSize(!0),!e.disallowMoving){var t=this.columnsMapper.getIndexByValue(e.columnsToMove[0]),n=this.columnsMapper.getIndexByValue(e.columnsToMove[e.columnsToMove.length-1]);this.changeSelection(t,n)}e.columnsToMove.length=0}}},{key:"onAfterScrollVertically",value:function(){var e=this.hot.view.wt.wtTable,t=e.getColumnHeaderHeight(0)+1+e.holder.scrollTop;this.backlight.setPosition(t),this.backlight.setSize(null,e.hider.offsetHeight-t)}},{key:"onAfterCreateCol",value:function(e,t){this.columnsMapper.shiftItems(e,t)}},{key:"onBeforeRemoveCol",value:function(e,t){var n=this;this.removedColumns.length=0,!1!==e&&(0,c.rangeEach)(e,e+t-1,function(e){n.removedColumns.push(n.hot.runHooks("modifyCol",e,n.pluginName))})}},{key:"onAfterRemoveCol",value:function(){this.columnsMapper.unshiftItems(this.removedColumns)}},{key:"onAfterLoadData",value:function(){this.updateColumnsMapper()}},{key:"onModifyCol",value:function(e,t){if(t!==this.pluginName){var n=this.columnsMapper.getValueByIndex(e);e=null===n?e:n}return e}},{key:"onUnmodifyCol",value:function(e){var t=this.columnsMapper.getIndexByValue(e);return null===t?e:t}},{key:"onAfterPluginsInitialized",value:function(){this.updateColumnsMapper(),this.initialSettings(),this.backlight.build(),this.guideline.build()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}();(0,d.registerPlugin)("ManualColumnMove",_),t.default=_},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(201)),o=n(1),a=n(2),s=n(5);var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.manualColumnMove=t}return i(e,[{key:"createMap",value:function(e){var t=this,n=void 0===e?this._arrayMap.length:e;this._arrayMap.length=0,(0,s.rangeEach)(n-1,function(e){t._arrayMap[e]=e})}},{key:"destroy",value:function(){this._arrayMap=null}},{key:"moveColumn",value:function(e,t){var n=this._arrayMap[e];this._arrayMap[e]=null,this._arrayMap.splice(t,0,n)}},{key:"clearNull",value:function(){this._arrayMap=(0,o.arrayFilter)(this._arrayMap,function(e){return null!==e})}}]),e}();(0,a.mixin)(l,r.default),t.default=l},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(202)),o=n(0);var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"build",value:function(){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"build",this).call(this),(0,o.addClass)(this._element,"ht__manualColumnMove--backlight")}}]),t}();t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(202)),o=n(0);var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"build",value:function(){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"build",this).call(this),(0,o.addClass)(this._element,"ht__manualColumnMove--guideline")}}]),t}();t.default=a},function(e,t){},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=h(n(10)),a=n(0),s=h(n(6)),l=n(12),c=n(1),u=n(5),d=n(8);function h(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.currentTH=null,n.currentCol=null,n.selectedCols=[],n.currentWidth=null,n.newSize=null,n.startY=null,n.startWidth=null,n.startOffset=null,n.handle=document.createElement("DIV"),n.guide=document.createElement("DIV"),n.eventManager=new s.default(n),n.pressed=null,n.dblclick=0,n.autoresizeTimeout=null,n.manualColumnWidths=[],(0,a.addClass)(n.handle,"manualColumnResizer"),(0,a.addClass)(n.guide,"manualColumnResizerGuide"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"isEnabled",value:function(){return this.hot.getSettings().manualColumnResize}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){this.manualColumnWidths=[];var n=this.hot.getSettings().manualColumnResize,i=this.loadManualColumnWidths();this.addHook("modifyColWidth",function(t,n){return e.onModifyColWidth(t,n)}),this.addHook("beforeStretchingColumnWidth",function(t,n){return e.onBeforeStretchingColumnWidth(t,n)}),this.addHook("beforeColumnResize",function(t,n,i){return e.onBeforeColumnResize(t,n,i)}),void 0!==i?this.manualColumnWidths=i:Array.isArray(n)?this.manualColumnWidths=n:this.manualColumnWidths=[],this.bindEvents(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var e=this.hot.getSettings().manualColumnResize;Array.isArray(e)?this.manualColumnWidths=e:e||(this.manualColumnWidths=[])}},{key:"disablePlugin",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"saveManualColumnWidths",value:function(){this.hot.runHooks("persistentStateSave","manualColumnWidths",this.manualColumnWidths)}},{key:"loadManualColumnWidths",value:function(){var e={};return this.hot.runHooks("persistentStateLoad","manualColumnWidths",e),e.value}},{key:"setupHandlePosition",value:function(e){var t=this;if(!e.parentNode)return!1;this.currentTH=e;var n=this.hot.view.wt.wtTable.getCoords(e).col,i=(0,a.outerHeight)(this.currentTH);if(n>=0){var r=this.currentTH.getBoundingClientRect();if(this.currentCol=n,this.selectedCols=[],this.hot.selection.isSelected()&&this.hot.selection.isSelectedByColumnHeader()){var o=this.hot.getSelectedRangeLast(),s=o.from,l=o.to,c=s.col,d=l.col;c>=d&&(c=l.col,d=s.col),this.currentCol>=c&&this.currentCol<=d?(0,u.rangeEach)(c,d,function(e){return t.selectedCols.push(e)}):this.selectedCols.push(this.currentCol)}else this.selectedCols.push(this.currentCol);this.startOffset=r.left-6,this.startWidth=parseInt(r.width,10),this.handle.style.top=r.top+"px",this.handle.style.left=this.startOffset+this.startWidth+"px",this.handle.style.height=i+"px",this.hot.rootElement.appendChild(this.handle)}}},{key:"refreshHandlePosition",value:function(){this.handle.style.left=this.startOffset+this.currentWidth+"px"}},{key:"setupGuidePosition",value:function(){var e=parseInt((0,a.outerHeight)(this.handle),10),t=parseInt(this.handle.style.top,10)+e,n=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);(0,a.addClass)(this.handle,"active"),(0,a.addClass)(this.guide,"active"),this.guide.style.top=t+"px",this.guide.style.left=this.handle.style.left,this.guide.style.height=n-e+"px",this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style.left=this.handle.style.left}},{key:"hideHandleAndGuide",value:function(){(0,a.removeClass)(this.handle,"active"),(0,a.removeClass)(this.guide,"active")}},{key:"checkIfColumnHeader",value:function(e){if(e!=this.hot.rootElement){var t=e.parentNode;return"THEAD"===t.tagName||this.checkIfColumnHeader(t)}return!1}},{key:"getTHFromTargetElement",value:function(e){return"TABLE"!=e.tagName?"TH"==e.tagName?e:this.getTHFromTargetElement(e.parentNode):null}},{key:"onMouseOver",value:function(e){if(this.checkIfColumnHeader(e.target)){var t=this.getTHFromTargetElement(e.target);if(!t)return;var n=t.getAttribute("colspan");!t||null!==n&&1!==n||this.pressed||this.setupHandlePosition(t)}}},{key:"afterMouseDownTimeout",value:function(){var e=this,t=function(){e.hot.forceFullRender=!0,e.hot.view.render(),e.hot.view.wt.wtOverlays.adjustElementsSize(!0)},n=function(n,i){var r=e.hot.runHooks("beforeColumnResize",n,e.newSize,!0);void 0!==r&&(e.newSize=r),"all"===e.hot.getSettings().stretchH?e.clearManualSize(n):e.setManualSize(n,e.newSize),i&&t(),e.saveManualColumnWidths(),e.hot.runHooks("afterColumnResize",n,e.newSize,!0)};this.dblclick>=2&&(this.selectedCols.length>1?((0,c.arrayEach)(this.selectedCols,function(e){n(e)}),t()):(0,c.arrayEach)(this.selectedCols,function(e){n(e,!0)}));this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(e){var t=this;(0,a.hasClass)(e.target,"manualColumnResizer")&&(this.setupGuidePosition(),this.pressed=this.hot,null===this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return t.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick++,this.startX=(0,l.pageX)(e),this.newSize=this.startWidth)}},{key:"onMouseMove",value:function(e){var t=this;this.pressed&&(this.currentWidth=this.startWidth+((0,l.pageX)(e)-this.startX),(0,c.arrayEach)(this.selectedCols,function(e){t.newSize=t.setManualSize(e,t.currentWidth)}),this.refreshHandlePosition(),this.refreshGuidePosition())}},{key:"onMouseUp",value:function(e){var t=this,n=function(){t.hot.forceFullRender=!0,t.hot.view.render(),t.hot.view.wt.wtOverlays.adjustElementsSize(!0)},i=function(e,i){t.hot.runHooks("beforeColumnResize",e,t.newSize),i&&n(),t.saveManualColumnWidths(),t.hot.runHooks("afterColumnResize",e,t.newSize)};if(this.pressed){if(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!=this.startWidth)this.selectedCols.length>1?((0,c.arrayEach)(this.selectedCols,function(e){i(e)}),n()):(0,c.arrayEach)(this.selectedCols,function(e){i(e,!0)});this.setupHandlePosition(this.currentTH)}}},{key:"bindEvents",value:function(){var e=this;this.eventManager.addEventListener(this.hot.rootElement,"mouseover",function(t){return e.onMouseOver(t)}),this.eventManager.addEventListener(this.hot.rootElement,"mousedown",function(t){return e.onMouseDown(t)}),this.eventManager.addEventListener(window,"mousemove",function(t){return e.onMouseMove(t)}),this.eventManager.addEventListener(window,"mouseup",function(t){return e.onMouseUp(t)})}},{key:"setManualSize",value:function(e,t){return t=Math.max(t,20),e=this.hot.runHooks("modifyCol",e),this.manualColumnWidths[e]=t,t}},{key:"clearManualSize",value:function(e){e=this.hot.runHooks("modifyCol",e),this.manualColumnWidths[e]=void 0}},{key:"onModifyColWidth",value:function(e,t){return this.enabled&&(t=this.hot.runHooks("modifyCol",t),this.hot.getSettings().manualColumnResize&&this.manualColumnWidths[t])?this.manualColumnWidths[t]:e}},{key:"onBeforeStretchingColumnWidth",value:function(e,t){var n=this.manualColumnWidths[t];return void 0===n&&(n=e),n}},{key:"onBeforeColumnResize",value:function(){this.hot.view.wt.wtViewport.hasOversizedColumnHeadersMarked={}}}]),t}();(0,d.registerPlugin)("manualColumnResize",f),t.default=f},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=m(n(10)),a=m(n(15)),s=n(1),l=n(0),c=n(5),u=m(n(6)),d=n(8),h=m(n(339)),f=m(n(340)),p=m(n(341));n(4);function m(e){return e&&e.__esModule?e:{default:e}}n(342),a.default.getSingleton().register("beforeRowMove"),a.default.getSingleton().register("afterRowMove"),a.default.getSingleton().register("unmodifyRow");var g=new WeakMap,_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return g.set(n,{rowsToMove:[],pressed:void 0,disallowMoving:void 0,target:{eventPageY:void 0,coords:void 0,TD:void 0,row:void 0}}),n.removedRows=[],n.rowsMapper=new h.default(n),n.eventManager=new u.default(n),n.backlight=new f.default(e),n.guideline=new p.default(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().manualRowMove}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(t,n,i,r){return e.onBeforeOnCellMouseDown(t,n,i,r)}),this.addHook("beforeOnCellMouseOver",function(t,n,i,r){return e.onBeforeOnCellMouseOver(t,n,i,r)}),this.addHook("afterScrollHorizontally",function(){return e.onAfterScrollHorizontally()}),this.addHook("modifyRow",function(t,n){return e.onModifyRow(t,n)}),this.addHook("beforeRemoveRow",function(t,n){return e.onBeforeRemoveRow(t,n)}),this.addHook("afterRemoveRow",function(){return e.onAfterRemoveRow()}),this.addHook("afterCreateRow",function(t,n){return e.onAfterCreateRow(t,n)}),this.addHook("afterLoadData",function(){return e.onAfterLoadData()}),this.addHook("beforeColumnSort",function(t,n){return e.onBeforeColumnSort(t,n)}),this.addHook("unmodifyRow",function(t){return e.onUnmodifyRow(t)}),this.registerEvents(),(0,l.addClass)(this.hot.rootElement,"ht__manualRowMove"),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.onAfterPluginsInitialized(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var e=this.hot.getSettings().manualRowMove;Array.isArray(e)&&this.rowsMapper.clearMap(),(0,l.removeClass)(this.hot.rootElement,"ht__manualRowMove"),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"moveRow",value:function(e,t){this.moveRows([e],t)}},{key:"moveRows",value:function(e,t){var n=this,i=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e)),r=g.get(this),o=this.hot.runHooks("beforeRowMove",i,t);r.disallowMoving=!1===o,r.disallowMoving||((0,s.arrayEach)(e,function(e,t,i){i[t]=n.rowsMapper.getValueByIndex(e)}),(0,s.arrayEach)(e,function(e,i){var r=n.rowsMapper.getIndexByValue(e);r!==t&&n.rowsMapper.moveRow(r,t+i)}),this.rowsMapper.clearNull()),this.hot.runHooks("afterRowMove",i,t)}},{key:"changeSelection",value:function(e,t){this.hot.selectRows(e,t)}},{key:"getRowsHeight",value:function(e,t){for(var n=0,i=e;i<t;i++){n+=this.hot.view.wt.wtTable.getRowHeight(i)||23}return n}},{key:"initialSettings",value:function(){var e=this.hot.getSettings().manualRowMove;if(Array.isArray(e))this.moveRows(e,0);else if(void 0!==e){var t=this.persistentStateLoad();t.length&&this.moveRows(t,0)}}},{key:"isFixedRowTop",value:function(e){return e<this.hot.getSettings().fixedRowsTop}},{key:"isFixedRowBottom",value:function(e){return e>this.hot.getSettings().fixedRowsBottom}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualRowMove",this.rowsMapper._arrayMap)}},{key:"persistentStateLoad",value:function(){var e={};return this.hot.runHooks("persistentStateLoad","manualRowMove",e),e.value?e.value:[]}},{key:"prepareRowsToMoving",value:function(){var e=this.hot.getSelectedRangeLast(),t=[];if(!e)return t;var n=e.from,i=e.to,r=Math.min(n.row,i.row),o=Math.max(n.row,i.row);return(0,c.rangeEach)(r,o,function(e){t.push(e)}),t}},{key:"refreshPositions",value:function(){var e=g.get(this),t=e.target.coords,n=this.hot.view.wt.wtTable.getFirstVisibleRow(),i=this.hot.view.wt.wtTable.getLastVisibleRow(),r=this.hot.getSettings().fixedRowsTop,o=this.hot.countRows();t.row<r&&n>0&&this.hot.scrollViewportTo(n-1),t.row>=i&&i<o&&this.hot.scrollViewportTo(i+1,void 0,!0);var a=this.hot.view.wt.wtTable,s=e.target.TD,c=(0,l.offset)(this.hot.rootElement),u=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,t.row),d=e.target.eventPageY-c.top+a.holder.scrollTop,h=a.hider.offsetHeight,f=a.TBODY.offsetTop,p=this.backlight.getOffset().top,m=this.backlight.getSize().height;this.isFixedRowTop(t.row)&&(u+=a.holder.scrollTop),t.row<0?e.target.row=n>0?n-1:n:s.offsetHeight/2+u<=d?(e.target.row=t.row+1,u+=0===t.row?s.offsetHeight-1:s.offsetHeight):e.target.row=t.row;var _=d,v=u;d+m+p>=h?_=h-m-p:d+p<f&&(_=f+Math.abs(p)),u>=h-1&&(v=h-1);var y=0;this.hot.view.wt.wtOverlays.topOverlay&&(y=this.hot.view.wt.wtOverlays.topOverlay.clone.wtTable.TABLE.offsetHeight),t.row>=r&&v-a.holder.scrollTop<y&&this.hot.scrollViewportTo(t.row),this.backlight.setPosition(_),this.guideline.setPosition(v)}},{key:"updateRowsMapper",value:function(){var e=this.hot.countSourceRows(),t=this.rowsMapper._arrayMap.length;if(0===t)this.rowsMapper.createMap(e||this.hot.getSettings().startRows);else if(t<e){var n=e-t;this.rowsMapper.insertItems(t,n)}else if(t>e){var i=e-1,r=[];(0,s.arrayEach)(this.rowsMapper._arrayMap,function(e,t){e>i&&r.push(t)}),this.rowsMapper.removeItems(r)}}},{key:"registerEvents",value:function(){var e=this;this.eventManager.addEventListener(document.documentElement,"mousemove",function(t){return e.onMouseMove(t)}),this.eventManager.addEventListener(document.documentElement,"mouseup",function(){return e.onMouseUp()})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeColumnSort",value:function(e,t){g.get(this).disallowMoving=void 0!==t}},{key:"onBeforeOnCellMouseDown",value:function(e,t,n,i){var r=this.hot.view.wt.wtTable,o=this.hot.selection.isSelectedByRowHeader(),a=this.hot.getSelectedRangeLast(),s=g.get(this);if(!a||!o||s.pressed||0!==e.button)return s.pressed=!1,s.rowsToMove.length=0,void(0,l.removeClass)(this.hot.rootElement,["on-moving--rows","show-ui"]);var c=this.guideline.isBuilt()&&!this.guideline.isAppended(),u=this.backlight.isBuilt()&&!this.backlight.isAppended();c&&u&&(this.guideline.appendTo(r.hider),this.backlight.appendTo(r.hider));var d=a.from,h=a.to,f=Math.min(d.row,h.row),p=Math.max(d.row,h.row);if(t.col<0&&t.row>=f&&t.row<=p){i.row=!0,s.pressed=!0,s.target.eventPageY=e.pageY,s.target.coords=t,s.target.TD=n,s.rowsToMove=this.prepareRowsToMoving();var m=r.holder.scrollLeft+this.hot.view.wt.wtViewport.getRowHeaderWidth();this.backlight.setPosition(null,m),this.backlight.setSize(r.hider.offsetWidth-m,this.getRowsHeight(f,p+1)),this.backlight.setOffset(-1*(this.getRowsHeight(f,t.row)+e.layerY),null),(0,l.addClass)(this.hot.rootElement,"on-moving--rows"),this.refreshPositions()}else(0,l.removeClass)(this.hot.rootElement,"after-selection--rows"),s.pressed=!1,s.rowsToMove.length=0}},{key:"onMouseMove",value:function(e){var t=g.get(this);if(t.pressed){if(e.realTarget===this.backlight.element){var n=this.backlight.getSize().height;this.backlight.setSize(null,0),setTimeout(function(){this.backlight.setPosition(null,n)})}t.target.eventPageY=e.pageY,this.refreshPositions()}}},{key:"onBeforeOnCellMouseOver",value:function(e,t,n,i){var r=this.hot.getSelectedRangeLast(),o=g.get(this);r&&o.pressed&&(o.rowsToMove.indexOf(t.row)>-1?(0,l.removeClass)(this.hot.rootElement,"show-ui"):(0,l.addClass)(this.hot.rootElement,"show-ui"),i.row=!0,i.column=!0,i.cell=!0,o.target.coords=t,o.target.TD=n)}},{key:"onMouseUp",value:function(){var e=g.get(this),t=e.target.row,n=e.rowsToMove.length;if(e.pressed=!1,e.backlightHeight=0,(0,l.removeClass)(this.hot.rootElement,["on-moving--rows","show-ui","after-selection--rows"]),this.hot.selection.isSelectedByRowHeader()&&(0,l.addClass)(this.hot.rootElement,"after-selection--rows"),!(n<1||void 0===t||e.rowsToMove.indexOf(t)>-1||e.rowsToMove[n-1]===t-1)){if(this.moveRows(e.rowsToMove,t),this.persistentStateSave(),this.hot.render(),!e.disallowMoving){var i=this.rowsMapper.getIndexByValue(e.rowsToMove[0]),r=this.rowsMapper.getIndexByValue(e.rowsToMove[n-1]);this.changeSelection(i,r)}e.rowsToMove.length=0}}},{key:"onAfterScrollHorizontally",value:function(){var e=this.hot.view.wt.wtTable,t=this.hot.view.wt.wtViewport.getRowHeaderWidth()+e.holder.scrollLeft;this.backlight.setPosition(null,t),this.backlight.setSize(e.hider.offsetWidth-t)}},{key:"onAfterCreateRow",value:function(e,t){this.rowsMapper.shiftItems(e,t)}},{key:"onBeforeRemoveRow",value:function(e,t){var n=this;this.removedRows.length=0,!1!==e&&(0,c.rangeEach)(e,e+t-1,function(e){n.removedRows.push(n.hot.runHooks("modifyRow",e,n.pluginName))})}},{key:"onAfterRemoveRow",value:function(){this.rowsMapper.unshiftItems(this.removedRows)}},{key:"onAfterLoadData",value:function(){this.updateRowsMapper()}},{key:"onModifyRow",value:function(e,t){if(t!==this.pluginName){var n=this.rowsMapper.getValueByIndex(e);e=null===n?e:n}return e}},{key:"onUnmodifyRow",value:function(e){var t=this.rowsMapper.getIndexByValue(e);return null===t?e:t}},{key:"onAfterPluginsInitialized",value:function(){this.updateRowsMapper(),this.initialSettings(),this.backlight.build(),this.guideline.build()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}();(0,d.registerPlugin)("ManualRowMove",_),t.default=_},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(201)),o=n(1),a=n(2),s=n(5);var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.manualRowMove=t}return i(e,[{key:"createMap",value:function(e){var t=this,n=void 0===e?this._arrayMap.length:e;this._arrayMap.length=0,(0,s.rangeEach)(n-1,function(e){t._arrayMap[e]=e})}},{key:"destroy",value:function(){this._arrayMap=null}},{key:"moveRow",value:function(e,t){var n=this._arrayMap[e];this._arrayMap[e]=null,this._arrayMap.splice(t,0,n)}},{key:"clearNull",value:function(){this._arrayMap=(0,o.arrayFilter)(this._arrayMap,function(e){return null!==e})}}]),e}();(0,a.mixin)(l,r.default),t.default=l},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(203)),o=n(0);var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"build",value:function(){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"build",this).call(this),(0,o.addClass)(this._element,"ht__manualRowMove--backlight")}}]),t}();t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(203)),o=n(0);var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"build",value:function(){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"build",this).call(this),(0,o.addClass)(this._element,"ht__manualRowMove--guideline")}}]),t}();t.default=a},function(e,t){},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=h(n(10)),a=n(0),s=h(n(6)),l=n(12),c=n(1),u=n(5),d=n(8);function h(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.currentTH=null,n.currentRow=null,n.selectedRows=[],n.currentHeight=null,n.newSize=null,n.startY=null,n.startHeight=null,n.startOffset=null,n.handle=document.createElement("DIV"),n.guide=document.createElement("DIV"),n.eventManager=new s.default(n),n.pressed=null,n.dblclick=0,n.autoresizeTimeout=null,n.manualRowHeights=[],(0,a.addClass)(n.handle,"manualRowResizer"),(0,a.addClass)(n.guide,"manualRowResizerGuide"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"isEnabled",value:function(){return this.hot.getSettings().manualRowResize}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){this.manualRowHeights=[];var n=this.hot.getSettings().manualRowResize,i=this.loadManualRowHeights();void 0!==i?this.manualRowHeights=i:Array.isArray(n)?this.manualRowHeights=n:this.manualRowHeights=[],this.addHook("modifyRowHeight",function(t,n){return e.onModifyRowHeight(t,n)}),this.bindEvents(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var e=this.hot.getSettings().manualRowResize;Array.isArray(e)?this.manualRowHeights=e:e||(this.manualRowHeights=[])}},{key:"disablePlugin",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"saveManualRowHeights",value:function(){this.hot.runHooks("persistentStateSave","manualRowHeights",this.manualRowHeights)}},{key:"loadManualRowHeights",value:function(){var e={};return this.hot.runHooks("persistentStateLoad","manualRowHeights",e),e.value}},{key:"setupHandlePosition",value:function(e){var t=this;this.currentTH=e;var n=this.hot.view.wt.wtTable.getCoords(e).row,i=(0,a.outerWidth)(this.currentTH);if(n>=0){var r=this.currentTH.getBoundingClientRect();if(this.currentRow=n,this.selectedRows=[],this.hot.selection.isSelected()&&this.hot.selection.isSelectedByRowHeader()){var o=this.hot.getSelectedRangeLast(),s=o.from,l=o.to,c=s.row,d=l.row;c>=d&&(c=l.row,d=s.row),this.currentRow>=c&&this.currentRow<=d?(0,u.rangeEach)(c,d,function(e){return t.selectedRows.push(e)}):this.selectedRows.push(this.currentRow)}else this.selectedRows.push(this.currentRow);this.startOffset=r.top-6,this.startHeight=parseInt(r.height,10),this.handle.style.left=r.left+"px",this.handle.style.top=this.startOffset+this.startHeight+"px",this.handle.style.width=i+"px",this.hot.rootElement.appendChild(this.handle)}}},{key:"refreshHandlePosition",value:function(){this.handle.style.top=this.startOffset+this.currentHeight+"px"}},{key:"setupGuidePosition",value:function(){var e=parseInt((0,a.outerWidth)(this.handle),10),t=parseInt(this.handle.style.left,10)+e,n=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);(0,a.addClass)(this.handle,"active"),(0,a.addClass)(this.guide,"active"),this.guide.style.top=this.handle.style.top,this.guide.style.left=t+"px",this.guide.style.width=n-e+"px",this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style.top=this.handle.style.top}},{key:"hideHandleAndGuide",value:function(){(0,a.removeClass)(this.handle,"active"),(0,a.removeClass)(this.guide,"active")}},{key:"checkIfRowHeader",value:function(e){if(e!=this.hot.rootElement){var t=e.parentNode;return"TBODY"===t.tagName||this.checkIfRowHeader(t)}return!1}},{key:"getTHFromTargetElement",value:function(e){return"TABLE"!=e.tagName?"TH"==e.tagName?e:this.getTHFromTargetElement(e.parentNode):null}},{key:"onMouseOver",value:function(e){if(this.checkIfRowHeader(e.target)){var t=this.getTHFromTargetElement(e.target);t&&(this.pressed||this.setupHandlePosition(t))}}},{key:"afterMouseDownTimeout",value:function(){var e=this,t=function(){e.hot.forceFullRender=!0,e.hot.view.render(),e.hot.view.wt.wtOverlays.adjustElementsSize(!0)},n=function(n,i){var r=e.hot.runHooks("beforeRowResize",n,e.newSize,!0);void 0!==r&&(e.newSize=r),e.setManualSize(n,e.newSize),i&&t(),e.hot.runHooks("afterRowResize",n,e.newSize,!0)};this.dblclick>=2&&(this.selectedRows.length>1?((0,c.arrayEach)(this.selectedRows,function(e){n(e)}),t()):(0,c.arrayEach)(this.selectedRows,function(e){n(e,!0)}));this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(e){var t=this;(0,a.hasClass)(e.target,"manualRowResizer")&&(this.setupGuidePosition(),this.pressed=this.hot,null==this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return t.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick++,this.startY=(0,l.pageY)(e),this.newSize=this.startHeight)}},{key:"onMouseMove",value:function(e){var t=this;this.pressed&&(this.currentHeight=this.startHeight+((0,l.pageY)(e)-this.startY),(0,c.arrayEach)(this.selectedRows,function(e){t.newSize=t.setManualSize(e,t.currentHeight)}),this.refreshHandlePosition(),this.refreshGuidePosition())}},{key:"onMouseUp",value:function(e){var t=this,n=function(){t.hot.forceFullRender=!0,t.hot.view.render(),t.hot.view.wt.wtOverlays.adjustElementsSize(!0)},i=function(e,i){t.hot.runHooks("beforeRowResize",e,t.newSize),i&&n(),t.saveManualRowHeights(),t.hot.runHooks("afterRowResize",e,t.newSize)};if(this.pressed){if(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!=this.startHeight)this.selectedRows.length>1?((0,c.arrayEach)(this.selectedRows,function(e){i(e)}),n()):(0,c.arrayEach)(this.selectedRows,function(e){i(e,!0)});this.setupHandlePosition(this.currentTH)}}},{key:"bindEvents",value:function(){var e=this;this.eventManager.addEventListener(this.hot.rootElement,"mouseover",function(t){return e.onMouseOver(t)}),this.eventManager.addEventListener(this.hot.rootElement,"mousedown",function(t){return e.onMouseDown(t)}),this.eventManager.addEventListener(window,"mousemove",function(t){return e.onMouseMove(t)}),this.eventManager.addEventListener(window,"mouseup",function(t){return e.onMouseUp(t)})}},{key:"setManualSize",value:function(e,t){return e=this.hot.runHooks("modifyRow",e),this.manualRowHeights[e]=t,t}},{key:"onModifyRowHeight",value:function(e,t){if(this.enabled){var n=this.hot.getPlugin("autoRowSize"),i=n?n.heights[t]:null;t=this.hot.runHooks("modifyRow",t);var r=this.manualRowHeights[t];if(void 0!==r&&(r===i||r>(e||0)))return r}return e}}]),t}();(0,d.registerPlugin)("manualRowResize",f),t.default=f},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=w(n(10)),s=w(n(15)),l=n(8),c=n(12),u=n(4),d=w(n(345)),h=w(n(95)),f=w(n(346)),p=w(n(347)),m=w(n(348)),g=n(1),_=n(2),v=n(56),y=n(5),b=n(204);function w(e){return e&&e.__esModule?e:{default:e}}function k(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}n(349),s.default.getSingleton().register("beforeMergeCells"),s.default.getSingleton().register("afterMergeCells"),s.default.getSingleton().register("beforeUnmergeCells"),s.default.getSingleton().register("afterUnmergeCells");var M=new WeakMap,x=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return M.set(n,{lastDesiredCoords:null}),n.mergedCellsCollection=null,n.autofillCalculations=null,n.selectionCalculations=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().mergeCells}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.mergedCellsCollection=new d.default(this),this.autofillCalculations=new f.default(this),this.selectionCalculations=new p.default(this),this.addHook("afterInit",function(){return e.onAfterInit.apply(e,arguments)}),this.addHook("beforeKeyDown",function(){return e.onBeforeKeyDown.apply(e,arguments)}),this.addHook("modifyTransformStart",function(){return e.onModifyTransformStart.apply(e,arguments)}),this.addHook("afterModifyTransformStart",function(){return e.onAfterModifyTransformStart.apply(e,arguments)}),this.addHook("modifyTransformEnd",function(){return e.onModifyTransformEnd.apply(e,arguments)}),this.addHook("modifyGetCellCoords",function(){return e.onModifyGetCellCoords.apply(e,arguments)}),this.addHook("beforeSetRangeEnd",function(){return e.onBeforeSetRangeEnd.apply(e,arguments)}),this.addHook("afterIsMultipleSelection",function(){return e.onAfterIsMultipleSelection.apply(e,arguments)}),this.addHook("afterRenderer",function(){return e.onAfterRenderer.apply(e,arguments)}),this.addHook("afterContextMenuDefaultOptions",function(){return e.addMergeActionsToContextMenu.apply(e,arguments)}),this.addHook("afterGetCellMeta",function(){return e.onAfterGetCellMeta.apply(e,arguments)}),this.addHook("afterViewportRowCalculatorOverride",function(){return e.onAfterViewportRowCalculatorOverride.apply(e,arguments)}),this.addHook("afterViewportColumnCalculatorOverride",function(){return e.onAfterViewportColumnCalculatorOverride.apply(e,arguments)}),this.addHook("modifyAutofillRange",function(){return e.onModifyAutofillRange.apply(e,arguments)}),this.addHook("afterCreateCol",function(){return e.onAfterCreateCol.apply(e,arguments)}),this.addHook("afterRemoveCol",function(){return e.onAfterRemoveCol.apply(e,arguments)}),this.addHook("afterCreateRow",function(){return e.onAfterCreateRow.apply(e,arguments)}),this.addHook("afterRemoveRow",function(){return e.onAfterRemoveRow.apply(e,arguments)}),this.addHook("afterChange",function(){return e.onAfterChange.apply(e,arguments)}),this.addHook("beforeDrawBorders",function(){return e.onBeforeDrawAreaBorders.apply(e,arguments)}),this.addHook("afterDrawSelection",function(){return e.onAfterDrawSelection.apply(e,arguments)}),this.addHook("beforeRemoveCellClassNames",function(){return e.onBeforeRemoveCellClassNames.apply(e,arguments)}),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.clearCollections(),this.hot.render(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){var e=this.hot.getSettings().mergeCells;this.clearCollections(),this.disablePlugin(),this.enablePlugin(),this.generateFromSettings(e),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"validateSetting",value:function(e){var t=!0;return!!e&&(h.default.containsNegativeValues(e)?((0,v.warn)(h.default.NEGATIVE_VALUES_WARNING(e)),t=!1):h.default.isOutOfBounds(e,this.hot.countRows(),this.hot.countCols())?((0,v.warn)(h.default.IS_OUT_OF_BOUNDS_WARNING(e)),t=!1):h.default.isSingleCell(e)?((0,v.warn)(h.default.IS_SINGLE_CELL(e)),t=!1):h.default.containsZeroSpan(e)&&((0,v.warn)(h.default.ZERO_SPAN_WARNING(e)),t=!1),t)}},{key:"generateFromSettings",value:function(e){var t=this;if(Array.isArray(e)){var n,i=[];(0,g.arrayEach)(e,function(e){if(t.validateSetting(e)){var n=new u.CellCoords(e.row,e.col),r=new u.CellCoords(e.row+e.rowspan-1,e.col+e.colspan-1),o=new u.CellRange(n,n,r);i.push(t.mergeRange(o,!0,!0))}}),i=i.filter(function(e){return!0!==e});var r=this.getBulkCollectionData(i);(n=this.hot).populateFromArray.apply(n,k(r))}}},{key:"getBulkCollectionData",value:function(e){var t,n=this.getBulkCollectionDataRange(e),r=(t=this.hot).getData.apply(t,k(n)).splice(0);return(0,g.arrayEach)(e,function(e){var t=i(e,3),o=t[0],a=t[1],s=t[2];(0,g.arrayEach)(s,function(e,t){(0,g.arrayEach)(e,function(e,i){r[o-n[0]+t][a-n[1]+i]=e})})}),[n[0],n[1],r]}},{key:"getBulkCollectionDataRange",value:function(e){var t=[0,0],n=[0,0],i=null,r=null,o=null;return(0,g.arrayEach)(e,function(e){i=e[0],r=e[1],o=e[2],t[0]=Math.min(i,t[0]),t[1]=Math.min(r,t[1]),n[0]=Math.max(i+o.length-1,n[0]),n[1]=Math.max(r+o[0].length-1,n[1])}),[].concat(t,n)}},{key:"clearCollections",value:function(){this.mergedCellsCollection.clear()}},{key:"canMergeRange",value:function(e){return!!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])||this.validateSetting(e)}},{key:"toggleMergeOnSelection",value:function(){var e=this.hot.getSelectedRangeLast();if(e){e.setDirection("NW-SE");var t=e.from,n=e.to;this.toggleMerge(e),this.hot.selectCell(t.row,t.col,n.row,n.col,!1)}}},{key:"mergeSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hot.getSelectedRangeLast();if(e){e.setDirection("NW-SE");var t=e.from,n=e.to;this.unmergeRange(e,!0),this.mergeRange(e),this.hot.selectCell(t.row,t.col,n.row,n.col,!1)}}},{key:"unmergeSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hot.getSelectedRangeLast();if(e){var t=e.from,n=e.to;this.unmergeRange(e,!0),this.hot.selectCell(t.row,t.col,n.row,n.col,!1)}}},{key:"mergeRange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.getTopLeftCorner(),o=e.getBottomRightCorner(),a={row:r.row,col:r.col,rowspan:o.row-r.row+1,colspan:o.col-r.col+1},s=[],l=null;return!!this.canMergeRange(a,n)&&(this.hot.runHooks("beforeMergeCells",e,n),(0,y.rangeEach)(0,a.rowspan-1,function(e){(0,y.rangeEach)(0,a.colspan-1,function(n){var i=null;s[e]||(s[e]=[]),0===e&&0===n?i=t.hot.getDataAtCell(a.row,a.col):t.hot.setCellMeta(a.row+e,a.col+n,"hidden",!0),s[e][n]=i})}),this.hot.setCellMeta(a.row,a.col,"spanned",!0),!this.mergedCellsCollection.add(a)||(i?l=[a.row,a.col,s]:this.hot.populateFromArray(a.row,a.col,s,void 0,void 0,this.pluginName),this.hot.runHooks("afterMergeCells",e,a,n),l))}},{key:"unmergeRange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.mergedCellsCollection.getWithinRange(e);i&&(this.hot.runHooks("beforeUnmergeCells",e,n),(0,g.arrayEach)(i,function(e){t.mergedCellsCollection.remove(e.row,e.col),(0,y.rangeEach)(0,e.rowspan-1,function(n){(0,y.rangeEach)(0,e.colspan-1,function(i){t.hot.removeCellMeta(e.row+n,e.col+i,"hidden")})}),t.hot.removeCellMeta(e.row,e.col,"spanned")}),this.hot.render(),this.hot.runHooks("afterUnmergeCells",e,n))}},{key:"toggleMerge",value:function(e){var t=this.mergedCellsCollection.get(e.from.row,e.from.col);t.row===e.from.row&&t.col===e.from.col&&t.row+t.rowspan-1===e.to.row&&t.col+t.colspan-1===e.to.col?this.unmergeRange(e):this.mergeSelection(e)}},{key:"merge",value:function(e,t,n,i){var r=new u.CellCoords(e,t),o=new u.CellCoords(n,i);this.mergeRange(new u.CellRange(r,r,o))}},{key:"unmerge",value:function(e,t,n,i){var r=new u.CellCoords(e,t),o=new u.CellCoords(n,i);this.unmergeRange(new u.CellRange(r,r,o))}},{key:"onAfterInit",value:function(){this.generateFromSettings(this.hot.getSettings().mergeCells),this.hot.render()}},{key:"onBeforeKeyDown",value:function(e){(e.ctrlKey||e.metaKey)&&!e.altKey&&77===e.keyCode&&(this.toggleMerge(this.hot.getSelectedRangeLast()),this.hot.render(),(0,c.stopImmediatePropagation)(e))}},{key:"onAfterIsMultipleSelection",value:function(e){if(e)for(var t=this.mergedCellsCollection.mergedCells,n=this.hot.getSelectedRangeLast(),i=0;i<t.length;i+=1)if(n.highlight.row===t[i].row&&n.highlight.col===t[i].col&&n.to.row===t[i].row+t[i].rowspan-1&&n.to.col===t[i].col+t[i].colspan-1)return!1;return e}},{key:"onModifyTransformStart",value:function(e){var t,n=M.get(this),i=this.hot.getSelectedRangeLast(),r={row:e.row,col:e.col},o=new u.CellCoords(i.highlight.row,i.highlight.col),a=this.mergedCellsCollection.get(o.row,o.col);if(n.lastDesiredCoords||(n.lastDesiredCoords=new u.CellCoords(null,null)),a){var s=new u.CellCoords(a.row,a.col),l=new u.CellCoords(a.row+a.rowspan-1,a.col+a.colspan-1);new u.CellRange(s,s,l).includes(n.lastDesiredCoords)||(n.lastDesiredCoords=new u.CellCoords(null,null)),r.row=n.lastDesiredCoords.row?n.lastDesiredCoords.row-o.row:r.row,r.col=n.lastDesiredCoords.col?n.lastDesiredCoords.col-o.col:r.col,e.row>0?r.row=a.row+a.rowspan-1-o.row+e.row:e.row<0&&(r.row=o.row-a.row+e.row),e.col>0?r.col=a.col+a.colspan-1-o.col+e.col:e.col<0&&(r.col=o.col-a.col+e.col)}t=new u.CellCoords(i.highlight.row+r.row,i.highlight.col+r.col);var c=this.mergedCellsCollection.get(t.row,t.col);c&&(n.lastDesiredCoords=t,r={row:c.row-o.row,col:c.col-o.col}),0!==r.row&&(e.row=r.row),0!==r.col&&(e.col=r.col)}},{key:"onModifyTransformEnd",value:function(e){var t=this,n=this.hot.getSelectedRangeLast(),i=(0,_.clone)(e),r=this.selectionCalculations.getUpdatedSelectionRange(n,e),o=(0,_.clone)(i),a=this.mergedCellsCollection.getWithinRange(r,!0);do{o=(0,_.clone)(i),this.selectionCalculations.getUpdatedSelectionRange(n,i),(0,g.arrayEach)(a,function(e){t.selectionCalculations.snapDelta(i,n,e)})}while(i.row!==o.row||i.col!==o.col);e.row=i.row,e.col=i.col}},{key:"onModifyGetCellCoords",value:function(e,t){var n=this.mergedCellsCollection.get(e,t);return n?[n.row,n.col,n.row+n.rowspan-1,n.col+n.colspan-1]:void 0}},{key:"addMergeActionsToContextMenu",value:function(e){e.items.push({name:"---------"},(0,m.default)(this))}},{key:"onAfterRenderer",value:function(e,t,n){var i=this.mergedCellsCollection.get(t,n);(0,b.applySpanProperties)(e,i,t,n)}},{key:"onBeforeSetRangeEnd",value:function(e){var t=this.hot.getSelectedRangeLast();t.highlight=new u.CellCoords(t.highlight.row,t.highlight.col),t.to=e;var n=!1;if(!(0===t.from.row&&t.to.row===this.hot.countRows()-1||0===t.from.col&&t.to.col===this.hot.countCols()-1))do{n=!1;for(var i=0;i<this.mergedCellsCollection.mergedCells.length;i+=1){var r=this.mergedCellsCollection.mergedCells[i].getRange();t.expandByRange(r)&&(e.row=t.to.row,e.col=t.to.col,n=!0)}}while(n)}},{key:"onAfterGetCellMeta",value:function(e,t,n){var i=this.mergedCellsCollection.get(e,t);!i||i.row===e&&i.col===t||(n.copyable=!1)}},{key:"onAfterViewportRowCalculatorOverride",value:function(e){var t=this,n=this.hot.countCols(),i=void 0;(0,y.rangeEach)(0,n-1,function(n){if((i=t.mergedCellsCollection.get(e.startRow,n))&&i.row<e.startRow)return e.startRow=i.row,t.onAfterViewportRowCalculatorOverride.call(t,e);if(i=t.mergedCellsCollection.get(e.endRow,n)){var r=i.row+i.rowspan-1;if(r>e.endRow)return e.endRow=r,t.onAfterViewportRowCalculatorOverride.call(t,e)}return!0})}},{key:"onAfterViewportColumnCalculatorOverride",value:function(e){var t=this,n=this.hot.countRows(),i=void 0;(0,y.rangeEach)(0,n-1,function(n){if((i=t.mergedCellsCollection.get(n,e.startColumn))&&i.col<e.startColumn)return e.startColumn=i.col,t.onAfterViewportColumnCalculatorOverride.call(t,e);if(i=t.mergedCellsCollection.get(n,e.endColumn)){var r=i.col+i.colspan-1;if(r>e.endColumn)return e.endColumn=r,t.onAfterViewportColumnCalculatorOverride.call(t,e)}return!0})}},{key:"onModifyAutofillRange",value:function(e,t){this.autofillCalculations.correctSelectionAreaSize(t);var n=this.autofillCalculations.getDirection(t,e);if(this.autofillCalculations.dragAreaOverlapsCollections(t,e,n))return e=t;var i=this.mergedCellsCollection.getWithinRange({from:{row:t[0],col:t[1]},to:{row:t[2],col:t[3]}});return i?e=this.autofillCalculations.snapDragArea(t,e,n,i):e}},{key:"onAfterCreateCol",value:function(e,t){this.mergedCellsCollection.shiftCollections("right",e,t)}},{key:"onAfterRemoveCol",value:function(e,t){this.mergedCellsCollection.shiftCollections("left",e,t)}},{key:"onAfterCreateRow",value:function(e,t,n){"auto"!==n&&this.mergedCellsCollection.shiftCollections("down",e,t)}},{key:"onAfterRemoveRow",value:function(e,t){this.mergedCellsCollection.shiftCollections("up",e,t)}},{key:"onAfterChange",value:function(e,t){"Autofill.fill"===t&&this.autofillCalculations.recreateAfterDataPopulation(e)}},{key:"onBeforeDrawAreaBorders",value:function(e,t){if(t&&"area"===t){var n=this.hot.getSelectedRangeLast(),i=this.mergedCellsCollection.getWithinRange(n);(0,g.arrayEach)(i,function(t){n.getBottomRightCorner().row===t.getLastRow()&&n.getBottomRightCorner().col===t.getLastColumn()&&(e[2]=t.row,e[3]=t.col)})}}},{key:"onAfterModifyTransformStart",value:function(e,t,n){if(this.enabled){var i=this.mergedCellsCollection.get(e.row,e.col);if(i){var r=t>0,o=t<0,a=n<0,s=n>0,l=i.row+i.rowspan-1==this.hot.countRows()-1,c=0===i.row,u=i.col+i.colspan-1==this.hot.countCols()-1,d=0===i.col;(r&&l||o&&c||s&&u||a&&d)&&(e.row=i.row,e.col=i.col)}}}},{key:"onAfterDrawSelection",value:function(e,t,n,i){return this.selectionCalculations.getSelectedMergedCellClassName(e,t,n,i)}},{key:"onBeforeRemoveCellClassNames",value:function(){return this.selectionCalculations.getSelectedMergedCellClassNameToRemove()}}]),t}();(0,l.registerPlugin)("mergeCells",x),t.default=x},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["The merged cell declared at [",", ","] overlaps with the other declared merged \n      cell. The overlapping merged cell was not added to the table, please fix your setup."],["The merged cell declared at [",", ","] overlaps with the other declared merged \n      cell. The overlapping merged cell was not added to the table, please fix your setup."]),o=function(e){return e&&e.__esModule?e:{default:e}}(n(95)),a=n(4),s=n(5),l=n(56),c=n(1),u=n(204),d=n(41);function h(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.plugin=t,this.mergedCells=[],this.hot=t.hot}return i(e,[{key:"get",value:function(e,t){var n=this.mergedCells,i=!1;return(0,c.arrayEach)(n,function(n){return!(n.row<=e&&n.row+n.rowspan-1>=e&&n.col<=t&&n.col+n.colspan-1>=t)||(i=n,!1)}),i}},{key:"getByRange",value:function(e){var t=this.mergedCells,n=!1;return(0,c.arrayEach)(t,function(t){return!(t.row<=e.from.row&&t.row+t.rowspan-1>=e.to.row&&t.col<=e.from.col&&t.col+t.colspan-1>=e.to.col)||(n=t)}),n}},{key:"getWithinRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.mergedCells,i=[];if(!e.includesRange){var r=new a.CellCoords(e.from.row,e.from.col),o=new a.CellCoords(e.to.row,e.to.col);e=new a.CellRange(r,r,o)}return(0,c.arrayEach)(n,function(n){var r=new a.CellCoords(n.row,n.col),o=new a.CellCoords(n.row+n.rowspan-1,n.col+n.colspan-1),s=new a.CellRange(r,r,o);t?e.overlaps(s)&&i.push(n):e.includesRange(s)&&i.push(n)}),!!i.length&&i}},{key:"add",value:function(t){var n=this.mergedCells,i=t.row,r=t.col,a=t.rowspan,s=t.colspan,c=new o.default(i,r,a,s),u=this.get(i,r),d=this.isOverlapping(c);return u||d?((0,l.warn)(e.IS_OVERLAPPING_WARNING(c)),!1):(this.hot&&c.normalize(this.hot),n.push(c),c)}},{key:"remove",value:function(e,t){var n=this.mergedCells,i=this.get(e,t),r=i?this.mergedCells.indexOf(i):null;return!(!i||!1===r)&&(n.splice(r,1),i)}},{key:"clear",value:function(){var e=this,t=this.mergedCells,n=[],i=[];(0,c.arrayEach)(t,function(t){n.push([e.hot.getCell(t.row,t.col),e.get(t.row,t.col),t.row,t.col])}),this.mergedCells.length=0,(0,c.arrayEach)(n,function(t,r){(0,s.rangeEach)(0,t.rowspan-1,function(n){(0,s.rangeEach)(0,t.colspan-1,function(r){0===r&&0===n||i.push([e.hot.getCell(t.row+n,t.col+r),null,null,null])})}),n[r][1]=null}),(0,c.arrayEach)(n,function(e){u.applySpanProperties.apply(void 0,h(e))}),(0,c.arrayEach)(i,function(e){u.applySpanProperties.apply(void 0,h(e))})}},{key:"isOverlapping",value:function(e){var t=new a.CellRange(null,new a.CellCoords(e.row,e.col),new a.CellCoords(e.row+e.rowspan-1,e.col+e.colspan-1)),n=!1;return(0,c.arrayEach)(this.mergedCells,function(e){return!new a.CellRange(null,new a.CellCoords(e.row,e.col),new a.CellCoords(e.row+e.rowspan-1,e.col+e.colspan-1)).overlaps(t)||(n=!0,!1)}),n}},{key:"isMergedParent",value:function(e,t){var n=this.mergedCells,i=!1;return(0,c.arrayEach)(n,function(n){return n.row!==e||n.col!==t||(i=!0,!1)}),i}},{key:"shiftCollections",value:function(e,t,n){var i=this,r=[0,0];switch(e){case"right":r[0]+=n;break;case"left":r[0]-=n;break;case"down":r[1]+=n;break;case"up":r[1]-=n}(0,c.arrayEach)(this.mergedCells,function(e){e.shift(r,t)}),(0,s.rangeEachReverse)(this.mergedCells.length-1,0,function(e){var t=i.mergedCells[e];t&&t.removed&&i.mergedCells.splice(i.mergedCells.indexOf(t),1)})}}],[{key:"IS_OVERLAPPING_WARNING",value:function(e){return(0,d.toSingleLine)(r,e.row,e.col)}}]),e}();t.default=f},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),a=n(4),s=n(1);var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.plugin=t,this.mergedCellsCollection=this.plugin.mergedCellsCollection,this.currentFillData=null}return r(e,[{key:"correctSelectionAreaSize",value:function(e){if(e[0]===e[2]&&e[1]===e[3]){var t=this.mergedCellsCollection.get(e[0],e[1]);t&&(e[2]=e[0]+t.rowspan-1,e[3]=e[1]+t.colspan-1)}}},{key:"getDirection",value:function(e,t){return t[0]===e[0]&&t[1]===e[1]&&t[3]===e[3]?"down":t[2]===e[2]&&t[1]===e[1]&&t[3]===e[3]?"up":t[1]===e[1]&&t[2]===e[2]?"right":"left"}},{key:"snapDragArea",value:function(e,t,n,r){var o=t.slice(0),a=this.getAutofillSize(e,t,n),s=i(e,4),l=s[0],c=s[1],u=s[2],d=s[3],h=["up","down"].indexOf(n)>-1?u-l+1:d-c+1,f=a-Math.floor(a/h)*h,p=this.getFarthestCollection(e,t,n,r);if(p)if("down"===n){var m=p.row+p.rowspan-l-f;o[2]+m>=this.plugin.hot.countRows()?o[2]-=f:o[2]+=f?m:0}else if("right"===n){var g=p.col+p.colspan-c-f;o[3]+g>=this.plugin.hot.countCols()?o[3]-=f:o[3]+=f?g:0}else if("up"===n){var _=u-f-p.row+1;o[0]+_<0?o[0]+=f:o[0]-=f?_:0}else if("left"===n){var v=d-f-p.col+1;o[1]+v<0?o[1]+=f:o[1]-=f?v:0}return this.updateCurrentFillCache({baseArea:e,dragDirection:n,foundMergedCells:r,fillSize:a,dragArea:o,cycleLength:h}),o}},{key:"updateCurrentFillCache",value:function(e){this.currentFillData||(this.currentFillData={}),(0,o.extend)(this.currentFillData,e)}},{key:"getAutofillSize",value:function(e,t,n){var r=i(e,4),o=r[0],a=r[1],s=r[2],l=r[3],c=i(t,4),u=c[0],d=c[1],h=c[2],f=c[3];switch(n){case"up":return o-u;case"down":return h-s;case"left":return a-d;case"right":return f-l;default:return null}}},{key:"getDragArea",value:function(e,t,n){var r=i(e,4),o=r[0],a=r[1],s=r[2],l=r[3],c=i(t,4),u=c[0],d=c[1],h=c[2],f=c[3];switch(n){case"up":return[u,d,o-1,l];case"down":return[s+1,a,h,l];case"left":return[u,d,s,a-1];case"right":return[o,l+1,h,f];default:return null}}},{key:"getFarthestCollection",value:function(e,t,n,r){var o=i(e,4),a=o[0],l=o[1],c=o[2],u=o[3],d=["up","down"].indexOf(n)>-1,h=d?c:u,f=d?a:l,p=this.getAutofillSize(e,t,n),m=d?c-a+1:u-l+1,g=p-Math.floor(p/m)*m,_=null,v=null,y=null;switch(n){case"up":_="includesVertically",y=h-g+1;break;case"left":_="includesHorizontally",y=h-g+1;break;case"down":_="includesVertically",y=f+g-1;break;case"right":_="includesHorizontally",y=f+g-1}return(0,s.arrayEach)(r,function(e){e[_](y)&&e.isFarther(v,n)&&(v=e)}),v}},{key:"recreateAfterDataPopulation",value:function(e){if(this.currentFillData){var t=this.getRangeFromChanges(e),n=this.currentFillData.foundMergedCells,i=this.currentFillData.dragDirection,r=function(e,n){switch(i){case"up":return e.row-n>=t.from.row;case"down":return e.row+e.rowspan-1+n<=t.to.row;case"left":return e.col-n>=t.from.column;case"right":return e.col+e.colspan-1+n<=t.to.column;default:return null}},o=0,a=null,s=1;do{for(var l=0;l<n.length;l+=1){if(r(a=n[l],o=s*this.currentFillData.cycleLength))switch(i){case"up":this.plugin.mergedCellsCollection.add({row:a.row-o,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"down":this.plugin.mergedCellsCollection.add({row:a.row+o,rowspan:a.rowspan,col:a.col,colspan:a.colspan});break;case"left":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col-o,colspan:a.colspan});break;case"right":this.plugin.mergedCellsCollection.add({row:a.row,rowspan:a.rowspan,col:a.col+o,colspan:a.colspan})}l===n.length-1&&(s+=1)}}while(r(a,o));this.currentFillData=null,this.plugin.hot.render()}}},{key:"getRangeFromChanges",value:function(e){var t={min:null,max:null},n={min:null,max:null};return(0,s.arrayEach)(e,function(e){(null===t.min||e[0]<t.min)&&(t.min=e[0]),(null===t.max||e[0]>t.max)&&(t.max=e[0]),(null===n.min||e[1]<n.min)&&(n.min=e[1]),(null===n.max||e[1]>n.max)&&(n.max=e[1])}),{from:{row:t.min,column:n.min},to:{row:t.max,column:n.max}}}},{key:"dragAreaOverlapsCollections",value:function(e,t,n){var r=this.getDragArea(e,t,n),o=i(r,4),s=o[0],l=o[1],c=o[2],u=o[3],d=new a.CellCoords(s,l),h=new a.CellCoords(c,u),f=new a.CellRange(d,d,h);return!!this.mergedCellsCollection.getWithinRange(f,!0)}}]),e}();t.default=l},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(4);var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.plugin=t,this.fullySelectedMergedCellClassName="fullySelectedMergedCell"}return r(e,[{key:"snapDelta",value:function(e,t,n){var i=t.to,r=i.row+e.row,o=i.col+e.col;e.row?this.jumpOverMergedCell(e,n,r):e.col&&this.jumpOverMergedCell(e,n,o)}},{key:"jumpOverMergedCell",value:function(e,t,n){var i=e.row||e.col,r=null,o=null,a=null;e.row?(r=t.includesVertically(n),o=t.row,a=t.getLastRow()):e.col&&(r=t.includesHorizontally(n),o=t.col,a=t.getLastColumn()),0!==i&&(i>0?r&&n!==o&&(i+=a-n+1):r&&n!==a&&(i-=n-o+1),e.row?e.row=i:e.col&&(e.col=i))}},{key:"getUpdatedSelectionRange",value:function(e,t){return new o.CellRange(e.highlight,e.from,new o.CellCoords(e.to.row+t.row,e.to.col+t.col))}},{key:"getSelectedMergedCellClassName",value:function(e,t,n,r){var o=i(n,4),a=o[0],s=o[1],l=o[2],c=o[3];if(void 0!==r&&e>=a&&e<=l&&t>=s&&t<=c){if(!this.plugin.mergedCellsCollection.isMergedParent(e,t))return;var u=this.plugin.mergedCellsCollection.get(e,t);if(!u)return;if(u.row+u.rowspan-1<=l&&u.col+u.colspan-1<=c)return this.fullySelectedMergedCellClassName+"-"+r;if(this.plugin.selectionCalculations.isMergeCellFullySelected(u,this.plugin.hot.getSelectedRange()))return this.fullySelectedMergedCellClassName+"-multiple"}}},{key:"isMergeCellFullySelected",value:function(e,t){var n=[];if(!t||!e)return!1;for(var i=0;i<e.rowspan;i+=1)for(var r=0;r<e.colspan;r+=1)n.push(new o.CellCoords(e.row+i,e.col+r));for(var a=0;a<n.length;a+=1){for(var s=[],l=0;l<t.length;l+=1)s[l]=t[l].includes(n[a]);if(!s.includes(!0))return!1}return!0}},{key:"getSelectedMergedCellClassNameToRemove",value:function(){for(var e=[],t=0;t<=7;t+=1)e.push(this.fullySelectedMergedCellClassName+"-"+t);return e.push(this.fullySelectedMergedCellClassName+"-multiple"),e}}]),e}();t.default=a},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return{key:"mergeCells",name:function(){var t=this.getSelectedLast();if(t){var n=e.mergedCellsCollection.get(t[0],t[1]);if(n.row===t[0]&&n.col===t[1]&&n.row+n.rowspan-1===t[2]&&n.col+n.colspan-1===t[3])return this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_UNMERGE_CELLS)}return this.getTranslatedPhrase(i.CONTEXTMENU_ITEMS_MERGE_CELLS)},callback:function(){e.toggleMergeOnSelection()},disabled:function(){var e=this.getSelectedLast();if(!e)return!0;var t=r.default.isSingleCell({row:e[0],col:e[1],rowspan:e[2]-e[0]+1,colspan:e[3]-e[1]+1});return t||this.selection.isSelectedByCorner()},hidden:!1}};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7)),r=function(e){return e&&e.__esModule?e:{default:e}}(n(95))},function(e,t){},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=(u(n(15)),n(0)),o=n(27),a=u(n(10)),s=u(n(6)),l=n(8),c=n(4);function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dragged=[],n.eventManager=null,n.lastSetCell=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),i(t,[{key:"isEnabled",value:function(){return(0,o.isMobileBrowser)()}},{key:"enablePlugin",value:function(){this.enabled||(this.eventManager||(this.eventManager=new s.default(this)),this.registerListeners(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this))}},{key:"registerListeners",value:function(){var e=this;function t(t){if(1===e.dragged.length)return e.dragged.splice(0,e.dragged.length),!0;var n=e.dragged.indexOf(t);if(-1==n)return!1;0===n?e.dragged=e.dragged.slice(0,1):1==n&&(e.dragged=e.dragged.slice(-1))}this.eventManager.addEventListener(this.hot.rootElement,"touchstart",function(t){var n=void 0;return(0,r.hasClass)(t.target,"topLeftSelectionHandle-HitArea")?(n=e.hot.getSelectedRangeLast(),e.dragged.push("topLeft"),e.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},t.preventDefault(),!1):(0,r.hasClass)(t.target,"bottomRightSelectionHandle-HitArea")?(n=e.hot.getSelectedRangeLast(),e.dragged.push("bottomRight"),e.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},t.preventDefault(),!1):void 0}),this.eventManager.addEventListener(this.hot.rootElement,"touchend",function(n){return(0,r.hasClass)(n.target,"topLeftSelectionHandle-HitArea")?(t.call(e,"topLeft"),e.touchStartRange=void 0,n.preventDefault(),!1):(0,r.hasClass)(n.target,"bottomRightSelectionHandle-HitArea")?(t.call(e,"bottomRight"),e.touchStartRange=void 0,n.preventDefault(),!1):void 0}),this.eventManager.addEventListener(this.hot.rootElement,"touchmove",function(t){var n,i=(0,r.getWindowScrollTop)(),o=(0,r.getWindowScrollLeft)(),a=void 0,s=void 0,l=void 0,c=void 0,u=void 0,d=void 0;0!==e.dragged.length&&(n=document.elementFromPoint(t.touches[0].screenX-o,t.touches[0].screenY-i))&&n!==e.lastSetCell&&("TD"!=n.nodeName&&"TH"!=n.nodeName||(-1==(a=e.hot.getCoords(n)).col&&(a.col=0),l=(s=e.hot.getSelectedRangeLast()).getWidth(),c=s.getHeight(),u=s.getDirection(),1==l&&1==c&&e.hot.selection.setRangeEnd(a),null!==(d=e.getCurrentRangeCoords(s,a,e.touchStartRange.direction,u,e.dragged[0])).start&&e.hot.selection.setRangeStart(d.start),e.hot.selection.setRangeEnd(d.end),e.lastSetCell=n),t.preventDefault())})}},{key:"getCurrentRangeCoords",value:function(e,t,n,i,r){var o=e.getTopLeftCorner(),a=e.getBottomRightCorner(),s=e.getBottomLeftCorner(),l=e.getTopRightCorner(),u={start:null,end:null};switch(n){case"NE-SW":switch(i){case"NE-SW":case"NW-SE":u="topLeft"==r?{start:new c.CellCoords(t.row,e.highlight.col),end:new c.CellCoords(s.row,t.col)}:{start:new c.CellCoords(e.highlight.row,t.col),end:new c.CellCoords(t.row,o.col)};break;case"SE-NW":"bottomRight"==r&&(u={start:new c.CellCoords(a.row,t.col),end:new c.CellCoords(t.row,o.col)})}break;case"NW-SE":switch(i){case"NE-SW":"topLeft"==r?u={start:t,end:s}:u.end=t;break;case"NW-SE":"topLeft"==r?u={start:t,end:a}:u.end=t;break;case"SE-NW":"topLeft"==r?u={start:t,end:o}:u.end=t;break;case"SW-NE":"topLeft"==r?u={start:t,end:l}:u.end=t}break;case"SW-NE":switch(i){case"NW-SE":u="bottomRight"==r?{start:new c.CellCoords(t.row,o.col),end:new c.CellCoords(s.row,t.col)}:{start:new c.CellCoords(o.row,t.col),end:new c.CellCoords(t.row,a.col)};break;case"SW-NE":u="topLeft"==r?{start:new c.CellCoords(e.highlight.row,t.col),end:new c.CellCoords(t.row,a.col)}:{start:new c.CellCoords(t.row,o.col),end:new c.CellCoords(o.row,t.col)};break;case"SE-NW":"bottomRight"==r?u={start:new c.CellCoords(t.row,l.col),end:new c.CellCoords(o.row,t.col)}:"topLeft"==r&&(u={start:s,end:t})}break;case"SE-NW":switch(i){case"NW-SE":case"NE-SW":case"SW-NE":"topLeft"==r&&(u.end=t);break;case"SE-NW":"topLeft"==r?u.end=t:u={start:t,end:o}}}return u}},{key:"isDragged",value:function(){return this.dragged.length>0}}]),t}();(0,l.registerPlugin)("multipleSelectionHandles",d),t.default=d},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=c(n(10)),a=(c(n(205)),c(n(352))),s=n(1),l=n(8);function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.observer=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"isEnabled",value:function(){return this.hot.getSettings().observeChanges}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.observer||(this.observer=new a.default(this.hot.getSourceData()),this._exposePublicApi()),this.observer.addLocalHook("change",function(t){return e.onDataChange(t)}),this.addHook("afterCreateRow",function(){return e.onAfterTableAlter()}),this.addHook("afterRemoveRow",function(){return e.onAfterTableAlter()}),this.addHook("afterCreateCol",function(){return e.onAfterTableAlter()}),this.addHook("afterRemoveCol",function(){return e.onAfterTableAlter()}),this.addHook("afterChange",function(t,n){return e.onAfterTableAlter(n)}),this.addHook("afterLoadData",function(t){return e.onAfterLoadData(t)}),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.observer&&(this.observer.destroy(),this.observer=null,this._deletePublicApi()),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"onDataChange",value:function(e){var t=this;if(!this.observer.isPaused()){var n=this.pluginName+".change",i={add:function(e){isNaN(e.col)?t.hot.runHooks("afterCreateRow",e.row,1,n):t.hot.runHooks("afterCreateCol",e.col,1,n)},remove:function(e){isNaN(e.col)?t.hot.runHooks("afterRemoveRow",e.row,1,n):t.hot.runHooks("afterRemoveCol",e.col,1,n)},replace:function(e){t.hot.runHooks("afterChange",[[e.row,e.col,null,e.value]],n)}};(0,s.arrayEach)(e,function(e){i[e.op]&&i[e.op](e)}),this.hot.render()}this.hot.runHooks("afterChangesObserved")}},{key:"onAfterTableAlter",value:function(e){var t=this;"loadData"!==e&&(this.observer.pause(),this.hot.addHookOnce("afterChangesObserved",function(){return t.observer.resume()}))}},{key:"onAfterLoadData",value:function(e){e||this.observer.setObservedData(this.hot.getSourceData())}},{key:"destroy",value:function(){this.observer&&(this.observer.destroy(),this._deletePublicApi()),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_exposePublicApi",value:function(){var e=this,t=this.hot;t.pauseObservingChanges=function(){return e.observer.pause()},t.resumeObservingChanges=function(){return e.observer.resume()},t.isPausedObservingChanges=function(){return e.observer.isPaused()}}},{key:"_deletePublicApi",value:function(){var e=this.hot;delete e.pauseObservingChanges,delete e.resumeObservingChanges,delete e.isPausedObservingChanges}}]),t}();t.default=u,(0,l.registerPlugin)("observeChanges",u)},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=l(n(205)),o=l(n(58)),a=n(2),s=n(353);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observedData=null,this.observer=null,this.paused=!1,this.setObservedData(t)}return i(e,[{key:"setObservedData",value:function(e){var t=this;this.observer&&r.default.unobserve(this.observedData,this.observer),this.observedData=e,this.observer=r.default.observe(this.observedData,function(e){return t.onChange(e)})}},{key:"isPaused",value:function(){return this.paused}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(){this.paused=!1}},{key:"onChange",value:function(e){this.runLocalHooks("change",(0,s.cleanPatches)(e))}},{key:"destroy",value:function(){r.default.unobserve(this.observedData,this.observer),this.observedData=null,this.observer=null}}]),e}();(0,a.mixin)(c,o.default),t.default=c},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.cleanPatches=function(e){var t=[];return e=(0,r.arrayFilter)(e,function(e){return!/[/]length/gi.test(e.path)&&!!o(e.path)}),e=(0,r.arrayMap)(e,function(e){var t=o(e.path);return e.row=t.row,e.col=t.col,e}),e=(0,r.arrayFilter)(e,function(e){if(-1!==["add","remove"].indexOf(e.op)&&!isNaN(e.col)){if(-1!==t.indexOf(e.col))return!1;t.push(e.col)}return!0}),t.length=0,e},t.parsePath=o;var r=n(1);function o(e){var t=e.match(/^\/(\d+)\/?(.*)?$/);if(!t)return null;var n=i(t,3),r=n[1],o=n[2];return{row:parseInt(r,10),col:/^\d*$/.test(o)?parseInt(o,10):o}}},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=function(e){return e&&e.__esModule?e:{default:e}}(n(10)),a=n(8),s=n(2),l=n(5),c=n(16);var u="htSearchResult",d=function(e,t,n,i,r){e.getCellMeta(t,n).isSearchResult=r},h=function(e,t){return!((0,c.isUndefined)(e)||null===e||!e.toLowerCase||0===e.length)&&(!(0,c.isUndefined)(t)&&null!==t&&-1!==t.toString().toLowerCase().indexOf(e.toLowerCase()))},f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.callback=d,n.queryMethod=h,n.searchResultClass=u,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),i(t,[{key:"isEnabled",value:function(){return this.hot.getSettings().search}},{key:"enablePlugin",value:function(){var e=this;if(!this.enabled){var n=this.hot.getSettings().search;this.updatePluginSettings(n),this.addHook("beforeRenderer",function(){return e.onBeforeRenderer.apply(e,arguments)}),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){var e=this,n=function(){return e.onBeforeRenderer.apply(e,arguments)};this.hot.addHook("beforeRenderer",n),this.hot.addHookOnce("afterRender",function(){e.hot.removeHook("beforeRenderer",n)}),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"query",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCallback(),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getQueryMethod(),r=this.hot.countRows(),o=this.hot.countCols(),a=[],s=this.hot;return(0,l.rangeEach)(0,r-1,function(r){(0,l.rangeEach)(0,o-1,function(o){var l=t.hot.getDataAtCell(r,o),c=t.hot.getCellMeta(r,o),u=c.search.callback||n,d=(c.search.queryMethod||i)(e,l);if(d){var h={row:r,col:o,data:l};a.push(h)}u&&u(s,r,o,l,d)})}),a}},{key:"getCallback",value:function(){return this.callback}},{key:"setCallback",value:function(e){this.callback=e}},{key:"getQueryMethod",value:function(){return this.queryMethod}},{key:"setQueryMethod",value:function(e){this.queryMethod=e}},{key:"getSearchResultClass",value:function(){return this.searchResultClass}},{key:"setSearchResultClass",value:function(e){this.searchResultClass=e}},{key:"updatePluginSettings",value:function(e){(0,s.isObject)(e)&&(e.searchResultClass&&this.setSearchResultClass(e.searchResultClass),e.queryMethod&&this.setQueryMethod(e.queryMethod),e.callback&&this.setCallback(e.callback))}},{key:"onBeforeRenderer",value:function(e,t,n,i,r,o){var a,s=o.className||[],l=[];"string"==typeof s?l=s.split(" "):(a=l).push.apply(a,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(s));this.isEnabled()&&o.isSearchResult?l.includes(this.searchResultClass)||l.push(""+this.searchResultClass):l.includes(this.searchResultClass)&&l.splice(l.indexOf(this.searchResultClass),1),o.className=l.join(" ")}},{key:"destroy",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}();(0,a.registerPlugin)("search",f),t.default=f},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=n(0),a=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(n(10)),l=n(8),c=n(40);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scrollbars=[],n.clones=[],n.lockedCollection=!1,n.freezeOverlays=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),i(t,[{key:"isEnabled",value:function(){return(0,c.isTouchSupported)()}},{key:"enablePlugin",value:function(){var e=this;this.enabled||(this.addHook("afterRender",function(){return e.onAfterRender()}),this.registerEvents(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.lockedCollection=!1,r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var e=this;this.addHook("beforeTouchScroll",function(){return e.onBeforeTouchScroll()}),this.addHook("afterMomentumScroll",function(){return e.onAfterMomentumScroll()})}},{key:"onAfterRender",value:function(){if(!this.lockedCollection){var e=this.hot.view.wt.wtOverlays,t=e.topOverlay,n=e.bottomOverlay,i=e.leftOverlay,r=e.topLeftCornerOverlay,o=e.bottomLeftCornerOverlay;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(t),n.clone&&this.scrollbars.push(n),this.scrollbars.push(i),r&&this.scrollbars.push(r),o&&o.clone&&this.scrollbars.push(o),this.clones.length=0,t.needFullRender&&this.clones.push(t.clone.wtTable.holder.parentNode),n.needFullRender&&this.clones.push(n.clone.wtTable.holder.parentNode),i.needFullRender&&this.clones.push(i.clone.wtTable.holder.parentNode),r&&this.clones.push(r.clone.wtTable.holder.parentNode),o&&o.clone&&this.clones.push(o.clone.wtTable.holder.parentNode)}}},{key:"onBeforeTouchScroll",value:function(){this.freezeOverlays=!0,(0,a.arrayEach)(this.clones,function(e){(0,o.addClass)(e,"hide-tween")})}},{key:"onAfterMomentumScroll",value:function(){var e=this;this.freezeOverlays=!1,(0,a.arrayEach)(this.clones,function(e){(0,o.removeClass)(e,"hide-tween"),(0,o.addClass)(e,"show-tween")}),setTimeout(function(){(0,a.arrayEach)(e.clones,function(e){(0,o.removeClass)(e,"show-tween")})},400),(0,a.arrayEach)(this.scrollbars,function(e){e.refresh(),e.resetFixedPosition()}),this.hot.view.wt.wtOverlays.syncScrollWithMaster()}}]),t}();(0,l.registerPlugin)("touchScroll",u),t.default=u},function(e,t,n){"use strict";t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(15)),o=n(1),a=n(5),s=n(2),l=n(12),c=(n(4),n(19));function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e){var t=this;this.instance=e,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,e.addHook("afterChange",function(e,n){e&&"UndoRedo.undo"!==n&&"UndoRedo.redo"!==n&&"MergeCells"!==n&&t.done(new f.ChangeAction(e))}),e.addHook("afterCreateRow",function(e,n,i){if("UndoRedo.undo"!==i&&"UndoRedo.undo"!==i&&"auto"!==i){var r=new f.CreateRowAction(e,n);t.done(r)}}),e.addHook("beforeRemoveRow",function(e,n,i,r){if("UndoRedo.undo"!==r&&"UndoRedo.redo"!==r&&"auto"!==r){var o=t.instance.getSourceDataArray();e=(o.length+e)%o.length;var a=(0,s.deepClone)(o.slice(e,e+n));t.done(new f.RemoveRowAction(e,a))}}),e.addHook("afterCreateCol",function(e,n,i){"UndoRedo.undo"!==i&&"UndoRedo.redo"!==i&&"auto"!==i&&t.done(new f.CreateColumnAction(e,n))}),e.addHook("beforeRemoveCol",function(n,i,r,o){if("UndoRedo.undo"!==o&&"UndoRedo.redo"!==o&&"auto"!==o){var s=t.instance.getSourceDataArray();n=(t.instance.countCols()+n)%t.instance.countCols();var l=[],c=[],u=[];(0,a.rangeEach)(s.length-1,function(t){var r=[],o=s[t];(0,a.rangeEach)(n,n+(i-1),function(t){r.push(o[e.runHooks("modifyCol",t)])}),l.push(r)}),(0,a.rangeEach)(i-1,function(t){u.push(e.runHooks("modifyCol",n+t))}),Array.isArray(e.getSettings().colHeaders)&&(0,a.rangeEach)(i-1,function(t){c.push(e.getSettings().colHeaders[e.runHooks("modifyCol",n+t)]||null)});var d=t.instance.getPlugin("manualColumnMove"),h=d.isEnabled()?d.columnsMapper.__arrayMap:[],p=new f.RemoveColumnAction(n,u,l,c,h);t.done(p)}}),e.addHook("beforeCellAlignment",function(e,n,i,r){var o=new f.CellAlignmentAction(e,n,i,r);t.done(o)}),e.addHook("beforeFilter",function(e){t.done(new f.FiltersAction(e))}),e.addHook("beforeRowMove",function(e,n){!1!==e&&t.done(new f.RowMoveAction(e,n))}),e.addHook("beforeMergeCells",function(n,i){i||t.done(new f.MergeCellsAction(e,n))}),e.addHook("afterUnmergeCells",function(n,i){i||t.done(new f.UnmergeCellsAction(e,n))})}f.prototype.done=function(e){this.ignoreNewActions||(this.doneActions.push(e),this.undoneActions.length=0)},f.prototype.undo=function(){if(this.isUndoAvailable()){var e=this.doneActions.pop(),t=(0,s.deepClone)(e),n=this.instance;if(!1===n.runHooks("beforeUndo",t))return;this.ignoreNewActions=!0;var i=this;e.undo(this.instance,function(){i.ignoreNewActions=!1,i.undoneActions.push(e)}),n.runHooks("afterUndo",t)}},f.prototype.redo=function(){if(this.isRedoAvailable()){var e=this.undoneActions.pop(),t=(0,s.deepClone)(e),n=this.instance;if(!1===n.runHooks("beforeRedo",t))return;this.ignoreNewActions=!0;var i=this;e.redo(this.instance,function(){i.ignoreNewActions=!1,i.doneActions.push(e)}),n.runHooks("afterRedo",t)}},f.prototype.isUndoAvailable=function(){return this.doneActions.length>0},f.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},f.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},f.Action=function(){},f.Action.prototype.undo=function(){},f.Action.prototype.redo=function(){},f.ChangeAction=function(e){this.changes=e,this.actionType="change"},(0,s.inherit)(f.ChangeAction,f.Action),f.ChangeAction.prototype.undo=function(e,t){for(var n=(0,s.deepClone)(this.changes),i=e.countEmptyRows(!0),r=e.countEmptyCols(!0),o=0,a=n.length;o<a;o++)n[o].splice(3,1);e.addHookOnce("afterChange",t),e.setDataAtRowProp(n,null,null,"UndoRedo.undo");for(var l=0,c=n.length;l<c;l++)e.getSettings().minSpareRows&&n[l][0]+1+e.getSettings().minSpareRows===e.countRows()&&i===e.getSettings().minSpareRows&&(e.alter("remove_row",parseInt(n[l][0]+1,10),e.getSettings().minSpareRows),e.undoRedo.doneActions.pop()),e.getSettings().minSpareCols&&n[l][1]+1+e.getSettings().minSpareCols===e.countCols()&&r===e.getSettings().minSpareCols&&(e.alter("remove_col",parseInt(n[l][1]+1,10),e.getSettings().minSpareCols),e.undoRedo.doneActions.pop())},f.ChangeAction.prototype.redo=function(e,t){for(var n=(0,s.deepClone)(this.changes),i=0,r=n.length;i<r;i++)n[i].splice(2,1);e.addHookOnce("afterChange",t),e.setDataAtRowProp(n,null,null,"UndoRedo.redo")},f.CreateRowAction=function(e,t){this.index=e,this.amount=t,this.actionType="insert_row"},(0,s.inherit)(f.CreateRowAction,f.Action),f.CreateRowAction.prototype.undo=function(e,t){var n=e.countRows(),i=e.getSettings().minSpareRows;this.index>=n&&this.index-i<n&&(this.index-=i),e.addHookOnce("afterRemoveRow",t),e.alter("remove_row",this.index,this.amount,"UndoRedo.undo")},f.CreateRowAction.prototype.redo=function(e,t){e.addHookOnce("afterCreateRow",t),e.alter("insert_row",this.index,this.amount,"UndoRedo.redo")},f.RemoveRowAction=function(e,t){this.index=e,this.data=t,this.actionType="remove_row"},(0,s.inherit)(f.RemoveRowAction,f.Action),f.RemoveRowAction.prototype.undo=function(e,t){e.alter("insert_row",this.index,this.data.length,"UndoRedo.undo"),e.addHookOnce("afterRender",t),e.populateFromArray(this.index,0,this.data,void 0,void 0,"UndoRedo.undo")},f.RemoveRowAction.prototype.redo=function(e,t){e.addHookOnce("afterRemoveRow",t),e.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")},f.CreateColumnAction=function(e,t){this.index=e,this.amount=t,this.actionType="insert_col"},(0,s.inherit)(f.CreateColumnAction,f.Action),f.CreateColumnAction.prototype.undo=function(e,t){e.addHookOnce("afterRemoveCol",t),e.alter("remove_col",this.index,this.amount,"UndoRedo.undo")},f.CreateColumnAction.prototype.redo=function(e,t){e.addHookOnce("afterCreateCol",t),e.alter("insert_col",this.index,this.amount,"UndoRedo.redo")},f.RemoveColumnAction=function(e,t,n,i,r){this.index=e,this.indexes=t,this.data=n,this.amount=this.data[0].length,this.headers=i,this.columnPositions=r.slice(0),this.actionType="remove_col"},(0,s.inherit)(f.RemoveColumnAction,f.Action),f.RemoveColumnAction.prototype.undo=function(e,t){var n=this,i=void 0,r=this.indexes.slice(0).sort(),s=function(e,t,i){return i[n.indexes.indexOf(r[t])]},l=[];(0,a.rangeEach)(this.data.length-1,function(e){l[e]=(0,o.arrayMap)(n.data[e],s)});var c;c=(0,o.arrayMap)(this.headers,s);var u=[];e.runHooks("beforeCreateCol",this.indexes[0],this.indexes.length,"UndoRedo.undo"),(0,a.rangeEach)(this.data.length-1,function(t){i=e.getSourceDataAtRow(t),(0,a.rangeEach)(r.length-1,function(e){i.splice(r[e],0,l[t][e]),u.push([t,r[e],null,l[t][e]])})}),e.getPlugin("formulas")&&e.getPlugin("formulas").onAfterSetDataAtCell(u),void 0!==this.headers&&(0,a.rangeEach)(c.length-1,function(t){e.getSettings().colHeaders.splice(r[t],0,c[t])}),e.getPlugin("manualColumnMove")&&(e.getPlugin("manualColumnMove").columnsMapper.__arrayMap=this.columnPositions),e.addHookOnce("afterRender",t),e.runHooks("afterCreateCol",this.indexes[0],this.indexes.length,"UndoRedo.undo"),e.getPlugin("formulas")&&e.getPlugin("formulas").recalculateFull(),e.render()},f.RemoveColumnAction.prototype.redo=function(e,t){e.addHookOnce("afterRemoveCol",t),e.alter("remove_col",this.index,this.amount,"UndoRedo.redo")},f.CellAlignmentAction=function(e,t,n,i){this.stateBefore=e,this.range=t,this.type=n,this.alignment=i},f.CellAlignmentAction.prototype.undo=function(e,t){var n=this;(0,o.arrayEach)(this.range,function(t){for(var i=t.from,r=t.to,o=i.row;o<=r.row;o+=1)for(var a=i.col;a<=r.col;a+=1)e.setCellMeta(o,a,"className",n.stateBefore[o][a]||" htLeft")}),e.addHookOnce("afterRender",t),e.render()},f.CellAlignmentAction.prototype.redo=function(e,t){(0,c.align)(this.range,this.type,this.alignment,function(t,n){return e.getCellMeta(t,n)},function(t,n,i,r){return e.setCellMeta(t,n,i,r)}),e.addHookOnce("afterRender",t),e.render()},f.FiltersAction=function(e){this.conditionsStack=e,this.actionType="filter"},(0,s.inherit)(f.FiltersAction,f.Action),f.FiltersAction.prototype.undo=function(e,t){var n=e.getPlugin("filters");e.addHookOnce("afterRender",t),n.conditionCollection.importAllConditions(this.conditionsStack.slice(0,this.conditionsStack.length-1)),n.filter()},f.FiltersAction.prototype.redo=function(e,t){var n=e.getPlugin("filters");e.addHookOnce("afterRender",t),n.conditionCollection.importAllConditions(this.conditionsStack),n.filter()};var p=function(e){function t(e,n){u(this,t);var i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.cellRange=n,i.rangeData=e.getData(n.from.row,n.from.col,n.to.row,n.to.col),i}return h(t,f.Action),i(t,[{key:"undo",value:function(e,t){var n=e.getPlugin("mergeCells");e.addHookOnce("afterRender",t),n.unmergeRange(this.cellRange,!0),e.populateFromArray(this.cellRange.from.row,this.cellRange.from.col,this.rangeData,void 0,void 0,"MergeCells")}},{key:"redo",value:function(e,t){var n=e.getPlugin("mergeCells");e.addHookOnce("afterRender",t),n.mergeRange(this.cellRange)}}]),t}();f.MergeCellsAction=p;var m=function(e){function t(e,n){u(this,t);var i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.cellRange=n,i}return h(t,f.Action),i(t,[{key:"undo",value:function(e,t){var n=e.getPlugin("mergeCells");e.addHookOnce("afterRender",t),n.mergeRange(this.cellRange,!0)}},{key:"redo",value:function(e,t){var n=e.getPlugin("mergeCells");e.addHookOnce("afterRender",t),n.unmergeRange(this.cellRange,!0),e.render()}}]),t}();function g(){void 0===this.getSettings().undo||this.getSettings().undo?this.undoRedo||(this.undoRedo=new f(this),function(e){e.undo=function(){return e.undoRedo.undo()},e.redo=function(){return e.undoRedo.redo()},e.isUndoAvailable=function(){return e.undoRedo.isUndoAvailable()},e.isRedoAvailable=function(){return e.undoRedo.isRedoAvailable()},e.clearUndo=function(){return e.undoRedo.clear()}}(this),this.addHook("beforeKeyDown",_),this.addHook("afterChange",v)):this.undoRedo&&(delete this.undoRedo,function(e){delete e.undo,delete e.redo,delete e.isUndoAvailable,delete e.isRedoAvailable,delete e.clearUndo}(this),this.removeHook("beforeKeyDown",_),this.removeHook("afterChange",v))}function _(e){(e.ctrlKey||e.metaKey)&&!e.altKey&&(89===e.keyCode||e.shiftKey&&90===e.keyCode?(this.undoRedo.redo(),(0,l.stopImmediatePropagation)(e)):90===e.keyCode&&(this.undoRedo.undo(),(0,l.stopImmediatePropagation)(e)))}function v(e,t){if("loadData"===t)return this.undoRedo.clear()}f.UnmergeCellsAction=m,f.RowMoveAction=function(e,t){this.rows=e.slice(),this.target=t},(0,s.inherit)(f.RowMoveAction,f.Action),f.RowMoveAction.prototype.undo=function(e,t){var n=e.getPlugin("manualRowMove");e.addHookOnce("afterRender",t);for(var i=this.rows[0]<this.target?-1*this.rows.length:0,r=this.rows[0]>this.target?this.rows[0]+this.rows.length:this.rows[0],o=[],a=this.rows.length+i,s=i;s<a;s+=1)o.push(this.target+s);n.moveRows(o.slice(),r),e.render(),e.selectCell(this.rows[0],0,this.rows[this.rows.length-1],e.countCols()-1,!1,!1)},f.RowMoveAction.prototype.redo=function(e,t){var n=e.getPlugin("manualRowMove");e.addHookOnce("afterRender",t),n.moveRows(this.rows.slice(),this.target),e.render();var i=this.rows[0]<this.target?this.target-this.rows.length:this.target;e.selectCell(i,0,i+this.rows.length-1,e.countCols()-1,!1,!1)};var y=r.default.getSingleton();y.add("afterInit",g),y.add("afterUpdateSettings",g),y.register("beforeUndo"),y.register("afterUndo"),y.register("beforeRedo"),y.register("afterRedo"),t.default=f}]).default})},function(e,t,n){(function(i){var r;
/*!
 * numbro.js
 * version : 1.11.0
 * author : Företagsplatsen AB
 * license : MIT
 * http://www.foretagsplatsen.se
 */
/*!
 * numbro.js
 * version : 1.11.0
 * author : Företagsplatsen AB
 * license : MIT
 * http://www.foretagsplatsen.se
 */
(function(){"use strict";var o,a=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],s=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],l={general:{scale:1024,suffixes:s,marker:"bd"},binary:{scale:1024,suffixes:a,marker:"b"},decimal:{scale:1e3,suffixes:s,marker:"d"}},c=[l.general,l.binary,l.decimal],u={},d=u,h="en-US",f=null,p="0,0",m="0$",g=e.exports;function _(e){this._value=e}function v(e){return 0===e?1:Math.floor(Math.log(Math.abs(e))/Math.LN10)+1}function y(e){var t,n="";for(t=0;t<e;t++)n+="0";return n}function b(e,t,n,i){var r,o,a=Math.pow(10,t);return e.toString().indexOf("e")>-1?"-"===(o=function(e,t){var n,i,r,o,a,s;return n=(s=e.toString()).split("e")[0],o=s.split("e")[1],i=n.split(".")[0],r=n.split(".")[1]||"",+o>0?s=i+r+y(o-r.length):(a=+i<0?"-0":"0",t>0&&(a+="."),s=a+(y(-1*o-1)+Math.abs(i)+r).substr(0,t)),+o>0&&t>0&&(s+="."+y(t)),s}(e,t)).charAt(0)&&+o>=0&&(o=o.substr(1)):o=(n(e+"e+"+t)/a).toFixed(t),i&&(r=new RegExp("0{1,"+i+"}$"),o=o.replace(r,"")),o}function w(e,t,n){var i=t.replace(/\{[^\{\}]*\}/g,"");return i.indexOf("$")>-1?M(e,u[h].currency.symbol,t,n):i.indexOf("%")>-1?function(e,t,n){var i,r="",o=100*e._value;t.indexOf(" %")>-1?(r=" ",t=t.replace(" %","")):t=t.replace("%","");(i=C(o,t,n)).indexOf(")")>-1?((i=i.split("")).splice(-1,0,r+"%"),i=i.join("")):i=i+r+"%";return i}(e,t,n):i.indexOf(":")>-1?function(e){var t=Math.floor(e._value/60/60),n=Math.floor((e._value-60*t*60)/60),i=Math.round(e._value-60*t*60-60*n);return t+":"+(n<10?"0"+n:n)+":"+(i<10?"0"+i:i)}(e):C(e._value,t,n)}function k(e,t){var n,i,r,o,l,c=t,d=!1;if(t.indexOf(":")>-1)e._value=function(e){var t=e.split(":"),n=0;3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1]));return Number(n)}(t);else if(t===f)e._value=0;else{for("."!==u[h].delimiters.decimal&&(t=t.replace(/\./g,"").replace(u[h].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+u[h].abbreviations.thousand+"(?:\\)|(\\"+u[h].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+u[h].abbreviations.million+"(?:\\)|(\\"+u[h].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+u[h].abbreviations.billion+"(?:\\)|(\\"+u[h].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+u[h].abbreviations.trillion+"(?:\\)|(\\"+u[h].currency.symbol+")?(?:\\))?)?$"),l=1;l<a.length&&!d;++l)t.indexOf(a[l])>-1?d=Math.pow(1024,l):t.indexOf(s[l])>-1&&(d=Math.pow(1e3,l));var p=t.replace(/[^0-9\.]+/g,"");""===p?e._value=NaN:(e._value=(d||1)*(c.match(n)?Math.pow(10,3):1)*(c.match(i)?Math.pow(10,6):1)*(c.match(r)?Math.pow(10,9):1)*(c.match(o)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*((t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1)*Number(p),e._value=d?Math.ceil(e._value):e._value)}return e._value}function M(e,t,n,i){var r,o,a=n,s=a.indexOf("$"),l=a.indexOf("("),c=a.indexOf("+"),d=a.indexOf("-"),f="",p="";if(-1===a.indexOf("$")?"infix"===u[h].currency.position?(p=t,u[h].currency.spaceSeparated&&(p=" "+p+" ")):u[h].currency.spaceSeparated&&(f=" "):a.indexOf(" $")>-1?(f=" ",a=a.replace(" $","")):a.indexOf("$ ")>-1?(f=" ",a=a.replace("$ ","")):a=a.replace("$",""),o=C(e._value,a,i,p),-1===n.indexOf("$"))switch(u[h].currency.position){case"postfix":o.indexOf(")")>-1?((o=o.split("")).splice(-1,0,f+t),o=o.join("")):o=o+f+t;break;case"infix":break;case"prefix":o.indexOf("(")>-1||o.indexOf("-")>-1?(o=o.split(""),r=Math.max(l,d)+1,o.splice(r,0,t+f),o=o.join("")):o=t+f+o;break;default:throw Error('Currency position should be among ["prefix", "infix", "postfix"]')}else s<=1?o.indexOf("(")>-1||o.indexOf("+")>-1||o.indexOf("-")>-1?(o=o.split(""),r=1,(s<l||s<c||s<d)&&(r=0),o.splice(r,0,t+f),o=o.join("")):o=t+f+o:o.indexOf(")")>-1?((o=o.split("")).splice(-1,0,f+t),o=o.join("")):o=o+f+t;return o}function x(e,t,n){var i,r,o,a=t[0],s=Math.abs(e);if(s>=n){for(i=1;i<t.length;++i)if(r=Math.pow(n,i),o=Math.pow(n,i+1),s>=r&&s<o){a=t[i],e/=r;break}a===t[0]&&(e/=Math.pow(n,t.length-1),a=t[t.length-1])}return{value:e,suffix:a}}function C(e,t,n,i){var r,o,a,s,l,d,p,m,g,_,w,k,M,C,S,T=!1,L=!1,E=!1,D="",O=!1,A=!1,Y=!1,R=!1,j=!1,P="",N="",H=Math.abs(e),I="",F=!1,$=!1;if(0===e&&null!==f)return f;if(!isFinite(e))return""+e;if(0===t.indexOf("{")){var W=t.indexOf("}");if(-1===W)throw Error('Format should also contain a "}"');_=t.slice(1,W),t=t.slice(W+1)}else _="";if(t.indexOf("}")===t.length-1&&t.length){var z=t.indexOf("{");if(-1===z)throw Error('Format should also contain a "{"');w=t.slice(z+1,-1),t=t.slice(0,z+1)}else w="";for(M=null===(S=-1===t.indexOf(".")?t.match(/([0-9]+).*/):t.match(/([0-9]+)\..*/))?-1:S[1].length,-1!==t.indexOf("-")&&(F=!0),t.indexOf("(")>-1?(T=!0,t=t.slice(1,-1)):t.indexOf("+")>-1&&(L=!0,t=t.replace(/\+/g,"")),t.indexOf("a")>-1&&(m=t.split(".")[0].match(/[0-9]+/g)||["0"],m=parseInt(m[0],10),O=t.indexOf("aK")>=0,A=t.indexOf("aM")>=0,Y=t.indexOf("aB")>=0,R=t.indexOf("aT")>=0,j=O||A||Y||R,t.indexOf(" a")>-1?(D=" ",t=t.replace(" a","")):t=t.replace("a",""),l=0===(l=(a=v(e))%3)?3:l,m&&0!==H&&(d=3*~~((Math.min(m,a)-l)/3),H/=Math.pow(10,d)),a!==m&&(H>=Math.pow(10,12)&&!j||R?(D+=u[h].abbreviations.trillion,e/=Math.pow(10,12)):H<Math.pow(10,12)&&H>=Math.pow(10,9)&&!j||Y?(D+=u[h].abbreviations.billion,e/=Math.pow(10,9)):H<Math.pow(10,9)&&H>=Math.pow(10,6)&&!j||A?(D+=u[h].abbreviations.million,e/=Math.pow(10,6)):(H<Math.pow(10,6)&&H>=Math.pow(10,3)&&!j||O)&&(D+=u[h].abbreviations.thousand,e/=Math.pow(10,3))),s=v(e),m&&s<m&&-1===t.indexOf(".")&&(t+="[.]",t+=y(m-s))),C=0;C<c.length;++C)if(r=c[C],t.indexOf(r.marker)>-1){t.indexOf(" "+r.marker)>-1&&(P=" "),t=t.replace(P+r.marker,""),e=(o=x(e,r.suffixes,r.scale)).value,P+=o.suffix;break}if(t.indexOf("o")>-1&&(t.indexOf(" o")>-1?(N=" ",t=t.replace(" o","")):t=t.replace("o",""),u[h].ordinal&&(N+=u[h].ordinal(e))),t.indexOf("[.]")>-1&&(E=!0,t=t.replace("[.]",".")),g=t.split(".")[1],k=t.indexOf(","),g){var B=[];if(-1!==g.indexOf("*")?(B=(I=e.toString()).split(".")).length>1&&(I=b(e,B[1].length,n)):I=g.indexOf("[")>-1?b(e,(g=(g=g.replace("]","")).split("["))[0].length+g[1].length,n,g[1].length):b(e,g.length,n),p=(B=I.split("."))[0],B.length>1&&B[1].length)I=(i?D+i:u[h].delimiters.decimal)+B[1];else I="";E&&0===Number(I.slice(1))&&(I="")}else p=b(e,0,n);return p.indexOf("-")>-1&&(p=p.slice(1),$=!0),p.length<M&&(p=y(M-p.length)+p),k>-1&&(p=p.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+u[h].delimiters.thousands)),0===t.indexOf(".")&&(p=""),_+(t.indexOf("(")<t.indexOf("-")?(T&&$?"(":"")+(F&&$||!T&&$?"-":""):(F&&$||!T&&$?"-":"")+(T&&$?"(":""))+(!$&&L&&0!==e?"+":"")+p+I+(N||"")+(D&&!i?D:"")+(P||"")+(T&&$?")":"")+w}function S(e,t){u[e]=t}function T(e){h=e;var t=u[e].defaults;t&&t.format&&o.defaultFormat(t.format),t&&t.currencyFormat&&o.defaultCurrencyFormat(t.currencyFormat)}function L(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function E(){return Array.prototype.slice.call(arguments).reduce(function(e,t){var n=L(e),i=L(t);return n>i?n:i},-1/0)}(o=function(e){return e=o.isNumbro(e)?e.value():"string"==typeof e||"number"==typeof e?o.fn.unformat(e):NaN,new _(Number(e))}).version="1.11.0",o.isNumbro=function(e){return e instanceof _},o.setLanguage=function(e,t){console.warn("`setLanguage` is deprecated since version 1.6.0. Use `setCulture` instead");var n=e,i=e.split("-")[0],r=null;d[n]||(Object.keys(d).forEach(function(e){r||e.split("-")[0]!==i||(r=e)}),n=r||t||"en-US"),T(n)},o.setCulture=function(e,t){var n=e,i=e.split("-")[1],r=null;u[n]||(i&&Object.keys(u).forEach(function(e){r||e.split("-")[1]!==i||(r=e)}),n=r||t||"en-US"),T(n)},o.language=function(e,t){if(console.warn("`language` is deprecated since version 1.6.0. Use `culture` instead"),!e)return h;if(e&&!t){if(!d[e])throw new Error("Unknown language : "+e);T(e)}return!t&&d[e]||S(e,t),o},o.culture=function(e,t){if(!e)return h;if(e&&!t){if(!u[e])throw new Error("Unknown culture : "+e);T(e)}return!t&&u[e]||S(e,t),o},o.languageData=function(e){if(console.warn("`languageData` is deprecated since version 1.6.0. Use `cultureData` instead"),!e)return d[h];if(!d[e])throw new Error("Unknown language : "+e);return d[e]},o.cultureData=function(e){if(!e)return u[h];if(!u[e])throw new Error("Unknown culture : "+e);return u[e]},o.culture("en-US",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",0000 a"},formats:{fourDigits:"0000 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00"}}),o.languages=function(){return console.warn("`languages` is deprecated since version 1.6.0. Use `cultures` instead"),d},o.cultures=function(){return u},o.zeroFormat=function(e){f="string"==typeof e?e:null},o.defaultFormat=function(e){p="string"==typeof e?e:"0.0"},o.defaultCurrencyFormat=function(e){m="string"==typeof e?e:"0$"},o.validate=function(e,t){var n,i,r,a,s,l,c,u;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numbro.js: Value is not string. It has been co-erced to: ",e)),(e=(e=e.trim()).replace(/^[+-]?/,"")).match(/^\d+$/))return!0;if(""===e)return!1;try{c=o.cultureData(t)}catch(e){c=o.cultureData(o.culture())}return r=c.currency.symbol,s=c.abbreviations,n=c.delimiters.decimal,i="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,(null===(u=e.match(/^[^\d\.\,]+/))||(e=e.substr(1),u[0]===r))&&((null===(u=e.match(/[^\d]+$/))||(e=e.slice(0,-1),u[0]===s.thousand||u[0]===s.million||u[0]===s.billion||u[0]===s.trillion))&&(l=new RegExp(i+"{2}"),!e.match(/[^\d.,]/g)&&(!((a=e.split(n)).length>2)&&(a.length<2?!!a[0].match(/^\d+.*\d$/)&&!a[0].match(l):""===a[0]?!a[0].match(l)&&!!a[1].match(/^\d+$/):1===a[0].length?!!a[0].match(/^\d+$/)&&!a[0].match(l)&&!!a[1].match(/^\d+$/):!!a[0].match(/^\d+.*\d$/)&&!a[0].match(l)&&!!a[1].match(/^\d+$/)))))},o.loadLanguagesInNode=function(){console.warn("`loadLanguagesInNode` is deprecated since version 1.6.0. Use `loadCulturesInNode` instead"),o.loadCulturesInNode()},o.loadCulturesInNode=function(){var e=n(846);for(var t in e)t&&o.culture(t,e[t])},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){if(null===this||void 0===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,i,r=this.length>>>0,o=!1;for(1<arguments.length&&(i=t,o=!0),n=0;r>n;++n)this.hasOwnProperty(n)&&(o?i=e(i,this[n],n,this):(i=this[n],o=!0));if(!o)throw new TypeError("Reduce of empty array with no initial value");return i}),o.fn=_.prototype={clone:function(){return o(this)},format:function(e,t){return w(this,e||p,void 0!==t?t:Math.round)},formatCurrency:function(e,t){return M(this,u[h].currency.symbol,e||m,void 0!==t?t:Math.round)},formatForeignCurrency:function(e,t,n){return function(e,t,n,i){return M(e,t,n,i)}(this,e,t||m,void 0!==n?n:Math.round)},unformat:function(e){if("number"==typeof e)return e;if("string"==typeof e){var t=k(this,e);return isNaN(t)?void 0:t}},binaryByteUnits:function(){return x(this._value,l.binary.suffixes,l.binary.scale).suffix},byteUnits:function(){return x(this._value,l.general.suffixes,l.general.scale).suffix},decimalByteUnits:function(){return x(this._value,l.decimal.suffixes,l.decimal.scale).suffix},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){var t=E.call(null,this._value,e);return this._value=[this._value,e].reduce(function(e,n){return e+t*n},0)/t,this},subtract:function(e){var t=E.call(null,this._value,e);return this._value=[e].reduce(function(e,n){return e-t*n},this._value*t)/t,this},multiply:function(e){return this._value=[this._value,e].reduce(function(e,t){var n=E(e,t),i=e*n;return i*=t*n,i/=n*n},1),this},divide:function(e){return this._value=[this._value,e].reduce(function(e,t){var n=E(e,t);return e*n/(t*n)}),this},difference:function(e){return Math.abs(o(this._value).subtract(e).value())}},void 0!==i&&void 0===i.browser&&i.title&&(-1!==i.title.indexOf("node")||i.title.indexOf("meteor-tool")>0||"grunt"===i.title||"gulp"===i.title)&&o.loadCulturesInNode(),g?e.exports=o:("undefined"==typeof ender&&(this.numbro=o),void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r))}).call("undefined"==typeof window?this:window)}).call(this,n(551))},function(e,t,n){t.bg=n(847),t["cs-CZ"]=n(848),t["da-DK"]=n(849),t["de-AT"]=n(850),t["de-CH"]=n(851),t["de-DE"]=n(852),t["de-LI"]=n(853),t.el=n(854),t["en-AU"]=n(855),t["en-GB"]=n(856),t["en-IE"]=n(857),t["en-NZ"]=n(858),t["en-ZA"]=n(859),t["es-AR"]=n(860),t["es-CL"]=n(861),t["es-CO"]=n(862),t["es-CR"]=n(863),t["es-ES"]=n(864),t["es-NI"]=n(865),t["es-PE"]=n(866),t["es-PR"]=n(867),t["es-SV"]=n(868),t["et-EE"]=n(869),t["fa-IR"]=n(870),t["fi-FI"]=n(871),t["fil-PH"]=n(872),t["fr-CA"]=n(873),t["fr-CH"]=n(874),t["fr-FR"]=n(875),t["he-IL"]=n(876),t["hu-HU"]=n(877),t.id=n(878),t["it-CH"]=n(879),t["it-IT"]=n(880),t["ja-JP"]=n(881),t["ko-KR"]=n(882),t["lv-LV"]=n(883),t["nb-NO"]=n(884),t.nb=n(885),t["nl-BE"]=n(886),t["nl-NL"]=n(887),t.nn=n(888),t["pl-PL"]=n(889),t["pt-BR"]=n(890),t["pt-PT"]=n(891),t["ro-RO"]=n(892),t.ro=n(893),t["ru-RU"]=n(894),t["ru-UA"]=n(895),t["sk-SK"]=n(896),t.sl=n(897),t["sr-Cyrl-RS"]=n(898),t["sv-SE"]=n(899),t["th-TH"]=n(900),t["tr-TR"]=n(901),t["uk-UA"]=n(902),t["zh-CN"]=n(903),t["zh-MO"]=n(904),t["zh-SG"]=n(905),t["zh-TW"]=n(906)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Bulgarian
 * author : Tim McIntosh (StayinFront NZ)
 */
(function(){"use strict";var t={langLocaleCode:"bg",cultureCode:"bg",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"И",million:"А",billion:"M",trillion:"T"},ordinal:function(){return"."},currency:{symbol:"лв."}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&this.numbro.culture("bg",t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Czech
 * locale: Czech Republic
 * author : Jan Pesa : https://github.com/smajl (based on work from Anatoli Papirovski : https://github.com/apapirovski)
 */
(function(){"use strict";var t={langLocaleCode:"cs-CZ",cultureCode:"cs-CZ",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"mld.",trillion:"bil."},ordinal:function(){return"."},currency:{symbol:"Kč",position:"postfix",spaceSeparated:!0},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Danish
 * locale: Denmark
 * author : Michael Storgaard : https://github.com/mstorgaard
 */
(function(){"use strict";var t={langLocaleCode:"da-DK",cultureCode:"da-DK",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mio",billion:"mia",trillion:"b"},ordinal:function(){return"."},currency:{symbol:"kr",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : German
 * locale: Austria
 * author : Tim McIntosh (StayinFront NZ)
 */
(function(){"use strict";var t={langLocaleCode:"de-AT",cultureCode:"de-AT",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"€"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : German
 * locale: Switzerland
 * author : Michael Piefel : https://github.com/piefel (based on work from Marco Krage : https://github.com/sinky)
 */
(function(){"use strict";var t={langLocaleCode:"de-CH",cultureCode:"de-CH",delimiters:{thousands:"'",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"CHF",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : German
 * locale: Germany
 * author : Marco Krage : https://github.com/sinky
 *
 * Generally useful in Germany, Austria, Luxembourg, Belgium
 */
(function(){"use strict";var t={langLocaleCode:"de-DE",cultureCode:"de-DE",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"€",position:"postfix",spaceSeparated:!0},defaults:{currencyFormat:",4"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : German
 * locale: Liechtenstein
 * author : Michael Piefel : https://github.com/piefel (based on work from Marco Krage : https://github.com/sinky)
 */
(function(){"use strict";var t={langLocaleCode:"de-LI",cultureCode:"de-LI",delimiters:{thousands:"'",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"CHF",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Greek (el)
 * author : Tim McIntosh (StayinFront NZ)
 */
(function(){"use strict";var t={langLocaleCode:"el",cultureCode:"el",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"χ",million:"ε",billion:"δ",trillion:"τ"},ordinal:function(){return"."},currency:{symbol:"€"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("el",t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : English
 * locale: Australia
 * author : Benedikt Huss : https://github.com/ben305
 */
(function(){"use strict";var t={langLocaleCode:"en-AU",cultureCode:"en-AU",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : English
 * locale: United Kingdom of Great Britain and Northern Ireland
 * author : Dan Ristic : https://github.com/dristic
 */
(function(){"use strict";var t={langLocaleCode:"en-GB",cultureCode:"en-GB",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"£",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
+ * numbro.js language configuration
 * language : English
 * locale: Ireland
 * author : Tim McIntosh (StayinFront NZ)
 */
(function(){"use strict";var t={langLocaleCode:"en-IE",cultureCode:"en-IE",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"€"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("en-gb",t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : English
 * locale: New Zealand
 * author : Benedikt Huss : https://github.com/ben305
 */
(function(){"use strict";var t={langLocaleCode:"en-NZ",cultureCode:"en-NZ",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : English
 * locale: South Africa
 * author : Stewart Scott https://github.com/stewart42
 */
(function(){"use strict";var t={langLocaleCode:"en-ZA",cultureCode:"en-ZA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"R",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Spanish
 * locale: Argentina
 * author : Hernan Garcia : https://github.com/hgarcia
 */
(function(){"use strict";var t={langLocaleCode:"es-AR",cultureCode:"es-AR",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"$",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Spanish
 * locale: Chile
 * author : Gwyn Judd : https://github.com/gwynjudd
 */
(function(){"use strict";var t={langLocaleCode:"es-CL",cultureCode:"es-CL",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:"$0,0"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Spanish
 * locale: Colombia
 * author : Gwyn Judd : https://github.com/gwynjudd
 */
(function(){"use strict";var t={langLocaleCode:"es-CO",cultureCode:"es-CO",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"€",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Spanish
 * locale: Costa Rica
 * author : Gwyn Judd : https://github.com/gwynjudd
 */
(function(){"use strict";var t={langLocaleCode:"es-CR",cultureCode:"es-CR",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"₡",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Spanish
 * locale: Spain
 * author : Hernan Garcia : https://github.com/hgarcia
 */
(function(){"use strict";var t={langLocaleCode:"es-ES",cultureCode:"es-ES",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"€",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Spanish
 * locale: Nicaragua
 * author : Gwyn Judd : https://github.com/gwynjudd
 */
(function(){"use strict";var t={langLocaleCode:"es-NI",cultureCode:"es-NI",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"C$",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Spanish
 * locale: Peru
 * author : Gwyn Judd : https://github.com/gwynjudd
 */
(function(){"use strict";var t={langLocaleCode:"es-PE",cultureCode:"es-PE",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"S/.",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Spanish
 * locale: Puerto Rico
 * author : Gwyn Judd : https://github.com/gwynjudd
 */
(function(){"use strict";var t={langLocaleCode:"es-PR",cultureCode:"es-PR",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Spanish
 * locale: El Salvador
 * author : Gwyn Judd : https://github.com/gwynjudd
 */
(function(){"use strict";var t={langLocaleCode:"es-SV",cultureCode:"es-SV",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"$",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Estonian
 * locale: Estonia
 * author : Illimar Tambek : https://github.com/ragulka
 *
 * Note: in Estonian, abbreviations are always separated
 * from numbers with a space
 */
(function(){"use strict";var t={langLocaleCode:"et-EE",cultureCode:"et-EE",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:" tuh",million:" mln",billion:" mld",trillion:" trl"},ordinal:function(){return"."},currency:{symbol:"€",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Farsi
 * locale: Iran
 * author : neo13 : https://github.com/neo13
 */
(function(){"use strict";var t={langLocaleCode:"fa-IR",cultureCode:"fa-IR",delimiters:{thousands:"،",decimal:"."},abbreviations:{thousand:"هزار",million:"میلیون",billion:"میلیارد",trillion:"تریلیون"},ordinal:function(){return"ام"},currency:{symbol:"﷼"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Finnish
 * locale: Finland
 * author : Sami Saada : https://github.com/samitheberber
 */
(function(){"use strict";var t={langLocaleCode:"fi-FI",cultureCode:"fi-FI",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"M",billion:"G",trillion:"T"},ordinal:function(){return"."},currency:{symbol:"€",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Filipino (Pilipino)
 * locale: Philippines
 * author : Michael Abadilla : https://github.com/mjmaix
 */
(function(){"use strict";var t={langLocaleCode:"fil-PH",cultureCode:"fil-PH",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"₱"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : French
 * locale: Canada
 * author : Léo Renaud-Allaire : https://github.com/renaudleo
 */
(function(){"use strict";var t={langLocaleCode:"fr-CA",cultureCode:"fr-CA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"M",billion:"G",trillion:"T"},ordinal:function(e){return 1===e?"er":"ème"},currency:{symbol:"$",position:"postfix",spaceSeparated:!0},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : French
 * locale: Switzerland
 * author : Adam Draper : https://github.com/adamwdraper
 */
(function(){"use strict";var t={langLocaleCode:"fr-CH",cultureCode:"fr-CH",delimiters:{thousands:" ",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){return 1===e?"er":"ème"},currency:{symbol:"CHF",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : French
 * locale: France
 * author : Adam Draper : https://github.com/adamwdraper
 */
(function(){"use strict";var t={langLocaleCode:"fr-FR",cultureCode:"fr-FR",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){return 1===e?"er":"ème"},currency:{symbol:"€",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Hebrew
 * locale : IL
 * author : Eli Zehavi : https://github.com/eli-zehavi
 */
(function(){"use strict";var t={langLocaleCode:"he-IL",cultureCode:"he-IL",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"אלף",million:"מליון",billion:"בליון",trillion:"טריליון"},currency:{symbol:"₪",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"₪ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"₪ ,0"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Hungarian
 * locale: Hungary
 * author : Peter Bakondy : https://github.com/pbakondy
 */
(function(){"use strict";var t={langLocaleCode:"hu-HU",cultureCode:"hu-HU",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"E",million:"M",billion:"Mrd",trillion:"T"},ordinal:function(){return"."},currency:{symbol:" Ft",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Indonesian
 * author : Tim McIntosh (StayinFront NZ)
 */
(function(){"use strict";var t={langLocaleCode:"id",cultureCode:"id",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"r",million:"j",billion:"m",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"Rp"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("id",t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Italian
 * locale: Switzerland
 * author : Tim McIntosh (StayinFront NZ)
 */
(function(){"use strict";var t={langLocaleCode:"it-CH",cultureCode:"it-CH",delimiters:{thousands:"'",decimal:"."},abbreviations:{thousand:"mila",million:"mil",billion:"b",trillion:"t"},ordinal:function(){return"°"},currency:{symbol:"CHF"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("it-CH",t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Italian
 * locale: Italy
 * author : Giacomo Trombi : http://cinquepunti.it
 */
(function(){"use strict";var t={langLocaleCode:"it-IT",cultureCode:"it-IT",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mila",million:"mil",billion:"b",trillion:"t"},ordinal:function(){return"º"},currency:{symbol:"€",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Japanese
 * locale: Japan
 * author : teppeis : https://github.com/teppeis
 */
(function(){"use strict";var t={langLocaleCode:"ja-JP",cultureCode:"ja-JP",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"千",million:"百万",billion:"十億",trillion:"兆"},ordinal:function(){return"."},currency:{symbol:"¥",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Korean
 * author (numbro.js Version): Randy Wilander : https://github.com/rocketedaway
 * author (numeral.js Version) : Rich Daley : https://github.com/pedantic-git
 */
(function(){"use strict";var t={langLocaleCode:"ko-KR",cultureCode:"ko-KR",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"천",million:"백만",billion:"십억",trillion:"일조"},ordinal:function(){return"."},currency:{symbol:"₩"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Latvian
 * locale: Latvia
 * author : Lauris Bukšis-Haberkorns : https://github.com/Lafriks
 */
(function(){"use strict";var t={langLocaleCode:"lv-LV",cultureCode:"lv-LV",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:" tūkst.",million:" milj.",billion:" mljrd.",trillion:" trilj."},ordinal:function(){return"."},currency:{symbol:"€",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language: Norwegian Bokmål
 * locale: Norway
 * author : Benjamin Van Ryseghem
 */
(function(){"use strict";var t={langLocaleCode:"nb-NO",cultureCode:"nb-NO",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"t",million:"M",billion:"md",trillion:"t"},currency:{symbol:"kr",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Norwegian Bokmål (nb)
 * author : Tim McIntosh (StayinFront NZ)
 */
(function(){"use strict";var t={langLocaleCode:"nb",cultureCode:"nb",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"t",million:"mil",billion:"mia",trillion:"b"},ordinal:function(){return"."},currency:{symbol:"kr"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("nb",t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Dutch
 * locale: Belgium
 * author : Dieter Luypaert : https://github.com/moeriki
 */
(function(){"use strict";var t={langLocaleCode:"nl-BE",cultureCode:"nl-BE",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"mln",billion:"mld",trillion:"bln"},ordinal:function(e){var t=e%100;return 0!==e&&t<=1||8===t||t>=20?"ste":"de"},currency:{symbol:"€",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Dutch
 * locale: Netherlands
 * author : Dave Clayton : https://github.com/davedx
 */
(function(){"use strict";var t={langLocaleCode:"nl-NL",cultureCode:"nl-NL",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mln",billion:"mrd",trillion:"bln"},ordinal:function(e){var t=e%100;return 0!==e&&t<=1||8===t||t>=20?"ste":"de"},currency:{symbol:"€",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Norwegian Nynorsk (nn)
 * author : Tim McIntosh (StayinFront NZ)
 */
!function(){"use strict";var t={langLocaleCode:"nn",cultureCode:"nn",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"t",million:"mil",billion:"mia",trillion:"b"},ordinal:function(){return"."},currency:{symbol:"kr"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.language&&window.numbro.language("nn",t)}()},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Polish
 * locale : Poland
 * author : Dominik Bulaj : https://github.com/dominikbulaj
 */
(function(){"use strict";var t={langLocaleCode:"pl-PL",cultureCode:"pl-PL",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tys.",million:"mln",billion:"mld",trillion:"bln"},ordinal:function(){return"."},currency:{symbol:" zł",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Portuguese
 * locale : Brazil
 * author : Ramiro Varandas Jr : https://github.com/ramirovjr
 */
(function(){"use strict";var t={langLocaleCode:"pt-BR",cultureCode:"pt-BR",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mil",million:"milhões",billion:"b",trillion:"t"},ordinal:function(){return"º"},currency:{symbol:"R$",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Portuguese
 * locale : Portugal
 * author : Diogo Resende : https://github.com/dresende
 */
(function(){"use strict";var t={langLocaleCode:"pt-PT",cultureCode:"pt-PT",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(){return"º"},currency:{symbol:"€",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numeral.js language configuration
 * language : Romanian
 * author : Andrei Alecu https://github.com/andreialecu
 */
(function(){"use strict";var t={langLocaleCode:"ro-RO",cultureCode:"ro-RO",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mii",million:"mil",billion:"mld",trillion:"bln"},ordinal:function(){return"."},currency:{symbol:" lei",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Romanian (ro)
 * author : Tim McIntosh (StayinFront NZ)
 */
(function(){"use strict";var t={langLocaleCode:"ro",cultureCode:"ro",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mie",million:"mln",billion:"mld",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"RON"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("ro",t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Russian
 * locale : Russsia
 * author : Anatoli Papirovski : https://github.com/apapirovski
 */
(function(){"use strict";var t={langLocaleCode:"ru-RU",cultureCode:"ru-RU",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"тыс.",million:"млн",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"руб.",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Russian
 * locale : Ukraine
 * author : Anatoli Papirovski : https://github.com/apapirovski
 */
(function(){"use strict";var t={langLocaleCode:"ru-UA",cultureCode:"ru-UA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"тыс.",million:"млн",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"₴",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Slovak
 * locale : Slovakia
 * author : Jan Pesa : https://github.com/smajl (based on work from Ahmed Al Hafoudh : http://www.freevision.sk)
 */
(function(){"use strict";var t={langLocaleCode:"sk-SK",cultureCode:"sk-SK",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"mld.",trillion:"bil."},ordinal:function(){return"."},currency:{symbol:"€",position:"postfix",spaceSeparated:!0},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Slovene
 * locale: Slovenia
 * author : Tim McIntosh (StayinFront NZ)
 */
!function(){"use strict";var t={langLocaleCode:"sl",cultureCode:"sl",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"€"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("sl",t)}()},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Serbian (sr)
 * country : Serbia (Cyrillic)
 * author : Tim McIntosh (StayinFront NZ)
 */
!function(){"use strict";var t={langLocaleCode:"sr-Cyrl-RS",cultureCode:"sr-Cyrl-RS",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"тыс.",million:"млн",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"RSD"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("sr-Cyrl-RS",t)}()},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Swedish
 * locale : Sweden
 * author : Benjamin Van Ryseghem (benjamin.vanryseghem.com)
 */
(function(){"use strict";var t={langLocaleCode:"sv-SE",cultureCode:"sv-SE",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"t",million:"M",billion:"md",trillion:"tmd"},currency:{symbol:"kr",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Thai
 * locale : Thailand
 * author : Sathit Jittanupat : https://github.com/jojosati
 */
(function(){"use strict";var t={langLocaleCode:"th-TH",cultureCode:"th-TH",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"พัน",million:"ล้าน",billion:"พันล้าน",trillion:"ล้านล้าน"},ordinal:function(){return"."},currency:{symbol:"฿",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Turkish
 * locale : Turkey
 * author : Ecmel Ercan : https://github.com/ecmel,
 *          Erhan Gundogan : https://github.com/erhangundogan,
 *          Burak Yiğit Kaya: https://github.com/BYK
 */
(function(){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"},n={langLocaleCode:"tr-TR",cultureCode:"tr-TR",delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"bin",million:"milyon",billion:"milyar",trillion:"trilyon"},ordinal:function(e){if(0===e)return"'ıncı";var n=e%10;return t[n]||t[e%100-n]||t[e>=100?100:null]},currency:{symbol:"₺",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=n),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(n.cultureCode,n)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Ukrainian
 * locale : Ukraine
 * author : Michael Piefel : https://github.com/piefel (with help from Tetyana Kuzmenko)
 */
(function(){"use strict";var t={langLocaleCode:"uk-UA",cultureCode:"uk-UA",delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"тис.",million:"млн",billion:"млрд",trillion:"блн"},ordinal:function(){return""},currency:{symbol:"₴",position:"postfix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:",0.00 $",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:",0 $"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : simplified chinese
 * locale : China
 * author : badplum : https://github.com/badplum
 */
(function(){"use strict";var t={langLocaleCode:"zh-CN",cultureCode:"zh-CN",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"千",million:"百万",billion:"十亿",trillion:"兆"},ordinal:function(){return"."},currency:{symbol:"¥",position:"prefix"},defaults:{currencyFormat:",4 a"},formats:{fourDigits:"4 a",fullWithTwoDecimals:"$ ,0.00",fullWithTwoDecimalsNoCurrency:",0.00",fullWithNoDecimals:"$ ,0"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Chinese traditional
 * locale: Macau
 * author : Tim McIntosh (StayinFront NZ)
 */
!function(){"use strict";var t={langLocaleCode:"zh-MO",cultureCode:"zh-MO",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"千",million:"百萬",billion:"十億",trillion:"兆"},ordinal:function(){return"."},currency:{symbol:"MOP"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("zh-MO",t)}()},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Chinese simplified
 * locale: Singapore
 * author : Tim McIntosh (StayinFront NZ)
 */
(function(){"use strict";var t={langLocaleCode:"zh-SG",cultureCode:"zh-SG",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"千",million:"百万",billion:"十亿",trillion:"兆"},ordinal:function(){return"."},currency:{symbol:"$"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture("zh-SG",t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * numbro.js language configuration
 * language : Chinese (Taiwan)
 * author (numbro.js Version): Randy Wilander : https://github.com/rocketedaway
 * author (numeral.js Version) : Rich Daley : https://github.com/pedantic-git
 */
(function(){"use strict";var t={langLocaleCode:"zh-TW",cultureCode:"zh-TW",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"千",million:"百萬",billion:"十億",trillion:"兆"},ordinal:function(){return"第"},currency:{symbol:"NT$"}};e.exports&&(e.exports=t),"undefined"!=typeof window&&window.numbro&&window.numbro.culture&&window.numbro.culture(t.cultureCode,t)}).call("undefined"==typeof window?this:window)},function(e,t,n){
/*!
 * Pikaday
 *
 * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday
 */
!function(t,i){"use strict";var r;try{r=n(9)}catch(e){}e.exports=function(e){var t="function"==typeof e,n=!!window.addEventListener,i=window.document,r=window.setTimeout,o=function(e,t,i,r){n?e.addEventListener(t,i,!!r):e.attachEvent("on"+t,i)},a=function(e,t,i,r){n?e.removeEventListener(t,i,!!r):e.detachEvent("on"+t,i)},s=function(e,t,n){var r;i.createEvent?((r=i.createEvent("HTMLEvents")).initEvent(t,!0,!1),r=m(r,n),e.dispatchEvent(r)):i.createEventObject&&(r=i.createEventObject(),r=m(r,n),e.fireEvent("on"+t,r))},l=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},c=function(e){return/Array/.test(Object.prototype.toString.call(e))},u=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},d=function(e){var t=e.getDay();return 0===t||6===t},h=function(e,t){return[31,function(e){return e%4==0&&e%100!=0||e%400==0}(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},f=function(e){u(e)&&e.setHours(0,0,0,0)},p=function(e,t){return e.getTime()===t.getTime()},m=function(e,t,n){var i,r;for(i in t)(r=void 0!==e[i])&&"object"==typeof t[i]&&null!==t[i]&&void 0===t[i].nodeName?u(t[i])?n&&(e[i]=new Date(t[i].getTime())):c(t[i])?n&&(e[i]=t[i].slice(0)):e[i]=m({},t[i],n):!n&&r||(e[i]=t[i]);return e},g=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},_={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},v=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},y=function(e){var t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},b=function(e,t,n){var i=new Date(n,0,1),r=Math.ceil(((new Date(n,t,e)-i)/864e5+i.getDay()+1)/7);return'<td class="pika-week">'+r+"</td>"},w=function(e,t){return"<tr>"+(t?e.reverse():e).join("")+"</tr>"},k=function(e,t,n,i,r,o){var a,s,l,u,d,h=e._o,f=n===h.minYear,p=n===h.maxYear,m='<div id="'+o+'" class="pika-title" role="heading" aria-live="assertive">',g=!0,_=!0;for(l=[],a=0;a<12;a++)l.push('<option value="'+(n===r?a-t:12+a-t)+'"'+(a===i?' selected="selected"':"")+(f&&a<h.minMonth||p&&a>h.maxMonth?'disabled="disabled"':"")+">"+h.i18n.months[a]+"</option>");for(u='<div class="pika-label">'+h.i18n.months[i]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",c(h.yearRange)?(a=h.yearRange[0],s=h.yearRange[1]+1):(a=n-h.yearRange,s=1+n+h.yearRange),l=[];a<s&&a<=h.maxYear;a++)a>=h.minYear&&l.push('<option value="'+a+'"'+(a===n?' selected="selected"':"")+">"+a+"</option>");return d='<div class="pika-label">'+n+h.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",h.showMonthAfterYear?m+=d+u:m+=u+d,f&&(0===i||h.minMonth>=i)&&(g=!1),p&&(11===i||h.maxMonth<=i)&&(_=!1),0===t&&(m+='<button class="pika-prev'+(g?"":" is-disabled")+'" type="button">'+h.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(m+='<button class="pika-next'+(_?"":" is-disabled")+'" type="button">'+h.i18n.nextMonth+"</button>"),m+="</div>"},M=function(a){var s=this,c=s.config(a);s._onMouseDown=function(e){if(s._v){var t=(e=e||window.event).target||e.srcElement;if(t)if(l(t,"is-disabled")||(!l(t,"pika-button")||l(t,"is-empty")||l(t.parentNode,"is-disabled")?l(t,"pika-prev")?s.prevMonth():l(t,"pika-next")&&s.nextMonth():(s.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),c.bound&&r(function(){s.hide(),c.field&&c.field.blur()},100))),l(t,"pika-select"))s._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},s._onChange=function(e){var t=(e=e||window.event).target||e.srcElement;t&&(l(t,"pika-select-month")?s.gotoMonth(t.value):l(t,"pika-select-year")&&s.gotoYear(t.value))},s._onKeyChange=function(e){if(e=e||window.event,s.isVisible())switch(e.keyCode){case 13:case 27:c.field.blur();break;case 37:e.preventDefault(),s.adjustDate("subtract",1);break;case 38:s.adjustDate("subtract",7);break;case 39:s.adjustDate("add",1);break;case 40:s.adjustDate("add",7)}},s._onInputChange=function(n){var i;n.firedBy!==s&&(i=t?(i=e(c.field.value,c.format,c.formatStrict))&&i.isValid()?i.toDate():null:new Date(Date.parse(c.field.value)),u(i)&&s.setDate(i),s._v||s.show())},s._onInputFocus=function(){s.show()},s._onInputClick=function(){s.show()},s._onInputBlur=function(){var e=i.activeElement;do{if(l(e,"pika-single"))return}while(e=e.parentNode);s._c||(s._b=r(function(){s.hide()},50)),s._c=!1},s._onClick=function(e){var t=(e=e||window.event).target||e.srcElement,i=t;if(t){!n&&l(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),o(t,"change",s._onChange)));do{if(l(i,"pika-single")||i===c.trigger)return}while(i=i.parentNode);s._v&&t!==c.trigger&&i!==c.trigger&&s.hide()}},s.el=i.createElement("div"),s.el.className="pika-single"+(c.isRTL?" is-rtl":"")+(c.theme?" "+c.theme:""),o(s.el,"mousedown",s._onMouseDown,!0),o(s.el,"touchend",s._onMouseDown,!0),o(s.el,"change",s._onChange),o(i,"keydown",s._onKeyChange),c.field&&(c.container?c.container.appendChild(s.el):c.bound?i.body.appendChild(s.el):c.field.parentNode.insertBefore(s.el,c.field.nextSibling),o(c.field,"change",s._onInputChange),c.defaultDate||(t&&c.field.value?c.defaultDate=e(c.field.value,c.format).toDate():c.defaultDate=new Date(Date.parse(c.field.value)),c.setDefaultDate=!0));var d=c.defaultDate;u(d)?c.setDefaultDate?s.setDate(d,!0):s.gotoDate(d):s.gotoDate(new Date),c.bound?(this.hide(),s.el.className+=" is-bound",o(c.trigger,"click",s._onInputClick),o(c.trigger,"focus",s._onInputFocus),o(c.trigger,"blur",s._onInputBlur)):this.show()};return M.prototype={config:function(e){this._o||(this._o=m({},_,!0));var t=m(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,u(t.minDate)||(t.minDate=!1),u(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),c(t.yearRange)){var i=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||i,t.yearRange[1]=parseInt(t.yearRange[1],10)||i}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||_.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return u(this._d)?t?e(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,i){t&&e.isMoment(n)&&this.setDate(n.toDate(),i)},getDate:function(){return u(this._d)?new Date(this._d.getTime()):new Date},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",s(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),u(e)){var n=this._o.minDate,i=this._o.maxDate;u(n)&&e<n?e=n:u(i)&&e>i&&(e=i),this._d=new Date(e.getTime()),f(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),s(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(u(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),r=e.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),t=r<n.getTime()||i.getTime()<r}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(n,i){var r,o=this.getDate(),a=24*parseInt(i)*60*60*1e3;"add"===n?r=new Date(o.valueOf()+a):"subtract"===n&&(r=new Date(o.valueOf()-a)),t&&("add"===n?r=e(o).add(i,"days").toDate():"subtract"===n&&(r=e(o).subtract(i,"days").toDate())),this.setDate(r)},adjustCalendars:function(){this.calendars[0]=g(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=g({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(f(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=_.minDate,this._o.minYear=_.minYear,this._o.minMonth=_.minMonth,this._o.startRange=_.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(f(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=_.maxDate,this._o.maxYear=_.maxYear,this._o.maxMonth=_.maxMonth,this._o.endRange=_.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t,n=this._o,i=n.minYear,o=n.maxYear,a=n.minMonth,s=n.maxMonth,l="";this._y<=i&&(this._y=i,!isNaN(a)&&this._m<a&&(this._m=a)),this._y>=o&&(this._y=o,!isNaN(s)&&this._m>s&&(this._m=s)),t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var c=0;c<n.numberOfMonths;c++)l+='<div class="pika-lendar">'+k(this,c,this.calendars[c].year,this.calendars[c].month,this.calendars[0].year,t)+this.render(this.calendars[c].year,this.calendars[c].month,t)+"</div>";this.el.innerHTML=l,n.bound&&"hidden"!==n.field.type&&r(function(){n.trigger.focus()},1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),n.bound&&n.field.setAttribute("aria-label","Use the arrow keys to pick a date")}},adjustPosition:function(){var e,t,n,r,o,a,s,l,c,u;if(!this._o.container){if(this.el.style.position="absolute",t=e=this._o.trigger,n=this.el.offsetWidth,r=this.el.offsetHeight,o=window.innerWidth||i.documentElement.clientWidth,a=window.innerHeight||i.documentElement.clientHeight,s=window.pageYOffset||i.body.scrollTop||i.documentElement.scrollTop,"function"==typeof e.getBoundingClientRect)l=(u=e.getBoundingClientRect()).left+window.pageXOffset,c=u.bottom+window.pageYOffset;else for(l=t.offsetLeft,c=t.offsetTop+t.offsetHeight;t=t.offsetParent;)l+=t.offsetLeft,c+=t.offsetTop;(this._o.reposition&&l+n>o||this._o.position.indexOf("right")>-1&&l-n+e.offsetWidth>0)&&(l=l-n+e.offsetWidth),(this._o.reposition&&c+r>a+s||this._o.position.indexOf("top")>-1&&c-r-e.offsetHeight>0)&&(c=c-r-e.offsetHeight),this.el.style.left=l+"px",this.el.style.top=c+"px"}},render:function(e,t,n){var i=this._o,r=new Date,o=h(e,t),a=new Date(e,t,1).getDay(),s=[],l=[];f(r),i.firstDay>0&&(a-=i.firstDay)<0&&(a+=7);for(var c=0===t?11:t-1,m=11===t?0:t+1,g=0===t?e-1:e,_=11===t?e+1:e,k=h(g,c),M=o+a,x=M;x>7;)x-=7;M+=7-x;for(var C=0,S=0;C<M;C++){var T=new Date(e,t,C-a+1),L=!!u(this._d)&&p(T,this._d),E=p(T,r),D=C<a||C>=o+a,O=C-a+1,A=t,Y=e,R=i.startRange&&p(i.startRange,T),j=i.endRange&&p(i.endRange,T),P=i.startRange&&i.endRange&&i.startRange<T&&T<i.endRange,N=i.minDate&&T<i.minDate||i.maxDate&&T>i.maxDate||i.disableWeekends&&d(T)||i.disableDayFn&&i.disableDayFn(T);D&&(C<a?(O=k+O,A=c,Y=g):(O-=o,A=m,Y=_));var H={day:O,month:A,year:Y,isSelected:L,isToday:E,isDisabled:N,isEmpty:D,isStartRange:R,isEndRange:j,isInRange:P,showDaysInNextAndPreviousMonths:i.showDaysInNextAndPreviousMonths};l.push(y(H)),7==++S&&(i.showWeekNumber&&l.unshift(b(C-a,t,e)),s.push(w(l,i.isRTL)),l=[],S=0)}return function(e,t,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+function(e){var t,n=[];for(e.showWeekNumber&&n.push("<th></th>"),t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+v(e,t)+'">'+v(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"}(e)+function(e){return"<tbody>"+e.join("")+"</tbody>"}(t)+"</table>"}(i,s,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(function(e,t){e.className=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}((" "+e.className+" ").replace(" "+t+" "," "))}(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(o(i,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;!1!==e&&(this._o.bound&&a(i,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",function(e,t){l(e,t)||(e.className=""===e.className?t:e.className+" "+t)}(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),a(this.el,"mousedown",this._onMouseDown,!0),a(this.el,"touchend",this._onMouseDown,!0),a(this.el,"change",this._onChange),this._o.field&&(a(this._o.field,"change",this._onInputChange),this._o.bound&&(a(this._o.trigger,"click",this._onInputClick),a(this._o.trigger,"focus",this._onInputFocus),a(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},M}(r)}()},function(e,t,n){"use strict";var i=n(434);n.n(i).a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aliases={mathfrak:"frak",mathcal:"cal",mathbb:"bb",mathbf:"bf",dfrac:"frac",ldots:"dots"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(557),r=n(436),o=n(916);function a(e,t){var n=e.translateTo;switch(n){case"html":throw new Error("Unsupported format: '"+n+"'. Use one of: "+Object.keys(i.supportedMarkups));case"unicode":default:return o.convertLaTeXBlocksToUnicode(e,t).result}}t.convertLaTeX=function(e,t){return a(e,r.mustNotBeUndefined(r.mustBeOk(r.latexParser.parse(t)).value))},t.convertLaTeXToUnicode=function(e){return a({translateTo:"unicode",mode:"Any"},r.mustNotBeUndefined(r.mustBeOk(r.latexParser.parse(e)).value))},t.convertLaTeXBlocks=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(559),r=n(503),o=n(503),a=n(502),s=n(559);t.defaultParserConf={verbatimEnvironments:["verbatim"]},t.takeTill=function(e){return i.takeWhile(function(t){return!e(t)})};var l=i.regexp(/[^\n]*/),c=i.regexp(/\n?/),u=(i.regexp(/\s*/m),i.string("%"));function d(e,t){if(!t)return e;if(e.furthest>t.furthest)return e;var n=e.furthest===t.furthest?function(e,t){var n=e.length,i=t.length;if(0===n)return t;if(0===i)return e;for(var r={},o=0;o<n;o++)r[e[o]]=!0;for(var a=0;a<i;a++)r[t[a]]=!0;var s=[];for(var l in r)r.hasOwnProperty(l)&&s.push(l);return s.sort(),s}(e.expected,t.expected):t.expected;return{status:e.status,index:e.index,value:e.value,furthest:t.furthest,expected:n}}function h(e,t){return function(e,t,n,r){return i.Parser(function(o,s){for(var l=r,c=void 0;s<o.length;){var u=t._(o,s);if(u.status){s=a.mustBeNumber(u.index);break}var h=e._(o,s);if(D(h))return h;if(D(c=a.mustNotBeUndefined(d(h,c))))return c;var f=a.mustNotBeUndefined(c.value);l=n(l,f),s=a.mustBeNumber(c.index)}return O(d(i.makeSuccess(s,l),c))})}(e,t,function(e,t){return e.concat([t])},[])}var f=i.string("["),p=i.string("]");function m(e){return function(e){return i.Parser(function(t,n){var r=t.charAt(n);if(n>=t.length||e(r))return s.makeFailure(n,"text character");var o=[r];n++;for(var a=t.charAt(n);!e(a)&&n<t.length;)o.push(a),n++,a=t.charAt(n);return i.makeSuccess(n,o.join(""))})}(v(e)).map(function(e){return o.newTeXRaw(e)})}t.notTextDefault={$:!0,"%":!0,"\\":!0,"{":!0,"]":!0,"}":!0},t.notTextMathMode={"^":!0,_:!0,$:!0,"%":!0,"\\":!0,"{":!0,"]":!0,"}":!0},t.notTextMathModeAndNotClosingBracket={"^":!0,_:!0,$:!0,"%":!0,"\\":!0,"{":!0,"}":!0},t.notTextDefaultAndNotClosingBracket={$:!0,"%":!0,"\\":!0,"{":!0,"}":!0},t.textParser=m;m(t.notTextDefault),m(t.notTextDefaultAndNotClosingBracket);var g=i.regexp(/ */).map(o.newTeXRaw);function _(e,n){return(void 0===n?t.specialCharsDefault:n).hasOwnProperty(e)}function v(e){return function(t){return e.hasOwnProperty(t)}}function y(e,n,i){switch(void 0===n&&(n="_"),void 0===i&&(i="^"),e){case"Math":return t.latexBlockParserMathMode(n,i);default:return t.latexBlockParserTextMode}}t.comment=u.then(l).skip(c).map(r.newTeXComment),t.specialCharsDefault={"'":!0,"(":!0,")":!0,",":!0,".":!0,"-":!0,'"':!0,"!":!0,"^":!0,$:!0,"&":!0,"#":!0,"{":!0,"}":!0,"%":!0,"~":!0,"|":!0,"/":!0,":":!0,";":!0,"=":!0,"[":!0,"]":!0,"\\":!0,"`":!0," ":!0},t.isSpecialCharacter=_,t.isNotText=v,t.mathSymbol=i.string("$"),t.commandSymbol=i.string("\\"),t.latexBlockParser=y,t.latexBlockParserTextMode=i.lazy(function(){return i.alt(i.alt(m(t.notTextDefault),t.dolMath,t.comment,m(t.notTextDefaultAndNotClosingBracket),t.environment,T("Paragraph")))}),t.latexBlockParserMathMode=function(e,n){return i.lazy(function(){return i.alt(i.alt(L("Math",e,n),m(t.notTextMathMode),t.dolMath,t.comment,m(t.notTextMathModeAndNotClosingBracket),t.environment,T("Math")))})},t.latexParser=t.latexBlockParserTextMode.many();var b=i.string("{").then(t.latexBlockParserTextMode.many()).skip(i.string("}"));t.env=i.Parser(function(e,n){var o=i.string("\\begin").then(i.string("{")).then(g).then(i.regexp(/[a-zA-Z]+/)).skip(g).skip(i.string("}"))._(e,n);if(D(o))return o;n=a.mustBeNumber(o.index);var s=o.value;return h(t.latexBlockParserTextMode,i.string("\\end").then(i.string("{")).then(g).then(i.string(s)).then(g).then(i.string("}"))).map(function(e){return r.newTeXEnv(s,e)})._(e,n)}),t.environment=i.alt(b,t.env),t.specialChar=i.test(_),t.endCmd=function(e){return!function(e){return e>="a"&&e<="z"}(e)&&!function(e){return e>="A"&&e<="Z"}(e)};var w=i.string("{"),k=i.string("}");function M(e){return w.then(h(y(e,"_"),k)).map(r.newFixArg)}function x(e){return f.then(h(y(e),p)).map(r.newOptArg)}function C(e){return i.alt(M(e),x(e))}function S(e){return i.alt(i.string("{}").map(function(){return[]}),C(e).map(function(e){return e}).atLeast(0)).map(function(e){return e})}function T(e){return i.seqMap(t.commandSymbol,i.alt(t.specialChar,t.takeTill(t.endCmd)),S(e),function(e,t,n){return void 0!==n?r.newTeXComm.apply(void 0,[t].concat(n)):r.newTeXComm(t)}).map(function(e){return e})}function L(e,n,o){return i.seqMap(t.subOrSuperscriptSymbolParser(n,o),S(e),function(e,t){return r.newSubOrSuperScript(e,e===r.SubOrSuperSymbol.SUB?n:o,t)}).map(function(e){return e})}function E(e){return void 0!==e&&!0===e.status}function D(e){return void 0!==e&&!1===e.status}function O(e){if(!E(e))throw new Error("Expected parse to be success: "+JSON.stringify(e));return e}t.fixArg=M,t.optArg=x,t.cmdArg=C,t.cmdArgs=S,t.command=T,t.subOrSuperscriptSymbolParser=function(e,t){return i.alt(i.string(e),i.string(t)).map(function(t){return t===e?r.SubOrSuperSymbol.SUB:r.SubOrSuperSymbol.SUP})},t.shiftedScript=L,t.dolMath=function(e,t,n){void 0===e&&(e="Dollar");void 0===t&&(t="$");void 0===n&&(n="$");return i.string(t).then(y("Math","_").many().map(function(i){return r.newTeXMath(e,t,n,i)})).skip(i.string(n))}(),t.isOk=E,t.isNotOk=D,t.mustBeOk=O},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var i=n(913),r=n(914),o=n(915);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t);return e}(e,t,n,i):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(t,n),r=(e=s(e,i)).write(t,n);r!==i&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(i)return F(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function g(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:_(e,t,n,i,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,i,r){var o,a=1,s=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var d=!0,h=0;h<l;h++)if(c(e,o+h)!==c(t,h)){d=!1;break}if(d)return o}return-1}function v(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function y(e,t,n,i){return W(F(t,e.length-n),e,n,i)}function b(e,t,n,i){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function w(e,t,n,i){return b(e,t,n,i)}function k(e,t,n,i){return W($(t),e,n,i)}function M(e,t,n,i){return W(function(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function x(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,a,s,l,c=e[r],u=null,d=c>239?4:c>223?3:c>191?2:1;if(r+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[r+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=d}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=S));return n}(i)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,i){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof i?s(e,t).fill(n,i):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=l.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):function(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return L(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,i,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,r>>>=0,this===e)return 0;for(var o=r-i,a=n-t,s=Math.min(o,a),c=this.slice(i,r),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){o=c[d],a=u[d];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},l.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function T(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function L(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function E(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=I(e[o]);return r}function D(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,n,i,r,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function Y(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function R(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function j(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(e,t,n,i,o){return o||j(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function N(e,t,n,i,o){return o||j(e,0,n,8),r.write(e,t,n,i,52,8),n+8}l.prototype.slice=function(e,t){var n,i=this.length;if(e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;n=new l(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},l.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||A(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||A(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Y(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Y(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);A(this,e,t,n,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);A(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):Y(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):Y(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return P(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return P(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:F(new l(e,i).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var H=/[^+\/0-9A-Za-z-_]/g;function I(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(39))},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){for(var t,n=c(e),i=n[0],a=n[1],s=new o(function(e,t,n){return 3*(t+n)/4-n}(0,i,a)),l=0,u=a>0?i-4:i,d=0;d<u;d+=4)t=r[e.charCodeAt(d)]<<18|r[e.charCodeAt(d+1)]<<12|r[e.charCodeAt(d+2)]<<6|r[e.charCodeAt(d+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;2===a&&(t=r[e.charCodeAt(d)]<<2|r[e.charCodeAt(d+1)]>>4,s[l++]=255&t);1===a&&(t=r[e.charCodeAt(d)]<<10|r[e.charCodeAt(d+1)]<<4|r[e.charCodeAt(d+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],a=0,s=n-r;a<s;a+=16383)o.push(d(e,a,a+16383>s?s:a+16383));1===r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e){return i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[63&e]}function d(e,t,n){for(var i,r=[],o=t;o<n;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),r.push(u(i));return r.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?r-1:0,h=n?-1:1,f=e[t+d];for(d+=h,o=f&(1<<-u)-1,f>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,i),o-=c}return(f?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,l,c=8*o-r-1,u=(1<<c)-1,d=u>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,p=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,r),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;e[n+f]=255&s,f+=p,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;e[n+f]=255&a,f+=p,a/=256,c-=8);e[n+f-p]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(436),r=n(560),o=n(917),a=n(561),s=n(924),l=n(565),c=n(952),u=n(953),d=n(956),h=n(558);function f(e,t){var n=e;do{e++}while(i.isTeXChar(t[e]));return{result:t.slice(n,e).map(function(e){return e.string}).join(""),blockIndex:e}}var p=/^\s*/;function m(e,t,n,r){var o=v(e,r);if(function(e){return"string"==typeof e}(o))return{result:o,blockIndex:t+1};for(var a=[],s=[];a.length<o.argumentCount&&t<n.length-1;){var l=++t;if(n.length<l-1)throw new Error("Could not gobble "+o.argumentCount+" arguments for "+r.name);var c=n[l];if(i.isTeXRaw(c)){for(var u=/\s+/g,d=c.text.replace(p,""),f=-1,m=0;a.length<o.argumentCount;){var g=u.exec(d);if(!g){a.push.apply(a,h.convertToTeXCharsDefault(d));break}var y=d.substring(m,g.index);f=g.index,m=g.index+y.length,a.push.apply(a,h.convertToTeXCharsDefault(y))}f>=0&&s.push(d.substring(f))}else a.push(c)}t++;var b=a.map(function(t){return _(e,[t]).result}).map(i.newTeXRaw).map(function(e){return i.newFixArg([e])});if(b.length<o.argumentCount)throw new Error("Could not find enough arguments for command \\"+o.name+". Expected "+o.argumentCount+", but found "+b.length);if(!o.apply)throw new Error("Can't apply "+JSON.stringify(o));var w=[o.apply(function(){},b)];return s.length>0&&w.push(s.join("")),{result:w.join(""),blockIndex:t}}function g(e){return void 0!==e&&"string"==typeof e.string&&"number"==typeof e.category}function _(e,t){var n=0;if(t.length<=0)return{result:"",blockIndex:n};for(var r=[];n<t.length;){var o=t[n];try{if(g(o)){var a=f(n,t);n=a.blockIndex,r.push(a.result)}else if(i.isTeXComm(o)){n=(s=m(e,n,t,o)).blockIndex,r.push(s.result)}else if(i.isFixArg(o)||i.isOptArg(o)){var s=_(e,o.latex);r.push(s.result),n++}else if(i.isTextHaving(o))r.push(o.text),n++;else{if(i.isTeXMath(o))return _(e,o.latex);if(i.isTeXRaw(o))r.push(o.text),n++;else if(i.isSubOrSuperScript(o)){var l=o.arguments?o.arguments:[];n=(s=m(e,n,t,i.newTeXComm.apply(void 0,[o.type===i.SubOrSuperSymbol.SUB?"mathsubscript":"mathsuperscript"].concat(l)))).blockIndex,r.push(s.result)}else{if(!i.isArray(o))throw new Error("Can't handle LaTeX block yet: "+JSON.stringify(o)+". Leave an issue at https://github.com/digitalheir/tex-to-unicode/issues");s=_(e,o);r.push(s.result),n++}}}catch(t){if(void 0===e.onError)throw t;var c=e.onError(t,o);if(void 0===c)throw t;r.push(c),n++}}return{result:r.join(""),blockIndex:n}}function v(e,t){var n=t.name,h=o.expand0argsCommand(n);if(h)return t.arguments&&t.arguments.length>0?h+_(e,t.arguments).result:h;if(l.is1argsCommand(n))return function(e,t){if(t.arguments.length>0){var n=s.expand1argsCommand(t.name,_(e,[t.arguments[0]]).result||"");return t.arguments.length>1?n+_(e,t.arguments.slice(1)).result:n}return a.createCommandHandler(t.name,0,1,function(n,i){var r=i[0],o=i.slice(1);return s.expand1argsCommand(t.name,_(e,[r]).result)+_(e,o).result})}(e,t);if(d.is2argsCommand(n))return function(e,t){if(t.arguments.length>1){var n=u.expand2argsCommand(t.name,_(e,[t.arguments[0]]).result||"",_(e,[t.arguments[1]]).result||"");return t.arguments.length>2?n+_(e,t.arguments.slice(1)).result:n}return a.createCommandHandler(t.name,0,2,function(n,i){var r=i[0],o=i[1],a=i.slice(2);return u.expand2argsCommand(t.name,_(e,[r]).result,_(e,[o]).result)+_(e,a).result})}(e,t);if("sqrt"===n)return function(e,t){for(var n=void 0,r=void 0,o=0;void 0===r&&o<t.arguments.length;){var s=t.arguments[o],l=_(e,[s]).result;i.isOptArg(s)&&!n?n=l:r=l,o++}return r?c.convertSqrtToUnicode(r,n):a.createCommandHandler(t.name,1,1,function(t,n){var i=n[0],r=c.convertSqrtToUnicode(_(e,[i]).result);if(n.length>1){var o=n.slice(1);return r+_(e,o).result}return r})}(e,t);throw r.unknownCommandError(n)}t.isTeXChar2=g,t.convertLaTeXBlocksToUnicode=_,t.convertCommand=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(918),r=n(919),o=n(920),a=n(921),s=n(922),l=n(923);t.expand0argsCommand=function(e){for(var t=0,n=[o.barredLUnicode,i.spaceUnicode,a.slashedOUnicode,r.characterUnicode,l.specialCharacter,s.cyrillicUnicode];t<n.length;t++){var c=(0,n[t])(e);if(c)return c}}},function(e,t,n){"use strict";function i(e){return t.spaceCharactersUnicode.hasOwnProperty(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.mathSpace="芇",t.spaceCharactersUnicode={",":" ",quad:" ",qquad:"  "," ":" ",space:" ",";":"　",":":"　",hfill:"\t"},t.isSpaceCharactersUnicode=i,t.spaceUnicode=function(e){return i(e)?t.spaceCharactersUnicode[e]:void 0}},function(e,t,n){"use strict";function i(e){return t.characterUnicodeChart.hasOwnProperty(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.characterUnicodeChart={leftrightsquigarrow:"↭",Longleftrightarrow:"⟺",blacktriangleright:"▶",longleftrightarrow:"⟷",blacktriangledown:"▼",blacktriangleleft:"◀",leftrightharpoons:"⇋",rightleftharpoons:"⇌",twoheadrightarrow:"↠",circlearrowright:"↻",downharpoonright:"⇂",rightharpoondown:"⇁",rightrightarrows:"⇉",twoheadleftarrow:"↞",vartriangleright:"⊳",bigtriangledown:"▽",circlearrowleft:"↺",curvearrowright:"↷",downharpoonleft:"⇃",leftharpoondown:"↽",leftrightarrows:"⇆",rightleftarrows:"⇄",rightsquigarrow:"⇝",rightthreetimes:"⋌",trianglerighteq:"⊵",vartriangleleft:"⊲",Leftrightarrow:"⇔",Longrightarrow:"⟹",curvearrowleft:"↶",dashrightarrow:"⇢",doublebarwedge:"⩞",downdownarrows:"⇊",hookrightarrow:"↪",leftleftarrows:"⇇",leftrightarrow:"↔",leftthreetimes:"⋋",longrightarrow:"⟶",looparrowright:"↬",rightarrowtail:"↣",rightharpoonup:"⇀",sphericalangle:"∢",textregistered:"®",trianglelefteq:"⊴",upharpoonright:"↾",Longleftarrow:"⟸",bigtriangleup:"△",blacktriangle:"▲",dashleftarrow:"⇠",divideontimes:"⋇",fallingdotseq:"≒",hookleftarrow:"↩",leftarrowtail:"↢",leftharpoonup:"↼",longleftarrow:"⟵",looparrowleft:"↫",measuredangle:"∡",shortparallel:"∥",smallsetminus:"∖",texttrademark:"™",triangleright:"▷",upharpoonleft:"↿",blacklozenge:"◆",risingdotseq:"≓",triangledown:"▽",triangleleft:"◁",Rrightarrow:"⇛",Updownarrow:"⇕",backepsilon:"∍",blacksquare:"■",circledcirc:"⊚",circleddash:"⊝",curlyeqprec:"⋞",curlyeqsucc:"⋟",diamondsuit:"♢",preccurlyeq:"≼",succcurlyeq:"≽",textgreater:">",thickapprox:"≈",updownarrow:"↕",vartriangle:"△",Lleftarrow:"⇚",Rightarrow:"⇒",circledast:"⊛",complement:"∁",curlywedge:"⋏",longmapsto:"⟼",registered:"®",rightarrow:"→",smallfrown:"⌢",smallsmile:"⌣",sqsubseteq:"⊑",sqsupseteq:"⊒",textlangle:"〈",textrangle:"〉",upuparrows:"⇈",varepsilon:"ε",varnothing:"∅",Downarrow:"⇓",Leftarrow:"⇐",backprime:"‵",bigotimes:"⨂",centerdot:"⋅",copyright:"©",downarrow:"↓",gtreqless:"⋛",heartsuit:"♡",leftarrow:"←",lesseqgtr:"⋚",pitchfork:"⋔",spadesuit:"♠",therefore:"∴",trademark:"™",triangleq:"≜",varpropto:"∝",approxeq:"≊",barwedge:"⊼",bigoplus:"⨁",bigsqcup:"⨆",biguplus:"⨄",bigwedge:"⋀",boxminus:"⊟",boxtimes:"⊠",circledS:"Ⓢ",clubsuit:"♣",curlyvee:"⋎",doteqdot:"≑",emptyset:"∅",intercal:"⊺",leqslant:"⩽",multimap:"⊸",parallel:"∥",setminus:"∖",sqsubset:"⊏",sqsupset:"⊐",subseteq:"⊆",supseteq:"⊇",textless:"<",thicksim:"∼",triangle:"△",varkappa:"ϰ",varsigma:"ς",vartheta:"ϑ",Diamond:"◇",Uparrow:"⇑",Upsilon:"Υ",backsim:"∽",because:"∵",between:"≬",bigodot:"⨀",bigstar:"★",boxplus:"⊞",ddagger:"‡",diamond:"⋄",digamma:"Ϝ",dotplus:"∔",epsilon:"∊",gtrless:"≷",implies:"⇒",leadsto:"↝",lessdot:"⋖",lessgtr:"≶",lesssim:"≲",lozenge:"◊",natural:"♮",nearrow:"↗",nexists:"∄",nwarrow:"↖",partial:"∂",pilcrow:"¶",precsim:"≾",searrow:"↘",section:"§",succsim:"≿",swarrow:"↙",textbar:"|",uparrow:"↑",upsilon:"υ",Bumpeq:"≎",Lambda:"Λ",Subset:"⋐",Supset:"⋑",Vvdash:"⊪",approx:"≈",bigcap:"⋂",bigcup:"⋃",bigvee:"⋁",bowtie:"⋈",boxdot:"⊡",bullet:"∙",bumpeq:"≏",circeq:"≗",coprod:"∐",dagger:"†",daleth:"ד",degree:"°",eqcirc:"≖",exists:"∃",forall:"∀",gtrdot:"⋗",gtrsim:"≳",hslash:"ℏ",lambda:"λ",lfloor:"⌊",ltimes:"⋉",mapsto:"↦",models:"⊨",ominus:"⊖",oslash:"⊘",otimes:"⊗",preceq:"⪯",propto:"∝",rfloor:"⌋",rtimes:"⋊",square:"□",subset:"⊂",succeq:"⪰",supset:"⊃",varphi:"φ",varrho:"ϱ",veebar:"⊻",Delta:"Δ",Gamma:"Γ",Omega:"Ω",Theta:"Θ",Vdash:"⊩",aleph:"ℵ",Alpha:"Α",alpha:"α",angle:"∠",asymp:"≍",cdots:"⋯",cents:"¢",dashv:"⊣",ddots:"⋱",delta:"δ",doteq:"≐",equiv:"≡",frown:"⌢",gamma:"γ",gimel:"ℷ",infty:"∞",kappa:"κ",Kappa:"Κ",lceil:"⌈",nabla:"∇",notin:"∉",omega:"ω",oplus:"⊕",pound:"£",prime:"′",qquad:"  ",rceil:"⌉",sharp:"♯",sigma:"σ",simeq:"≃",smile:"⌣",space:"␣",sqcap:"⊓",sqcup:"⊔",theta:"θ",times:"×",unlhd:"⊴",unrhd:"⊵",uplus:"⊎",vDash:"⊨",varpi:"ϖ",vdash:"⊢",vdots:"⋮",wedge:"∧",Finv:"Ⅎ",Join:"⋈",atop:"¦",beta:"β",Beta:"Β",beth:"ב",cdot:"⋅",circ:"∘",cong:"≅",dots:"…",euro:"€",flat:"♭",geqq:"≧",hbar:"ℏ",iota:"ι",leqq:"≦",odot:"⊙",oint:"∮",perp:"⊥",prec:"≺",prod:"∏",quad:" ",star:"⋆",succ:"≻",surd:"√",zeta:"ζ",Box:"□",Cap:"⋒",Cup:"⋓",Lsh:"↰",Phi:"Φ",Psi:"Ψ",Rsh:"↱",ast:"∗",bot:"⊥",cap:"∩",chi:"χ",Chi:"Χ",cup:"∪",div:"÷",ell:"ℓ",eta:"η",eth:"ð",geq:"≥",ggg:"⋙",int:"∫",leq:"≤",lhd:"⊲",lll:"⋘",mho:"℧",mid:"∣",neg:"¬",neq:"≠",phi:"ϕ",psi:"ψ",rhd:"⊳",rho:"ρ",Rho:"Ρ",sim:"∼",sum:"∑",tau:"τ",Tau:"Τ",top:"⊤",vee:"∨",Im:"ℑ",Pi:"Π",Re:"ℜ",Xi:"Ξ",ge:"≥",gg:"≫",in:"∈",le:"≤",ll:"≪",mp:"∓",mu:"μ",Mu:"Μ",ni:"∋",nu:"ν",Nu:"Ν",pi:"π",pm:"±",wp:"℘",wr:"≀",xi:"ξ",Omicron:"Ο",omicron:"ο",textdollar:"$",textquotesingle:"'",textbackslash:"\\",textasciigrave:"`",lbrace:"{",vert:"|",rbrace:"}",textasciitilde:"~",textexclamdown:"¡",textcent:"¢",textsterling:"£",textcurrency:"¤",textyen:"¥",textbrokenbar:"¦",textsection:"§",textasciidieresis:"¨",textcopyright:"©",textordfeminine:"ª",guillemotleft:"«",lnot:"¬",textasciimacron:"¯",textdegree:"°",textasciiacute:"´",textparagraph:"¶",textordmasculine:"º",guillemotright:"»",textonequarter:"¼",textonehalf:"½",textthreequarters:"¾",textquestiondown:"¿",AA:"Å",AE:"Æ",DH:"Ð",texttimes:"×",TH:"Þ",ss:"ß",aa:"å",ae:"æ",dh:"ð",th:"þ",DJ:"Đ",dj:"đ",Elzxh:"ħ",i:"ı",NG:"Ŋ",ng:"ŋ",OE:"Œ",oe:"œ",texthvlig:"ƕ",textnrleg:"ƞ",textdoublepipe:"ǂ",Elztrna:"ɐ",Elztrnsa:"ɒ",Elzopeno:"ɔ",Elzrtld:"ɖ",Elzschwa:"ə",Elzpgamma:"ɣ",Elzpbgam:"ɤ",Elztrnh:"ɥ",Elzbtdl:"ɬ",Elzrtll:"ɭ",Elztrnm:"ɯ",Elztrnmlr:"ɰ",Elzltlmr:"ɱ",Elzltln:"ɲ",Elzrtln:"ɳ",Elzclomeg:"ɷ",textphi:"ɸ",Elztrnr:"ɹ",Elztrnrl:"ɺ",Elzrttrnr:"ɻ",Elzrl:"ɼ",Elzrtlr:"ɽ",Elzfhr:"ɾ",Elzrtls:"ʂ",Elzesh:"ʃ",Elztrnt:"ʇ",Elzrtlt:"ʈ",Elzpupsil:"ʊ",Elzpscrv:"ʋ",Elzinvv:"ʌ",Elzinvw:"ʍ",Elztrny:"ʎ",Elzrtlz:"ʐ",Elzyogh:"ʒ",Elzglst:"ʔ",Elzreglst:"ʕ",Elzinglst:"ʖ",textturnk:"ʞ",Elzdyogh:"ʤ",Elztesh:"ʧ",textasciicaron:"ˇ",Elzverts:"ˈ",Elzverti:"ˌ",Elzlmrk:"ː",Elzhlmrk:"ˑ",Elzsbrhr:"˒",Elzsblhr:"˓",Elzrais:"˔",Elzlow:"˕",textasciibreve:"˘",textperiodcentered:"˙",texttildelow:"˜",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Iota:"Ι",Sigma:"Σ",texttheta:"θ",textvartheta:"ϑ",Stigma:"Ϛ",Digamma:"Ϝ",Koppa:"Ϟ",Sampi:"Ϡ",textTheta:"ϴ",textendash:"–",textemdash:"—",Vert:"‖",Elzreapos:"‛",textquotedblleft:"“",textquotedblright:"”",textdagger:"†",textdaggerdbl:"‡",textbullet:"•",ldots:"…",textperthousand:"‰",textpertenthousand:"‱",guilsinglleft:"‹",guilsinglright:"›",nolinebreak:"⁠",Elzxrat:"℞",nleftarrow:"↚",nrightarrow:"↛",arrowwaveleft:"↜",arrowwaveright:"↝",nleftrightarrow:"↮",dblarrowupdown:"⇅",nLeftarrow:"⇍",nLeftrightarrow:"⇎",nRightarrow:"⇏",DownArrowUpArrow:"⇵",rightangle:"∟",nmid:"∤",nparallel:"∦",surfintegral:"∯",volintegral:"∰",clwintegral:"∱",Colon:"∷",homothetic:"∻",lazysinv:"∾",NotEqualTilde:"≂",approxnotequal:"≆",tildetrpl:"≋",allequal:"≌",NotHumpDownHump:"≎",NotHumpEqual:"≏",estimates:"≙",starequal:"≛",lneqq:"≨",lvertneqq:"≨",gneqq:"≩",gvertneqq:"≩",NotLessLess:"≪",NotGreaterGreater:"≫",lessequivlnt:"≲",greaterequivlnt:"≳",notlessgreater:"≸",notgreaterless:"≹",precapprox:"≾",NotPrecedesTilde:"≾",succapprox:"≿",NotSucceedsTilde:"≿",subsetneq:"⊊",varsubsetneqq:"⊊",supsetneq:"⊋",varsupsetneq:"⊋",NotSquareSubset:"⊏",NotSquareSuperset:"⊐",truestate:"⊧",forcesextra:"⊨",VDash:"⊫",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",original:"⊶",image:"⊷",hermitconjmatrix:"⊹",rightanglearc:"⊾",backsimeq:"⋍",verymuchless:"⋘",verymuchgreater:"⋙",Elzsqspne:"⋥",lnsim:"⋦",gnsim:"⋧",precedesnotsimilar:"⋨",succnsim:"⋩",ntriangleleft:"⋪",ntriangleright:"⋫",ntrianglelefteq:"⋬",ntrianglerighteq:"⋭",upslopeellipsis:"⋰",downslopeellipsis:"⋱",perspcorrespond:"⌆",recorder:"⌕",ulcorner:"⌜",urcorner:"⌝",llcorner:"⌞",lrcorner:"⌟",langle:"〈",rangle:"〉",Elzdlcorn:"⎣",lmoustache:"⎰",rmoustache:"⎱",textvisiblespace:"␣",Elzdshfnc:"┆",Elzsqfnw:"┙",diagup:"╱",Elzvrecto:"▯",Elzcirfl:"◐",Elzcirfr:"◑",Elzcirfb:"◒",Elzrvbull:"◘",Elzsqfl:"◧",Elzsqfr:"◨",Elzsqfse:"◪",bigcirc:"◯",rightmoon:"☾",mercury:"☿",venus:"♀",male:"♂",jupiter:"♃",saturn:"♄",uranus:"♅",neptune:"♆",pluto:"♇",aries:"♈",taurus:"♉",gemini:"♊",cancer:"♋",leo:"♌",virgo:"♍",libra:"♎",scorpio:"♏",sagittarius:"♐",capricornus:"♑",aquarius:"♒",pisces:"♓",quarternote:"♩",eighthnote:"♪",UpArrowBar:"⤒",DownArrowBar:"⤓",Elolarr:"⥀",Elorarr:"⥁",ElzRlarr:"⥂",ElzrLarr:"⥄",Elzrarrx:"⥇",LeftRightVector:"⥎",RightUpDownVector:"⥏",DownLeftRightVector:"⥐",LeftUpDownVector:"⥑",LeftVectorBar:"⥒",RightVectorBar:"⥓",RightUpVectorBar:"⥔",RightDownVectorBar:"⥕",DownLeftVectorBar:"⥖",DownRightVectorBar:"⥗",LeftUpVectorBar:"⥘",LeftDownVectorBar:"⥙",LeftTeeVector:"⥚",RightTeeVector:"⥛",RightUpTeeVector:"⥜",RightDownTeeVector:"⥝",DownLeftTeeVector:"⥞",DownRightTeeVector:"⥟",LeftUpTeeVector:"⥠",LeftDownTeeVector:"⥡",UpEquilibrium:"⥮",ReverseUpEquilibrium:"⥯",RoundImplies:"⥰",Elztfnc:"⦀",Elroang:"⦆",Elzddfnc:"⦙",Angle:"⦜",Elzlpargt:"⦠",ElzLap:"⧊",Elzdefas:"⧋",LeftTriangleBar:"⧏",NotLeftTriangleBar:"⧏",RightTriangleBar:"⧐",NotRightTriangleBar:"⧐",RuleDelayed:"⧴",Elxuplus:"⨄",ElzThr:"⨅",Elxsqcup:"⨆",ElzInf:"⨇",ElzSup:"⨈",ElzCint:"⨍",clockoint:"⨏",sqrint:"⨖",ElzTimes:"⨯",amalg:"⨿",ElzAnd:"⩓",ElzOr:"⩔",ElOr:"⩖",Elzminhat:"⩟",Equal:"⩵",nleqslant:"⩽",geqslant:"⩾",ngeqslant:"⩾",lessapprox:"⪅",gtrapprox:"⪆",lneq:"⪇",gneq:"⪈",lnapprox:"⪉",gnapprox:"⪊",lesseqqgtr:"⪋",gtreqqless:"⪌",eqslantless:"⪕",eqslantgtr:"⪖",NestedLessLess:"⪡",NotNestedLessLess:"⪡",NestedGreaterGreater:"⪢",NotNestedGreaterGreater:"⪢",precneqq:"⪵",succneqq:"⪶",precnapprox:"⪹",succnapprox:"⪺",subseteqq:"⫅",nsubseteqq:"⫅",supseteqq:"⫆",subsetneqq:"⫋",supsetneqq:"⫌",Elztdcol:"⫶",openbracketleft:"〚",openbracketright:"〛",checkmark:"✓",maltese:"✠"},t.isCharacterUnicode=i,t.characterUnicode=function(e){return i(e)?t.characterUnicodeChart[e]:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.barredLUnicodeChart={l:"ł",L:"Ł"},t.barredLUnicode=function(e){return t.barredLUnicodeChart[e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.slashed_o="ø",t.slashed_O="Ø",t.slashedOUnicodeChart={o:t.slashed_o,O:t.slashed_O},t.slashedOUnicode=function(e){return t.slashedOUnicodeChart[e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cyrillicUnicodeChart={CYRF:"Ф",CYRII:"І",CYROMEGA:"Ѡ",CYRG:"Г",cyrkvcrs:"ҝ",cyryo:"ё",CYRH:"Х",CYRZHDSC:"Җ",cyrphk:"ҧ",CYRTDSC:"Ҭ",CYRI:"И",cyryi:"ї",CYRDZHE:"Џ",cyriote:"ѥ",CYRK:"К",CYRSHHA:"Һ",CYRL:"Л",CYRM:"М",CYRCHLDSC:"Ӌ",CYRNJE:"Њ",CYRYAT:"Ѣ",CYRA:"А",CYRB:"Б",cyrchrdsc:"ҷ",cyrschwa:"ә",CYRDZE:"Ѕ",CYRIE:"Є",CYRC:"Ц",CYRZH:"Ж",CYRD:"Д",CYRABHCHDSC:"Ҿ",CYRFITA:"Ѳ",CYRE:"Е",CYRABHHA:"Ҩ",cyrya:"я",cyrdzhe:"џ",CYRIOTLYUS:"Ѩ",cyrsemisftsn:"ҍ",CYRV:"В",cyrishrt:"й",cyrdje:"ђ",cyrchldsc:"ӌ",CYRY:"Ү",cyrndsc:"ң",CYRZ:"З",CYRKHCRS:"Ҟ",CYRNG:"Ҥ",CYRCHRDSC:"Ҷ",CYRYHCRS:"Ұ",CYRSHCH:"Щ",CYRUSHRT:"Ў",cyryu:"ю",cyrksi:"ѯ",CYRN:"Н",CYRO:"О",CYRBYUS:"Ѫ",CYRP:"П",CYRZDSC:"Ҙ",CYRAE:"Ӕ",CYRR:"Р",CYRS:"С",CYRT:"Т",CYRABHCH:"Ҽ",cyruk:"ѹ",CYRU:"У",cyrii:"і",CYRSEMISFTSN:"Ҍ",cyrghcrs:"ғ",CYRISHRT:"Й",cyromegatitlo:"ѽ",cyrkbeak:"ҡ",cyrie:"є",cyrzdsc:"ҙ",CYRNDSC:"Ң",CYRGUP:"Ґ",cyrshch:"щ",CYRKHK:"Ӄ",cyrzh:"ж",CYRJE:"Ј",cyrthousands:"҂",cyrabhch:"ҽ",textnumero:"№",cyrng:"ҥ",CYRPSI:"Ѱ",CYRTETSE:"Ҵ",CYRIOTBYUS:"Ѭ",cyrnje:"њ",CYRIOTE:"Ѥ",cyrdze:"ѕ",cyrae:"ӕ",CYRHRDSN:"Ъ",CYRKOPPA:"Ҁ",CYRRTICK:"Ҏ",CYRSCHWA:"Ә",cyrtdsc:"ҭ",CYRGHK:"Ҕ",cyrabhha:"ҩ",cyrshha:"һ",CYRSH:"Ш",cyru:"у",cyrkhcrs:"ҟ",cyrt:"т",CYRERY:"Ы",cyrs:"с",cyrr:"р",CYROT:"Ѿ",cyrlyus:"ѧ",CYRNHK:"Ӈ",CYRSFTSN:"Ь",cyrghk:"ҕ",cyrp:"п",cyrabhdze:"ӡ",cyro:"о",CYRTSHE:"Ћ",cyrn:"н",CYRSDSC:"Ҫ",cyryhcrs:"ұ",cyrpsi:"ѱ",cyrz:"з",cyry:"ү",cyrje:"ј",cyrv:"в",cyrchvcrs:"ҹ",cyrkhk:"ӄ",cyre:"е",cyromega:"ѡ",cyrd:"д",cyrc:"ц",cyrb:"б",CYROTLD:"Ө",cyrgup:"ґ",CYRLJE:"Љ",cyra:"а",CYROMEGATITLO:"Ѽ",CYRGHCRS:"Ғ",CYRCHVCRS:"Ҹ",cyrm:"м",cyrl:"л",cyrsh:"ш",cyrk:"к",cyri:"и",cyrh:"х",CYRHDSC:"Ҳ",CYRIZH:"Ѵ",CYRABHDZE:"Ӡ",cyrkdsc:"қ",cyrg:"г",CYRCH:"Ч",cyrf:"ф",CYRYI:"Ї",cyrmillions:"҉",CYRKSI:"Ѯ",CYROMEGARND:"Ѻ",cyrot:"ѿ",cyrtetse:"ҵ",cyrhdsc:"ҳ",cyrushrt:"ў",cyriotlyus:"ѩ",CYRYA:"Я",cyrlje:"љ",cyrotld:"ө",CYRKDSC:"Қ",cyrhrdsn:"ъ",cyrrtick:"ҏ",cyrkoppa:"ҁ",CYRDJE:"Ђ",cyriotbyus:"ѭ",cyrhundredthousands:"҈",CYRpalochka:"Ӏ",CYRKVCRS:"Ҝ",cyromegarnd:"ѻ",cyrsftsn:"ь",cyrabhchdsc:"ҿ",cyrzhdsc:"җ",cyrerev:"э",CYRLYUS:"Ѧ",CYRKBEAK:"Ҡ",cyrery:"ы",CYREREV:"Э",cyrnhk:"ӈ",cyrsdsc:"ҫ",cyrch:"ч",cyrtshe:"ћ",CYRPHK:"Ҧ",CYRYO:"Ё",CYRYU:"Ю",CYRUK:"Ѹ"},t.cyrillicUnicode=function(e){return t.cyrillicUnicodeChart[e]}},function(e,t,n){"use strict";function i(e){return t.specialCharacters.hasOwnProperty(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.specialCharacters={i:"ı",j:"ȷ",oe:"œ",OE:"Œ",ae:"æ",AE:"Æ",aa:"å",AA:"Å",o:"ø",O:"Ø",ss:"ß",l:"ł",L:"Ł"},t.isSpecialCharacter=i,t.specialCharacter=function(e){return i(e)?t.specialCharacters[e]:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(925),r=n(938),o=n(947),a=n(948),s=n(949),l=n(564);t.expand1argsCommand=function(e,t){switch(e){case"cyrchar":var n=o.translateCharToCyrillic(t);if(n)return n;break;case"ding":case"dingbat":var c=a.translateCharToDingbat(t);if(c)return c;break;case"ElsevierGlyph":case"elsevierglyph":case"elsevier":case"Elsevier":var u=s.translateCharToElsevier(t);if(u)return u;break;default:for(var d=0,h=[i.diacriticUnicode,r.formattingUnicode,l.runeUnicode];d<h.length;d++){var f=(0,h[d])(e,t);if(f)return f}}throw new Error("No implementation found to expand \\"+e+" with argument {"+t+"}")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(926),r=n(927),o=n(928),a=n(929),s=n(930),l=n(931),c=n(932),u=n(933),d=n(400),h=n(934),f=n(935),p=n(936),m=n(937);t.barUnderLetter=d.simpleSuffix("̱"),t.dotUnderLetter=d.simpleSuffix("̣"),t.breve=d.simpleSuffix("̆"),t.macrron=d.simpleSuffix("̄"),t.dotOverLetter=d.simpleSuffix("̇"),t.modifiersTextModeUnicodeChart={"`":o.graveAccent,"'":r.acuteAccent,"^":a.circumflex,"~":s.tilde,"=":t.macrron,".":t.dotOverLetter,'"':l.dieresis,H:m.longHungarianUmlaut,c:c.cedilla,k:h.ogonek,b:t.barUnderLetter,d:t.dotUnderLetter,r:i.ringOverLetter,u:t.breve,v:u.caron,t:f.tieLetters},t.modifiersMathModeUnicodeChart={check:u.caron,acute:r.acuteAccent,grave:r.acuteAccent,breve:t.breve,vec:p.vectorArrow,mathring:i.ringOverLetter},t.diacriticUnicode=function(e,n){var i=t.modifiersTextModeUnicodeChart[e];return i||(i=t.modifiersMathModeUnicodeChart[e]),i&&i(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(78);t.ringOverLetter=i.lookupOrAppend({a:"å",A:"Å",y:"ẙ"},"̊")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(78);t.acuteAccent=i.lookupOrAppend({e:"é",y:"ý",u:"ú",i:"í",o:"ó",a:"á",E:"É",Y:"Ý",U:"Ú",I:"Í",O:"Ó",A:"Á",cyrk:"ќ",cyrg:"ѓ",CYRK:"Ќ",CYRG:"Ѓ"},"́")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(78);t.graveAccent=i.lookupOrAppend({e:"è",u:"ù",i:"ì",o:"ò",a:"à",E:"È",U:"Ù",I:"Ì",O:"Ò",A:"À"},"̀")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(78);t.circumflex=i.lookupOrAppend({e:"ê",u:"û",i:"î",o:"ô",a:"â",E:"Ê",U:"Û",I:"Î",O:"Ô",A:"Â"},"̂")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(78);t.tilde=i.lookupOrAppend({o:"õ",a:"ã",n:"ñ",O:"Õ",A:"Ã",N:"Ñ"},"̃")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(78);t.dieresis=i.lookupOrAppend({e:"ë",y:"ÿ",u:"ü",i:"ï",o:"ö",a:"ä",E:"Ë",Y:"Ÿ",U:"Ü",I:"Ï",O:"Ö",A:"Ä"},"̈")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(78);t.cedilla=i.lookupOrAppend({c:"ç"},"̧")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(78);t.caron=i.lookupOrAppend({s:"š"},"̌")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(400);t.ogonek=i.simpleSuffix("̨")},function(e,t,n){"use strict";function i(e,t){return e+"͡"+t}Object.defineProperty(t,"__esModule",{value:!0}),t.tieLetters=function(e){return i(e.charAt(0),e.substring(1))},t.tie2Letters=i,t.isTieLetters=function(e){return"t"===e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(78);t.vectorArrow=i.lookupOrAppend({},"⃗")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(78);t.longHungarianUmlaut=i.lookupOrAppend({o:"ő",u:"ű",O:"Ő",U:"Ű"},"̋")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(939),r=n(940),o=n(941),a=n(942),s=n(943),l=n(944),c=n(562),u=n(945),d=n(563),h=n(946);t.formattingUnicode=function(e,t){var n=void 0;if(c.isBbCmd(e)?n=i.translateCharToBlackboard:c.isBfCmd(e)?n=r.translateCharToBold:c.isFrakCmd(e)?n=o.translateCharToFraktur:c.isItCmd(e)?n=a.translateCharToItalic:c.isTtCmd(e)?n=s.translateCharToMonospace:c.isCalCmd(e)?n=l.translateCharToCalligraphic:c.isSubCmd(e)?n=u.translateCharToSubscript:c.isSupCmd(e)?n=d.translateCharToSuperscript:c.isMonoCmd(e)&&(n=h.translateCharToMono),n){var f=n;return t.split("").map(function(e){return f(e)||e}).join("")}}},function(e,t,n){"use strict";function i(e){return t.blackboardCharacters.hasOwnProperty(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.blackboardCharacters={A:"𝔸",B:"𝔹",C:"ℂ",D:"𝔻",E:"𝔼",F:"𝔽",G:"𝔾",H:"ℍ",I:"𝕀",J:"𝕁",K:"𝕂",L:"𝕃",M:"𝕄",N:"ℕ",O:"𝕆",P:"ℙ",Q:"ℚ",R:"ℝ",S:"𝕊",T:"𝕋",U:"𝕌",V:"𝕍",W:"𝕎",X:"𝕏",Y:"𝕐",Z:"ℤ",a:"𝕒",b:"𝕓",c:"𝕔",d:"𝕕",e:"𝕖",f:"𝕗",g:"𝕘",h:"𝕙",i:"𝕚",j:"𝕛",k:"𝕜",l:"𝕝",m:"𝕞",n:"𝕟",o:"𝕠",p:"𝕡",q:"𝕢",r:"𝕣",s:"𝕤",t:"𝕥",u:"𝕦",v:"𝕧",w:"𝕨",x:"𝕩",y:"𝕪",z:"𝕫",0:"𝟘",1:"𝟙",2:"𝟚",3:"𝟛",4:"𝟜",5:"𝟝",6:"𝟞",7:"𝟟",8:"𝟠",9:"𝟡"},t.isBlackboardCharacter=i,t.translateCharToBlackboard=function(e){return i(e)?t.blackboardCharacters[e]:void 0}},function(e,t,n){"use strict";function i(e){return t.boldCharacters.hasOwnProperty(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boldCharacters={A:"𝐀",B:"𝐁",C:"𝐂",D:"𝐃",E:"𝐄",F:"𝐅",G:"𝐆",H:"𝐇",I:"𝐈",J:"𝐉",K:"𝐊",L:"𝐋",M:"𝐌",N:"𝐍",O:"𝐎",P:"𝐏",Q:"𝐐",R:"𝐑",S:"𝐒",T:"𝐓",U:"𝐔",V:"𝐕",W:"𝐖",X:"𝐗",Y:"𝐘",Z:"𝐙",a:"𝐚",b:"𝐛",c:"𝐜",d:"𝐝",e:"𝐞",f:"𝐟",g:"𝐠",h:"𝐡",i:"𝐢",j:"𝐣",k:"𝐤",l:"𝐥",m:"𝐦",n:"𝐧",o:"𝐨",p:"𝐩",q:"𝐪",r:"𝐫",s:"𝐬",t:"𝐭",u:"𝐮",v:"𝐯",w:"𝐰",x:"𝐱",y:"𝐲",z:"𝐳","Α":"𝚨","Β":"𝚩","Γ":"𝚪","Δ":"𝚫","Ε":"𝚬","Ζ":"𝚭","Η":"𝚮","Θ":"𝚯","Ι":"𝚰","Κ":"𝚱","Λ":"𝚲","Μ":"𝚳","Ν":"𝚴","Ξ":"𝚵","Ο":"𝚶","Π":"𝚷","Ρ":"𝚸","ϴ":"𝚹","Σ":"𝚺","Τ":"𝚻","Υ":"𝚼","Φ":"𝚽","Χ":"𝚾","Ψ":"𝚿","Ω":"𝛀","∇":"𝛁","α":"𝛂","β":"𝛃","γ":"𝛄","δ":"𝛅","ε":"𝛆","ζ":"𝛇","η":"𝛈","θ":"𝛉","ι":"𝛊","κ":"𝛋","λ":"𝛌","μ":"𝛍","ν":"𝛎","ξ":"𝛏","ο":"𝛐","π":"𝛑","ρ":"𝛒","ς":"𝛓","σ":"𝛔","τ":"𝛕","υ":"𝛖","φ":"𝛗","χ":"𝛘","ψ":"𝛙","ω":"𝛚","∂":"𝛛","ϵ":"𝛜","ϑ":"𝛝","ϰ":"𝛞","ϕ":"𝛟","ϱ":"𝛠","ϖ":"𝛡",0:"𝟎",1:"𝟏",2:"𝟐",3:"𝟑",4:"𝟒",5:"𝟓",6:"𝟔",7:"𝟕",8:"𝟖",9:"𝟗"},t.isBlackboardCharacter=i,t.translateCharToBold=function(e){return i(e)?t.boldCharacters[e]:void 0}},function(e,t,n){"use strict";function i(e){return t.frakturCharacters.hasOwnProperty(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.frakturCharacters={A:"𝔄",B:"𝔅",C:"ℭ",D:"𝔇",E:"𝔈",F:"𝔉",G:"𝔊",H:"ℌ",I:"ℑ",J:"𝔍",K:"𝔎",L:"𝔏",M:"𝔐",N:"𝔑",O:"𝔒",P:"𝔓",Q:"𝔔",R:"ℜ",S:"𝔖",T:"𝔗",U:"𝔘",V:"𝔙",W:"𝔚",X:"𝔛",Y:"𝔜",Z:"ℨ",a:"𝔞",b:"𝔟",c:"𝔠",d:"𝔡",e:"𝔢",f:"𝔣",g:"𝔤",h:"𝔥",i:"𝔦",j:"𝔧",k:"𝔨",l:"𝔩",m:"𝔪",n:"𝔫",o:"𝔬",p:"𝔭",q:"𝔮",r:"𝔯",s:"𝔰",t:"𝔱",u:"𝔲",v:"𝔳",w:"𝔴",x:"𝔵",y:"𝔶",z:"𝔷"},t.isFrakturCharacter=i,t.translateCharToFraktur=function(e){return i(e)?t.frakturCharacters[e]:void 0}},function(e,t,n){"use strict";function i(e){return t.italicCharacters.hasOwnProperty(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.italicCharacters={A:"𝐴",B:"𝐵",C:"𝐶",D:"𝐷",E:"𝐸",F:"𝐹",G:"𝐺",H:"𝐻",I:"𝐼",J:"𝐽",K:"𝐾",L:"𝐿",M:"𝑀",N:"𝑁",O:"𝑂",P:"𝑃",Q:"𝑄",R:"𝑅",S:"𝑆",T:"𝑇",U:"𝑈",V:"𝑉",W:"𝑊",X:"𝑋",Y:"𝑌",Z:"𝑍",a:"𝑎",b:"𝑏",c:"𝑐",d:"𝑑",e:"𝑒",f:"𝑓",g:"𝑔",h:"ℎ",i:"𝑖",j:"𝑗",k:"𝑘",l:"𝑙",m:"𝑚",n:"𝑛",o:"𝑜",p:"𝑝",q:"𝑞",r:"𝑟",s:"𝑠",t:"𝑡",u:"𝑢",v:"𝑣",w:"𝑤",x:"𝑥",y:"𝑦",z:"𝑧","Α":"𝛢","Β":"𝛣","Γ":"𝛤","Δ":"𝛥","Ε":"𝛦","Ζ":"𝛧","Η":"𝛨","Θ":"𝛩","Ι":"𝛪","Κ":"𝛫","Λ":"𝛬","Μ":"𝛭","Ν":"𝛮","Ξ":"𝛯","Ο":"𝛰","Π":"𝛱","Ρ":"𝛲","ϴ":"𝛳","Σ":"𝛴","Τ":"𝛵","Υ":"𝛶","Φ":"𝛷","Χ":"𝛸","Ψ":"𝛹","Ω":"𝛺","∇":"𝛻","α":"𝛼","β":"𝛽","γ":"𝛾","δ":"𝛿","ε":"𝜀","ζ":"𝜁","η":"𝜂","θ":"𝜃","ι":"𝜄","κ":"𝜅","λ":"𝜆","μ":"𝜇","ν":"𝜈","ξ":"𝜉","ο":"𝜊","π":"𝜋","ρ":"𝜌","ς":"𝜍","σ":"𝜎","τ":"𝜏","υ":"𝜐","φ":"𝜑","χ":"𝜒","ψ":"𝜓","ω":"𝜔","∂":"𝜕","ϵ":"𝜖","ϑ":"𝜗","ϰ":"𝜘","ϕ":"𝜙","ϱ":"𝜚","ϖ":"𝜛"},t.isItalicCharacter=i,t.translateCharToItalic=function(e){return i(e)?t.italicCharacters[e]:void 0}},function(e,t,n){"use strict";function i(e){return t.monospaceCharacters.hasOwnProperty(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.monospaceCharacters={A:"𝙰",B:"𝙱",C:"𝙲",D:"𝙳",E:"𝙴",F:"𝙵",G:"𝙶",H:"𝙷",I:"𝙸",J:"𝙹",K:"𝙺",L:"𝙻",M:"𝙼",N:"𝙽",O:"𝙾",P:"𝙿",Q:"𝚀",R:"𝚁",S:"𝚂",T:"𝚃",U:"𝚄",V:"𝚅",W:"𝚆",X:"𝚇",Y:"𝚈",Z:"𝚉",a:"𝚊",b:"𝚋",c:"𝚌",d:"𝚍",e:"𝚎",f:"𝚏",g:"𝚐",h:"𝚑",i:"𝚒",j:"𝚓",k:"𝚔",l:"𝚕",m:"𝚖",n:"𝚗",o:"𝚘",p:"𝚙",q:"𝚚",r:"𝚛",s:"𝚜",t:"𝚝",u:"𝚞",v:"𝚟",w:"𝚠",x:"𝚡",y:"𝚢",z:"𝚣",0:"𝟶",1:"𝟷",2:"𝟸",3:"𝟹",4:"𝟺",5:"𝟻",6:"𝟼",7:"𝟽",8:"𝟾",9:"𝟿"},t.isMonospaceCharacter=i,t.translateCharToMonospace=function(e){return i(e)?t.monospaceCharacters[e]:void 0}},function(e,t,n){"use strict";function i(e){return t.calligraphicLetters.hasOwnProperty(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.calligraphicLetters={A:"𝓐",B:"𝓑",C:"𝓒",D:"𝓓",E:"𝓔",F:"𝓕",G:"𝓖",H:"𝓗",I:"𝓘",J:"𝓙",K:"𝓚",L:"𝓛",M:"𝓜",N:"𝓝",O:"𝓞",P:"𝓟",Q:"𝓠",R:"𝓡",S:"𝓢",T:"𝓣",U:"𝓤",V:"𝓥",W:"𝓦",X:"𝓧",Y:"𝓨",Z:"𝓩",a:"𝓪",b:"𝓫",c:"𝓬",d:"𝓭",e:"𝓮",f:"𝓯",g:"𝓰",h:"𝓱",i:"𝓲",j:"𝓳",k:"𝓴",l:"𝓵",m:"𝓶",n:"𝓷",o:"𝓸",p:"𝓹",q:"𝓺",r:"𝓻",s:"𝓼",t:"𝓽",u:"𝓾",v:"𝓿",w:"𝔀",x:"𝔁",y:"𝔂",z:"𝔃"},t.isCalligraphicLetter=i,t.translateCharToCalligraphic=function(e){return i(e)?t.calligraphicLetters[e]:void 0}},function(e,t,n){"use strict";function i(e){return t.subscriptCharacters.hasOwnProperty(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.subscriptCharacters={0:"₀",1:"₁",2:"₂",3:"₃",4:"₄",5:"₅",6:"₆",7:"₇",8:"₈",9:"₉","+":"₊","-":"₋","=":"₌","(":"₍",")":"₎",a:"ₐ",e:"ₑ",h:"ₕ",i:"ᵢ",j:"ⱼ",k:"ₖ",l:"ₗ",m:"ₘ",n:"ₙ",o:"ₒ",p:"ₚ",r:"ᵣ",s:"ₛ",t:"ₜ",u:"ᵤ",v:"ᵥ",x:"ₓ","β":"ᵦ","γ":"ᵧ","ρ":"ᵨ","φ":"ᵩ","χ":"ᵪ"},t.isSubscriptCharacter=i,t.translateCharToSubscript=function(e){return i(e)?t.subscriptCharacters[e]:void 0}},function(e,t,n){"use strict";function i(e){return t.monoCharacters.hasOwnProperty(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.monoCharacters={A:"𝙰",B:"𝙱",C:"𝙲",D:"𝙳",E:"𝙴",F:"𝙵",G:"𝙶",H:"𝙷",I:"𝙸",J:"𝙹",K:"𝙺",L:"𝙻",M:"𝙼",N:"𝙽",O:"𝙾",P:"𝙿",Q:"𝚀",R:"𝚁",S:"𝚂",T:"𝚃",U:"𝚄",V:"𝚅",W:"𝚆",X:"𝚇",Y:"𝚈",Z:"𝚉",a:"𝚊",b:"𝚋",c:"𝚌",d:"𝚍",e:"𝚎",f:"𝚏",g:"𝚐",h:"𝚑",i:"𝚒",j:"𝚓",k:"𝚔",l:"𝚕",m:"𝚖",n:"𝚗",o:"𝚘",p:"𝚙",q:"𝚚",r:"𝚛",s:"𝚜",t:"𝚝",u:"𝚞",v:"𝚟",w:"𝚠",x:"𝚡",y:"𝚢",z:"𝚣",0:"𝟶",1:"𝟷",2:"𝟸",3:"𝟹",4:"𝟺",5:"𝟻",6:"𝟼",7:"𝟽",8:"𝟾",9:"𝟿"},t.isMonoCharacter=i,t.translateCharToMono=function(e){return i(e)?t.monoCharacters[e]:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cyrillicCharacters={"Ф":"Ф","І":"І","Ѡ":"Ѡ","Г":"Г","ҝ":"ҝ","ё":"ё","Х":"Х","Җ":"Җ","ҧ":"ҧ","Ҭ":"Ҭ","И":"И","ї":"ї","Џ":"Џ","ѥ":"ѥ","К":"К","Һ":"Һ","Л":"Л","М":"М","Ӌ":"Ӌ","Њ":"Њ","Ѣ":"Ѣ","А":"А","Б":"Б","ҷ":"ҷ","ә":"ә","Ѕ":"Ѕ","Є":"Є","Ц":"Ц","Ж":"Ж","Д":"Д","Ҿ":"Ҿ","Ѳ":"Ѳ","Е":"Е","Ҩ":"Ҩ","я":"я","џ":"џ","Ѩ":"Ѩ","ҍ":"ҍ","В":"В","й":"й","ђ":"ђ","ӌ":"ӌ","Ү":"Ү","ң":"ң","З":"З","Ҟ":"Ҟ","Ҥ":"Ҥ","Ҷ":"Ҷ","Ұ":"Ұ","Щ":"Щ","Ў":"Ў","ю":"ю","ѯ":"ѯ","Н":"Н","О":"О","Ѫ":"Ѫ","П":"П","Ҙ":"Ҙ","Ӕ":"Ӕ","Р":"Р","С":"С","Т":"Т","Ҽ":"Ҽ","ѹ":"ѹ","У":"У","і":"і","Ҍ":"Ҍ","ғ":"ғ","Й":"Й","ѽ":"ѽ","ҡ":"ҡ","є":"є","ҙ":"ҙ","Ң":"Ң","Ґ":"Ґ","щ":"щ","Ӄ":"Ӄ","ж":"ж","Ј":"Ј","҂":"҂","ҽ":"ҽ","№":"№","ҥ":"ҥ","Ѱ":"Ѱ","Ҵ":"Ҵ","Ѭ":"Ѭ","њ":"њ","Ѥ":"Ѥ","ѕ":"ѕ","ӕ":"ӕ","Ъ":"Ъ","Ҁ":"Ҁ","Ҏ":"Ҏ","Ә":"Ә","ҭ":"ҭ","Ҕ":"Ҕ","ҩ":"ҩ","һ":"һ","Ш":"Ш","у":"у","ҟ":"ҟ","т":"т","Ы":"Ы","с":"с","р":"р","Ѿ":"Ѿ","ѧ":"ѧ","Ӈ":"Ӈ","Ь":"Ь","ҕ":"ҕ","п":"п","ӡ":"ӡ","о":"о","Ћ":"Ћ","н":"н","Ҫ":"Ҫ","ұ":"ұ","ѱ":"ѱ","з":"з","ү":"ү","̏":"̏","ј":"ј","в":"в","ҹ":"ҹ","ӄ":"ӄ","е":"е","ѡ":"ѡ","д":"д","ц":"ц","б":"б","Ө":"Ө","ґ":"ґ","Љ":"Љ","а":"а","Ѽ":"Ѽ","Ғ":"Ғ","Ҹ":"Ҹ","м":"м","л":"л","ш":"ш","к":"к","и":"и","х":"х","Ҳ":"Ҳ","Ѵ":"Ѵ","Ӡ":"Ӡ","қ":"қ","г":"г","Ч":"Ч","ф":"ф","Ї":"Ї","҉":"҉","Ѯ":"Ѯ","Ѻ":"Ѻ","ѿ":"ѿ","ҵ":"ҵ","ҳ":"ҳ","ў":"ў","ѩ":"ѩ","Я":"Я","љ":"љ","ө":"ө","Қ":"Қ","ъ":"ъ","ҏ":"ҏ","ҁ":"ҁ","Ђ":"Ђ","ѭ":"ѭ","҈":"҈","Ӏ":"Ӏ","Ҝ":"Ҝ","ѻ":"ѻ","ь":"ь","ҿ":"ҿ","җ":"җ","э":"э","Ѧ":"Ѧ","Ҡ":"Ҡ","ы":"ы","Э":"Э","ӈ":"ӈ","ҫ":"ҫ","ч":"ч","ћ":"ћ","Ҧ":"Ҧ","Ё":"Ё","Ю":"Ю","Ѹ":"Ѹ","ќ":"ќ","ѓ":"ѓ","Ќ":"Ќ","Ѓ":"Ѓ"},t.isCyrillicCharacter=function(e){return t.cyrillicCharacters.hasOwnProperty(e)},t.translateCharToCyrillic=function(e){return t.isCyrillicCharacter(e)?t.cyrillicCharacters[e]:void 0}},function(e,t,n){"use strict";function i(e){return t.dingbatsUnicodeChart.hasOwnProperty(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.dingbatsUnicodeChart={33:"✁",34:"✂",35:"✃",36:"✄",37:"☎",38:"✆",39:"✇",40:"✈",41:"✉",42:"☛",43:"☞",44:"✌",45:"✍",46:"✎",47:"✏",48:"✐",49:"✑",50:"✒",51:"✓",52:"✔",53:"✕",54:"✖",55:"✗",56:"✘",57:"✙",58:"✚",59:"✛",60:"✜",61:"✝",62:"✞",63:"✟",64:"✠",65:"✡",66:"✢",67:"✣",68:"✤",69:"✥",70:"✦",71:"✧",72:"★",73:"✩",74:"✪",75:"✫",76:"✬",77:"✭",78:"✮",79:"✯",80:"✰",81:"✱",82:"✲",83:"✳",84:"✴",85:"✵",86:"✶",87:"✷",88:"✸",89:"✹",90:"✺",91:"✻",92:"✼",93:"✽",94:"✾",95:"✿",96:"❀",97:"❁",98:"❂",99:"❃",100:"❄",101:"❅",102:"❆",103:"❇",104:"❈",105:"❉",106:"❊",107:"❋",108:"●",109:"❍",110:"■",111:"❏",112:"❐",113:"❑",114:"❒",115:"▲",116:"▼",117:"◆",118:"❖",119:"◗",120:"❘",121:"❙",122:"❚",123:"❛",124:"❜",125:"❝",126:"❞",161:"❡",162:"❢",163:"❣",164:"❤",165:"❥",166:"❦",167:"❧",168:"♣",169:"♦",170:"♥",171:"♠",172:"①",173:"②",174:"③",175:"④",176:"⑤",177:"⑥",178:"⑦",179:"⑧",180:"⑨",181:"⑩",182:"❶",183:"❷",184:"❸",185:"❹",186:"❺",187:"❻",188:"❼",189:"❽",190:"❾",191:"❿",192:"➀",193:"➁",194:"➂",195:"➃",196:"➄",197:"➅",198:"➆",199:"➇",200:"➈",201:"➉",202:"➊",203:"➋",204:"➌",205:"➍",206:"➎",207:"➏",208:"➐",209:"➑",210:"➒",211:"➓",212:"➔",213:"→",214:"↔",215:"↕",216:"➘",217:"➙",218:"➚",219:"➛",220:"➜",221:"➝",222:"➞",223:"➟",224:"➠",225:"➡",226:"➢",227:"➣",228:"➤",229:"➥",230:"➦",231:"➧",232:"➨",233:"➩",234:"➪",235:"➫",236:"➬",237:"➭",238:"➮",239:"➯",241:"➱",242:"➲",243:"➳",244:"➴",245:"➵",246:"➶",247:"➷",248:"➸",249:"➹",250:"➺",251:"➻",252:"➼",253:"➽",254:"➾"},t.isDingbatCharacter=i,t.translateCharToDingbat=function(e){return i(e)?t.dingbatsUnicodeChart[e]:void 0}},function(e,t,n){"use strict";function i(e){return t.elsevierGlyphsUnicodeChart.hasOwnProperty(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.elsevierGlyphsUnicodeChart={2129:"℩","21B3":"↳",2232:"∲",2233:"∳",2238:"∸",2242:"≂","225A":"≚","225F":"≟",2274:"≴",2275:"≵","22C0":"⋀","22C1":"⋁",E838:"⌽",E381:"▱",E212:"⤅",E20C:"⤣",E20D:"⤤",E20B:"⤥",E20A:"⤦",E211:"⤧",E20E:"⤨",E20F:"⤩",E210:"⤪",E21C:"⤳",E21D:"⤳",E21A:"⤶",E219:"⤷",E214:"⥼",E215:"⥽",E291:"⦔",E260:"⦵",E61B:"⦶",E372:"⧜",E395:"⨐",E25A:"⨥",E25B:"⨪",E25C:"⨭",E25D:"⨮",E25E:"⨴",E25F:"⨵",E259:"⨼",E36E:"⩕",E30D:"⫫","300A":"《","300B":"》",3018:"〘",3019:"〙"},t.isElsevierGlyph=i,t.translateCharToElsevier=function(e){return i(e)?t.elsevierGlyphsUnicodeChart[e]:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spaceCmds1arg={kern:!0,hskip:!0,hspace:!0,hphantom:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.diacriticsTextMode={"`":!0,"'":!0,"^":!0,"~":!0,"=":!0,".":!0,'"':!0,H:!0,c:!0,k:!0,b:!0,d:!0,r:!0,u:!0,v:!0},t.diacriticsMathMode={hat:!0,widehat:!0,check:!0,tilde:!0,widetilde:!0,acute:!0,grave:!0,dot:!0,ddot:!0,breve:!0,bar:!0,vec:!0,mathring:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(563);t.convertSqrtToUnicode=function(e,t){var n=function(e){var t=e?e.trim():void 0;if(!t)return"√";switch(t){case"2":return"√";case"3":return"∛";case"4":return"∜";default:for(var n=[],r=0;r<t.length;r++){var o=i.translateCharToSuperscript(t.charAt(r));if(!o)throw new Error('Could not translate "'+o+'" to superscript');n.push(o)}return n.join("")+"√"}}(t),r=e.trim();return""===r?n:n+"("+r+")"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(954),r=n(955);t.expand2argsCommand=function(e,t,n){switch(e){case"frac":case"nfrac":case"cfrac":case"xfrac":case"sfrac":return i.convertFracToUnicode(t,n);case"binom":return r.convertBinom(t,n)}throw new Error("No implementation found to expand \\"+e+" with arguments {"+t+", "+n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(400),r="‌",o=/^[0-9]*$/;t.convertFracToUnicode=function(e,t){return"1"===e&&"2"===t?"½":"1"===e&&"3"===t?"⅓":"1"===e&&"4"===t?"¼":"1"===e&&"5"===t?"⅕":"1"===e&&"6"===t?"⅙":"1"===e&&"8"===t?"⅛":"2"===e&&"3"===t?"⅔":"2"===e&&"5"===t?"⅖":"3"===e&&"4"===t?"¾":"3"===e&&"5"===t?"⅗":"3"===e&&"8"===t?"⅜":"4"===e&&"5"===t?"⅘":"5"===e&&"6"===t?"⅚":"5"===e&&"8"===t?"⅝":"7"===e&&"8"===t?"⅞":o.test(e)&&o.test(t)?r+e+"⁄"+t+r:"("+(e=i.isSingleTerm.test(e)?e:i.addParenthesis(e))+" / "+(t=i.isSingleTerm.test(t)?t:i.addParenthesis(t))+")"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(400),r=/^.$|^[0-9]+$/;t.convertBinom=function(e,t){return"("+(e=r.test(e)?e:i.addParenthesis(e))+" ¦ "+(t=r.test(t)?t:i.addParenthesis(t))+")"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(957);t.twoArgsCommands=Object.assign({},i.fracCmds,{binom:!0}),t.is2argsCommand=function(e){return t.twoArgsCommands.hasOwnProperty(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fracCmds={frac:!0,nfrac:!0,cfrac:!0,xfrac:!0,sfrac:!0},t.isFracCmd=function(e){return t.fracCmds.hasOwnProperty(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createKnownCommand=function(e){return{name:e,optionalArguments:0,argumentCount:0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createKnownCommandWith1Arg=function(e){return{name:e,optionalArguments:0,argumentCount:1}}},function(e,t,n){"use strict";var i=n(437);n.n(i).a},function(e,t,n){var i;void 0===(i=function(){"use strict";function e(e,t){if("number"!=typeof e||"number"!=typeof t)throw"Bad range "+e+","+t;this._min=e,this._max=t}function t(e){var t=e.sort(n),i=[],r=t.shift();t.forEach(function(e){e._min<=r._max?e._max>r._max&&(r._max=e._max):(i.push(r),r=e)}),i.push(r),this._ranges=i}function n(e,t){return e._min<t._min?-1:e._min>t._min?1:e._max<t._max?-1:t._max>e._max?1:0}return e.prototype.min=function(){return this._min},e.prototype.max=function(){return this._max},e.prototype.contains=function(e){return e>=this._min&&e<=this._max},e.prototype.isContiguous=function(){return!0},e.prototype.ranges=function(){return[this]},e.prototype._pushRanges=function(e){e.push(this)},e.prototype.toString=function(){return"["+this._min+"-"+this._max+"]"},t.prototype.min=function(){return this._ranges[0].min()},t.prototype.max=function(){return this._ranges[this._ranges.length-1].max()},t.prototype.lower_bound=function(e){var t=this.ranges();if(e>this.max())return t.length;if(e<this.min())return 0;for(var n=0,i=t.length-1;n<=i;){var r=Math.floor((n+i)/2);if(e>t[r]._max)n=r+1;else{if(!(e<t[r]._min))return r;i=r-1}}return n},t.prototype.contains=function(e){var t=this.lower_bound(e);return!!(t<this._ranges.length&&this._ranges[t].contains(e))},t.prototype.insertRange=function(e){var t=this.lower_bound(e._min);if(t!==this._ranges.length){var n=this.ranges();if(e._max<n[t]._min)this._ranges.splice(t,0,e);else{n[t]._min<e._min&&(e._min=n[t]._min);for(var i=t+1;i<n.length&&n[i]._min<=e._max;)i++;n[--i]._max>e._max&&(e._max=n[i]._max),this._ranges.splice(t,i-t+1,e)}}else this._ranges.push(e)},t.prototype.isContiguous=function(){return this._ranges.length>1},t.prototype.ranges=function(){return this._ranges},t.prototype._pushRanges=function(e){for(var t=0;t<this._ranges.length;++t)e.push(this._ranges[t])},t.prototype.toString=function(){for(var e="",t=0;t<this._ranges.length;++t)t>0&&(e+=","),e+=this._ranges[t].toString();return e},{Range:e,union:function(e,n){return e instanceof t||(e instanceof Array||(e=[e]),e=new t(e)),n&&e.insertRange(n),e},intersection:function(n,i){for(var r=n.ranges(),o=i.ranges(),a=r.length,s=o.length,l=0,c=0,u=[];l<a&&c<s;){n=r[l],i=o[c];var d=Math.max(n.min(),i.min()),h=Math.min(n.max(),i.max());h>=d&&u.push(new e(d,h)),n.max()>i.max()?++c:++l}return 0==u.length?null:1==u.length?u[0]:new t(u)},coverage:function(e){for(var t=0,n=e.ranges(),i=0;i<n.length;++i){var r=n[i];t+=r.max()-r.min()+1}return t},rangeOver:function(e,t){return e.min()<t.min()?-1:e.min()>t.min()?1:e.max()<t.max()?-1:t.max()>e.max()?1:0},_rangeOrder:n}}.apply(t,[]))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(){var e=15,t=1440,n=0,i=0,r=1,o=-5,a=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],s=0,l=9,c=5,u=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],d=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],m=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];function g(){}function _(){this.was=[0]}g.prototype.inflateInit=function(t,n){return t||(t=e),n&&(n=!1),this.istate=new _,this.istate.inflateInit(this,n?-t:t)},g.prototype.inflate=function(e){return null==this.istate?-2:this.istate.inflate(this,e)},g.prototype.inflateEnd=function(){if(null==this.istate)return-2;var e=istate.inflateEnd(this);return this.istate=null,e},g.prototype.inflateSync=function(){return istate.inflateSync(this)},g.prototype.inflateSetDictionary=function(e,t){return istate.inflateSetDictionary(this,e,t)},_.prototype.inflateReset=function(e){return null==e||null==e.istate?-2:(e.total_in=e.total_out=0,e.msg=null,e.istate.mode=0!=e.istate.nowrap?7:0,e.istate.blocks.reset(e,null),i)},_.prototype.inflateEnd=function(e){return null!=this.blocks&&this.blocks.free(e),this.blocks=null,i},_.prototype.inflateInit=function(e,t){return e.msg=null,this.blocks=null,nowrap=0,t<0&&(t=-t,nowrap=1),t<8||t>15?(this.inflateEnd(e),-2):(this.wbits=t,e.istate.blocks=new b(e,0!=e.istate.nowrap?null:this,1<<t),this.inflateReset(e),i)},_.prototype.inflate=function(e,t){var n,a;if(null==e||null==e.istate||null==e.next_in)return-2;for(t=4==t?o:i,n=o;;)switch(e.istate.mode){case 0:if(0==e.avail_in)return n;if(n=t,e.avail_in--,e.total_in++,8!=(15&(e.istate.method=e.next_in[e.next_in_index++]))){e.istate.mode=13,e.msg="unknown compression method",e.istate.marker=5;break}if(8+(e.istate.method>>4)>e.istate.wbits){e.istate.mode=13,e.msg="invalid window size",e.istate.marker=5;break}e.istate.mode=1;case 1:if(0==e.avail_in)return n;if(n=t,e.avail_in--,e.total_in++,a=255&e.next_in[e.next_in_index++],((e.istate.method<<8)+a)%31!=0){e.istate.mode=13,e.msg="incorrect header check",e.istate.marker=5;break}if(0==(32&a)){e.istate.mode=7;break}e.istate.mode=2;case 2:if(0==e.avail_in)return n;n=t,e.avail_in--,e.total_in++,e.istate.need=(255&e.next_in[e.next_in_index++])<<24&4278190080,e.istate.mode=3;case 3:if(0==e.avail_in)return n;n=t,e.avail_in--,e.total_in++,e.istate.need+=(255&e.next_in[e.next_in_index++])<<16&16711680,e.istate.mode=4;case 4:if(0==e.avail_in)return n;n=t,e.avail_in--,e.total_in++,e.istate.need+=(255&e.next_in[e.next_in_index++])<<8&65280,e.istate.mode=5;case 5:return 0==e.avail_in?n:(n=t,e.avail_in--,e.total_in++,e.istate.need+=255&e.next_in[e.next_in_index++],e.adler=e.istate.need,e.istate.mode=6,2);case 6:return e.istate.mode=13,e.msg="need dictionary",e.istate.marker=0,-2;case 7:if(-3==(n=e.istate.blocks.proc(e,n))){e.istate.mode=13,e.istate.marker=0;break}if(n==i&&(n=t),n!=r)return n;if(n=t,e.istate.blocks.reset(e,e.istate.was),0!=e.istate.nowrap){e.istate.mode=12;break}e.istate.mode=8;case 8:if(0==e.avail_in)return n;n=t,e.avail_in--,e.total_in++,e.istate.need=(255&e.next_in[e.next_in_index++])<<24&4278190080,e.istate.mode=9;case 9:if(0==e.avail_in)return n;n=t,e.avail_in--,e.total_in++,e.istate.need+=(255&e.next_in[e.next_in_index++])<<16&16711680,e.istate.mode=10;case 10:if(0==e.avail_in)return n;n=t,e.avail_in--,e.total_in++,e.istate.need+=(255&e.next_in[e.next_in_index++])<<8&65280,e.istate.mode=11;case 11:if(0==e.avail_in)return n;if(n=t,e.avail_in--,e.total_in++,e.istate.need+=255&e.next_in[e.next_in_index++],e.istate.was[0]!=e.istate.need){e.istate.mode=13,e.msg="incorrect data check",e.istate.marker=5;break}e.istate.mode=12;case 12:return r;case 13:return-3;default:return-2}},_.prototype.inflateSetDictionary=function(e,t,n){var r=0,o=n;return null==e||null==e.istate||6!=e.istate.mode?-2:e._adler.adler32(1,t,0,n)!=e.adler?-3:(e.adler=e._adler.adler32(0,null,0,0),o>=1<<e.istate.wbits&&(r=n-(o=(1<<e.istate.wbits)-1)),e.istate.blocks.set_dictionary(t,r,o),e.istate.mode=7,i)};var v=[0,0,255,255];_.prototype.inflateSync=function(e){var t,n,r,a,s;if(null==e||null==e.istate)return-2;if(13!=e.istate.mode&&(e.istate.mode=13,e.istate.marker=0),0==(t=e.avail_in))return o;for(n=e.next_in_index,r=e.istate.marker;0!=t&&r<4;)e.next_in[n]==v[r]?r++:r=0!=e.next_in[n]?0:4-r,n++,t--;return e.total_in+=n-e.next_in_index,e.next_in_index=n,e.avail_in=t,e.istate.marker=r,4!=r?-3:(a=e.total_in,s=e.total_out,this.inflateReset(e),e.total_in=a,e.total_out=s,e.istate.mode=7,i)},_.prototype.inflateSyncPoint=function(e){return null==e||null==e.istate||null==e.istate.blocks?-2:e.istate.blocks.sync_point()};var y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function b(e,n,i){this.hufts=new Int32Array(3*t),this.window=new Uint8Array(i),this.end=i,this.checkfn=n,this.mode=s,this.reset(e,null),this.left=0,this.table=0,this.index=0,this.blens=null,this.bb=new Int32Array(1),this.tb=new Int32Array(1),this.codes=new w,this.last=0,this.bitk=0,this.bitb=0,this.read=0,this.write=0,this.check=0,this.inftree=new k}b.prototype.reset=function(e,t){t&&(t[0]=this.check),6==this.mode&&this.codes.free(e),this.mode=s,this.bitk=0,this.bitb=0,this.read=this.write=0,this.checkfn&&(e.adler=this.check=e._adler.adler32(0,null,0,0))},b.prototype.proc=function(e,t){var n,o,l,c,u,d,h;for(c=e.next_in_index,u=e.avail_in,o=this.bitb,l=this.bitk,h=(d=this.write)<this.read?this.read-d-1:this.end-d;;)switch(this.mode){case s:for(;l<3;){if(0==u)return this.bitb=o,this.bitk=l,e.avail_in=u,e.total_in+=c-e.next_in_index,e.next_in_index=c,this.write=d,this.inflate_flush(e,t);t=i,u--,o|=(255&e.next_in[c++])<<l,l+=8}switch(n=7&o,this.last=1&n,n>>>1){case 0:o>>>=3,o>>>=n=7&(l-=3),l-=n,this.mode=1;break;case 1:M(g=new Int32Array(1),_=new Int32Array(1),v=[],b=[],e),this.codes.init(g[0],_[0],v[0],0,b[0],0,e),o>>>=3,l-=3,this.mode=6;break;case 2:o>>>=3,l-=3,this.mode=3;break;case 3:return o>>>=3,l-=3,this.mode=13,e.msg="invalid block type",t=-3,this.bitb=o,this.bitk=l,e.avail_in=u,e.total_in+=c-e.next_in_index,e.next_in_index=c,this.write=d,this.inflate_flush(e,t)}break;case 1:for(;l<32;){if(0==u)return this.bitb=o,this.bitk=l,e.avail_in=u,e.total_in+=c-e.next_in_index,e.next_in_index=c,this.write=d,this.inflate_flush(e,t);t=i,u--,o|=(255&e.next_in[c++])<<l,l+=8}if((~o>>>16&65535)!=(65535&o))return this.mode=13,e.msg="invalid stored block lengths",t=-3,this.bitb=o,this.bitk=l,e.avail_in=u,e.total_in+=c-e.next_in_index,e.next_in_index=c,this.write=d,this.inflate_flush(e,t);this.left=65535&o,o=l=0,this.mode=0!=this.left?2:0!=this.last?7:s;break;case 2:if(0==u)return this.bitb=o,this.bitk=l,e.avail_in=u,e.total_in+=c-e.next_in_index,e.next_in_index=c,write=d,this.inflate_flush(e,t);if(0==h&&(d==end&&0!=read&&(h=(d=0)<this.read?this.read-d-1:this.end-d),0==h&&(this.write=d,t=this.inflate_flush(e,t),h=(d=this.write)<this.read?this.read-d-1:this.end-d,d==this.end&&0!=this.read&&(h=(d=0)<this.read?this.read-d-1:this.end-d),0==h)))return this.bitb=o,this.bitk=l,e.avail_in=u,e.total_in+=c-e.next_in_index,e.next_in_index=c,this.write=d,this.inflate_flush(e,t);if(t=i,(n=this.left)>u&&(n=u),n>h&&(n=h),C(e.next_in,c,this.window,d,n),c+=n,u-=n,d+=n,h-=n,0!=(this.left-=n))break;this.mode=0!=this.last?7:s;break;case 3:for(;l<14;){if(0==u)return this.bitb=o,this.bitk=l,e.avail_in=u,e.total_in+=c-e.next_in_index,e.next_in_index=c,this.write=d,this.inflate_flush(e,t);t=i,u--,o|=(255&e.next_in[c++])<<l,l+=8}if(this.table=n=16383&o,(31&n)>29||(n>>5&31)>29)return this.mode=9,e.msg="too many length or distance symbols",t=-3,this.bitb=o,this.bitk=l,e.avail_in=u,e.total_in+=c-e.next_in_index,e.next_in_index=c,this.write=d,this.inflate_flush(e,t);if(n=258+(31&n)+(n>>5&31),null==this.blens||this.blens.length<n)this.blens=new Int32Array(n);else for(var f=0;f<n;f++)this.blens[f]=0;o>>>=14,l-=14,this.index=0,mode=4;case 4:for(;this.index<4+(this.table>>>10);){for(;l<3;){if(0==u)return this.bitb=o,this.bitk=l,e.avail_in=u,e.total_in+=c-e.next_in_index,e.next_in_index=c,this.write=d,this.inflate_flush(e,t);t=i,u--,o|=(255&e.next_in[c++])<<l,l+=8}this.blens[y[this.index++]]=7&o,o>>>=3,l-=3}for(;this.index<19;)this.blens[y[this.index++]]=0;if(this.bb[0]=7,(n=this.inftree.inflate_trees_bits(this.blens,this.bb,this.tb,this.hufts,e))!=i)return-3==(t=n)&&(this.blens=null,this.mode=9),this.bitb=o,this.bitk=l,e.avail_in=u,e.total_in+=c-e.next_in_index,e.next_in_index=c,write=d,this.inflate_flush(e,t);this.index=0,this.mode=5;case 5:for(;n=this.table,this.index<258+(31&n)+(n>>5&31);){var p,m;for(n=this.bb[0];l<n;){if(0==u)return this.bitb=o,this.bitk=l,e.avail_in=u,e.total_in+=c-e.next_in_index,e.next_in_index=c,this.write=d,this.inflate_flush(e,t);t=i,u--,o|=(255&e.next_in[c++])<<l,l+=8}if(n=this.hufts[3*(this.tb[0]+(o&a[n]))+1],(m=this.hufts[3*(this.tb[0]+(o&a[n]))+2])<16)o>>>=n,l-=n,this.blens[this.index++]=m;else{for(f=18==m?7:m-14,p=18==m?11:3;l<n+f;){if(0==u)return this.bitb=o,this.bitk=l,e.avail_in=u,e.total_in+=c-e.next_in_index,e.next_in_index=c,this.write=d,this.inflate_flush(e,t);t=i,u--,o|=(255&e.next_in[c++])<<l,l+=8}if(l-=n,p+=(o>>>=n)&a[f],o>>>=f,l-=f,(f=this.index)+p>258+(31&(n=this.table))+(n>>5&31)||16==m&&f<1)return this.blens=null,this.mode=9,e.msg="invalid bit length repeat",t=-3,this.bitb=o,this.bitk=l,e.avail_in=u,e.total_in+=c-e.next_in_index,e.next_in_index=c,this.write=d,this.inflate_flush(e,t);m=16==m?this.blens[f-1]:0;do{this.blens[f++]=m}while(0!=--p);this.index=f}}this.tb[0]=-1;var g=new Int32Array(1),_=new Int32Array(1),v=new Int32Array(1),b=new Int32Array(1);if(g[0]=9,_[0]=6,n=this.table,(n=this.inftree.inflate_trees_dynamic(257+(31&n),1+(n>>5&31),this.blens,g,_,v,b,this.hufts,e))!=i)return-3==n&&(this.blens=null,this.mode=13),t=n,this.bitb=o,this.bitk=l,e.avail_in=u,e.total_in+=c-e.next_in_index,e.next_in_index=c,this.write=d,this.inflate_flush(e,t);this.codes.init(g[0],_[0],this.hufts,v[0],this.hufts,b[0],e),this.mode=6;case 6:if(this.bitb=o,this.bitk=l,e.avail_in=u,e.total_in+=c-e.next_in_index,e.next_in_index=c,this.write=d,(t=this.codes.proc(this,e,t))!=r)return this.inflate_flush(e,t);if(t=i,this.codes.free(e),c=e.next_in_index,u=e.avail_in,o=this.bitb,l=this.bitk,h=(d=this.write)<this.read?this.read-d-1:this.end-d,0==this.last){this.mode=s;break}this.mode=7;case 7:if(this.write=d,t=this.inflate_flush(e,t),h=(d=this.write)<this.read?this.read-d-1:this.end-d,this.read!=this.write)return this.bitb=o,this.bitk=l,e.avail_in=u,e.total_in+=c-e.next_in_index,e.next_in_index=c,this.write=d,this.inflate_flush(e,t);mode=12;case 8:return t=r,this.bitb=o,this.bitk=l,e.avail_in=u,e.total_in+=c-e.next_in_index,e.next_in_index=c,this.write=d,this.inflate_flush(e,t);case 9:return t=-3,this.bitb=o,this.bitk=l,e.avail_in=u,e.total_in+=c-e.next_in_index,e.next_in_index=c,this.write=d,this.inflate_flush(e,t);default:return t=-2,this.bitb=o,this.bitk=l,e.avail_in=u,e.total_in+=c-e.next_in_index,e.next_in_index=c,this.write=d,this.inflate_flush(e,t)}},b.prototype.free=function(e){this.reset(e,null),this.window=null,this.hufts=null},b.prototype.set_dictionary=function(e,t,n){C(e,t,window,0,n),this.read=this.write=n},b.prototype.sync_point=function(){return 1==this.mode},b.prototype.inflate_flush=function(e,t){var n,r,a;return r=e.next_out_index,(n=((a=this.read)<=this.write?this.write:this.end)-a)>e.avail_out&&(n=e.avail_out),0!=n&&t==o&&(t=i),e.avail_out-=n,e.total_out+=n,null!=this.checkfn&&(e.adler=this.check=e._adler.adler32(this.check,this.window,a,n)),C(this.window,a,e.next_out,r,n),r+=n,(a+=n)==this.end&&(a=0,this.write==this.end&&(this.write=0),(n=this.write-a)>e.avail_out&&(n=e.avail_out),0!=n&&t==o&&(t=i),e.avail_out-=n,e.total_out+=n,null!=this.checkfn&&(e.adler=this.check=e._adler.adler32(this.check,this.window,a,n)),C(this.window,a,e.next_out,r,n),r+=n,a+=n),e.next_out_index=r,this.read=a,t};function w(){}function k(){}function M(e,t,n,r,o){return e[0]=l,t[0]=c,n[0]=u,r[0]=d,i}w.prototype.init=function(e,t,n,i,r,o,a){this.mode=0,this.lbits=e,this.dbits=t,this.ltree=n,this.ltree_index=i,this.dtree=r,this.dtree_index=o,this.tree=null},w.prototype.proc=function(e,t,n){var o,s,l,c,u,d,h,f=0,p=0,m=0;for(m=t.next_in_index,c=t.avail_in,f=e.bitb,p=e.bitk,d=(u=e.write)<e.read?e.read-u-1:e.end-u;;)switch(this.mode){case 0:if(d>=258&&c>=10&&(e.bitb=f,e.bitk=p,t.avail_in=c,t.total_in+=m-t.next_in_index,t.next_in_index=m,e.write=u,n=this.inflate_fast(this.lbits,this.dbits,this.ltree,this.ltree_index,this.dtree,this.dtree_index,e,t),m=t.next_in_index,c=t.avail_in,f=e.bitb,p=e.bitk,d=(u=e.write)<e.read?e.read-u-1:e.end-u,n!=i)){this.mode=n==r?7:9;break}this.need=this.lbits,this.tree=this.ltree,this.tree_index=this.ltree_index,this.mode=1;case 1:for(o=this.need;p<o;){if(0==c)return e.bitb=f,e.bitk=p,t.avail_in=c,t.total_in+=m-t.next_in_index,t.next_in_index=m,e.write=u,e.inflate_flush(t,n);n=i,c--,f|=(255&t.next_in[m++])<<p,p+=8}if(s=3*(this.tree_index+(f&a[o])),f>>>=this.tree[s+1],p-=this.tree[s+1],0==(l=this.tree[s])){this.lit=this.tree[s+2],this.mode=6;break}if(0!=(16&l)){this.get=15&l,this.len=this.tree[s+2],this.mode=2;break}if(0==(64&l)){this.need=l,this.tree_index=s/3+this.tree[s+2];break}if(0!=(32&l)){this.mode=7;break}return this.mode=9,t.msg="invalid literal/length code",n=-3,e.bitb=f,e.bitk=p,t.avail_in=c,t.total_in+=m-t.next_in_index,t.next_in_index=m,e.write=u,e.inflate_flush(t,n);case 2:for(o=this.get;p<o;){if(0==c)return e.bitb=f,e.bitk=p,t.avail_in=c,t.total_in+=m-t.next_in_index,t.next_in_index=m,e.write=u,e.inflate_flush(t,n);n=i,c--,f|=(255&t.next_in[m++])<<p,p+=8}this.len+=f&a[o],f>>=o,p-=o,this.need=this.dbits,this.tree=this.dtree,this.tree_index=this.dtree_index,this.mode=3;case 3:for(o=this.need;p<o;){if(0==c)return e.bitb=f,e.bitk=p,t.avail_in=c,t.total_in+=m-t.next_in_index,t.next_in_index=m,e.write=u,e.inflate_flush(t,n);n=i,c--,f|=(255&t.next_in[m++])<<p,p+=8}if(s=3*(this.tree_index+(f&a[o])),f>>=this.tree[s+1],p-=this.tree[s+1],0!=(16&(l=this.tree[s]))){this.get=15&l,this.dist=this.tree[s+2],this.mode=4;break}if(0==(64&l)){this.need=l,this.tree_index=s/3+this.tree[s+2];break}return this.mode=9,t.msg="invalid distance code",n=-3,e.bitb=f,e.bitk=p,t.avail_in=c,t.total_in+=m-t.next_in_index,t.next_in_index=m,e.write=u,e.inflate_flush(t,n);case 4:for(o=this.get;p<o;){if(0==c)return e.bitb=f,e.bitk=p,t.avail_in=c,t.total_in+=m-t.next_in_index,t.next_in_index=m,e.write=u,e.inflate_flush(t,n);n=i,c--,f|=(255&t.next_in[m++])<<p,p+=8}this.dist+=f&a[o],f>>=o,p-=o,this.mode=5;case 5:for(h=u-this.dist;h<0;)h+=e.end;for(;0!=this.len;){if(0==d&&(u==e.end&&0!=e.read&&(d=(u=0)<e.read?e.read-u-1:e.end-u),0==d&&(e.write=u,n=e.inflate_flush(t,n),d=(u=e.write)<e.read?e.read-u-1:e.end-u,u==e.end&&0!=e.read&&(d=(u=0)<e.read?e.read-u-1:e.end-u),0==d)))return e.bitb=f,e.bitk=p,t.avail_in=c,t.total_in+=m-t.next_in_index,t.next_in_index=m,e.write=u,e.inflate_flush(t,n);e.window[u++]=e.window[h++],d--,h==e.end&&(h=0),this.len--}this.mode=0;break;case 6:if(0==d&&(u==e.end&&0!=e.read&&(d=(u=0)<e.read?e.read-u-1:e.end-u),0==d&&(e.write=u,n=e.inflate_flush(t,n),d=(u=e.write)<e.read?e.read-u-1:e.end-u,u==e.end&&0!=e.read&&(d=(u=0)<e.read?e.read-u-1:e.end-u),0==d)))return e.bitb=f,e.bitk=p,t.avail_in=c,t.total_in+=m-t.next_in_index,t.next_in_index=m,e.write=u,e.inflate_flush(t,n);n=i,e.window[u++]=this.lit,d--,this.mode=0;break;case 7:if(p>7&&(p-=8,c++,m--),e.write=u,n=e.inflate_flush(t,n),d=(u=e.write)<e.read?e.read-u-1:e.end-u,e.read!=e.write)return e.bitb=f,e.bitk=p,t.avail_in=c,t.total_in+=m-t.next_in_index,t.next_in_index=m,e.write=u,e.inflate_flush(t,n);this.mode=8;case 8:return n=r,e.bitb=f,e.bitk=p,t.avail_in=c,t.total_in+=m-t.next_in_index,t.next_in_index=m,e.write=u,e.inflate_flush(t,n);case 9:return n=-3,e.bitb=f,e.bitk=p,t.avail_in=c,t.total_in+=m-t.next_in_index,t.next_in_index=m,e.write=u,e.inflate_flush(t,n);default:return n=-2,e.bitb=f,e.bitk=p,t.avail_in=c,t.total_in+=m-t.next_in_index,t.next_in_index=m,e.write=u,e.inflate_flush(t,n)}},w.prototype.free=function(e){},w.prototype.inflate_fast=function(e,t,n,o,s,l,c,u){var d,h,f,p,m,g,_,v,y,b,w,k,M,x,S,T;_=u.next_in_index,v=u.avail_in,m=c.bitb,g=c.bitk,b=(y=c.write)<c.read?c.read-y-1:c.end-y,w=a[e],k=a[t];do{for(;g<20;)v--,m|=(255&u.next_in[_++])<<g,g+=8;if(0!=(p=(h=n)[T=3*((f=o)+(d=m&w))]))for(;;){if(m>>=h[T+1],g-=h[T+1],0!=(16&p)){for(p&=15,M=h[T+2]+(m&a[p]),m>>=p,g-=p;g<15;)v--,m|=(255&u.next_in[_++])<<g,g+=8;for(p=(h=s)[T=3*((f=l)+(d=m&k))];;){if(m>>=h[T+1],g-=h[T+1],0!=(16&p)){for(p&=15;g<p;)v--,m|=(255&u.next_in[_++])<<g,g+=8;if(x=h[T+2]+(m&a[p]),m>>=p,g-=p,b-=M,y>=x)S=y-x,c.window[y++]=c.window[S++],c.window[y++]=c.window[S++],M-=2;else{S=y-x;do{S+=c.end}while(S<0);if(M>(p=c.end-S)){if(M-=p,y-S>0&&p>y-S)do{c.window[y++]=c.window[S++]}while(0!=--p);else C(c.window,S,c.window,y,p),y+=p,S+=p,p=0;S=0}}do{c.window[y++]=c.window[S++]}while(0!=--M);break}if(0!=(64&p))return u.msg="invalid distance code",v+=M=g>>3<(M=u.avail_in-v)?g>>3:M,_-=M,g-=M<<3,c.bitb=m,c.bitk=g,u.avail_in=v,u.total_in+=_-u.next_in_index,u.next_in_index=_,c.write=y,-3;d+=h[T+2],p=h[T=3*(f+(d+=m&a[p]))]}break}if(0!=(64&p))return 0!=(32&p)?(v+=M=g>>3<(M=u.avail_in-v)?g>>3:M,_-=M,g-=M<<3,c.bitb=m,c.bitk=g,u.avail_in=v,u.total_in+=_-u.next_in_index,u.next_in_index=_,c.write=y,r):(u.msg="invalid literal/length code",v+=M=g>>3<(M=u.avail_in-v)?g>>3:M,_-=M,g-=M<<3,c.bitb=m,c.bitk=g,u.avail_in=v,u.total_in+=_-u.next_in_index,u.next_in_index=_,c.write=y,-3);if(d+=h[T+2],0==(p=h[T=3*(f+(d+=m&a[p]))])){m>>=h[T+1],g-=h[T+1],c.window[y++]=h[T+2],b--;break}}else m>>=h[T+1],g-=h[T+1],c.window[y++]=h[T+2],b--}while(b>=258&&v>=10);return v+=M=g>>3<(M=u.avail_in-v)?g>>3:M,_-=M,g-=M<<3,c.bitb=m,c.bitk=g,u.avail_in=v,u.total_in+=_-u.next_in_index,u.next_in_index=_,c.write=y,i},k.prototype.huft_build=function(e,n,r,a,s,l,c,u,d,h,f){var p,m,g,_,v,y,b,w,k,M,x,S,T,L,E;M=0,v=r;do{this.c[e[n+M]]++,M++,v--}while(0!=v);if(this.c[0]==r)return c[0]=-1,u[0]=0,i;for(w=u[0],y=1;y<=15&&0==this.c[y];y++);for(b=y,w<y&&(w=y),v=15;0!=v&&0==this.c[v];v--);for(g=v,w>v&&(w=v),u[0]=w,L=1<<y;y<v;y++,L<<=1)if((L-=this.c[y])<0)return-3;if((L-=this.c[v])<0)return-3;for(this.c[v]+=L,this.x[1]=y=0,M=1,T=2;0!=--v;)this.x[T]=y+=this.c[M],T++,M++;v=0,M=0;do{0!=(y=e[n+M])&&(this.v[this.x[y]++]=v),M++}while(++v<r);for(r=this.x[g],this.x[0]=v=0,M=0,_=-1,S=-w,this.u[0]=0,x=0,E=0;b<=g;b++)for(p=this.c[b];0!=p--;){for(;b>S+w;){if(_++,E=(E=g-(S+=w))>w?w:E,(m=1<<(y=b-S))>p+1&&(m-=p+1,T=b,y<E))for(;++y<E&&!((m<<=1)<=this.c[++T]);)m-=this.c[T];if(E=1<<y,this.hn[0]+E>t)return-3;this.u[_]=x=this.hn[0],this.hn[0]+=E,0!=_?(this.x[_]=v,this.r[0]=y,this.r[1]=w,y=v>>>S-w,this.r[2]=x-this.u[_-1]-y,C(this.r,0,d,3*(this.u[_-1]+y),3)):c[0]=x}for(this.r[1]=b-S,M>=r?this.r[0]=192:f[M]<a?(this.r[0]=this.v[M]<256?0:96,this.r[2]=this.v[M++]):(this.r[0]=l[this.v[M]-a]+16+64,this.r[2]=s[this.v[M++]-a]),m=1<<b-S,y=v>>>S;y<E;y+=m)C(this.r,0,d,3*(x+y),3);for(y=1<<b-1;0!=(v&y);y>>>=1)v^=y;for(v^=y,k=(1<<S)-1;(v&k)!=this.x[_];)_--,k=(1<<(S-=w))-1}return 0!=L&&1!=g?o:i},k.prototype.inflate_trees_bits=function(e,t,n,i,r){var a;return this.initWorkArea(19),this.hn[0]=0,-3==(a=this.huft_build(e,0,19,19,null,null,n,t,i,this.hn,this.v))?r.msg="oversubscribed dynamic bit lengths tree":a!=o&&0!=t[0]||(r.msg="incomplete dynamic bit lengths tree",a=-3),a},k.prototype.inflate_trees_dynamic=function(e,t,n,r,a,s,l,c,u){var d;return this.initWorkArea(288),this.hn[0]=0,(d=this.huft_build(n,0,e,257,h,f,s,r,c,this.hn,this.v))!=i||0==r[0]?(-3==d?u.msg="oversubscribed literal/length tree":-4!=d&&(u.msg="incomplete literal/length tree",d=-3),d):(this.initWorkArea(288),(d=this.huft_build(n,e,t,0,p,m,l,a,c,this.hn,this.v))!=i||0==a[0]&&e>257?(-3==d?u.msg="oversubscribed distance tree":d==o?(u.msg="incomplete distance tree",d=-3):-4!=d&&(u.msg="empty distance tree with lengths",d=-3),d):i)},k.prototype.initWorkArea=function(e){null==this.hn&&(this.hn=new Int32Array(1),this.v=new Int32Array(e),this.c=new Int32Array(16),this.r=new Int32Array(3),this.u=new Int32Array(15),this.x=new Int32Array(16)),this.v.length<e&&(this.v=new Int32Array(e));for(var t=0;t<e;t++)this.v[t]=0;for(t=0;t<16;t++)this.c[t]=0;for(t=0;t<3;t++)this.r[t]=0;C(this.c,0,this.u,0,15),C(this.c,0,this.x,0,16)};var x="function"==typeof new Uint8Array(1).subarray;function C(e,t,n,i,r){if(0!=r){if(!e)throw"Undef src";if(!n)throw"Undef dest";0==t&&r==e.length?S(e,n,i):x?S(e.subarray(t,t+r),n,i):1==e.BYTES_PER_ELEMENT&&r>100?S(new Uint8Array(e.buffer,e.byteOffset+t,r),n,i):function(e,t,n,i,r){for(var o=0;o<r;++o)n[i+o]=e[t+o]}(e,t,n,i,r)}}function S(e,t,n){t.set(e,n)}return{inflateBuffer:function(t,a,s,l){t=a?s?new Uint8Array(t,a,s):new Uint8Array(t,a,t.byteLength-a):new Uint8Array(t);var c=new g;c.inflateInit(e,!0),c.next_in=t,c.next_in_index=0,c.avail_in=t.length;for(var u=[],d=0;;){var h=new Uint8Array(32e3);c.next_out=h,c.next_out_index=0,c.avail_out=h.length;var f=c.inflate(n);if(f!=i&&f!=r&&f!=o)throw c.msg;if(0!=c.avail_out){var p=new Uint8Array(h.length-c.avail_out);C(h,0,p,0,h.length-c.avail_out),h=p}if(u.push(h),d+=h.length,f==r||f==o)break}if(l&&(l[0]=(a||0)+c.next_in_index),1==u.length)return u[0].buffer;for(var m=new Uint8Array(d),_=0,v=0;v<u.length;++v){var y=u[v];C(y,0,m,_,y.length),_+=y.length}return m.buffer},arrayCopy:C}}.apply(t,[]))||(e.exports=i)},function(e,t,n){(function(i){var r,o,a;o=[n(0)],void 0===(a="function"==typeof(r=function(e){var t=e.ajaxSettings;t.responseFields.native="responseNative",t.converters["* native"]=!0;var n={},r=0,o={0:200,1223:204},a={},s=i.ajaxSettings.xhr();window.ActiveXObject&&e(window).on("unload",function(){for(var e in a)a[e]()}),n.cors=!!s&&"withCredentials"in s,n.ajax=s=!!s,e.ajaxTransport("native",function(e){var t;if(n.cors||s&&!e.crossDomain)return{send:function(n,i){var s,l=e.xhr(),c=++r,u={};if(l.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)l[s]=e.xhrFields[s];for(s in e.mimeType&&l.overrideMimeType&&l.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)l.setRequestHeader(s,n[s]);t=function(e){return function(){t&&(delete a[c],t=l.onload=l.onerror=null,"abort"===e?l.abort():"error"===e?i(l.status,l.statusText):(l.response&&(u.native=l.response),i(o[l.status]||l.status,l.statusText,u,l.getAllResponseHeaders())))}},l.onload=t(),l.onerror=t("error"),t=a[c]=t("abort");try{l.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),e.getNative=function(t,n){return e.ajax({dataType:"native",url:t,xhrFields:{responseType:"arraybuffer"},success:n})}})?r.apply(t,o):r)||(e.exports=a)}).call(this,n(0))},function(e,t,n){(function(e){!function(e){e.fn.drag=function(t,n,i){var r="string"==typeof t?t:"",o=e.isFunction(t)?t:e.isFunction(n)?n:null;return 0!==r.indexOf("drag")&&(r="drag"+r),i=(t==o?n:i)||{},o?this.bind(r,i,o):this.trigger(r)};var t=e.event,n=t.special,i=n.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(t){var n=e.data(this,i.datakey),r=t.data||{};n.related+=1,e.each(i.defaults,function(e,t){void 0!==r[e]&&(n[e]=r[e])})},remove:function(){e.data(this,i.datakey).related-=1},setup:function(){if(!e.data(this,i.datakey)){var n=e.extend({related:0},i.defaults);e.data(this,i.datakey,n),t.add(this,"touchstart mousedown",i.init,n),this.attachEvent&&this.attachEvent("ondragstart",i.dontstart)}},teardown:function(){(e.data(this,i.datakey)||{}).related||(e.removeData(this,i.datakey),t.remove(this,"touchstart mousedown",i.init),i.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",i.dontstart))},init:function(r){if(!i.touched){var o,a=r.data;if(!(0!=r.which&&a.which>0&&r.which!=a.which)&&!e(r.target).is(a.not)&&(!a.handle||e(r.target).closest(a.handle,r.currentTarget).length)&&(i.touched="touchstart"==r.type?this:null,a.propagates=1,a.mousedown=this,a.interactions=[i.interaction(this,a)],a.target=r.target,a.pageX=r.pageX,a.pageY=r.pageY,a.dragging=null,o=i.hijack(r,"draginit",a),a.propagates))return(o=i.flatten(o))&&o.length&&(a.interactions=[],e.each(o,function(){a.interactions.push(i.interaction(this,a))})),a.propagates=a.interactions.length,!1!==a.drop&&n.drop&&n.drop.handler(r,a),i.textselect(!1),i.touched?t.add(i.touched,"touchmove touchend",i.handler,a):t.add(document,"mousemove mouseup",i.handler,a),!(!i.touched||a.live)&&void 0}},interaction:function(t,n){var r=e(t)[n.relative?"position":"offset"]()||{top:0,left:0};return{drag:t,callback:new i.callback,droppable:[],offset:r}},handler:function(r){var o=r.data;switch(r.type){case!o.dragging&&"touchmove":r.preventDefault();case!o.dragging&&"mousemove":if(Math.pow(r.pageX-o.pageX,2)+Math.pow(r.pageY-o.pageY,2)<Math.pow(o.distance,2))break;r.target=o.target,i.hijack(r,"dragstart",o),o.propagates&&(o.dragging=!0);case"touchmove":r.preventDefault();case"mousemove":if(o.dragging){if(i.hijack(r,"drag",o),o.propagates){!1!==o.drop&&n.drop&&n.drop.handler(r,o);break}r.type="mouseup"}case"touchend":case"mouseup":default:i.touched?t.remove(i.touched,"touchmove touchend",i.handler):t.remove(document,"mousemove mouseup",i.handler),o.dragging?(!1!==o.drop&&n.drop&&n.drop.handler(r,o),i.hijack(r,"dragend",o)):i.hijack(r,"dragclickonly",o),i.textselect(!0),!1===o.click&&o.dragging&&e.data(o.mousedown,"suppress.click",(new Date).getTime()+5),o.dragging=i.touched=!1}},hijack:function(n,r,o,a,s){if(o){var l,c,u,d={event:n.originalEvent,type:n.type},h=r.indexOf("drop")?"drag":"drop",f=a||0,p=isNaN(a)?o.interactions.length:a;n.type=r,n.originalEvent=null,o.results=[];do{if(c=o.interactions[f]){if("dragend"!==r&&c.cancelled)continue;u=i.properties(n,o,c),c.results=[],e(s||c[h]||o.droppable).each(function(a,s){if(u.target=s,n.isPropagationStopped=function(){return!1},!1===(l=s?t.dispatch.call(s,n,u):null)?("drag"==h&&(c.cancelled=!0,o.propagates-=1),"drop"==r&&(c[h][a]=null)):"dropinit"==r&&c.droppable.push(i.element(l)||s),"dragstart"==r&&(c.proxy=e(i.element(l)||c.drag)[0]),c.results.push(l),delete n.result,"dropinit"!==r)return l}),o.results[f]=i.flatten(c.results),"dropinit"==r&&(c.droppable=i.flatten(c.droppable)),"dragstart"!=r||c.cancelled||u.update()}}while(++f<p);return n.type=d.type,n.originalEvent=d.event,i.flatten(o.results)}},properties:function(e,t,n){var r=n.callback;return r.drag=n.drag,r.proxy=n.proxy||n.drag,r.startX=t.pageX,r.startY=t.pageY,r.deltaX=e.pageX-t.pageX,r.deltaY=e.pageY-t.pageY,r.originalX=n.offset.left,r.originalY=n.offset.top,r.offsetX=r.originalX+r.deltaX,r.offsetY=r.originalY+r.deltaY,r.drop=i.flatten((n.drop||[]).slice()),r.available=i.flatten((n.droppable||[]).slice()),r},element:function(e){if(e&&(e.jquery||1==e.nodeType))return e},flatten:function(t){return e.map(t,function(t){return t&&t.jquery?e.makeArray(t):t&&t.length?i.flatten(t):t})},textselect:function(t){e(document)[t?"unbind":"bind"]("selectstart",i.dontstart).css("MozUserSelect",t?"":"none"),document.unselectable=t?"off":"on"},dontstart:function(){return!1},callback:function(){}};i.callback.prototype={update:function(){n.drop&&this.available.length&&e.each(this.available,function(e){n.drop.locate(this,e)})}};var r=t.dispatch;t.dispatch=function(t){if(!(e.data(this,"suppress."+t.type)-(new Date).getTime()>0))return r.apply(this,arguments);e.removeData(this,"suppress."+t.type)};var o=t.fixHooks.touchstart=t.fixHooks.touchmove=t.fixHooks.touchend=t.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(t,n){if(n){var i=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0]||null;i&&e.each(o.props,function(e,n){t[n]=i[n]})}return t}};n.draginit=n.dragstart=n.dragend=i}(e)}).call(this,n(0))},function(e,t,n){(function(e){!function(e){e.fn._hover=e.fn.hover,e.fn.hover=function(e,t,n){return n&&this.bind("hoverstart",e),t&&this.bind("hoverend",n||t),e?this.bind("hover",n?t:e):this.trigger("hover")};var t=e.event.special.hover={delay:100,speed:100,setup:function(i){i=e.extend({speed:t.speed,delay:t.delay,hovered:0},i||{}),e.event.add(this,"mouseenter mouseleave",n,i)},teardown:function(){e.event.remove(this,"mouseenter mouseleave",n)}};function n(t){var i=t.data||t;switch(t.type){case"mouseenter":i.dist2=0,i.event=t,t.type="hoverstart",!1!==e.event.dispatch.call(this,t)&&(i.elem=this,e.event.add(this,"mousemove",n,i),i.timer=setTimeout(r,i.delay));break;case"mousemove":i.dist2+=Math.pow(t.pageX-i.event.pageX,2)+Math.pow(t.pageY-i.event.pageY,2),i.event=t;break;case"mouseleave":clearTimeout(i.timer),i.hovered?(t.type="hoverend",e.event.dispatch.call(this,t),i.hovered--):e.event.remove(i.elem,"mousemove",n);break;default:i.dist2<=Math.pow(i.speed*(i.delay/1e3),2)?(e.event.remove(i.elem,"mousemove",n),i.event.type="hover",!1!==e.event.dispatch.call(i.elem,i.event)&&i.hovered++):i.timer=setTimeout(r,i.delay),i.dist2=0}function r(){n(i)}}}(e)}).call(this,n(0))},function(e,t,n){var i,r,o;
/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */r=[n(0)],void 0===(o="function"==typeof(i=function(e){var t,n,i=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o=Array.prototype.slice;if(e.event.fixHooks)for(var a=i.length;a;)e.event.fixHooks[i[--a]]=e.event.mouseHooks;var s=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],l,!1);else this.onmousewheel=l;e.data(this,"mousewheel-line-height",s.getLineHeight(this)),e.data(this,"mousewheel-page-height",s.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],l,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),i=n["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(i){var r=i||window.event,a=o.call(arguments,1),l=0,d=0,h=0,f=0,p=0,m=0;if((i=e.event.fix(r)).type="mousewheel","detail"in r&&(h=-1*r.detail),"wheelDelta"in r&&(h=r.wheelDelta),"wheelDeltaY"in r&&(h=r.wheelDeltaY),"wheelDeltaX"in r&&(d=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(d=-1*h,h=0),l=0===h?d:h,"deltaY"in r&&(h=-1*r.deltaY,l=h),"deltaX"in r&&(d=r.deltaX,0===h&&(l=-1*d)),0!==h||0!==d){if(1===r.deltaMode){var g=e.data(this,"mousewheel-line-height");l*=g,h*=g,d*=g}else if(2===r.deltaMode){var _=e.data(this,"mousewheel-page-height");l*=_,h*=_,d*=_}if(f=Math.max(Math.abs(h),Math.abs(d)),(!n||f<n)&&(n=f,u(r,f)&&(n/=40)),u(r,f)&&(l/=40,d/=40,h/=40),l=Math[l>=1?"floor":"ceil"](l/n),d=Math[d>=1?"floor":"ceil"](d/n),h=Math[h>=1?"floor":"ceil"](h/n),s.settings.normalizeOffset&&this.getBoundingClientRect){var v=this.getBoundingClientRect();p=i.clientX-v.left,m=i.clientY-v.top}return i.deltaX=d,i.deltaY=h,i.deltaFactor=n,i.offsetX=p,i.offsetY=m,i.deltaMode=0,a.unshift(i,l,d,h),t&&clearTimeout(t),t=setTimeout(c,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function c(){n=null}function u(e,t){return s.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})?i.apply(t,r):i)||(e.exports=o)},function(e,t,n){(function(e){!function(e){void 0===e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var n=e([0]),i=-1,r=this.length;++i<r&&(n.context=n[0]=this[i])&&!1!==t.call(n[0],i,n););return this}})}(e),function(e,t){"use strict";if(window.Select2===t){var n,i,r,o,a,s,l,c={x:0,y:0},u={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case u.LEFT:case u.RIGHT:case u.UP:case u.DOWN:return!0}return!1},isControl:function(e){switch(e.which){case u.SHIFT:case u.CTRL:case u.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return(e=e.which?e.which:e)>=112&&e<=123}},d="<div class='select2-measure-scrollbar'></div>",h={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};s=e(document),o=function(){var e=1;return function(){return e++}}(),i=O(n=O(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var i,r;this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+o()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",n.element.attr("title")),this.body=e("body"),k(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(E(n.containerCss,this.opts.element)),this.container.addClass(E(n.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",w),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),k(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(E(n.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",w),this.results=i=this.container.find(".select2-results"),this.search=r=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",w),function(n){n.on("mousemove",function(n){var i=c;i!==t&&i.x===n.pageX&&i.y===n.pageY||e(n.target).trigger("mousemove-filtered",n)})}(this.results),this.dropdown.on("mousemove-filtered",".select2-results",this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",".select2-results",this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",".select2-results",this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",".select2-results",this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(e){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),function(e,t){var n=b(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){m(e.target,t.get())>=0&&n(e)})}(80,this.results),this.dropdown.on("scroll-debounced",".select2-results",this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&i.mousewheel(function(e,t,n,r){var o=i.scrollTop();r>0&&o-r<=0?(i.scrollTop(0),w(e)):r<0&&i.get(0).scrollHeight-i.scrollTop()+r<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),w(e))}),y(r),r.on("keyup-change input paste",this.bind(this.updateResults)),r.on("focus",function(){r.addClass("select2-focused")}),r.on("blur",function(){r.removeClass("select2-focused")}),this.dropdown.on("mouseup",".select2-results",this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.nextSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var a=n.element.prop("disabled");a===t&&(a=!1),this.enable(!a);var s=n.element.prop("readonly");s===t&&(s=!1),this.readonly(s),l=l||function(){var t=e(d);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",n.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,n=e.data("select2"),i=this;this.close(),e.length&&e[0].detachEvent&&e.each(function(){this.detachEvent("onpropertychange",i._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,n!==t&&(n.container.remove(),n.liveRegion.remove(),n.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show()),D.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:g(e.attr("locked"),"locked")||g(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(n){var i,r,a,s,l=this;if("select"===(i=n.element).get(0).tagName.toLowerCase()&&(this.select=r=n.element),r&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),"function"!=typeof(n=e.extend({},{populateResults:function(i,r,a){var s,c=this.opts.id,u=this.liveRegion;(s=function(i,r,d){var h,f,p,m,g,_,v,y,b,w,k=[];for(h=0,f=(i=n.sortResults(i,r,a)).length;h<f;h+=1)m=!(g=!0===(p=i[h]).disabled)&&c(p)!==t,_=p.children&&p.children.length>0,(v=e("<li></li>")).addClass("select2-results-dept-"+d),v.addClass("select2-result"),v.addClass(m?"select2-result-selectable":"select2-result-unselectable"),g&&v.addClass("select2-disabled"),_&&v.addClass("select2-result-with-children"),v.addClass(l.opts.formatResultCssClass(p)),v.attr("role","presentation"),(y=e(document.createElement("div"))).addClass("select2-result-label"),y.attr("id","select2-result-label-"+o()),y.attr("role","option"),(w=n.formatResult(p,y,a,l.opts.escapeMarkup))!==t&&(y.html(w),v.append(y)),_&&((b=e("<ul></ul>")).addClass("select2-result-sub"),s(p.children,b,d+1),v.append(b)),v.data("select2-data",p),k.push(v[0]);r.append(k),u.text(n.formatMatches(i.length))})(r,i,0)}},e.fn.select2.defaults,n)).id&&(a=n.id,n.id=function(e){return e[a]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(r?(n.query=this.bind(function(e){var n,r,o,a={results:[],more:!1},s=e.term;o=function(t,n){var i;t.is("option")?e.matcher(s,t.text(),t)&&n.push(l.optionToData(t)):t.is("optgroup")&&(i=l.optionToData(t),t.children().each2(function(e,t){o(t,i.children)}),i.children.length>0&&n.push(i))},n=i.children(),this.getPlaceholder()!==t&&n.length>0&&(r=this.getPlaceholderOption())&&(n=n.not(r)),n.each2(function(e,t){o(t,a.results)}),e.callback(a)}),n.id=function(e){return e.id}):"query"in n||("ajax"in n?((s=n.element.data("ajax-url"))&&s.length>0&&(n.ajax.url=s),n.query=C.call(n.element,n.ajax)):"data"in n?n.query=S(n.data):"tags"in n&&(n.query=T(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(t,i){var r=[];e(_(t.val(),n.separator)).each(function(){var t={id:this,text:this},i=n.tags;e.isFunction(i)&&(i=i()),e(i).each(function(){if(g(this.id,t.id))return t=this,!1}),r.push(t)}),i(r)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");if("top"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof n.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return n},monitorSource:function(){var n,i=this.opts.element,r=this;i.on("change.select2",this.bind(function(e){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()})),this._sync=this.bind(function(){var e=i.prop("disabled");e===t&&(e=!1),this.enable(!e);var n=i.prop("readonly");n===t&&(n=!1),this.readonly(n),k(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(E(this.opts.containerCssClass,this.opts.element)),k(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(E(this.opts.dropdownCssClass,this.opts.element))}),i.length&&i[0].attachEvent&&i.each(function(){this.attachEvent("onpropertychange",r._sync)}),(n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(function(t){e.each(t,r._sync)}),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,i,r,o,a=this.dropdown,s=this.container.offset(),c=this.container.outerHeight(!1),u=this.container.outerWidth(!1),d=a.outerHeight(!1),h=e(window),f=h.width(),p=h.height(),m=h.scrollLeft()+f,g=h.scrollTop()+p,_=s.top+c,v=s.left,y=_+d<=g,b=s.top-d>=h.scrollTop(),w=a.outerWidth(!1),k=v+w<=m;a.hasClass("select2-drop-above")?(n=!0,!b&&y&&(i=!0,n=!1)):(n=!1,!y&&b&&(i=!0,n=!0)),i&&(a.hide(),s=this.container.offset(),c=this.container.outerHeight(!1),u=this.container.outerWidth(!1),d=a.outerHeight(!1),m=h.scrollLeft()+f,g=h.scrollTop()+p,_=s.top+c,k=(v=s.left)+(w=a.outerWidth(!1))<=m,a.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(o=e(".select2-results",a)[0],a.addClass("select2-drop-auto-width"),a.css("width",""),(w=a.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:l.width))>u?u=w:w=u,d=a.outerHeight(!1),k=v+w<=m):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(_-=(t=this.body.offset()).top,v-=t.left),k||(v=s.left+this.container.outerWidth(!1)-w),r={left:v,width:u},n?(r.top=s.top-d,r.bottom="auto",this.container.addClass("select2-drop-above"),a.addClass("select2-drop-above")):(r.top=_,r.bottom="auto",this.container.removeClass("select2-drop-above"),a.removeClass("select2-drop-above")),r=e.extend(r,E(this.opts.dropdownCss,this.opts.element)),a.css(r)},shouldOpen:function(){var t;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),s.on("mousemove.select2Event",function(e){c.x=e.pageX,c.y=e.pageY}),!0)},opening:function(){var t,n=this.containerEventName,i="scroll."+n,r="resize."+n,o="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),0==(t=e("#select2-drop-mask")).length&&((t=e(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(n){f(t);var i,r=e("#select2-drop");r.length>0&&((i=r.data("select2")).opts.selectOnBlur&&i.selectHighlighted({noFocus:!0}),i.close(),n.preventDefault(),n.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each(function(){e(this).on(r+" "+i+" "+o,function(e){a.opened()&&a.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,n="scroll."+t,i="resize."+t,r="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(i).off(r)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),s.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return E(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,n,i,r,o,a,s,l,c=this.results;(n=this.highlight())<0||(0!=n?(t=this.findHighlightableChoices().find(".select2-result-label"),r=(l=((i=e(t[n])).offset()||{}).top||0)+i.outerHeight(!0),n===t.length-1&&(s=c.find("li.select2-more-results")).length>0&&(r=s.offset().top+s.outerHeight(!0)),r>(o=c.offset().top+c.outerHeight(!0))&&c.scrollTop(c.scrollTop()+(r-o)),(a=l-c.offset().top)<0&&"none"!=i.css("display")&&c.scrollTop(c.scrollTop()+a)):c.scrollTop(0))},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<n.length;){var r=e(n[i+=t]);if(r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(t){var n,i,r=this.findHighlightableChoices();if(0===arguments.length)return m(r.filter(".select2-highlighted")[0],r.get());t>=r.length&&(t=r.length-1),t<0&&(t=0),this.removeHighlight(),(n=e(r[t])).addClass("select2-highlighted"),this.search.attr("aria-activedescendant",n.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(n.text()),(i=n.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e=this.results,t=e.find("li.select2-more-results"),n=this.resultsPage+1,i=this,r=this.search.val(),o=this.context;0!==t.length&&t.offset().top-e.offset().top-e.height()<=this.opts.loadMorePadding&&(t.addClass("select2-active"),this.opts.query({element:this.opts.element,term:r,page:n,context:o,matcher:this.opts.matcher,callback:this.bind(function(a){i.opened()&&(i.opts.populateResults.call(this,e,a.results,{term:r,page:n,context:o}),i.postprocessResults(a,!1,!1),!0===a.more?(t.detach().appendTo(e).text(E(i.opts.formatLoadMore,i.opts.element,n+1)),window.setTimeout(function(){i.loadMoreIfNeeded()},10)):t.remove(),i.positionDropdown(),i.resultsPage=n,i.context=a.context,this.opts.element.trigger({type:"select2-loaded",items:a}))})}))},tokenize:function(){},updateResults:function(n){var i,r,o,a=this.search,s=this.results,l=this.opts,c=this,u=a.val(),d=e.data(this.container,"select2-last-term");if((!0===n||!d||!g(u,d))&&(e.data(this.container,"select2-last-term",u),!0===n||!1!==this.showSearchInput&&this.opened())){o=++this.queryCount;var h=this.getMaximumSelectionSize();if(!(h>=1&&(i=this.data(),e.isArray(i)&&i.length>=h&&L(l.formatSelectionTooBig,"formatSelectionTooBig"))))return a.val().length<l.minimumInputLength?(L(l.formatInputTooShort,"formatInputTooShort")?p("<li class='select2-no-results'>"+E(l.formatInputTooShort,l.element,a.val(),l.minimumInputLength)+"</li>"):p(""),void(n&&this.showSearch&&this.showSearch(!0))):void(l.maximumInputLength&&a.val().length>l.maximumInputLength?L(l.formatInputTooLong,"formatInputTooLong")?p("<li class='select2-no-results'>"+E(l.formatInputTooLong,l.element,a.val(),l.maximumInputLength)+"</li>"):p(""):(l.formatSearching&&0===this.findHighlightableChoices().length&&p("<li class='select2-searching'>"+E(l.formatSearching,l.element)+"</li>"),a.addClass("select2-active"),this.removeHighlight(),(r=this.tokenize())!=t&&null!=r&&a.val(r),this.resultsPage=1,l.query({element:l.element,term:a.val(),page:this.resultsPage,context:null,matcher:l.matcher,callback:this.bind(function(i){var r;o==this.queryCount&&(this.opened()?i.hasError!==t&&L(l.formatAjaxError,"formatAjaxError")?p("<li class='select2-ajax-error'>"+E(l.formatAjaxError,l.element,i.jqXHR,i.textStatus,i.errorThrown)+"</li>"):(this.context=i.context===t?null:i.context,this.opts.createSearchChoice&&""!==a.val()&&(r=this.opts.createSearchChoice.call(c,a.val(),i.results))!==t&&null!==r&&c.id(r)!==t&&null!==c.id(r)&&0===e(i.results).filter(function(){return g(c.id(this),c.id(r))}).length&&this.opts.createSearchChoicePosition(i.results,r),0===i.results.length&&L(l.formatNoMatches,"formatNoMatches")?p("<li class='select2-no-results'>"+E(l.formatNoMatches,l.element,a.val())+"</li>"):(s.empty(),c.opts.populateResults.call(this,s,i.results,{term:a.val(),page:this.resultsPage,context:null}),!0===i.more&&L(l.formatLoadMore,"formatLoadMore")&&(s.append("<li class='select2-more-results'>"+l.escapeMarkup(E(l.formatLoadMore,l.element,this.resultsPage))+"</li>"),window.setTimeout(function(){c.loadMoreIfNeeded()},10)),this.postprocessResults(i,n),f(),this.opts.element.trigger({type:"select2-loaded",items:i}))):this.search.removeClass("select2-active"))})})));p("<li class='select2-selection-limit'>"+E(l.formatSelectionTooBig,l.element,h)+"</li>")}function f(){a.removeClass("select2-active"),c.positionDropdown(),s.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?c.liveRegion.text(s.text()):c.liveRegion.text(c.opts.formatMatches(s.find(".select2-result-selectable").length))}function p(e){s.html(e),f()}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){!function(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],i=e.val().length;e.focus(),(n.offsetWidth>0||n.offsetHeight>0)&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&((t=n.createTextRange()).collapse(!1),t.select()))},0)}(this.search)},selectHighlighted:function(e){if(this._touchMoved)this.clearTouchMoved();else{var t=this.highlight(),n=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");n?(this.highlight(t),this.onSelect(n,e)):e&&e.noFocus&&this.close()}},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var n=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&n||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(n.text())&&""===n.val())return n}},initContainerWidth:function(){var n=function(){var n,i,r,o,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if((n=this.opts.element.attr("style"))!==t)for(o=0,a=(i=n.split(";")).length;o<a;o+=1)if(null!==(r=i[o].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&r.length>=1)return r[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width")).indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==n&&this.container.css("width",n)}}),{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,i,r;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),(n=this.search.get(0)).createTextRange?((i=n.createTextRange()).collapse(!1),i.select()):n.setSelectionRange&&(r=this.search.val().length,n.setSelectionRange(r,r))),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),D.call(this,"selection","focusser")},initContainer:function(){var t,n,i=this.container,r=this.dropdown,a=o();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+a),this.focusser.attr("aria-labelledby","select2-chosen-"+a),this.results.attr("id","select2-results-"+a),this.search.attr("aria-owns","select2-results-"+a),this.focusser.attr("id","s2id_autogen"+a),n=e("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(n.text()).attr("for",this.focusser.attr("id"));var s=this.opts.element.attr("title");this.opts.element.attr("title",s||n.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&229!=e.keyCode)if(e.which!==u.PAGE_UP&&e.which!==u.PAGE_DOWN)switch(e.which){case u.UP:case u.DOWN:return this.moveHighlight(e.which===u.UP?-1:1),void w(e);case u.ENTER:return this.selectHighlighted(),void w(e);case u.TAB:return void this.selectHighlighted({noFocus:!0});case u.ESC:return this.cancel(e),void w(e)}else w(e)})),this.search.on("blur",this.bind(function(e){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==u.TAB&&!u.isControl(e)&&!u.isFunctionKey(e)&&e.which!==u.ESC){if(!1!==this.opts.openOnEnter||e.which!==u.ENTER){if(e.which==u.DOWN||e.which==u.UP||e.which==u.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void w(e)}return e.which==u.DELETE||e.which==u.BACKSPACE?(this.opts.allowClear&&this.clear(),void w(e)):void 0}w(e)}})),y(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),function(e){e.preventDefault(),e.stopImmediatePropagation()}(e),this.close(),this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(n){f(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),w(n)})),r.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(e){w(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var i=e.Event("select2-clearing");if(this.opts.element.trigger(i),i.isDefaultPrevented())return;var r=this.getPlaceholderOption();this.opts.element.val(r?r.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==t&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder(),e.nextSearchTerm=e.opts.nextSearchTerm(n,e.search.val()))})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()!==t&&((e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val())},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=e.find("option").filter(function(){return this.selected&&!this.disabled});t(n.optionToData(i))}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var r=n.val(),o=null;t.query({matcher:function(e,n,i){var a=g(r,t.id(i));return a&&(o=i),a},callback:e.isFunction(i)?function(){i(o)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,n,i){var r=0,o=this;if(this.findHighlightableChoices().each2(function(e,t){if(g(o.id(t.data("select2-data")),o.opts.element.val()))return r=e,!1}),!1!==i&&(!0===n&&r>=0?this.highlight(r):this.highlight(0)),!0===n){var a=this.opts.minimumResultsForSearch;a>=0&&this.showSearch(function t(n){var i=0;return e.each(n,function(e,n){n.children?i+=t(n.children):i++}),i}(t.results)>=a)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),g(n,this.id(e))||this.triggerChange({added:e,removed:i})}},updateSelection:function(e){var n,i,r=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),r.empty(),null!==e&&(n=this.opts.formatSelection(e,r,this.opts.escapeMarkup)),n!==t&&r.append(n),(i=this.opts.formatSelectionCssClass(e,r))!==t&&r.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,i=null,r=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return i=r.optionToData(t),!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange({added:i,removed:o});else{if(!e&&0!==e)return void this.clear(n);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){r.opts.element.val(e?r.id(e):""),r.updateSelection(e),r.setPlaceholder(),n&&r.triggerChange({added:e,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n,i=!1;if(0===arguments.length)return(n=this.selection.data("select2-data"))==t&&(n=null),n;arguments.length>1&&(i=arguments[1]),e?(n=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),i&&this.triggerChange({added:e,removed:n})):this.clear(i)}}),r=O(n,{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){i.push(n.optionToData(t))}),t(i)}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var r=_(n.val(),t.separator),o=[];t.query({matcher:function(n,i,a){var s=e.grep(r,function(e){return g(e,t.id(a))}).length;return s&&o.push(a),s},callback:e.isFunction(i)?function(){for(var e=[],n=0;n<r.length;n++)for(var a=r[n],s=0;s<o.length;s++){var l=o[s];if(g(a,t.id(l))){e.push(l),o.splice(s,1);break}}i(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),D.call(this,"searchContainer","selection")},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n);var i=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(t){i.search[0].focus(),i.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+o()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(n){if(this.isInterfaceEnabled()){++this.keydowns;var i=t.find(".select2-search-choice-focus"),r=i.prev(".select2-search-choice:not(.select2-locked)"),o=i.next(".select2-search-choice:not(.select2-locked)"),a=function(t){var n=0,i=0;if("selectionStart"in(t=e(t)[0]))n=t.selectionStart,i=t.selectionEnd-n;else if("selection"in document){t.focus();var r=document.selection.createRange();i=document.selection.createRange().text.length,r.moveStart("character",-t.value.length),n=r.text.length-i}return{offset:n,length:i}}(this.search);if(i.length&&(n.which==u.LEFT||n.which==u.RIGHT||n.which==u.BACKSPACE||n.which==u.DELETE||n.which==u.ENTER)){var s=i;return n.which==u.LEFT&&r.length?s=r:n.which==u.RIGHT?s=o.length?o:null:n.which===u.BACKSPACE?this.unselect(i.first())&&(this.search.width(10),s=r.length?r:o):n.which==u.DELETE?this.unselect(i.first())&&(this.search.width(10),s=o.length?o:null):n.which==u.ENTER&&(s=null),this.selectChoice(s),w(n),void(s&&s.length||this.open())}if((n.which===u.BACKSPACE&&1==this.keydowns||n.which==u.LEFT)&&0==a.offset&&!a.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void w(n);if(this.selectChoice(null),this.opened())switch(n.which){case u.UP:case u.DOWN:return this.moveHighlight(n.which===u.UP?-1:1),void w(n);case u.ENTER:return this.selectHighlighted(),void w(n);case u.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case u.ESC:return this.cancel(n),void w(n)}if(n.which!==u.TAB&&!u.isControl(n)&&!u.isFunctionKey(n)&&n.which!==u.BACKSPACE&&n.which!==u.ESC){if(n.which===u.ENTER){if(!1===this.opts.openOnEnter)return;if(n.altKey||n.ctrlKey||n.shiftKey||n.metaKey)return}this.open(),n.which!==u.PAGE_UP&&n.which!==u.PAGE_DOWN||w(n),n.which===u.ENTER&&w(n)}}})),this.search.on("keyup",this.bind(function(e){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],i=[],r=this;e(t).each(function(){m(r.id(this),n)<0&&(n.push(r.id(this)),i.push(this))}),t=i,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){r.addSelectedChoice(this)}),r.postprocessResults()},tokenize:function(){var e=this.search.val();null!=(e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts))&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,n){this.triggerSelect(e)&&""!==e.text&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.moveHighlight(1),!this.select&&this.opts.closeOnSelect||this.postprocessResults(e,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.clearSearch(),this.updateResults(),this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),n&&n.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,r,o=!n.locked,a=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=o?a:s,c=this.id(n),u=this.getVal();(i=this.opts.formatSelection(n,l.find("div"),this.opts.escapeMarkup))!=t&&l.find("div").replaceWith("<div>"+i+"</div>"),(r=this.opts.formatSelectionCssClass(n,l.find("div")))!=t&&l.addClass(r),o&&l.find(".select2-search-choice-close").on("mousedown",w).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),w(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",n),l.insertBefore(this.searchContainer),u.push(c),this.setVal(u)},unselect:function(t){var n,i,r=this.getVal();if(0===(t=t.closest(".select2-search-choice")).length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(n=t.data("select2-data")){var o=e.Event("select2-removing");if(o.val=this.id(n),o.choice=n,this.opts.element.trigger(o),o.isDefaultPrevented())return!1;for(;(i=m(this.id(n),r))>=0;)r.splice(i,1),this.setVal(r),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}),!0}},postprocessResults:function(e,t,n){var i=this.getVal(),r=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),a=this;r.each2(function(e,t){m(a.id(t.data("select2-data")),i)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),o.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&!1!==n&&a.highlight(0),!this.opts.createSearchChoice&&!r.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&L(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+E(a.opts.formatNoMatches,a.opts.element,a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-v(this.search)},resizeSearch:function(){var t,n,i,r,o=v(this.search);t=function(t){if(!a){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);(a=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),e("body").append(a)}return a.text(t.val()),a.width()}(this.search)+10,n=this.search.offset().left,(r=(i=this.selection.width())-(n-this.selection.offset().left)-o)<t&&(r=i-o),r<40&&(r=i-o),r<=0&&(r=t),this.search.width(Math.floor(r))},getVal:function(){var e;return this.select?null===(e=this.select.val())?[]:e:_(e=this.opts.element.val(),this.opts.separator)},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){m(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(e,t){t=t.slice(0),e=e.slice(0);for(var n=0;n<t.length;n++)for(var i=0;i<e.length;i++)g(this.opts.id(t[n]),this.opts.id(e[i]))&&(t.splice(n,1),n>0&&n--,e.splice(i,1),i--);return{added:t,removed:e}},val:function(n,i){var r,o=this;if(0===arguments.length)return this.getVal();if((r=this.data()).length||(r=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:r}));if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(r,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,o.id);o.setVal(n),o.updateSelection(t),o.clearSearch(),i&&o.triggerChange(o.buildChangeDetails(r,o.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var i,r,o=this;if(0===arguments.length)return this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get();r=this.data(),t||(t=[]),i=e.map(t,function(e){return o.opts.id(e)}),this.setVal(i),this.updateSelection(t),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(r,this.data()))}}),e.fn.select2=function(){var n,i,r,o,a,s=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],c=["opened","isFocused","container","dropdown"],u=["val","data"],d={search:"externalSearch"};return this.each(function(){if(0===s.length||"object"==typeof s[0])(n=0===s.length?{}:e.extend({},s[0])).element=e(this),"select"===n.element.get(0).tagName.toLowerCase()?a=n.element.prop("multiple"):(a=n.multiple||!1,"tags"in n&&(n.multiple=a=!0)),(i=a?new window.Select2.class.multi:new window.Select2.class.single).init(n);else{if("string"!=typeof s[0])throw"Invalid arguments to select2 plugin: "+s;if(m(s[0],l)<0)throw"Unknown method: "+s[0];if(o=t,(i=e(this).data("select2"))===t)return;if("container"===(r=s[0])?o=i.container:"dropdown"===r?o=i.dropdown:(d[r]&&(r=d[r]),o=i[r].apply(i,s.slice(1))),m(s[0],c)>=0||m(s[0],u)>=0&&1==s.length)return!1}}),o===t?this:o},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,i){var r=[];return M(e.text,n.term,r,i),r.join("")},formatSelection:function(e,n,i){return e?i(e.text):t},sortResults:function(e,t,n){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(e,n){return t},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},matcher:function(e,t){return p(""+t).toUpperCase().indexOf(p(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:function(e,n,i,r){var o,a,s,l,c,u=e,d=!1;if(!r.createSearchChoice||!r.tokenSeparators||r.tokenSeparators.length<1)return t;for(;;){for(a=-1,s=0,l=r.tokenSeparators.length;s<l&&(c=r.tokenSeparators[s],!((a=e.indexOf(c))>=0));s++);if(a<0)break;if(o=e.substring(0,a),e=e.substring(a+c.length),o.length>0&&(o=r.createSearchChoice.call(this,o,n))!==t&&null!==o&&r.id(o)!==t&&null!==r.id(o)){for(d=!1,s=0,l=n.length;s<l;s++)if(g(r.id(o),r.id(n[s]))){d=!0;break}d||i(o)}}return u!==e?e:void 0},escapeMarkup:x,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null},nextSearchTerm:function(e,n){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){return!("ontouchstart"in window||navigator.msMaxTouchPoints>0)||!(e.opts.minimumResultsForSearch<0)}},e.fn.select2.locales=[],e.fn.select2.locales.en={formatMatches:function(e){return 1===e?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(e,t,n){return"Loading failed"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" or more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(e){return"Loading more results…"},formatSearching:function(){return"Searching…"}},e.extend(e.fn.select2.defaults,e.fn.select2.locales.en),e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:C,local:S,tags:T},util:{debounce:b,markMatch:M,escapeMarkup:x,stripDiacritics:p},class:{abstract:n,single:i,multi:r}}}function f(t){var n=e(document.createTextNode(""));t.before(n),n.before(t),n.remove()}function p(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return h[e]||e})}function m(e,t){for(var n=0,i=t.length;n<i;n+=1)if(g(e,t[n]))return n;return-1}function g(e,n){return e===n||e!==t&&n!==t&&(null!==e&&null!==n&&(e.constructor===String?e+""==n+"":n.constructor===String&&n+""==e+""))}function _(t,n){var i,r,o;if(null===t||t.length<1)return[];for(r=0,o=(i=t.split(n)).length;r<o;r+=1)i[r]=e.trim(i[r]);return i}function v(e){return e.outerWidth(!1)-e.width()}function y(n){var i="keyup-change-value";n.on("keydown",function(){e.data(n,i)===t&&e.data(n,i,n.val())}),n.on("keyup",function(){var r=e.data(n,i);r!==t&&n.val()!==r&&(e.removeData(n,i),n.trigger("keyup-change"))})}function b(e,n,i){var r;return i=i||t,function(){var t=arguments;window.clearTimeout(r),r=window.setTimeout(function(){n.apply(i,t)},e)}}function w(e){e.preventDefault(),e.stopPropagation()}function k(t,n,i){var r,o,a=[];(r=e.trim(t.attr("class")))&&e((r=""+r).split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&a.push(this)}),(r=e.trim(n.attr("class")))&&e((r=""+r).split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(o=i(this))&&a.push(o)}),t.attr("class",a.join(" "))}function M(e,t,n,i){var r=p(e.toUpperCase()).indexOf(p(t.toUpperCase())),o=t.length;r<0?n.push(i(e)):(n.push(i(e.substring(0,r))),n.push("<span class='select2-match'>"),n.push(i(e.substring(r,r+o))),n.push("</span>"),n.push(i(e.substring(r+o,e.length))))}function x(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function C(n){var i,r=null,o=n.quietMillis||100,a=n.url,s=this;return function(l){window.clearTimeout(i),i=window.setTimeout(function(){var i=n.data,o=a,c=n.transport||e.fn.select2.ajaxDefaults.transport,u={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},d=e.extend({},e.fn.select2.ajaxDefaults.params,u);i=i?i.call(s,l.term,l.page,l.context):null,o="function"==typeof o?o.call(s,l.term,l.page,l.context):o,r&&"function"==typeof r.abort&&r.abort(),n.params&&(e.isFunction(n.params)?e.extend(d,n.params.call(s)):e.extend(d,n.params)),e.extend(d,{url:o,dataType:n.dataType,data:i,success:function(e){var t=n.results(e,l.page,l);l.callback(t)},error:function(e,t,n){var i={hasError:!0,jqXHR:e,textStatus:t,errorThrown:n};l.callback(i)}}),r=c.call(s,d)},o)}}function S(t){var n,i,r=t,o=function(e){return""+e.text};e.isArray(r)&&(r={results:i=r}),!1===e.isFunction(r)&&(i=r,r=function(){return i});var a=r();return a.text&&(o=a.text,e.isFunction(o)||(n=a.text,o=function(e){return e[n]})),function(t){var n,i=t.term,a={results:[]};""!==i?(n=function(r,a){var s,l;if((r=r[0]).children){for(l in s={},r)r.hasOwnProperty(l)&&(s[l]=r[l]);s.children=[],e(r.children).each2(function(e,t){n(t,s.children)}),(s.children.length||t.matcher(i,o(s),r))&&a.push(s)}else t.matcher(i,o(r),r)&&a.push(r)},e(r().results).each2(function(e,t){n(t,a.results)}),t.callback(a)):t.callback(r())}}function T(n){var i=e.isFunction(n);return function(r){var o=r.term,a={results:[]},s=i?n(r):n;e.isArray(s)&&(e(s).each(function(){var e=this.text!==t,n=e?this.text:this;(""===o||r.matcher(o,n))&&a.results.push(e?this:{id:this,text:this})}),r.callback(a))}}function L(t,n){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(n+" must be a string, function, or falsy value")}function E(t,n){if(e.isFunction(t)){var i=Array.prototype.slice.call(arguments,2);return t.apply(n,i)}return t}function D(){var t=this;e.each(arguments,function(e,n){t[n].remove(),t[n]=null})}function O(t,n){var i=function(){};return(i.prototype=new t).constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,n),i}}(e)}).call(this,n(0))},function(e,t,n){(function(e){window.jQuery&&function(e){if(!e.support.opacity&&!e.support.style)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}e.fn.rating=function(t){if(0==this.length)return this;if("string"==typeof arguments[0]){if(this.length>1){var n=arguments;return this.each(function(){e.fn.rating.apply(e(this),n)})}return e.fn.rating[arguments[0]].apply(this,e.makeArray(arguments).slice(1)||[]),this}t=e.extend({},e.fn.rating.options,t||{});return e.fn.rating.calls++,this.not(".star-rating-applied").addClass("star-rating-applied").each(function(){var n,i=e(this),r=(this.name||"unnamed-rating").replace(/\[|\]/g,"_").replace(/^\_+|\_+$/g,""),o=e(this.form||document.body),a=o.data("rating");a&&a.call==e.fn.rating.calls||(a={count:0,call:e.fn.rating.calls});var s=a[r]||o.data("rating"+r);s&&(n=s.data("rating")),s&&n?n.count++:((n=e.extend({},t||{},(e.metadata?i.metadata():e.meta?i.data():null)||{},{count:0,stars:[],inputs:[]})).serial=a.count++,s=e('<span class="star-rating-control"/>'),i.before(s),s.addClass("rating-to-be-drawn"),(i.attr("disabled")||i.hasClass("disabled"))&&(n.readOnly=!0),i.hasClass("required")&&(n.required=!0),s.append(n.cancel=e('<div class="rating-cancel"><a title="'+n.cancel+'">'+n.cancelValue+"</a></div>").on("mouseover",function(){e(this).rating("drain"),e(this).addClass("star-rating-hover")}).on("mouseout",function(){e(this).rating("draw"),e(this).removeClass("star-rating-hover")}).on("click",function(){e(this).rating("select")}).data("rating",n)));var l=e('<div role="text" aria-label="'+this.title+'" class="star-rating rater-'+n.serial+'"><a title="'+(this.title||this.value)+'">'+this.value+"</a></div>");if(s.append(l),this.id&&l.attr("id",this.id),this.className&&l.addClass(this.className),n.half&&(n.split=2),"number"==typeof n.split&&n.split>0){var c=(e.fn.width?l.width():0)||n.starWidth,u=n.count%n.split,d=Math.floor(c/n.split);l.width(d).find("a").css({"margin-left":"-"+u*d+"px"})}n.readOnly?l.addClass("star-rating-readonly"):l.addClass("star-rating-live").on("mouseover",function(){e(this).rating("fill"),e(this).rating("focus")}).on("mouseout",function(){e(this).rating("draw"),e(this).rating("blur")}).on("click",function(){e(this).rating("select")}),this.checked&&(n.current=l),"A"==this.nodeName&&e(this).hasClass("selected")&&(n.current=l),i.hide(),i.on("change.rating",function(t){if(t.selfTriggered)return!1;e(this).rating("select")}),l.data("rating.input",i.data("rating.star",l)),n.stars[n.stars.length]=l[0],n.inputs[n.inputs.length]=i[0],n.rater=a[r]=s,n.context=o,i.data("rating",n),s.data("rating",n),l.data("rating",n),o.data("rating",a),o.data("rating"+r,s)}),e(".rating-to-be-drawn").rating("draw").removeClass("rating-to-be-drawn"),this},e.extend(e.fn.rating,{calls:0,focus:function(){var t=this.data("rating");if(!t)return this;if(!t.focus)return this;var n=e(this).data("rating.input")||e("INPUT"==this.tagName?this:null);t.focus&&t.focus.apply(n[0],[n.val(),e("a",n.data("rating.star"))[0]])},blur:function(){var t=this.data("rating");if(!t)return this;if(!t.blur)return this;var n=e(this).data("rating.input")||e("INPUT"==this.tagName?this:null);t.blur&&t.blur.apply(n[0],[n.val(),e("a",n.data("rating.star"))[0]])},fill:function(){var e=this.data("rating");if(!e)return this;e.readOnly||(this.rating("drain"),this.prevAll().addBack().filter(".rater-"+e.serial).addClass("star-rating-hover"))},drain:function(){var e=this.data("rating");if(!e)return this;e.readOnly||e.rater.children().filter(".rater-"+e.serial).removeClass("star-rating-on").removeClass("star-rating-hover")},draw:function(){var t=this.data("rating");if(!t)return this;this.rating("drain");var n=e(t.current),i=n.length?n.prevAll().addBack().filter(".rater-"+t.serial):null;i&&i.addClass("star-rating-on"),t.cancel[t.readOnly||t.required?"hide":"show"](),this.siblings()[t.readOnly?"addClass":"removeClass"]("star-rating-readonly")},select:function(t,n){var i=this.data("rating");if(!i)return this;if(!i.readOnly){if(i.current=null,void 0!==t||this.length>1){if("number"==typeof t)return e(i.stars[t]).rating("select",void 0,n);if("string"==typeof t)return e.each(i.stars,function(){e(this).data("rating.input").val()==t&&e(this).rating("select",void 0,n)}),this}else i.current="INPUT"==this[0].tagName?this.data("rating.star"):this.is(".rater-"+i.serial)?this:null;this.data("rating",i),this.rating("draw");var r=e(i.current?i.current.data("rating.input"):null),o=e(i.inputs).filter(":checked");return e(i.inputs).not(r).prop("checked",!1),r.prop("checked",!0),e(r.length?r:o).trigger({type:"change",selfTriggered:!0}),(n||void 0==n)&&i.callback&&i.callback.apply(r[0],[r.val(),e("a",i.current)[0]]),this}},readOnly:function(t,n){var i=this.data("rating");if(!i)return this;i.readOnly=!(!t&&void 0!=t),n?e(i.inputs).attr("disabled","disabled"):e(i.inputs).removeAttr("disabled"),this.data("rating",i),this.rating("draw")},disable:function(){this.rating("readOnly",!0,!0)},enable:function(){this.rating("readOnly",!1,!1)}}),e.fn.rating.options={cancel:"Cancel Rating",cancelValue:"",split:0,starWidth:16},e(function(){e("input[type=radio].star").rating()})}(e)}).call(this,n(0))},function(module,exports,__webpack_require__){(function(jQuery,$){if(!WYMeditor)var WYMeditor={};!function(){if(window.console&&console.firebug)WYMeditor.console=window.console;else{var e=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];WYMeditor.console={};for(var t=0;t<e.length;++t)WYMeditor.console[e[t]]=function(){}}}(),jQuery.extend(WYMeditor,{VERSION:"0.5-rc1",INSTANCES:[],STRINGS:[],SKINS:[],NAME:"name",INDEX:"{Wym_Index}",WYM_INDEX:"wym_index",BASE_PATH:"{Wym_Base_Path}",CSS_PATH:"{Wym_Css_Path}",WYM_PATH:"{Wym_Wym_Path}",SKINS_DEFAULT_PATH:"skins/",SKINS_DEFAULT_CSS:"skin.css",SKINS_DEFAULT_JS:"skin.js",LANG_DEFAULT_PATH:"lang/",IFRAME_BASE_PATH:"{Wym_Iframe_Base_Path}",IFRAME_DEFAULT:"iframe/default/",JQUERY_PATH:"{Wym_Jquery_Path}",DIRECTION:"{Wym_Direction}",LOGO:"{Wym_Logo}",TOOLS:"{Wym_Tools}",TOOLS_ITEMS:"{Wym_Tools_Items}",TOOL_NAME:"{Wym_Tool_Name}",TOOL_TITLE:"{Wym_Tool_Title}",TOOL_CLASS:"{Wym_Tool_Class}",CLASSES:"{Wym_Classes}",CLASSES_ITEMS:"{Wym_Classes_Items}",CLASS_NAME:"{Wym_Class_Name}",CLASS_TITLE:"{Wym_Class_Title}",CONTAINERS:"{Wym_Containers}",CONTAINERS_ITEMS:"{Wym_Containers_Items}",CONTAINER_NAME:"{Wym_Container_Name}",CONTAINER_TITLE:"{Wym_Containers_Title}",CONTAINER_CLASS:"{Wym_Container_Class}",HTML:"{Wym_Html}",IFRAME:"{Wym_Iframe}",STATUS:"{Wym_Status}",DIALOG_TITLE:"{Wym_Dialog_Title}",DIALOG_BODY:"{Wym_Dialog_Body}",STRING:"string",BODY:"body",DIV:"div",P:"p",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",PRE:"pre",BLOCKQUOTE:"blockquote",A:"a",BR:"br",IMG:"img",TABLE:"table",TD:"td",TH:"th",UL:"ul",OL:"ol",LI:"li",CLASS:"class",HREF:"href",SRC:"src",TITLE:"title",ALT:"alt",DIALOG_LINK:"Link",DIALOG_IMAGE:"Image",DIALOG_TABLE:"Table",DIALOG_PASTE:"Paste_From_Word",BOLD:"Bold",ITALIC:"Italic",CREATE_LINK:"CreateLink",INSERT_IMAGE:"InsertImage",INSERT_TABLE:"InsertTable",INSERT_HTML:"InsertHTML",PASTE:"Paste",INDENT:"Indent",OUTDENT:"Outdent",TOGGLE_HTML:"ToggleHtml",FORMAT_BLOCK:"FormatBlock",PREVIEW:"Preview",UNLINK:"Unlink",INSERT_UNORDEREDLIST:"InsertUnorderedList",INSERT_ORDEREDLIST:"InsertOrderedList",MAIN_CONTAINERS:new Array("p","h1","h2","h3","h4","h5","h6","pre","blockquote"),BLOCKS:new Array("address","blockquote","div","dl","fieldset","form","h1","h2","h3","h4","h5","h6","hr","noscript","ol","p","pre","table","ul","dd","dt","li","tbody","td","tfoot","th","thead","tr"),KEY:{BACKSPACE:8,ENTER:13,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,CURSOR:new Array(37,38,39,40),DELETE:46},NODE:{ELEMENT:1,ATTRIBUTE:2,TEXT:3},editor:function(e,t){this._index=WYMeditor.INSTANCES.push(this)-1,this._element=e,this._options=t,this._html=jQuery(e).val(),this._options.html&&(this._html=this._options.html),this._options.basePath=this._options.basePath||this.computeBasePath(),this._options.skinPath=this._options.skinPath||this._options.basePath+WYMeditor.SKINS_DEFAULT_PATH+this._options.skin+"/",this._options.wymPath=this._options.wymPath||this.computeWymPath(),this._options.langPath=this._options.langPath||this._options.basePath+WYMeditor.LANG_DEFAULT_PATH,this._options.iframeBasePath=this._options.iframeBasePath||this._options.basePath+WYMeditor.IFRAME_DEFAULT,this._options.jQueryPath=this._options.jQueryPath||this.computeJqueryPath(),this.init()}}),jQuery.fn.wymeditor=function(e){return e=jQuery.extend({html:"",basePath:!1,skinPath:!1,wymPath:!1,iframeBasePath:!1,jQueryPath:!1,styles:!1,stylesheet:!1,skin:"default",initSkin:!0,loadSkin:!0,lang:"en",direction:"ltr",boxHtml:"<div class='wym_box'><div class='wym_area_top'>"+WYMeditor.TOOLS+"</div><div class='wym_area_left'></div><div class='wym_area_right'>"+WYMeditor.CONTAINERS+WYMeditor.CLASSES+"</div><div class='wym_area_main'>"+WYMeditor.HTML+WYMeditor.IFRAME+WYMeditor.STATUS+"</div><div class='wym_area_bottom'>"+WYMeditor.LOGO+"</div></div>",logoHtml:"<a class='wym_wymeditor_link' href='http://www.wymeditor.org/'>WYMeditor</a>",iframeHtml:"<div class='wym_iframe wym_section'><iframe src='/page/get_editor_iframe' onload='this.contentWindow.parent.WYMeditor.INSTANCES["+WYMeditor.INDEX+"].initIframe(this)'></iframe></div>",editorStyles:[],toolsHtml:"<div class='wym_tools wym_section'><h2>{Tools}</h2><ul>"+WYMeditor.TOOLS_ITEMS+"</ul></div>",toolsItemHtml:"<li class='"+WYMeditor.TOOL_CLASS+"'><a href='#' name='"+WYMeditor.TOOL_NAME+"' title='"+WYMeditor.TOOL_TITLE+"'>"+WYMeditor.TOOL_TITLE+"</a></li>",toolsItems:[{name:"Bold",title:"Strong",css:"wym_tools_strong"},{name:"Italic",title:"Emphasis",css:"wym_tools_emphasis"},{name:"Superscript",title:"Superscript",css:"wym_tools_superscript"},{name:"Subscript",title:"Subscript",css:"wym_tools_subscript"},{name:"InsertOrderedList",title:"Ordered_List",css:"wym_tools_ordered_list"},{name:"InsertUnorderedList",title:"Unordered_List",css:"wym_tools_unordered_list"},{name:"Indent",title:"Indent",css:"wym_tools_indent"},{name:"Outdent",title:"Outdent",css:"wym_tools_outdent"},{name:"Undo",title:"Undo",css:"wym_tools_undo"},{name:"Redo",title:"Redo",css:"wym_tools_redo"},{name:"CreateLink",title:"Link",css:"wym_tools_link"},{name:"Unlink",title:"Unlink",css:"wym_tools_unlink"},{name:"InsertImage",title:"Image",css:"wym_tools_image"},{name:"InsertTable",title:"Table",css:"wym_tools_table"},{name:"Paste",title:"Paste_From_Word",css:"wym_tools_paste"},{name:"ToggleHtml",title:"HTML",css:"wym_tools_html"},{name:"Preview",title:"Preview",css:"wym_tools_preview"}],containersHtml:"<div class='wym_containers wym_section'><h2>{Containers}</h2><ul>"+WYMeditor.CONTAINERS_ITEMS+"</ul></div>",containersItemHtml:"<li class='"+WYMeditor.CONTAINER_CLASS+"'><a href='#' name='"+WYMeditor.CONTAINER_NAME+"'>"+WYMeditor.CONTAINER_TITLE+"</a></li>",containersItems:[{name:"P",title:"Paragraph",css:"wym_containers_p"},{name:"H1",title:"Heading_1",css:"wym_containers_h1"},{name:"H2",title:"Heading_2",css:"wym_containers_h2"},{name:"H3",title:"Heading_3",css:"wym_containers_h3"},{name:"H4",title:"Heading_4",css:"wym_containers_h4"},{name:"H5",title:"Heading_5",css:"wym_containers_h5"},{name:"H6",title:"Heading_6",css:"wym_containers_h6"},{name:"PRE",title:"Preformatted",css:"wym_containers_pre"},{name:"BLOCKQUOTE",title:"Blockquote",css:"wym_containers_blockquote"},{name:"TH",title:"Table_Header",css:"wym_containers_th"}],classesHtml:"<div class='wym_classes wym_section'><h2>{Classes}</h2><ul>"+WYMeditor.CLASSES_ITEMS+"</ul></div>",classesItemHtml:"<li><a href='#' name='"+WYMeditor.CLASS_NAME+"'>"+WYMeditor.CLASS_TITLE+"</a></li>",classesItems:[],statusHtml:"<div class='wym_status wym_section'><h2>{Status}</h2></div>",htmlHtml:"<div class='wym_html wym_section'><h2>{Source_Code}</h2><textarea class='wym_html_val'></textarea></div>",boxSelector:".wym_box",toolsSelector:".wym_tools",toolsListSelector:" ul",containersSelector:".wym_containers",classesSelector:".wym_classes",htmlSelector:".wym_html",iframeSelector:".wym_iframe iframe",iframeBodySelector:".wym_iframe",statusSelector:".wym_status",toolSelector:".wym_tools a",containerSelector:".wym_containers a",classSelector:".wym_classes a",htmlValSelector:".wym_html_val",hrefSelector:".wym_href",srcSelector:".wym_src",titleSelector:".wym_title",altSelector:".wym_alt",textSelector:".wym_text",rowsSelector:".wym_rows",colsSelector:".wym_cols",captionSelector:".wym_caption",summarySelector:".wym_summary",submitSelector:".wym_submit",cancelSelector:".wym_cancel",previewSelector:"",dialogTypeSelector:".wym_dialog_type",dialogLinkSelector:".wym_dialog_link",dialogImageSelector:".wym_dialog_image",dialogTableSelector:".wym_dialog_table",dialogPasteSelector:".wym_dialog_paste",dialogPreviewSelector:".wym_dialog_preview",updateSelector:".wymupdate",updateEvent:"click",dialogFeatures:"menubar=no,titlebar=no,toolbar=no,resizable=no,width=560,height=300,top=0,left=0",dialogFeaturesPreview:"menubar=no,titlebar=no,toolbar=no,resizable=no,scrollbars=yes,width=560,height=300,top=0,left=0",dialogHtml:"<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'><html dir='"+WYMeditor.DIRECTION+"'><head><link rel='stylesheet' type='text/css' media='screen' href='"+WYMeditor.CSS_PATH+"' /><title>"+WYMeditor.DIALOG_TITLE+"</title><script type='text/javascript' src='"+WYMeditor.JQUERY_PATH+"'><\/script><script type='text/javascript' src='"+WYMeditor.WYM_PATH+"'><\/script></head>"+WYMeditor.DIALOG_BODY+"</html>",dialogLinkHtml:"<body class='wym_dialog wym_dialog_link' onload='WYMeditor.INIT_DIALOG("+WYMeditor.INDEX+")'><form><fieldset><input type='hidden' class='wym_dialog_type' value='"+WYMeditor.DIALOG_LINK+"' /><legend>{Link}</legend><div class='row'><label>{URL}</label><input type='text' class='wym_href' value='' size='40' /></div><div class='row'><label>{Title}</label><input type='text' class='wym_title' value='' size='40' /></div><div class='row row-indent'><input class='wym_submit' type='button' value='{Submit}' /><input class='wym_cancel' type='button'value='{Cancel}' /></div></fieldset></form></body>",dialogImageHtml:"<body class='wym_dialog wym_dialog_image' onload='WYMeditor.INIT_DIALOG("+WYMeditor.INDEX+")'><form><fieldset><input type='hidden' class='wym_dialog_type' value='"+WYMeditor.DIALOG_IMAGE+"' /><legend>{Image}</legend><div class='row'><label>{URL}</label><input type='text' class='wym_src' value='' size='40' /></div><div class='row'><label>{Alternative_Text}</label><input type='text' class='wym_alt' value='' size='40' /></div><div class='row'><label>{Title}</label><input type='text' class='wym_title' value='' size='40' /></div><div class='row row-indent'><input class='wym_submit' type='button' value='{Submit}' /><input class='wym_cancel' type='button'value='{Cancel}' /></div></fieldset></form></body>",dialogTableHtml:"<body class='wym_dialog wym_dialog_table' onload='WYMeditor.INIT_DIALOG("+WYMeditor.INDEX+")'><form><fieldset><input type='hidden' class='wym_dialog_type' value='"+WYMeditor.DIALOG_TABLE+"' /><legend>{Table}</legend><div class='row'><label>{Caption}</label><input type='text' class='wym_caption' value='' size='40' /></div><div class='row'><label>{Summary}</label><input type='text' class='wym_summary' value='' size='40' /></div><div class='row'><label>{Number_Of_Rows}</label><input type='text' class='wym_rows' value='3' size='3' /></div><div class='row'><label>{Number_Of_Cols}</label><input type='text' class='wym_cols' value='2' size='3' /></div><div class='row row-indent'><input class='wym_submit' type='button' value='{Submit}' /><input class='wym_cancel' type='button'value='{Cancel}' /></div></fieldset></form></body>",dialogPasteHtml:"<body class='wym_dialog wym_dialog_paste' onload='WYMeditor.INIT_DIALOG("+WYMeditor.INDEX+")'><form><input type='hidden' class='wym_dialog_type' value='"+WYMeditor.DIALOG_PASTE+"' /><fieldset><legend>{Paste_From_Word}</legend><div class='row'><textarea class='wym_text' rows='10' cols='50'></textarea></div><div class='row'><input class='wym_submit' type='button' value='{Submit}' /><input class='wym_cancel' type='button'value='{Cancel}' /></div></fieldset></form></body>",dialogPreviewHtml:"<body class='wym_dialog wym_dialog_preview' onload='WYMeditor.INIT_DIALOG("+WYMeditor.INDEX+")'></body>",dialogStyles:[],stringDelimiterLeft:"{",stringDelimiterRight:"}",preInit:null,preBind:null,postInit:null,preInitDialog:null,postInitDialog:null},e),this.each(function(){new WYMeditor.editor(jQuery(this),e)})},jQuery.extend({wymeditors:function(e){return WYMeditor.INSTANCES[e]}}),WYMeditor.editor.prototype.init=function(){if(jQuery.browser.msie)var WymClass=new WYMeditor.WymClassExplorer(this);else if(jQuery.browser.mozilla)var WymClass=new WYMeditor.WymClassMozilla(this);else if(jQuery.browser.opera)var WymClass=new WYMeditor.WymClassOpera(this);else if(jQuery.browser.safari||jQuery.browser.chrome)var WymClass=new WYMeditor.WymClassSafari(this);if(WymClass){jQuery.isFunction(this._options.preInit)&&this._options.preInit(this);var SaxListener=new WYMeditor.XhtmlSaxListener;for(var prop in jQuery.extend(SaxListener,WymClass),this.parser=new WYMeditor.XhtmlParser(SaxListener),(this._options.styles||this._options.stylesheet)&&this.configureEditorUsingRawCss(),this.helper=new WYMeditor.XmlHelper,WymClass)this[prop]=WymClass[prop];this._box=jQuery(this._element).hide().after(this._options.boxHtml).next().addClass("wym_box_"+this._index),jQuery.isFunction(jQuery.fn.data)&&(jQuery.data(this._box.get(0),WYMeditor.WYM_INDEX,this._index),jQuery.data(this._element.get(0),WYMeditor.WYM_INDEX,this._index));var h=WYMeditor.Helper,iframeHtml=this._options.iframeHtml;iframeHtml=h.replaceAll(iframeHtml,WYMeditor.INDEX,this._index),iframeHtml=h.replaceAll(iframeHtml,WYMeditor.IFRAME_BASE_PATH,this._options.iframeBasePath);var boxHtml=jQuery(this._box).html();boxHtml=h.replaceAll(boxHtml,WYMeditor.LOGO,this._options.logoHtml),boxHtml=h.replaceAll(boxHtml,WYMeditor.TOOLS,this._options.toolsHtml),boxHtml=h.replaceAll(boxHtml,WYMeditor.CONTAINERS,this._options.containersHtml),boxHtml=h.replaceAll(boxHtml,WYMeditor.CLASSES,this._options.classesHtml),boxHtml=h.replaceAll(boxHtml,WYMeditor.HTML,this._options.htmlHtml),boxHtml=h.replaceAll(boxHtml,WYMeditor.IFRAME,iframeHtml),boxHtml=h.replaceAll(boxHtml,WYMeditor.STATUS,this._options.statusHtml);for(var aTools=eval(this._options.toolsItems),sTools="",i=0;i<aTools.length;i++){var oTool=aTools[i];if(oTool.name&&oTool.title)var sTool=this._options.toolsItemHtml;var sTool=h.replaceAll(sTool,WYMeditor.TOOL_NAME,oTool.name);sTool=h.replaceAll(sTool,WYMeditor.TOOL_TITLE,this._options.stringDelimiterLeft+oTool.title+this._options.stringDelimiterRight),sTool=h.replaceAll(sTool,WYMeditor.TOOL_CLASS,oTool.css),sTools+=sTool}boxHtml=h.replaceAll(boxHtml,WYMeditor.TOOLS_ITEMS,sTools);for(var aClasses=eval(this._options.classesItems),sClasses="",i=0;i<aClasses.length;i++){var oClass=aClasses[i];if(oClass.name&&oClass.title)var sClass=this._options.classesItemHtml;sClass=h.replaceAll(sClass,WYMeditor.CLASS_NAME,oClass.name),sClass=h.replaceAll(sClass,WYMeditor.CLASS_TITLE,oClass.title),sClasses+=sClass}boxHtml=h.replaceAll(boxHtml,WYMeditor.CLASSES_ITEMS,sClasses);for(var aContainers=eval(this._options.containersItems),sContainers="",i=0;i<aContainers.length;i++){var oContainer=aContainers[i];if(oContainer.name&&oContainer.title)var sContainer=this._options.containersItemHtml;sContainer=h.replaceAll(sContainer,WYMeditor.CONTAINER_NAME,oContainer.name),sContainer=h.replaceAll(sContainer,WYMeditor.CONTAINER_TITLE,this._options.stringDelimiterLeft+oContainer.title+this._options.stringDelimiterRight),sContainer=h.replaceAll(sContainer,WYMeditor.CONTAINER_CLASS,oContainer.css),sContainers+=sContainer}boxHtml=h.replaceAll(boxHtml,WYMeditor.CONTAINERS_ITEMS,sContainers),boxHtml=this.replaceStrings(boxHtml),jQuery(this._box).html(boxHtml),jQuery(this._box).find(this._options.htmlSelector).hide(),this.loadSkin()}},WYMeditor.editor.prototype.bindEvents=function(){var wym=this;jQuery(this._box).find(this._options.toolSelector).click(function(){return wym._iframe.contentWindow.focus(),wym.exec(jQuery(this).attr(WYMeditor.NAME)),!1}),jQuery(this._box).find(this._options.containerSelector).click(function(){return wym.container(jQuery(this).attr(WYMeditor.NAME)),!1}),jQuery(this._box).find(this._options.htmlValSelector).keyup(function(){jQuery(wym._doc.body).html(jQuery(this).val())}).focus(function(){jQuery(this).toggleClass("hasfocus")}).blur(function(){jQuery(this).toggleClass("hasfocus")}),jQuery(this._box).find(this._options.classSelector).click(function(){var aClasses=eval(wym._options.classesItems),sName=jQuery(this).attr(WYMeditor.NAME),oClass=WYMeditor.Helper.findByName(aClasses,sName);if(oClass){var jqexpr=oClass.expr;wym.toggleClass(sName,jqexpr)}return wym._iframe.contentWindow.focus(),!1}),jQuery(this._options.updateSelector).bind(this._options.updateEvent,function(){wym.update()})},WYMeditor.editor.prototype.ready=function(){return null!=this._doc},WYMeditor.editor.prototype.box=function(){return this._box},WYMeditor.editor.prototype.html=function(e){if("string"!=typeof e)return jQuery(this._doc.body).html();jQuery(this._doc.body).html(e)},WYMeditor.editor.prototype.xhtml=function(){return this.parser.parse(this.html())},WYMeditor.editor.prototype.exec=function(e){switch(e){case WYMeditor.CREATE_LINK:(this.container()||this._selected_image)&&this.dialog(WYMeditor.DIALOG_LINK);break;case WYMeditor.INSERT_IMAGE:this.dialog(WYMeditor.DIALOG_IMAGE);break;case WYMeditor.INSERT_TABLE:this.dialog(WYMeditor.DIALOG_TABLE);break;case WYMeditor.PASTE:this.dialog(WYMeditor.DIALOG_PASTE);break;case WYMeditor.TOGGLE_HTML:this.update(),this.toggleHtml(),jQuery(this._box).find(this._options.htmlSelector).is(":visible")||this.listen();break;case WYMeditor.PREVIEW:this.dialog(WYMeditor.PREVIEW,this._options.dialogFeaturesPreview);break;default:this._exec(e)}},WYMeditor.editor.prototype.container=function(e){if(!e)return this.selected();var t=null;if(e.toLowerCase()==WYMeditor.TH){switch((t=this.container()).tagName.toLowerCase()){case WYMeditor.TD:case WYMeditor.TH:break;default:var n=new Array(WYMeditor.TD,WYMeditor.TH);t=this.findUp(this.container(),n)}null!=t&&(e=t.tagName.toLowerCase()==WYMeditor.TD?WYMeditor.TH:WYMeditor.TD,this.switchTo(t,e),this.update())}else{n=new Array(WYMeditor.P,WYMeditor.H1,WYMeditor.H2,WYMeditor.H3,WYMeditor.H4,WYMeditor.H5,WYMeditor.H6,WYMeditor.PRE,WYMeditor.BLOCKQUOTE);if(t=this.findUp(this.container(),n)){var i=null;if(e.toLowerCase()==WYMeditor.BLOCKQUOTE){var r=this.findUp(this.container(),WYMeditor.BLOCKQUOTE);if(null==r)i=this._doc.createElement(e),t.parentNode.insertBefore(i,t),i.appendChild(t),this.setFocusToNode(i.firstChild);else{var o=r.childNodes,a=o.length,s=null;a>0&&(s=o.item(0));for(var l=0;l<a;l++)r.parentNode.insertBefore(o.item(0),r);r.parentNode.removeChild(r),s&&this.setFocusToNode(s)}}else this.switchTo(t,e);this.update()}}},WYMeditor.editor.prototype.toggleClass=function(e,t){var n=this._selected_image?this._selected_image:jQuery(this.selected());n=jQuery(n).parentsOrSelf(t),jQuery(n).toggleClass(e),jQuery(n).attr(WYMeditor.CLASS)||jQuery(n).removeAttr(this._class)},WYMeditor.editor.prototype.findUp=function(e,t){if(e){var n=e.tagName.toLowerCase();if(typeof t==WYMeditor.STRING)for(;n!=t&&n!=WYMeditor.BODY;)n=(e=e.parentNode).tagName.toLowerCase();else for(var i=!1;!i&&n!=WYMeditor.BODY;){for(var r=0;r<t.length;r++)if(n==t[r]){i=!0;break}i||(n=(e=e.parentNode).tagName.toLowerCase())}return n!=WYMeditor.BODY?e:null}return null},WYMeditor.editor.prototype.switchTo=function(e,t){var n=this._doc.createElement(t),i=jQuery(e).html();e.parentNode.replaceChild(n,e),jQuery(n).html(i),this.setFocusToNode(n)},WYMeditor.editor.prototype.replaceStrings=function(sVal){if(!WYMeditor.STRINGS[this._options.lang])try{eval(jQuery.ajax({url:this._options.langPath+this._options.lang+".js",async:!1}).responseText)}catch(e){return WYMeditor.console.error("WYMeditor: error while parsing language file."),sVal}for(var key in WYMeditor.STRINGS[this._options.lang])sVal=WYMeditor.Helper.replaceAll(sVal,this._options.stringDelimiterLeft+key+this._options.stringDelimiterRight,WYMeditor.STRINGS[this._options.lang][key]);return sVal},WYMeditor.editor.prototype.encloseString=function(e){return this._options.stringDelimiterLeft+e+this._options.stringDelimiterRight},WYMeditor.editor.prototype.status=function(e){jQuery(this._box).find(this._options.statusSelector).html(e)},WYMeditor.editor.prototype.update=function(){var e=this.xhtml();jQuery(this._element).val(e),jQuery(this._box).find(this._options.htmlValSelector).not(".hasfocus").val(e)},WYMeditor.editor.prototype.dialog=function(e,t,n){var i=t||this._wym._options.dialogFeatures,r=window.open("","dialog",i);if(r){var o="";switch(e){case WYMeditor.DIALOG_LINK:o=this._options.dialogLinkHtml;break;case WYMeditor.DIALOG_IMAGE:o=this._options.dialogImageHtml;break;case WYMeditor.DIALOG_TABLE:o=this._options.dialogTableHtml;break;case WYMeditor.DIALOG_PASTE:o=this._options.dialogPasteHtml;break;case WYMeditor.PREVIEW:o=this._options.dialogPreviewHtml;break;default:o=n}var a=WYMeditor.Helper,s=this._options.dialogHtml;s=a.replaceAll(s,WYMeditor.BASE_PATH,this._options.basePath),s=a.replaceAll(s,WYMeditor.DIRECTION,this._options.direction),s=a.replaceAll(s,WYMeditor.CSS_PATH,this._options.skinPath+WYMeditor.SKINS_DEFAULT_CSS),s=a.replaceAll(s,WYMeditor.WYM_PATH,this._options.wymPath),s=a.replaceAll(s,WYMeditor.JQUERY_PATH,this._options.jQueryPath),s=a.replaceAll(s,WYMeditor.DIALOG_TITLE,this.encloseString(e)),s=a.replaceAll(s,WYMeditor.DIALOG_BODY,o),s=a.replaceAll(s,WYMeditor.INDEX,this._index),s=this.replaceStrings(s);var l=r.document;l.write(s),l.close()}},WYMeditor.editor.prototype.toggleHtml=function(){jQuery(this._box).find(this._options.htmlSelector).toggle()},WYMeditor.editor.prototype.uniqueStamp=function(){return"wym-"+(new Date).getTime()},WYMeditor.editor.prototype.paste=function(e){var t,n=this.selected(),i=e.split(this._newLine+this._newLine),r=new RegExp(this._newLine,"g");if(n&&n.tagName.toLowerCase()!=WYMeditor.BODY)for(x=i.length-1;x>=0;x--)t=(t=i[x]).replace(r,"<br />"),jQuery(n).after("<p>"+t+"</p>");else for(x=0;x<i.length;x++)t=(t=i[x]).replace(r,"<br />"),jQuery(this._doc.body).append("<p>"+t+"</p>")},WYMeditor.editor.prototype.insert=function(e){null!=this._iframe.contentWindow.getSelection().focusNode?this._exec(WYMeditor.INSERT_HTML,e):this.paste(e)},WYMeditor.editor.prototype.wrap=function(e,t){null!=this._iframe.contentWindow.getSelection().focusNode&&this._exec(WYMeditor.INSERT_HTML,e+this._iframe.contentWindow.getSelection().toString()+t)},WYMeditor.editor.prototype.unwrap=function(){null!=this._iframe.contentWindow.getSelection().focusNode&&this._exec(WYMeditor.INSERT_HTML,this._iframe.contentWindow.getSelection().toString())},WYMeditor.editor.prototype.addCssRules=function(e,t){var n=e.styleSheets[0];if(n)for(var i=0;i<t.length;i++){var r=t[i];r.name&&r.css&&this.addCssRule(n,r)}},WYMeditor.editor.prototype.computeBasePath=function(){return jQuery(jQuery.grep(jQuery("script"),function(e){return e.src&&e.src.match(/jquery\.wymeditor(\.pack|\.min|\.packed)?\.js(\?.*)?$/)})).attr("src").replace(/jquery\.wymeditor(\.pack|\.min|\.packed)?\.js(\?.*)?$/,"")},WYMeditor.editor.prototype.computeWymPath=function(){return jQuery(jQuery.grep(jQuery("script"),function(e){return e.src&&e.src.match(/jquery\.wymeditor(\.pack|\.min|\.packed)?\.js(\?.*)?$/)})).attr("src")},WYMeditor.editor.prototype.computeJqueryPath=function(){return jQuery(jQuery.grep(jQuery("script"),function(e){return e.src&&e.src.match(/jquery(-(.*)){0,1}(\.pack|\.min|\.packed)?\.js(\?.*)?$/)})).attr("src")},WYMeditor.editor.prototype.computeCssPath=function(){return jQuery(jQuery.grep(jQuery("link"),function(e){return e.href&&e.href.match(/wymeditor\/skins\/(.*)screen\.css(\?.*)?$/)})).attr("href")},WYMeditor.editor.prototype.configureEditorUsingRawCss=function(){var e=new WYMeditor.WymCssParser;this._options.stylesheet?e.parse(jQuery.ajax({url:this._options.stylesheet,async:!1}).responseText):e.parse(this._options.styles,!1),0==this._options.classesItems.length&&(this._options.classesItems=e.css_settings.classesItems),0==this._options.editorStyles.length&&(this._options.editorStyles=e.css_settings.editorStyles),0==this._options.dialogStyles.length&&(this._options.dialogStyles=e.css_settings.dialogStyles)},WYMeditor.editor.prototype.listen=function(){jQuery(this._doc.body).bind("mousedown",this.mousedown);for(var e=this._doc.body.getElementsByTagName("img"),t=0;t<e.length;t++)jQuery(e[t]).bind("mousedown",this.mousedown)},WYMeditor.editor.prototype.mousedown=function(e){WYMeditor.INSTANCES[this.ownerDocument.title]._selected_image=this.tagName.toLowerCase()==WYMeditor.IMG?this:null,e.stopPropagation()},WYMeditor.loadCss=function(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,jQuery("head").get(0).appendChild(t)},WYMeditor.editor.prototype.loadSkin=function(){if(this._options.loadSkin&&!WYMeditor.SKINS[this._options.skin]){var found=!1,rExp=new RegExp(this._options.skin+"/"+WYMeditor.SKINS_DEFAULT_CSS+"$");jQuery("link").each(function(){this.href.match(rExp)&&(found=!0)}),found||WYMeditor.loadCss(this._options.skinPath+WYMeditor.SKINS_DEFAULT_CSS)}jQuery(this._box).addClass("wym_skin_"+this._options.skin),this._options.initSkin&&!WYMeditor.SKINS[this._options.skin]&&eval(jQuery.ajax({url:this._options.skinPath+WYMeditor.SKINS_DEFAULT_JS,async:!1}).responseText),WYMeditor.SKINS[this._options.skin]&&WYMeditor.SKINS[this._options.skin].init&&WYMeditor.SKINS[this._options.skin].init(this)},WYMeditor.INIT_DIALOG=function(index){var wym=window.opener.WYMeditor.INSTANCES[index],doc=window.document,selected=wym.selected(),dialogType=jQuery(wym._options.dialogTypeSelector).val(),sStamp=wym.uniqueStamp();switch(dialogType){case WYMeditor.DIALOG_LINK:selected&&selected.tagName&&selected.tagName.toLowerCase!=WYMeditor.A&&(selected=jQuery(selected).parentsOrSelf(WYMeditor.A)),!selected&&wym._selected_image&&(selected=jQuery(wym._selected_image).parentsOrSelf(WYMeditor.A))}jQuery.isFunction(wym._options.preInitDialog)&&wym._options.preInitDialog(wym,window);var styles=doc.styleSheets[0],aCss=eval(wym._options.dialogStyles);wym.addCssRules(doc,aCss),selected&&(jQuery(wym._options.hrefSelector).val(jQuery(selected).attr(WYMeditor.HREF)),jQuery(wym._options.srcSelector).val(jQuery(selected).attr(WYMeditor.SRC)),jQuery(wym._options.titleSelector).val(jQuery(selected).attr(WYMeditor.TITLE)),jQuery(wym._options.altSelector).val(jQuery(selected).attr(WYMeditor.ALT))),wym._selected_image&&(jQuery(wym._options.dialogImageSelector+" "+wym._options.srcSelector).val(jQuery(wym._selected_image).attr(WYMeditor.SRC)),jQuery(wym._options.dialogImageSelector+" "+wym._options.titleSelector).val(jQuery(wym._selected_image).attr(WYMeditor.TITLE)),jQuery(wym._options.dialogImageSelector+" "+wym._options.altSelector).val(jQuery(wym._selected_image).attr(WYMeditor.ALT))),jQuery(wym._options.dialogLinkSelector+" "+wym._options.submitSelector).click(function(){var e=jQuery(wym._options.hrefSelector).val();e.length>0&&(wym._exec(WYMeditor.CREATE_LINK,sStamp),jQuery("a[href="+sStamp+"]",wym._doc.body).attr(WYMeditor.HREF,e).attr(WYMeditor.TITLE,jQuery(wym._options.titleSelector).val())),window.close()}),jQuery(wym._options.dialogImageSelector+" "+wym._options.submitSelector).click(function(){var e=jQuery(wym._options.srcSelector).val();e.length>0&&(wym._exec(WYMeditor.INSERT_IMAGE,sStamp),jQuery("img[src$="+sStamp+"]",wym._doc.body).attr(WYMeditor.SRC,e).attr(WYMeditor.TITLE,jQuery(wym._options.titleSelector).val()).attr(WYMeditor.ALT,jQuery(wym._options.altSelector).val())),window.close()}),jQuery(wym._options.dialogTableSelector+" "+wym._options.submitSelector).click(function(){var e=jQuery(wym._options.rowsSelector).val(),t=jQuery(wym._options.colsSelector).val();if(e>0&&t>0){var n=wym._doc.createElement(WYMeditor.TABLE),i=null,r=jQuery(wym._options.captionSelector).val();for(n.createCaption().innerHTML=r,x=0;x<e;x++)for(i=n.insertRow(x),y=0;y<t;y++)i.insertCell(y);jQuery(n).attr("summary",jQuery(wym._options.summarySelector).val());var o=jQuery(wym.findUp(wym.container(),WYMeditor.MAIN_CONTAINERS)).get(0);o&&o.parentNode?jQuery(o).after(n):jQuery(wym._doc.body).append(n)}window.close()}),jQuery(wym._options.dialogPasteSelector+" "+wym._options.submitSelector).click(function(){var e=jQuery(wym._options.textSelector).val();wym.paste(e),window.close()}),jQuery(wym._options.dialogPreviewSelector+" "+wym._options.previewSelector).html(wym.xhtml()),jQuery(wym._options.cancelSelector).mousedown(function(){window.close()}),jQuery.isFunction(wym._options.postInitDialog)&&wym._options.postInitDialog(wym,window)},WYMeditor.XmlHelper=function(){return this._entitiesDiv=document.createElement("div"),this},WYMeditor.XmlHelper.prototype.tag=function(e,t,n){return t=t||!1,n=n||!1,"<"+e+(t?this.tagOptions(t):"")+(n?">":" />")},WYMeditor.XmlHelper.prototype.contentTag=function(e,t,n){return"<"+e+((n=n||!1)?this.tagOptions(n):"")+">"+t+"</"+e+">"},WYMeditor.XmlHelper.prototype.cdataSection=function(e){return"<![CDATA["+e+"]]>"},WYMeditor.XmlHelper.prototype.escapeOnce=function(e){return this._fixDoubleEscape(this.escapeEntities(e))},WYMeditor.XmlHelper.prototype._fixDoubleEscape=function(e){return e.replace(/&amp;([a-z]+|(#\d+));/gi,"&$1;")},WYMeditor.XmlHelper.prototype.tagOptions=function(e){for(var t in this._formated_options="",e){var n=e[t];"function"!=typeof n&&n.length>0&&(parseInt(t)==t&&"object"==typeof n&&(t=n.shift(),n=n.pop()),""!=t&&""!=n&&(this._formated_options+=" "+t+'="'+this.escapeOnce(n)+'"'))}return this._formated_options},WYMeditor.XmlHelper.prototype.escapeEntities=function(e,t){this._entitiesDiv.innerHTML=e,this._entitiesDiv.textContent=e;var n=this._entitiesDiv.innerHTML;return void 0===t&&(0!=t&&(n=n.replace('"',"&quot;")),1==t&&(n=n.replace('"',"&#039;"))),n},WYMeditor.XmlHelper.prototype.parseAttributes=function(e){var t=[],n=e.split(/((=\s*")(")("))|((=\s*\')(\')(\'))|((=\s*[^>\s]*))/g);if(n.toString()!=e)for(var i in n){var r=n[i];if("function"!=typeof r&&0!=r.length){var o=new RegExp("(\\w+)\\s*"+r);if(match=e.match(o)){var a=r.replace(/^[\s=]+/,""),s=a.charAt(0);""!=(s='"'==s?'"':"'"==s?"'":"")&&(a='"'==s?a.replace(/^"|"+$/g,""):a.replace(/^'|'+$/g,"")),e=e.replace(match[0],""),t.push([match[1],a])}}}return t},WYMeditor.XhtmlValidator={_attributes:{core:{except:["base","head","html","meta","param","script","style","title"],attributes:["class","id","style","title","accesskey","tabindex"]},language:{except:["base","br","hr","iframe","param","script"],attributes:{dir:["ltr","rtl"],0:"lang",1:"xml:lang"}},keyboard:{attributes:{accesskey:/^(\w){1}$/,tabindex:/^(\d)+$/}}},_events:{window:{only:["body"],attributes:["onload","onunload"]},form:{only:["form","input","textarea","select","a","label","button"],attributes:["onchange","onsubmit","onreset","onselect","onblur","onfocus"]},keyboard:{except:["base","bdo","br","frame","frameset","head","html","iframe","meta","param","script","style","title"],attributes:["onkeydown","onkeypress","onkeyup"]},mouse:{except:["base","bdo","br","head","html","meta","param","script","style","title"],attributes:["onclick","ondblclick","onmousedown","onmousemove","onmouseover","onmouseout","onmouseup"]}},_tags:{a:{attributes:{0:"charset",1:"coords",2:"href",3:"hreflang",4:"name",rel:/^(alternate|designates|stylesheet|start|next|prev|contents|index|glossary|copyright|chapter|section|subsection|appendix|help|bookmark| |shortcut|icon)+$/,rev:/^(alternate|designates|stylesheet|start|next|prev|contents|index|glossary|copyright|chapter|section|subsection|appendix|help|bookmark| |shortcut|icon)+$/,shape:/^(rect|rectangle|circ|circle|poly|polygon)$/,5:"type"}},0:"abbr",1:"acronym",2:"address",area:{attributes:{0:"alt",1:"coords",2:"href",nohref:/^(true|false)$/,shape:/^(rect|rectangle|circ|circle|poly|polygon)$/},required:["alt"]},3:"b",base:{attributes:["href"],required:["href"]},bdo:{attributes:{dir:/^(ltr|rtl)$/},required:["dir"]},4:"big",blockquote:{attributes:["cite"]},5:"body",6:"br",button:{attributes:{disabled:/^(disabled)$/,type:/^(button|reset|submit)$/,0:"value"},inside:"form"},7:"caption",8:"cite",9:"code",col:{attributes:{align:/^(right|left|center|justify)$/,0:"char",1:"charoff",span:/^(\d)+$/,valign:/^(top|middle|bottom|baseline)$/,2:"width"},inside:"colgroup"},colgroup:{attributes:{align:/^(right|left|center|justify)$/,0:"char",1:"charoff",span:/^(\d)+$/,valign:/^(top|middle|bottom|baseline)$/,2:"width"}},10:"dd",del:{attributes:{0:"cite",datetime:/^([0-9]){8}/}},11:"div",12:"dfn",13:"dl",14:"dt",15:"em",fieldset:{inside:"form"},form:{attributes:{0:"action",1:"accept",2:"accept-charset",3:"enctype",method:/^(get|post)$/},required:["action"]},head:{attributes:["profile"]},16:"h1",17:"h2",18:"h3",19:"h4",20:"h5",21:"h6",22:"hr",html:{attributes:["xmlns"]},23:"i",img:{attributes:["alt","src","height","ismap","longdesc","usemap","width"],required:["alt","src"]},input:{attributes:{0:"accept",1:"alt",checked:/^(checked)$/,disabled:/^(disabled)$/,maxlength:/^(\d)+$/,2:"name",readonly:/^(readonly)$/,size:/^(\d)+$/,3:"src",type:/^(button|checkbox|file|hidden|image|password|radio|reset|submit|text)$/,4:"value"},inside:"form"},ins:{attributes:{0:"cite",datetime:/^([0-9]){8}/}},24:"kbd",label:{attributes:["for"],inside:"form"},25:"legend",26:"li",link:{attributes:{0:"charset",1:"href",2:"hreflang",media:/^(all|braille|print|projection|screen|speech|,|;| )+$/i,rel:/^(alternate|appendix|bookmark|chapter|contents|copyright|glossary|help|home|index|next|prev|section|start|stylesheet|subsection| |shortcut|icon)+$/i,rev:/^(alternate|appendix|bookmark|chapter|contents|copyright|glossary|help|home|index|next|prev|section|start|stylesheet|subsection| |shortcut|icon)+$/i,3:"type"},inside:"head"},map:{attributes:["id","name"],required:["id"]},meta:{attributes:{0:"content","http-equiv":/^(content\-type|expires|refresh|set\-cookie)$/i,1:"name",2:"scheme"},required:["content"]},27:"noscript",object:{attributes:["archive","classid","codebase","codetype","data","declare","height","name","standby","type","usemap","width"]},28:"ol",optgroup:{attributes:{0:"label",disabled:/^(disabled)$/},required:["label"]},option:{attributes:{0:"label",disabled:/^(disabled)$/,selected:/^(selected)$/,1:"value"},inside:"select"},29:"p",param:{attributes:{0:"type",valuetype:/^(data|ref|object)$/,1:"valuetype",2:"value"},required:["name"]},30:"pre",q:{attributes:["cite"]},31:"samp",script:{attributes:{type:/^(text\/ecmascript|text\/javascript|text\/jscript|text\/vbscript|text\/vbs|text\/xml)$/,0:"charset",defer:/^(defer)$/,1:"src"},required:["type"]},select:{attributes:{disabled:/^(disabled)$/,multiple:/^(multiple)$/,0:"name",1:"size"},inside:"form"},32:"small",33:"span",34:"strong",style:{attributes:{0:"type",media:/^(screen|tty|tv|projection|handheld|print|braille|aural|all)$/},required:["type"]},35:"sub",36:"sup",table:{attributes:{0:"border",1:"cellpadding",2:"cellspacing",frame:/^(void|above|below|hsides|lhs|rhs|vsides|box|border)$/,rules:/^(none|groups|rows|cols|all)$/,3:"summary",4:"width"}},tbody:{attributes:{align:/^(right|left|center|justify)$/,0:"char",1:"charoff",valign:/^(top|middle|bottom|baseline)$/}},td:{attributes:{0:"abbr",align:/^(left|right|center|justify|char)$/,1:"axis",2:"char",3:"charoff",colspan:/^(\d)+$/,4:"headers",rowspan:/^(\d)+$/,scope:/^(col|colgroup|row|rowgroup)$/,valign:/^(top|middle|bottom|baseline)$/}},textarea:{attributes:["cols","rows","disabled","name","readonly"],required:["cols","rows"],inside:"form"},tfoot:{attributes:{align:/^(right|left|center|justify)$/,0:"char",1:"charoff",valign:/^(top|middle|bottom)$/,2:"baseline"}},th:{attributes:{0:"abbr",align:/^(left|right|center|justify|char)$/,1:"axis",2:"char",3:"charoff",colspan:/^(\d)+$/,4:"headers",rowspan:/^(\d)+$/,scope:/^(col|colgroup|row|rowgroup)$/,valign:/^(top|middle|bottom|baseline)$/}},thead:{attributes:{align:/^(right|left|center|justify)$/,0:"char",1:"charoff",valign:/^(top|middle|bottom|baseline)$/}},37:"title",tr:{attributes:{align:/^(right|left|center|justify|char)$/,0:"char",1:"charoff",valign:/^(top|middle|bottom|baseline)$/}},38:"tt",39:"ul",40:"var"},skiped_attributes:[],skiped_attribute_values:[],getValidTagAttributes:function(e,t){var n={},i=this.getPossibleTagAttributes(e);for(var r in t){var o=t[r],a=WYMeditor.Helper;a.contains(this.skiped_attributes,r)||a.contains(this.skiped_attribute_values,o)||"function"!=typeof o&&a.contains(i,r)&&(this.doesAttributeNeedsValidation(e,r)?this.validateAttribute(e,r,o)&&(n[r]=o):n[r]=o)}return n},getUniqueAttributesAndEventsForTag:function(e){var t=[];if(this._tags[e]&&this._tags[e].attributes)for(k in this._tags[e].attributes)t.push(parseInt(k)==k?this._tags[e].attributes[k]:k);return t},getDefaultAttributesAndEventsForTags:function(){var e=[];for(var t in this._events)e.push(this._events[t]);for(var t in this._attributes)e.push(this._attributes[t]);return e},isValidTag:function(e){if(this._tags[e])return!0;for(var t in this._tags)if(this._tags[t]==e)return!0;return!1},getDefaultAttributesAndEventsForTag:function(e){var t=[];if(this.isValidTag(e)){var n=this.getDefaultAttributesAndEventsForTags();for(var i in n){var r=n[i];if("object"==typeof r){var o=WYMeditor.Helper;if(r.except&&o.contains(r.except,e)||r.only&&!o.contains(r.only,e))continue;var a=r.attributes?r.attributes:r.events;for(var s in a)t.push("string"!=typeof a[s]?s:a[s])}}}return t},doesAttributeNeedsValidation:function(e,t){return this._tags[e]&&(this._tags[e].attributes&&this._tags[e].attributes[t]||this._tags[e].required&&WYMeditor.Helper.contains(this._tags[e].required,t))},validateAttribute:function(e,t,n){return!(this._tags[e]&&this._tags[e].attributes&&this._tags[e].attributes[t]&&n.length>0&&!n.match(this._tags[e].attributes[t])||this._tags[e]&&this._tags[e].required&&WYMeditor.Helper.contains(this._tags[e].required,t)&&0==n.length)&&void 0!==this._tags[e]},getPossibleTagAttributes:function(e){return this._possible_tag_attributes||(this._possible_tag_attributes={}),this._possible_tag_attributes[e]||(this._possible_tag_attributes[e]=this.getUniqueAttributesAndEventsForTag(e).concat(this.getDefaultAttributesAndEventsForTag(e))),this._possible_tag_attributes[e]}},WYMeditor.ParallelRegex=function(e){return this._case=e,this._patterns=[],this._labels=[],this._regex=null,this},WYMeditor.ParallelRegex.prototype.addPattern=function(e,t){t=t||!0;var n=this._patterns.length;this._patterns[n]=e,this._labels[n]=t,this._regex=null},WYMeditor.ParallelRegex.prototype.match=function(e){if(0==this._patterns.length)return[!1,""];var t=e.match(this._getCompoundedRegex());if(!t)return[!1,""];for(var n=t[0],i=1;i<t.length;i++)if(t[i])return[this._labels[i-1],n];return[!0,t[0]]},WYMeditor.ParallelRegex.prototype._getCompoundedRegex=function(){if(null==this._regex){for(var e=0,t=this._patterns.length;e<t;e++)this._patterns[e]="("+this._untokenizeRegex(this._tokenizeRegex(this._patterns[e]).replace(/([\/\(\)])/g,"\\$1"))+")";this._regex=new RegExp(this._patterns.join("|"),this._getPerlMatchingFlags())}return this._regex},WYMeditor.ParallelRegex.prototype._tokenizeRegex=function(e){return e.replace(/\(\?(i|m|s|x|U)\)/,"~~~~~~Tk1$1~~~~~~").replace(/\(\?(\-[i|m|s|x|U])\)/,"~~~~~~Tk2$1~~~~~~").replace(/\(\?\=(.*)\)/,"~~~~~~Tk3$1~~~~~~").replace(/\(\?\!(.*)\)/,"~~~~~~Tk4$1~~~~~~").replace(/\(\?\<\=(.*)\)/,"~~~~~~Tk5$1~~~~~~").replace(/\(\?\<\!(.*)\)/,"~~~~~~Tk6$1~~~~~~").replace(/\(\?\:(.*)\)/,"~~~~~~Tk7$1~~~~~~")},WYMeditor.ParallelRegex.prototype._untokenizeRegex=function(e){return e.replace(/~~~~~~Tk1(.{1})~~~~~~/,"(?$1)").replace(/~~~~~~Tk2(.{2})~~~~~~/,"(?$1)").replace(/~~~~~~Tk3(.*)~~~~~~/,"(?=$1)").replace(/~~~~~~Tk4(.*)~~~~~~/,"(?!$1)").replace(/~~~~~~Tk5(.*)~~~~~~/,"(?<=$1)").replace(/~~~~~~Tk6(.*)~~~~~~/,"(?<!$1)").replace(/~~~~~~Tk7(.*)~~~~~~/,"(?:$1)")},WYMeditor.ParallelRegex.prototype._getPerlMatchingFlags=function(){return this._case?"m":"mi"},WYMeditor.StateStack=function(e){return this._stack=[e],this},WYMeditor.StateStack.prototype.getCurrent=function(){return this._stack[this._stack.length-1]},WYMeditor.StateStack.prototype.enter=function(e){this._stack.push(e)},WYMeditor.StateStack.prototype.leave=function(){return 1!=this._stack.length&&(this._stack.pop(),!0)},WYMeditor.LEXER_ENTER=1,WYMeditor.LEXER_MATCHED=2,WYMeditor.LEXER_UNMATCHED=3,WYMeditor.LEXER_EXIT=4,WYMeditor.LEXER_SPECIAL=5,WYMeditor.Lexer=function(e,t,n){return t=t||"accept",this._case=n||!1,this._regexes={},this._parser=e,this._mode=new WYMeditor.StateStack(t),this._mode_handlers={},this._mode_handlers[t]=t,this},WYMeditor.Lexer.prototype.addPattern=function(e,t){t=t||"accept";void 0===this._regexes[t]&&(this._regexes[t]=new WYMeditor.ParallelRegex(this._case)),this._regexes[t].addPattern(e),void 0===this._mode_handlers[t]&&(this._mode_handlers[t]=t)},WYMeditor.Lexer.prototype.addEntryPattern=function(e,t,n){void 0===this._regexes[t]&&(this._regexes[t]=new WYMeditor.ParallelRegex(this._case)),this._regexes[t].addPattern(e,n),void 0===this._mode_handlers[n]&&(this._mode_handlers[n]=n)},WYMeditor.Lexer.prototype.addExitPattern=function(e,t){void 0===this._regexes[t]&&(this._regexes[t]=new WYMeditor.ParallelRegex(this._case)),this._regexes[t].addPattern(e,"__exit"),void 0===this._mode_handlers[t]&&(this._mode_handlers[t]=t)},WYMeditor.Lexer.prototype.addSpecialPattern=function(e,t,n){void 0===this._regexes[t]&&(this._regexes[t]=new WYMeditor.ParallelRegex(this._case)),this._regexes[t].addPattern(e,"_"+n),void 0===this._mode_handlers[n]&&(this._mode_handlers[n]=n)},WYMeditor.Lexer.prototype.mapHandler=function(e,t){this._mode_handlers[e]=t},WYMeditor.Lexer.prototype.parse=function(e){if(void 0===this._parser)return!1;for(var t,n=e.length;"object"==typeof(t=this._reduce(e));){e=t[0];var i=t[1],r=t[2],o=t[3];if(!this._dispatchTokens(i,r,o))return!1;if(""==e)return!0;if(e.length==n)return!1;n=e.length}return!!t&&this._invokeParser(e,WYMeditor.LEXER_UNMATCHED)},WYMeditor.Lexer.prototype._dispatchTokens=function(e,t,n){return n=n||!1,!!this._invokeParser(e,WYMeditor.LEXER_UNMATCHED)&&("boolean"==typeof n?this._invokeParser(t,WYMeditor.LEXER_MATCHED):this._isModeEnd(n)?!!this._invokeParser(t,WYMeditor.LEXER_EXIT)&&this._mode.leave():this._isSpecialMode(n)?(this._mode.enter(this._decodeSpecial(n)),!!this._invokeParser(t,WYMeditor.LEXER_SPECIAL)&&this._mode.leave()):(this._mode.enter(n),this._invokeParser(t,WYMeditor.LEXER_ENTER)))},WYMeditor.Lexer.prototype._isModeEnd=function(e){return"__exit"===e},WYMeditor.Lexer.prototype._isSpecialMode=function(e){return"_"==e.substring(0,1)},WYMeditor.Lexer.prototype._decodeSpecial=function(e){return e.substring(1)},WYMeditor.Lexer.prototype._invokeParser=function(content,is_match){if(!/ +/.test(content)&&(""===content||0==content))return!0;var current=this._mode.getCurrent(),handler=this._mode_handlers[current],result;return eval("result = this._parser."+handler+"(content, is_match);"),result},WYMeditor.Lexer.prototype._reduce=function(e){var t=this._regexes[this._mode.getCurrent()].match(e),n=t[1],i=t[0];if(i){var r=e.indexOf(n),o=e.substr(0,r);return[e=e.substring(r+n.length),o,n,i]}return!0},WYMeditor.XhtmlLexer=function(e){return jQuery.extend(this,new WYMeditor.Lexer(e,"Text")),this.mapHandler("Text","Text"),this.addTokens(),this.init(),this},WYMeditor.XhtmlLexer.prototype.init=function(){},WYMeditor.XhtmlLexer.prototype.addTokens=function(){this.addCommentTokens("Text"),this.addScriptTokens("Text"),this.addCssTokens("Text"),this.addTagTokens("Text")},WYMeditor.XhtmlLexer.prototype.addCommentTokens=function(e){this.addEntryPattern("\x3c!--",e,"Comment"),this.addExitPattern("--\x3e","Comment")},WYMeditor.XhtmlLexer.prototype.addScriptTokens=function(e){this.addEntryPattern("<script",e,"Script"),this.addExitPattern("<\/script>","Script")},WYMeditor.XhtmlLexer.prototype.addCssTokens=function(e){this.addEntryPattern("<style",e,"Css"),this.addExitPattern("</style>","Css")},WYMeditor.XhtmlLexer.prototype.addTagTokens=function(e){this.addSpecialPattern("<\\s*[a-z0-9:-]+\\s*>",e,"OpeningTag"),this.addEntryPattern("<[a-z0-9:-]+[\\/ \\>]+",e,"OpeningTag"),this.addInTagDeclarationTokens("OpeningTag"),this.addSpecialPattern("</\\s*[a-z0-9:-]+\\s*>",e,"ClosingTag")},WYMeditor.XhtmlLexer.prototype.addInTagDeclarationTokens=function(e){this.addSpecialPattern("\\s+",e,"Ignore"),this.addAttributeTokens(e),this.addExitPattern("/>",e),this.addExitPattern(">",e)},WYMeditor.XhtmlLexer.prototype.addAttributeTokens=function(e){this.addSpecialPattern("\\s*[a-z-_0-9]*:?[a-z-_0-9]+\\s*(?==)\\s*",e,"TagAttributes"),this.addEntryPattern('=\\s*"',e,"DoubleQuotedAttribute"),this.addPattern('\\\\"',"DoubleQuotedAttribute"),this.addExitPattern('"',"DoubleQuotedAttribute"),this.addEntryPattern("=\\s*'",e,"SingleQuotedAttribute"),this.addPattern("\\\\'","SingleQuotedAttribute"),this.addExitPattern("'","SingleQuotedAttribute"),this.addSpecialPattern("=\\s*[^>\\s]*",e,"UnquotedAttribute")},WYMeditor.XhtmlParser=function(e,t){t=t||"Text";return this._Lexer=new WYMeditor.XhtmlLexer(this),this._Listener=e,this._mode=t,this._matches=[],this._last_match="",this._current_match="",this},WYMeditor.XhtmlParser.prototype.parse=function(e){return this._Lexer.parse(this.beforeParsing(e)),this.afterParsing(this._Listener.getResult())},WYMeditor.XhtmlParser.prototype.beforeParsing=function(e){return(e.match(/class="MsoNormal"/)||e.match(/ns = "urn:schemas-microsoft-com/))&&this._Listener.avoidStylingTagsAndAttributes(),this._Listener.beforeParsing(e)},WYMeditor.XhtmlParser.prototype.afterParsing=function(e){return this._Listener._avoiding_tags_implicitly&&this._Listener.allowStylingTagsAndAttributes(),this._Listener.afterParsing(e)},WYMeditor.XhtmlParser.prototype.Ignore=function(e,t){return!0},WYMeditor.XhtmlParser.prototype.Text=function(e){return this._Listener.addContent(e),!0},WYMeditor.XhtmlParser.prototype.Comment=function(e,t){return this._addNonTagBlock(e,t,"addComment")},WYMeditor.XhtmlParser.prototype.Script=function(e,t){return this._addNonTagBlock(e,t,"addScript")},WYMeditor.XhtmlParser.prototype.Css=function(e,t){return this._addNonTagBlock(e,t,"addCss")},WYMeditor.XhtmlParser.prototype._addNonTagBlock=function(e,t,n){switch(t){case WYMeditor.LEXER_ENTER:this._non_tag=e;break;case WYMeditor.LEXER_UNMATCHED:this._non_tag+=e;break;case WYMeditor.LEXER_EXIT:switch(n){case"addComment":this._Listener.addComment(this._non_tag+e);break;case"addScript":this._Listener.addScript(this._non_tag+e);break;case"addCss":this._Listener.addCss(this._non_tag+e)}}return!0},WYMeditor.XhtmlParser.prototype.OpeningTag=function(e,t){switch(t){case WYMeditor.LEXER_ENTER:this._tag=this.normalizeTag(e),this._tag_attributes={};break;case WYMeditor.LEXER_SPECIAL:this._callOpenTagListener(this.normalizeTag(e));break;case WYMeditor.LEXER_EXIT:this._callOpenTagListener(this._tag,this._tag_attributes)}return!0},WYMeditor.XhtmlParser.prototype.ClosingTag=function(e,t){return this._callCloseTagListener(this.normalizeTag(e)),!0},WYMeditor.XhtmlParser.prototype._callOpenTagListener=function(e,t){t=t||{};this.autoCloseUnclosedBeforeNewOpening(e),this._Listener.isBlockTag(e)?(this._Listener._tag_stack.push(e),this._Listener.fixNestingBeforeOpeningBlockTag(e,t),this._Listener.openBlockTag(e,t),this._increaseOpenTagCounter(e)):this._Listener.isInlineTag(e)?this._Listener.inlineTag(e,t):(this._Listener.openUnknownTag(e,t),this._increaseOpenTagCounter(e)),this._Listener.last_tag=e,this._Listener.last_tag_opened=!0,this._Listener.last_tag_attributes=t},WYMeditor.XhtmlParser.prototype._callCloseTagListener=function(e){if(this._decreaseOpenTagCounter(e))if(this.autoCloseUnclosedBeforeTagClosing(e),this._Listener.isBlockTag(e)){var t=this._Listener._tag_stack.pop();if(0==t)return;t!=e&&(e=t),this._Listener.closeBlockTag(e)}else this._Listener.closeUnknownTag(e);else this._Listener.closeUnopenedTag(e);this._Listener.last_tag=e,this._Listener.last_tag_opened=!1},WYMeditor.XhtmlParser.prototype._increaseOpenTagCounter=function(e){this._Listener._open_tags[e]=this._Listener._open_tags[e]||0,this._Listener._open_tags[e]++},WYMeditor.XhtmlParser.prototype._decreaseOpenTagCounter=function(e){return!!this._Listener._open_tags[e]&&(this._Listener._open_tags[e]--,0==this._Listener._open_tags[e]&&(this._Listener._open_tags[e]=void 0),!0)},WYMeditor.XhtmlParser.prototype.autoCloseUnclosedBeforeNewOpening=function(e){this._autoCloseUnclosed(e,!1)},WYMeditor.XhtmlParser.prototype.autoCloseUnclosedBeforeTagClosing=function(e){this._autoCloseUnclosed(e,!0)},WYMeditor.XhtmlParser.prototype._autoCloseUnclosed=function(e,t){t=t||!1;if(this._Listener._open_tags)for(var n in this._Listener._open_tags){this._Listener._open_tags[n]>0&&this._Listener.shouldCloseTagAutomatically(n,e,t)&&this._callCloseTagListener(n,!0)}},WYMeditor.XhtmlParser.prototype.getTagReplacements=function(){return this._Listener.getTagReplacements()},WYMeditor.XhtmlParser.prototype.normalizeTag=function(e){e=e.replace(/^([\s<\/>]*)|([\s<\/>]*)$/gm,"").toLowerCase();var t=this._Listener.getTagReplacements();return t[e]?t[e]:e},WYMeditor.XhtmlParser.prototype.TagAttributes=function(e,t){return WYMeditor.LEXER_SPECIAL==t&&(this._current_attribute=e),!0},WYMeditor.XhtmlParser.prototype.DoubleQuotedAttribute=function(e,t){return WYMeditor.LEXER_UNMATCHED==t&&(this._tag_attributes[this._current_attribute]=e),!0},WYMeditor.XhtmlParser.prototype.SingleQuotedAttribute=function(e,t){return WYMeditor.LEXER_UNMATCHED==t&&(this._tag_attributes[this._current_attribute]=e),!0},WYMeditor.XhtmlParser.prototype.UnquotedAttribute=function(e,t){return this._tag_attributes[this._current_attribute]=e.replace(/^=/,""),!0},WYMeditor.XhtmlSaxListener=function(){return this.output="",this.helper=new WYMeditor.XmlHelper,this._open_tags={},this.validator=WYMeditor.XhtmlValidator,this._tag_stack=[],this.avoided_tags=[],this.entities={"&nbsp;":"&#160;","&iexcl;":"&#161;","&cent;":"&#162;","&pound;":"&#163;","&curren;":"&#164;","&yen;":"&#165;","&brvbar;":"&#166;","&sect;":"&#167;","&uml;":"&#168;","&copy;":"&#169;","&ordf;":"&#170;","&laquo;":"&#171;","&not;":"&#172;","&shy;":"&#173;","&reg;":"&#174;","&macr;":"&#175;","&deg;":"&#176;","&plusmn;":"&#177;","&sup2;":"&#178;","&sup3;":"&#179;","&acute;":"&#180;","&micro;":"&#181;","&para;":"&#182;","&middot;":"&#183;","&cedil;":"&#184;","&sup1;":"&#185;","&ordm;":"&#186;","&raquo;":"&#187;","&frac14;":"&#188;","&frac12;":"&#189;","&frac34;":"&#190;","&iquest;":"&#191;","&Agrave;":"&#192;","&Aacute;":"&#193;","&Acirc;":"&#194;","&Atilde;":"&#195;","&Auml;":"&#196;","&Aring;":"&#197;","&AElig;":"&#198;","&Ccedil;":"&#199;","&Egrave;":"&#200;","&Eacute;":"&#201;","&Ecirc;":"&#202;","&Euml;":"&#203;","&Igrave;":"&#204;","&Iacute;":"&#205;","&Icirc;":"&#206;","&Iuml;":"&#207;","&ETH;":"&#208;","&Ntilde;":"&#209;","&Ograve;":"&#210;","&Oacute;":"&#211;","&Ocirc;":"&#212;","&Otilde;":"&#213;","&Ouml;":"&#214;","&times;":"&#215;","&Oslash;":"&#216;","&Ugrave;":"&#217;","&Uacute;":"&#218;","&Ucirc;":"&#219;","&Uuml;":"&#220;","&Yacute;":"&#221;","&THORN;":"&#222;","&szlig;":"&#223;","&agrave;":"&#224;","&aacute;":"&#225;","&acirc;":"&#226;","&atilde;":"&#227;","&auml;":"&#228;","&aring;":"&#229;","&aelig;":"&#230;","&ccedil;":"&#231;","&egrave;":"&#232;","&eacute;":"&#233;","&ecirc;":"&#234;","&euml;":"&#235;","&igrave;":"&#236;","&iacute;":"&#237;","&icirc;":"&#238;","&iuml;":"&#239;","&eth;":"&#240;","&ntilde;":"&#241;","&ograve;":"&#242;","&oacute;":"&#243;","&ocirc;":"&#244;","&otilde;":"&#245;","&ouml;":"&#246;","&divide;":"&#247;","&oslash;":"&#248;","&ugrave;":"&#249;","&uacute;":"&#250;","&ucirc;":"&#251;","&uuml;":"&#252;","&yacute;":"&#253;","&thorn;":"&#254;","&yuml;":"&#255;","&OElig;":"&#338;","&oelig;":"&#339;","&Scaron;":"&#352;","&scaron;":"&#353;","&Yuml;":"&#376;","&fnof;":"&#402;","&circ;":"&#710;","&tilde;":"&#732;","&Alpha;":"&#913;","&Beta;":"&#914;","&Gamma;":"&#915;","&Delta;":"&#916;","&Epsilon;":"&#917;","&Zeta;":"&#918;","&Eta;":"&#919;","&Theta;":"&#920;","&Iota;":"&#921;","&Kappa;":"&#922;","&Lambda;":"&#923;","&Mu;":"&#924;","&Nu;":"&#925;","&Xi;":"&#926;","&Omicron;":"&#927;","&Pi;":"&#928;","&Rho;":"&#929;","&Sigma;":"&#931;","&Tau;":"&#932;","&Upsilon;":"&#933;","&Phi;":"&#934;","&Chi;":"&#935;","&Psi;":"&#936;","&Omega;":"&#937;","&alpha;":"&#945;","&beta;":"&#946;","&gamma;":"&#947;","&delta;":"&#948;","&epsilon;":"&#949;","&zeta;":"&#950;","&eta;":"&#951;","&theta;":"&#952;","&iota;":"&#953;","&kappa;":"&#954;","&lambda;":"&#955;","&mu;":"&#956;","&nu;":"&#957;","&xi;":"&#958;","&omicron;":"&#959;","&pi;":"&#960;","&rho;":"&#961;","&sigmaf;":"&#962;","&sigma;":"&#963;","&tau;":"&#964;","&upsilon;":"&#965;","&phi;":"&#966;","&chi;":"&#967;","&psi;":"&#968;","&omega;":"&#969;","&thetasym;":"&#977;","&upsih;":"&#978;","&piv;":"&#982;","&ensp;":"&#8194;","&emsp;":"&#8195;","&thinsp;":"&#8201;","&zwnj;":"&#8204;","&zwj;":"&#8205;","&lrm;":"&#8206;","&rlm;":"&#8207;","&ndash;":"&#8211;","&mdash;":"&#8212;","&lsquo;":"&#8216;","&rsquo;":"&#8217;","&sbquo;":"&#8218;","&ldquo;":"&#8220;","&rdquo;":"&#8221;","&bdquo;":"&#8222;","&dagger;":"&#8224;","&Dagger;":"&#8225;","&bull;":"&#8226;","&hellip;":"&#8230;","&permil;":"&#8240;","&prime;":"&#8242;","&Prime;":"&#8243;","&lsaquo;":"&#8249;","&rsaquo;":"&#8250;","&oline;":"&#8254;","&frasl;":"&#8260;","&euro;":"&#8364;","&image;":"&#8465;","&weierp;":"&#8472;","&real;":"&#8476;","&trade;":"&#8482;","&alefsym;":"&#8501;","&larr;":"&#8592;","&uarr;":"&#8593;","&rarr;":"&#8594;","&darr;":"&#8595;","&harr;":"&#8596;","&crarr;":"&#8629;","&lArr;":"&#8656;","&uArr;":"&#8657;","&rArr;":"&#8658;","&dArr;":"&#8659;","&hArr;":"&#8660;","&forall;":"&#8704;","&part;":"&#8706;","&exist;":"&#8707;","&empty;":"&#8709;","&nabla;":"&#8711;","&isin;":"&#8712;","&notin;":"&#8713;","&ni;":"&#8715;","&prod;":"&#8719;","&sum;":"&#8721;","&minus;":"&#8722;","&lowast;":"&#8727;","&radic;":"&#8730;","&prop;":"&#8733;","&infin;":"&#8734;","&ang;":"&#8736;","&and;":"&#8743;","&or;":"&#8744;","&cap;":"&#8745;","&cup;":"&#8746;","&int;":"&#8747;","&there4;":"&#8756;","&sim;":"&#8764;","&cong;":"&#8773;","&asymp;":"&#8776;","&ne;":"&#8800;","&equiv;":"&#8801;","&le;":"&#8804;","&ge;":"&#8805;","&sub;":"&#8834;","&sup;":"&#8835;","&nsub;":"&#8836;","&sube;":"&#8838;","&supe;":"&#8839;","&oplus;":"&#8853;","&otimes;":"&#8855;","&perp;":"&#8869;","&sdot;":"&#8901;","&lceil;":"&#8968;","&rceil;":"&#8969;","&lfloor;":"&#8970;","&rfloor;":"&#8971;","&lang;":"&#9001;","&rang;":"&#9002;","&loz;":"&#9674;","&spades;":"&#9824;","&clubs;":"&#9827;","&hearts;":"&#9829;","&diams;":"&#9830;"},this.block_tags=["a","abbr","acronym","address","area","b","base","bdo","big","blockquote","body","button","caption","cite","code","col","colgroup","dd","del","div","dfn","dl","dt","em","fieldset","form","head","h1","h2","h3","h4","h5","h6","html","i","ins","kbd","label","legend","li","map","noscript","object","ol","optgroup","option","p","param","pre","q","samp","script","select","small","span","strong","style","sub","sup","table","tbody","td","textarea","tfoot","th","thead","title","tr","tt","ul","var","extends"],this.inline_tags=["br","hr","img","input"],this},WYMeditor.XhtmlSaxListener.prototype.shouldCloseTagAutomatically=function(e,t,n){n=n||!1;return!("td"!=e||!(n&&"tr"==t||!n&&"td"==t))||!("option"!=e||!(n&&"select"==t||!n&&"option"==t))},WYMeditor.XhtmlSaxListener.prototype.beforeParsing=function(e){return this.output="",e},WYMeditor.XhtmlSaxListener.prototype.afterParsing=function(e){return e=this.replaceNamedEntities(e),e=this.joinRepeatedEntities(e),e=this.removeEmptyTags(e),e=this.removeBrInPre(e)},WYMeditor.XhtmlSaxListener.prototype.replaceNamedEntities=function(e){for(var t in this.entities)e=e.replace(new RegExp(t,"g"),this.entities[t]);return e},WYMeditor.XhtmlSaxListener.prototype.joinRepeatedEntities=function(e){var t="em|strong|sub|sup|acronym|pre|del|address";return e.replace(new RegExp("</("+t+")><\\1>",""),"").replace(new RegExp("(s*<("+t+")>s*){2}(.*)(s*</\\2>s*){2}",""),"<$2>$3<$2>")},WYMeditor.XhtmlSaxListener.prototype.removeEmptyTags=function(e){return e.replace(new RegExp("<("+this.block_tags.join("|").replace(/\|td/,"").replace(/\|p/,"").replace(/\|th/,"")+")>(<br />|&#160;|&nbsp;|\\s)*</\\1>","g"),"")},WYMeditor.XhtmlSaxListener.prototype.removeBrInPre=function(e){var t=e.match(new RegExp("<pre[^>]*>(.*?)</pre>","gmi"));if(t)for(var n=0;n<t.length;n++)e=e.replace(t[n],t[n].replace(new RegExp("<br />","g"),String.fromCharCode(13,10)));return e},WYMeditor.XhtmlSaxListener.prototype.getResult=function(){return this.output},WYMeditor.XhtmlSaxListener.prototype.getTagReplacements=function(){return{b:"strong",i:"em"}},WYMeditor.XhtmlSaxListener.prototype.addContent=function(e){this.output+=e},WYMeditor.XhtmlSaxListener.prototype.addComment=function(e){this.remove_comments&&(this.output+=e)},WYMeditor.XhtmlSaxListener.prototype.addScript=function(e){this.remove_scripts||(this.output+=e)},WYMeditor.XhtmlSaxListener.prototype.addCss=function(e){this.remove_embeded_styles||(this.output+=e)},WYMeditor.XhtmlSaxListener.prototype.openBlockTag=function(e,t){this.output+=this.helper.tag(e,this.validator.getValidTagAttributes(e,t),!0)},WYMeditor.XhtmlSaxListener.prototype.inlineTag=function(e,t){this.output+=this.helper.tag(e,this.validator.getValidTagAttributes(e,t))},WYMeditor.XhtmlSaxListener.prototype.openUnknownTag=function(e,t){},WYMeditor.XhtmlSaxListener.prototype.closeBlockTag=function(e){this.output=this.output.replace(/<br \/>$/,"")+this._getClosingTagContent("before",e)+"</"+e+">"+this._getClosingTagContent("after",e)},WYMeditor.XhtmlSaxListener.prototype.closeUnknownTag=function(e){},WYMeditor.XhtmlSaxListener.prototype.closeUnopenedTag=function(e){this.output+="</"+e+">"},WYMeditor.XhtmlSaxListener.prototype.avoidStylingTagsAndAttributes=function(){this.avoided_tags=["div","span"],this.validator.skiped_attributes=["style"],this.validator.skiped_attribute_values=["MsoNormal","main1"],this._avoiding_tags_implicitly=!0},WYMeditor.XhtmlSaxListener.prototype.allowStylingTagsAndAttributes=function(){this.avoided_tags=[],this.validator.skiped_attributes=[],this.validator.skiped_attribute_values=[],this._avoiding_tags_implicitly=!1},WYMeditor.XhtmlSaxListener.prototype.isBlockTag=function(e){return!WYMeditor.Helper.contains(this.avoided_tags,e)&&WYMeditor.Helper.contains(this.block_tags,e)},WYMeditor.XhtmlSaxListener.prototype.isInlineTag=function(e){return!WYMeditor.Helper.contains(this.avoided_tags,e)&&WYMeditor.Helper.contains(this.inline_tags,e)},WYMeditor.XhtmlSaxListener.prototype.insertContentAfterClosingTag=function(e,t){this._insertContentWhenClosingTag("after",e,t)},WYMeditor.XhtmlSaxListener.prototype.insertContentBeforeClosingTag=function(e,t){this._insertContentWhenClosingTag("before",e,t)},WYMeditor.XhtmlSaxListener.prototype.fixNestingBeforeOpeningBlockTag=function(e,t){"li"==e||"ul"!=e&&"ol"!=e||!this.last_tag||this.last_tag_opened||"li"!=this.last_tag||(this.output=this.output.replace(/<\/li>$/,""),this.insertContentAfterClosingTag(e,"</li>"))},WYMeditor.XhtmlSaxListener.prototype._insertContentWhenClosingTag=function(e,t,n){this["_insert_"+e+"_closing"]||(this["_insert_"+e+"_closing"]=[]),this["_insert_"+e+"_closing"][t]||(this["_insert_"+e+"_closing"][t]=[]),this["_insert_"+e+"_closing"][t].push(n)},WYMeditor.XhtmlSaxListener.prototype._getClosingTagContent=function(e,t){return this["_insert_"+e+"_closing"]&&this["_insert_"+e+"_closing"][t]&&this["_insert_"+e+"_closing"][t].length>0?this["_insert_"+e+"_closing"][t].pop():""},WYMeditor.WymCssLexer=function(e,t){t=void 0===t||t;return jQuery.extend(this,new WYMeditor.Lexer(e,t?"Ignore":"WymCss")),this.mapHandler("WymCss","Ignore"),1==t&&(this.addEntryPattern("/\\*[<\\s]*WYMeditor[>\\s]*\\*/","Ignore","WymCss"),this.addExitPattern("/\\*[</\\s]*WYMeditor[>\\s]*\\*/","WymCss")),this.addSpecialPattern("[\\sa-z1-6]*\\.[a-z-_0-9]+","WymCss","WymCssStyleDeclaration"),this.addEntryPattern("/\\*","WymCss","WymCssComment"),this.addExitPattern("\\*/","WymCssComment"),this.addEntryPattern("{","WymCss","WymCssStyle"),this.addExitPattern("}","WymCssStyle"),this.addEntryPattern("/\\*","WymCssStyle","WymCssFeedbackStyle"),this.addExitPattern("\\*/","WymCssFeedbackStyle"),this},WYMeditor.WymCssParser=function(){return this._in_style=!1,this._has_title=!1,this.only_wym_blocks=!0,this.css_settings={classesItems:[],editorStyles:[],dialogStyles:[]},this},WYMeditor.WymCssParser.prototype.parse=function(e,t){t=void 0===t?this.only_wym_blocks:t;this._Lexer=new WYMeditor.WymCssLexer(this,t),this._Lexer.parse(e)},WYMeditor.WymCssParser.prototype.Ignore=function(e,t){return!0},WYMeditor.WymCssParser.prototype.WymCssComment=function(e,t){return!e.match(/end[a-z0-9\s]*wym[a-z0-9\s]*/im)&&(t==WYMeditor.LEXER_UNMATCHED&&(this._in_style?this._current_item[this._current_element]&&(this._current_item[this._current_element].expressions?this._current_item[this._current_element].expressions.push(e):this._current_item[this._current_element].expressions=[e]):(this._has_title=!0,this._current_item={title:WYMeditor.Helper.trim(e)}),this._in_style=!0),!0)},WYMeditor.WymCssParser.prototype.WymCssStyle=function(e,t){return t==WYMeditor.LEXER_UNMATCHED?""!=(e=WYMeditor.Helper.trim(e))&&(this._current_item[this._current_element].style=e):t==WYMeditor.LEXER_EXIT&&(this._in_style=!1,this._has_title=!1,this.addStyleSetting(this._current_item)),!0},WYMeditor.WymCssParser.prototype.WymCssFeedbackStyle=function(e,t){return t==WYMeditor.LEXER_UNMATCHED&&(this._current_item[this._current_element].feedback_style=e.replace(/^([\s\/\*]*)|([\s\/\*]*)$/gm,"")),!0},WYMeditor.WymCssParser.prototype.WymCssStyleDeclaration=function(e){var t="";if((e=e.replace(/^([\s\.]*)|([\s\.*]*)$/gm,"")).indexOf(".")>0){var n=e.split(".");this._current_element=n[1];t=n[0]}else this._current_element=e;return this._has_title||(this._current_item={title:(t?t.toUpperCase()+": ":"")+this._current_element},this._has_title=!0),this._current_item[this._current_element]||(this._current_item[this._current_element]={name:this._current_element}),t&&(this._current_item[this._current_element].tags?this._current_item[this._current_element].tags.push(t):this._current_item[this._current_element].tags=[t]),!0},WYMeditor.WymCssParser.prototype.addStyleSetting=function(e){for(var t in e){var n=e[t];"object"==typeof n&&"title"!=t&&(this.css_settings.classesItems.push({name:WYMeditor.Helper.trim(n.name),title:e.title,expr:WYMeditor.Helper.trim((n.expressions||n.tags).join(", "))}),n.feedback_style&&this.css_settings.editorStyles.push({name:"."+WYMeditor.Helper.trim(n.name),css:n.feedback_style}),n.style&&this.css_settings.dialogStyles.push({name:"."+WYMeditor.Helper.trim(n.name),css:n.style}))}},jQuery.fn.isPhantomNode=function(){return 3==this[0].nodeType&&!/[^\t\n\r ]/.test(this[0].data)},WYMeditor.isPhantomNode=function(e){return 3==e.nodeType&&!/[^\t\n\r ]/.test(e.data)},WYMeditor.isPhantomString=function(e){return!/[^\t\n\r ]/.test(e)},jQuery.fn.parentsOrSelf=function(e){var t=this;return 3==t[0].nodeType&&(t=t.parents().slice(0,1)),1==t.filter(e).size()?t:t.parents(e).slice(0,1)},WYMeditor.Helper={replaceAll:function(e,t,n){var i=new RegExp(t,"g");return e.replace(i,n)},insertAt:function(e,t,n){return e.substr(0,n)+t+e.substring(n)},trim:function(e){return e.replace(/^(\s*)|(\s*)$/gm,"")},contains:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},indexOf:function(e,t){for(var n=-1,i=0;i<e.length;i++)if(e[i]==t){n=i;break}return n},findByName:function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.name==t)return i}return null}},WYMeditor.WymClassExplorer=function(e){this._wym=e,this._class="className",this._newLine="\r\n"},WYMeditor.WymClassExplorer.prototype.initIframe=function(iframe){this._iframe=iframe,this._doc=iframe.contentWindow.document;var styles=this._doc.styleSheets[0],aCss=eval(this._options.editorStyles);this.addCssRules(this._doc,aCss),this._doc.title=this._wym._index,jQuery("html",this._doc).attr("dir",this._options.direction),jQuery(this._doc.body).html(this._wym._html);var wym=this;this._doc.body.onfocus=function(){wym._doc.designMode="on",wym._doc=iframe.contentWindow.document},this._doc.onbeforedeactivate=function(){wym.saveCaret()},this._doc.onkeyup=function(){wym.saveCaret(),wym.keyup()},this._doc.onclick=function(){wym.saveCaret()},this._doc.body.onbeforepaste=function(){wym._iframe.contentWindow.event.returnValue=!1},this._doc.body.onpaste=function(){wym._iframe.contentWindow.event.returnValue=!1,wym.paste(window.clipboardData.getData("Text"))},this._initialized&&(jQuery.isFunction(this._options.preBind)&&this._options.preBind(this),this._wym.bindEvents(),jQuery.isFunction(this._options.postInit)&&this._options.postInit(this),this.listen()),this._initialized=!0,this._doc.designMode="on";try{this._doc=iframe.contentWindow.document}catch(e){}},WYMeditor.WymClassExplorer.prototype._exec=function(e,t){switch(e){case WYMeditor.INDENT:case WYMeditor.OUTDENT:var n=this.findUp(this.container(),WYMeditor.LI);if(n){var i=n.parentNode.parentNode;(n.parentNode.childNodes.length>1||i.tagName.toLowerCase()==WYMeditor.OL||i.tagName.toLowerCase()==WYMeditor.UL)&&this._doc.execCommand(e)}break;default:t?this._doc.execCommand(e,!1,t):this._doc.execCommand(e)}this.listen()},WYMeditor.WymClassExplorer.prototype.selected=function(){var e=this._iframe.contentWindow.document.caretPos;if(null!=e&&void 0!=e.parentElement)return e.parentElement()},WYMeditor.WymClassExplorer.prototype.saveCaret=function(){this._doc.caretPos=this._doc.selection.createRange()},WYMeditor.WymClassExplorer.prototype.addCssRule=function(e,t){e.addRule(t.name,t.css)},WYMeditor.WymClassExplorer.prototype.insert=function(e){var t=this._doc.selection.createRange();if(jQuery(t.parentElement()).parents(this._options.iframeBodySelector).is("*"))try{t.pasteHTML(e)}catch(e){}else this.paste(e)},WYMeditor.WymClassExplorer.prototype.wrap=function(e,t){var n=this._doc.selection.createRange();if(jQuery(n.parentElement()).parents(this._options.iframeBodySelector).is("*"))try{n.pasteHTML(e+n.text+t)}catch(e){}},WYMeditor.WymClassExplorer.prototype.unwrap=function(){var e=this._doc.selection.createRange();if(jQuery(e.parentElement()).parents(this._options.iframeBodySelector).is("*"))try{var t=e.text;this._exec("Cut"),e.pasteHTML(t)}catch(e){}},WYMeditor.WymClassExplorer.prototype.keyup=function(){this._selected_image=null},WYMeditor.WymClassExplorer.prototype.setFocusToNode=function(e){var t=this._doc.selection.createRange();t.moveToElementText(e),t.collapse(!1),t.move("character",-1),t.select(),e.focus()},WYMeditor.WymClassMozilla=function(e){this._wym=e,this._class="class",this._newLine="\n"},WYMeditor.WymClassMozilla.prototype.initIframe=function(iframe){this._iframe=iframe,this._doc=iframe.contentDocument;var styles=this._doc.styleSheets[0],aCss=eval(this._options.editorStyles);this.addCssRules(this._doc,aCss),this._doc.title=this._wym._index,jQuery("html",this._doc).attr("dir",this._options.direction),this.html(this._wym._html),this.enableDesignMode(),jQuery.isFunction(this._options.preBind)&&this._options.preBind(this),this._wym.bindEvents(),jQuery(this._doc).bind("keydown",this.keydown),jQuery(this._doc).bind("keyup",this.keyup),jQuery(this._doc).bind("focus",this.enableDesignMode),jQuery.isFunction(this._options.postInit)&&this._options.postInit(this),this.listen()},WYMeditor.WymClassMozilla.prototype.html=function(e){if("string"!=typeof e)return jQuery(this._doc.body).html();try{this._doc.designMode="off"}catch(e){}e=e.replace(/<em(\b[^>]*)>/gi,"<i$1>").replace(/<\/em>/gi,"</i>").replace(/<strong(\b[^>]*)>/gi,"<b$1>").replace(/<\/strong>/gi,"</b>"),jQuery(this._doc.body).html(e),this.enableDesignMode()},WYMeditor.WymClassMozilla.prototype._exec=function(e,t){if(!this.selected())return!1;switch(e){case WYMeditor.INDENT:case WYMeditor.OUTDENT:var n=this.selected(),i=this._iframe.contentWindow.getSelection().anchorNode;if("#text"==i.nodeName&&(i=i.parentNode),n=this.findUp(n,WYMeditor.BLOCKS),i=this.findUp(i,WYMeditor.BLOCKS),n&&n==i&&n.tagName.toLowerCase()==WYMeditor.LI){var r=n.parentNode.parentNode;(n.parentNode.childNodes.length>1||r.tagName.toLowerCase()==WYMeditor.OL||r.tagName.toLowerCase()==WYMeditor.UL)&&this._doc.execCommand(e,"",null)}break;default:t?this._doc.execCommand(e,"",t):this._doc.execCommand(e,"",null)}this.selected().tagName.toLowerCase()==WYMeditor.BODY&&this._exec(WYMeditor.FORMAT_BLOCK,WYMeditor.P),this.listen()},WYMeditor.WymClassMozilla.prototype.selected=function(){var e=this._iframe.contentWindow.getSelection().focusNode;return e?"#text"==e.nodeName?e.parentNode:e:null},WYMeditor.WymClassMozilla.prototype.addCssRule=function(e,t){e.insertRule(t.name+" {"+t.css+"}",e.cssRules.length)},WYMeditor.WymClassMozilla.prototype.keydown=function(e){var t=WYMeditor.INSTANCES[this.title],n=null;if(e.keyCode===WYMeditor.KEY.ENTER&&(n=t.selected())){var i=$(n),r=(i.parent(),i.parents(".embedded-item"));if(r.size()){var o=$("<p/>");return i.hasClass("title")?r.before(o):i.hasClass("content")&&r.after(o),t.setFocusToNode(o.get(0)),!1}}if(e.ctrlKey){if(66==e.keyCode)return t._exec(WYMeditor.BOLD),!1;if(73==e.keyCode)return t._exec(WYMeditor.ITALIC),!1}else 13==e.keyCode&&(e.shiftKey||(n=t.selected())&&n.tagName.toLowerCase()==WYMeditor.PRE&&(e.preventDefault(),t.insert("<p></p>")))},WYMeditor.WymClassMozilla.prototype.keyup=function(e){var t=WYMeditor.INSTANCES[this.title];t._selected_image=null;var n=null;if(13!=e.keyCode||e.shiftKey){if(8!=e.keyCode&&17!=e.keyCode&&46!=e.keyCode&&224!=e.keyCode&&!e.metaKey&&!e.ctrlKey){var i=(n=t.selected()).tagName.toLowerCase();"strong"!=i&&"b"!=i&&"em"!=i&&"i"!=i&&"sub"!=i&&"sup"!=i&&"a"!=i||(i=n.parentNode.tagName.toLowerCase()),i==WYMeditor.BODY&&t._exec(WYMeditor.FORMAT_BLOCK,WYMeditor.P)}}else jQuery(t._doc.body).children(WYMeditor.BR).remove()},WYMeditor.WymClassMozilla.prototype.enableDesignMode=function(){if("off"==this.designMode)try{this.designMode="on",this.execCommand("styleWithCSS","",!1)}catch(e){}},WYMeditor.WymClassMozilla.prototype.setFocusToNode=function(e){var t=document.createRange();t.selectNode(e);var n=this._iframe.contentWindow.getSelection();n.addRange(t),n.collapse(e,e.childNodes.length),this._iframe.contentWindow.focus()},WYMeditor.WymClassMozilla.prototype.openBlockTag=function(e,t){t=this.validator.getValidTagAttributes(e,t);if("span"==e&&t.style){var n=this.getTagForStyle(t.style);if(!n)return;this._tag_stack.pop();e=n;this._tag_stack.push(n),t.style=""}this.output+=this.helper.tag(e,t,!0)},WYMeditor.WymClassMozilla.prototype.getTagForStyle=function(e){return/bold/.test(e)?"strong":/italic/.test(e)?"em":/sub/.test(e)?"sub":!!/sub/.test(e)&&"super"},WYMeditor.WymClassOpera=function(e){this._wym=e,this._class="class",this._newLine="\r\n"},WYMeditor.WymClassOpera.prototype.initIframe=function(iframe){this._iframe=iframe,this._doc=iframe.contentWindow.document;var styles=this._doc.styleSheets[0],aCss=eval(this._options.editorStyles);this.addCssRules(this._doc,aCss),this._doc.title=this._wym._index,jQuery("html",this._doc).attr("dir",this._options.direction),this._doc.designMode="on",this.html(this._wym._html),jQuery.isFunction(this._options.preBind)&&this._options.preBind(this),this._wym.bindEvents(),jQuery(this._doc).bind("keydown",this.keydown),jQuery(this._doc).bind("keyup",this.keyup),jQuery.isFunction(this._options.postInit)&&this._options.postInit(this),this.listen()},WYMeditor.WymClassOpera.prototype._exec=function(e,t){t?this._doc.execCommand(e,!1,t):this._doc.execCommand(e),this.listen()},WYMeditor.WymClassOpera.prototype.selected=function(){var e=this._iframe.contentWindow.getSelection().focusNode;return e?"#text"==e.nodeName?e.parentNode:e:null},WYMeditor.WymClassOpera.prototype.addCssRule=function(e,t){e.insertRule(t.name+" {"+t.css+"}",e.cssRules.length)},WYMeditor.WymClassOpera.prototype.keydown=function(e){var t=WYMeditor.INSTANCES[this.title],n=t._iframe.contentWindow.getSelection();startNode=n.getRangeAt(0).startContainer,jQuery(startNode).parentsOrSelf(WYMeditor.MAIN_CONTAINERS.join(","))[0]||jQuery(startNode).parentsOrSelf("li")||e.keyCode==WYMeditor.KEY.ENTER||e.keyCode==WYMeditor.KEY.LEFT||e.keyCode==WYMeditor.KEY.UP||e.keyCode==WYMeditor.KEY.RIGHT||e.keyCode==WYMeditor.KEY.DOWN||e.keyCode==WYMeditor.KEY.BACKSPACE||e.keyCode==WYMeditor.KEY.DELETE||t._exec(WYMeditor.FORMAT_BLOCK,WYMeditor.P)},WYMeditor.WymClassOpera.prototype.keyup=function(e){WYMeditor.INSTANCES[this.title]._selected_image=null},WYMeditor.WymClassOpera.prototype.setFocusToNode=function(e){},WYMeditor.WymClassSafari=function(e){this._wym=e,this._class="class",this._newLine="\n"},WYMeditor.WymClassSafari.prototype.initIframe=function(iframe){this._iframe=iframe,this._doc=iframe.contentDocument;var styles=this._doc.styleSheets[0],aCss=eval(this._options.editorStyles);this.addCssRules(this._doc,aCss),this._doc.title=this._wym._index,jQuery("html",this._doc).attr("dir",this._options.direction),this._doc.designMode="on",this.html(this._wym._html),jQuery.isFunction(this._options.preBind)&&this._options.preBind(this),this._wym.bindEvents(),jQuery(this._doc).bind("keydown",this.keydown),jQuery(this._doc).bind("keyup",this.keyup),jQuery.isFunction(this._options.postInit)&&this._options.postInit(this),this.listen()},WYMeditor.WymClassSafari.prototype._exec=function(e,t){if(!this.selected())return!1;switch(e){case WYMeditor.INDENT:case WYMeditor.OUTDENT:var n=this.selected(),i=this._iframe.contentWindow.getSelection().anchorNode;if("#text"==i.nodeName&&(i=i.parentNode),n=this.findUp(n,WYMeditor.BLOCKS),i=this.findUp(i,WYMeditor.BLOCKS),n&&n==i&&n.tagName.toLowerCase()==WYMeditor.LI){var r=n.parentNode.parentNode;(n.parentNode.childNodes.length>1||r.tagName.toLowerCase()==WYMeditor.OL||r.tagName.toLowerCase()==WYMeditor.UL)&&this._doc.execCommand(e,"",null)}break;case WYMeditor.INSERT_ORDEREDLIST:case WYMeditor.INSERT_UNORDEREDLIST:this._doc.execCommand(e,"",null);n=this.selected();(o=this.findUp(n,WYMeditor.MAIN_CONTAINERS))&&jQuery(o).replaceWith(jQuery(o).html());break;default:t?this._doc.execCommand(e,"",t):this._doc.execCommand(e,"",null)}var o;(o=this.selected())&&o.tagName.toLowerCase()==WYMeditor.BODY&&this._exec(WYMeditor.FORMAT_BLOCK,WYMeditor.P),this.listen()},WYMeditor.WymClassSafari.prototype.selected=function(){var e=this._iframe.contentWindow.getSelection().focusNode;return e?"#text"==e.nodeName?e.parentNode:e:null},WYMeditor.WymClassSafari.prototype.addCssRule=function(e,t){e.insertRule(t.name+" {"+t.css+"}",e.cssRules.length)},WYMeditor.WymClassSafari.prototype.keydown=function(e){var t=WYMeditor.INSTANCES[this.title];if(e.keyCode===WYMeditor.KEY.ENTER){var n=t.selected();if(n){var i=$(n),r=(i.parent(),i.parents(".embedded-item"));if(r.size()){var o=$("<p/>");return i.hasClass("title")?r.before(o):i.hasClass("content")&&r.after(o),t.setFocusToNode(o.get(0)),!1}}}if(e.ctrlKey){if(66==e.keyCode)return t._exec(WYMeditor.BOLD),!1;if(73==e.keyCode)return t._exec(WYMeditor.ITALIC),!1}},WYMeditor.WymClassSafari.prototype.keyup=function(e){var t=WYMeditor.INSTANCES[this.title];t._selected_image=null;var n=null;if(13!=e.keyCode||e.shiftKey||(jQuery(t._doc.body).children(WYMeditor.BR).remove(),(n=t.selected())&&n.tagName.toLowerCase()==WYMeditor.PRE&&t._exec(WYMeditor.FORMAT_BLOCK,WYMeditor.P)),13==e.keyCode&&e.shiftKey&&t._exec("InsertLineBreak"),8!=e.keyCode&&17!=e.keyCode&&46!=e.keyCode&&224!=e.keyCode&&!e.metaKey&&!e.ctrlKey){var i=(n=t.selected()).tagName.toLowerCase();"strong"!=i&&"b"!=i&&"em"!=i&&"i"!=i&&"sub"!=i&&"sup"!=i&&"a"!=i&&"span"!=i||(i=n.parentNode.tagName.toLowerCase()),i!=WYMeditor.BODY&&i!=WYMeditor.DIV||t._exec(WYMeditor.FORMAT_BLOCK,WYMeditor.P)}},WYMeditor.WymClassSafari.prototype.setFocusToNode=function(e){var t=this._iframe.contentDocument.createRange();t.selectNode(e);var n=this._iframe.contentWindow.getSelection();n.addRange(t),n.collapse(e,e.childNodes.length),this._iframe.contentWindow.focus()},WYMeditor.WymClassSafari.prototype.openBlockTag=function(e,t){t=this.validator.getValidTagAttributes(e,t);if("span"==e&&t.style){var n=this.getTagForStyle(t.style);if(!n)return;this._tag_stack.pop();e=n;this._tag_stack.push(n),t.style="","string"==typeof t.class&&(t.class=t.class.replace(/apple-style-span/gi,""))}this.output+=this.helper.tag(e,t,!0)},WYMeditor.WymClassSafari.prototype.getTagForStyle=function(e){return/bold/.test(e)?"strong":/italic/.test(e)?"em":/sub/.test(e)?"sub":!!/super/.test(e)&&"sup"},window.WYMeditor=WYMeditor}).call(this,__webpack_require__(0),__webpack_require__(0))},function(e,t,n){(function(e){
/**
 * @fileOverview jquery-autocomplete, the jQuery Autocompleter
 * @author <a href="mailto:dylan@dyve.net">Dylan Verheul</a>
 * @version 2.4.4
 * @requires jQuery 1.6+
 * @license MIT | GPL | Apache 2.0, see LICENSE.txt
 * @see https://github.com/dyve/jquery-autocomplete
 */
!function(e){"use strict";e.fn.autocomplete_verheul=function(t){var n;arguments.length>1?(n=t,(t=arguments[1]).url=n):"string"==typeof t&&(t={url:n=t});var i=e.extend({},e.fn.autocomplete_verheul.defaults,t);return this.each(function(){var t=e(this);t.data("autocompleter",new e.Autocompleter(t,e.meta?e.extend({},i,t.data()):i))})},e.fn.autocomplete_verheul.defaults={inputClass:"acInput",loadingClass:"acLoading",resultsClass:"acResults",selectClass:"acSelect",queryParamName:"q",extraParams:{},remoteDataType:!1,lineSeparator:"\n",cellSeparator:"|",minChars:2,maxItemsToShow:10,delay:400,useCache:!0,maxCacheLength:10,matchSubset:!0,matchCase:!1,matchInside:!0,mustMatch:!1,selectFirst:!1,selectOnly:!1,showResult:null,preventDefaultReturn:1,preventDefaultTab:0,autoFill:!1,filterResults:!0,filter:!0,sortResults:!0,sortFunction:null,onItemSelect:null,onNoMatch:null,onFinish:null,matchStringConverter:null,beforeUseConverter:null,autoWidth:"min-width",useDelimiter:!1,delimiterChar:",",delimiterKeyCode:188,processData:null,onError:null,enabled:!0};var t=function(t){var n,i,r=typeof t;return"string"===r?(n=t,i={}):e.isArray(t)?(n=t[0],i=t.slice(1)):"object"===r&&(n=t.value,i=t.data),n=String(n),"object"!=typeof i&&(i={}),{value:n,data:i}},n=function(e,t,n){var i=parseInt(e,10);return n=n||{},(isNaN(i)||n.min&&i<n.min)&&(i=t),i},i=function(t,n){var i=[];return e.each(n,function(e,t){i.push(function(e,t){return[e,encodeURIComponent(t)].join("=")}(e,t))}),i.length&&(t+=-1===t.indexOf("?")?"?":"&",t+=i.join("&")),t};e.Autocompleter=function(t,i){if(!t||!(t instanceof e)||1!==t.length||"INPUT"!==t.get(0).tagName.toUpperCase()&&"TEXTAREA"!==t.get(0).tagName.toUpperCase())throw new Error("Invalid parameter for jquery.Autocompleter, jQuery object with one element with INPUT or TEXTAREA tag expected.");var r=this;this.options=i,this.cacheData_={},this.cacheLength_=0,this.selectClass_="jquery-autocomplete-selected-item",this.keyTimeout_=null,this.finishTimeout_=null,this.lastKeyPressed_=null,this.lastProcessedValue_=null,this.lastSelectedValue_=null,this.active_=!1,this.finishOnBlur_=!0,this.options.minChars=n(this.options.minChars,e.fn.autocomplete_verheul.defaults.minChars,{min:0}),this.options.maxItemsToShow=n(this.options.maxItemsToShow,e.fn.autocomplete_verheul.defaults.maxItemsToShow,{min:0}),this.options.maxCacheLength=n(this.options.maxCacheLength,e.fn.autocomplete_verheul.defaults.maxCacheLength,{min:1}),this.options.delay=n(this.options.delay,e.fn.autocomplete_verheul.defaults.delay,{min:0}),2!=this.options.preventDefaultReturn&&(this.options.preventDefaultReturn=this.options.preventDefaultReturn?1:0),2!=this.options.preventDefaultTab&&(this.options.preventDefaultTab=this.options.preventDefaultTab?1:0),this.dom={},this.dom.$elem=t,this.dom.$elem.attr("autocomplete","off").addClass(this.options.inputClass),this.dom.$results=e("<div></div>").hide().addClass(this.options.resultsClass).css({position:"absolute"}),e("body").append(this.dom.$results),t.keydown(function(e){switch(r.lastKeyPressed_=e.keyCode,r.lastKeyPressed_){case r.options.delimiterKeyCode:r.options.useDelimiter&&r.active_&&r.selectCurrent();break;case 35:case 36:case 16:case 17:case 18:case 37:case 39:break;case 38:return e.preventDefault(),r.active_?r.focusPrev():r.activate(),!1;case 40:return e.preventDefault(),r.active_?r.focusNext():r.activate(),!1;case 9:if(r.active_&&(r.selectCurrent(),r.options.preventDefaultTab))return e.preventDefault(),!1;if(2===r.options.preventDefaultTab)return e.preventDefault(),!1;break;case 13:if(r.active_&&(r.selectCurrent(),r.options.preventDefaultReturn))return e.preventDefault(),!1;if(2===r.options.preventDefaultReturn)return e.preventDefault(),!1;break;case 27:if(r.active_)return e.preventDefault(),r.deactivate(!0),!1;break;default:r.activate()}}),t.on("paste",function(){r.activate()});var o=function(){r.deactivate(!0)};t.blur(function(){r.finishOnBlur_&&(r.finishTimeout_=setTimeout(o,200))}),t.parents("form").on("submit",o)},e.Autocompleter.prototype.position=function(){var t=this.dom.$elem.offset(),n=this.dom.$results.outerHeight(),i=e(window).outerHeight(),r=t.top+this.dom.$elem.outerHeight(),o=r+n,a={top:r,left:t.left};if(o>i){var s=t.top-n;s>=0&&(a.top=s)}this.dom.$results.css(a)},e.Autocompleter.prototype.cacheRead=function(e){var t,n,i,r,o;if(this.options.useCache)for(t=(e=String(e)).length,n=this.options.matchSubset?1:t;n<=t;){for(r=this.options.matchInside?t-n:0,o=0;o<=r;){if(i=e.substr(0,n),void 0!==this.cacheData_[i])return this.cacheData_[i];o++}n++}return!1},e.Autocompleter.prototype.cacheWrite=function(e,t){return!!this.options.useCache&&(this.cacheLength_>=this.options.maxCacheLength&&this.cacheFlush(),e=String(e),void 0!==this.cacheData_[e]&&this.cacheLength_++,this.cacheData_[e]=t,this.cacheData_[e])},e.Autocompleter.prototype.cacheFlush=function(){this.cacheData_={},this.cacheLength_=0},e.Autocompleter.prototype.callHook=function(t,n){var i=this.options[t];return!(!i||!e.isFunction(i))&&i(n,this)},e.Autocompleter.prototype.activate=function(){if(this.options.enabled){var e=this;this.keyTimeout_&&clearTimeout(this.keyTimeout_),this.keyTimeout_=setTimeout(function(){e.activateNow()},this.options.delay)}},e.Autocompleter.prototype.activateNow=function(){var e=this.beforeUseConverter(this.dom.$elem.val());e!==this.lastProcessedValue_&&e!==this.lastSelectedValue_&&this.fetchData(e)},e.Autocompleter.prototype.fetchData=function(e){var t=this,n=function(e,n){t.options.processData&&(e=t.options.processData(e)),t.showResults(t.filterResults(e,n),n)};this.lastProcessedValue_=e,e.length<this.options.minChars?n([],e):this.options.data?n(this.options.data,e):this.fetchRemoteData(e,function(t){n(t,e)})},e.Autocompleter.prototype.fetchRemoteData=function(t,n){var i=this.cacheRead(t);if(i)n(i);else{var r=this,o="json"===r.options.remoteDataType?"json":"text",a=function(e){var i=!1;!1!==e&&(i=r.parseRemoteData(e),r.cacheWrite(t,i)),r.dom.$elem.removeClass(r.options.loadingClass),n(i)};this.dom.$elem.addClass(this.options.loadingClass),e.ajax({url:this.makeUrl(t),success:a,error:function(t,n,i){e.isFunction(r.options.onError)?r.options.onError(t,n,i):a(!1)},dataType:o})}},e.Autocompleter.prototype.setExtraParam=function(t,n){var i=e.trim(String(t));return i&&(this.options.extraParams||(this.options.extraParams={}),this.options.extraParams[i]!==n&&(this.options.extraParams[i]=n,this.cacheFlush())),this},e.Autocompleter.prototype.makeUrl=function(t){var n=this.options.url,r=e.extend({},this.options.extraParams);return!1===this.options.queryParamName?n+=encodeURIComponent(t):r[this.options.queryParamName]=t,i(n,r)},e.Autocompleter.prototype.parseRemoteData=function(t){var n,i=t;if("json"===this.options.remoteDataType){switch(n=typeof t){case"object":i=t;break;case"string":i=e.parseJSON(t);break;default:throw new Error("Unexpected remote data type: "+n)}return i}return function(e,t,n){var i,r,o,a,s,l,c=[];for(l=String(e).replace("\r\n","\n").split(t),i=0;i<l.length;i++){for(a=l[i].split(n),o=[],r=0;r<a.length;r++)o.push(decodeURIComponent(a[r]));s=o.shift(),c.push({value:s,data:o})}return c}(i,this.options.lineSeparator,this.options.cellSeparator)},e.Autocompleter.prototype.defaultFilter=function(e,t){if(!e.value)return!1;if(this.options.filterResults){var n=this.matchStringConverter(t),i=this.matchStringConverter(e.value);this.options.matchCase||(n=n.toLowerCase(),i=i.toLowerCase());var r=i.indexOf(n);return this.options.matchInside?r>-1:0===r}return!0},e.Autocompleter.prototype.filterResult=function(t,n){return!1===this.options.filter||(e.isFunction(this.options.filter)?this.options.filter(t,n):this.defaultFilter(t,n))},e.Autocompleter.prototype.filterResults=function(e,n){var i,r,o=[];for(i=0;i<e.length;i++)r=t(e[i]),this.filterResult(r,n)&&o.push(r);return this.options.sortResults&&(o=this.sortResults(o,n)),this.options.maxItemsToShow>0&&this.options.maxItemsToShow<o.length&&(o.length=this.options.maxItemsToShow),o},e.Autocompleter.prototype.sortResults=function(t,n){var i=this,r=this.options.sortFunction;return e.isFunction(r)||(r=function(e,t,n){return function(e,t,n){return e=String(e.value),t=String(t.value),n||(e=e.toLowerCase(),t=t.toLowerCase()),e>t?1:e<t?-1:0}(e,t,i.options.matchCase)}),t.sort(function(e,t){return r(e,t,n,i.options)}),t},e.Autocompleter.prototype.matchStringConverter=function(t,n,i){var r=this.options.matchStringConverter;return e.isFunction(r)&&(t=r(t,n,i)),t},e.Autocompleter.prototype.beforeUseConverter=function(t){t=this.getValue(t);var n=this.options.beforeUseConverter;return e.isFunction(n)&&(t=n(t)),t},e.Autocompleter.prototype.enableFinishOnBlur=function(){this.finishOnBlur_=!0},e.Autocompleter.prototype.disableFinishOnBlur=function(){this.finishOnBlur_=!1},e.Autocompleter.prototype.createItemFromResult=function(t){var n=this,i=e("<li/>");return i.html(this.showResult(t.value,t.data)),i.data({value:t.value,data:t.data}).click(function(){n.selectItem(i)}).mousedown(n.disableFinishOnBlur).mouseup(n.enableFinishOnBlur),i},e.Autocompleter.prototype.getItems=function(){return e(">ul>li",this.dom.$results)},e.Autocompleter.prototype.showResults=function(t,n){var i,r,o,a,s=t.length,l=this,c=e("<ul></ul>"),u=!1,d=!1;if(s){for(i=0;i<s;i++)r=t[i],o=this.createItemFromResult(r),c.append(o),!1===u&&(u=String(r.value),d=o,o.addClass(this.options.firstItemClass)),i===s-1&&o.addClass(this.options.lastItemClass);this.dom.$results.html(c).show(),this.position(),this.options.autoWidth&&(a=this.dom.$elem.outerWidth()-this.dom.$results.outerWidth()+this.dom.$results.width(),this.dom.$results.css(this.options.autoWidth,a)),this.getItems().hover(function(){l.focusItem(this)},function(){}),(this.autoFill(u,n)||this.options.selectFirst||this.options.selectOnly&&1===s)&&this.focusItem(d),this.active_=!0}else this.hideResults(),this.active_=!1},e.Autocompleter.prototype.showResult=function(t,n){return e.isFunction(this.options.showResult)?this.options.showResult(t,n):e("<p></p>").text(t).html()},e.Autocompleter.prototype.autoFill=function(e,t){var n,i,r,o;if(this.options.autoFill&&8!==this.lastKeyPressed_&&(n=String(e).toLowerCase(),i=String(t).toLowerCase(),r=e.length,o=t.length,n.substr(0,o)===i)){var a=this.getDelimiterOffsets(),s=a.start?" ":"";this.setValue(s+e);var l=o+a.start+s.length,c=r+a.start+s.length;return this.selectRange(l,c),!0}return!1},e.Autocompleter.prototype.focusNext=function(){this.focusMove(1)},e.Autocompleter.prototype.focusPrev=function(){this.focusMove(-1)},e.Autocompleter.prototype.focusMove=function(t){var i=this.getItems();if(t=n(t,0))for(var r=0;r<i.length;r++)if(e(i[r]).hasClass(this.selectClass_))return void this.focusItem(r+t);this.focusItem(0)},e.Autocompleter.prototype.focusItem=function(t){var n,i=this.getItems();i.length&&(i.removeClass(this.selectClass_).removeClass(this.options.selectClass),"number"==typeof t?(t<0?t=0:t>=i.length&&(t=i.length-1),n=e(i[t])):n=e(t),n&&n.addClass(this.selectClass_).addClass(this.options.selectClass))},e.Autocompleter.prototype.selectCurrent=function(){var t=e("li."+this.selectClass_,this.dom.$results);1===t.length?this.selectItem(t):this.deactivate(!1)},e.Autocompleter.prototype.selectItem=function(e){var t=e.data("value"),n=e.data("data"),i=this.displayValue(t,n),r=this.beforeUseConverter(i);this.lastProcessedValue_=r,this.lastSelectedValue_=r;var o=this.getDelimiterOffsets(),a=this.options.delimiterChar,s=this.dom.$elem,l=0;this.options.useDelimiter&&(s.val().substring(o.start-1,o.start)==a&&" "!=a&&(i=" "+i),s.val().substring(o.end,o.end+1)!=a&&this.lastKeyPressed_!=this.options.delimiterKeyCode?i+=a:l=1),this.setValue(i),this.setCaret(o.start+i.length+l),this.callHook("onItemSelect",{value:t,data:n}),this.deactivate(!0),s.focus()},e.Autocompleter.prototype.displayValue=function(t,n){return e.isFunction(this.options.displayValue)?this.options.displayValue(t,n):t},e.Autocompleter.prototype.hideResults=function(){this.dom.$results.hide()},e.Autocompleter.prototype.deactivate=function(e){this.finishTimeout_&&clearTimeout(this.finishTimeout_),this.keyTimeout_&&clearTimeout(this.keyTimeout_),e&&(this.lastProcessedValue_!==this.lastSelectedValue_&&(this.options.mustMatch&&this.setValue(""),this.callHook("onNoMatch")),this.active_&&this.callHook("onFinish"),this.lastKeyPressed_=null,this.lastProcessedValue_=null,this.lastSelectedValue_=null,this.active_=!1),this.hideResults()},e.Autocompleter.prototype.selectRange=function(e,t){var n=this.dom.$elem.get(0);if(n.setSelectionRange)n.focus(),n.setSelectionRange(e,t);else if(n.createTextRange){var i=n.createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}},e.Autocompleter.prototype.setCaret=function(e){this.selectRange(e,e)},e.Autocompleter.prototype.getCaret=function(){var e,t,n,i,r,o,a=this.dom.$elem,s=a[0];return s.createTextRange?(t=document.selection,"textarea"!=s.tagName.toLowerCase()?(e=a.val(),(n=t.createRange().duplicate()).moveEnd("character",e.length),i=""===n.text?e.length:e.lastIndexOf(n.text),(n=t.createRange().duplicate()).moveStart("character",-e.length),r=n.text.length):((o=(n=t.createRange()).duplicate()).moveToElementText(s),o.setEndPoint("EndToEnd",n),r=(i=o.text.length-n.text.length)+n.text.length)):(i=a[0].selectionStart,r=a[0].selectionEnd),{start:i,end:r}},e.Autocompleter.prototype.setValue=function(e){if(this.options.useDelimiter){var t=this.dom.$elem.val(),n=this.getDelimiterOffsets();e=t.substring(0,n.start)+e+t.substring(n.end)}this.dom.$elem.val(e)},e.Autocompleter.prototype.getValue=function(e){if(this.options.useDelimiter){var t=this.getDelimiterOffsets();return e.substring(t.start,t.end).trim()}return e},e.Autocompleter.prototype.getDelimiterOffsets=function(){var e=this.dom.$elem.val();if(this.options.useDelimiter){var t=e.substring(0,this.getCaret().start).lastIndexOf(this.options.delimiterChar)+1,n=e.substring(this.getCaret().start).indexOf(this.options.delimiterChar);-1==n&&(n=e.length),n+=this.getCaret().start}else t=0,n=e.length;return{start:t,end:n}}}(e)}).call(this,n(0))},function(e,t,n){var i=n(432),r=i.slice,o=i.pluck,a=i.each,s=i.bind,l=i.create,c=i.isList,u=i.isFunction,d=i.isObject;e.exports={createStore:f};var h={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each(function(n,i){e.call(t,t._deserialize(n),(i||"").replace(t._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return f.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return f(this.storage,this.plugins,e)}};function f(e,t,n){n||(n=""),e&&!c(e)&&(e=[e]),t&&!c(t)&&(t=[t]);var i=n?"__storejs_"+n+"_":"",f=n?new RegExp("^"+i):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var p=l({_namespacePrefix:i,_namespaceRegexp:f,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(e){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function(){var t=r(arguments,0),i=this;var o=[function(){if(n)return a(arguments,function(e,n){t[n]=e}),n.apply(i,t)}].concat(t);return e.apply(i,o)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(t){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(c(e))a(e,function(e){t._addPlugin(e)});else if(!o(this.plugins,function(t){return e===t})){if(this.plugins.push(e),!u(e))throw new Error("Plugins must be function values that return objects");var n=e.call(this);if(!d(n))throw new Error("Plugins must return an object of function properties");a(n,function(n,i){if(!u(n))throw new Error("Bad plugin property: "+i+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,i)})}},addStorage:function(e){!function(){var e="undefined"==typeof console?null:console;e&&(e.warn?e.warn:e.log).apply(e,arguments)}("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},h,{plugins:[]});return p.raw={},a(p,function(e,t){u(e)&&(p.raw[t]=s(p,e))}),a(e,function(e){p._addStorage(e)}),a(t,function(e){p._addPlugin(e)}),p}},function(e,t,n){var i=n(432).Global;function r(){return i.localStorage}function o(e){return r().getItem(e)}e.exports={name:"localStorage",read:o,write:function(e,t){return r().setItem(e,t)},each:function(e){for(var t=r().length-1;t>=0;t--){var n=r().key(t);e(o(n),n)}},remove:function(e){return r().removeItem(e)},clearAll:function(){return r().clear()}}},function(e,t,n){var i=n(432).Global;function r(){return i.sessionStorage}function o(e){return r().getItem(e)}e.exports={name:"sessionStorage",read:o,write:function(e,t){return r().setItem(e,t)},each:function(e){for(var t=r().length-1;t>=0;t--){var n=r().key(t);e(o(n),n)}},remove:function(e){return r().removeItem(e)},clearAll:function(){return r().clear()}}},function(e,t,n){var i=n(432),r=i.Global,o=i.trim;e.exports={name:"cookieStorage",read:function(e){if(!e||!c(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(a.cookie.replace(new RegExp(t),"$1"))},write:function(e,t){if(!e)return;a.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"},each:s,remove:l,clearAll:function(){s(function(e,t){l(t)})}};var a=r.document;function s(e){for(var t=a.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(o(t[n])){var i=t[n].split("="),r=unescape(i[0]);e(unescape(i[1]),r)}}function l(e){e&&c(e)&&(a.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function c(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(a.cookie)}},function(e,t){e.exports={name:"memoryStorage",read:function(e){return n[e]},write:function(e,t){n[e]=t},each:function(e){for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)},remove:function(e){delete n[e]},clearAll:function(e){n={}}};var n={}},function(e,t,n){var i,r,o=function(e,t){return function(){return e.apply(t,arguments)}};!function(o,a){i=[n(0)],void 0!==(r=function(e){return o.Tour=a(e)}.apply(t,i))&&(e.exports=r)}(window,function(e){var t;return t=window.document,function(){function n(t){var n;this._showPopoverAndOverlay=o(this._showPopoverAndOverlay,this);try{n=window.localStorage}catch(e){n=!1}this._options=e.extend({name:"tour",steps:[],container:"body",autoscroll:!0,keyboard:!0,storage:n,debug:!1,backdrop:!1,backdropContainer:"body",backdropPadding:0,redirect:!0,orphan:!1,duration:!1,delay:!1,basePath:"",template:'<div class="popover" role="tooltip"> <div class="arrow"></div> <h3 class="popover-header"></h3> <div class="popover-body"></div> <div class="popover-navigation"> <div class="btn-group"> <button class="btn btn-sm btn-secondary" data-role="prev">&laquo; Prev</button> <button class="btn btn-sm btn-secondary" data-role="next">Next &raquo;</button> <button class="btn btn-sm btn-secondary" data-role="pause-resume" data-pause-text="Pause" data-resume-text="Resume">Pause</button> </div> <button class="btn btn-sm btn-secondary" data-role="end">End tour</button> </div> </div>',afterSetState:function(e,t){},afterGetState:function(e,t){},afterRemoveState:function(e){},onStart:function(e){},onEnd:function(e){},onShow:function(e){},onShown:function(e){},onHide:function(e){},onHidden:function(e){},onNext:function(e){},onPrev:function(e){},onPause:function(e,t){},onResume:function(e,t){},onRedirectError:function(e){}},t),this._force=!1,this._inited=!1,this._current=null,this.backdrops=[]}return n.prototype.addSteps=function(e){var t,n,i;for(t=0,n=e.length;t<n;t++)i=e[t],this.addStep(i);return this},n.prototype.addStep=function(e){return this._options.steps.push(e),this},n.prototype.getStep=function(t){if(null!=this._options.steps[t])return e.extend({id:"step-"+t,path:"",host:"",placement:"right",title:"",content:"<p></p>",next:t===this._options.steps.length-1?-1:t+1,prev:t-1,animation:!0,container:this._options.container,autoscroll:this._options.autoscroll,backdrop:this._options.backdrop,backdropContainer:this._options.backdropContainer,backdropPadding:this._options.backdropPadding,redirect:this._options.redirect,reflexElement:this._options.steps[t].element,backdropElement:this._options.steps[t].element,orphan:this._options.orphan,duration:this._options.duration,delay:this._options.delay,template:this._options.template,onShow:this._options.onShow,onShown:this._options.onShown,onHide:this._options.onHide,onHidden:this._options.onHidden,onNext:this._options.onNext,onPrev:this._options.onPrev,onPause:this._options.onPause,onResume:this._options.onResume,onRedirectError:this._options.onRedirectError},this._options.steps[t])},n.prototype.init=function(e){return this._force=e,this.ended()?(this._debug("Tour ended, init prevented."),this):(this.setCurrentStep(),this._initMouseNavigation(),this._initKeyboardNavigation(),null!==this._current&&this.showStep(this._current),this._inited=!0,this)},n.prototype.start=function(e){var t;return null==e&&(e=!1),this._inited||this.init(e),null===this._current&&(t=this._makePromise(null!=this._options.onStart?this._options.onStart(this):void 0),this._callOnPromiseDone(t,this.showStep,0)),this},n.prototype.next=function(){var e;return e=this.hideStep(this._current,this._current+1),this._callOnPromiseDone(e,this._showNextStep)},n.prototype.prev=function(){var e;return e=this.hideStep(this._current,this._current-1),this._callOnPromiseDone(e,this._showPrevStep)},n.prototype.goTo=function(e){var t;return t=this.hideStep(this._current,e),this._callOnPromiseDone(t,this.showStep,e)},n.prototype.end=function(){var n,i;return n=function(n){return function(i){if(e(t).off("click.tour-"+n._options.name),e(t).off("keyup.tour-"+n._options.name),n._setState("end","yes"),n._inited=!1,n._force=!1,n._clearTimer(),null!=n._options.onEnd)return n._options.onEnd(n)}}(this),i=this.hideStep(this._current),this._callOnPromiseDone(i,n)},n.prototype.ended=function(){return!this._force&&!!this._getState("end")},n.prototype.restart=function(){return this._removeState("current_step"),this._removeState("end"),this._removeState("redirect_to"),this.start()},n.prototype.pause=function(){var e;return(e=this.getStep(this._current))&&e.duration?(this._paused=!0,this._duration-=(new Date).getTime()-this._start,window.clearTimeout(this._timer),this._debug("Paused/Stopped step "+(this._current+1)+" timer ("+this._duration+" remaining)."),null!=e.onPause?e.onPause(this,this._duration):void 0):this},n.prototype.resume=function(){var e;return(e=this.getStep(this._current))&&e.duration?(this._paused=!1,this._start=(new Date).getTime(),this._duration=this._duration||e.duration,this._timer=window.setTimeout(function(e){return function(){return e._isLast()?e.next():e.end()}}(this),this._duration),this._debug("Started step "+(this._current+1)+" timer with duration "+this._duration),null!=e.onResume&&this._duration!==e.duration?e.onResume(this,this._duration):void 0):this},n.prototype.hideStep=function(t,n){var i,r,o,a;if(a=this.getStep(t))return this._clearTimer(),o=this._makePromise(null!=a.onHide?a.onHide(this,t):void 0),r=function(i){return function(r){var o,s;if((o=e(a.element)).data("bs.popover")||(o=e("body")),o.popover("dispose").removeClass("tour-"+i._options.name+"-element tour-"+i._options.name+"-"+t+"-element").removeData("bs.popover"),a.reflex&&e(a.reflexElement).removeClass("tour-step-element-reflex").off(i._reflexEvent(a.reflex)+".tour-"+i._options.name),a.backdrop&&((s=null!=n&&i.getStep(n))&&s.backdrop&&s.backdropElement===a.backdropElement||i._hideOverlayElement(a)),null!=a.onHidden)return a.onHidden(i)}}(this),i=a.delay.hide||a.delay,"[object Number]"==={}.toString.call(i)&&i>0?(this._debug("Wait "+i+" milliseconds to hide the step "+(this._current+1)),window.setTimeout(function(e){return function(){return e._callOnPromiseDone(o,r)}}(this),i)):this._callOnPromiseDone(o,r),o},n.prototype.showStep=function(e){var n,i,r,o,a,s;return this.ended()?(this._debug("Tour ended, showStep prevented."),this):(s=this.getStep(e))&&(a=e<this._current,i=this._makePromise(null!=s.onShow?s.onShow(this,e):void 0),this.setCurrentStep(e),n=function(){switch({}.toString.call(s.path)){case"[object Function]":return s.path();case"[object String]":return this._options.basePath+s.path;default:return s.path}}.call(this),!s.redirect||!this._isRedirect(s.host,n,t.location)||(this._redirect(s,e,n),this._isJustPathHashDifferent(s.host,n,t.location)))?(o=function(t){return function(n){if(t._isOrphan(s)){if(!1===s.orphan)return t._debug("Skip the orphan step "+(t._current+1)+".\nOrphan option is false and the element does not exist or is hidden."),void(a?t._showPrevStep():t._showNextStep());t._debug("Show the orphan step "+(t._current+1)+". Orphans option is true.")}if(s.autoscroll?t._scrollIntoView(e):t._showPopoverAndOverlay(e),s.duration)return t.resume()}}(this),r=s.delay.show||s.delay,"[object Number]"==={}.toString.call(r)&&r>0?(this._debug("Wait "+r+" milliseconds to show the step "+(this._current+1)),window.setTimeout(function(e){return function(){return e._callOnPromiseDone(i,o)}}(this),r)):this._callOnPromiseDone(i,o),i):void 0},n.prototype.getCurrentStep=function(){return this._current},n.prototype.setCurrentStep=function(e){return null!=e?(this._current=e,this._setState("current_step",e)):(this._current=this._getState("current_step"),this._current=null===this._current?null:parseInt(this._current,10)),this},n.prototype.redraw=function(){return this._showOverlayElement(this.getStep(this.getCurrentStep()))},n.prototype._setState=function(e,t){var n;if(this._options.storage){n=this._options.name+"_"+e;try{this._options.storage.setItem(n,t)}catch(e){e.code===DOMException.QUOTA_EXCEEDED_ERR&&this._debug("LocalStorage quota exceeded. State storage failed.")}return this._options.afterSetState(n,t)}return null==this._state&&(this._state={}),this._state[e]=t},n.prototype._removeState=function(e){var t;return this._options.storage?(t=this._options.name+"_"+e,this._options.storage.removeItem(t),this._options.afterRemoveState(t)):null!=this._state?delete this._state[e]:void 0},n.prototype._getState=function(e){var t,n;return this._options.storage?(t=this._options.name+"_"+e,n=this._options.storage.getItem(t)):null!=this._state&&(n=this._state[e]),void 0!==n&&"null"!==n||(n=null),this._options.afterGetState(e,n),n},n.prototype._showNextStep=function(){var e,t,n;return n=this.getStep(this._current),t=function(e){return function(t){return e.showStep(n.next)}}(this),e=this._makePromise(null!=n.onNext?n.onNext(this):void 0),this._callOnPromiseDone(e,t)},n.prototype._showPrevStep=function(){var e,t,n;return n=this.getStep(this._current),t=function(e){return function(t){return e.showStep(n.prev)}}(this),e=this._makePromise(null!=n.onPrev?n.onPrev(this):void 0),this._callOnPromiseDone(e,t)},n.prototype._debug=function(e){if(this._options.debug)return window.console.log("Bootstrap Tour '"+this._options.name+"' | "+e)},n.prototype._isRedirect=function(e,t,n){var i;return!(null==e||""===e||!("[object RegExp]"==={}.toString.call(e)&&!e.test(n.origin)||"[object String]"==={}.toString.call(e)&&this._isHostDifferent(e,n)))||(i=[n.pathname,n.search,n.hash].join(""),null!=t&&""!==t&&("[object RegExp]"==={}.toString.call(t)&&!t.test(i)||"[object String]"==={}.toString.call(t)&&this._isPathDifferent(t,i)))},n.prototype._isHostDifferent=function(e,t){switch({}.toString.call(e)){case"[object RegExp]":return!e.test(t.origin);case"[object String]":return this._getProtocol(e)!==this._getProtocol(t.href)||this._getHost(e)!==this._getHost(t.href);default:return!0}},n.prototype._isPathDifferent=function(e,t){return this._getPath(e)!==this._getPath(t)||!this._equal(this._getQuery(e),this._getQuery(t))||!this._equal(this._getHash(e),this._getHash(t))},n.prototype._isJustPathHashDifferent=function(e,t,n){var i;return(null==e||""===e||!this._isHostDifferent(e,n))&&(i=[n.pathname,n.search,n.hash].join(""),"[object String]"==={}.toString.call(t)&&(this._getPath(t)===this._getPath(i)&&this._equal(this._getQuery(t),this._getQuery(i))&&!this._equal(this._getHash(t),this._getHash(i))))},n.prototype._redirect=function(n,i,r){var o;return e.isFunction(n.redirect)?n.redirect.call(this,r):(o="[object String]"==={}.toString.call(n.host)?""+n.host+r:r,this._debug("Redirect to "+o),this._getState("redirect_to")!==""+i?(this._setState("redirect_to",""+i),t.location.href=o):(this._debug("Error redirection loop to "+r),this._removeState("redirect_to"),null!=n.onRedirectError?n.onRedirectError(this):void 0))},n.prototype._isOrphan=function(t){return null==t.element||!e(t.element).length||e(t.element).is(":hidden")&&"http://www.w3.org/2000/svg"!==e(t.element)[0].namespaceURI},n.prototype._isLast=function(){return this._current<this._options.steps.length-1},n.prototype._showPopoverAndOverlay=function(e){var t;if(this.getCurrentStep()===e&&!this.ended())return(t=this.getStep(e)).backdrop&&this._showOverlayElement(t),this._showPopover(t,e),null!=t.onShown&&t.onShown(this),this._debug("Step "+(this._current+1)+" of "+this._options.steps.length)},n.prototype._showPopover=function(t,n){var i,r,o;return e(".tour-"+this._options.name).remove(),o=e.extend({},this._options),r=this._isOrphan(t),t.template=this._template(t,n),r&&(t.element="body",t.placement="top"),(i=e(t.element)).addClass("tour-"+this._options.name+"-element tour-"+this._options.name+"-"+n+"-element"),t.options&&e.extend(o,t.options),t.reflex&&!r&&e(t.reflexElement).addClass("tour-step-element-reflex").off(this._reflexEvent(t.reflex)+".tour-"+this._options.name).on(this._reflexEvent(t.reflex)+".tour-"+this._options.name,function(e){return function(){return e._isLast()?e.next():e.end()}}(this)),i.popover({placement:t.placement,trigger:"manual",title:t.title,content:t.content,html:!0,animation:t.animation,container:t.container,template:t.template,selector:t.element}).popover("show"),e(i.data("bs.popover").getTipElement()).attr("id",t.id)},n.prototype._template=function(t,n){var i,r,o,a,s,l;return l=t.template,this._isOrphan(t)&&"[object Boolean]"!=={}.toString.call(t.orphan)&&(l=t.orphan),o=(i=(s=e.isFunction(l)?e(l(n,t)):e(l)).find(".popover-navigation")).find('[data-role="prev"]'),r=i.find('[data-role="next"]'),a=i.find('[data-role="pause-resume"]'),this._isOrphan(t)&&s.addClass("orphan"),s.addClass("tour-"+this._options.name+" tour-"+this._options.name+"-"+n),t.reflex&&s.addClass("tour-"+this._options.name+"-reflex"),t.prev<0&&o.addClass("disabled").prop("disabled",!0).prop("tabindex",-1),t.next<0&&r.addClass("disabled").prop("disabled",!0).prop("tabindex",-1),t.duration||a.remove(),s.clone().wrap("<div>").parent().html()},n.prototype._reflexEvent=function(e){return"[object Boolean]"==={}.toString.call(e)?"click":e},n.prototype._scrollIntoView=function(t){var n,i,r,o,a,s,l,c;if(l=this.getStep(t),!(n=e(l.element)).length)return this._showPopoverAndOverlay(t);switch(i=e(window),a=n.offset().top,o=n.outerHeight(),c=i.height(),s=0,l.placement){case"top":s=Math.max(0,a-c/2);break;case"left":case"right":s=Math.max(0,a+o/2-c/2);break;case"bottom":s=Math.max(0,a+o-c/2)}return this._debug("Scroll into view. ScrollTop: "+s+". Element offset: "+a+". Window height: "+c+"."),r=0,e("body, html").stop(!0,!0).animate({scrollTop:Math.ceil(s)},function(e){return function(){if(2==++r)return e._showPopoverAndOverlay(t),e._debug("Scroll into view.\nAnimation end element offset: "+n.offset().top+".\nWindow height: "+i.height()+".")}}(this))},n.prototype._initMouseNavigation=function(){var n;return n=this,e(t).off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']").on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']",function(e){return function(t){return t.preventDefault(),e.next()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']",function(e){return function(t){if(t.preventDefault(),e._current>0)return e.prev()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']",function(e){return function(t){return t.preventDefault(),e.end()}}(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']",function(t){var i;return t.preventDefault(),(i=e(this)).text(n._paused?i.data("pause-text"):i.data("resume-text")),n._paused?n.resume():n.pause()})},n.prototype._initKeyboardNavigation=function(){if(this._options.keyboard)return e(t).on("keyup.tour-"+this._options.name,function(e){return function(t){if(t.which)switch(t.which){case 39:return t.preventDefault(),e._isLast()?e.next():e.end();case 37:if(t.preventDefault(),e._current>0)return e.prev()}}}(this))},n.prototype._makePromise=function(t){return t&&e.isFunction(t.then)?t:null},n.prototype._callOnPromiseDone=function(e,t,n){return e?e.then(function(e){return function(i){return t.call(e,n)}}(this)):t.call(this,n)},n.prototype._showBackground=function(n,i){var r,o,a,s,l,c,u,d,h;for(a=e(t).height(),h=e(t).width(),d=[],s=0,l=(u=["top","bottom","left","right"]).length;s<l;s++)switch(c=u[s],r=null!=(o=this.backdrops)[c]?o[c]:o[c]=e("<div>",{class:"tour-backdrop "+c}),e(n.backdropContainer).append(r),c){case"top":d.push(r.height(i.offset.top>0?i.offset.top:0).width(h).offset({top:0,left:0}));break;case"bottom":d.push(r.offset({top:i.offset.top+i.height,left:0}).height(a-(i.offset.top+i.height)).width(h));break;case"left":d.push(r.offset({top:i.offset.top,left:0}).height(i.height).width(i.offset.left>0?i.offset.left:0));break;case"right":d.push(r.offset({top:i.offset.top,left:i.offset.left+i.width}).height(i.height).width(h-(i.offset.left+i.width)));break;default:d.push(void 0)}return d},n.prototype._showOverlayElement=function(t){var n,i;return 0===(n=e(t.backdropElement)).length?i={width:0,height:0,offset:{top:0,left:0}}:(i={width:n.innerWidth(),height:n.innerHeight(),offset:n.offset()},n.addClass("tour-step-backdrop"),t.backdropPadding&&(i=this._applyBackdropPadding(t.backdropPadding,i))),this._showBackground(t,i)},n.prototype._hideOverlayElement=function(t){var n,i,r;for(i in e(t.backdropElement).removeClass("tour-step-backdrop"),r=this.backdrops)(n=r[i])&&void 0!==n.remove&&n.remove();return this.backdrops=[]},n.prototype._applyBackdropPadding=function(e,t){return"object"==typeof e?(null==e.top&&(e.top=0),null==e.right&&(e.right=0),null==e.bottom&&(e.bottom=0),null==e.left&&(e.left=0),t.offset.top=t.offset.top-e.top,t.offset.left=t.offset.left-e.left,t.width=t.width+e.left+e.right,t.height=t.height+e.top+e.bottom):(t.offset.top=t.offset.top-e,t.offset.left=t.offset.left-e,t.width=t.width+2*e,t.height=t.height+2*e),t},n.prototype._clearTimer=function(){return window.clearTimeout(this._timer),this._timer=null,this._duration=null},n.prototype._getProtocol=function(e){return(e=e.split("://")).length>1?e[0]:"http"},n.prototype._getHost=function(e){return(e=(e=e.split("//")).length>1?e[1]:e[0]).split("/")[0]},n.prototype._getPath=function(e){return e.replace(/\/?$/,"").split("?")[0].split("#")[0]},n.prototype._getQuery=function(e){return this._getParams(e,"?")},n.prototype._getHash=function(e){return this._getParams(e,"#")},n.prototype._getParams=function(e,t){var n,i,r,o,a;if(1===(o=e.split(t)).length)return{};for(a={},n=0,i=(o=o[1].split("&")).length;n<i;n++)a[(r=(r=o[n]).split("="))[0]]=r[1]||"";return a},n.prototype._equal=function(e,t){var n,i,r,o,a,s;if("[object Object]"==={}.toString.call(e)&&"[object Object]"==={}.toString.call(t)){if(o=Object.keys(e),a=Object.keys(t),o.length!==a.length)return!1;for(i in e)if(s=e[i],!this._equal(t[i],s))return!1;return!0}if("[object Array]"==={}.toString.call(e)&&"[object Array]"==={}.toString.call(t)){if(e.length!==t.length)return!1;for(i=n=0,r=e.length;n<r;i=++n)if(s=e[i],!this._equal(s,t[i]))return!1;return!0}return e===t},n}()})},,function(e,t,n){"use strict";var i=n(439);n.n(i).a},,function(e,t,n){"use strict";var i=n(441);n.n(i).a},function(e,t,n){"use strict";var i=n(444);n.n(i).a},function(e,t,n){"use strict";var i=n(445);n.n(i).a},,function(e,t,n){"use strict";var i=n(447);n.n(i).a},function(e,t,n){"use strict";var i=n(448);n.n(i).a},function(e,t,n){"use strict";var i=n(449);n.n(i).a}]]);