define(["exports","utils/mock"],function(o,r){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.installMonitor=function(a,o){var i="window.".concat(a),c=l(a)?console:t,r=window[a]||o;window._monitorStorage[a]=r,c.groupCollapsed("".concat(i," populating monitor storage with initial value")),c.log(r),c.groupEnd();try{Object.defineProperty(window,a,{enumerable:!0,configurable:!1,get:function(){var o=void 0;c.groupCollapsed("".concat(i," read")),c.trace();try{o=window._monitorStorage[a],c.log(o)}catch(o){c.warn("Unable to retrieve"),c.warn(o)}return c.groupEnd(),o},set:function(o){c.groupCollapsed("".concat(i," write..."),String(o)),c.trace();try{window._monitorStorage[a]=o}catch(o){c.log("Unable to set value on window facade"),c.warn(o)}c.groupEnd()}})}catch(o){c.warn("Unable to install facade",o)}return new Proxy({},{get:function(o,r){var t=void 0;c.groupCollapsed("".concat(i,".").concat(r," read")),c.trace();try{var n=window[a];t=n[r]}catch(o){c.warn("Unable to retrieve property from proxy",r),c.warn(o)}return c.groupEnd(),t},set:function(o,r,t){var n=!0;c.groupCollapsed("".concat(i,".").concat(r," write")),c.trace();try{var e=window[a];c.log("new value",String(t)),e[r]=t}catch(o){c.warn("Unable to write",a,t),n=!1}return c.groupEnd(),n}})},o.showMonitoredProperties=n,o.toggleGlobalMonitor=e,o.isPropMonitored=l;var t=(0,r.mock)(console);function n(){return Object.keys(window._monitorStorage)}function e(o){var r,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=a();return n[o]=Boolean(t),r=n,sessionStorage.setItem("global_monitors",JSON.stringify(r)),n}function l(o){return 1==a()[o]}function a(){var o=sessionStorage.getItem("global_monitors");return o?JSON.parse(o):{}}window._monitorStorage=window._monitorStorage||{},window.showMonitoredProperties=n,window.toggleGlobalMonitor=e});