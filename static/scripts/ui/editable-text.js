define(["jquery"],function(t){"use strict";var e;var d=((e=t)&&e.__esModule?e:{default:e}).default;d.fn.make_text_editable=function(u){var l="num_cols"in u?u.num_cols:30,o="num_rows"in u?u.num_rows:4,r="use_textarea"in u&&u.use_textarea,s="on_finish"in u?u.on_finish:null,t="help_text"in u?u.help_text:null,c=d(this);return c.addClass("editable-text").click(function(t){if(!(0<d(this).children(":input").length)){c.removeClass("editable-text");var e,n,i=function(t){c.find(":input").remove(),""!==t?c.text(t):c.html("<br>"),c.addClass("editable-text"),s&&s(t)},a="cur_text"in u?u.cur_text:c.text();r?(e=d("<textarea/>").attr({rows:o,cols:l}).text(d.trim(a)).keyup(function(t){27===t.keyCode&&i(a)}),n=d("<button/>").addClass("btn-sm float-right").text("Done").click(function(){return i(e.val()),!1})):e=d("<input type='text'/>").attr({value:d.trim(a),size:l}).blur(function(){i(a)}).keyup(function(t){27===t.keyCode?d(this).trigger("blur"):13===t.keyCode&&i(d(this).val()),t.stopPropagation()}),c.text(""),c.append(e),n&&c.append(n),e.focus(),e.select(),t.stopPropagation()}}),t&&c.attr("title",t).tooltip(),c}});