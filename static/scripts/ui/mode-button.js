define(["jquery"],function(t){"use strict";var e;var n=((e=t)&&e.__esModule?e:{default:e}).default;function r(t,e){return this.currModeIndex=0,this._init(t,e)}r.prototype.DATA_KEY="mode-button",r.prototype.defaults={switchModesOnClick:!0},r.prototype._init=function(t,e){if(e=e||{},this.$element=n(t),this.options=n.extend(!0,{},this.defaults,e),!e.modes)throw new Error('ModeButton requires a "modes" array');var o=this;return this.$element.click(function(t){o.callModeFn(),o.options.switchModesOnClick&&o._incModeIndex(),n(this).html(o.options.modes[o.currModeIndex].html)}),this.reset()},r.prototype._incModeIndex=function(){return this.currModeIndex+=1,this.currModeIndex>=this.options.modes.length&&(this.currModeIndex=0),this},r.prototype._getModeIndex=function(t){for(var e=0;e<this.options.modes.length;e+=1)if(this.options.modes[e].mode===t)return e;throw new Error("mode not found: ".concat(t))},r.prototype._setModeByIndex=function(t){var e=this.options.modes[t];if(!e)throw new Error("mode index not found: ".concat(t));return this.currModeIndex=t,e.html&&this.$element.html(e.html),this},r.prototype.currentMode=function(){return this.options.modes[this.currModeIndex]},r.prototype.current=function(){return this.currentMode().mode},r.prototype.getMode=function(t){return t?this.options.modes[this._getModeIndex(t)]:this.currentMode()},r.prototype.hasMode=function(t){try{return!!this.getMode(t)}catch(t){}return!1},r.prototype.setMode=function(t){return this._setModeByIndex(this._getModeIndex(t))},r.prototype.reset=function(){return this.currModeIndex=0,this.options.initialMode&&(this.currModeIndex=this._getModeIndex(this.options.initialMode)),this._setModeByIndex(this.currModeIndex)},r.prototype.callModeFn=function(t){var e=this.getMode(t).onclick;if(e&&n.type("function"===e))return e.call(this.$element.get(0))},n.fn.modeButton=function(e){if(!this.length)return this;if("object"===n.type(e))return this.map(function(){var t=n(this);return t.data("mode-button",new r(t,e)),this});var t=n(this[0]).data("mode-button");if(!t)throw new Error("modeButton needs an options object or string name of a function");if(t&&"string"===n.type(e)){var o=e;if(t&&"function"===n.type(t[o]))return t[o].apply(t,n.makeArray(arguments).slice(1))}return t}});