define(["jquery"],function(e){"use strict";var n,c=(n=e)&&n.__esModule?n:{default:n};var l=c.default,r=window._l||function(e){return e};function t(e,t){var n=l(e),a=!0;function i(e){l(this).parent().children("input").val("").trigger("searchInput.clear").blur(),t.onclear()}return"string"===c.default.type(t)?("toggle-loading"===t&&(n.find(".search-loading").toggle(),n.find(".search-clear").toggle()),n):("object"===c.default.type(t)&&(t=c.default.extend(!0,{},{initialVal:"",name:"search",placeholder:"search",classes:"",onclear:function(){},onfirstsearch:null,onsearch:function(e){},minSearchLen:0,escWillClear:!0,oninit:function(){}},t)),n.addClass("search-input").prepend([l(['<input type="text" name="',t.name,'" placeholder="',t.placeholder,'" ','class="search-query ',t.classes,'" ',"/>"].join("")).focus(function(e){l(this).select()}).keyup(function(e){if(e.preventDefault(),e.stopPropagation(),27===e.which&&t.escWillClear)i.call(this,e);else{var n=l(this).val();(13===e.which||t.minSearchLen&&n.length>=t.minSearchLen)&&function(e,n){if(!n)return i();l(this).trigger("search.search",n),"function"==typeof t.onfirstsearch&&a?(a=!1,t.onfirstsearch(n)):t.onsearch(n)}.call(this,e,n)}}).val(t.initialVal),l(['<span class="search-clear fa fa-times-circle" ','title="',r("clear search (esc)"),'"></span>'].join("")).tooltip({placement:"bottom"}).click(function(e){i.call(this,e)}),l(['<span class="search-loading fa fa-spinner fa-spin" ','title="',r("loading..."),'"></span>'].join("")).hide().tooltip({placement:"bottom"})]))}c.default.fn.extend({searchInput:function(e){return this.each(function(){return t(this,e)})}})});