define(["exports","jquery","backbone","onload/loadConfig","app","utils/query-string-parsing","mvc/ui/ui-misc"],function(e,t,a,i,n,s,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=p(t),o=p(a),c=p(s),d=p(r);function p(e){return e&&e.__esModule?e:{default:e}}var l=o.default.Router.extend({initialize:function(e,t){this.page=e,this.options=t},executeUseRouter:function(e){var t=(0,i.getAppRoot)();return e.startsWith(t)&&(e=e.replace(t,"/")),this.push(e)},push:function(e,t){(t=t||{}).__identifer=Math.random().toString(36).substr(2),e+=-1==e.indexOf("?")?"?":"&";var a=u.default.param(t,!0);e+=a,(0,n.getGalaxyInstance)().params=t,this.navigate(e,{trigger:!0}),window.history.replaceState(window.history.state,"",window.location.pathname.replace(a,""))},execute:function(e,t,a){(0,n.getGalaxyInstance)().debug("router execute:",e,t,a);var i=c.default.parse(t.pop());t.push(i),e&&(this.authenticate(t,a)?e.apply(this,t):this.access_denied())},authenticate:function(e,t){return!0},access_denied:function(){this.page.display(new d.default.Message({status:"danger",message:"You must be logged in with proper credentials to make this request.",persistent:!0}))}});e.default=l});