define(["exports","libs/toastr","toolshed/groups/group-model","toolshed/groups/group-listrow-view"],function(e,t,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};r.get||r.set?Object.defineProperty(t,o,r):t[o]=e[o]}return t.default=e,t}}(t),i=u(o),n=u(r);function u(e){return e&&e.__esModule?e:{default:e}}var l=Backbone.View.extend({el:"#groups_element",defaults:{},initialize:function(e){this.options=_.defaults(this.options||{},this.defaults,e);var t=this;window.globalTS.groups.collection=new i.default.Groups,window.globalTS.groups.collection.fetch({success:function(e){t.render()},error:function(e,t){void 0!==t.responseJSON?s.error(t.responseJSON.err_msg):s.error("An error occurred.")}})},fetch:function(){},render:function(e){this.options=_.extend(this.options,e),$(".tooltip").hide();var t=this.templateGroupsList();this.$el.html(t({length:window.globalTS.groups.collection.models.length})),this.renderRows(window.globalTS.groups.collection.models),$('#center [data-toggle="tooltip"]').tooltip({trigger:"hover"}),$("#center").css("overflow","auto")},renderRows:function(e){for(var t=0;t<e.length;t++){var o=e[t];this.renderOne({group:o})}},renderOne:function(e){var t=new n.default.GroupListRowView(e);this.$el.find("#group_list_body").append(t.el)},templateGroupsList:function(){var e=[];return e.push('<div id="groups">'),e.push("</div>"),e.push('<div class="groups_container table-responsive">'),e.push("<% if(length === 0) { %>"),e.push("<div>There are no groups yet.</div>"),e.push("<% } else{ %>"),e.push('<table class="grid table table-sm">'),e.push("   <thead>"),e.push("     <th>Name</th>"),e.push("     <th>Members</th> "),e.push("     <th>Repositories</th>"),e.push("   </thead>"),e.push('   <tbody id="group_list_body">'),e.push("   </tbody>"),e.push("</table>"),e.push("<% }%>"),e.push("</div>"),_.template(e.join(""))}});e.default={GroupListView:l}});