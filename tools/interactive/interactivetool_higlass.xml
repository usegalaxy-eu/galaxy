<tool id="interactive_tool_higlass" tool_type="interactive" name="HiGlass" version="1.8.0">
    <description>an interactive Hi-C data visualizer</description>
    <requirements>
        <container type="docker">higlass/higlass-docker</container>
    </requirements>
    <entry_points>
        <entry_point name="HiGlass Visualisation on $matrix.display_name" requires_domain="True">
            <port>80</port>
        </entry_point>
    </entry_points>
    <command><![CDATA[
        mkdir higlass-local-data
        && mkdir higlass-local-tmp
        
        && ln -s '$matrix' 'higlass-local-tmp/matrix_name.$matrix.ext'
         
        && python higlass-server/manage.py ingest_tileset --filename '/tmp/matrix_name.$matrix.ext' --filetype cooler --datatype matrix
        
    ]]>
    </command>
    <inputs>
        <param name="matrix" type="data" format="cool" label="Cool file with multiple resolutions"/>
    </inputs>
    <outputs>
        <data name="outfile" format="txt" />
    </outputs>
    <tests>
    </tests>
    <help>
    Interactive tool for visualising Hi-C data, works only for multi-cooler files which store multiple resolutions.
    For a detailed documentaition please visit https://docs.higlass.io/.
    </help>
    <xml name="citations">
        <citations>
            <citation type="doi">10.1186/s13059-018-1486-1</citation>
        </citations>
    </xml>
</tool>
